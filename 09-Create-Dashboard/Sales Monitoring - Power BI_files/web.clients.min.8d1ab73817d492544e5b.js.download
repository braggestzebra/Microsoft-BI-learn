"use strict";var marker,vn=Object.defineProperty,mn=(ve,j,e)=>j in ve?vn(ve,j,{enumerable:!0,configurable:!0,writable:!0,value:e}):ve[j]=e,vr=(ve,j,e)=>(mn(ve,"symbol"!=typeof j?j+"":j,e),e);this.parseTimeMarkers=this.parseTimeMarkers||{},(marker=this.parseTimeMarkers["web.clients.js"]||(this.parseTimeMarkers["web.clients.js"]={})).startEval=window.jsCommon&&window.jsCommon.performance&&window.jsCommon.performance.now?window.jsCommon.performance.now():Date.now(),window.perfTracking&&window.perfTracking.startBundleEval&&window.perfTracking.startBundleEval("web.clients.js"),(self.webpackChunkweb=self.webpackChunkweb||[]).push([[8],{213190:function(ve,j,e){e.d(j,{JO:function(){return s},LN:function(){return w},OI:function(){return v},VA:function(){return p},cG:function(){return A},hN:function(){return B},lr:function(){return R},ms:function(){return d},ty:function(){return i},yE:function(){return M}});var r=e(742427),i="contentPackDirty",p=-1,s="#loading#",d="#error#",v="CannotDeleteModelPublishedToOrganizationalApp",w=!1,M="/"+(0,r.Xr)()+"/images/modelPlaceholder.png",A=function(N){return N[N.Large=0]="Large",N[N.Regular=1]="Regular",N[N.Small=2]="Small",N}({}),R="1.7",B="No visual type"},313614:function(ve,j,e){e.d(j,{On:function(){return a},sF:function(){return r},u1:function(){return i}});var r=function(t){return t.Light="Light",t.Dark="Dark",t.ColorBlindFriendly="Color-blind friendly",t}({}),i={Light:"Light",Dark:"Dark","Color-blind friendly":"Color_Blind_Friendly",Custom:"Custom"};function a(){return{[r.Light]:{name:r.Light,foreground:"#000000",background:"#EAEAEA",dataColors:["#01B8AA","#374649","#FD625E","#F2C80F","#5F6B6D","#8AD4EB","#FE9666","#A66999"],tiles:{background:"#FFFFFF",color:"#000000"},visualStyles:{"*":{"*":{"*":[{color:{solid:{color:"#000000"}}}]}}}},[r.Dark]:{name:r.Dark,foreground:"#FFFFFF",background:"#484644",dataColors:["#51CFBE","#F55965","#FE9666","#92BEFF","#B577DF","#29B9EF","#3599B8","#DFBFBF"],tableAccent:"#E2A84E",tiles:{background:"#2B2B30",color:"#FFFFFF"},visualStyles:{"*":{"*":{"*":[{color:{solid:{color:"#FFFFFF"}}},{labelColor:{solid:{color:"#CECECE"}}}]}}}},[r.ColorBlindFriendly]:{name:r.ColorBlindFriendly,background:"#EAEAEA",foreground:"#000000",dataColors:["#074650","#009292","#FE6DB6","#FEB5DA","#480091","#B66DFF","#B5DAFE","#6DB6FF","#914800","#23FD23"],tiles:{background:"#FFFFFF",color:"#000000"},visualStyles:{"*":{"*":{"*":[{color:{solid:{color:"#000000"}}}]}}}}}}},204009:function(ve,j,e){e.d(j,{G7:function(){return a},YU:function(){return r},pF:function(){return i}});var r=function(t){return t[t.composite=0]="composite",t[t.iframe=1]="iframe",t[t.image=2]="image",t[t.model=3]="model",t[t.ssrs=4]="ssrs",t[t.workbook=5]="workbook",t[t.report=6]="report",t[t.realTime=8]="realTime",t}({}),i=function(t){return t[t.NamedRange=0]="NamedRange",t[t.Parameter=1]="Parameter",t[t.Table=2]="Table",t[t.PivotTable=3]="PivotTable",t[t.Chart=4]="Chart",t[t.WebExtension=5]="WebExtension",t}({}),a=function(t){return t[t.PowerBIServiceException=0]="PowerBIServiceException",t[t.DSRException=1]="DSRException",t}({})},529694:function(ve,j,e){e.d(j,{g:function(){return r}});var r=function(i){return i.Home="home",i.Report="report",i.Dashboard="dashboard",i.GoalsHub="goalshub",i.Apps="contentprovider",i.DataHub="datahub",i}({})},506991:function(ve,j,e){e.d(j,{NQ:function(){return i},a7:function(){return a}});var r=e(110159),i={name:"syncServiceDashboardEdited",type:r.u.Global},a={name:"syncServiceDashboardDeepEdited",type:r.u.Global}},548658:function(ve,j,e){e.d(j,{_p:function(){return a}});var a={color:"#374649",fontColor:"#FFF"}},6254:function(ve,j,e){e.d(j,{m:function(){return r}});var r=function(i){return i[i.Dashboard=0]="Dashboard",i[i.Report=1]="Report",i[i.Model=2]="Model",i[i.Workbook=3]="Workbook",i}({})},294278:function(ve,j,e){e.d(j,{A:function(){return l}});var r=e(737865),i=e(16990),a=e(307873);class l{constructor(n){this.contract=n,this.isEnabled=!0,this.isUsedByContentPack=!1,this.isLoaded=n&&null!=n.tiles,this.hitCount=0,this.lazyTiles=null,this.uniqueId=`${r.ty.Dashboard}_${this.contract.id}`}getPermissions(){var n;return this.getPermissionsCallback&&null!=(n=this.getPermissionsCallback())?n:this.contract&&this.contract.permissions}increaseHitCount(){this.hitCount++}get tiles(){return this.lazyTiles||(this.lazyTiles=new i.o(()=>[])),this.lazyTiles.getValue()}get id(){return this.contract.id}set id(n){this.contract.id=n}get folderId(){return this.contract.folderId}set folderId(n){this.contract.folderId=n}get objectId(){return this.contract.objectId}get canEdit(){return(0,a.cl)(this.contract)&&!(this.gridLayoutService&&this.gridLayoutService.strategy.isLayoutLocked)}get contentTileType(){return r.ty.Dashboard}isFilled(){return this.contract.tiles&&this.tiles.length===this.contract.tiles.length}calculateLayout(){this.layoutRequired=!1;var n=this.tiles;if(!_.isEmpty(n))for(var p of n)p.calculateLayout()}applyLayout(){var n=this.tiles;if(!_.isEmpty(n))for(var p of n)p.applyLayout()}runLayoutIfRequired(){this.layoutRequired&&(this.calculateLayout(),this.applyLayout())}scheduleDelayedLayout(n=!1){this.layoutRequired||(this.layoutRequired=!0,n||setTimeout(()=>{this.layoutRequired&&(this.calculateLayout(),this.applyLayout())},100))}findTile(n){return _.find(this.tiles,p=>p.id===n)}findTileByObjectIdOrOriginalObjectId(n,p){if(n||p)return _.find(this.tiles,s=>!_.isEmpty(n)&&s.contract.objectId===n||!_.isEmpty(p)&&s.contract.originalTileObjectId===p)}getTileIndex(n){return _.findIndex(this.tiles,p=>p.id===n)}getTileContractIndex(n){return _.findIndex(this.contract.tiles,p=>p.id===n)}getUniquePackageId(){var n=this.contract;return n.originalPackageId?n.originalPackageId:n.packageIds&&1===n.packageIds.length?n.packageIds[0]:void 0}hasModel(n){return _.some(this.tiles,p=>p.contract.modelId===n)}hasOwnerInfo(){return!_.isEmpty(this.ownerFullname)||!_.isEmpty(this.ownerMail)}}},26780:function(ve,j,e){e.d(j,{b:function(){return t}});var r=e(204009),i=e(447847),a=e(712668);function t(l,g){if(l&&l.type===r.YU.realTime){var n=g.tileModelConverter.convertTileConfig(l);g.tileModelConverter.convertTileLayoutConfig(l);var p=new a.V(l,g.visualPlugin,g.visualPluginOps,g.featureSwitchService,g.geolocationService,g.geocoder,g.promiseFactory,g.moduleLoader,g.telemetryService,g.themeService,g.authenticationService,g.localizationService,g.visualHostTooltipService,g.azureMapTokenCache,g.azureMapsEndpoint,g.geocoderIndexedDB);n&&n.realTimeVisual&&(p.config=n.realTimeVisual),p.displayText=l.displayText,p.subDisplayText=l.subDisplayText;var s=(0,i.gq)(l);return p.size={rowSpan:s.height,colSpan:s.width},p}}},527861:function(ve,j,e){e.d(j,{Gj:function(){return O},NP:function(){return R},O4:function(){return P},qX:function(){return A},r5:function(){return M},r_:function(){return w}});var r=e(14326),i=e(110844),a=e(996302),t=e(771197),l=e(214492),g=e(107428),n=e(200771),p=e(209663),s=e(181780),d=e(650543),o=e(301336),v=e(719242),m=e(119322),c=e(213190),C=e(204009),y=e(447847),S=e(636570),h=e(60978),E=100;function P(x,I,L){d.f.assertValue(x,"pinData");var K=function(x,I){var L=function(x,I){var L={$visualContainer:x.visualContainer,$modelExtensions:x.modelExtensions,themeCollection:m.P.cloneThemeCollection(x.themeCollection),dataSourceVariables:x.dataSourceVariables};return function(x,I,L,K,z,H,J,k,G){K&&(x.layoutType=K),L&&(x.elements=L),z&&(x.queryMetadata=z),J&&(x.heading1=J),H&&(x.heading2=H),k&&(x.heading3=k),I&&(x.transform=t.F.serializeTransformActions(t.F.serializeDataViewTransformActions(I,G&&G.objects)))}(L,x.dataTransforms,x.elements,x.tileLayoutType,x.queryMetadata,x.tileFilterDetails,x.tileHeading,x.tileSubDisplay,I),L}(x,I),K={version:c.lr},z=x.visualContainer.config.singleVisual.vcObjects?.title?.find(J=>!J.selector);if(K.hideTitle=!1===z?.properties?.show?.value,null!=x.realTimeDataWindow){var H=L;H.dataWindow=x.realTimeDataWindow,K.realTimeVisual=H}else K.visualContainer=L;return K}(x,I);x.tileDataType&&(K.tileDataType=x.tileDataType);var z=function(x,I,L,K,z){d.f.assert(()=>I===C.YU.composite||I===C.YU.realTime,"Invalid type"),d.f.assertValue(x,"tileConfig");var H=p.a9,J=p.lZ;(0,S.s)(x)===s.L.card.name&&(H=p.gY,J=p.eg);var k=L?{modelQuery:{sq:JSON.stringify(L)}}:null,G=(0,y.Pl)({width:H,height:J}),q={id:++E,type:I,query:k,$config:x,tileData:K?N(K.data):null,tileDataSet:K,layoutConfig:JSON.stringify(G),$layoutConfig:G},Q=x.visualContainer;return Q&&(q.displayText=Q.heading1,q.subDisplayText=Q.heading3),z&&(q.modelId=z.id),q}(K,null!=x.realTimeDataWindow?C.YU.realTime:C.YU.composite,x.query,x.dataViewSource,L);return z.publishState=r.oj.Completed,x.action&&(z.action=JSON.stringify(x.action)),null!=x.utterance&&(z.query.modelQuery.utterance=x.utterance),x.name&&(z.name=x.name),z.reportId=x.reportId,x.modelId&&(z.modelId=x.modelId),x.packageId&&(z.packageId=x.packageId),z.resourcePackageIds=x.resourcePackageIds,z}function w(x,I,L,K,z,H,J,k,G,q,Q,Z){var re,X={version:c.lr};(k||G)&&(X.reportTile={pod:k,filters:G}),q&&(re={modelQuery:{utterance:q}});var Ve=Q?Q/(2*n.A4):2,ke=Z?Z/(2*n.lT):2;0===Math.round(Ve)&&(Ve=2),0===Math.round(ke)&&(Ve=2);var Ue=Math.round(p.a9*Ve),ot=Math.round(p.lZ*ke);Ue=Ue>(0,g.bq)()?(0,g.bq)():Ue,ot=ot>(0,g.be)()?(0,g.be)():ot;var ft=(0,y.Pl)({width:Ue,height:ot});return{id:++E,type:C.YU.report,displayText:z,subDisplayText:H,action:JSON.stringify(J),reportId:x,sectionId:K,modelId:I,packageId:L,publishState:r.oj.Completed,query:re,config:X?JSON.stringify(X):void 0,$config:X,layoutConfig:JSON.stringify(ft),$layoutConfig:ft}}function M(x){return x.publishState===r.oj.InProgress}function A(x){return x.errorCode===r.bD.permissionLocked}function R(x,I){var L=[],K=function(x,I){var L=[{id:r.zV.WebContent,title:I.get("AddWidgetModal_IframeOption_Title"),description:I.get("AddWidgetModal_IframeOption_Description"),iconClass:"pbi-glyph-iframe",template:"<edit-iframe-widget></edit-iframe-widget>",defaultTileContract:{type:C.YU.iframe,$action:{action:null,targetUrl:"",openInSameTab:!1},$config:{iframe:{srcUrl:"",embedCode:""},version:"1.0",widget:{id:r.zV.WebContent,name:"webContent"}},$layoutConfig:(0,y.Pl)()},disabled:!x,tooltip:x?void 0:I.get("Dashboard_WebContentTiles_Disabled")},{id:r.zV.Image,title:I.get("Image"),description:I.get("AddWidgetModal_ImageOption_Description"),iconClass:"pbi-glyph-image",template:"<edit-image-widget></edit-image-widget>",defaultTileContract:{type:C.YU.image,$action:{action:null,targetUrl:"",openInSameTab:!1},$config:{imageTile:{imageUrl:""},version:"1.0",widget:{id:r.zV.Image,name:"image"}},$layoutConfig:(0,y.Pl)()}},{id:r.zV.TextBox,title:I.get("Textbox"),description:I.get("AddWidgetModal_TextOption_Description"),iconClass:"pbi-glyph-font",template:"<edit-text-widget></edit-text-widget>",defaultTileContract:{type:C.YU.composite,$action:{action:null,targetUrl:"",openInSameTab:!1},$config:{version:"1.0",visualContainer:{layoutType:i.ov.Default,$visualContainer:{name:o.b$.generateGuid(),config:{singleVisual:{objects:{},visualType:"textbox"}}},themeCollection:{}},widget:{id:r.zV.TextBox,name:"textbox"}},$layoutConfig:(0,y.Pl)()}},{id:r.zV.Video,title:I.get("AddWidgetModal_VideoOption_Title"),description:I.get("AddWidgetModal_VideoOption_Description"),iconClass:"pbi-glyph-slideshow",template:"<edit-video-widget></edit-video-widget>",defaultTileContract:{type:C.YU.iframe,$action:{action:null,targetUrl:"",openInSameTab:!1},$config:{iframe:{srcUrl:"",embedCode:""},version:"1.0",widget:{id:r.zV.Video,name:"video"}},$layoutConfig:(0,y.Pl)()},disabled:!x,tooltip:x?void 0:I.get("Dashboard_WebContentTiles_Disabled")}];return{title:I.get("Add_Widgets_Section_Title"),tiles:L}}(x,I);K&&!_.isEmpty(K.tiles)&&L.push(K);var z=function(x){var I=[];return I.push({id:r.zV.RealtimeCard,title:x.get("Realtime_TileTitle"),description:x.get("Realtime_TileDetails"),iconClass:"pbi-glyph-streaming-data",defaultTileContract:{type:C.YU.realTime,$action:{action:null,targetUrl:"",openInSameTab:!1},$config:{realTimeVisual:{dataWindow:null,layoutType:i.ov.Default,$visualContainer:{name:o.b$.generateGuid(),config:{singleVisual:null}},themeCollection:{}},version:"1.0"},$layoutConfig:(0,y.Pl)({width:p.gY,height:p.eg})}}),{title:x.get("Add_Realtime_Section_Title"),tiles:I}}(I);return z&&!_.isEmpty(z.tiles)&&L.push(z),_.cloneDeep(L)}function N(x){if(void 0!==x)return JSON.stringify(x,(I,L)=>I&&I.charAt&&"$"===I.charAt(0)?void 0:L)}function O(x,I,L,K){if(x){var z=_.cloneDeep(x),H=z.realTimeVisual||z.visualContainer;if(H){if(d.f.assertValue(I,"Exploration serializer is required when serializing a composite tile"),K)H.visualContainer=I.serializeVisualContainer((x.realTimeVisual||x.visualContainer).$visualContainer);else{var J=H.$visualContainer.config.singleVisual,k=(0,v.NA)(J.vcObjects,{objectName:"stylePreset",propertyName:"name"},void 0);k&&(0,h.VC)(k)&&k.value&&(H.stylePresetName=k.value),H.visual=J.visualType,H.columnProperties=J.columnProperties;var G=x.realTimeVisual||x.visualContainer,q=G.$visualContainer.config.singleVisual.objects;if(q){var Q=L.capabilities(J.visualType);Q&&Q.objects&&(H.objects=(0,a.xF)(q,Q.objects,void 0,!0))}var Z=x.visualContainer&&G.$visualContainer.config.singleVisual.vcObjects;Z&&(H.vcObjects=(0,a.xF)(Z,l.XW,void 0,!0)),z.visualContainer&&(z.visual=H,delete z.visualContainer),z.version="0.1"}H.$modelExtensions&&(H.modelExtensions=I.serializeModelExtensions(H.$modelExtensions)),delete H.$visualContainer,delete H.$modelExtensions}return JSON.stringify(z)}}},820991:function(ve,j,e){e.d(j,{N:function(){return v}});var r=e(424092),i=e(650543),a=e(695795),t=e(734531),l=e(301336),g=e(204009),n=e(574937),p=e(447847),s=e(759615),d=e(527861),o=e(694345);function v(c,C,y,S,h,E,u,f,b,V,T,P,D,w,M,A,R,B){return new m(c,C,y,S,h,E,u,f,b,V,T,P,D,w,M,A,R,B)}class m{constructor(C,y,S,h,E,u,f,b,V,T,P,D,w,M,A,R,B,N){this.geolocationService=C,this.telemetryService=y,this.visualPlugins=S,this.visualPluginOps=h,this.featureSwitchService=E,this.geocoder=u,this.promiseFactory=f,this.moduleLoader=b,this.tileConfigUpgraderService=V,this.explorationSerializer=T,this.themeService=P,this.authenticationService=D,this.localizationService=w,this.visualHostTooltipService=M,this.licenseUIManagerFactory=A,this.azureMapTokenCache=R,this.azureMapsEndpoint=B,this.geocoderIndexedDB=N}convertCompositeTile(C){if(!C||C.type!==g.YU.composite)return null;var S,y=this.convertTileConfig(C);if(this.convertTileLayoutConfig(C),!y||!y.visualContainer)return i.f.assertFail("Invalid composite tile type"),null;(S=new o.iI(C,this.visualPlugins,this.visualPluginOps,this.featureSwitchService,this.geolocationService,this.geocoder,this.promiseFactory,this.moduleLoader,this.telemetryService,this.themeService,this.authenticationService,this.localizationService,this.visualHostTooltipService,this.azureMapTokenCache,this.azureMapsEndpoint,this.geocoderIndexedDB,this.licenseUIManagerFactory)).config=y.visualContainer,S.displayText=C.displayText,S.subDisplayText=C.subDisplayText;var h=(0,p.gq)(C);if(S.size={rowSpan:h.height,colSpan:h.width},S.isLoading=(0,d.r5)(C),C.queryResultError){S.isError=!0;var E=C.queryResultError;this.telemetryService.logEvent(n.UH,{tileType:g.YU[g.YU.composite],message:(0,t.W)("{0}:{1} with rootActivityId:{2}, modelId:{3} and tileId:{4}",(0,a.BB)(g.G7,E.type),E.errorDetail,E.rootActivityId,C.modelId.toString(),C.id.toString())});var u=(0,s.X7)(E,this.localizationService);u?(S.errorDetails=u,S.errorText=u.message):S.errorText=this.localizationService.get("Tile_ErrorText")}return S}convertTileData(C){if(C.tileDataSet)return C.tileDataSet;var y=this.convertTileConfig(C);try{C.tileDataSet=this.parseTileData(C,y.tileDataType)}catch(S){throw this.telemetryService.logEvent(n.UH,{tileType:g.YU[g.YU.composite],message:(0,t.W)("DsrParseError:{0} with modelId:{1} and tileId:{2}",S.message,C.modelId.toString(),C.id.toString())}),l.b$.ensureError(S)}return C.tileDataSet}convertTileConfig(C){i.f.assertValue(C,"contract");var y=C.$config;if(!y){var S=(0,l.BL)("Parse tile config");try{var h=(y=C.$config=(0,s.M8)(C.config)).visualContainer||y.realTimeVisual;this.deserializeVisualContainer(h),this.deserializeModelExtensions(h||y.visual),this.tileConfigUpgraderService.upgrade(C.id,y,C.query)}catch{i.f.assertFail("Unable to parse tile config")}finally{S()}}return y}convertTileLayoutConfig(C){if(i.f.assertValue(C,"contract"),!C.$layoutConfig){var y=(0,s.mf)(C);C.$layoutConfig=y,C.layoutConfig=JSON.stringify(y)}return C.$layoutConfig}deserializeVisualContainer(C){C&&C.visualContainer&&!C.$visualContainer&&(C.$visualContainer=this.explorationSerializer.deserializeCanvasItem(C.visualContainer))}deserializeModelExtensions(C){C&&C.modelExtensions&&!C.$modelExtensions&&(C.$modelExtensions=this.explorationSerializer.deserializeModelExtensions(C.modelExtensions))}parseTileData(C,y){var h,S=(0,l.BL)("Parse tile data");try{if(C.tileDataBinaryBase64Encoded){var E=(0,r.Wh)(C.tileDataBinaryBase64Encoded);h=JSON.parse(E)}else C.tileData&&(h=JSON.parse(C.tileData));return{type:y,data:h}}finally{S()}}}},694345:function(ve,j,e){e.d(j,{iI:function(){return V}});var r=e(349672),i=e(14326),a=e(110844),t=e(167165),l=e(771197),g=e(791520),n=e(661214),p=e(213677),s=e(661248),d=e(907126),o=e(107428),v=e(209663),m=e(650543),c=e(630881),C=e(230343),y=e(719242),S=e(574937),h=e(759615),E=e(715726),u=e(60978);class f{constructor(P,D,w){this.useSmallPlotArea=!1,m.f.assertValue(P,"contract"),m.f.assertValue(D,"visualPlugins"),m.f.assertValue(w,"visualPluginOps"),this.contract=P,this.visualPluginService=D,this.pluginOps=w}get type(){return m.f.assertFail("this is an abstract property!"),null}get tileData(){return m.f.assertFail("this is an abstract property!"),null}set tileData(P){m.f.assertFail("this is an abstract property!")}get tileDataIsVolatile(){return m.f.assertFail("this is an abstract function!"),!1}get isError(){return this._isError}isDataStale(P){return m.f.assertFail("this is an abstract function!"),!1}set isError(P){this._isError=P,this.onErrorDelegate&&this.onErrorDelegate()}get heading1(){return this.config.heading1||""}setDependencies(P){this.dataProxy=P}setDataLoadEventDelegate(P){this.dataLoadEventDelegate=P}copyDependencies(P){P.dataProxy&&this.setDependencies(P.dataProxy)}}class V extends f{constructor(P,D,w,M,A,R,B,N,W,F,U,O,x,I,L,K,z){super(P,D,w),this.featureSwitchService=M,this.geolocationService=A,this.geocoder=R,this.promiseFactory=B,this.moduleLoader=N,this.telemetryService=W,this.themeService=F,this.authenticationService=U,this.localizationService=O,this.visualHostTooltipService=x,this.azureMapTokenCache=I,this.azureMapsEndpoint=L,this.geocoderIndexedDB=K,this.requiresResize=!1,m.f.assertAnyValue(A,"geolocationService"),z&&(this.licenseUIManager=z.create()),this._visual={hostServices:this.createHostServices(z?{onNotifyLicense:J=>this.onNotifyLicense(J),onClearLicenseNotification:()=>this.onClearLicenseNotification(),onNotifyFeatureBlocked:J=>this.onNotifyFeatureBlocked(J)}:void 0),themeCollection:{}}}get type(){return i.pn.SingleVisual}get visual(){return this._visual}get themeCollection(){return this._visual&&this._visual.themeCollection}get heading1(){var P=this.config.heading1||"";if(!this.visual)return P;var D,w,M=this.visual.dataTransforms;M&&(D=M.selects);var A=this.visual.data;if(A&&(w=A.dataView),!1!==this.cachedShow&&void 0===this.cachedHeading){var R=(0,n.VH)(this.themeCollection,this.themeService,this.config.$visualContainer,this.featureSwitchService.featureSwitches,!1,w,D);if(R.dataViewObjects&&(void 0===this.cachedShow&&(this.cachedShow=(0,C.NA)(R.dataViewObjects,{objectName:"title",propertyName:"show"},!0)),this.cachedShow)){var B=(0,C.NA)(R.dataViewObjects,{objectName:"title",propertyName:"text"},null);null!==B?this.cachedHeading=B:_.isEmpty(P)&&(P=" ")}}return this.cachedHeading||P}setThemeName(P){this.ensureVisual();var D=this._visual.themeCollection;D.customTheme=D.customTheme||(0,g.Mi)(P,t.v.RegisteredResources),D.customTheme.name=P}isDataStale(P){if(!P)return!1;var w=(0,d.ee)(this.contract.tileDataUpdatedTime),M=w&&w.getTime();return!!M&&P-M>36e5}setData(P,D,w){try{this.ensureVisual(),this._visual.data=P,this._visual.dataTransforms=D,this._visual.type=w,this.clearCache()}catch(M){this.telemetryService.logEvent(S.gc,{visualType:w,source:M.fileName,lineNumber:M.lineNumber,columnNumber:M.columnNumber,stack:M.stack,message:M.message})}}createHostServices(P){return(0,p.q)({geocoder:this.geocoder,geolocation:this.geolocationService,localizationService:this.localizationService,moduleLoader:this.moduleLoader,promiseFactory:this.promiseFactory,visualHostTooltipService:this.visualHostTooltipService,authenticationService:this.authenticationService,getAzureMapToken:()=>this.azureMapTokenCache.getAzureMapToken(),azureMapsEndpoint:this.azureMapsEndpoint,geocoderIndexedDB:this.geocoderIndexedDB,canExpandCollapse:()=>!0,onNotifyLicense:P&&P.onNotifyLicense,onClearLicenseNotification:P&&P.onClearLicenseNotification,onNotifyFeatureBlocked:P&&P.onNotifyFeatureBlocked})}ensureVisual(){this._visual||(this._visual={hostServices:this.createHostServices(),themeCollection:{}},this.calculateLayout())}set config(P){if(m.f.assertValue(P,"The tile config must exist while setting it in a composite tile"),this._config=P,this._visual){var D=P.$visualContainer.config.singleVisual,w=D.visualType;this._visual.type=w;var M=(0,y.NA)(D.vcObjects,{objectName:"stylePreset",propertyName:"name"},void 0);this._visual.stylePresetName=M&&(0,u.VC)(M)&&M.value,this._visual.themeCollection=_.cloneDeep(P.themeCollection);var A,R,B=this.visualPluginService.capabilities(w);B&&(A=B.objects,R=D.objects);var N=(0,s.K)(P.transform);this._visual.dataTransforms=N?l.F.deserializeDataViewTransformActions(N,B):l.F.createTransformActions(P.queryMetadata,P.elements,A,R)}}get config(){return this._config}get tileData(){return this._tileData}set tileData(P){this._tileData=P,this.readDataView(!0)}get tileDataIsVolatile(){return this.contract.tileDataIsVolatile}refreshData(){this.readDataView(!1)}setDependencies(P){var D=!this.dataProxy&&this._tileData&&!this.isLoading;super.setDependencies(P),D&&this.refreshData()}readDataView(P){var D=this;return(0,r.Z)(function*(){var w=D._visual.type;if(!D.visual||D.requiresData()){m.f.assertValue(D._tileData,"tileData should be defined.");var M=D.dataProxy;if(M){if(D.contract.queryResultError){var A=(0,h.X7)(D.contract.queryResultError,D.localizationService);A?(D.isError=!0,D.errorDetails=A,D.errorText=A.message):D.errorText=D.localizationService.get("Tile_ErrorText")}if(!D._tileData||!D._tileData.data)return void(D.isLoading=!D.isError);var R=D._tileData,B={type:R.type,query:{dataSources:null,command:R.data},allowResultFromClientCache:P,perfId:w,kinds:D.pluginOps.dataViewKinds(w)},N=null;D.dataLoadEventDelegate&&(N=D.dataLoadEventDelegate(),D.dataLoadEventDelegate=null);try{var W=yield M.execute(B),U=W.dataReaderResult.error;D._visual.data={dataView:W&&W.dataReaderResult?W.dataReaderResult.dataView:null,dataViewSource:W&&W.dataViewSource?W.dataViewSource:null},D.isError=D.isError||null!=U,N&&(D.isError?N.reject():N.resolve())}catch{D.isError=!0,N&&N.reject()}}}else D._visual.data={dataView:null}})()}applyLayout(P,D){if(this.requiresResize){if(!D){var w=this.visual;w&&w.visual&&w.visual.update({viewport:w.viewport,dataViews:w.dataViews,suppressAnimations:!0,type:c.EP.Resize,resizeMode:P===o.XM.resized?c.Pf.Resized:P===o.XM.resizing?c.Pf.Resizing:void 0})}this.requiresResize=!1}}calculateLayout(P,D,w=1){if(P&&((!this.viewport||this.viewport.height!==P.height||this.viewport.width!==P.width)&&(this.requiresResize=!0),this.viewport=P),null!=D&&this.useSmallPlotArea!==D&&(this.useSmallPlotArea=D,this.requiresResize=!0),this.viewport){var M=this.viewport.height,A=this.viewport.width;(this._config&&this._config.layoutType)===a.ov.Full||(M-=this.useSmallPlotArea?E.n:E.Un,A-=E.ho),this._visual&&(this._visual.viewport={height:M,width:A,scale:w})}}canResizeTo(P){var D=this._visual&&this._visual.visual;return!!D&&(!D.canResizeTo||D.canResizeTo((0,v.p2)(P)))}getErrorLocId(P,D){return""}requiresData(){var P=this.visual,D=this.pluginOps;if(P){if(P&&P.type){if(!D)return!0;if(!D.isQueryVisual(P.type))return!1}return!0}}updateVisualInteractivityOptions(P){var D=this.visualPluginService.getInteractivityOptions(this._visual.type);typeof D.mobileTileInteractive<"u"&&(D.mobileTileInteractive=D.mobileTileInteractive&&P),this._visual.interactivityOptions=D}clearCache(){this.cachedHeading=void 0}onNotifyLicense(P){P!==c.X6.General&&this.licenseUIManager.displayNotification(P)}onNotifyFeatureBlocked(P){this.licenseUIManager.displayFeatureBlockedBanner(P)}onClearLicenseNotification(){this.licenseUIManager.clearNotification()}}},260078:function(ve,j,e){e.d(j,{h:function(){return i}});var r=e(209663);class i{constructor(t){this.contract=t}canResizeTo(t){return t.rowSpan===r.lZ||t.colSpan===r.gY}getErrorLocId(t,l){return""}}},650160:function(ve,j,e){e.d(j,{n:function(){return a}});var r=e(209663),i=e(301336);class a{constructor(l){this.contract=l}get imageUrl(){return this._imageUrl}set imageUrl(l){this._imageUrl=l,l&&!this.isStatic&&0!==l.indexOf("data:")&&(this._imageUrl=i.b$.getAbsoluteUri(l))}canResizeTo(l){return l.rowSpan===r.lZ||l.colSpan===r.gY}getErrorLocId(l,g){return""}}},116424:function(ve,j,e){e.d(j,{U:function(){return i}});var r=e(209663);class i{constructor(t){this.contract=t}canResizeTo(t){return t.rowSpan===r.eg}getErrorLocId(t,l){return""}}},712668:function(ve,j,e){e.d(j,{V:function(){return v}});var r=e(349672),i=e(127413),a=e(507950),t=e(650543),l=e(695795),g=e(833059),n=e(248505),p=e(118716),s=e(447847),d=e(694345),o=e(548664);class v extends d.iI{constructor(c,C,y,S,h,E,u,f,b,V,T,P,D,w,M,A){super(c,C,y,S,h,E,u,f,b,V,T,P,D,w,M,A),this._visual=null,this._localizationService=P}setModelId(c){var C=this;return(0,r.Z)(function*(){t.f.assertAnyValue(c,"id"),C.contract.modelId=c,yield C.initialize()})()}getRealTimeModelId(){var c=this;return(0,r.Z)(function*(){if(c.datasetStore){var C=c.contract;return c.datasetStore.findAll(C.modelId,!0).then(y=>{if(!_.isEmpty(y)){var S=_.find(y,E=>null==C.packageId||E.packageId===C.packageId);return S||(S=_.find(y,E=>(0,l.yE)(E.permissions,i.GC.All))),S||(S=_.first(y)),{id:S.id,originalModelId:S.originalModelId,tableName:c.getSchemaTableName(),schema:c.getRealTimeConceptualSchema(),packageId:C.packageId}}})}})()}setRealTimeModelDependencies(c,C,y,S,h){super.setDependencies(c),t.f.assertValue(C,"visualQueryGenerator"),t.f.assertValue(y,"conceptualSchemaProxy"),t.f.assertValue(S,"realTimeDataService"),this.visualQueryGenerator=C,this.conceptualSchemaProxy=y,this.realTimeDataService=S,this.datasetStore=h}copyRealTimeModelDependencies(c){var C=this;return(0,r.Z)(function*(){if(t.f.assertValue(c,"other"),c.schema&&(C.schema=c.schema),c.dataProxy&&c.realTimeDataService&&c.visualQueryGenerator&&c.conceptualSchemaProxy){C.setRealTimeModelDependencies(c.dataProxy,c.visualQueryGenerator,c.conceptualSchemaProxy,c.realTimeDataService,c.datasetStore),c.onErrorDelegate&&!C.onErrorDelegate&&(C.onErrorDelegate=c.onErrorDelegate);var y=yield c.getRealTimeModelId();C.realTimeDataService.replaceListener(y,c,C)}})()}onDataChanged(){var c=this;return(0,r.Z)(function*(){if(t.f.assertValue(c.visualQueryGenerator,"visualQueryGenerator"),t.f.assertValue(c.dataProxy,"dataProxy"),c.singleVisualConfig){var C=p.PB,y=c.config;y&&y.dataWindow&&(C=y.dataWindow);var E,S=yield c.getDatasources(),h=c.visualQueryGenerator.execute({dataSources:S,schema:c.schema,config:c.singleVisualConfig,additionalFilters:null,dataWindow:C});!h||h.error?(h&&h.error&&(E=h.error.getDetails(c._localizationService)),c.onError(E)):c.dataProxy.execute(h.options).then(u=>{c.isError=!1;var f={dataView:u&&u.dataReaderResult?u.dataReaderResult.dataView:null},b=c.lastCategoryValue;try{var V=(0,o.kQ)(f.dataView);if(null!=b&&null!=V&&b.valueOf()>=V.valueOf())return;c.lastCategoryValue=V}catch(T){}c.setData(f,h.transforms,c.config.$visualContainer.config.singleVisual.visualType),c.isLoading=!1},u=>{if(!(u instanceof a.C6)){var f=u&&u.getDetails(c._localizationService);c.onError(f)}})}})()}onError(c){c||(c=(new a.Kd).getDetails(this._localizationService)),this.setErrorDetails(c)}getDatasources(){var c=this;return(0,r.Z)(function*(){var C=yield c.getRealTimeModelId();if(C)return(0,o.bk)(C.id,C.originalModelId)})()}set singleVisualConfig(c){t.f.assertValue(c,"config"),this.config.$visualContainer.config.singleVisual=c,this.onDataChanged()}get singleVisualConfig(){return this.config.$visualContainer.config.singleVisual}isDataStale(){return!1}initialize(){var c=this;return(0,r.Z)(function*(){var C=(0,s.gq)(c.contract);return c.size={rowSpan:C.height,colSpan:C.width},c.getDatasources().then(y=>{if(y)return c.conceptualSchemaProxy.get(y).then(S=>(c.fixUpSchema(S),c.schema=S,c.getRealTimeModelId().then(h=>{c.realTimeDataService.subscribe(h,c)})))})})()}unsubscribe(){var c=this;return(0,r.Z)(function*(){return c.getRealTimeModelId().then(C=>{if(C&&C.tableName)return c.realTimeDataService.unsubscribe(C,c)})})()}fixUpSchema(c){var C=c.schema(p.db).entities;t.f.assert(()=>C&&1===C.length,"Exactly 1 entity is expected.");var y=C[0].properties;for(var S of y)(S.type===n.Ge.fromDescriptor({numeric:!0})||S.type===n.Ge.fromDescriptor({integer:!0}))&&(S.kind=g.NT.Measure)}getSchemaTableName(){var c=this.getRealTimeConceptualSchema();if(c){var C=c.entities;return t.f.assert(()=>1===C.length,"Expecting only one entity"),_.head(C).name}}getRealTimeConceptualSchema(){if(this.schema)return this.schema.schema(p.db)}setErrorDetails(c){t.f.assertValue(c,"errorDetails should be set"),this.errorDetails=c,this.errorText=c.message,this.isError=!0}}},55316:function(ve,j,e){e.d(j,{I:function(){return i}});var r=e(209663);class i{constructor(t){this.contract=t,this.exploration={contract:void 0,exploreCanvas:void 0,sections:[]},this.isError=!1,this.tilesUpdated=!1}canResizeTo(t){return t.rowSpan===r.lZ||t.colSpan===r.gY}getErrorLocId(t,l){return""}}},822994:function(ve,j,e){e.d(j,{L:function(){return a}});var r=e(209663),i=e(301336);class a{constructor(l){this.contract=l}get imageUrl(){return this._imageUrl}set imageUrl(l){l&&(this._imageUrl=0!==l.indexOf("data:")?i.b$.getAbsoluteUri(l):l)}canResizeTo(l){return l.rowSpan===r.av||l.colSpan===r.CJ}getErrorLocId(l,g){return""}}},715726:function(ve,j,e){e.d(j,{$V:function(){return A},Un:function(){return F},X8:function(){return c},_:function(){return h},aN:function(){return R},ho:function(){return U},je:function(){return S},n:function(){return O},n9:function(){return x},ng:function(){return u},xg:function(){return y}});var r=e(110844),i=e(638198),a=e(364419),t=e(124837),l=e(907126),g=e(990297),n=e(650543),p=e(704251),s=e(213190),d=e(313614),o=e(204009),v=e(447847),m=e(759615),c=function(k){return k[k.Dashboard=0]="Dashboard",k[k.Report=1]="Report",k[k.RdlReport=2]="RdlReport",k}({});function y(k){return!_.isEmpty(k)&&0===k.toLowerCase().indexOf(f)}function S(k){return!_.isEmpty(k)&&0===k.toLowerCase().indexOf(b)}function h(k){return!_.isEmpty(k)&&0===k.toLowerCase().indexOf(V)}function u(k){return y(k)||S(k)||h(k)||function(k){return!_.isEmpty(k)&&0===k.toLowerCase().indexOf(T)}(k)}var f="/dashboards/",b="/reports/",V="/rdlreports/",T="/workbooks/",A=65,R=55,F=20,U=20,O=8;class x{constructor(G,q,Q){this.forceOpenCustomLinksInNewTab=Q,this.isSelected=!1,this.hasConversation=!1,this.hasSpotlight=!1,this.contract=G,this.tileHeaderSize=s.cG.Regular,this.layoutPosition={},this.localizationService=q,this.themeName=d.sF.Light,this.tileStyles={},this.tileHeaderStyles={},this.tileBackground={}}get gridLayouts(){return this.contract.$layoutConfig.layouts}get id(){return this.contract.id}set id(G){this.contract.id=G}get objectId(){return this.contract.objectId}get details(){switch(this.type){case o.YU.composite:return this.composite;case o.YU.iframe:return this.iframe;case o.YU.image:return this.image;case o.YU.model:return this.model;case o.YU.ssrs:return this.ssrs;case o.YU.workbook:return this.workbook;case o.YU.report:return this.reportTile;case o.YU.realTime:return this.realTime;default:return n.f.assertFail("Invalid tile type"),null}}get shouldBeIncludedInTelemetryMeasurement(){return this.details&&!!this.details.shouldBeIncludedInTelemetryMeasurement}get isTemporary(){return this.id<=0}get isTileLoading(){return this.composite?this.composite.isLoading&&!this.composite.isError:this.isLoading}calculateLayout(G,q){var Q=this.getHeaderSizeByType(this.tileHeaderSize);if(!_.isNil(this.currentViewPort)&&_.isNil(G)&&!_.isNil(q)&&(G=this.currentViewPort),this.compositeTile&&G){var Z=G,X=this.tileHeaderSize===s.cG.Small;if(_.isNil(q)||_.isNil(this.currentViewPort))X?this.hasTitle()?Z.height-=Q:(this.composite&&this.composite.config&&this.composite.config.layoutType)!==r.ov.Full&&(Z.height-=10):this.hasTitle()&&(this.hasSubtitle()?Z.height-=Q:Z.height-=Q-10),this.currentViewPort=Z;else if(q>0){var re={width:this.currentViewPort.width,height:this.currentViewPort.height};re.height-=q,re.height<=0?n.f.assert(()=>re.height>0,"ViewPort height is zero or negative"):Z=re}this.compositeTile.calculateLayout(Z,X)}}getTileHeight(){return this.hasTitle()?this.getHeaderSizeByType(this.tileHeaderSize):0}applyLayout(G,q){this.compositeTile&&this.compositeTile.applyLayout(G,q)}invalidateLayout(){this.tryPopulateLayoutPositionValues()&&this.gridLayoutContext.onLayoutInvalidated()}tryPopulateLayoutPositionValues(){if(!this.gridLayoutContext||this.gridLayoutContext.isLayoutUpdateLocked)return!1;var G=this.gridLayoutContext.getActiveLayout(),Q=(0,g.Br)(this.contract.$layoutConfig.layouts).withId(G);return Q&&Q.position&&(this.layoutPosition=_.cloneDeep(Q.position)),!0}applyChanges(){if(this.contract&&this.gridLayoutContext){var G=_.cloneDeep(this.layoutPosition);(0,m.bQ)(this.contract.$layoutConfig,G,this.gridLayoutContext.getActiveLayout()),this.contract.layoutConfig=JSON.stringify(this.contract.$layoutConfig)}}static isValidUrl(G,q){return!_.isEmpty(G)&&((0,p.HH)(G,!1)||q&&u(G))}getDisplayText(){return this.displayText?this.displayText:this.compositeTile?this.compositeTile.heading1:""}getSubDisplayText(){if(this.displayText&&this.subDisplayText)return this.subDisplayText;if(this.compositeTile){var G=this.compositeTile.config;if(!this.displayText&&G&&!_.isEmpty(G.heading3))return G.heading3}return""}shouldPlaceBulletSeperator(){return this.displayText&&this.displayText.length>0&&this.subDisplayText&&this.subDisplayText.length>0&&this.config&&this.config.lastRefreshTimeEnabled}get hrefTarget(){return this.action.openInSameTab&&!this.forceOpenCustomLinksInNewTab?"_self":"_blank"}get lastRefreshTimeInLocaleString(){var G=(0,l.ee)(this.contract.tileDataUpdatedTime),q="";return G?q=G.toLocaleString():this.datasetModel&&(q=this.datasetModel.lastRefreshTimeInLocaleString),q||""}get formattedTime(){var G;if(this.workbook){var q=this.contract.tilePackage;G=q?(0,l.ee)(q.lastRefreshTime):null}else G=(0,l.ee)(this.contract.tileDataUpdatedTime);return G?this.cachedRefreshTime&&G.getTime()===this.cachedRefreshTime.getTime()?this.cachedRefreshString:(this.cachedRefreshTime=G,this.cachedRefreshString=this.getFormattedDateString(G)):this.datasetModel?this.datasetModel.lastRefreshTimeInLocaleString:void 0}getFormattedDateString(G){var q=a.IH,Q=(0,a.ih)();return Q&&q(G,I,K,!1)?(0,t.WQ)(G,this.localizationService):Q&&q(G,L,z,!0)?(0,a.nK)(this.localizationService.currentLanguageLocale,G):Q&&q(G,L,H,!0)?this.localizationService.format("DashboardTile_YesterdayTemplate",[(0,a.nK)(this.localizationService.currentLanguageLocale,G)]):Q&&q(G,L,J,!0)?(0,a.u5)(this.localizationService.currentLanguageLocale,G):(0,a.nY)(this.localizationService.currentLanguageLocale,G)}setDatasetModelAndPackageInfo(G,q){G&&(this.datasetModel=G,q&&(this.datasetModel.packagePublishStatus=q.publishOrRefreshStatus))}hasTitle(){return(!this.config||!this.config.hideTitle)&&(!_.isEmpty(this.displayText)||this.compositeTile&&!_.isEmpty(this.compositeTile.heading1))}hasSubtitle(){var G=this.config;return(!G||!G.hideTitle)&&(!_.isEmpty(this.subDisplayText)||G&&G.lastRefreshTimeEnabled)}lastRefreshTimeInLocaleWithLabel(){if(this.config&&this.config.lastRefreshTimeEnabled)return this.localizationService.format("Refreshed",[this.formattedTime])}setTileHeaderSize(G){this.tileHeaderSize!==G&&(this.tileHeaderSize=G,this.invalidateLayout())}get compositeTile(){return this.composite||this.realTime}hasLayoutDefinition(G){return!!(0,g.Br)(this.contract.$layoutConfig.layouts).withId(G)}hasLayoutPosition(G){return!!(0,v.zS)(this.contract,G)}removeLayoutPosition(G=i.D.PhonePortrait){return n.f.assert(()=>G!==i.D.Master,"Cannot remove position for Master position"),this.hasLayoutDefinition(G)&&(this.addLayout({id:G,position:null},G),this.resetTileLayoutSizeAndPosition()),this.getCurrentTileLayoutDescriptor()}resetTileLayoutSizeAndPosition(){this.layoutPosition.x=null,this.layoutPosition.y=null,this.layoutPosition.height=null,this.layoutPosition.width=null,this.gridLayoutContext=null}removeLayoutDefinition(G=i.D.PhonePortrait,q=!0){return n.f.assert(()=>G!==i.D.Master,"Cannot remove layout for Master position"),this.hasLayoutDefinition(G)&&(_.remove(this.contract.$layoutConfig.layouts,Q=>Q.id===G),q&&this.resetTileLayoutSizeAndPosition()),this.getCurrentTileLayoutDescriptor()}applyLayoutSize(G,q,Q){n.f.assertValue(G,"size"),this.compositeTile&&(this.compositeTile.size={colSpan:G.colSpan,rowSpan:G.rowSpan}),this.applyLayout(q,Q)}getCurrentTileLayoutDescriptor(G,q,Q){return(0,m._z)(this.contract,G||this.contract.$layoutConfig,q,Q)}buildLayoutDescriptor(){var G=_.cloneDeep(this.layoutPosition),q=_.cloneDeep(this.contract.$layoutConfig);(0,m.bQ)(q,G,this.gridLayoutContext.getActiveLayout());var Q=this.composite&&this.composite.contract&&this.composite.contract.query,Z=Q&&(0,m.HL)(Q,G),X=null;return Q&&Z&&(this.composite.contract.query.modelQuery.sq=JSON.stringify(Z),X=JSON.stringify(this.composite.contract.query)),(0,m._z)(this.contract,q,Q,X)}addLayout(G,q){return n.f.assert(()=>q!==i.D.Master,"Cannot remove position for Master position"),n.f.assertValue(G,"Cannot update with undefined"),this.removeLayoutDefinition(q),this.contract.$layoutConfig.layouts.push(G),this.getCurrentTileLayoutDescriptor()}getHeaderSizeByType(G){switch(G){case s.cG.Large:return A;case s.cG.Small:return 42;default:return 50}}}var I="minute",L="day",K=15,z=0,H=1,J=6},32977:function(ve,j,e){e.d(j,{V:function(){return a}});var r=e(14326),i=e(209663);class a{constructor(l,g){this.contract=l,this.tileModel=g}canResizeTo(l){return l.rowSpan===i.lZ||l.colSpan===i.gY}getErrorLocId(l,g){var n,p=[];switch(l){case r.bD.workbookTileGeneralError:n="WorkbookTile_GeneralError";break;case r.bD.workbookTileFileNotFound:n="WorkbookTile_FileNotFound";break;case r.bD.workbookTileObjectNotFound:n="WorkbookTile_ObjectNotFound",p=this.contract.$config.workbookTile?[this.contract.$config.workbookTile.item]:["pinned object"];break;case r.bD.workbookTileUnauthorized:n="WorkbookTile_Unauthorized";break;default:return""}return g.format(n,p)}hasImages(){return this.hasWorkbookTileConfig&&this.tileModel.config.workbookTile.images&&this.tileModel.config.workbookTile.images.length>0}get images(){return this.hasWorkbookTileConfig?this.tileModel.config.workbookTile.images:null}get hasWorkbookTileConfig(){return!!this.tileModel&&!!this.tileModel.config&&!!this.tileModel.config.workbookTile}}},453327:function(ve,j,e){e.d(j,{I:function(){return n}});var r=e(127413),i=e(807744),a=e(496225),t=e(737865),l=e(874156),g=e(695795);class n extends i.H{constructor(s){super(typeof s>"u"?0:s.id,a._.Workbook,typeof s>"u"?0:s.packageId),this.contract=s}getPermissions(){var s;return this.getPermissionsCallback&&(s=this.getPermissionsCallback()),s||this.contract&&this.contract.permissions}get contentTileType(){return t.ty.Workbook}isOwner(){return(0,g.yE)(this.getPermissions(),r.GC.All)}isPersonalized(){var s=this.getPermissions();return(0,g.yE)(s,r.GC.ReadWrite|r.GC.Explore)&&!(0,g.yE)(s,r.GC.All)}isEditable(){var s=this.editUrl;return this.isOwner()&&null!=s&&""!==s}get displayNameWithExtension(){var s=(0,l.m)(this.contract.sourceFilePath);return this.displayName.concat(".").concat(s)}}},574937:function(ve,j,e){e.d(j,{UH:function(){return l},gc:function(){return a}});var r=e(641409),i="PBI.TileDataUpdateException",a=r.cx[i]=(0,r.b1)(i),t="PBI.Dashboard.TileError",l=r.cx[t]=(0,r.b1)(t)},116261:function(ve,j,e){e.d(j,{$O:function(){return p},J0:function(){return v},RC:function(){return d},Xk:function(){return m},aI:function(){return C},ir:function(){return o},jg:function(){return c},tp:function(){return g}});var r=e(737865),i=e(79365),a=e(650543),t=e(301336),l=e(272912);function g(y){return y&&y.category===r.kP.OrganizationalApp}function p(y){return y.originalPackageId?y.originalPackageId:y.packageIds&&1===y.packageIds.length?y.packageIds[0]:void 0}function d(y,S){var h=(0,l.N)(y);return h&&h.toLocaleDateString(S.currentLanguageLocale,{month:"short",day:"numeric",year:"numeric"})}function o(y){return a.f.assertValue(y,"AppUtils hasAppLogoImage appModel"),!(y.icon||_.isEmpty(y.iconUrl)&&_.isEmpty(y.localAppLogoImageData))}function v(y,S){if(a.f.assertValue(y,"AppUtils getAppLogoImageUrl appModel"),a.f.assertValue(S,"AppUtils getAppLogoImageUrl backendUri"),o(y)){if(y.localAppLogoImageData)return y.localAppLogoImageData;if(y.iconUrl)return t.b$.urlCombine(S,y.iconUrl)}}function m(y,S){if(o(y))return`url(${v(y,S)})`}function c(y){if(!y)return"inherit";var S=(0,i.WV)(y);return.299*S.R+.587*S.G+.144*S.B>125?"#000":"#FFF"}function C(y){if(y)return(0,i.jd)((0,i.WV)(y),.8,.2)}},447847:function(ve,j,e){e.d(j,{As:function(){return o},Pl:function(){return p},V3:function(){return n},gq:function(){return s},jD:function(){return g},zS:function(){return d}});var r=e(638198),i=e(160860),a=e(990297),t=e(650543);function g(C){var y=n(C);if(y&&y.Commands&&y.Commands.length>0){var S=y.Commands[0].SemanticQueryDataShapeCommand;return{defn:S.Query,shape:S.Binding}}return null}function n(C){if(C&&C.modelQuery&&C.modelQuery.sq){var y;try{y=JSON.parse(C.modelQuery.sq)}catch(h){}if(!y)return;var S=null;return function(C){return C.dataQuery&&C.dataQuery.Commands&&C.dataQuery.Commands.length>0}(y)?S=y.dataQuery:function(C){return C.Commands&&C.Commands.length>0}(y)?S=y:function(C){return C.defn}(y)&&(S={Commands:[{SemanticQueryDataShapeCommand:{Query:y.defn,Binding:y.shape}}]}),S}}function p(C={}){return{layouts:[{id:r.D.Master,position:C}]}}function s(C){var y=d(C,r.D.Master);return t.f.assertValue(y,"masterLayout should always exist on tile"),y}function d(C,y){t.f.assertValue(C,"tile"),t.f.assertValue(C.$layoutConfig,"tile.$layoutConfig"),t.f.assertValue(C.$layoutConfig.layouts,"tile.$layoutConfig.layouts");var h=(0,a.Br)(C.$layoutConfig.layouts).withId(y);return h?h.position:null}function o(C){switch(C){case i.C2.PowerBI:return"pbix";case i.C2.RdlReport:return"rdl";default:return"unknown"}}},307873:function(ve,j,e){e.d(j,{$b:function(){return o},nf:function(){return d},cl:function(){return p},xT:function(){return v}});var r=function(E){return E[E.Rows=0]="Rows",E[E.Columns=1]="Columns",E}({}),t=e(127413),l=e(907126),g=e(650543),n=3;function p(E){return(E.permissions&t.GC.Write)===t.GC.Write}function d(E){return!!E&&(0,l.KZ)(E)}function o(E,u){var f=[];if(!E)return f;var b=[],V=E.modelIds;if(_.isEmpty(V)||(b=V.slice(0)),_.map(E.tiles,M=>{null!=M.modelId&&b.push(M.modelId)}),_.isEmpty(b))return f;b=_.uniq(b);for(var P=0,D=b.length;P<D;P++){var w=_.filter(u,M=>M.id===b[P]);_.isEmpty(w)||f.push(w[0])}return f}function v(E,u){g.f.assertValue(E,"items");var f=_.filter(E,q=>q.pos?.x>0&&q.pos?.y>0),b=[],T=_.sortBy(f,q=>{var Q=q.pos;return 1e3*Q.y+Q.x});for(var P of T){var D=P.pos;m(b,D.y,D.height)}var w=[],A=_.sortBy(f,q=>{var Q=q.pos;return 1e3*Q.x+Q.y});for(var R of A){var B=R.pos;m(w,B.x,B.width)}var N=function(E,u){g.f.assertValue(E,"rowContexts"),g.f.assertValue(u,"columnContexts");var b=_.isEmpty(E)?-1/0:_.maxBy(E,D=>D.size).size,V=_.isEmpty(u)?-1/0:_.maxBy(u,D=>D.size).size,T=_.every(E,D=>D.size===E[0].size),P=_.every(u,D=>D.size===u[0].size);return C(E,b,T)?r.Rows:C(u,V,P)?r.Columns:b<=V?r.Rows:r.Columns}(b,w),W=N===r.Rows?b:w,F=N===r.Rows?A:T,U=[],O=0;for(var x of W){for(var I=O+1;I<x.startPosition;I++)U.push(void 0);for(var L=x.startPosition;L<x.startPosition+x.size;L++)U.push(x.startPosition),O=L}var K=_.groupBy(F,q=>U[(N===r.Rows?q.pos.y:q.pos.x)-1]),z=[];for(var H of W)z=z.concat(K[H.startPosition]);var J=_.map(z,q=>q.item);if(u){var k=_.filter(E,q=>!(q.pos?.x>0&&q.pos?.y>0)),G=_.map(k,q=>q.item);J.push(...G)}return J}function m(E,u,f){g.f.assertValue(E,"contexts");var V=E[E.length-1];!_.isEmpty(E)&&u>=V.startPosition&&u<V.startPosition+V.size?u+f>V.startPosition+V.size&&(V.size=u+f-V.startPosition):E.push({startPosition:u,size:f})}function C(E,u,f){return E.length>1&&f&&u<=n}},272912:function(ve,j,e){e.d(j,{N:function(){return t}});var r=e(364419),i=e(650543),a=e(301336);function t(l){var g=a.b$.getDateFromWcfJsonString(l,!0);return g||(g=(0,r.Kk)(l)),i.f.assertValue(g,"could not parse dateTime"),g}},448780:function(ve,j,e){e.d(j,{pg:function(){return l},qC:function(){return t}});var r=e(127413),i=e(737865),a=e(695795);function t(n){return!(!n||n.packageType!==i.yR.AppInstance||!n.contentProviderId&&!n.serviceContentProviderId)}function l(n){return(0,a.yE)(n,r.GC.Write|r.GC.ReShare)}},636570:function(ve,j,e){function r(i){if(i){var a=i.visualContainer||i.realTimeVisual;if(a&&a.$visualContainer)return a.$visualContainer.config.singleVisual.visualType}}e.d(j,{s:function(){return r}})},759615:function(ve,j,e){e.d(j,{HL:function(){return w},M8:function(){return M},Us:function(){return m},X7:function(){return b},_z:function(){return P},bQ:function(){return T},mf:function(){return V},zy:function(){return c}});var r=e(110844),i=e(638198),a=e(561863),t=e(214492),l=e(661248),g=e(893910),n=e(200771),p=e(990297),s=e(650543),d=e(527861),o=e(447847);class m{get hasScriptVisuals(){return this.rScriptCount>0||this.pythonScriptCount>0}constructor(){this.rScriptCount=0,this.pythonScriptCount=0}}function c(A,R,B,N,W,F,U,O){s.f.assertValue(R,"singleVisualConfig"),s.f.assertValue(B,"dataWindow"),s.f.assertValue(N,"dataModel"),s.f.assertValue(W,"schema"),s.f.assertValue(F,"pinVisualService"),s.f.assertValue(U,"visualPluginService");var x=O.execute({dataSources:A,schema:W,config:R,additionalFilters:null,dataWindow:B}),I=F.getPinData({name:"tile",config:{singleVisual:R},layouts:void 0},r.ov.Default,A,{},null,null,x,W);I.realTimeDataWindow=B;var L=U.capabilities((0,t.s_)(I));return(0,d.O4)(I,L,N)}function b(A,R){s.f.assertValue(A,"getTileErrorDetailsFromQueryResultError: queryResultError");var B=(0,l.K)(A.errorDetail);if(B&&!_.isEmpty(B.DataShapes)){var N=B.DataShapes[0]["odata.error"];if(N)return new a.Ow(N).getDetails(R)}}function V(A){if(s.f.assertValue(A,"contract"),A.$layoutConfig)return A.$layoutConfig;var B,R={x:A.col,y:A.row,width:A.colSpan,height:A.rowSpan};if(A.layoutConfig)try{B=JSON.parse(A.layoutConfig),(0,p.Br)(B.layouts).withId(i.D.Master).position=R}catch{s.f.assertFail("Unable to parse tile layout config")}else B={layouts:[{id:i.D.Master,position:R}]};return B}function T(A,R,B){var N=(0,p.Br)(A.layouts),W=N.withId(B);W||N.push(W={id:B,position:{}}),W.position=R}function P(A,R,B,N){return function(A){var R=A.layouts?.find(W=>W.id===i.D.Master);if(R?.position){var B=R.position;Object.assign(B,{x:B.x||void 0,y:B.y||void 0,width:B.width,height:B.height})}}(R),{id:A.id,row:null,col:null,rowSpan:null,colSpan:null,layoutConfig:JSON.stringify(R),query:N?B:null,updatedQuery:N,modelId:A.modelId,objectId:A.objectId}}function w(A,R){var B=(0,o.V3)(A);if(B){var N=R.width*n.A4,W=R.height*n.lT,F=!1;for(var U of B.Commands){var O=U.ScriptVisualCommand;O&&(O.ViewportWidthPx!==N||O.ViewportHeightPx!==W)&&(O.ViewportWidthPx=N,O.ViewportHeightPx=W,U.ScriptVisualCommand=O,F=!0)}if(F)return B}}function M(A){var R=(0,l.K)(A);return null==R&&(R={version:g.aD}),R}},786526:function(ve,j,e){e.d(j,{$J:function(){return a},$Q:function(){return C},Ce:function(){return U},Iy:function(){return m},NJ:function(){return S},Ym:function(){return L},bL:function(){return W},hf:function(){return l},jn:function(){return E},kA:function(){return A},oM:function(){return P},qy:function(){return B},rd:function(){return s},s$:function(){return o},vF:function(){return V},v_:function(){return x},wc:function(){return w},yp:function(){return f}});var r=e(641409),i="PBI.Dashboard.RenameReport",a=r.cx[i]=(0,r.b1)(i),t="PBI.Dashboard.DeleteReport",l=r.cx[t]=(0,r.b1)(t),g="PBI.Dashboard.InitializeNavigationPaneModels",p=(r.cx[g]=(0,r.b1)(g),"PBI.Dashboard.RenameDataset"),s=r.cx[p]=(0,r.b1)(p),d="PBI.Dashboard.UpdateModelQnaFeatures",o=r.cx[d]=(0,r.b1)(d),v="PBI.Dashboard.UpdateFeaturedQuestions",m=r.cx[v]=(0,r.b1)(v),c="PBI.Dashboard.DeleteDataset",C=r.cx[c]=(0,r.b1)(c),y="PBI.Dashboard.AddUpdateDashboard",S=r.cx[y]=(0,r.b1)(y),h="PBI.Dashboard.RenameWorkbook",E=r.cx[h]=(0,r.b1)(h),u="PBI.Dashboard.RemoveWorkbook",f=r.cx[u]=(0,r.b1)(u),b="PBI.Dashboard.GetWorkbookWopiAccessInformation",V=r.cx[b]=(0,r.b1)(b),T="PBI.Dashboard.ImportResourcePackagesOnLoad",P=r.cx[T]=(0,r.b1)(T),D="PBI.Dashboard.GetNavigationPanePackage",w=r.cx[D]=(0,r.b1)(D),M="PBI.TileConfig.UpgradeTileConfig",A=r.cx[M]=(0,r.b1)(M),R="PBI.Permissions.UpdateArtifactVisibility",B=r.cx[R]=(0,r.b1)(R),N="PBI.Datapool.UpdateProperties",W=r.cx[N]=(0,r.b1)(N),F="PBI.Http.RequestThrottled",U=r.cx[F]=(0,r.b1)(F),O="PBI.Dataset.GetSharedDatasets",x=r.cx[O]=(0,r.b1)(O),I="PBI.Dataset.GetReadonlySharedDatasets",L=r.cx[I]=(0,r.b1)(I)},988380:function(ve,j,e){function r(i,a,t,l,g,n){var p={filtersNamesAndRestatements:[]};if(!a||_.isEmpty(a.dataFiltersUnmerged))return p;var s=l.capabilities(t.visualType);for(var d of a.dataFiltersUnmerged)if(!d.isHidden){var o=g.getFilterRestatementForOverlay(d,i,s,null,t);if(!_.isEmpty(o))for(var v of o)p.filtersNamesAndRestatements.push({displayName:v.fieldName,qualifiedDisplayName:v.fieldNameToolTip,restatement:v.restatements.join(n.get("ListJoin_Separator"))})}return p}e.d(j,{A:function(){return r}})},550682:function(ve,j,e){e.d(j,{F:function(){return t},m:function(){return l}});var r=e(502495),i=e(650543),a=e(333107);function t(g){switch(g){case r.g.Binary:return a.M.Binary;case r.g.Boolean:return a.M.Boolean;case r.g.Currency:return a.M.Decimal;case r.g.Number:return a.M.Double;case r.g.Date:return a.M.Date;case r.g.DateTime:return a.M.DateTime;case r.g.Time:return a.M.Time;case r.g.WholeNumber:return a.M.Integer;case r.g.Text:return a.M.Text;case r.g.Variant:return a.M.Variant;default:i.f.assertNever(g)}}function l(g){if(null!=g)switch(g){case a.M.Null:return;case a.M.Text:return r.g.Text;case a.M.Decimal:return r.g.Currency;case a.M.Double:return r.g.Number;case a.M.Integer:return r.g.WholeNumber;case a.M.Boolean:return r.g.Boolean;case a.M.Date:return r.g.Date;case a.M.DateTime:case a.M.DateTimeZone:return r.g.DateTime;case a.M.Time:return r.g.Time;case a.M.Duration:return r.g.DateTime;case a.M.Binary:return r.g.Binary;case a.M.None:return;case a.M.Variant:return r.g.Variant;case a.M.Json:return r.g.Text;default:i.f.assertNever(g)}}},941597:function(ve,j,e){e.d(j,{GM:function(){return g},S8:function(){return d},W5:function(){return l},fV:function(){return p},k2:function(){return a},wx:function(){return n}});var r=e(650543),i=e(442407);function a(m,c){return new t(m,c)}class t{constructor(c,C){if(r.f.assertValue(c,"plugins"),C){var y=function(h){r.f.assert(()=>!!_.find(c,E=>E.name===C[h].extends),`plugin extension type '${h}' extends a plugin '${C[h].extends}' which doesn't exist`),r.f.assert(()=>!_.some(c,E=>E.name===C[h].name),`Cannot register plugin extension type '${h}'. A plugin with that name already exists.`)};for(var S in C)y(S)}this.plugins=c,this.extensions=C||{}}getPlugin(c){return this.plugins[v(c)]}getExtension(c){return this.extensions[c]}}function l(m,c){return s(m,p(c))}function g(m,c){if(_.isEmpty(m))return[];var C;if(!_.isEmpty(c)){for(var y of(C=[],c))if(y instanceof i.Wh){var S=y.getTargetEntity();C.push(S.schema)}C=_.uniq(C)}return s(m,C)}function n(m){return r.f.assertValue(m,"reference"),v(m.type)}function p(m){if(r.f.assertAnyValue(m,"query"),m){var c=[];return new o(c).run(m),c}}function s(m,c){var C=[];for(var y of m)if(_.isEmpty(c)||_.includes(c,y.name)){var S=n(y);_.includes(C,S)||C.push(S)}return C}function d(m){return _.chain(m).map(c=>n(c)).uniq().value()}class o{constructor(c){this.schemas=c}run(c){var C=c.from();for(var y of C.keys())C.source(y).accept(this,void 0)}visitEntity(c){this.visitEntityOrPod(c)}visitPod(c){this.visitEntityOrPod(c)}visitSubquery(c){this.run(c.subquery)}visitExpr(c){}visitEntityOrPod(c){r.f.assertValue(c,"source");var C=c.schema,y=this.schemas;_.includes(y,C)||y.push(C)}}function v(m){return m||"dsr"}},252360:function(ve,j,e){e.d(j,{I:function(){return t}});var r=e(990297),i=e(650543),a=e(941597);function t(p,s){return new l(p,s)}class l{constructor(s,d){i.f.assertValue(s,"factory"),i.f.assertValue(d,"hostServices"),this.factory=s,this.hostServices=d,this.readers={},this.queryGen={},this.schemaReaders={}}reader(s){return i.f.assertAnyValue(s,"typeOrTypes"),this.findSinglePropertyDefinition((0,r.rY)(s),d=>d.reader(this.hostServices),_.noop,this.readers)}readerType(s){i.f.assertAnyValue(s,"typeOrTypes");var d=this.resolvePluginProperty((0,r.rY)(s),o=>o.reader(this.hostServices),_.noop,this.readers);return d&&d.type}queryGenerator(s){return i.f.assertAnyValue(s,"typeOrTypes"),this.findSinglePropertyDefinition((0,r.rY)(s),d=>d.queryGenerator&&d.queryGenerator(),_.noop,this.queryGen)}queryExtensionLookup(s){i.f.assertAnyValue(s,"referenceOrReferences");var d=(0,r.rY)(s),o=_.chain(d).map(c=>(0,a.wx)(c)).uniq().value(),v=this.findSingleBasePropertyDefinition(o,c=>c.queryExtensionProvider&&g(c.name,d,c.queryExtensionProvider));return function(p,s){if(p||s)return p?(d,o)=>p(d,o,s):s}(this.findSingleExtensionPropertyDefinition(o,c=>c.queryExtensionProvider&&g(c.name,d,c.queryExtensionProvider)),v)}schemaReader(s){return i.f.assertAnyValue(s,"type"),this.findSinglePropertyDefinition([s],d=>d.schemaReader&&d.schemaReader(this.hostServices),d=>d.schemaReader&&d.schemaReader(this.hostServices),this.schemaReaders)}getCacheKey(s){var d=(0,r.rY)(s);return d.length<2?d[0]:"["+d.join(",")+"]"}findSinglePropertyDefinition(s,d,o,v){var m=this.getCacheKey(s),c=v[m];if(c)return c;var C=this.resolvePluginProperty(s,d,o,v);return C?v[m]=C.property:void 0}findSingleExtensionPropertyDefinition(s,d){var o,v;for(var m of s){var c=this.factory.getPlugin(m);if(c){if(v&&v!==c.name)return;v=c.name}else{var C=this.factory.getExtension(m);if(!C||v&&v!==C.extends)return;v=C.extends;var y=d(C);if(y){if(o&&y!==o)return;o=y}}}return o}findSingleBasePropertyDefinition(s,d){var o,v;for(var m of s){var c=this.factory.getPlugin(m);if(c){if(v&&v!==c.name)return;v=c.name;var C=d(c);if(C){if(o&&C!==o)return;o=C}}}return o}resolvePluginProperty(s,d,o,v){var m;for(var c of s){var C=this.resolveProperty(c,d,o,v);if(!C||m&&C.property!==m.property)return;m=C}return m}resolveProperty(s,d,o,v){var m,c;if(v&&(c=v[m=this.getCacheKey(s)]))return{type:s,property:c};var C=this.factory.getPlugin(s);if(C)return(c=d(C))?(v&&(v[m]=c),{type:s,property:c}):void 0;var y=this.factory.getExtension(s);return y?(c=o(y))?(v&&(v[m]=c),{type:s,property:c}):this.resolveProperty(y.extends,d,o,v):void 0}}function g(p,s,d){var o=[];for(var v of s){var m=(0,a.wx)(v);m===p&&o.push(v[m])}return d(o)}},831241:function(ve,j,e){e.d(j,{dj:function(){return f},sw:function(){return E},Z7:function(){return u}});var r=e(426313),i=e(650543),a=e(301336),t=e(442407),l=e(962238),g=e(990297),n=e(237008);function c(B,N){i.f.assertValue(B,"collection"),i.f.assertValue(N,"toRemove");var W=B.indexOf(N);i.f.assert(()=>W>=0,"the metadata column to be removed should exist in the collection before the removal"),W>=0&&B.splice(W,1)}function C(B,N){i.f.assertValue(N,"dataViewCategorical");var W=N.categories;if(W)for(var F of W)F.values.splice(0),F.identity.splice(0);var U=N.values;if(U){var O=U.grouped();if(!_.isEmpty(O)){var x=O[0],I=B.columns,L=function(){var X=K.source;if(X.groupName){var re=_.find(I,te=>!te.groupName&&te.index===X.index&&te.isMeasure===X.isMeasure);re?(K.source=re,c(I,X)):delete X.groupName}};for(var K of x.values)L();var z=[{values:x.values,objects:x.objects}];if(U.grouped=()=>z,O.length>=2){var H=x.values.length;if(H>0){for(var k=H*(O.length-1),G=H,q=H+k;G<q;G++)c(I,U[G].source);U.splice(H,k)}}}for(var Z of U)Z.values.splice(0),delete Z.identity}i.f.assert(()=>!W||_.every(W,X=>_.isEmpty(X.values)&&_.isEmpty(X.identity)),"values and identity should be cleared in all category columns"),i.f.assert(()=>!U||_.every(U.grouped(),X=>!X.name&&!X.identity),"name and identity should be cleared in all series instances"),i.f.assert(()=>!U||_.every(U,X=>_.isEmpty(X.values)),"All values in measure columns should be removed")}function S(B,N){if(i.f.assertValue(B,"values"),i.f.assertValue(N,"indicesToRemove"),i.f.assert(()=>(0,g.JN)(N,!0),"indicesToRemove is expected to be in descending order"),i.f.assert(()=>_.uniq(N).length===N.length,"indicesToRemove is not expected to contain any duplicate"),!_.isEmpty(N)){if(i.f.assert(()=>0<=_.last(N)&&_.head(N)<B.length,"elements in indicesToRemove must be valid indices to the values array."),B.length===N.length)return void B.splice(0);var W,F=0;for(var U of N)void 0===W||W===U+1?(W=U,F++):(B.splice(W,F),W=U,F=1);i.f.assertValue(W,"nextSpliceStart must be defined because this function returns early if indicesToRemove is empty."),B.splice(W,F)}}var h=e(567050);function E(B,N){if(i.f.assertValue(B,"restrictiveFilter"),i.f.assertValue(N,"baseFilter"),!(0,r.FK)(B,N))return!1;var W=B.condition,F=N.condition;if(W instanceof t.ev&&F instanceof t.ev){var U=R(W),O=R(F);if(U&&O&&(0,r.fS)(U.otherSide,O.otherSide))return(0,a.r3)(M(U.constantValue),M(O.constantValue))}return!1}function u(B,N){i.f.assertNonEmpty(B,"selects"),i.f.assertNonEmpty(N,"filters");var W=_.some(N,O=>!function(B){return i.f.assertValue(B,"filter"),!B.target}(O));if(!W){var F=new A(B);for(var U of N)U.condition.accept(F);return F.getClientSideFiltersIfAllSupported()}}function f(B,N){if(i.f.assertValue(B,"queryDataView"),i.f.assertAnyValue(N,"clientSideFilters"),!_.isEmpty(N)&&!_.isEmpty(B.metadata.columns)){i.f.assert(()=>_.every(N,O=>_.some(B.metadata.columns,x=>!x.isMeasure&&x.index===V(O))),"Client-side filtering on measure columns is not yet implemented; only attribute filters are supported at the moment.");var W=B.categorical;if(W){var F=function(B,N){if(i.f.assertAnyValue(B,"seriesMetadataColumn"),i.f.assertValue(N,"clientSideFilters"),B){var W=T(N,[B]);if(!_.isEmpty(W)){return U=>{if(U.identity){var x=U.name;for(var I of W)if(w(I,x))return!0}return!1}}}}(W.values&&W.values.source,N),U=function(B,N){i.f.assertValue(B,"categories"),i.f.assertValue(N,"clientSideFilters");var W=T(N,_.map(B,U=>U.source));if(!_.isEmpty(W)){return(U,O)=>{var I,x=function(K){if(_.every(O,H=>w(K,H.values[U])))return{v:!0}};for(var L of W)if(I=x(L))return I.v;return!1}}}(W.categories,N);!function(B,N,W,F){i.f.assertValue(N,"dataViewCategorical"),i.f.assertAnyValue(W,"categoryRemovalPredicate"),i.f.assertAnyValue(F,"seriesRemovalPredicate"),F&&function(B,N,W){i.f.assertValue(N,"dataViewCategorical"),i.f.assertValue(W,"removalPredicate");var F=N.values&&N.values.grouped();if(!_.isEmpty(F)){var O=function(B,N,W){i.f.assertAnyValue(B,"seriesMetadataColumn"),i.f.assertValue(N,"seriesInstances"),i.f.assertValue(W,"removalPredicate");for(var F=[],U=N.length-1;U>=0;U--)W(N[U],B)&&F.push(U);return F}(N.values&&N.values.source,F,W);!function(B,N,W){if(i.f.assertValue(N&&N.values&&!_.isEmpty(N.values.grouped()),"dataViewCategorical must be defined and the grouped() function must return non-empty result"),i.f.assertValue(W,"seriesIndicesToRemove"),i.f.assert(()=>(0,g.JN)(W,!0),"seriesIndicesToRemove is expected to be in descending order"),i.f.assert(()=>_.uniq(W).length===W.length,"seriesIndicesToRemove must not contain duplicate values"),!_.isEmpty(W)){var F=N.values,U=F.grouped();if(U.length===W.length)return void C(B,N);var O=U[0].values.length;if(i.f.assert(()=>_.every(U,K=>K.values.length===O),"all series instances returned by grouped() are expected to have the same number of measure columns"),O>0){var x=B.columns,I=function(){var K=L*O;i.f.assert(()=>K+O-1<F.length,"Verifying that the index of the last column in this series instance is a valid index to the seriesAndMeasures array.");for(var z=K,H=K+O;z<H;z++)c(x,F[z].source);F.splice(K,O)};for(var L of W)I()}S(U,W),F.grouped=()=>U}}(B,N,O)}}(B,N,F),W&&function(B,N,W){i.f.assertValue(N,"dataViewCategorical"),i.f.assertValue(W,"removalPredicate");var F=N.categories;if(!_.isEmpty(F)){var U=function(B,N){i.f.assertNonEmpty(B,"categories"),i.f.assertValue(N,"removalPredicate");var W=B[0].values.length;i.f.assert(()=>_.every(B,O=>O.values.length===W),"Expecting all category columns to have the same number of values.");for(var F=[],U=W-1;U>=0;U--)N(U,B)&&F.push(U);return F}(F,W);!function(B,N,W){if(i.f.assertValue(N,"dataViewCategorical"),i.f.assertValue(W,"rowIndicesToRemove"),i.f.assert(()=>(0,g.JN)(W,!0),"rowIndicesToRemove is expected to be in descending order"),i.f.assert(()=>_.uniq(W).length===W.length,"rowIndicesToRemove must not contain duplicate values"),!_.isEmpty(W)){if((0,n.Ed)(N)===W.length)return void C(B,N);i.f.assert(()=>(0,n.Ed)(N)>0,"If rowIndicesToRemove is non-empty, then the categorical must have at least 1 row.");var F=N.categories;if(!_.isEmpty(F))for(var U of F)S(U.values,W),S(U.identity,W);var O=N.values;if(!_.isEmpty(O))for(var x of O)S(x.values,W)}}(B,N,U)}}(B,N,W)}(B.metadata,W,U,F)}return B}}function V(B){i.f.assertValue(B,"clientSideFilter");var N=B.Condition;if(N.Contains)return N.Contains.SelectIndex;i.f.assertFail("Unknown filter condition type: "+JSON.stringify(N))}function T(B,N){if(i.f.assertValue(B,"clientSideFilters"),i.f.assertValue(N,"metadataColumns"),_.isEmpty(B)||_.isEmpty(N))return[];var W={};for(var F of N)W[F.index]=!0;return _.filter(B,U=>{var O=V(U);return!!W[O]})}function w(B,N){i.f.assertValue(B,"filter");var W=!1,F=B.Condition;if(F.Contains)if(i.f.assert(()=>F.Contains.LiteralValue===M(F.Contains.LiteralValue),"condition.Contains.LiteralValue is expected to have been normalized."),_.isString(N)){var U=M(N);W=!(0,a.r3)(U,F.Contains.LiteralValue)}else W=!0;else i.f.assertFail("ClientSideFilter condition type not implemented: "+JSON.stringify(F));return W}function M(B){return B&&(0,a.m5)(B)}class A extends l.vq{constructor(N){super(),i.f.assertNonEmpty(N,"selects"),this.clientSideFilters=[],this.selects=N}visitContains(N){if(!this.hasUnsupportedFilter()){var W=!1,F=R(N);if(F){var U=F.constantValue,O=(0,h.p)(this.selects,F.otherSide);if(O>=0&&U){var x={Condition:{Contains:{SelectIndex:O,LiteralValue:M(U)}}};this.clientSideFilters.push(x),W=!0}}W||this.setUnsupportedFilter()}}visitAnd(N){this.hasUnsupportedFilter()||(N.left.accept(this),N.right.accept(this))}visitDefault(N){this.setUnsupportedFilter()}getClientSideFiltersIfAllSupported(){if(!this.hasUnsupportedFilter())return this.clientSideFilters}hasUnsupportedFilter(){return void 0===this.clientSideFilters}setUnsupportedFilter(){this.clientSideFilters=void 0}}function R(B){if(B){var N=(0,t.Ls)(B.left);return N?{constantValue:N,otherSide:B.right}:{constantValue:N=(0,t.Ls)(B.right),otherSide:B.left}}}},875090:function(ve,j,e){e.d(j,{DG:function(){return w},P6:function(){return k},Sk:function(){return A},l7:function(){return M},mx:function(){return H}});var r=e(990297),i=e(650543),a=e(734531),t=e(630881),l=e(191282),g=e(251301),n=e(13380),p=e(765959),s=e(66301),d=e(719242),o=e(5187),v=e(402623),m=e(759162),c=e(281210),C=e(850111),y=e(914094),S=e(92702),h=e(442407),E=e(247425),u=e(832573),f=e(774452),b=e(436043),V=e(248505),T=e(60978),P=e(426313),D=e(398732);class w{columnNameFromIndex(Z){}get code(){switch(this.warningType){case n.wz.InvalidType:return"DataBoundObjectQueryExtensionWarningInvalidType";case n.wz.MissingReference:return"DataBoundObjectQueryExtensionWarningMissingReference";case n.wz.InvalidValue:case n.wz.UndefinedStylePreset:return void i.f.assertFail("DataBoundObjectQueryExtensionWarning cannot be of invalid Value nor Undefined style preset type.");default:i.f.assertNever(this.warningType)}}constructor(Z,X,re,te,se,Ve,ke){this.warningType=Z,this.propertyId=X,this.valueExpr=re,this.selector=te,this.objectDiplayName=se,this.propertyDisplayName=Ve,this.expectedValueType=ke}getDetails(Z,X){if(X){var re=[],te=Z.get("NamePattern_Colon"),se=this.warningType===n.wz.InvalidType,ke=se?"DataBoundExprWarning_InvalidType_Message":"DataBoundExprWarning_MissingReference_Message";if(re.push((0,a.W)(Z.get(se?"DataBoundExprWarning_InvalidType_Title":"DataBoundExprWarning_MissingReference_Title"),(0,c.G)(this.propertyDisplayName,Z))),re.push((0,a.W)(te,Z.get("VisualWarning_PropertyEvaluation_Tooltip_Section"),(0,c.G)(this.objectDiplayName,Z))),this.valueExpr){var Ue=X(this.valueExpr);re.push((0,a.W)(te,Z.get("Field_Source"),Ue))}return se&&this.expectedValueType&&re.push((0,a.W)(te,Z.get("DataBoundExprWarning_ExpectedDataType"),g.L.getPrimitiveValueType(this.expectedValueType,Z))),re.push(Z.get(ke)),{message:re.join("\n"),displayableErrorInfo:[]}}i.f.assertFail("DataBoundObjectQueryExtensionWarning - getMessages - setSQExprTranslator needed for warning message")}}function M(Q,Z,X,re,te,se,Ve,ke,Ue){return i.f.assertValue(Q,"queryDefn"),i.f.assertValue(Z,"schema"),i.f.assertAnyValue(X,"objectDescs"),i.f.assertAnyValue(re,"queryRefsByRole"),i.f.assertAnyValue(te,"projections"),i.f.assertAnyValue(se,"roleKindByQueryRef"),i.f.assertAnyValue(Ve,"additionalFilters"),R(Q,Z,X,re,te,se,Ve,ke,Ue)}function A(Q,Z){return!!R(Q,null,Z,{},{},{},void 0,void 0)}function R(Q,Z,X,re,te,se,Ve,ke,Ue){if(!_.isEmpty(X)){var ot=Q.select(),ft=[],Ct=[],Ke=[],Ae=[];for(var Ne of X)Ne.objects&&Ne.descriptors&&(0,d.rQ)(Ne.objects,Ne.descriptors,we);for(var Se of Ke)for(var Ie of Ae)if((0,l.fS)(Se.selector,Ie)){B(Ct,Se,ot,re);break}var me=[],Oe=[],Ee={},xe=Ue?.dataBoundAddingQueryExprs;for(var ye of Ct){var Je=ye.selector,he=xe?N(ye,Q,Ee,Ve,ke):W(ye,Q,Ve,ke);Q=he.queryDefn,he.objectDefinitionRewrite&&Oe.push(he.objectDefinitionRewrite);var Ce={queryName:he.queryName,selector:Je};if(_.isEmpty(he.relatedQueryNames)||(Ce.relatedQueryNames=he.relatedQueryNames),_.isEmpty(ye.targetsQueryName)||(Ce.relatedProjectionsQueryName=ye.targetsQueryName),ye.aggregates&&(Ce.aggregates=ye.aggregates),ye.relatedObjects&&(Ce.relatedObjects=ye.relatedObjects),Je&&!_.isEmpty(Je.data)&&(Ce.joinPredicate=t.ps.None),Z){var je=u.m.buildExprEvaluationContext(Q.from()),pe=ye.expr.getMetadata(Z,je);pe?.format&&(Ce.format=pe.format)}me.push(Ce)}return _.isEmpty(me)&&_.isEmpty(ft)?void 0:{queryDefn:Q,warnings:ft,additionalProjections:me,objectDefinitionRewrites:Oe}}function we(Qe,ut,lt,Et,bt){var $e,Ot=bt&&bt.properties[ut],Dt=Qe[ut],ne=Ot.type,Fe=null==lt?lt:(0,l.d9)(lt);if(Ot.rule){if(i.f.assertValue(Ot.type.fillRule&&(0,b.gO)(Dt),"Property rule descriptor is valid only for FillRule properties"),!H(Ot.rule.conditions,te,se))return;var qe=function(Q,Z,X,re){var te=Q.inputRole;if(te){var se=X[te],Ve=re[te];if(!_.isEmpty(se)&&!_.isEmpty(Ve)){var ke=_.map(Ve.projected(),ft=>ft.queryRef),Ue=_.intersection(se,ke),ot=_.chain(Z.select()).filter(ft=>_.includes(Ue,ft.name)).map(ft=>ft.expr).value();return ot}}}(Ot.rule,Q,re,te);if(_.isEmpty(qe))return;i.f.assert(()=>1===_.size(qe),"Property Rules supports only one input Expr"),lt={data:_.map(qe,yt=>(0,v.TZ)(yt))},$e=(0,o.oA)(Dt,lt,ot,qe[0])}else if(ne&&ne.dataBars)lt&&lt.metadata&&ot.withName(lt.metadata)&&(_.isEmpty(lt.data)&&((lt=_.cloneDeep(lt)).data=[(0,m.Ue)()]),$e=(0,o.oA)(Dt,lt,ot,ot.withName(lt.metadata).expr));else{var rt=(0,o.Sz)(Qe[ut],lt,ot);Ot.ignoreUnreferenced?(i.f.assert(()=>_.isEmpty(rt.references),"References should be empty"),Ke.push(...rt.expressions)):($e=rt.expressions,Ae.push(...rt.references.map(yt=>yt.selector)))}if(!_.isEmpty($e)&&(!lt||function(Q,Z){i.f.assertValue(Q,"selector");var X=Q.metadata;if(!X)return!0;for(var re of(i.f.assertNonEmpty(Z,"querySelects"),Z))if(re.name===X)return!0}(lt,ot))){var ce=k(lt?.data,ot,re);if(void 0!==ce)for(var be of $e){var ae=!1,de=void 0;if(be.expr){if(Z){var ee=u.m.buildExprEvaluationContext(Q.from());ae=null==(de=be.expr.getMetadata(Z,ee))||!V.Ge.isCompatibleFromAny(ne,de.type)}}else ae=!0;if(ae){var Pe=de?n.wz.InvalidType:n.wz.MissingReference,We=de?V.Ge.fromDescriptor(ne):null,it=new w(Pe,{objectName:Et,propertyName:ut},be.expr,lt,bt.displayName,Ot.displayName,We);ft.push(it)}else be.relatedObjects={[Et]:{[ut]:[Fe]}},be.scopeRefs=ce,B(Ct,be,ot,re)}}}}function B(Q,Z,X,re){i.f.assertValue(Z,"source");var se=_.find(Q,Ee=>((Ee,xe)=>{if(!(0,P.fS)(Ee.expr,xe.expr))return!1;var ye=k(Ee.selector?.data,X,re),Je=k(xe.selector?.data,X,re);return _.isEmpty(_.xor(ye,Je))})(Ee,Z));if(se){var Ve=Z.targetsQueryName;if(!_.isEmpty(Ve)){var ke=se.targetsQueryName;_.isEmpty(ke)&&(ke=se.targetsQueryName=[]),ke.push(...Ve)}var Ue=Z.aggregates;if(null!=Ue){var ot=se.aggregates;if(ot){if(Ue.min&&(ot.min=!0),Ue.max&&(ot.max=!0),Ue.average&&(ot.average=!0),Ue.median&&(ot.median=!0),Ue.percentiles)if(ot.percentiles){var ft=function(Ee){_.find(ot.percentiles,xe=>_.isEqual(Ee,xe))||ot.percentiles.push(Ee)};for(var Ct of Ue.percentiles)ft(Ct)}else ot.percentiles=Ue.percentiles}else se.aggregates=Ue}var Ke=Z.relatedObjects;if(null!=Ke){var Ae=se.relatedObjects;if(Ae){var we,Ne,Se,Ie;for(we in Ke){if(Ie)break;for(Ne in Ke[we]){Se=_.first(Ke[we][Ne]),Ie=!0;break}}if(null!=we&&null!=Ne){var me=Ae[we]=Ae[we]||{},Oe=me[Ne]=me[Ne]||[];_.some(Oe,Ee=>(0,l.fS)(Ee,Se))||Oe.push(Se)}}else se.relatedObjects=Ke}}else Q.push(Z)}function N(Q,Z,X,re,te){var se=Q.selector,Ve=F(Q.expr,Q.context,re),ke=Z.selectNamesOf(Ve);for(var Ue of ke){var ot=X[Ue];if(Q.aggregates&&_.isEmpty(Q.scopeRefs))return{queryName:Ue,queryDefn:Z,objectDefinitionRewrite:void 0};if(void 0!==ot){if(_.isEmpty(_.xor(ot,Q.scopeRefs)))return{queryName:Ue,queryDefn:Z,objectDefinitionRewrite:void 0}}else if(se&&!_.isEmpty(se.data))return X[Ue]=Q.scopeRefs,{queryName:Ue,queryDefn:Z,objectDefinitionRewrite:void 0}}Z=Z.addSelect(Ve);var Ke,ft=_.last(Z.select()),Ct=ft.name;if(i.f.assert(()=>(0,P.fS)(ft.expr,Ve),"Incorrect queryName"),!(Q.aggregates||se&&!_.isEmpty(se.data))&&te){var Ae=new S.F(Z);Z=Ae.rewrite(),Ae.didRewrite&&(Ke={from:Q.expr,to:(0,h.xA)(Ct),selector:Q.selector})}return X[Ct]=Q.scopeRefs,{queryName:Ct,relatedQueryNames:ke,queryDefn:Z,objectDefinitionRewrite:Ke}}function W(Q,Z,X,re){var ot,Ct,te=Q.aggregates,se=Q.selector,ke=Q.expr,Ue=F(Q.expr,Q.context,X),ft=Z.selectNameOf(Ue);if(te||se&&!_.isEmpty(se.data))return(Ct=ft)?{queryName:Ct,queryDefn:Z,objectDefinitionRewrite:void 0}:{queryName:(Z=Z.addSelect(Ue)).selectNameOf(Ue),queryDefn:Z,objectDefinitionRewrite:void 0};Z=Z.addSelect(Ue);var Ke=_.last(Z.select());if(i.f.assert(()=>(0,P.fS)(Ke.expr,Ue),"Incorrect queryName"),re){var Ae=new S.F(Z);Z=Ae.rewrite(),Ae.didRewrite&&(ot={from:ke,to:(0,h.xA)(Ke.name),selector:Q.selector})}return{queryName:Ke.name,relatedQueryNames:_.isEmpty(ft)?void 0:[ft],queryDefn:Z,objectDefinitionRewrite:ot}}function F(Q,Z,X){if(!(0,T.iV)(Q)||!(0,T.t3)(Q.arg)||!(0,T.jv)(Q.arg.source))return Q;var re=Q.arg.source.query;if(!re)return Q;var te=Z&&Z.filterContext;if(_.isEmpty(te)&&!X)return Q;if(X){var se=X.conditions(),Ve=_.some(se,ft=>(0,C._)(ft)===p.Ld.Measure);i.f.assert(()=>!Ve,"additional filters should not contain measure filters")}var ot=O(re,_.isEmpty(te)?[X]:I(_.map(te,ft=>ft.filter),X,!0,!1));return Q.accept(new z(ot))}function O(Q,Z){if((ke=>{var Ue=!1,ot=ke.from().sources();for(var ft in ot)if((0,f.$r)(ot[ft])){Ue=!0;break}return Ue})(Q))return function(Q,Z){if(!y.vQ.willFiltersAffectQuery(Q))return Q;var re,X=y.yl.unmerge(y.yl.fromSQFromAndSQFilters(Q.from(),Q.where()));re=_.isEmpty(X)?Z:I(X,y.yl.merge(Z),!1,!0);var te=y.yl.merge(re);return Q.where(te.where(),te.from())}(Q,Z);var re=Q.from().sources();for(var te in re){var se=re[te];if((0,D.y)(se)){var Ve=O(se.subquery,Z);return re[te]=new f.vd(Ve),Q.from(new f.cL(re))}}}function I(Q,Z,X,re){i.f.assertNonEmpty(Q,"filters should not be empty"),i.f.assertAnyValue(Z,"additionalFilters");var te=[],se=function(Q,Z){i.f.assertNonEmpty(Q,"filters should not be empty"),i.f.assertAnyValue(Z,"additionalFilters");var X=[];Z&&X.push({filters:[Z],kind:void 0});var re=function(Q){return i.f.assertNonEmpty(Q,"filters should not be empty"),_.groupBy(Q,Z=>{var X=Z.conditions();return i.f.assert(()=>1===_.size(X),"expecting only 1 condition in filter"),(0,C._)(X[0])})}(Q);return re[p.Ld.Column]&&X.push({filters:re[p.Ld.Column],kind:p.Ld.Column}),re[p.Ld.Subquery]&&X.push({filters:re[p.Ld.Subquery],kind:p.Ld.Subquery}),re[p.Ld.Exists]&&X.push({filters:re[p.Ld.Exists],kind:p.Ld.Exists}),re[p.Ld.Measure]&&X.push({filters:re[p.Ld.Measure],kind:p.Ld.Measure}),X}(Q,Z);for(var Ve of se){var ke=Ve.filters;Ve.kind===p.Ld.Subquery||Ve.kind===p.Ld.Measure?(Ve.kind===p.Ld.Measure&&X&&(ke=[K(Ve.filters)]),re?(i.f.assertValue(Z,"additionalFilters"),ke=_.map(ke,Ue=>(0,y.RD)(Ue,[Z]))):_.isEmpty(te)||(ke=_.map(ke,Ue=>(0,y.RD)(Ue,te))),te.push(...ke)):te.push(...ke)}return te}function K(Q){var X,Z=y.vQ.create(),re=function(){Z=Z.addSemanticFilter(te);var se=te.where()[0].target;_.isEmpty(X)||i.f.assert(()=>(0,r.s_)(se,X,(Ve,ke)=>(0,P.fS)(Ve,ke)),"targets should be same between all measure filters"),X=X||se||[]};for(var te of Q)re();return i.f.assert(()=>!_.isEmpty(X),"targets should not be empty for measure filters"),_.forEach(X,se=>{Z=Z.addSelect(se)}),y.yl.fromSubquery(Z,X)}class z extends E.b{constructor(Z){super(),this.query=Z}visitSubqueryRef(Z){return(0,h.v5)(this.query,Z.getAnnotations())}}function H(Q,Z,X){if(!Q)return!0;for(var re of Q){var te=(0,s.fs)(Z,re,X);if(_.isEmpty(te))return!0}return!1}function k(Q,Z,X){if(i.f.assertValue(Z,"querySelects"),i.f.assertValue(X,"queryRefsByRole"),_.isEmpty(Q))return null;var re=[];for(var te of Q)if((0,l.j9)(te)){var se=G(X,te.roles,Z);re.push(...se||[])}else if((0,l.qm)(te)){var Ve=G(X,Object.keys(X),Z);re.push(...Ve||[])}else(0,l.QV)(te)||(0,l.tQ)(te)?re.push(...te.exprs||[]):(0,l.yN)(te)?re.push(te.expr):i.f.assertNever(te);if(0!==re.length){var ke=[];for(var Ue of Z){var ot=u.m.indexOfExpr(re,Ue.expr);if(!(ot<0)&&(re.splice(ot,1),ke.push(Ue.name),0===re.length))break}if(!(re.length>0||0===ke.length))return ke}}function G(Q,Z,X){var re=[];for(var te of Z)re.push(...Q[te]||[]);var se=_.filter(X,Ve=>_.includes(re,Ve.name));return _.map(se,Ve=>Ve.expr)}},782310:function(ve,j,e){e.d(j,{y:function(){return S},P:function(){return y}});var r=e(60978),i=e(426313),a=e(990297),t=e(650543),l=e(14817),g=e(630881);class n{constructor(u,f){this.strategy=u,this.roles=f}compileMapping(u){t.f.assertValue(u,"mapping");var f=this.compileMetadata(),b={metadata:f};return u.categorical&&(b.categorical=this.compileCategorical(u.categorical)),u.table&&(b.table=this.compileTable(u.table)),u.single&&(b.single=this.compileSingle(u.single)),u.tree&&(b.tree=this.compileTree(u.tree)),u.matrix&&(b.matrix=this.compileMatrix(u.matrix)),u.scriptResult&&(b.scriptResult=this.compileScriptResult(u.scriptResult,f)),u.usage&&(b.usage=this.compileUsage(u.usage)),b}compileMetadata(){return this.strategy.compileMetadata()}compileCategorical(u){t.f.assertValue(u,"mapping");var f={};u.categories&&(f.categories=this.compileRoleMappingWithReduction(u.categories));var b=u.values;if(b){var V=this.compileGrouped(b),T=this.compileList(b),P=this.compileRoleMapping(b);f.values=p(V,T,P)}return u.includeEmptyGroups&&(f.includeEmptyGroups=u.includeEmptyGroups),null!=u.dataVolume&&(f.dataVolume=u.dataVolume),u.dataReductionAlgorithm&&(f.dataReductionAlgorithm=this.compileReduction(u.dataReductionAlgorithm)),f}compileTable(u){t.f.assertValue(u,"mapping");var T={rows:p(this.compileRoleMappingWithReduction(u.rows),this.compileListWithReduction(u.rows))};return null!=u.dataVolume&&(T.dataVolume=u.dataVolume),T}compileSingle(u){return t.f.assertValue(u,"mapping"),{role:this.compileRole(u.role)}}compileScriptResult(u,f){return t.f.assertValue(u,"mapping"),{dataInput:this.compileMapping(u.dataInput),script:this.compileScriptDefinition(u.script,f)}}compileScriptDefinition(u,f){return this.strategy.compileScriptDefinition(u,f)}compileTree(u){t.f.assertValue(u,"mapping");var f={};return u.nodes&&(f.nodes=this.compileForWithReduction(u.nodes)),u.values&&(f.values=this.compileFor(u.values)),null!=u.dataVolume&&(f.dataVolume=u.dataVolume),f}compileMatrix(u){t.f.assertValue(u,"mapping");var f={};if(u.rows){var b=this.compileForWithReduction(u.rows),V=this.compileListWithCompositeWithReduction(u.rows);f.rows=p(b,V)}if(u.columns&&(f.columns=this.compileForWithReduction(u.columns)),u.values){var T=this.compileRoleMapping(u.values),P=this.compileList(u.values);f.values=p(T,P)}return null!=u.dataVolume&&(f.dataVolume=u.dataVolume),u.includeEmptyGroups&&(f.includeEmptyGroups=u.includeEmptyGroups),f}compileUsage(u){if(t.f.assertValue(u,"usage"),u.regression||u.forecast||u.anomalyDetection)return u}compileListWithReduction(u){t.f.assertValue(u,"mapping");var f=this.compileList(u);if(f)return u.dataReductionAlgorithm&&(f.dataReductionAlgorithm=this.compileReduction(u.dataReductionAlgorithm)),f}compileList(u){if(t.f.assertValue(u,"mapping"),u.select)return{select:_.map(u.select,b=>this.compileRoleMapping(b))}}compileListWithCompositeWithReduction(u){t.f.assertValue(u,"mapping");var f=this.compileListWithComposite(u);if(f){if(u.dataReductionAlgorithm&&(f.dataReductionAlgorithm=this.compileReduction(u.dataReductionAlgorithm)),u.values){var b=this.compileRoleMapping(u.values),V=this.compileList(u.values);f.values=p(b,V)}return f}}compileListWithComposite(u){if(t.f.assertValue(u,"mapping"),u.select)return{select:_.map(u.select,(b,V)=>this.compileRoleMappingWithComposite(b,0===V))}}compileGrouped(u){if(t.f.assertValue(u,"mapping"),u.group){var V={group:{by:this.compileRole(u.group.by),select:_.map(u.group.select,T=>this.compileRoleMapping(T))}};return u.group.dataReductionAlgorithm&&(V.group.dataReductionAlgorithm=this.compileReduction(u.group.dataReductionAlgorithm)),V}}compileRoleMapping(u){return t.f.assertValue(u,"mapping"),p(this.compileBind(u),this.compileFor(u))}compileRoleMappingWithComposite(u,f){return t.f.assertValue(u,"mapping"),p(this.compileBind(u),this.compileFor(u),this.compileComposite(u,f))}compileRoleMappingWithReduction(u){t.f.assertValue(u,"mapping");var f=this.compileRoleMapping(u),b=this.compileList(u);if(f||b){var V=p(f,b);return V&&u.dataReductionAlgorithm&&(V.dataReductionAlgorithm=this.compileReduction(u.dataReductionAlgorithm)),V}}compileBind(u){if(t.f.assertValue(u,"mapping"),u.bind)return{bind:{to:this.compileRole(u.bind.to,u.bind.aggregates)}}}compileForWithReduction(u){t.f.assertValue(u,"mapping");var f=this.compileFor(u);if(f)return u.dataReductionAlgorithm&&(f.dataReductionAlgorithm=this.compileReduction(u.dataReductionAlgorithm)),f}compileFor(u){if(t.f.assertValue(u,"mapping"),u.for)return{for:{in:this.compileRole(u.for.in)}}}compileComposite(u,f){if(t.f.assertValue(u,"mapping"),u.composite){var V={composite:_.map(u.composite,T=>this.compileRoleMapping(T))};return t.f.assert(()=>f||!(u.dataReductionAlgorithm&&u.dataReductionAlgorithm.window)||u.synchronized,"window data reduction requires synchronization except in the first mapping"),u.synchronized&&(V.synchronized=u.synchronized),u.dataReductionAlgorithm&&(V.dataReductionAlgorithm=this.compileReduction(u.dataReductionAlgorithm)),V}}compileRole(u,f){return this.strategy.compileRole(u,f)}compileReduction(u){if(t.f.assertAnyValue(u,"algorithm"),u){var f={};if(u.top&&(f.top={},u.top.count&&(f.top.count=u.top.count)),u.bottom&&(f.bottom={},u.bottom.count&&(f.bottom.count=u.bottom.count)),u.sample&&(f.sample={},u.sample.count&&(f.sample.count=u.sample.count)),u.window&&(f.window={},u.window.count&&(f.window.count=u.window.count)),u.binnedLineSample&&(f.binnedLineSample={},u.binnedLineSample.count&&(f.binnedLineSample.count=u.binnedLineSample.count),u.binnedLineSample.warningCount&&(f.binnedLineSample.warningCount=u.binnedLineSample.warningCount)),u.overlappingPointsSample){var b=u.overlappingPointsSample;f.overlappingPointsSample={},b.count&&(f.overlappingPointsSample.count=b.count);var V=this.getCompiledRoleForCartesianRoleKind(g.Lv.X);V&&(f.overlappingPointsSample.x={role:V});var T=this.getCompiledRoleForCartesianRoleKind(g.Lv.Y);T&&(f.overlappingPointsSample.y={role:T})}return u.topNPerLevel&&(f.topNPerLevel={count:u.topNPerLevel.count,fallbackTopCount:u.topNPerLevel.fallbackTopCount}),f}}getCompiledRoleForCartesianRoleKind(u){var f=_.filter(this.roles,b=>b.cartesianKind===u);if(t.f.assert(()=>_.size(f)<=1,"getCompiledRoleForCartesianRoleKind expects only one role mapping to a CartesianRoleKind"),1===_.size(f))return this.compileRole(f[0].name)}}function p(E,u,f){if(E||u||f)return!E||u||f?E||!u||f?E||u||!f?$.extend(E,u,f):f:u:E}var s=e(230343),d=e(630190),o=e(820013),v=e(521214),m=e(140346),c=e(806982),C=e(832573);function y(E){return t.f.assertValue(E,"options"),new h(E.queryDefn,E.queryProjections,E.schema,E.objectDescriptors,E.objectDefinitions,E.roles||[],E.featureSwitches,E.transformPluginService).compileMetadata().columns}function S(E){t.f.assertValue(E,"options");var u=E.mappings;if(!u)return[];var f=E.roles||[],b=new h(E.queryDefn,E.queryProjections,E.schema,E.objectDescriptors,E.objectDefinitions,E.roles||[],E.featureSwitches,E.transformPluginService),V=new n(b,f);return _.map(u,T=>V.compileMapping(T))}class h{constructor(u,f,b,V,T,P,D,w){this.featureSwitches=D,this.transformPluginService=w,t.f.assertValue(u,"queryDefn"),t.f.assertValue(f,"queryProjections"),t.f.assertValue(b,"schema"),t.f.assertAnyValue(V,"objectDescriptors"),t.f.assertAnyValue(T,"objectDefinitions"),t.f.assertValue(P,"roles"),t.f.assertValue(w,"transformPluginService"),this.queryDefn=u,this.queryProjections=f,this.schema=b,this.objectDescriptors=V,this.objectDefinitions=T,this.roles=P,this.exprEvaluationContext=C.m.buildExprEvaluationContext(this.queryDefn.from())}compileRole(u,f){t.f.assertValue(u,"role");var b,V=this.queryDefn.select(),T=this.queryProjections[u],P=(0,a.rC)(this.roles,u);if(T&&T.all().length>0){var D=!1;P&&(D=!(this.queryDefn.hasVisualCalculations()&&!this.featureSwitches.visualCalculationOnComboChart)&&(0,c._T)(this.schema,this.queryDefn,this.queryProjections,P.name));var w=this.getScalarKeyRoleItemQueryRef(T);b=_.map(T.all(),R=>{var B=R.queryRef===w,N=V.withName(R.queryRef);return N&&this.createDataViewRoleItem(N,P,D,B,R.hidden)}),_.some(b,R=>null==R)&&(t.f.assertFail("Some projections aren't in the query select"),b=_.filter(b,R=>null!=R)),t.f.assert(()=>b.filter(R=>R.scalarKeyInfo&&R.scalarKeyInfo.hasScalarKey).length<=1,"We don't support multiple scalar keys in a role - visuals wouldn't know which one to select")}var M={role:u,items:b},A=this.queryProjections[u];return A&&(A.showAll&&(M.showAll=!0),A.activeProjectionRefs&&(M.activeItems=A.activeProjectionRefs)),f&&(M.aggregates=_.cloneDeep(f)),M}getScalarKeyRoleItemQueryRef(u){t.f.assertValue(u,"projections"),t.f.assertValue(!_.isEmpty(u.all()),"projections.all");var f=u.activeProjectionRefs;return _.isEmpty(f)?u.all()[0].queryRef:_.last(f)}createDataViewRoleItem(u,f,b,V,T){t.f.assertValue(u,"select");var P={queryName:u.name},D=this.tryGetExprType(u.expr);if(D&&(P.type=D),f&&null!=f.joinPredicate)P.joinPredicate=f.joinPredicate;else if((0,r.Im)(u.expr)){var w=this.queryDefn.transforms();if(!_.isEmpty(w)){var M=!1;for(var A of w){var R=this.transformPluginService.getTransformPlugin(A.algorithm)?.outputRoles;if(!_.isEmpty(R))for(var B of R)if(B.algorithmRole===u.expr.role&&null!=B.joinPredicateBehavior){P.joinPredicate=B.joinPredicateBehavior,M=!0;break}if(M)break}}}return P.scalarKeyInfo={hasScalarKey:b&&V},P.hidden=T,P}tryGetExprType(u){t.f.assertValue(u,"expr");var f=u.getMetadata(this.schema,this.exprEvaluationContext);if(f)return f.type}compileMetadata(){var u=this,f={columns:[]},b=this.queryDefn.orderBy(),V=function(W){var F=_.find(b,O=>(0,i.fS)(O.expr,W.expr)),U=C.m.getParameterMetadata(W.expr,u.schema);f.columns.push({displayName:void 0,queryName:W.name,type:u.tryGetExprType(W.expr),sort:F&&F.direction,parameter:U})};for(var T of this.queryDefn.select())V(T);var D=this.objectDefinitions;if(!D||!this.objectDescriptors)return f;var w=(0,d.Me)(D),M=(0,v.X)(),A=(0,l.Ue)();if(!_.isEmpty(w.metadataOnce)){var R=this.evaluateMetadataOnceObjects(w.metadataOnce,M,A);R&&(f.objects=R)}if(!_.isEmpty(w.metadata))for(var B of f.columns){var N=this.evaluateMetadataObjects(B,w.metadata,M,A);N&&(B.objects=N)}return f}evaluateMetadataOnceObjects(u,f,b){var V,T=new o.Q(this.featureSwitches,b);for(var P of u){var D=P.selector&&P.selector.id,w=P.selector?.order,M=(0,d.PJ)(T,f,this.objectDescriptors,P.objects);M&&(V||(V={}),(0,s.PM)(V,M,D,w))}return V}evaluateMetadataObjects(u,f,b,V){var T,P=new o.Q(this.featureSwitches,V);for(var D of f){var w=D.selector;if(w.metadata&&w.metadata===u.queryName){var M=(0,d.PJ)(P,b,this.objectDescriptors,D.objects);M&&(T||(T={}),(0,s.PM)(T,M,w.id,w.order))}}return T}compileScriptDefinition(u,f){t.f.assertValue(u,"mapping");var b=(0,m.Uo)(this.queryProjections,this.queryDefn.select(),this.schema,u,f.objects);return{source:u.source,provider:u.provider,scriptInput:b,scriptSourceDefault:u.scriptSourceDefault,scriptProviderDefault:u.scriptProviderDefault,scriptOutputType:u.scriptOutputType}}}},738071:function(ve,j,e){e.d(j,{Az:function(){return g},Ho:function(){return d},KB:function(){return n},fg:function(){return t},p5:function(){return a}});var r=e(893910),i=e(650543),a="*";function t(o,v,m,c,C){return i.f.assertValue(C,"dataViewObjectVersioning.getThemePropertyId - renamedObjectPropertyVersionDictionary should exist."),l(C[o],v,m,c)||l(C[a],v,m,c)||{objectName:v,propertyName:m}}function l(o,v,m,c){var C=o&&o[v]&&o[v][m];if(C){for(var y=C.currentId;C&&(0,r.lt)(c,C.version);)y=C.previousId,C=C.previous;return y}}function g(o,v,m,c,C,y){return n(o,v,null,m,c,C,y,()=>!1)===r.aD}function n(o,v,m,c,C,y,S,h){return i.f.assertValue(o,"dataViewObjectVersioning.getVersionForDefinition - addedObjectPropertyVersionDictionary should exist."),(0,r.Fp)(p(o[a],C,y,v,m,S,h),p(o[c],C,y,v,m,S,h))}function p(o,v,m,c,C,y,S){var h=o&&o[v];return h?(0,r.Fp)(s(h[a],c,C,y,S),s(h[m],c,C,y,S)):r.aD}function s(o,v,m,c,C){if(!o)return r.aD;for(var S,y=function(E){var u=o[E];if(i.f.assert(()=>!E||!(0,r.lt)(u.version,o[E-1].version),"We iterate through the visual object property versions in decreasing order of version, \n                    that way if we match something we know we can to stop right there.\n                    If this assert triggers it means that the object property versions are not sorted in increasing order."),!(0,r.lt)(c,u.version))return 0;var f=u.property.matchByContents;return f&&!f(v,m)||u.property.isExprBound&&!C()?void 0:{v:u.version}},h=o.length-1;h>=0&&0!==(S=y(h));h--)if(S)return S.v;return r.aD}function d(o,v,m){var c=o[m];if(c){var C=c[v.objectName];if(C)return _.reduce(C[v.propertyName],(S,h)=>h.property.matchByContents||h.property.isExprBound?S:(0,r.Fp)(S,h.version),C["*"]?.[0].version??r.aD)}return r.aD}},703106:function(ve,j,e){e.d(j,{lr:function(){return t}});var r=e(650543),i=e(630881),a=e(951202);function t(m,c){r.f.assertValue(m,"mappings"),r.f.assertValue(c,"indicesByName");var C=m.length;if(1===C)return{mapping:m[0]};for(var y,S=[],h=m[0].updateType,E=0;E<C;E++){var u=m[E];if(h=l(u.updateType,h),!u.categorical)return;0===E&&(y={metadata:u.metadata,categorical:{}}),g(y.categorical,u.categorical),S.push(o(c,u.categorical))}return y.updateType=h,{mapping:y,splits:S}}function l(m,c){return null===m||m===i.Ky.Immediate||null===c||c===i.Ky.Immediate?i.Ky.Immediate:m===c?m:m===i.Ky.Deferred||c===i.Ky.Deferred?i.Ky.Deferred:i.Ky.MetadataOnly}function g(m,c){if(c.categories)if(m.categories){var C=function(m,c){if(r.f.assertValue(m,"target"),r.f.assertValue(c,"source"),!m&&!c)return!0;if(m&&c){if(!m.categories&&!c.categories)return!0;if(m.categories&&c.categories){var C=m.categories,y=c.categories;return!!p(C.dataReductionAlgorithm,y.dataReductionAlgorithm)&&(C.bind||y.bind?_.isEqual(C.bind,y.bind):C.for||y.for?_.isEqual(C.for,y.for):!C.select&&!y.select||_.isEqual(C.select,y.select))}}return!1}(m,c);r.f.assert(()=>C,"target.categories & source.categories must match when multiple mappings are used.")}else m.categories=c.categories;if(null!=c.dataVolume||null!=m.dataVolume){var y=Math.max(c.dataVolume||0,m.dataVolume||0);c.dataVolume=m.dataVolume=y}if(c.dataReductionAlgorithm)if(m.dataReductionAlgorithm){var S=p(c.dataReductionAlgorithm,m.dataReductionAlgorithm);r.f.assert(()=>S,"target.dataReductionAlgorithm & source.dataReductionAlgorithm must be compatible when multiple mappings are used.")}else m.dataReductionAlgorithm=c.dataReductionAlgorithm;if(c.values){var h=m.values;h||(h=m.values={});var E=c.values,u=E.group;if(function(m,c){(c.bind||c.for)&&(m.select||(m.select=[]),m.select.push(c))}(h,E),d(h,E.select),u){var f=m.values.group;f?d(f,u.select):m.values.group={select:u.select.concat([]),by:u.by,dataReductionAlgorithm:u.dataReductionAlgorithm}}}}function p(m,c){return!m||!c||_.isEqual(m,c)}function d(m,c){c&&(m.select||(m.select=[]),m.select.push(...c||[]))}function o(m,c){var C={selects:{}},y={visitRole:S=>function(m,c,C){r.f.assertValue(m,"split"),r.f.assertValue(c,"indicesByName"),r.f.assertValue(C,"role");var y=C.items;if(!_.isEmpty(C.items)){var S=[];for(var h of y){var u=c[h.queryName];S[u]||(m.selects[u]=!0,S[u]=!0)}}}(C,m,S)};return(0,a.Sr)(c.categories,y),(0,a.vS)(c.values,y),(0,a.fl)(c.values,y),C}},18121:function(ve,j,e){e.d(j,{fz:function(){return d},v4:function(){return o}});var r=e(803205),i=e(990297),a=e(650543),t=e(734531),l=e(301336),g=e(702730),n=e(833059),p=e(248505),s=e(785585);function d(F){return a.f.assertValue(F,"loc"),{kpiGoalFmt:F.get("KpiGoalDisplayName"),kpiStatusFmt:F.get("KpiStatusDisplayName"),kpiTrendFmt:F.get("KpiTrendDisplayName")}}function o(F,U,O,x){var I=new g.ud;for(var L of(I.name=U,I.cubeName=x,I.entities=(0,i.bv)(),F.canEdit&&(F.Capabilities||(F.Capabilities={}),F.Capabilities.CanEdit=F.canEdit),I.capabilities=function(F){return{canEdit:F&&F.CanEdit||!1,discourageQueryAggregateUsage:F&&F.DiscourageQueryAggregateUsage||!1,isExtendable:F&&F.IsExtendable||!1,isQnaEnabled:F&&F.IsQnaEnabled||!1,normalizedFiveStateKpiRange:F&&F.NormalizedFiveStateKpiRange||!1,supportsMedian:F&&F.SupportsMedian||!1,supportsPercentile:F&&F.SupportsPercentile||!1,supportsScopedEval:F&&F.SupportsScopedEval||!1,supportsStringMinMax:F&&F.SupportsStringMinMax||!1,supportsMultiTableTupleFilters:F&&F.SupportsMultiTableTupleFilters||!1,supportsTimeIntelligenceQuickMeasures:F&&F.SupportsTimeIntelligenceQuickMeasures||!1,supportsCalculatedColumns:F&&!1!==F.SupportsCalculatedColumns||!1,supportsGrouping:F&&!1!==F.SupportsGrouping||!1,limitMultiColumnFiltersToQueryGroupColumns:F&&F.LimitMultiColumnFiltersToQueryGroupColumns||!1,supportsBinnedLineSample:F&&F.SupportsBinnedLineSample||!1,supportsOverlappingPointsSample:F&&F.SupportsOverlappingPointsSample||!1,supportsQna:F&&F.SupportsQna||!1,supportsInstanceFilters:F&&F.SupportsInstanceFilters||!1,supportsDataSourceVariables:F&&F.SupportsDataSourceVariables||!1,insights:F?N(F.Insights):{},supportsFastRefresh:F&&F.SupportsFastRefresh||!1,supportsSubqueryRegrouping:F&&F.SupportsSubqueryRegrouping||!1,supportsTopNPerLevel:F&&F.SupportsTopNPerLevel||!1,supportsExtensionColumns:F&&F.SupportsExtensionColumns||!1,canEditChangeDetectionMeasure:F&&F.CanEditChangeDetectionMeasure||!1,supportsGroupSynchronization:F&&F.SupportsGroupSynchronization||!1,supportsScopedDataReduction:F&&F.SupportsScopedDataReduction||!1,transformCapabilities:W(F&&F.TransformCapabilities),supportChangeDetectionMeasureRefresh:F&&F.SupportChangeDetectionMeasureRefresh||!1,supportsSparklineData:F&&F.SupportsSparklineData||!1,supportsVisualCalculations:F&&F.SupportsVisualCalculations||!1}}(F.Capabilities),F.Entities))I.entities.push(v(L,I.capabilities,O));for(var K=0,z=F.Entities.length;K<z;++K)w(I.entities[K],F.Entities[K],I.entities);return I}function v(F,U,O){var x=F.Capabilities,I=F.Source,L={name:F.Name,displayName:F.DisplayName||F.Name,stableName:F.StableName,description:F.Description,visibility:D(F.Hidden,F.ShowAsVariationsOnly,F.Private),calculated:F.Calculated,queryable:F.Queryable,properties:(0,i.bv)(),hierarchies:(0,i.bv)(),displayFolders:(0,i.bv)(),navigationProperties:(0,i.bv)(),errorMessage:F.ErrorMessage,isDateTable:!0===F.IsDateTable,isCalculationGroup:F.IsCalculationGroup,source:{mode:I&&I.Mode,refreshedTime:I&&I.RefreshedTime,directQuerySourceType:I&&I.DirectQuerySourceType,directQuerySourceName:I&&I.DirectQuerySourceName},capabilities:{canRefresh:!x||!1!==x.CanRefresh,canHaveMeasures:!x||!1!==x.CanHaveMeasures,canEditSource:U.canEdit&&(!x||!1!==x.CanEditSource),canRename:U.canEdit&&(!x||!1!==x.CanRename),canDelete:U.canEdit&&(!x||!1!==x.CanDelete),canEditStorageMode:U.canEdit&&(!x||!1!==x.CanEditStorageMode),supportsClustering:U.canEdit&&(!x||!1!==x.SupportsClustering),supportsBinByCount:U.canEdit&&(!x||!1!==x.SupportsBinByCount),limitOnNumberOfGroups:x&&x.LimitOnNumberOfGroups||null,dataView:x&&x.DataView||null}};for(var K of F.Properties)L.properties.push(E(K));a.f.assert(()=>L.properties.length===F.Properties.length,"Converted schema properties array is not the expected length.");for(var z=0,H=F.Properties.length;z<H;++z){var J=L.properties[z],k=F.Properties[z];a.f.assertValue(J,"no result property for contract property"),J.canDelete=U.canEdit&&!1!==k.CanDelete;var G=k.Column;if(G){var q=J.column=J.column||{};G.Keys&&(q.keys=y(G.Keys,L.properties)),G.OrderBy&&(q.orderBy=y(G.OrderBy,L.properties))}var Q=k.Measure;if(Q){var Z=J.measure=J.measure||{};if(Z.canEdit=!1!==Q.canEdit,Q.FormatBy&&(Z.formatBy=Q.FormatBy),Q.Kpi){var X=Z.kpi=S(Q.Kpi,L.properties,U);h(X.goal,J,r.oo.Goal,O),h(X.status,J,r.oo.Status,O),h(X.trend,J,r.oo.Trend,O)}Q.Template&&(Z.template={name:Q.Template.DaxTemplateName}),Q.ChangeDetectionMetadata&&(Z.changeDetectionMetadata={refreshInterval:Q.ChangeDetectionMetadata.RefreshInterval}),null!=Q.DistributiveAggregate&&(Z.distributiveAggregate=Q.DistributiveAggregate)}}if(F.Hierarchies)for(var re of F.Hierarchies)L.hierarchies.push(c(re,L.properties));if(F.DisplayFolders)for(var te of F.DisplayFolders)L.displayFolders.push(m(te,L.properties,L.hierarchies));return F.DefaultLabelColumnRef&&(L.defaultLabel=L.properties.withName(F.DefaultLabelColumnRef)),F.DefaultFieldPropertyRefs&&(L.defaultFields=_.map(F.DefaultFieldPropertyRefs,se=>L.properties.withName(se))),L}function m(F,U,O){var x={name:F.Name,displayName:F.DisplayName||F.Name,description:F.Description,properties:(0,i.bv)(),hierarchies:(0,i.bv)(),displayFolders:(0,i.bv)()};if(F.DisplayItems)for(var I of F.DisplayItems)I.PropertyRef&&U?x.properties.push(U.withName(I.PropertyRef)):I.HierarchyRef&&O?x.hierarchies.push(O.withName(I.HierarchyRef)):I.DisplayFolder&&x.displayFolders.push(m(I.DisplayFolder,U,O));return x}function c(F,U){var O={name:F.Name,displayName:F.DisplayName||F.Name,stableName:F.StableName,description:F.Description,hidden:F.Hidden,levels:(0,i.bv)(),canDelete:!1!==F.CanDelete};for(var x of F.Levels)O.levels.push(C(x,U));return O}function C(F,U){return{name:F.Name,displayName:F.DisplayName||F.Name,stableName:F.StableName,description:F.Description,column:U.withName(F.Column),canDelete:!1!==F.CanDelete}}function y(F,U){a.f.assertValue(F,"names"),a.f.assertValue(U,"properties");var O=(0,i.bv)();for(var x of F)O.push(U.withName(x));return O}function S(F,U,O){var x=O.normalizedFiveStateKpiRange,I={statusMetadata:{graphic:F.StatusGraphic,normalizedFiveStateKpiRange:x},status:U.withName(F.Status),goal:U.withName(F.Goal),trend:U.withName(F.Trend)};return F.TrendGraphic&&(I.trendMetadata={graphic:F.TrendGraphic,normalizedFiveStateKpiRange:x}),I}function h(F,U,O,x){if(F){var I=U.displayName;switch(O){case r.oo.Goal:I=(0,t.W)(x.kpiGoalFmt,I);break;case r.oo.Status:I=(0,t.W)(x.kpiStatusFmt,I);break;case r.oo.Trend:I=(0,t.W)(x.kpiTrendFmt,I);break;default:a.f.assertFail("Unsupported Kpi Type")}F.displayName=I,F.hidden=!1,F.kpiValue=U}}function E(F){return a.f.assertValue(F,"contract"),{displayName:F.DisplayName||F.Name,stableName:F.StableName,description:F.Description,name:F.Name,type:p.Ge.fromPrimitiveTypeAndCategory(F.DataType,F.DataCategory),column:F.Column?u(F.Column):null,kind:P(F),format:F.FormatString,hidden:F.Hidden,isPrivate:F.Private,queryable:F.Queryable,errorMessage:F.ErrorMessage}}function u(F){a.f.assertValue(F,"contract");var U={defaultAggregate:F.DefaultAggregate,idOnEntityKey:F.IdOnEntityKey,calculated:F.Calculated,variations:(0,i.bv)(),aggregateBehavior:F.AggregateBehavior};return void 0!==F.DefaultValue&&(U.defaultValue=(0,s.bE)(F.DefaultValue)),U}function f(F,U){return a.f.assertValue(F,"contract"),a.f.assertValue(U,"entity"),{kind:null!=F.Kind?F.Kind:n.OT.WhatIf,mappedMParameterNames:F.MappedMParameterNames,supportsMultipleValues:F.SupportsMultipleValues,supportsSelectAll:F.SupportsSelectAll}}function b(F,U){a.f.assertValue(F,"contract"),a.f.assertValue(U,"entity");var O={groupedColumns:_.map(F.GroupedColumns,x=>x.ColumnRef&&!x.LevelRef?U.properties.withName(x.ColumnRef):x.LevelRef&&!x.ColumnRef?U.hierarchies.withName(x.LevelRef.Hierarchy).levels.withName(x.LevelRef.Level):void a.f.assertFail("unknown ClientConceptualGroupedColumnContainer"))};return F.BinningMetadata&&(O.binningMetadata=function(F){a.f.assertValue(F,"contract");var U={};return F.BinSize&&(U.binSize=function(F){return a.f.assertValue(F,"contract"),{value:F.Value,unit:F.Unit}}(F.BinSize)),U}(F.BinningMetadata)),O}function P(F){return F.Measure?n.NT.Measure:n.NT.Column}function D(F,U,O){var x=n.Ot.Visible;return F&&(x|=n.Ot.Hidden),U&&(x|=n.Ot.ShowAsVariationsOnly),O&&(x|=n.Ot.IsPrivate),x}function w(F,U,O){if(a.f.assertValue(F,"entity"),a.f.assertValue(U,"contract"),a.f.assertValue(O,"entities"),U.NavigationProperties)for(var x of U.NavigationProperties)F.navigationProperties.push(M(x,F,O));if(U.Properties)for(var I=0,L=U.Properties.length;I<L;++I){var K=U.Properties[I],z=K.Column;if(z&&z.Variations&&A(F.properties[I].column,z,F),z&&z.GroupingMetadata&&(F.properties[I].column.groupingMetadata=b(z.GroupingMetadata,F)),z&&z.ParameterMetadata){var H=f(z.ParameterMetadata,F);if(F.properties[I].column.parameterMetadata=H,H.kind===n.OT.Field)for(var J of F.properties)if(J?.column?.keys&&1===J.column.keys.length&&null!=J.column.keys[0].column?.parameterMetadata?.kind&&J.column.keys[0].column.parameterMetadata.kind===n.OT.Field){J.column.parameterMetadata=H;break}}var k=K.Measure;k&&!_.isEmpty(k.DistributiveBy)&&(F.properties[I].measure.distributiveBy=_.map(k.DistributiveBy,G=>O.withName(G)))}}function M(F,U,O){a.f.assertValue(F,"contract");var x={name:F.Name,isActive:F.Active,sourceColumn:null,targetEntity:O.withName(F.TargetEntity),sourceMultiplicity:F.SourceMultiplicity,targetMultiplicity:F.TargetMultiplicity,behavior:F.Behavior||n.gi.Default,crossFilterDirection:l.b$.valueOrDefault(F.CrossFilterDirection,n.oL.Single)};if(F.SourceColumn){var I=U.properties.withName(F.SourceColumn);I&&(x.sourceColumn=I.column)}return x}function A(F,U,O){for(var x of(a.f.assertValue(F,"column"),a.f.assertValue(U,"contract"),U.Variations))F.variations.push(R(x,O))}function R(F,U){a.f.assertValue(F,"contract");var O={name:F.Name,isDefault:F.Default,navigationProperty:null,defaultHierarchy:null,defaultProperty:null},x=U;return F.NavigationProperty&&(O.navigationProperty=U.navigationProperties.withName(F.NavigationProperty),x=O.navigationProperty.targetEntity),F.DefaultHierarchy&&(O.defaultHierarchy=x.hierarchies.withName(F.DefaultHierarchy)),F.DefaultProperty&&(O.defaultProperty=x.properties.withName(F.DefaultProperty)),O}function N(F){return F?{supportsDistributionFactors:F.SupportsDistributionFactors||!1,supportsExplainChange:F.SupportsExplainChange||!1,supportsExplore:F.SupportsExplore||!1,supportsKeyDrivers:F.SupportsKeyDrivers||!1,supportsRelatedInsights:F.SupportsRelatedInsights||!1,supportsDecomposition:F.SupportsDecomposition||!1,supportsExplainAnomalies:F.SupportsExplainAnomalies||!1,supportsCompatibleFields:F.SupportsCompatibleFields||!1,supportsQuerySuggestions:F.SupportsQuerySuggestions||!1,supportsExplainVarianceToTarget:F.SupportsExplainVarianceToTarget||!1,supportsGenerateSummaries:F.SupportsGenerateSummaries||!1}:{}}function W(F){return F?{supportedTransforms:F.SupportedTransforms}:{supportedTransforms:[]}}},511947:function(ve,j,e){e.d(j,{No:function(){return v},U6:function(){return m}});var r=e(371223),i=e(266218),a=e(283960),t=e(177878),l=e(856275),g=e(650543),n=e(395918),p=e(841708),s=e(932625),d=e(18121);function v(y,S,h,E,u,f,b){return new C(y,S,h,E,u,f,b)}function m(y,S,h,E,u){return new c(y,S,h,E,u)}class c{constructor(S,h,E,u,f){this.httpService=S,this.promiseFactory=h,this.uri=E,this.featureSwitches=u,this.preloadConceptualSchemaService=f}execute(S,h){var u,f,b,E=this.promiseFactory.defer(!1);return h.event.info.endPoint=this.uri,this.preloadConceptualSchemaService&&(u=this.preloadConceptualSchemaService.getPreloadedConceptualSchema(),f=this.preloadConceptualSchemaService.getPreloadConceptualSchemaUrl(),b=this.preloadConceptualSchemaService.getPreloadConceptualSchemaRequestBody()),JSON.stringify(S)===b&&this.uri===f&&u?(u.then(V=>{1!==V.schemas.length||V.schemas[0].modelId!==S.modelIds[0]||V.error?this.httpExecute(S,h,E):((0,l.bF)(this.uri,h.event.info),E.resolve({requestId:this.preloadConceptualSchemaService.getPreloadConceptualSchemaResponseRequestId(),schemas:V.schemas}))},V=>{this.httpExecute(S,h,E)}),this.preloadConceptualSchemaService.clear()):this.httpExecute(S,h,E),E.promise}httpExecute(S,h,E){this.httpService.post(this.uri,S,this.httpService.powerbiRequestOptions(h.event,"GetConceptualSchema")).then(u=>{this.setTelemetryEventInfo(h.event,u),E.resolve({requestId:u.responseRequestId||u.requestId,schemas:u.data.schemas})},u=>{var f=u||{};this.setTelemetryEventInfo(h.event,f),E.reject({requestId:f.responseRequestId||f.requestId,error:f.error,status:f.status,schemas:void 0})})}setTelemetryEventInfo(S,h){S.info.clientAndServerRequestIdMatch=(0,l.Cx)(h),S.info.responseRequestId=(0,l.yC)(h),S.info.requestId=h.requestId,(0,l.bF)(this.uri,S.info)}}var C=(()=>{class y{constructor(h,E,u,f,b,V,T){this.promiseFactory=h,this.telemetryService=E,this.localeProvider=u,this.conceptualSchemaProxyCommunication=f,this.locOptions=b,this.featureSwitches=V,this.embedModeService=T,g.f.assertValue(h,"promiseFactory"),g.f.assertValue(f,"conceptualSchemaProxyCommunication"),g.f.assertValue(b,"locOptions")}execute(h){g.f.assertValue(h,"options");var E=h.dataSources;if(g.f.assertNonEmpty(E,"dataSources"),!E||E.length>1)return this.promiseFactory.reject({},!1);var u=this.promiseFactory.defer(!1),f=_.map(E,w=>w.name),b={modelIds:_.map(E,w=>w.id),userPreferredLocale:this.localeProvider.getUserPreferredLocale()};E.some(w=>w.perspectiveId)&&(b.perspectiveIds=_.map(E,w=>w.perspectiveId));var T=JSON.stringify(b.modelIds),P=JSON.stringify(E.map(w=>w.objectId)),D=this.telemetryService.startEvent(s.oj,{endPoint:"",datasetIds:T,clientAndServerRequestIdMatch:!0,embedType:this.embedModeService&&this.embedModeService.getEmbedTypeDescription(),modelObjectIds:P});return this.conceptualSchemaProxyCommunication.execute(b,D).then(w=>this.onSuccess(w,f,u,D),w=>this.onError(w,u,D)),u.promise}transform(h){var E=h;if(!E.data)return{schema:null,error:E.error};var u=E.data;g.f.assertValue(u,"schemaResponse");var f=u.schemas;g.f.assertNonEmpty(f,"schemaResponses");var b=E.schemaNames;g.f.assert(()=>b.length===f.length,"schemaNames.length === schemaResponsess.length");for(var V={},T=0,P=f.length;T<P;T++){var D=b[T];V[D]=(0,d.v4)(f[T].schema,D,this.locOptions,f[T].cubeName)}return{schema:new p.l({schemas:V})}}onSuccess(h,E,u,f){if(_.isEmpty(h.schemas))this.onError(h,u,f);else{for(var b of h.schemas){var V=b.error;if(V){u.reject({data:null,error:{requestId:h.requestId,serviceError:V,clientError:null,ignorable:!0}});var T=(0,t.W2)(V);return T.asErrorCode=V.parameters&&V.parameters.ASErrorCode,void f.reject(T)}}u.resolve({data:h,schemaNames:E,error:null}),this.setTelemetryEventInfo(f,h),f.resolve()}}setTelemetryEventInfo(h,E){var u={measure:{count:0,descriptionCount:0,descriptionMinLength:Number.MAX_VALUE,descriptionMaxLength:0,descriptionCombinedLength:0},column:{count:0,descriptionCount:0,descriptionMinLength:Number.MAX_VALUE,descriptionMaxLength:0,descriptionCombinedLength:0}};try{E.schemas.forEach(f=>{f.schema.Entities.forEach(b=>{b.Properties.forEach(V=>{var T=null!=V.Column?"column":null!=V.Measure?"measure":null;null!=T&&(u[T].count++,u[T].descriptionCount+=V.Description?.length>0?1:0,u[T].descriptionMinLength=Math.min(u[T].descriptionMinLength,V.Description?.length||Number.MAX_VALUE),u[T].descriptionMaxLength=Math.max(u[T].descriptionMaxLength,V.Description?.length||0),u[T].descriptionCombinedLength+=V.Description?.length||0)})})}),h.event.info.measureCount=u.measure.count,h.event.info.measureDescriptionCount=u.measure.descriptionCount,h.event.info.measureDescriptionMinLength=u.measure.descriptionCount>0?u.measure.descriptionMinLength:void 0,h.event.info.measureDescriptionMaxLength=u.measure.descriptionCount>0?u.measure.descriptionMaxLength:void 0,h.event.info.measureDescriptionCombinedLength=u.measure.descriptionCount>0?u.measure.descriptionCombinedLength:void 0,h.event.info.columnCount=u.column.count,h.event.info.columnDescriptionCount=u.column.descriptionCount,h.event.info.columnDescriptionMinLength=u.column.descriptionCount>0?u.column.descriptionMinLength:void 0,h.event.info.columnDescriptionMaxLength=u.column.descriptionCount>0?u.column.descriptionMaxLength:void 0,h.event.info.columnDescriptionCombinedLength=u.column.descriptionCount>0?u.column.descriptionCombinedLength:void 0}catch{return}}onError(h,E,u){var f=h.error,b=f||h.status!==i.W.TooManyRequests?new n.n8(h.error||{code:"<no-PowerBIApiErrorObject>"}):new n.TZ;E.reject({data:null,error:{requestId:h.requestId,clientError:b,status:h.status}}),u.reject((0,t.GB)(f,h.status))}}return(0,r.__decorate)([(0,a.UE)(s.sS),(0,r.__metadata)("design:type",Function),(0,r.__metadata)("design:paramtypes",[Object]),(0,r.__metadata)("design:returntype",Object)],y.prototype,"execute",null),y})()},211988:function(ve,j,e){e.d(j,{g:function(){return i},y:function(){return a}});var r=e(650543);function i(t){return r.f.assertValue(t,"dataQuery"),r.f.assertNonEmpty(t.Commands,"dataQuery.Commands must not be empty"),r.f.assertValue(t.Commands[0].SemanticQueryDataShapeCommand,"The first command must be a SemanticQuery command"),r.f.assertValue(t.Commands.length<=3,"dataQuery.Commands can hold up to three commands"),r.f.assertValue(1===t.Commands.length||2===t.Commands.length&&(t.Commands[1].ScriptVisualCommand||t.Commands[1].ExportDataCommand),"The additional commands should be ScriptVisualCommand or ExportDataCommand."),t.Commands[0].SemanticQueryDataShapeCommand}function a(t){return r.f.assert(()=>t&&t.Commands&&t.Commands.length>0,"data query should not be empty"),t.Commands.length>1}},29554:function(ve,j,e){e.d(j,{p:function(){return M}});var r=e(511947),i=e(615136),a=e(650543),t=e(301336),l=e(442407),g=e(247425),n=e(803205),p=e(138334);function d(R){return(B,N,W)=>{var F={query:B,extensions:void 0,queryRewrites:N},U=new C(N,W);return F.query=B.rewrite(U),F.extensions=U.extensionSchema,F.queryRewrites=U.queryRewrites,F}}class C extends g.b{constructor(B,N){super(),this.queryRewrites=B,this.extensionSchema=N,this.existingEntityNames={},this.existingExtensionFieldNames={},a.f.assertAnyValue(B,"queryRewrites"),a.f.assertAnyValue(N,"extensionSchema")}visitNativeMeasure(B){this.ensureSchemaInitialized(),this.nativeMeasuresTargetEntity||(this.nativeMeasuresTargetEntity={Name:(0,t.zE)(this.existingEntityNames,"NativeMeasures_778a1d25-9ebf-4f33-a1c3-827ad532874e"),NamingBehavior:n.CP.Flexible,Measures:[]},this.extensionSchema.Entities.push(this.nativeMeasuresTargetEntity));var N=_.find(this.nativeMeasuresTargetEntity.Measures,U=>U.DataType===B.dataType&&U.Expression===B.expression);if(N)return(0,l.mv)((0,l.nw)(this.extensionSchema.Name,this.nativeMeasuresTargetEntity.Name),N.Name);var W=(0,t.zE)(this.existingExtensionFieldNames,B.proposedName||"NativeMeasure");this.existingExtensionFieldNames[W]=!0;var F=(0,l.mv)((0,l.nw)(this.extensionSchema.Name,this.nativeMeasuresTargetEntity.Name),W);return this.nativeMeasuresTargetEntity.Measures.push({Name:W,DataType:B.dataType,Expression:B.expression}),F}visitNativeColumn(B){this.ensureSchemaInitialized();var W=B.source.getTargetEntity(),F=_.find(this.extensionSchema.Entities,I=>I.Name===W.entity);F||this.extensionSchema.Entities.push(F={Name:W.entity,Extends:W.entity,Columns:[]}),F.Columns||(F.Columns=[]);var U=_.find(F.Columns,I=>I.DataType===B.dataType&&I.Expression===B.expression);if(U)return(0,l.Oh)((0,l.nw)(this.extensionSchema.Name,F.Name),U.Name);var O=(0,t.zE)(this.existingExtensionFieldNames,B.proposedName||"NativeColumn");this.existingExtensionFieldNames[O]=!0;var x=(0,l.Oh)((0,l.nw)(this.extensionSchema.Name,F.Name),O);return F.Columns.push({Name:O,DataType:B.dataType,Expression:B.expression,NamingBehavior:n.CP.Flexible}),this.queryRewrites||(this.queryRewrites=[]),this.queryRewrites.push({selectExprReplaced:{originalExpr:B,replacedExpr:x}}),x}ensureSchemaInitialized(){if(!this.schemaInitialized){for(var B of(this.extensionSchema?this.extensionSchema.Version=Math.max(this.extensionSchema.Version,n.Ku.Version1):this.extensionSchema={Name:"NativeExpressionExtensions",Version:n.Ku.Version1,Extends:p.N8},this.extensionSchema.Entities||(this.extensionSchema.Entities=[]),this.existingExtensionFieldNames={},this.extensionSchema.Entities)){if(this.existingEntityNames[B.Name]=!0,B.Measures)for(var N of B.Measures)this.existingExtensionFieldNames[N.Name]=!0;if(B.Columns)for(var W of B.Columns)this.existingExtensionFieldNames[W.Name]=!0}this.schemaInitialized=!0}}}var y=e(763469),S=e(371223),h=e(469737),E=e(283960),u=e(932625),f=e(858859),b=e(704251),V=e(882924),T=e(177878),P=e(856275),D=(()=>{class R{constructor(N,W,F,U,O,x,I,L,K=!1){this.useSynchronous=!1,a.f.assertValue(N,"httpService"),a.f.assertValue(F,"localeProvider"),a.f.assertValue(W,"telemetryService"),a.f.assertValue(U,"promiseFactory"),a.f.assertValue(O,"uri"),this.httpService=N,this.impersonationStateProvider=x,this.promiseFactory=U,this.telemetryService=W,this.localeProvider=F,this.uri=O,this.featureSwitches=I,this.directToMwcConnectionInfoService=L,this.useSynchronous=K}execute(N){var W=this.httpService.powerbiRequestOptions(null,"ExecuteSemanticQuery",void 0,!0),F=(0,h.u5)(N,this.localeProvider,this.impersonationStateProvider);for(var U of N.enqueueActivities)U.resolve();var O=this.featureSwitches&&this.featureSwitches().addVisualIdToQueryDataAsHttpBodyId,x=this.promiseFactory.defer(!1),I=N.cacheOptions,L=N.useSynchronous||this.useSynchronous,K=N.dataSources[0].dbName,z=!1;(!K||N.dataSources.length>1)&&(this.telemetryService.logEvent(f.jj,{message:"A direct to MWC request was missing a dbName or more then one source was used in this request. This will cause issues routing with AutoPremium"}),z=!0);var H=this.uri;if(L){var J={};L&&(J.synchronous="true"),H=(0,b.fS)(H,J,!0)}if(O){var k,G,q=N.queryOptions?.[0]?.command?.Commands;q&&(k=function(se){if(0!==se.length){for(var Ve=0,ke=0;ke<se.length;ke++)Ve=(Ve<<5)-Ve+se.charCodeAt(ke),Ve|=0;return Ve.toString()}}(JSON.stringify(q))),G=N.queryOptions?.[0]?.applicationContext?.Sources?.[0]?.VisualId,(k||G)&&(W.params||(W.params={}),k&&(W.params.$httpBodyHash=k),G&&(W.params.$visualId=G))}var Z=H,X=W.authorizationHeaderOverride,re=F.modelId;if(!O&&this.directToMwcConnectionInfoService){var te=this.directToMwcConnectionInfoService.checkModelConnectionInfo(re);!te||this.impersonationStateProvider&&this.impersonationStateProvider.impersonating||z?this.sendHttpRequest(H,F,W,x,I,N.queryActivities,L):this.sendDirectToMwcRequestWithFallbackOnFailure(re,te,H,F,W,x,re,Z,X,I,K,N.queryActivities,L)}else this.sendHttpRequest(H,F,W,x,I,N.queryActivities,L);return x.promise}sendDirectToMwcRequestWithFallbackOnFailure(N,W,F,U,O,x,I,L,K,z,H,J,k){var G=this.telemetryService.startEvent(u.vP,{endPoint:this.uri,clientAndServerRequestIdMatch:!0,synchronous:k,cacheOptions:z});F=W.capacityUri+"query",(0,h.qe)(O,W.mwcToken,H);var q=[];for(var Q of J){var Z=Q.createChildActivity({name:V.R.QueryExecuting});Z&&q.push(Z)}var X=U;this.featureSwitches().disallowLongRunningQueries||(X={...X,allowLongRunningQueries:!0}),this.httpService.post(F,X,O).then(re=>{this.attachHttpMetadataToTelemetry(G.event.info,re,F),this.attachCacheMetadataToTelemetryDirectToMwc(G.event,re);var te=re.headers("x-ms-mwc-throttling-delay");for(var se of(_.isEmpty(te)||this.directToMwcConnectionInfoService.notifyThrottlingOnNotificationBar(),q))this.attachHttpMetadataToContextActivity(se,re),se.resolve();G.resolve(),x.resolve({...this.attachHttpMetadataToResult(re),mwcModelId:N,mwcDbName:H})},re=>{for(var te of(this.attachHttpMetadataToTelemetry(G.event.info,re,F),this.attachCacheMetadataToTelemetryDirectToMwc(G.event,re),q))this.attachHttpMetadataToContextActivity(te,re),te.reject();G.reject((0,T.GB)(re.error,re.status)),this.directToMwcConnectionInfoService.removeModelConnectionInfo(I),O.authorizationHeaderOverride=K,O.useMwcTokenAuthorization=null,this.sendHttpRequest(L,U,O,x,z,J,k)})}sendHttpRequest(N,W,F,U,O,x,I){var L=this.telemetryService.startEvent(u.vP,{endPoint:this.uri,clientAndServerRequestIdMatch:!0,synchronous:I,cacheOptions:O}),K=[];for(var z of x){var H=z.createChildActivity({name:V.R.QueryExecuting});H&&K.push(H)}this.httpService.post(N,W,F).then(J=>{for(var k of(this.attachHttpMetadataToTelemetry(L.event.info,J,N),K))this.attachHttpMetadataToContextActivity(k,J),k.resolve();L.resolve(),U.resolve(this.attachHttpMetadataToResult(J))},J=>{for(var k of(this.attachHttpMetadataToTelemetry(L.event.info,J,N),K))this.attachHttpMetadataToContextActivity(k,J),k.reject();L.reject((0,T.GB)(J.error,J.status)),U.reject(this.attachHttpMetadataToResult(J))})}attachHttpMetadataToContextActivity(N,W){N.isRunning()&&W.performanceTimings&&(N.setProperty("transferSize",W.performanceTimings?.transferSize),N.setProperty("contentType",W.headers("content-type")),N.setProperty("httpStatus",W.status.toString()),N.setProperty("requestId",W.requestId),N.setProperty("requestStart",W.performanceTimings?.requestStart),N.setProperty("responseStart",W.performanceTimings?.responseStart),N.setProperty("start",W.performanceTimings.startTime),N.setProperty("end",W.performanceTimings.responseEnd))}attachHttpMetadataToTelemetry(N,W,F){N.endPoint=F,N.clientAndServerRequestIdMatch=(0,P.Cx)(W),N.responseRequestId=(0,P.yC)(W),N.requestId=W.requestId,N.status=W.status,W.performanceTimings&&(0,P.eQ)(W.performanceTimings,N)}attachCacheMetadataToTelemetryDirectToMwc(N,W){W.data.results&&(N.info.fromCache=_.reduce(W.data.results,(F,U)=>U.fromCache?++F:F,0),N.info.resultCount=W.data.results.length)}attachHttpMetadataToResult(N){if(N&&N.data){var W=N.data;return W.requestId=N.responseRequestId||N.requestId,W.httpStatusCode=N.status,W}return{jobIds:null,results:null,requestId:N.responseRequestId||N.requestId,httpStatusCode:N.status}}}return(0,S.__decorate)([(0,E.UE)(u.Zq),(0,S.__metadata)("design:type",Function),(0,S.__metadata)("design:paramtypes",[Object]),(0,S.__metadata)("design:returntype",Object)],R.prototype,"execute",null),R})();function M(R,B){var N=A(B.reader.communication)?function(R,B,N,W,F,U,O,x,I,L=!1){return new D(R,B,N,W,F,U,O,x,L)}(B.reader.communication.httpService,B.telemetryService,B.localeProvider,B.promiseFactory,B.reader.communication.uri,B.reader.communication.impersinationStateProvider,B.reader.featureSwitches,B.reader.directToMwcConnectionInfoService,0,B.useSynchronous):B.reader.communication,W=A(B.schemaReader.communication)?(0,r.U6)(B.schemaReader.communication.httpService,B.promiseFactory,B.schemaReader.communication.uri,B.reader.featureSwitches,B.schemaReader.preloadConceptualSchemaService):B.schemaReader.communication;R.dsr={name:"dsr",reader:U=>new i.i(U,N,B.telemetryService,B.reader.featureSwitches(),B.reader.timeoutService,B.reader.delayedQueryResultResolver,B.reader.preferredMaxConnections,B.queryContextProvider,B.appContextHostDataProvider),queryGenerator:()=>(0,y.Zl)(B.reader.featureSwitches()),schemaReader:()=>(0,r.No)(B.promiseFactory,B.telemetryService,B.localeProvider,W,B.schemaReader.localizationOptions,B.reader.featureSwitches,B.embedModeService),queryExtensionProvider:d}}function A(R){return _.isPlainObject(R)}},899631:function(ve,j,e){e.d(j,{A1:function(){return n},_8:function(){return p},nc:function(){return s}});var r=e(803205),i=e(333107),a=e(999787),t=e(650543),l=e(248505),g=e(785585);class n{static findAndParseCalculation(o,v){var m=this.findCalculation(o,v);if(m)return(0,g.H2)(m.Value)}static findAndParseCalculationToSQExpr(o,v){var m=this.findCalculation(o,v);if(m)return(0,g.bE)(m.Value)}static findCalculation(o,v){t.f.assertValue(o,"calcs");for(var m=0,c=o.length;m<c;m++){var C=o[m];if(C.Id===v)return C}}static describeDataType(o,v){var m=i.M.Null;switch(o=o||a.TR.None){case a.TR.String:m=i.M.Text;break;case a.TR.Number:m=i.M.Double;break;case a.TR.Integer:m=i.M.Integer;break;case a.TR.Boolean:m=i.M.Boolean;break;case a.TR.Date:m=i.M.Date;break;case a.TR.DateTime:m=i.M.DateTime;break;case a.TR.Time:m=i.M.Time;break;case a.TR.Year:m=i.M.Integer,t.f.assert(()=>!v||"Years"===v,"Unexpected category for Year type."),v="Years";break;case a.TR.Month:m=i.M.Integer,t.f.assert(()=>!v||"Months"===v,"Unexpected category for Month type."),v="Months"}return l.Ge.fromPrimitiveTypeAndCategory(m,v)}static getTopLevelSecondaryDynamicMember(o,v){t.f.assertValue(o,"DsrV1.DataShape");var m=o.SecondaryHierarchy;return m?v&&v.Secondary?n.getDynamicMember(m,v.Secondary.Groupings,0):n.getDynamicMemberFallback(m):null}static getTopLevelPrimaryDynamicMember(o,v,m){t.f.assertValue(o,"DsrV1.DataShape");var C,c=o.PrimaryHierarchy;return c?(m&&(C=void 0!==o.Calculations),v&&v.Primary?n.getDynamicMember(c,v.Primary.Groupings,0,C):n.getDynamicMemberFallback(c,C)):null}static getDynamicMember(o,v,m,c){if(t.f.assertValue(o,"dataShapeMembers"),0===o.length)return null;if(!v||0===v.length)return n.getDynamicMemberFallback(o,c);var C=v[m].Member;if(!C)return n.getDynamicMemberFallback(o,c);for(var y of o)if(y.Id===C)return y;return null}static getDynamicMemberFallback(o,v){return 2===o.length?o[1]:void 0===v||!0===v?o[0]:null}static fillMetadataColumnAggregate(o,v,m=!0){t.f.assertValue(v,"aggregateMetdata");var c=v.source.aggregates;switch(c||(v.source.aggregates=c={}),v.aggregateKind){case r.kt.Subtotal:return void(c.subtotal=o);case r.kt.Max:return void(c.max=o);case r.kt.Min:return void(c.min=o);case r.kt.Single:return void(m||(c.single=o));case r.kt.Count:return t.f.assert(()=>"number"==typeof o,"unexpected count calc value"),void(c.count=o);case r.kt.Average:return void(c.average=o);case r.kt.Median:return void(c.median=o);case r.kt.Percentile:var C=v.aggregate.Percentile,y=c.percentiles;y||(y=c.percentiles=[]);var S={k:C.K,value:o};return null!=C.Exclusive&&(S.exclusive=C.Exclusive),void y.push(S);default:t.f.assertFail("unknown AggregateKind")}}static copyAggregates(o,v){t.f.assertValue(o,"source Aggregates"),t.f.assertValue(v,"target Aggregates"),void 0!==o.subtotal&&(v.subtotal=o.subtotal),void 0!==o.min&&(v.min=o.min),void 0!==o.max&&(v.max=o.max),void 0!==o.minLocal&&(v.minLocal=o.minLocal),void 0!==o.maxLocal&&(v.maxLocal=o.maxLocal),void 0!==o.count&&(v.count=o.count)}static computeAggIdx(o,v,m,c){return o+(c-v)*(m+1)}}class p{get name(){return"maxLocal"}update(o){if("number"==typeof o&&!isNaN(o)){var v=this.current;this.current=void 0===v?o:Math.max(v,o)}}value(){return this.current}}class s{get name(){return"minLocal"}update(o){if("number"==typeof o&&!isNaN(o)){var v=this.current;this.current=void 0===v?o:Math.min(v||0,o)}}value(){return this.current}}},348521:function(ve,j,e){e.d(j,{i:function(){return a}});var r=e(264431),i=e(650543),a=(()=>{class t extends r.mB{constructor(g){i.f.assertValue(g,"jobId"),super(t.Code),this.jobId=g}getDetails(g){var n=super.getDetails(g);return n.debugErrorInfo=n.debugErrorInfo||[],n.debugErrorInfo.push({errorInfoKey:r.nE,errorInfoValue:this.jobId}),n}}return t.Code="DelayedQueryTimeoutError",t})()},561863:function(ve,j,e){e.d(j,{$n:function(){return o},A:function(){return b},Af:function(){return v},HO:function(){return K},KO:function(){return B},Kb:function(){return C},LO:function(){return W},Lp:function(){return h},Lr:function(){return U},Ow:function(){return Q},Tw:function(){return I},Z:function(){return z},Z4:function(){return T},ZO:function(){return E},_V:function(){return R},av:function(){return P},bD:function(){return M},bJ:function(){return H},d3:function(){return u},dN:function(){return m},dd:function(){return G},de:function(){return w},dw:function(){return A},fD:function(){return y},hh:function(){return d},jK:function(){return S},jO:function(){return c},lR:function(){return L},qF:function(){return N},qf:function(){return O},vP:function(){return D},vc:function(){return s},wf:function(){return J},wy:function(){return x},yB:function(){return f},yC:function(){return F},yz:function(){return V}});var r=e(924341),i=e(264431),a=e(877542),t=e(650543),l=e(734531),g=e(301336),n=e(370918),p=e(143747),s="DMTS_MultipleGatewaysWithAllDatasourcesToBindError",d="DMTS_DatasourceHasNoCredentialError",o="DMTS_OAuthTokenRefreshFailedError",v="DM_GWPipeline_Client_GatewayUnreachable",m="DM_GWPipeline_Client_OAuthTokenRefreshFailedError",c="DMTS_UserLostPermissionToDatasourceError",C="DMTS_UserNotFoundInADGraphError",y="DM_GWPipeline_Gateway_DataSourceAccessError",S="DM_GWPipeline_Gateway_ImpersonationError",h="DM_GWPipeline_Gateway_InvalidMashupConnectionString",E="DM_GWPipeline_Gateway_DatabaseLoginError",u="DM_GWPipeline_Gateway_SqlTimeoutException",f="DM_GWPipeline_Gateway_AdomdTimeoutException",b="DM_GWPipeline_Gateway_InvalidObjectNameException",V="DM_GWPipeline_Gateway_InvalidConnectionCredentials",T="DM_GWPipeline_Gateway_ConnectionBrokenException",P="DM_GWPipeline_Gateway_MemoryError",D="DM_GWPipeline_Gateway_MissingStructureError",w="DM_GWPipeline_Gateway_UnprocessedStructureError",M="DM_GWPipeline_Gateway_ModelLoadError",A="DM_GWPipeline_Gateway_CancellationError",R="DM_GWPipeline_Gateway_CancellationOrTimeoutError",B="DM_GWPipeline_Gateway_QueryExecutionError",N="DM_GWPipeline_Gateway_RecalculationRequiredError",W="DM_GWPipeline_Gateway_TimeoutError",F="DM_GWPipeline_Gateway_AdoNetProviderOpenConnectionTimeoutError",U="DM_GWPipeline_Gateway_AdoNetProviderExecuteQueryTimeoutError",O="DM_GWPipeline_Gateway_AdomdConnectError",x="DM_GWPipeline_Gateway_GatewayOverloadedMemory",I="DM_GWPipeline_Gateway_GatewayOverloadedConcurrency",L="DM_GWPipeline_Gateway_MashupDataAccessError",K="DM_GWPipeline_Gateway_DatabaseConnectError",z="DM_GWPipeline_Gateway_ServerUnreachable",H="DM_GWPipeline_Gateway_GatewayOverloadedProcessor",J="rsAccessDenied",k="azure:values",G=function(Z){return Z.ComplexSlicerNotAllowedWithMeasures="ComplexSlicerNotAllowedWithMeasures",Z.ComplexHighlightsNotAllowed="ComplexHighlightsNotAllowed",Z.ExclusivePercentileOutOfRange="ExclusivePercentileOutOfRange",Z.InvalidDataShapeNoOutputData="InvalidDataShapeNoOutputData",Z.InvalidFilterComparisonIncompatibleExpressions="InvalidFilterComparisonIncompatibleExpressions",Z.InvalidFilterConditionIncompatibleDataType="InvalidFilterConditionIncompatibleDataType",Z.InvalidUnconstrainedJoin="InvalidUnconstrainedJoin",Z.ModelUnavailable="ModelUnavailable",Z.OverlappingKeysOnOppositeHierarchies="OverlappingKeysOnOppositeHierarchies",Z.rsQueryMemoryLimitExceeded="rsQueryMemoryLimitExceeded",Z.rsQueryTimeoutExceeded="rsQueryTimeoutExceeded",Z.CouldNotResolveModelReferencesInSemanticQuery="CouldNotResolveModelReferencesInSemanticQuery",Z.QueryExtensionMeasureUnexpectedEndOfUserInput="QueryExtensionMeasureUnexpectedEndOfUserInput",Z.NativeVisualCalculationUnexpectedEndOfUserInput="NativeVisualCalculationUnexpectedEndOfUserInput",Z.rsAccessDenied="rsAccessDenied",Z.NoUniqueKeyForDetailTable="NoUniqueKeyForDetailTable",Z.IsRelatedToManyNotSupportedForDetailTable="IsRelatedToManyNotSupportedForDetailTable",Z.ModelMeasuresNotSupportedForDetailTable="ModelMeasuresNotSupportedForDetailTable",Z.UnsupportedDateTimeLiteral="UnsupportedDateTimeLiteral",Z.InvalidExtensionDax_UnclosedBracketIdentifier="InvalidExtensionDax_UnclosedBracketIdentifier",Z.InvalidExtensionDax_UnexpectedCloseParenthesis="InvalidExtensionDax_UnexpectedCloseParenthesis",Z.ExtensionMeasureEmptyExpression="ExtensionMeasureEmptyExpression",Z.ExtensionMeasureNameNotUniqueModel="ExtensionMeasureNameNotUniqueModel",Z.ExtensionMeasureNameNotUnique="ExtensionMeasureNameNotUnique",Z.CouldNotResolveModelReferencesInQueryExtensionSchema="CouldNotResolveModelReferencesInQueryExtensionSchema",Z.QueryExtensionMeasureError="QueryExtensionMeasureError",Z.NativeVisualCalculationError="NativeVisualCalculationError",Z.UnsupportedDataSourceVariables="UnsupportedDataSourceVariables",Z.DataExtensionMissingResultSet="DataExtensionMissingResultSet",Z.ProxyModelChainLimitExceeded="ProxyModelChainLimitExceeded",Z.FabricThrottled="FabricThrottled",Z.AA_PowerBIScriptPayloadTooLargeError="AA_PowerBIScriptPayloadTooLargeError",Z.AA_PowerBIScriptResultTooLargeError="AA_PowerBIScriptResultTooLargeError",Z.AA_PowerBIScriptReturnedNoImageError="AA_PowerBIScriptReturnedNoImageError",Z.AA_PowerBIScriptRuntimeErrorError="AA_PowerBIScriptRuntimeErrorError",Z.SparkCoreExecutionFailedException="SparkCoreExecutionFailedException",Z.ScriptVisualRenderingUnsupportedError="ScriptVisualRenderingUnsupportedError",Z.SparkCoreExecutionLongScriptRunningTimedOutError="SparkCoreExecutionLongScriptRunningTimedOutError",Z.AA_PowerBIScriptTimeoutError="AA_PowerBIScriptTimeoutError",Z.AA_PowerBIRequestsQueueOverflowError="AA_PowerBIRequestsQueueOverflowError",Z.AA_PowerBIScriptRuntimeMaxMemoryError="AA_PowerBIScriptRuntimeMaxMemoryError",Z.AA_PowerBIScriptRuntimeMaxDiskIOError="AA_PowerBIScriptRuntimeMaxDiskIOError",Z.AA_PowerBIScriptMissingDependencyError="AA_PowerBIScriptMissingDependencyError",Z.AA_PowerBIScriptSpecificPackageWithMissingDependencyError="AA_PowerBIScriptSpecificPackageWithMissingDependencyError",Z.AA_PowerBIScriptSpecificPackageMissingSpecificDependencyError="AA_PowerBIScriptSpecificPackageMissingSpecificDependencyError",Z.AA_PowerBIScriptMissingSpecificPackageError="AA_PowerBIScriptMissingSpecificPackageError",Z.InvalidExtensionDax_UnclosedMultiLineComment="InvalidExtensionDax_UnclosedMultiLineComment",Z.InvalidExtensionDax_UnclosedParenthesis="InvalidExtensionDax_UnclosedParenthesis",Z.InvalidExtensionDax_UnclosedQuoteIdentifier="InvalidExtensionDax_UnclosedQuoteIdentifier",Z.InvalidExtensionDax_UnclosedStringLiteral="InvalidExtensionDax_UnclosedStringLiteral",Z.CannotUseMultiColumnFilteringWithMappedColumns="CannotUseMultiColumnFilteringWithMappedColumns",Z.DifferentMappingsWithinSubqueries="DifferentMappingsWithinSubqueries",Z.FilterIncompatibleWithParameter="FilterIncompatibleWithParameter",Z.FoundMultipleTargetsWithAtLeastOneMapping="FoundMultipleTargetsWithAtLeastOneMapping",Z.FoundParameterMappingOnUnsupportedFilter="FoundParameterMappingOnUnsupportedFilter",Z.InTableConditionNotSupportedWithMappedParameters="InTableConditionNotSupportedWithMappedParameters",Z.InvalidMappedParameterValueExpression="InvalidMappedParameterValueExpression",Z.MappedTargetMustMatchMappedCondition="MappedTargetMustMatchMappedCondition",Z.MixOfAssignedAndUnassignedColumnsWithinORExpression="MixOfAssignedAndUnassignedColumnsWithinORExpression",Z.MultipleParameterAssignmentsWithinORUnsupported="MultipleParameterAssignmentsWithinORUnsupported",Z.MultipleParameterMappingsUnsupported="MultipleParameterMappingsUnsupported",Z.ParameterMappingFilterConflict="ParameterMappingFilterConflict",Z.ParameterMappingsFoundWithinFilteredEvalExpressionFilter="ParameterMappingsFoundWithinFilteredEvalExpressionFilter",Z.ParameterMappingsNotSupportedOnHighlights="ParameterMappingsNotSupportedOnHighlights",Z.SingleValueParameterWithMultipleValues="SingleValueParameterWithMultipleValues",Z}({}),q={[G.ComplexSlicerNotAllowedWithMeasures]:{localizedContent:"DsrError_ComplexSlicerNotAllowedWithMeasuresValue"},[G.ComplexHighlightsNotAllowed]:{localizedContent:"DsrError_ComplexHighlightsNotAllowed_Details",localizedMessage:"DsrError_ComplexHighlightsNotAllowed_ShortMessage"},[G.CouldNotResolveModelReferencesInSemanticQuery]:{localizedMessage:"DsrError_CouldNotResolveModelRefErrorMessage",localizedTitle:"DsrError_CouldNotResolveModelRefErrorKey",localizedContent:"DsrError_CouldNotResolveModelRefErrorValNoItems",localizedContentWithAffectedItems:"DsrError_CouldNotResolveModelRefErrorValFormat",helpLink:"https://go.microsoft.com/fwlink/?LinkID=690865"},[G.ExclusivePercentileOutOfRange]:{localizedMessage:"DsrError_ExclusivePercentileOutOfRangeMessage",localizedTitle:"DsrError_ExclusivePercentileOutOfRangeKey",localizedContent:"DsrError_ExclusivePercentileOutOfRangeValue"},[G.InvalidDataShapeNoOutputData]:{localizedContent:"DsrError_InvalidDataShapeValue",helpLink:"https://go.microsoft.com/fwlink/?LinkID=690860"},[G.InvalidUnconstrainedJoin]:{localizedMessage:"DsrError_InvalidUnconstrainedJoinKey",localizedTitle:"DsrError_InvalidUnconstrainedJoinKey",localizedContent:"DsrError_InvalidUnconstrainedJoinValue",helpLink:"https://go.microsoft.com/fwlink/?linkid=2186131"},[G.IsRelatedToManyNotSupportedForDetailTable]:{localizedMessage:"DsrError_IsRelatedToManyNotSupportedForDetailTableMessage",localizedTitle:"DsrError_IsRelatedToManyNotSupportedForDetailTableKey",localizedContent:"DsrError_IsRelatedToManyNotSupportedForDetailTableValueNoItems",localizedContentWithAffectedItems:"DsrError_IsRelatedToManyNotSupportedForDetailTableValueFormat"},[G.AA_PowerBIScriptPayloadTooLargeError]:{localizedMessage:"DsrError_ResourcesExceededMessage",localizedTitle:"DsrError_ResourcesExceededKey",localizedContent:"DsrError_ResourcesExceededValue",helpLink:"https://go.microsoft.com/fwlink/?LinkID=746290"},[G.AA_PowerBIScriptResultTooLargeError]:{localizedMessage:"DsrError_ResourcesExceededMessage",localizedTitle:"DsrError_ResourcesExceededKey",localizedContent:"DsrError_ResourcesExceededValue",helpLink:"https://go.microsoft.com/fwlink/?LinkID=746291"},[G.AA_PowerBIScriptReturnedNoImageError]:{localizedMessage:"DsrError_ScriptReturnedNoImageMessage",localizedTitle:"DsrError_ScriptReturnedNoImageKey",localizedContent:"DsrError_ScriptReturnedNoImageContent",helpLink:"https://go.microsoft.com/fwlink/?LinkId=733479"},[G.AA_PowerBIScriptRuntimeErrorError]:{localizedTitle:"DsrError_ScriptRuntimeErrorKey",localizedMessage:"DsrError_ScriptRuntimeErrorMessage",useODataErrorMessageAsContent:!0,helpLink:"https://go.microsoft.com/fwlink/?LinkId=733477"},[G.SparkCoreExecutionFailedException]:{localizedTitle:"DsrError_ScriptRuntimeErrorKey",localizedMessage:"DsrError_ScriptRuntimeErrorMessage",useODataErrorMessageAsContent:!0,helpLink:"https://go.microsoft.com/fwlink/?LinkId=733477"},[G.ScriptVisualRenderingUnsupportedError]:{localizedTitle:"DsrError_ScriptRenderingUnsupportedError",localizedMessage:"DsrError_ScriptRenderingUnsupportedError",localizedContent:"DsrError_ScriptRenderingUnsupportedError",helpLink:"https://go.microsoft.com/fwlink/?linkid=2303578"},[G.SparkCoreExecutionLongScriptRunningTimedOutError]:{localizedTitle:"DsrError_SparkCoreExecutionLongScriptRunningTimedOutError",localizedMessage:"DsrError_SparkCoreExecutionLongScriptRunningTimedOutError",localizedContent:"DsrError_SparkCoreExecutionLongScriptRunningTimedOutError",helpLink:"https://go.microsoft.com/fwlink/?LinkId=733477"},[G.AA_PowerBIScriptTimeoutError]:{localizedMessage:"DsrError_ScriptTimeoutMessage",localizedTitle:"DsrError_ScriptTimeoutKey",localizedContent:"DsrError_ScriptTimeoutContent",helpLink:"https://go.microsoft.com/fwlink/?LinkId=733478"},[G.AA_PowerBIRequestsQueueOverflowError]:{localizedTitle:"DsrError_RequestsQueueOverflowKey",localizedMessage:"DsrError_RequestsQueueOverflowMessage",localizedContent:"DsrError_RequestsQueueOverflowContent",helpLink:"https://go.microsoft.com/fwlink/?LinkId=799576"},[G.AA_PowerBIScriptRuntimeMaxMemoryError]:{localizedTitle:"DsrError_ScriptRuntimeMaxMemoryKey",localizedMessage:"DsrError_ScriptRuntimeMaxMemoryMessage",localizedContent:"DsrError_ScriptRuntimeMaxMemoryContent",helpLink:"https://go.microsoft.com/fwlink/?LinkId=799578"},[G.AA_PowerBIScriptRuntimeMaxDiskIOError]:{localizedTitle:"DsrError_ScriptRuntimeMaxDiskIOKey",localizedMessage:"DsrError_ScriptRuntimeMaxDiskIOMessage",localizedContent:"DsrError_ScriptRuntimeMaxDiskIOContent",helpLink:"https://go.microsoft.com/fwlink/?LinkId=799579"},[G.AA_PowerBIScriptMissingDependencyError]:{localizedTitle:"DsrError_ScriptRuntimeMissingDependencyKey",localizedMessage:"DsrError_ScriptRuntimeMissingDependencyMessage",localizedContent:"DsrError_ScriptRuntimeMissingDependencyContent",helpLink:"https://go.microsoft.com/fwlink/?LinkId=799857"},[G.AA_PowerBIScriptSpecificPackageWithMissingDependencyError]:{localizedTitle:"DsrError_ScriptRuntimeSpecificPackageWithMissingDependencyKey",localizedMessage:"DsrError_ScriptRuntimeSpecificPackageWithMissingDependencyMessage",useODataErrorMessageAsContent:!0,helpLink:"https://go.microsoft.com/fwlink/?LinkId=799858"},[G.AA_PowerBIScriptSpecificPackageMissingSpecificDependencyError]:{localizedTitle:"DsrError_ScriptRuntimeSpecificPackageMissingSpecificDependencyKey",localizedMessage:"DsrError_ScriptRuntimeSpecificPackageMissingSpecificDependencyMessage",useODataErrorMessageAsContent:!0,helpLink:"https://go.microsoft.com/fwlink/?LinkId=799859"},[G.AA_PowerBIScriptMissingSpecificPackageError]:{localizedTitle:"DsrError_ScriptRuntimeMissingSpecificPackageKey",localizedMessage:"DsrError_ScriptRuntimeMissingSpecificPackageMessage",useODataErrorMessageAsContent:!0,helpLink:"https://go.microsoft.com/fwlink/?LinkId=800225"},[G.ModelMeasuresNotSupportedForDetailTable]:{localizedMessage:"DsrError_ModelMeasuresNotSupportedForDetailTableMessage",localizedTitle:"DsrError_ModelMeasuresNotSupportedForDetailTableKey",localizedContent:"DsrError_ModelMeasuresNotSupportedForDetailTableValueNoItems",localizedContentWithAffectedItems:"DsrError_ModelMeasuresNotSupportedForDetailTableValueFormat"},[G.ModelUnavailable]:{localizedContent:"DsrError_ModelUnavailableValue",helpLink:"https://go.microsoft.com/fwlink/?LinkID=690862"},[G.NoUniqueKeyForDetailTable]:{localizedContent:"DsrError_NoUniqueKeyForDetailTableValue"},[G.OverlappingKeysOnOppositeHierarchies]:{localizedTitle:"DsrError_OverlappingKeysKey",localizedContent:"DsrError_OverlappingKeysValue",helpLink:"https://go.microsoft.com/fwlink/?LinkID=690863"},[G.rsQueryMemoryLimitExceeded]:{localizedMessage:"DsrError_ResourcesExceededMessage",localizedTitle:"DsrError_ResourcesExceededKey",localizedContent:"DsrError_ResourcesExceededValue",helpLink:"https://go.microsoft.com/fwlink/?LinkID=690864"},[G.rsQueryTimeoutExceeded]:{localizedMessage:"DsrError_ResourcesExceededMessage",localizedTitle:"DsrError_ResourcesExceededKey",localizedContent:"DsrError_ResourcesExceededValue",helpLink:"https://go.microsoft.com/fwlink/?LinkID=690864"},[G.rsAccessDenied]:{localizedMessage:"DsrError_NoPermissionMessage",localizedTitle:"DsrError_NoPermissionKey",localizedContent:"DsrError_NoAccessForVisual",helpLink:"https://go.microsoft.com/fwlink/?LinkID=690862"},[G.UnsupportedDateTimeLiteral]:{localizedMessage:"DsrError_UnsupportedDateTimeMessage",localizedTitle:"DsrError_UnsupportedDateTimeKey",localizedContent:"DsrError_UnsupportedDateTimeValueNoItems",localizedContentWithAffectedItems:"DsrError_UnsupportedDateTimeValueFormat"},[G.InvalidExtensionDax_UnclosedBracketIdentifier]:{localizedContentWithAffectedItemsAndPosition:"DsrError_InvalidExtensionDax_UnclosedBracketIdentifier"},[G.InvalidExtensionDax_UnexpectedCloseParenthesis]:{localizedContentWithAffectedItemsAndPosition:"DsrError_InvalidExtensionDax_UnexpectedCloseParenthesis"},[G.InvalidExtensionDax_UnclosedParenthesis]:{localizedContentWithAffectedItemsAndPosition:"DsrError_InvalidExtensionDax_UnclosedParenthesis"},[G.InvalidExtensionDax_UnclosedQuoteIdentifier]:{localizedContentWithAffectedItemsAndPosition:"DsrError_InvalidExtensionDax_UnclosedQuoteIdentifier"},[G.InvalidExtensionDax_UnclosedStringLiteral]:{localizedContentWithAffectedItemsAndPosition:"DsrError_InvalidExtensionDax_UnclosedStringLiteral"},[G.InvalidExtensionDax_UnclosedMultiLineComment]:{localizedContentWithAffectedItemsAndPosition:"DsrError_InvalidExtensionDax_UnclosedMultiLineComment"},[G.InvalidFilterComparisonIncompatibleExpressions]:{localizedContent:"DsrError_InvalidFilterConditionIncompatibleDataTypeOrExpression",localizedContentWithAffectedItems:"DsrError_InvalidFilterConditionIncompatibleDataTypeOrExpressionWithAffectedItems"},[G.InvalidFilterConditionIncompatibleDataType]:{localizedContent:"DsrError_InvalidFilterConditionIncompatibleDataTypeOrExpression",localizedContentWithAffectedItems:"DsrError_InvalidFilterConditionIncompatibleDataTypeOrExpressionWithAffectedItems"},[G.ExtensionMeasureEmptyExpression]:{localizedContentWithAffectedItems:"DsrError_ExtensionMeasureEmptyExpression"},[G.ExtensionMeasureNameNotUniqueModel]:{localizedContentWithAffectedItems:"DsrError_ExtensionMeasureNameNotUniqueModel"},[G.ExtensionMeasureNameNotUnique]:{localizedContentWithAffectedItems:"DsrError_ExtensionMeasureNameNotUnique"},[G.CouldNotResolveModelReferencesInQueryExtensionSchema]:{localizedMessage:"DsrError_CouldNotResolveModelRefErrorMessage",localizedTitle:"DsrError_CouldNotResolveModelRefErrorKey",localizedContentWithAffectedItems:"DsrError_CouldNotResolveModelReferencesInQueryExtensionSchema"},[G.QueryExtensionMeasureError]:{localizedContentWithAffectedItemsAndPosition:"DsrError_QueryExtensionMeasureError",localizedContentWithAffectedItemsAndPositionAndDetails:"DsrError_QueryExtensionMeasureErrorWithDetails"},[G.QueryExtensionMeasureUnexpectedEndOfUserInput]:{localizedContentWithAffectedItems:"DsrError_QueryExtensionMeasureUnexpectedEndOfUserInput"},[G.NativeVisualCalculationError]:{localizedContentWithAffectedItemsAndPosition:"DsrError_NativeVisualCalculationError",localizedContentWithAffectedItemsAndPositionAndDetails:"DsrError_NativeVisualCalculationErrorWithDetails"},[G.NativeVisualCalculationUnexpectedEndOfUserInput]:{localizedContentWithAffectedItems:"DsrError_NativeVisualCalculationUnexpectedEndOfUserInput"},[G.UnsupportedDataSourceVariables]:{localizedMessage:"DsrError_UnsupportedDataSourceVariablesMessage",localizedTitle:"DsrError_UnsupportedDataSourceVariablesKey",localizedContent:"DsrError_UnsupportedDataSourceVariablesContent"},[G.DataExtensionMissingResultSet]:{localizedMessage:"DsrError_DataExtensionMissingResultSetMessage",localizedTitle:"DsrError_DataExtensionMissingResultSetKey",localizedContent:"DsrError_DataExtensionMissingResultSetContent"},[G.ProxyModelChainLimitExceeded]:{localizedTitle:"DsrError_ProxyModelChainLimitExceededErrorKey",localizedContent:"DsrError_ProxyModelChainLimitExceededErrorContent",helpLink:"https://go.microsoft.com/fwlink/?LinkID=2225640"},[G.CannotUseMultiColumnFilteringWithMappedColumns]:{localizedContent:"DsrError_DQP_CannotUseMultiColumnFilteringWithMappedColumns",helpLink:"https://go.microsoft.com/fwlink/?linkid=2139315"},[G.DifferentMappingsWithinSubqueries]:{localizedContent:"DsrError_DQP_DifferentMappingsWithinSubqueries",helpLink:"https://go.microsoft.com/fwlink/?linkid=2139315"},[G.FilterIncompatibleWithParameter]:{localizedContent:"DsrError_DQP_FilterIncompatibleWithParameter",helpLink:"https://go.microsoft.com/fwlink/?linkid=2139315"},[G.FoundMultipleTargetsWithAtLeastOneMapping]:{localizedContent:"DsrError_DQP_FoundMultipleTargetsWithAtLeastOneMapping",helpLink:"https://go.microsoft.com/fwlink/?linkid=2139315"},[G.FoundParameterMappingOnUnsupportedFilter]:{localizedContent:"DsrError_DQP_FoundParameterMappingOnUnsupportedFilter",helpLink:"https://go.microsoft.com/fwlink/?linkid=2139315"},[G.InTableConditionNotSupportedWithMappedParameters]:{localizedContent:"DsrError_DQP_InTableConditionNotSupportedWithMappedParameters",helpLink:"https://go.microsoft.com/fwlink/?linkid=2139315"},[G.InvalidMappedParameterValueExpression]:{localizedContent:"DsrError_DQP_InvalidMappedParameterValueExpression",helpLink:"https://go.microsoft.com/fwlink/?linkid=2139315"},[G.MappedTargetMustMatchMappedCondition]:{localizedContent:"DsrError_DQP_MappedTargetMustMatchMappedCondition",helpLink:"https://go.microsoft.com/fwlink/?linkid=2139315"},[G.MixOfAssignedAndUnassignedColumnsWithinORExpression]:{localizedContent:"DsrError_DQP_MixOfAssignedAndUnassignedColumnsWithinORExpression",helpLink:"https://go.microsoft.com/fwlink/?linkid=2139315"},[G.MultipleParameterAssignmentsWithinORUnsupported]:{localizedContent:"DsrError_DQP_MultipleParameterAssignmentsWithinORUnsupported",helpLink:"https://go.microsoft.com/fwlink/?linkid=2139315"},[G.MultipleParameterMappingsUnsupported]:{localizedContent:"DsrError_DQP_MultipleParameterMappingsUnsupported",helpLink:"https://go.microsoft.com/fwlink/?linkid=2139315"},[G.ParameterMappingFilterConflict]:{localizedContent:"DsrError_DQP_ParameterMappingFilterConflict",helpLink:"https://go.microsoft.com/fwlink/?linkid=2139315"},[G.ParameterMappingsFoundWithinFilteredEvalExpressionFilter]:{localizedContent:"DsrError_DQP_ParameterMappingsFoundWithinFilteredEvalExpressionFilter",helpLink:"https://go.microsoft.com/fwlink/?linkid=2139315"},[G.ParameterMappingsNotSupportedOnHighlights]:{localizedContent:"DsrError_DQP_ParameterMappingsNotSupportedOnHighlights",helpLink:"https://go.microsoft.com/fwlink/?linkid=2139315"},[G.SingleValueParameterWithMultipleValues]:{localizedContent:"DsrError_DQP_SingleValueParameterWithMultipleValues",helpLink:"https://go.microsoft.com/fwlink/?linkid=2139315"},[G.FabricThrottled]:{localizedContent:"FabricCapacityThrottledErrorContent",helpLink:"https://aka.ms/capacitymessages"},[p.ykK]:{localizedMessage:"DsrError_OnPremiseServiceExceptionMessage"}};class Q{static get maxNumberOfCommaValues(){return 9}get code(){return this.oDataCode}get oDataErrorMessage(){if(this.oDataError&&this.oDataError.message&&this.oDataError.message.value)return this.oDataError.message.value}get source(){switch(this.oDataError.source){case"PowerBI":return a.zH.PowerBI;case"External":return a.zH.External;case"Unknown":return;case"User":return Q.isCodeKnown(this.code)?a.zH.User:void 0}t.f.assertFail(`unknown DsrClientError source: ${this.oDataError.source}`)}get ignorable(){return!1}get AdditionalErrorMessages(){if(this.oDataError){var X=this.oDataError[k];if(!_.isEmpty(X))for(var re of X)if(!_.isEmpty(re.additionalMessages))return re.additionalMessages}}get powerBiErrorDetails(){if(this.oDataError){var X=this.oDataError[k];if(!_.isEmpty(X))for(var re of X)if(!_.isEmpty(re.powerBiErrorDetails))return re.powerBiErrorDetails}}constructor(X){this.oDataError=X,this.oDataCode=this.parseCode()}getDetails(X){var re=this.oDataError[k],te=null;if(re)for(var se of re)if(se.details){te=se.details;break}var Ve=Q.getErrorDetailsFromStatusCode(this.code,this.oDataErrorMessage,te,this.AdditionalErrorMessages,X),ke=Ve.displayableErrorInfo[0].errorInfoKey;if(!Q.isCodeKnown(this.code)&&te&&(Ve.displayableErrorInfo=[]),te){var Ue=0===Ve.displayableErrorInfo.length?ke:X.get("DsrError_MoreInfo");Ve.displayableErrorInfo.push({errorInfoKey:Ue,errorInfoValue:te})}return Q.isDynamicQueryParameterErrorCode(this.code)&&(Ve.hideDebugInfo=!0),Ve}static getErrorDetailsFromStatusCode(X,re,te,se,Ve){var ke=Ve.get("DsrError_Key"),Ue=Ve.get("DsrError_UnknownErrorValue"),ot=Ve.get("DsrError_Key"),ft=r.MF,Ct=q[X];Ct&&(ke=Ct.localizedTitle?Ve.get(Ct.localizedTitle):ke,Ue=Q.getContent(X,te,se,Ct,Ve)||Ue,ot=Ct.localizedMessage?Ve.get(Ct.localizedMessage):ot,ft=Ct.helpLink||ft,Ct.useODataErrorMessageAsContent&&(Ue=re||ot));var Ae={message:ot,displayableErrorInfo:[{errorInfoKey:ke,errorInfoValue:Ue}],helpLink:ft,debugErrorInfo:[]};return!Ct&&X&&Ae.debugErrorInfo.push({errorInfoKey:i.jK,errorInfoValue:X}),(!Ct||!Ct.useODataErrorMessageAsContent)&&re&&Ae.debugErrorInfo.push({errorInfoKey:i.N6,errorInfoValue:re}),Ae}static getContent(X,re,te,se,Ve){if(se.localizedContentWithAffectedItemsAndPosition||se.localizedContentWithAffectedItemsAndPositionAndDetails){var ke=Q.findAdditionalMessageWithAffectedItemsAndPosition(X,te);if(se.localizedContentWithAffectedItemsAndPositionAndDetails&&re&&ke)return(0,l.W)(Ve.get(se.localizedContentWithAffectedItemsAndPositionAndDetails),(0,g.yQ)(ke.AffectedItems,Ve,Q.maxNumberOfCommaValues),n.dx.formatValue(ke.Line),n.dx.formatValue(ke.Position),re);if(se.localizedContentWithAffectedItemsAndPosition&&ke)return(0,l.W)(Ve.get(se.localizedContentWithAffectedItemsAndPosition),(0,g.yQ)(ke.AffectedItems,Ve,Q.maxNumberOfCommaValues),n.dx.formatValue(ke.Line),n.dx.formatValue(ke.Position))}if(se.localizedContentWithAffectedItems){var Ue=Q.getAffectedItemsFromStatusCode(X,te);if(Ue.length>0)return(0,l.W)(Ve.get(se.localizedContentWithAffectedItems),(0,g.yQ)(Ue,Ve,Q.maxNumberOfCommaValues))}if(se.localizedContent)return Ve.get(se.localizedContent)}static findAdditionalMessageWithAffectedItemsAndPosition(X,re){return _.find(re,te=>te.Code===X&&!_.isEmpty(te.AffectedItems)&&null!=te.Position&&null!=te.Line)}static getAffectedItemsFromStatusCode(X,re){for(var te of re)if(te.Code===X)return te.AffectedItems||[];return[]}parseCode(){var X=this.oDataError.code,re=this.oDataError[k],te=[];if(re)for(var se of re)se.additionalMessages&&(te=se.additionalMessages);if(te.length>0)for(var Ve of te)if(Q.isCodeKnown(Ve.Code)){X=Ve.Code;break}return X}static isCodeKnown(X){return Q.isGeneralKnownErrorCode(X)||Q.isDynamicQueryParameterErrorCode(X)}static isGeneralKnownErrorCode(X){switch(X){case G.ComplexSlicerNotAllowedWithMeasures:case G.ComplexHighlightsNotAllowed:case G.ExclusivePercentileOutOfRange:case G.InvalidDataShapeNoOutputData:case G.InvalidFilterComparisonIncompatibleExpressions:case G.InvalidFilterConditionIncompatibleDataType:case G.InvalidUnconstrainedJoin:case G.ModelUnavailable:case G.OverlappingKeysOnOppositeHierarchies:case G.rsQueryMemoryLimitExceeded:case G.rsQueryTimeoutExceeded:case G.CouldNotResolveModelReferencesInSemanticQuery:case G.QueryExtensionMeasureUnexpectedEndOfUserInput:case G.NativeVisualCalculationUnexpectedEndOfUserInput:case G.rsAccessDenied:case G.NoUniqueKeyForDetailTable:case G.IsRelatedToManyNotSupportedForDetailTable:case G.ModelMeasuresNotSupportedForDetailTable:case G.UnsupportedDateTimeLiteral:case G.InvalidExtensionDax_UnclosedBracketIdentifier:case G.InvalidExtensionDax_UnexpectedCloseParenthesis:case G.InvalidExtensionDax_UnclosedQuoteIdentifier:case G.InvalidExtensionDax_UnclosedParenthesis:case G.InvalidExtensionDax_UnclosedStringLiteral:case G.InvalidExtensionDax_UnclosedMultiLineComment:case G.ExtensionMeasureEmptyExpression:case G.ExtensionMeasureNameNotUniqueModel:case G.ExtensionMeasureNameNotUnique:case G.CouldNotResolveModelReferencesInQueryExtensionSchema:case G.QueryExtensionMeasureError:case G.NativeVisualCalculationError:case G.UnsupportedDataSourceVariables:case G.DataExtensionMissingResultSet:case G.ProxyModelChainLimitExceeded:case G.FabricThrottled:return!0;default:return!1}}static isDynamicQueryParameterErrorCode(X){switch(X){case G.CannotUseMultiColumnFilteringWithMappedColumns:case G.DifferentMappingsWithinSubqueries:case G.FilterIncompatibleWithParameter:case G.FoundMultipleTargetsWithAtLeastOneMapping:case G.FoundParameterMappingOnUnsupportedFilter:case G.InTableConditionNotSupportedWithMappedParameters:case G.InvalidMappedParameterValueExpression:case G.MappedTargetMustMatchMappedCondition:case G.MixOfAssignedAndUnassignedColumnsWithinORExpression:case G.MultipleParameterAssignmentsWithinORUnsupported:case G.MultipleParameterMappingsUnsupported:case G.ParameterMappingFilterConflict:case G.ParameterMappingsFoundWithinFilteredEvalExpressionFilter:case G.ParameterMappingsNotSupportedOnHighlights:case G.SingleValueParameterWithMultipleValues:return!0;default:return!1}}}},615136:function(ve,j,e){e.d(j,{i:function(){return Oe}});var r=e(650543),i=e(120075),a=e(349672),t=e(882924),l=e(621244),g=e(177878),n=e(264431),p=e(395918),s=e(932625),d=e(993699);class o{constructor(xe,ye){this.requestId=xe,this.errorCode=ye}get code(){return this.errorCode}get ignorable(){return!1}getDetails(xe){return{message:xe.get("ServiceError_CannotLoadVisual"),displayableErrorInfo:[{errorInfoKey:xe.get("ServiceError_ExecuteSemanticQueryErrorKey"),errorInfoValue:xe.get("ServiceError_ExecuteSemanticQueryErrorValue")},{errorInfoKey:xe.get("AdditionalErrorInfo_ErrorText"),errorInfoValue:this.code}],debugErrorInfo:[{errorInfoKey:n.zd,errorInfoValue:this.code}]}}}class v{constructor(){this._head=new m,this._tail=new m,this._head.next=this._tail,this._tail.prev=this._head,this._length=0}insertToHead(xe){xe.next=this._head.next,xe.prev=this._head,this._head.next=xe,xe.next.prev=xe,this._length++}head(){if(this._length>0)return this._head.next}tail(){if(this._length>0)return this._tail.prev}removeFromTail(){this._length>0&&this.remove(this._tail.prev)}remove(xe){this._length<=0||void 0===xe.prev||void 0===xe.next||(xe.prev.next=xe.next,xe.next.prev=xe.prev,this._length--)}length(){return this._length}}class m{constructor(xe=void 0){this.value=xe}}class c{constructor(xe){this.cache={},this.capacity=xe,this.linkedList=new v}get(xe){if(xe in this.cache){var ye=this.cache[xe].value;return ye?.value}}remove(xe){this.cache[xe]&&(this.linkedList.remove(this.cache[xe]),delete this.cache[xe])}put(xe,ye){xe in this.cache&&this.remove(xe);var Je=new y(xe,ye),he=new m(Je);if(this.cache[xe]=he,this.linkedList.insertToHead(he),this.size()>this.capacity){r.f.assert(()=>this.size()===this.capacity+1,"cache has exceeded expected maximum capacity");var Ce=this.linkedList.tail();delete this.cache[Ce.value.key],this.linkedList.removeFromTail()}}containsKey(xe){return xe in this.cache}size(){return this.keys().length}keys(){return Object.keys(this.cache)}isFull(){return this.size()===this.capacity}}class C{constructor(xe){this.cache={},this.capacity=xe,this.linkedList=new v}get(xe){if(xe in this.cache){var ye=this.cache[xe];return this.linkedList.remove(ye),this.linkedList.insertToHead(ye),ye.value.value}}remove(xe){xe in this.cache&&(this.linkedList.remove(this.cache[xe]),delete this.cache[xe])}put(xe,ye){xe in this.cache&&this.remove(xe);var Je=new y(xe,ye),he=new m(Je);if(this.cache[xe]=he,this.linkedList.insertToHead(he),this.size()>this.capacity){r.f.assert(()=>this.size()===this.capacity+1,"cache has exceeded expected maximum capacity");var Ce=this.linkedList.tail();delete this.cache[Ce.value.key],this.linkedList.removeFromTail()}}containsKey(xe){return xe in this.cache}size(){return this.keys().length}keys(){return Object.keys(this.cache)}isFull(){return this.size()===this.capacity}}class y{constructor(xe,ye){this.key=xe,this.value=ye}}var S=function(Ee){return Ee[Ee.FIFO=0]="FIFO",Ee[Ee.LRU=1]="LRU",Ee}({});class E{constructor(xe,ye,Je){Je||(Je=500),this.cache=ye===S.LRU?new C(Je):new c(Je),this.promiseFactory=xe}getEntryCount(){return this.cache.size()}hasCacheEntry(xe){return r.f.assertValue(xe,"cacheKey"),!!this.getCacheEntry(xe)}createCacheEntry(xe,ye,Je,he,Ce){r.f.assertValue(xe,"cacheKey");var je=this.getCacheEntry(xe);if(xe&&!je){var pe=this.promiseFactory,Qe=this.cache,ut=pe.defer(Ce),lt=(0,l.w)(ut),Et=pe.defer(Ce),bt=(0,l.U)(Et);return this.appendCacheEntryInternal(xe,je={promise:bt,refCount:0,context:ye}),lt.then(Ot=>{je.updateResult&&(Ot=je.updateResult(Ot)),Ot&&Je&&(Ot=Je(Ot)),je.result=he?he(Ot):Ot,Et.resolve(Ot)},Ot=>Et.reject(Ot)).finally(()=>{delete je.updateResult}),bt.finally(()=>{Qe.containsKey(xe)&&(delete Qe.get(xe).promise,bt.rejected()&&this.removeCacheEntryInternal(xe))}).catch(Ot=>lt.reject(Ot)),{deferred:ut,promise:lt}}}clearEntry(xe,ye){var Je=this.getCacheEntry(xe);if(Je){var he=Je.promise;return ye&&he?he.reject():this.removeCacheEntryInternal(xe),!0}return!1}clearAllEntries(xe){for(var ye of this.cache.keys())this.clearEntry(ye,xe)}bindCacheEntry(xe,ye,Je){r.f.assertValue(xe,"cacheKey");var he=this.getCacheEntry(xe);if(void 0!==he){var Ce=this.promiseFactory.defer(Je),je=(0,l.U)(Ce);if(he.result){var pe=ye?ye(he.result):he.result;return Ce.resolve(pe),je}var Qe=he.promise;if(!Qe)return Ce.reject(new Error("RejectablePromiseCache.bindCacheEntry: cache promise is not defined")),je;he.refCount++;var ut=lt=>{he.refCount--,0===he.refCount&&Qe.pending()&&Qe.reject(lt)};return je.then(()=>ut(),lt=>ut(lt)),Qe.then(lt=>{var Et=ye?ye(lt):lt;Ce.resolve(Et)},lt=>Ce.reject(lt)),je}}getEntryContext(xe){r.f.assertValue(xe,"cacheKey");var ye=this.getCacheEntry(xe);if(ye)return ye.context}keys(){return this.cache.keys()}isFull(){return this.cache.isFull()}rewriteAllEntries(xe){var ye=[],Je=!!xe.rewriteKey,he=!!xe.rewriteResult,Ce=this.cache,je=function(lt){if(Je){var Et=xe.rewriteKey(lt);Et!==lt&&ye.push({oldKey:lt,newKey:Et})}if(he){var bt=Ce.get(lt);bt&&(bt.result&&xe.rewriteResult?bt.result=xe.rewriteResult(bt.result,lt):bt.updateResult=Ot=>xe.rewriteResult&&xe.rewriteResult(Ot,lt)||Ot)}};for(var pe of Ce.keys())je(pe);for(var Qe=0,ut=ye.length;Qe<ut;Qe++)this.changeCacheKey(ye[Qe].oldKey,ye[Qe].newKey)}putCacheResult(xe,ye,Je){r.f.assertValue(xe,"cacheKey");var he=this.getCacheEntry(xe);he?he.result?he.result=Je?Je(ye):ye:he.updateResult=()=>ye:r.f.assertFail(`cannot update no-existing cacheEntry for key '${xe}' with result '${ye}'`)}appendCacheEntryInternal(xe,ye){this.cache.containsKey(xe)&&this.removeCacheEntryInternal(xe),this.cache.put(xe,ye)}removeCacheEntryInternal(xe){this.cache.remove(xe)}changeCacheKey(xe,ye){if(!ye)return this.clearEntry(xe,!0);if(this.hasCacheEntry(ye)||!this.hasCacheEntry(xe))return!1;var Je=this.getCacheEntry(xe);return this.removeCacheEntryInternal(xe),this.appendCacheEntryInternal(ye,Je),!0}getCacheEntry(xe){var ye;if(r.f.assertValue(xe,"cacheKey"),xe&&(ye=this.cache.get(xe))&&(ye.promise||ye.result))return ye}}var u=e(84838),f=e(301336),b=e(545738),V=e(831241),T=e(11864),P=e(211988);function D(Ee){return r.f.assert(()=>Ee&&Ee.Commands&&Ee.Commands.length>0,"data query should not be empty"),(0,P.y)(Ee)?w(Ee):M(Ee.Commands[0].SemanticQueryDataShapeCommand)}function w(Ee){if(r.f.assert(()=>!Ee||(0,P.y)(Ee),"!dataQuery || isCompositeDataQuery(dataQuery)"),Ee)return JSON.stringify(Ee)}function M(Ee){if(Ee)return JSON.stringify(Ee)}var A=e(283667),R=e(12149),B=e(426313),W=f.b$.generateGuid;class U{constructor(xe,ye,Je,he,Ce){this.featureSwitches=Ce,r.f.assertValue(xe,"promiseFactory"),r.f.assertValue(Je,"createQuery"),this.createQuery=Je,this.createCancelQuery=he,this.promiseFactory=xe,this.cacheByModel={},this.telemetryService=ye}ensure(xe){r.f.assertValue(xe,"options"),r.f.assertValue(xe.command,"options.command");var ye=xe.command;r.f.assert(()=>ye&&ye.Commands&&ye.Commands.length>0,"data query should not be empty");var Je=ye.Commands[0].SemanticQueryDataShapeCommand,he=this.ensureCache(xe.dataSources),Ce=D(ye);if(he.hasCacheEntry(Ce)){if(U.allowResultFromClientCacheOrDefault(xe))return this.telemetryService.logEvent(s.s7,{cacheHit:!0,isCacheFull:he.isFull(),entryCount:he.getEntryCount()}),he.bindCacheEntry(Ce,void 0,xe.telemetryV2Enabled);he.clearEntry(Ce)}this.telemetryService.logEvent(s.s7,{cacheHit:!1,isCacheFull:he.isFull(),entryCount:he.getEntryCount()});var je=O(ye,this.featureSwitches,Ce),pe=this.findEquivalentCache(xe,he,je);if(pe)return pe;var ut,Qe={...xe};Qe.queryId=je.queryId,Qe.executionType=b.LC.Query,this.featureSwitches?.queryContext&&(ut=bt=>{var Ot=this.findQueryContext(Qe);if(!Ot)return bt;var Dt={...bt};return Dt.queryContext=Ot,Dt});var lt=he.createCacheEntry(Ce,je,ut,U.rewriteCachedResult,xe.telemetryV2Enabled);if(lt.promise.catch(bt=>{(0,n.Hx)(bt)||this.featureSwitches&&this.featureSwitches.queryCancellation&&this.createCancelQuery({dataSources:Qe.dataSources,command:Qe.command,allowResultFromClientCache:Qe.allowResultFromClientCache,allowClientSideFilters:Qe.allowClientSideFilters,cacheResponseOnServer:Qe.cacheResponseOnServer,ignoreViewportForCache:Qe.ignoreViewportForCache,cacheOptions:Qe.cacheOptions,queryId:Qe.queryId,executionType:b.LC.CancelQuery},bt&&bt.queryCancellationSource)}),Qe.clientCacheOnly)return lt.promise.reject(new n.xs),lt.promise;this.createQuery(Qe,lt);var Et=he.bindCacheEntry(Ce,void 0,xe.telemetryV2Enabled);return!1===xe.cacheResponseOnClient&&he.clearEntry(Ce),Je.Binding&&Je.Binding.DataReduction&&(Ue(Je.Binding.DataReduction.Primary)||Ue(Je.Binding.DataReduction.Secondary))||Et.then(bt=>{bt&&bt.dsr&&function(Ee,xe){if(r.f.assertValue(Ee,"dsr"),(0,i.nZ)(Ee)){if(!xe)return!1;for(var ye=(0,A.KI)(Ee,void 0).dataShapes(),Je=(0,i.kc)(Ee);ye.next();)if(Je&&Je>=R.Es.MinorVersion1){if(!0!==ye.hasAllData())return!1}else if(!ye.complete()||ye.limitsExceeded()||ye.hasRestartTokens())return!1;return!0}return _.every(Ee.DataShapes,he=>he&&he.IsComplete&&_.isEmpty(he.DataLimitsExceeded)&&!he.RestartTokens)}(bt.dsr,this.featureSwitches&&this.featureSwitches.dsrV2)&&(je.hasAllData=!0)},()=>{}),Et}findQueryContext(xe){var ye=xe.applicationContext;if(ye)return r.f.assert(()=>1===_.size(ye.Sources),"Expected to have 1 ApplicationContextSource"),ye.Sources[0].CustomProperties}clear(xe){var ye=this.getCache(xe);ye&&ye.clearAllEntries()}rewrite(xe,ye){var Je=this.getCache(xe);if(Je){var he={};ye.rewriteCacheKey&&ye.rewriteDataQueryCacheKey&&(he.rewriteKey=Ce=>{var je=JSON.parse(Ce),pe=Je.getEntryContext(Ce);if(pe.compositeDataQuery){var Qe=je,ut=ye.rewriteDataQueryCacheKey(Qe);if(ut&&ut!==Qe){var lt=x(ut,this.featureSwitches);_.assign(pe,lt)}}else{var Et=je,bt=ye.rewriteCacheKey(Et);if(bt&&bt!==Et){var Ot=I(bt,this.featureSwitches);_.assign(pe,Ot)}}return pe.key}),ye.rewriteCacheResult&&(he.rewriteResult=Ce=>{var je=Ce,pe=ye.rewriteCacheResult({descriptor:je.descriptor,dsr:je.dsr});return pe?{descriptor:pe.descriptor,dsr:pe.dsr}:{descriptor:je.descriptor,dsr:je.dsr}}),Je.rewriteAllEntries(he)}}put(xe,ye,Je){var he=this.ensureCache(xe),Ce=ye,je=D(Ce);if(he.hasCacheEntry(je))he.putCacheResult(je,Je,U.rewriteCachedResult);else{var pe=O(Ce,this.featureSwitches,je);he.createCacheEntry(je,pe,void 0,U.rewriteCachedResult).deferred.resolve(Je)}}static allowResultFromClientCacheOrDefault(xe){return r.f.assertValue(xe,"options"),!1!==xe.allowResultFromClientCache}findEquivalentCache(xe,ye,Je){if(r.f.assertValue(xe,"options"),r.f.assertValue(ye,"cache"),r.f.assertValue(Je,"entryContext"),U.allowResultFromClientCacheOrDefault(xe))if(Je.compositeDataQuery){if(xe.ignoreViewportForCache)for(var Et of ye.keys()){var bt=ye.getEntryContext(Et);if(bt&&bt.keyWithoutViewport&&bt.keyWithoutViewport===Je.keyWithoutViewport)return ye.bindCacheEntry(bt.key,void 0,xe.telemetryV2Enabled)}}else{var he=xe.command;r.f.assert(()=>he&&!_.isEmpty(he.Commands),"data query should not be empty");var Ce=he.Commands[0].SemanticQueryDataShapeCommand.Binding,je=!!(Ce&&Ce.DataReduction&&Ce.DataReduction.Primary&&Ce.DataReduction.Primary.TopNPerLevel),pe=!1;for(var Qe of ye.keys()){var ut=ye.getEntryContext(Qe);if(ut){if(!je&&ut.hasAllData&&ut.keyWithoutReduction===Je.keyWithoutReduction)return ye.bindCacheEntry(ut.key,void 0,xe.telemetryV2Enabled);if(X(ye,ut,xe,Je,xe.telemetryV2Enabled)){pe=!0;break}}}pe&&u.fM.information("Reused cache with client side filters")}}getCache(xe){return this.cacheByModel[this.generateModelKey(xe)]}ensureCache(xe){var ye=this.generateModelKey(xe),Je=this.cacheByModel,he=Je[ye];return void 0===he&&(he=Je[ye]=new E(this.promiseFactory,this.featureSwitches?.lruCacheEvictionPolicy?S.LRU:S.FIFO)),he}generateModelKey(xe){if(!_.isEmpty(xe))return JSON.stringify(_.map(xe,ye=>({dbName:ye.dbName,vsName:ye.vsName,schemaName:ye.schemaName})))}static rewriteCachedResult(xe){if(!xe)return xe;var ye={...xe};return delete ye.metrics,ye.fromClientCache=!0,ye}}function O(Ee,xe,ye){return r.f.assertValue(Ee,"dataQuery"),r.f.assert(()=>Ee&&Ee.Commands&&Ee.Commands.length>0,"data query should not be empty"),r.f.assertAnyValue(ye,"cacheKey"),(0,P.y)(Ee)?x(Ee,xe,ye):(r.f.assert(()=>1===Ee.Commands.length,"Expecting a non-empty, non-composite query to have exactly 1 command."),I(Ee.Commands[0].SemanticQueryDataShapeCommand,xe,ye))}function x(Ee,xe,ye){return r.f.assertValue(Ee,"dataQuery"),r.f.assert(()=>(0,P.y)(Ee),"data query should be composite"),r.f.assertAnyValue(ye,"cacheKey"),r.f.assert(()=>!ye||ye===w(Ee),"If cacheKey is specified, it is expected to be the return value of this.generateCacheKeyDataQuery(dataQuery).  The fact that cacheKey is a parameter to this function is just an optimization."),{key:ye||w(Ee),keyWithoutReduction:G(Ee),keyWithoutViewport:q(Ee),keyWithoutFilter:void 0,queryFilters:void 0,compositeDataQuery:!0,queryId:L(xe)}}function I(Ee,xe,ye){r.f.assertAnyValue(Ee,"dataShapeCommand"),r.f.assertAnyValue(ye,"cacheKey"),r.f.assert(()=>!ye||ye===M(Ee),"If cacheKey is specified, it is expected to be the return value of this.generateCacheKey(dataShapeCommand).  The fact that cacheKey is a parameter to this function is just an optimization.");var Je=function(Ee){if(r.f.assertAnyValue(Ee,"command"),!Ee)return!1;var xe=Ee.Binding&&Ee.Binding.DataReduction,ye=xe&&xe.Primary,Je=xe&&xe.Secondary;return!(!ot(ye)||!ot(Je)||Ue(ye)||Ue(Je))}(Ee);return{key:ye||M(Ee),keyWithoutReduction:J(Ee),keyWithoutViewport:void 0,keyWithoutFilter:Je?k(Ee):void 0,queryFilters:Je?Q(Ee):void 0,compositeDataQuery:!1,queryId:L(xe)}}function L(Ee){return Ee&&Ee.queryCancellation?W():""}function K(Ee){Ee&&Ee.Binding&&"object"==typeof Ee.Binding&&(Ee.Binding.DataReduction=void 0,Ee.Binding.Limits=void 0)}function J(Ee){if(Ee){var xe=_.cloneDeep(Ee);return K(xe),JSON.stringify(xe)}}function k(Ee){if(Ee){var xe=_.cloneDeep(Ee);return function(Ee){Ee&&Ee.Query&&Ee.Query.Where&&(Ee.Query.Where=void 0)}(xe),JSON.stringify(xe)}}function G(Ee){if(r.f.assert(()=>!Ee||(0,P.y)(Ee),"!dataQuery || isCompositeDataQuery(dataQuery)"),Ee){var xe=_.cloneDeep(Ee);return K(xe.Commands[0].SemanticQueryDataShapeCommand),JSON.stringify(xe)}}function q(Ee){if(r.f.assert(()=>!Ee||(0,P.y)(Ee),"!dataQuery || isCompositeDataQuery(dataQuery)"),Ee){r.f.assertValue(Ee.Commands,"dataQuery.Commands"),r.f.assert(()=>2===Ee.Commands.length,"dataQuery.Commands must have two commands"),r.f.assertValue(Ee.Commands[1].ScriptVisualCommand,"dataQuery.Commands second element must be a ScriptVisualCommand");var xe=_.cloneDeep(Ee);return function(Ee){Ee&&(Ee.ViewportHeightPx=void 0,Ee.ViewportWidthPx=void 0)}(xe.Commands[1].ScriptVisualCommand),JSON.stringify(xe)}}function Q(Ee){r.f.assertAnyValue(Ee,"command");var xe=Ee&&Ee.Query;if(xe&&!_.isEmpty(xe.Where)){var ye=Ct(xe),Je=ye&&ye.where();if(!_.isEmpty(Je))return Je}}function X(Ee,xe,ye,Je,he=!1){if(r.f.assert(()=>U.allowResultFromClientCacheOrDefault(ye),"QueryCache.allowResultFromClientCacheOrDefault(options)"),r.f.assertValue(Ee,"cache"),r.f.assertValue(xe,"oldItemContext"),r.f.assertValue(ye,"newQueryOptions"),r.f.assertValue(Je,"newItemContext"),ye.allowClientSideFilters){var Ce=function(Ee,xe){if(r.f.assertValue(Ee,"oldItemContext"),r.f.assertValue(xe,"newItemContext"),!xe.compositeDataQuery&&!!xe.keyWithoutFilter&&!Ee.compositeDataQuery&&Ee.keyWithoutFilter&&Ee.hasAllData&&Ee.keyWithoutFilter===xe.keyWithoutFilter&&function(Ee,xe){return r.f.assertAnyValue(Ee,"filters"),r.f.assertAnyValue(xe,"counterparts"),_.every(Ee,ye=>_.some(xe,Je=>(0,V.sw)(Je,ye)))}(te(Ee.queryFilters,xe.queryFilters),xe.queryFilters)){var Ce=te(xe.queryFilters,Ee.queryFilters);if(!_.isEmpty(Ce))return function(Ee,xe){r.f.assert(()=>Ee&&!Ee.compositeDataQuery,"itemContext && !itemContext.compositeDataQuery"),r.f.assertNonEmpty(xe,"filtersToConvert");var ye=JSON.parse(Ee.key),Je=Ct(ye&&ye.Query);if(Je)return r.f.assert(()=>_.every(xe,Ce=>(0,B.qV)(Je.where(),Ce)),"expecting every item in filtersToConvert to be in the where clause of the source SemanticQuery."),(0,V.Z7)(Je.select(),xe)}(xe,Ce)}}(xe,Je);if(!_.isEmpty(Ce))return Ee.bindCacheEntry(xe.key,je=>function(Ee,xe){r.f.assertValue(Ee,"data"),r.f.assertNonEmpty(xe,"clientSideFilters");var ye={...Ee};return ye.clientSideFilters=xe,ye}(je,Ce),he)}}function te(Ee,xe){return r.f.assertAnyValue(Ee,"filters"),r.f.assertAnyValue(xe,"comparants"),_.isEmpty(xe)?Ee:_.filter(Ee,ye=>!(0,B.qV)(xe,ye))}function Ue(Ee){return r.f.assertAnyValue(Ee,"algorithm"),Ee&&Ee.Window&&null!=Ee.Window.RestartTokens}function ot(Ee){return r.f.assertAnyValue(Ee,"algorithm"),!Ee||!!Ee.Window}function Ct(Ee){if(r.f.assertAnyValue(Ee,"queryDefinition"),Ee&&Ee.From&&Ee.Select)return T.ib.deserializeQuery(Ee)}var Ke=e(469737),Ae=e(348521);class we{resolveDelayedQuery(xe,ye,Je){r.f.assertFail("Apps that want to support delayed query results need to specify an IExecuteSemanticQueryDelayedResultResolver implementation"),Je.reject(new Ae.i(xe))}}class Ne extends n.mB{constructor(xe){r.f.assertValue(xe,"requestId"),super("ExecuteSemanticQueryUnknownError"),this.httpRequestId=xe}get requestId(){return this.httpRequestId}getDetails(xe){var ye=super.getDetails(xe);return ye.debugErrorInfo=ye.debugErrorInfo||[],ye.debugErrorInfo.push({errorInfoKey:n.j,errorInfoValue:this.httpRequestId}),ye}}class Se{constructor(xe,ye,Je,he,Ce,je,pe,Qe,ut){this.communication=ye,this.telemetryService=he,this.featureSwitches=pe,this.queryContextProvider=Qe,this.appContextHostDataProvider=ut,r.f.assertValue(xe,"host"),r.f.assertValue(he,"telemetryService"),this.promiseFactory=xe.promiseFactory(),this.delayedQueryResultResolver=Ce||new we,this.batcher=new d.PE(je??0,lt=>{for(var Et=0,bt=lt.length;Et<bt;++Et)this.executeBatch(lt[Et])},Je,pe&&pe.addVisualIdToQueryDataAsHttpBodyId),this.queryCache=function(Ee,xe,ye,Je,he){return r.f.assertValue(Ee,"promiseFactory"),r.f.assertValue(ye,"createQuery"),new U(Ee,xe,ye,Je,he)}(this.promiseFactory,this.telemetryService,(lt,Et)=>{var bt={options:lt,deferred:Et.deferred,execution:Et.promise,enqueueActivity:lt.performanceActivity&&lt.performanceActivity.isRunning()&&lt.performanceActivity.createChildActivity({name:t.R.QueryPending}),queryActivity:lt.performanceActivity};this.setAppContextHostData(bt),this.featureSwitches?.queryContext?this.setQueryContext(bt).then(()=>{this.enqueueExecution(bt)}):this.enqueueExecution(bt)},(lt,Et)=>{this.telemetryService.logEvent(s.hh,{source:Et}),this.enqueueExecution({options:lt,enqueueActivity:lt.performanceActivity&&lt.performanceActivity.isRunning()&&lt.performanceActivity.createChildActivity({name:t.R.QueryPending}),queryActivity:lt.performanceActivity})},pe)}setAppContextHostData(xe){if(this.appContextHostDataProvider&&xe.options.applicationContext&&this.featureSwitches?.useEnrichedApplicationContext){var ye=xe.options.applicationContext,Je=this.appContextHostDataProvider.getApplicationContextHostData();ye.Sources[0]={...ye.Sources[0],...Je}}}setQueryContext(xe){var ye=this;return(0,a.Z)(function*(){if(ye.featureSwitches?.queryContext&&ye.queryContextProvider&&xe.options.applicationContext){r.f.assert(()=>1===_.size(xe.options.applicationContext.Sources),"Expected to have 1 ApplicationContextSource");var Je=xe.options.applicationContext.Sources[0];try{var he=yield ye.queryContextProvider.generateQueryContext();if(!he)return;Je.CustomProperties={...Je.CustomProperties,...he}}catch{return}}})()}enqueueExecution(xe){this.isCommunicationStopped?(this.pausedQueries=this.pausedQueries||[],this.pausedQueries.push(xe)):this.batcher.enqueue(xe)}execute(xe){if(!_.isEmpty(xe.dataSources))return this.queryCache.ensure(xe);var ye=this.promiseFactory.defer(!1),Je=(0,l.U)(ye);return ye.resolve(xe.command),Je}stopCommunication(){this.isCommunicationStopped=!0}resumeCommunication(){this.isCommunicationStopped=!1;var Ee,xe=this.pausedQueries;if(xe){for(var ye=0,Je=xe.length;ye<Je;ye++){var he=xe[ye];(0,Ke.I3)(Ee=he)&&Ee.execution.pending()&&this.batcher.enqueue(he)}this.pausedQueries=void 0}}cache(){return this.queryCache}setLocalCacheResult(xe,ye){this.queryCache.put(xe.dataSources,xe.command,ye)}setPreferredMaxConnections(xe){this.batcher.setMaxBatches(xe)}executeBatch(xe){r.f.assertValue(xe,"batch"),r.f.assert(()=>xe.queryOptions.length===xe.promises.length,"Queries & promises sizes must match.");var ye=xe.promises;this.communication.execute(xe).then(Je=>this.onSuccess(Je,ye),Je=>this.onError(Je,ye))}onSuccess(xe,ye){r.f.assertValue(xe,"result"),r.f.assertValue(ye,"executions"),this.rejectExecutionsForMissingJobs(xe,ye);for(var Je=xe.jobIds,he={},Ce=0,je=ye.length;Ce<je;++Ce)he[Je[Ce]]=ye[Ce];for(var pe=xe.results,Qe=0,ut=pe.length;Qe<ut;++Qe){var lt=pe[Qe],Et=lt.result,bt=lt.jobId,Ot=he[bt];delete he[bt];var Dt=Et.data,ne=Et.error;if(Dt)Ot.resolve({descriptor:Dt.descriptor,dsr:Dt.dsr,metrics:Dt.metrics,requestId:xe.requestId,timestamp:Dt.timestamp,fromCache:Dt.fromCache});else if(ne){var $e=new p.sI(ne);$e.requestId=xe.requestId,Ot.reject($e)}else Et.asyncResult&&this.delayedQueryResultResolver.resolveDelayedQuery(lt.jobId,xe.requestId,Ot,xe)}if(!_.isEmpty(Object.keys(he))){var qe=new o(xe.requestId,"MissingJobResult");for(var dt in he)he[dt].reject(qe)}}rejectExecutionsForMissingJobs(xe,ye){var Je=xe.jobIds.length,he=ye.length;if(he>Je)for(var Ce=new o(xe.requestId,"MissingJobId"),je=Je;je<he;je++)ye[je].reject(Ce)}onError(xe,ye){var Je;if(r.f.assertValue(ye,"executions"),xe&&xe.requestError&&(Je=new p.sI(xe.requestError)),Je)Je.requestId=xe.requestId;else{var Ce,je,pe,he=xe.error;if(he){Ce=he.message,je=he.code;var Qe=he["pbi.error"]&&he["pbi.error"].exceptionCulprit;null!=Qe&&(pe=(0,g.Qf)(Qe))}Je=xe&&null!=xe.httpStatusCode&&xe.requestId?new n.Gx(xe.httpStatusCode,xe.requestId,je,Ce,pe):new Ne(xe.requestId)}for(var ut=0,lt=ye.length;ut<lt;ut++)ye[ut].reject(Je)}}class Oe{constructor(xe,ye,Je,he,Ce,je,pe,Qe,ut){r.f.assertValue(xe,"host"),this.proxy=new Se(xe,ye,Ce,Je,je,pe,he,Qe,ut),this.featureSwitches=he,this.telemetryService=Je}execute(xe){return this.proxy.execute(xe)}transform(xe,ye,Je,he){return void 0===xe?{dataView:{metadata:{columns:[]},error:{code:"UndefinedData"}}}:(0,i.ij)(ye,xe,this.featureSwitches,this.telemetryService,Je,he)}stopCommunication(){this.proxy.stopCommunication()}resumeCommunication(){this.proxy.resumeCommunication()}get cache(){return this.proxy.cache()}setLocalCacheResult(xe,ye){this.proxy.setLocalCacheResult(xe,ye)}setPreferredMaxConnections(xe){this.proxy.setPreferredMaxConnections(xe)}}},19941:function(ve,j,e){e.d(j,{x:function(){return n}});var r=e(803205),i=e(650543),a=e(734531),t=e(785585),l=e(899631);class n{get code(){return"DsrLimitsWarning"}constructor(s,d,o){i.f.assertValue(s,"queryBindingDescriptor"),i.f.assert(()=>d&&d.length>0,"Expected a non-empty array of exceeded limits."),this.computeMetadata(s,o,d)}computeMetadata(s,d,o){if(this.limits={},s.Limits){var v=n.getExceededLimitsDetails(s,o),m=s.Limits,c=!!v.Primary,C=!!v.Secondary,y=!!v.Intersection;if(s.ScriptVisualBinding)return void(this.hasScriptVisualBinding=!0);var S=s.Expressions&&s.Expressions.Primary&&s.Expressions.Primary.Groupings?s.Expressions.Primary.Groupings:[],h=s.Expressions&&s.Expressions.Secondary&&s.Expressions.Secondary.Groupings?s.Expressions.Secondary.Groupings:[];c&&C?(this.groupings=S.concat(h),this.limits.Primary=n.getLimitMetadata(m.Primary,d),this.limits.Secondary=n.getLimitMetadata(m.Secondary,d)):c?(this.groupings=S,this.limits.Primary=n.getLimitMetadata(m.Primary,d)):C&&(this.groupings=h,this.limits.Secondary=n.getLimitMetadata(m.Secondary,d)),y&&(this.limits.Intersection=n.getLimitMetadata(m.Intersection,d))}}getDetails(s){var d=!!this.limits.Primary,o=!!this.limits.Secondary,v=null,m=r.m9.Unknown;return this.hasScriptVisualBinding?v=s.get("DsrLimitWarning_TooMuchDataValMultipleColumns"):d||o?d&&o?(m=this.limits.Primary.Type,v=this.getErrorInfoValue(this.groupings,s.get("DsrLimitsWarning_MultipleColumnsWithIssuesFormat"),s)):v=this.getErrorInfoValue(this.groupings,n.getDetailedMessageFormatForOneColumn(m=d?this.limits.Primary.Type:this.limits.Secondary.Type,s),s):this.limits.Intersection&&(v=n.getDetailedMessageFormatForOneColumn(m=this.limits.Intersection.Type,s)),v||(v=s.get("DsrLimitWarning_TooMuchDataValMultipleColumns")),{message:n.getMessage(m,s),displayableErrorInfo:[{errorInfoKey:n.getKey(m,s),errorInfoValue:v}],helpLink:n.getHelpLink(m)}}static getExceededLimitsDetails(s,d){var o=s.Limits,v={};for(var m of d)o.Primary&&m.Id===o.Primary.Id?v.Primary=o.Primary:o.Secondary&&m.Id===o.Secondary.Id?v.Secondary=o.Secondary:o.Intersection&&m.Id===o.Intersection.Id&&(v.Intersection=o.Intersection);return v}getErrorInfoValue(s,d,o){if(!s||0===s.length)return null;for(var v=[],m=0,c=s.length;m<c;m++){var y=this.getGroupingNameFromGroupingKeys(s[m]);y&&v.push(y)}var S,h=v.length;return 0===h?null:(S=1===h?v[0]:v.join(o.get("ListJoin_Separator")),(0,a.W)(d,S))}getGroupingNameFromGroupingKeys(s){for(var d=s.Keys,o=0,v=d.length;o<v;o++){var m=d[o];if(null!=m.Select)return this.columnNameFromIndex?this.columnNameFromIndex(m.Select):void 0}}static getMessage(s,d){switch(s){case r.m9.Sample:return d.get("DsrLimitWarning_RepresentativeSampleMessage");case r.m9.BinnedLineSample:case r.m9.OverlappingPointsSample:return d.get("DsrLimitWarning_HighDensitySampleMessage");default:return d.get("DsrLimitWarning_TooMuchDataMessage")}}static getKey(s,d){switch(s){case r.m9.Sample:return d.get("DsrLimitWarning_RepresentativeSampleKey");case r.m9.BinnedLineSample:case r.m9.OverlappingPointsSample:return d.get("DsrLimitWarning_HighDensitySampleKey");default:return d.get("DsrLimitWarning_TooMuchDataKey")}}static getDetailedMessageFormatForOneColumn(s,d){switch(s){case r.m9.Sample:return d.get("DsrLimitWarning_RepresentativeSampleVal");case r.m9.BinnedLineSample:return d.get("DsrLimitWarning_HighDensitySampleVal");case r.m9.OverlappingPointsSample:return d.get("DsrLimitWarning_OverlappingPointsDetails");default:return d.get("DsrLimitWarning_TooMuchDataVal")}}static getHelpLink(s){switch(s){case r.m9.BinnedLineSample:return"https://go.microsoft.com/fwlink/?linkid=848757";case r.m9.OverlappingPointsSample:return"https://go.microsoft.com/fwlink/?linkid=853820"}}static getLimitMetadata(s,d){return s.Top?{Type:r.m9.Top,Count:n.getLimitCount(s.Top,d)}:s.Bottom?{Type:r.m9.Bottom,Count:n.getLimitCount(s.Bottom,d)}:s.Sample?{Type:r.m9.Sample,Count:n.getLimitCount(s.Sample,d)}:s.BinnedLineSample?{Type:r.m9.BinnedLineSample,Count:n.getBinnedLineSampleCount(s.BinnedLineSample)}:s.OverlappingPointsSample?{Type:r.m9.OverlappingPointsSample,Count:n.getLimitCount(s.OverlappingPointsSample,d)}:{Type:r.m9.Unknown,Count:null}}static getLimitCount(s,d){if(s.Calc&&d){var o=l.A1.findCalculation(d,s.Calc);if(o){var v=(0,t.H2)(o.Value);if(_.isNumber(v))return v}}return s.Count}static getBinnedLineSampleCount(s){return s.MaxTargetPointCount}}},517909:function(ve,j,e){e.d(j,{dL:function(){return a},lp:function(){return g},py:function(){return l},sK:function(){return t}});var r=e(650543),i="Warning",a=function(n){return n[n.Warning=0]="Warning",n}({});function t(n){if(n===a.Warning)return i}var l={"ForecastErrorType.DataIsTooSmall":{localizedMessage:"DsrMessage_NotEnoughDataMessage",localizedTitle:"DsrMessage_NotEnoughDataTitle",localizedContent:"DsrMessage_NotEnoughDataContent",isTransformMessage:!0},"ForecastErrorType.TooManyMissingValues":{localizedMessage:"DsrMessage_DataIsTooRandomOrMissingValuesMessage",localizedTitle:"DsrMessage_DataIsTooRandomOrMissingValuesTitle",localizedContent:"DsrMessage_DataIsTooRandomOrMissingValuesContent",isTransformMessage:!0},"ForecastErrorType.NoDominantStepDetected":{localizedMessage:"DsrMessage_DataIsTooRandomOrMissingValuesMessage",localizedTitle:"DsrMessage_DataIsTooRandomOrMissingValuesTitle",localizedContent:"DsrMessage_DataIsTooRandomOrMissingValuesContent",isTransformMessage:!0},"ForecastErrorType.InputTimeStampsNotSorted":{localizedMessage:"DsrMessage_UnsortedDataMessage",localizedTitle:"DsrMessage_UnsortedDataTitle",localizedContent:"DsrMessage_UnsortedDataContent",isTransformMessage:!0},"ForecastErrorType.XAxisIsNull":{localizedMessage:"DsrMessage_ForecastXValueNullMessage",localizedTitle:"DsrMessage_ForecastXValueNullTitle",localizedContent:"DsrMessage_ForecastXValueNullContent",isTransformMessage:!0},"ForecastErrorType.InvalidSeasonality":{localizedMessage:"DsrMessage_ForecastInvalidSeasonalityMessage",localizedTitle:"DsrMessage_ForecastInvalidSeasonalityTitle",localizedContent:"DsrMessage_ForecastInvalidSeasonalityContent",isTransformMessage:!0},"ForecastErrorType.InvalidDataType":{localizedMessage:"DsrMessage_ForecastVariantDataTypeMessage",localizedTitle:"DsrMessage_ForecastVariantDataTypeTitle",localizedContent:"DsrMessage_ForecastVariantDataTypeContent",isTransformMessage:!0},"ForecastErrorType.Unexpected":{localizedMessage:"DsrMessage_ForecastErrorMessage",localizedTitle:"DsrMessage_ForecastErrorTitle",localizedContent:"DsrMessage_ForecastErrorContent",isTransformMessage:!0},ForecastTransformUnsupported:{localizedMessage:"DsrMessage_ForecastNotSupportedMessage",localizedTitle:"DsrMessage_ForecastNotSupportedTitle",localizedContent:"DsrMessage_ForecastNotSupportedContent",isTransformMessage:!0},"ClusteringErrorType.LessThanKDataPoints":{localizedMessage:"DsrMessage_ClusterTooManyClustersTitle",localizedTitle:"DsrMessage_ClusterTooManyClustersTitle",localizedContent:"DsrMessage_ClusterTooManyClustersContent",isTransformMessage:!0},"ClusteringErrorType.TooManyDataPoints":{localizedMessage:"DsrMessage_ClusterExceedsLimitTitle",localizedTitle:"DsrMessage_ClusterExceedsLimitTitle",localizedContent:"DsrMessage_ClusterExceedsLimitContent",isTransformMessage:!0},"ClusteringErrorType.InvalidDataType":{localizedMessage:"DsrMessage_ClusterVariantDataTypeTitle",localizedTitle:"DsrMessage_ClusterVariantDataTypeTitle",localizedContent:"DsrMessage_ClusterVariantDataTypeContent",isTransformMessage:!0}};class g{constructor(p){this.dataShapeMessage=p}get code(){return this.dataShapeMessage.Code}getDetails(p){var s=l[this.dataShapeMessage.Code];return r.f.assertValue(s,"message to show should be a known message"),{message:p.get(s.localizedMessage),displayableErrorInfo:[{errorInfoKey:p.get(s.localizedTitle),errorInfoValue:p.get(s.localizedContent)}]}}isTransformMessage(){var p=l[this.code];return p&&p.isTransformMessage}}},574826:function(ve,j,e){e.d(j,{cd:function(){return p},U1:function(){return m},Ei:function(){return s}});var r=e(803205),i=e(650543),a=e(442407),t=e(785585),l=e(138334);class g{constructor(C){i.f.assertValue(C,"Null RestartIdentities list"),i.f.assertNonEmpty(C,"Empty RestartIdentities list"),this.restartValuesCount=C.length,this.calcIdToRestartIdentityIndex={};for(var y=0;y<this.restartValuesCount;y++)this.calcIdToRestartIdentityIndex[C[y]]=y}getRestartValues(C){i.f.assertValue(C,"getRestartValues called with undefined instanceParser");var y=new Array(this.restartValuesCount);for(C.restartCalcs();C.nextCalc();){var S=this.calcIdToRestartIdentityIndex[C.calcId()];void 0!==S&&(y[S]=C.calcValueAsExpr())}return i.f.assert(()=>_.every(y,h=>!!h),"Missing calcs for RestartValues"),y}}class n{constructor(C){this.values=C,this.parsedValues=new Array(C.length),this.parsedValueExprs=new Array(C.length)}getCalcValue(C,y){if(!(C>=this.parsedValues.length)){var S=this.parsedValues[C];return void 0===S&&(S=(0,t.Yt)(this.values[C],y),this.parsedValues[C]=S),S}}getCalcValueExpr(C,y,S){if(!(y>=this.parsedValues.length)){var h=this.parsedValueExprs[y];return void 0===h&&(h=(0,t.HL)(C,this.values[y],S),this.parsedValueExprs[y]=h),h}}}class p{constructor(C){if(C)for(var y in this.resolvedValueDictionaries={},C)this.resolvedValueDictionaries[y]=new n(C[y])}getCalcValue(C,y,S){if(y&&"number"==typeof C){i.f.assertValue(this.resolvedValueDictionaries,"this.context.resolvedValueDictionaries");var h=this.resolvedValueDictionaries[y];return i.f.assertValue(h,"dictionary"),h.getCalcValue(C,S)}}getCalcValueExpr(C,y,S,h){if(S&&"number"==typeof y){i.f.assertValue(this.resolvedValueDictionaries,"this.resolvedValueDictionaries");var E=this.resolvedValueDictionaries[S];return i.f.assertValue(E,"dictionary"),E.getCalcValueExpr(C,y,h)}}}function s(c){var C=c.Select,y=c.Expressions,S=y&&y.Primary,h=S&&S.Groupings,E=S&&S.Synchronization,u=y&&y.Secondary&&y.Secondary.Groupings,f={},b=h&&[],V=u&&[];if(h)for(var T=0,P=h.length;T<P;T++)o(f,h[T],T,b,C);if(u)for(var D=0,w=u.length;D<w;D++)V[D]=[],o(f,u[D],D,V,C);var M=0,A=[];if(C&&u)for(var R=0;R<C.length;R++){var B=C[R];B&&B.Kind===l.hk.Measure&&null==B.Depth&&null==B.SecondaryDepth&&(A[M++]=R)}var N={intersectionMeasureToSelectIndex:A,secondaryLeafDataMemberId:u&&[],dataMemberIdToMetadata:f,selects:C,maxPrimaryDepth:_.size(h),maxSecondaryDepth:_.size(u),memberInstanceCalcMetadataCache:{},calcIdToCalcMetadata:{},intersectionCalcMetadataCache:{},primaryDataMemberIdCache:b,secondaryDataMemberIdCache:V,instancesCalcCache:{},lastIntersectionCalcCache:{},locked:!1};if(E){var W=E.length;N.primarySynchronizedGroups=new Array(W);for(var F=0;F<W;F++){var U=E[F],O=_.last(U.Groupings);N.primarySynchronizedGroups[F]={groupings:U.Groupings,dataShapeId:U.DataShape,synchronizationIndexCalcId:h[O].SynchronizationIndex,context:d(c,U)}}}return N}function d(c,C){i.f.assertValue(c.Expressions.Primary,"No primary groupings."),i.f.assertValue(c,"synchronizedGroup");for(var y=c.Expressions.Primary.Groupings,S=c.Select,h={},E=[],u=C.Groupings,f=0;f<u.length;f++)o(h,y[u[f]].SynchronizedGroup,f,E,S,!0);return{dataMemberIdToMetadata:h,selects:S,maxPrimaryDepth:_.size(u),primaryDataMemberIdCache:E,memberInstanceCalcMetadataCache:{},calcIdToCalcMetadata:{},locked:!1,intersectionCalcMetadataCache:{},maxSecondaryDepth:0,secondaryDataMemberIdCache:void 0,instancesCalcCache:{},lastIntersectionCalcCache:{},intersectionMeasureToSelectIndex:[],secondaryLeafDataMemberId:void 0}}function o(c,C,y,S,h,E){var u=S[y]=[],f=function(c,C){for(var y=c.length,S=new Array(y),h=0;h<y;h++)S[h]=m(c[h],c[h].Select,C);return S}(C.Keys,h),b=C.Member;if(b){u.push(b);var V=c[b]={identityFields:f,axisGrouping:C,kind:r.g2.GroupMember,depth:y+1};E?V.forSynchronization=!0:C.SynchronizedGroup&&(V.isSynchronized=!0),C.RestartIdentities&&(V.restartValuesBuilder=new g(C.RestartIdentities))}var T=C.SubtotalMember;if(T){u.push(T);var P={identityFields:f,kind:r.g2.SubTotalMember,depth:y};E?P.forSynchronization=!0:C.SynchronizedGroup&&(P.isSynchronized=!0),c[T]=P}}function m(c,C,y){i.f.assertValue(c,"key"),i.f.assertAnyValue(C,"selectIndex"),i.f.assertValue(y,"selectBindings");var S=c.Source;if(!S){i.f.assert(()=>C>=0&&C<_.size(y),"selectIndex should be within range");var h=y[C].Name;return h?(0,a.xA)(h):void i.f.assertFail("selectName should be defined")}return(0,a.Oh)((0,a.nw)((0,l._H)(S),S.Entity||S.EntitySet),S.Property)}},120075:function(ve,j,e){e.d(j,{o3:function(){return ne},kc:function(){return bt},nZ:function(){return Et},ij:function(){return Ot}});var r=e(929248),i=e(882924),a=e(661248),t=e(650543),l=e(120694),g=e(301336),n=e(831241),p=e(932625),s=e(36432),d=e(899631),o=e(803205);class v{constructor(ce){this.context=ce,this.measureValueAggregatorsBySelectIdx=[]}read(ce,be=!0){for(var ae=this.context,de=ae.selects,ee=new Array(de.length),Pe=new Array(de.length);ce.nextCalc();){var We=ae.aggregateCalcMetadata[ce.calcId()];We&&We.aggregateKind&&(d.A1.fillMetadataColumnAggregate(ce.calcValue(),We,!1),We.aggregateKind===o.kt.Min&&(ee[We.selectIdx]=!0),We.aggregateKind===o.kt.Max&&(Pe[We.selectIdx]=!0))}be&&this.addLocalAggregators(ee,Pe)}addLocalAggregators(ce,be){for(var ae=this.measureValueAggregatorsBySelectIdx,de=this.context.measureSelectIndices,ee=de.length,Pe=!1,We=0;We<ee;We++){var it=de[We];ce[it]||(Pe=!0,ae[it]||(ae[it]=[]),ae[it].push(new d.nc)),be[it]||(Pe=!0,ae[it]||(ae[it]=[]),ae[it].push(new d._8))}this.hasLocalAggregators=Pe}update(ce,be){if(this.hasLocalAggregators){var ae=this.measureValueAggregatorsBySelectIdx[be];if(ae)for(var de of ae)de.update(ce)}}copyToColumns(){for(var ce=this.context.measureSelectIndices,be=ce.length,ae=0;ae<be;ae++){var de=ce[ae],ee=this.context.selectIndexToColumn[de],Pe=this.measureValueAggregatorsBySelectIdx[de];if(Pe&&Pe)for(var We of Pe){var it=We.value();void 0!==it&&(ee.aggregates||(ee.aggregates={}),ee.aggregates[We.name]=it)}}}}var m=e(402623),c=e(442407);class C{constructor(ce,be){this.context=ce,this.calcIdToGroupingKeysIndex={},this.initialize(be)}initialize(ce){var be=this.context,ae=be.selects,de=be.dataMemberIdToMetadata[ce];this.identityFields=de.identityFields,this.identityFieldsCount=this.identityFields.length;var Pe=de.axisGrouping.Keys;t.f.assert(()=>Pe.length===this.identityFieldsCount,"Mismatch in Identity Keys count");for(var We=0;We<this.identityFieldsCount;We++){var it=Pe[We],yt=void 0;it.Calc?yt=it.Calc:null!=it.Select&&it.Select>=0?yt=de.forSynchronization?ae[it.Select].Synchronized?.Value:ae[it.Select].Value:t.f.assertFail("unexpected grouping key value"),this.calcIdToGroupingKeysIndex[yt]=We}}reset(){this.identityParts=new Array(this.identityFieldsCount)}addExpr(ce,be){var ae=this.calcIdToGroupingKeysIndex[ce],de=this.identityFields[ae];de&&(this.identityParts[ae]=(0,c.Dg)(de,be))}getIdentity(){for(var ae,ce=this.identityParts,be=this.identityFieldsCount,de=0;de<be;de++)ae=(0,c.xD)(ae,ce[de]);var ee=(0,m.TZ)(ae);return t.f.assertValue(ee,"identity"),ee}getIdentityFields(){return this.identityFields}}var y=e(138334),S=e(12149);class E{constructor(){}run(ce,be,ae){this.metadata=ae,this.context=ce,this.dsrParser=be,this.selectIndexToCategoryColumn={},this.selectIndexToPrimaryValueColumn={},this.selectIndexToDynamicFormatColumn={},this.intersectionValueColumnsMap=[],this.intersectionDynamicFormatColumnsMap=[],this.primaryMeasureCount=0,this.intersectionMeasureCount=0,this.seriesSelectIndex=-1,this.primaryMeasureSelectIndexMap=[],this.intersectionMeasuresSelectIndexMap=[],this.selectIndexToValueColumnsMap=[],be.reset(),this.aggregator=new v(ce);var de=this.dsrParser.dataShapes();de.next();var ee={};if(0===ce.maxPrimaryDepth){this.readSelectsAndCreateCategoryColumns(void 0,void 0);var Pe=ee.values=(0,s.Yv)();this.readMeasuresWithNoGrouping(de,Pe)}else{var yt,We=[],it=[];ee.categories=We,this.readSelectsAndCreateCategoryColumns(We,it),(this.intersectionMeasureCount>0||this.primaryMeasureCount>0||this.seriesSelectIndex>=0)&&(ee.values=yt=(0,s.Yv)()),this.readSecondaryAndCreateValueColumns(yt);var et={};this.readData(de,yt,it,et),void 0!==et.value&&(ee.lastMergeIndex=et.value)}return ee}static isCompatible(ce){return ce.maxPrimaryDepth<=1&&ce.maxSecondaryDepth<=1&&!(0===ce.maxPrimaryDepth&&ce.maxSecondaryDepth>0)&&_.size(ce.selects)>0}readSelectsAndCreateCategoryColumns(ce,be){var ae=this.context,de=ae.selectIndexToColumn,ee=ae.selects,Pe=ee.length,We=this.dsrParser.dataShapes().secondaryHierarchy();this.primaryMeasureSelectIndexMap=new Array(ee.length),this.intersectionMeasuresSelectIndexMap=new Array(ee.length);for(var it=!!We,yt=0;yt<Pe;yt++){var et=ee[yt];if(et&&et.Value)if(et.Kind===y.hk.Group){if(null!=et.SecondaryDepth){this.seriesSelectIndex=yt;continue}if(null!=et.Depth){t.f.assert(()=>null!=be,"Expected truthy value for identities"),t.f.assert(()=>null!=ce,"Expected truthy value for categories");var ie={source:de[yt],values:[],identity:be};ce.push(ie),this.selectIndexToCategoryColumn[yt]=ie}}else et.Kind===y.hk.Measure&&(it&&null==et.Depth?this.intersectionMeasuresSelectIndexMap[this.intersectionMeasureCount++]=yt:this.primaryMeasureSelectIndexMap[this.primaryMeasureCount++]=yt)}}readSecondaryAndCreateValueColumns(ce){var be=this.dsrParser.dataShapes().secondaryHierarchy();be?(this.addIntersectionValueColumns(ce,be),this.primaryMeasureCount>0&&this.addPrimaryValueColumns(ce)):this.addPrimaryValueColumns(ce,!0)}addIntersectionValueColumns(ce,be){for(var ee,ae=this,de=new Array,Pe=this.context,We=function(){var it=be.id(),yt=be.instances();if(Pe.dataMemberIdToMetadata[it].kind===o.g2.SubTotalMember){for(;yt.next(););return 1}var et=Pe.dataMemberIdToIdentityBuilder[it];et||(et=new C(Pe,it),Pe.dataMemberIdToIdentityBuilder[it]=et),ee=et.getIdentityFields();for(var mt=-1;yt.next();){mt++,et.reset();for(var ie=void 0,Y=void 0;yt.nextCalc();){Y=yt.calcId();var fe=ae.context.calcInfo[Y];fe.isGroupKeyButNotSelect||(ie=yt.calcValue()),fe.forIdentity&&et.addExpr(Y,yt.calcValueAsExpr())}ae.addIntersectionValueColumnsCore(ce,de,Y,ie,mt,et.getIdentity()),t.f.assert(()=>null==yt.intersections(),"unexpected secondary intersections"),t.f.assert(()=>null==yt.members(),"unexpected secondary nested members")}0===ce.length&&0===de.length&&ae.addIntersectionValueColumnsCore(ce,de,void 0,void 0,0,void 0),ce.grouped=()=>de,ce.source=ae.context.selectIndexToColumn[ae.seriesSelectIndex],ce.identityFields=ee};be.next();)We()}addIntersectionValueColumnsCore(ce,be,ae,de,ee,Pe){for(var We=this,it=this.context,yt=it.selects,et=this.intersectionMeasureCount,mt=new Array(et),ie=this.metadata.columns,Y=function(){var Ze,ct=We.intersectionMeasuresSelectIndexMap[fe];void 0!==de?((Ze=it.createColumns(ie,ct).column).groupName=de,Ze.rootSource=it.selectIndexToColumn[ct]):Ze=_.find(ie,He=>He.index===ct);var St=We.createValueColumn(Ze,Pe,ct,!!yt[ct].Highlight,!1);ce.push(St),mt[fe]=St;var Rt=yt[ct],kt=We.intersectionValueColumnsMap[ee];kt||(kt=We.intersectionValueColumnsMap[ee]={}),kt[Rt.Value]=St;var Gt=Rt.Highlight&&Rt.Highlight.Value;if(Gt&&(kt[Gt]=St),Ze.formatSource&&Ze.formatSource.formatString){t.f.assertValue(Rt.DynamicFormat?.Format,"select.DynamicFormat.Format");var Ht=We.createValueColumn(Ze.formatSource.formatString,void 0,ct,!!yt[ct].Highlight,!0),tr=We.intersectionDynamicFormatColumnsMap[ee];tr||(tr=We.intersectionDynamicFormatColumnsMap[ee]={}),tr[Rt.DynamicFormat.Format]=Ht,ce.push(Ht);var ar=Rt.Highlight?.DynamicFormat?.Format;ar&&(tr[ar]=Ht)}},fe=0;fe<et;fe++)Y();var Be={values:mt};void 0!==de&&(Be.name=de),void 0!==Pe&&(Be.identity=Pe),be.push(Be)}addPrimaryValueColumns(ce,be){for(var ae=new Array,de=this.context,ee=de.selects,Pe=0;Pe<this.primaryMeasureCount;Pe++){var We=this.primaryMeasureSelectIndexMap[Pe],it=de.selectIndexToColumn[We],yt=this.createValueColumn(it,void 0,We,!!ee[We].Highlight,!1);if(this.selectIndexToPrimaryValueColumn[We]=yt,ae.push(yt),ce.push(yt),it.formatSource&&it.formatSource.formatString){var et=this.createValueColumn(it.formatSource.formatString,void 0,We,!!ee[We].Highlight,!0);this.selectIndexToDynamicFormatColumn[We]=et,ce.push(et),ae.push(et)}}if(be&&ce){var mt=[{values:ae}];ce.grouped=()=>mt}}createValueColumn(ce,be,ae,de,ee){var Pe={source:ce,values:[]};if(de&&(Pe.highlights=[]),be&&(Pe.identity=be),!ee){var We=this.selectIndexToValueColumnsMap[ae];We||(We=this.selectIndexToValueColumnsMap[ae]=[]),We.push(Pe)}return Pe}readData(ce,be,ae,de){var ee=this,Pe=this.context,We=ce.primaryHierarchy();this.aggregator.read(ce,0===this.intersectionMeasureCount);for(var it=function(){var yt=We.id(),et=Pe.dataMemberIdToMetadata[yt];if(et){var mt=et.kind===o.g2.GroupMember,ie=Pe.dataMemberIdToIdentityBuilder[yt];!ie&&mt&&(ie=new C(Pe,yt),Pe.dataMemberIdToIdentityBuilder[yt]=ie);for(var Y=We.instances();Y.next();){for(ie&&ie.reset(),Y.restartFlagKind()===S.bt.Merge&&(de.value=Y.currentIndex());Y.nextCalc();)ee.readPrimaryHierarchyCalc(Y,ie);ie&&ae.push(ie.getIdentity()),ee.parseIntersections(Y),t.f.assert(()=>null==Y.members(),"unexpected nested members to parse")}if(mt)for(var fe=ie.getIdentityFields(),Be=0;Be<Pe.selects.length;Be++){var Ze=ee.selectIndexToCategoryColumn[Be];Ze&&(Ze.identityFields=fe)}}};We.next();)it();this.aggregator.copyToColumns(),this.copyAggregatesToValueColumns()}copyAggregatesToValueColumns(){for(var ce=this.context.measureSelectIndices,be=this.context.selectIndexToColumn,ae=ce.length,de=0;de<ae;de++){var ee=ce[de],Pe=be[ee].aggregates;if(Pe){var We=this.selectIndexToPrimaryValueColumn[ee];We&&d.A1.copyAggregates(Pe,We);var it=this.selectIndexToValueColumnsMap[ee];if(it)for(var yt of it)d.A1.copyAggregates(Pe,yt)}}}readPrimaryHierarchyCalc(ce,be){var ae=ce.calcId(),de=this.context.aggregateCalcMetadata[ae];if(de&&de.aggregateKind===o.kt.Subtotal)d.A1.fillMetadataColumnAggregate(ce.calcValue(),de);else{var ee=this.context.calcInfo[ae];if(ee){var Pe=ce.calcValue();if(ee.kind===y.hk.Group)t.f.assert(()=>!!be,"Must have an identity builder when parsing grouping values"),ee.isGroupKeyButNotSelect||this.selectIndexToCategoryColumn[ee.selectIdx].values.push(Pe),ee.forIdentity&&be.addExpr(ae,ce.calcValueAsExpr());else if(ee.kind===y.hk.Measure){var We=ee.calcKind;We===o.Mp.Value?(this.selectIndexToPrimaryValueColumn[ee.selectIdx].values.push(Pe),this.aggregator.update(Pe,ee.selectIdx)):We===o.Mp.DynamicFormat?this.selectIndexToDynamicFormatColumn[ee.selectIdx].values.push(Pe):We===o.Mp.Highlight?this.selectIndexToPrimaryValueColumn[ee.selectIdx].highlights.push(Pe):We===o.Mp.HighlightDynamicFormat&&this.selectIndexToDynamicFormatColumn[ee.selectIdx].highlights.push(Pe)}}}}parseIntersections(ce){var be=ce.intersections();if(be)for(var ae=this.context.calcInfo,de=0;be.next();){var ee=this.intersectionValueColumnsMap[de],Pe=this.intersectionDynamicFormatColumnsMap[de];if(be.nextCalc()){if(!this.parseIntersectionCalc(be,ee,Pe,ae))continue;for(de++;be.nextCalc();)this.parseIntersectionCalc(be,ee,Pe,ae)}}}parseIntersectionCalc(ce,be,ae,de){var ee=ce.calcId(),Pe=de[ee];if(Pe)switch(t.f.assert(()=>Pe.kind===y.hk.Measure,"unexpected select kind found in intersection"),Pe.calcKind){case o.Mp.Value:return be[ee].values.push(ce.calcValue()),!0;case o.Mp.Highlight:return be[ee].highlights.push(ce.calcValue()),!0;case o.Mp.DynamicFormat:return ae[ee].values.push(ce.calcValue()),!0;case o.Mp.HighlightDynamicFormat:return ae[ee].highlights.push(ce.calcValue()),!0;case o.Mp.Subtotal:case o.Mp.SubtotalDynamicFormat:return!1}}readMeasuresWithNoGrouping(ce,be){var ae=this;this.aggregator.read(ce),this.aggregator.copyToColumns();var de=ce.primaryHierarchy();if(de.next()){this.addPrimaryValueColumns(be,!0);for(var ee=this.context.calcInfo,Pe=de.instances();Pe.next();)for(var We=function(){var it=Pe.calcId(),yt=ee[it];yt&&(t.f.assert(()=>null!=yt.selectIdx,"expect a selectIdx for all measures when there is no grouping"),yt.calcKind===o.Mp.Value?ae.selectIndexToPrimaryValueColumn[yt.selectIdx].values.push(Pe.calcValue()):yt.calcKind===o.Mp.Highlight?ae.selectIndexToPrimaryValueColumn[yt.selectIdx].highlights.push(Pe.calcValue()):yt.calcKind===o.Mp.DynamicFormat?ae.selectIndexToDynamicFormatColumn[yt.selectIdx].values.push(Pe.calcValue()):yt.calcKind===o.Mp.HighlightDynamicFormat&&ae.selectIndexToDynamicFormatColumn[yt.selectIdx].highlights.push(Pe.calcValue()))};Pe.nextCalc();)We()}}}var u=e(896286),f=e(179658),b=e(695795),V=e(574826);class T{get primaryAxisGroupings(){return this._primaryAxisGroupings}get secondaryAxisGroupings(){return this._secondaryAxisGroupings}get calcInfo(){return this._calcInfo}constructor(ce,be,ae,de,ee){t.f.assertValue(ce,"targets"),t.f.assert(()=>null!=be.Select||null!=be.ScriptVisualBinding,"descriptor"),this.targets=ce,this.descriptor=be,this.selects=be.Select,this.selectIndexToColumn={},this.aggregateCalcMetadata={},this._calcInfo={},this.calcIdToColumnIndices={},this.dataMemberIdToIdentityBuilder={};var Pe=be.Expressions;this._primaryAxisGroupings=Pe&&Pe.Primary&&Pe.Primary.Groupings,this._secondaryAxisGroupings=Pe&&Pe.Secondary&&Pe.Secondary.Groupings,this.measureSelectIndices=[],this.dataMemberIdToMetadata=ae.dataMemberIdToMetadata,this.maxPrimaryDepth=ae.maxPrimaryDepth,this.maxSecondaryDepth=ae.maxSecondaryDepth,this.primarySynchronizedGroups=ae.primarySynchronizedGroups,this.scopedAggregatesEnabled=de,this.dataShapeParser=ee}createContextForPrimarySynchronizedGroup(ce,be){var ae=new T(this.targets,this.descriptor,ce.context,this.scopedAggregatesEnabled,be);return ae._primaryAxisGroupings=_.map(ce.groupings,de=>this.primaryAxisGroupings[de].SynchronizedGroup),ae._secondaryAxisGroupings=void 0,ae._calcInfo=this._calcInfo,ae}includes(ce){return t.f.assertValue(ce,"kind"),(0,b.yE)(this.targets,ce)}createDataViewMetadataColumns(){var ce=this,be=this.selects;if(!_.isEmpty(be)){var ae=[],de=be.length;this.selectIndexToColumnIndex=new Array(de);for(var ee=function(){var et=be[Pe];if(!et)return 1;t.f.assert(()=>et.Kind!==y.hk.None,"Expecting every select never to be of SelectKind.None");var{column:mt,columnIdx:ie,dynamicFormatColumn:Y}=ce.createColumns(ae,Pe);ce.selectIndexToColumn[Pe]=mt,ce.selectIndexToColumnIndex[Pe]=ie,et.Kind===y.hk.Measure&&ce.measureSelectIndices.push(Pe);var fe=et.Aggregates;if(fe)for(var Be of fe){var Ze=ce.getAggregateKind(Be.Aggregate);ce.createAggregateCalcMetadata(Be.Ids,Ze,mt,Pe,Be.Aggregate)}var ct=et.Value;ct&&(ce.calcIdToColumnIndices[ct]||(ce.calcIdToColumnIndices[ct]=[]),ce.calcIdToColumnIndices[ct].push(ie),(null==et.Depth||null==et.SecondaryDepth)&&(ce.aggregateCalcMetadata[ct]={source:mt,aggregateKind:o.kt.Single,selectIdx:Pe})),et.Kind===y.hk.Measure&&(et.Subtotal&&ce.createAggregateCalcMetadata(et.Subtotal,o.kt.Subtotal,mt,Pe),et.SubtotalDynamicFormat&&ce.createAggregateCalcMetadata(_.map(et.SubtotalDynamicFormat,St=>St&&St.Format),o.kt.Subtotal,Y,Pe),et.Count&&(t.f.assert(()=>_.size(et.Count)<=1,"dataView cannot represent aggregates other than subtotal at different scopes yet"),ce.createAggregateCalcMetadata(et.Count,o.kt.Count,mt,Pe)),et.Max&&ce.createAggregateCalcMetadata(et.Max,o.kt.Max,mt,Pe),et.Min&&ce.createAggregateCalcMetadata(et.Min,o.kt.Min,mt,Pe))},Pe=0,We=de;Pe<We;Pe++)ee();this.parseAxisGroupings(this.primaryAxisGroupings),this.parseAxisGroupings(this.secondaryAxisGroupings);var it=function(et){_.size(ce.calcIdToColumnIndices[et])>1&&(ce.calcInfo[et].hasDuplicateColumnIndices=!0,t.f.assert(()=>!ce.calcInfo[et].isGroupKeyButNotSelect,"calcs which represent group keys cannot have duplicate column indices"))};for(var yt in this.calcIdToColumnIndices)it(yt);return this.scopedAggregatesEnabled&&(this.createScopedAggregateMetadata(),this.fillDataShapeScopeAggregateValues()),ae}}parseAxisGroupings(ce){if(ce)for(var be of ce){var ae=be.SynchronizedGroup;if(ae){this.parseGroupingKeys(ae.Keys,!0);var de=be.SynchronizationIndex;de&&(this.calcInfo[de]={kind:y.hk.Measure,calcKind:o.Mp.SynchronizationIndex})}this.parseGroupingKeys(be.Keys,!1)}}parseGroupingKeys(ce,be){var ae=this.calcInfo,de=this.selects;for(var ee of ce){var Pe=de[ee.Select];null!=Pe?be?(t.f.assertValue(Pe.Synchronized?.Value,"Key of a Synchronized AxisGrouping should refer to Select with Synchronization"),ae[Pe.Synchronized?.Value].forIdentity=!0):ae[Pe.Value].forIdentity=!0:ee.Calc?ae[ee.Calc]={kind:y.hk.Group,forIdentity:!0,isGroupKeyButNotSelect:!0}:t.f.assertFail("Unexpected DataShapeExpressionAxisGroupingKey without select or calc")}}createAggregateCalcMetadata(ce,be,ae,de,ee){for(var Pe of ce){var We=this.aggregateCalcMetadata[Pe]={source:ae,aggregateKind:be,selectIdx:de};ee&&(We.aggregate=ee)}}getAggregateKind(ce){return ce.Average?o.kt.Average:ce.Max?o.kt.Max:ce.Min?o.kt.Min:ce.Median?o.kt.Median:ce.Percentile?o.kt.Percentile:void 0}createColumns(ce,be){var ae=ce.length,de=this.createMetadataColumn(be);ce.push(de);var ee=this.selects[be],Pe=ee.Kind,We=this.calcInfo;We[ee.Value]={kind:Pe,columnIndex:ae,selectIdx:be,calcKind:o.Mp.Value};var it=ee.Synchronized;if(it&&(t.f.assert(()=>Pe===y.hk.Group,"Synchronization Auxiliary Select is expected only for Grouping Selects"),t.f.assertValue(it.Value,"Synchronization Auxiliary Select must have a Value"),t.f.assertValue(it.GroupKeys,"Synchronization Auxiliary Select must have GroupKeys"),We[it.Value]={kind:Pe,columnIndex:ae,selectIdx:be,calcKind:o.Mp.Value},We[ee.Value].isSynchronized=!0),ee.Subtotal)for(var yt of(t.f.assert(()=>Pe===y.hk.Measure,"Subtotal SelectKind"),ee.Subtotal))We[yt]={columnIndex:ae,kind:Pe,selectIdx:be,calcKind:o.Mp.Subtotal};if(ee.Highlight){t.f.assert(()=>Pe===y.hk.Measure,"Highlight SelectKind");var et=ee.Highlight.Value;et&&(We[et]={columnIndex:ae,kind:Pe,selectIdx:be,calcKind:o.Mp.Highlight});var mt=ee.Highlight.Subtotal;if(mt)for(var ie of mt)We[ie]={columnIndex:ae,kind:Pe,selectIdx:be,calcKind:o.Mp.HighlightSubtotal}}if(this.scopedAggregatesEnabled){if(!_.isEmpty(ee.Aggregates))for(var Y of ee.Aggregates)if(Y.Aggregate.Scope)for(var fe of Y.Ids)We[fe]={columnIndex:ae,kind:Pe,selectIdx:be,calcKind:o.Mp.Aggregate};var Be=ee.Highlight;if(Be&&!_.isEmpty(Be.Aggregates)){var Ze=Be.Aggregates;for(var ct of Ze)if(ct.Aggregate.Scope)for(var St of ct.Ids)We[St]={columnIndex:ae,kind:Pe,selectIdx:be,calcKind:o.Mp.AggregateHighlight}}}var Rt=this.tryCreateDynamicFormatColumnMetadata(be,de);if(Rt){t.f.assert(()=>Pe===y.hk.Measure,"Dynamic Format SelectKind");var kt=ae+1;if(ce.push(Rt),We[ee.DynamicFormat.Format]={columnIndex:kt,kind:y.hk.Measure,selectIdx:be,calcKind:o.Mp.DynamicFormat},ee.SubtotalDynamicFormat)for(var Gt of ee.SubtotalDynamicFormat){var Ht=Gt&&Gt.Format;Ht&&(We[Ht]={columnIndex:kt,kind:y.hk.Measure,selectIdx:be,calcKind:o.Mp.SubtotalDynamicFormat})}var tr=ee.Highlight&&ee.Highlight.DynamicFormat&&ee.Highlight.DynamicFormat.Format;tr&&(We[tr]={columnIndex:kt,kind:y.hk.Measure,selectIdx:be,calcKind:o.Mp.HighlightDynamicFormat})}return{column:de,columnIdx:ae,dynamicFormatColumn:Rt}}createMetadataColumn(ce){var be=this.selects[ce],ae={displayName:"",index:ce};be.Format&&(ae.format=be.Format),ae.type=d.A1.describeDataType(be.Type,be.DataCategory),be.Kind===y.hk.Measure&&(ae.isMeasure=!0);var de=be.GroupKeys;if(de)for(var ee=ae.identityExprs=new Array(de.length),Pe=0;Pe<de.length;Pe++)ee[Pe]=(0,V.U1)(de[Pe],ce,this.selects);return ae}tryCreateDynamicFormatColumnMetadata(ce,be){var ae=this.selects[ce];if(ae.DynamicFormat&&ae.DynamicFormat.Format){var de={displayName:"",isMeasure:!0};return be.formatSource={formatString:de},de}}createScopedAggregateMetadata(){for(var ce=this.selects,ae=this.selectIndexToColumn,de=0,ee=ce.length;de<ee;de++){var Pe=ce[de];if(Pe){var We=Pe.Aggregates,it=ae[de];if(!_.isEmpty(We))for(var yt of We)this.createScopedAggregateCalcMetadata(yt,it);var et=Pe.Highlight;if(et&&!_.isEmpty(et.Aggregates)){var mt=et.Aggregates;for(var ie of mt)this.createScopedAggregateCalcMetadata(ie,it)}}}}createScopedAggregateCalcMetadata(ce,be){var ae=ce.Aggregate,de=ae.Scope;if(de){var ee=this.selectIndexToColumn,Pe=de.PrimaryDepth;t.f.assert(()=>void 0===de.SecondaryDepth,"Scoped Aggregates not supports secondary depth for now.");for(var We=new Array(Pe),it=this.primaryAxisGroupings,yt=0,et=0;et<Pe;et++){var mt=it[et].Keys;for(var ie of mt){var Y=ie.Select;t.f.assertValue(Y,"select");var fe=ee[Y];t.f.assertValue(fe,"inputScopeColumn"),We[yt++]=fe}}var Be={column:be,inputScope:We,respectInstanceFilters:ae.RespectInstanceFilters},Ze=ce.Ids,ct=this.calcInfo;for(var St of Ze){var Rt=ct[St];t.f.assertValue(Rt,"aggregateCalcInfo"),Rt.scopedAggregateCalcMetadata={metadata:Be,aggregateKind:this.getAggregateKind(ae)}}}}fillDataShapeScopeAggregateValues(){var ce=this.dataShapeParser;if(ce){var be=this.calcInfo;ce.reset();var ae=ce.next();t.f.assert(()=>ae,"There must be a DataShape");for(var de=function(){var ee=be[ce.calcId()];if(!ee||!ee.scopedAggregateCalcMetadata)return 1;var Y,Pe=ee.scopedAggregateCalcMetadata,We=Pe.metadata,it=We.column,yt=We.inputScope,et=We.respectInstanceFilters,mt={inputScope:yt,respectInstanceFilters:et,values:{},highlight:{}};if(it.scopedAggregates){var ie=_.find(it.scopedAggregates,Be=>T.sameScopedAggregatesInputScope(Be.inputScope,yt)&&Be.respectInstanceFilters===et);ie?mt=ie:it.scopedAggregates.push(mt)}else it.scopedAggregates=[mt];switch(ee.calcKind){case o.Mp.Aggregate:Y=mt.values;break;case o.Mp.AggregateHighlight:Y=mt.highlight;break;default:t.f.assertFail("Invalid CalcKind.")}var fe=ce.calcValue();switch(Pe.aggregateKind){case o.kt.Min:Y.min=fe;break;case o.kt.Max:Y.max=fe;break;case o.kt.Average:Y.avg=fe;break;default:t.f.assertFail("Invalid scoped aggregate function.")}};ce.nextCalc();)de()}}static sameScopedAggregatesInputScope(ce,be){if(ce===be)return!0;if(ce.length!==be.length)return!1;for(var ae=0;ae<ce.length;ae++)if(ce[ae]!==be[ae])return!1;return!0}}class D{constructor(ce,be,ae,de){this.context=ce,this.dsrParser=be,this.metadata=ae,t.f.assertValue(ce,"context"),t.f.assertValue(be,"dsrParser"),t.f.assertValue(ae,"metadata"),t.f.assertNonEmpty(ae.columns,"metadata.columns"),this.aggregator=new v(ce),this.scopedAggregatesEnabled=de}run(){var ce=this.aggregator,be=this.dsrParser;be.reset();var ae=be.dataShapes();this.calcInfoCache={};var de=ae.next();t.f.assert(()=>de,"There must be a DataShape"),this.createHierarchiesLevels(),this.readValueSources(ae),t.f.assert(()=>this.context.maxPrimaryDepth>0||!_.isEmpty(this.context.measureSelectIndices),"DSR is not compatible with Matrix"),ce.read(ae,1===this.context.maxPrimaryDepth&&0===this.context.maxSecondaryDepth);var ee=ae.secondaryHierarchy(),Pe=this.readHierarchy(o.pu.Secondary,ee,ae),We=ae.primaryHierarchy(),it=this.readHierarchy(o.pu.Primary,We,ae);return ce.copyToColumns(),{rows:it,columns:Pe,valueSources:this.valueSources}}createHierarchiesLevels(){var ce=this.context.selects,be=this.context.maxPrimaryDepth,ae=this.context.maxSecondaryDepth;this.primaryHierarchyLevels=new Array(be),this.secondaryHierarchyLevels=new Array(ae);for(var de=0;de<be;de++)this.primaryHierarchyLevels[de]={sources:[]};for(var ee=0;ee<ae;ee++)this.secondaryHierarchyLevels[ee]={sources:[]};for(var Pe=this.metadata.columns,We=Pe.length,it=this.columnIndexToZoneIndex=new Array(We),yt=0;yt<We;yt++){var et=Pe[yt],mt=et.index;if(null!=mt){var ie=ce[mt],Y=void 0;ie.Kind===y.hk.Group&&(null!=ie.Depth?Y=this.primaryHierarchyLevels[ie.Depth].sources:null!=ie.SecondaryDepth&&(Y=this.secondaryHierarchyLevels[ie.SecondaryDepth].sources),t.f.assertValue(Y,"Grouping Select not belonging to either Hierarchy"),it[yt]=Y.length,Y.push(et))}}}readHierarchy(ce,be,ae){var de,ee,Pe=this.valueSources.length;switch(ce){case o.pu.Primary:if(ee=this.context.maxPrimaryDepth,!(de=this.context.primaryAxisGroupings))return t.f.assert(()=>0===ee,"No primary groupings"),t.f.assert(()=>Pe>0,"Matrix without groups needs at least a measure"),this.createRowHierarchyForNoGroupings(be);break;case o.pu.Secondary:if(ee=this.context.maxSecondaryDepth,!(de=this.context.secondaryAxisGroupings))return t.f.assert(()=>0===ee,"No secondary groupings"),0===Pe?{levels:[],root:{children:[]}}:this.createColumnHierarchyForNoGroupings();break;default:t.f.assertFail("Unexpected DataShapeHierarchy")}t.f.assert(()=>ee===_.size(de),"Groupings-Hierarchy mismatch");var We={levels:ce===o.pu.Primary?this.primaryHierarchyLevels:this.secondaryHierarchyLevels,root:{}};ce===o.pu.Secondary&&Pe>1&&We.levels.push(this.createColumnHierarchyMeasuresLevel());var it=this.context.primarySynchronizedGroups;ce===o.pu.Primary&&it&&this.readRowsSynchronizedGroups(it,We,ae);var yt=this.context;return this.readNodeChildren(yt,yt.calcInfo,this.columnIndexToZoneIndex,yt.dataMemberIdToIdentityBuilder,yt.dataMemberIdToMetadata,We.root,be,0,ce,Pe,this.context.maxSecondaryDepth,We.levels),!_.isEmpty(We.root.children)&&!_.isEmpty(We.synchronizedGroups)&&this.ensureRowNodeSynchronization(We.root,0),We}readRowsSynchronizedGroups(ce,be,ae){var de=this;t.f.assertNonEmpty(ce,"No Primary Synchronized Groups"),t.f.assertValue(be,"hierarchy");var ee=ce.length;be.synchronizedGroups=new Array(ee),this.primarySynchronizedGroupByLevel=new Array(be.levels.length);for(var Pe=ae.nestedDataShapes(),We=function(){var yt=ce[it],et=yt.groupings;t.f.assert(()=>!_.isEmpty(et),"Empty synchronized group");var mt=Pe[yt.dataShapeId];t.f.assertValue(mt,"no dataShapeParser for a SynchronizedGroup");var ie=mt.next();t.f.assert(()=>ie,"Nested DataShape not found");var Y=mt.primaryHierarchy();t.f.assertValue(Y,"Nested DataShape of a Synchronized Group has no Primary Hierarchy");for(var fe=be.synchronizedGroups[it]={levels:new Array,root:{}},Be=0;Be<et.length;Be++){var Ze=et[Be],ct=fe.levels[Be]=be.levels[Ze];ct.valueSources&&((be.levels[Ze]=(0,u.ED)(ct)).valueSources=ct.valueSources,delete ct.valueSources)}de.primarySynchronizedGroupByLevel[et[0]]=fe;for(var Rt=de.metadata.columns,kt=new Array(Rt.length),Gt=function(){var ar=Rt[Ht];for(var He of fe.levels){var Mt=_.findIndex(He.sources,Bt=>Bt===ar);if(Mt>-1){kt[Ht]=Mt;break}}},Ht=0;Ht<Rt.length;Ht++)Gt();var tr=de.context.createContextForPrimarySynchronizedGroup(yt,mt);de.readNodeChildren(tr,tr.calcInfo,kt,tr.dataMemberIdToIdentityBuilder,tr.dataMemberIdToMetadata,fe.root,Y,0,o.pu.Primary,0,tr.maxSecondaryDepth,fe.levels,{currentIndex:0})},it=0;it<ee;it++)We()}readNodeChildren(ce,be,ae,de,ee,Pe,We,it,yt,et,mt,ie,Y){if(We&&0!==We.count())for(var fe;We.next();){var Be=We.id(),Ze=ee[Be];if(Ze){var ct=Ze.kind===o.g2.SubTotalMember,St=ct&&0===it,Rt=void 0,kt=void 0;ct||((Rt=de[Be])||(Rt=de[Be]=new C(ce,Be)),kt=Rt.getIdentityFields());var Gt=We.instances();if(!Gt||0===Gt.count())continue;kt&&(Pe.childIdentityFields=kt),fe||(fe=Pe.children=[]);var Ht=this.calcInfoCache[Be];for(null==Ht&&(Ht=this.calcInfoCache[Be]=[]);Gt.next();){var tr=this.readNode(ce,Ze,de,ee,be,ae,Gt,it,ct,St,Ht,yt,et,mt,Rt,Ze.restartValuesBuilder,ie,Y);fe.push(tr),Y&&Y.currentIndex++}}}}readNode(ce,be,ae,de,ee,Pe,We,it,yt,et,mt,ie,Y,fe,Be,Ze,ct,St){var Rt=this;t.f.assert(()=>!!Be==!yt,"Unexpected IdentityBuilder"),t.f.assert(()=>!(yt&&Ze),"Subtotal nodes should not have RestartValues");var kt=ce.aggregateCalcMetadata,Gt={level:it};be.forSynchronization&&(t.f.assertValue(St,"undefined synchronizedGroupLeafIndex while parsing Master List"),Gt.synchronizationIndex=St.currentIndex),We.restartFlagKind()===S.bt.Merge&&(Gt.isMerge=!0),yt?Gt.isSubtotal=!0:Be.reset();for(var Ht=[],tr=be.isSynchronized,ar=function(){var Qt=We.calcId(),$t=mt[Mt];if(!$t){if(!($t=ee[Qt]))return 0;mt[Mt]=$t}if($t.calcKind===o.Mp.SynchronizationIndex){var lr=We.calcValue();return t.f.assert(()=>"number"==typeof lr,"Synchronization Index is expected to be a number"),Gt.synchronizationIndex=lr,0}var gr=$t.columnIndex;t.f.assert(()=>!0===$t.isGroupKeyButNotSelect==(null==gr),"Unexpected columnIndex");var _r=Pe[gr];t.f.assert(()=>!0===$t.isGroupKeyButNotSelect==(null==_r),"Unexpected zoneIndex");var Vr,Mr=$t.kind;if(Mr===y.hk.Group){if(!tr){var Lr=We.calcValueAsExpr();Vr=Lr.value,$t.isGroupKeyButNotSelect||(Ht[_r]={value:Vr,levelSourceIndex:_r}),Be.addExpr(Qt,Lr)}}else if(Mr===y.hk.Measure){t.f.assertValue($t.selectIdx,`Measure Calc ${Qt} on DataMember instances must be related to a Select`);var Ur,Br,Fr=Rt.measuresGroupingScopeBySelectIndex[$t.selectIdx];t.f.assertValue(Fr,`Calc ${Qt} has an undefined grouping scope`),t.f.assert(()=>0===Fr.secondary,`Calc ${Qt} is grouped by Secondary while appearing on DataMember`),t.f.assert(()=>ie===o.pu.Primary,"Measure Calcs cannot appear on Secondary Hierarchy DataMembers"),0===fe&&Fr.primary===ct.length?(Ur=Y,null==Gt.values&&(Br=Gt.values={}),Br=Gt.values):(Ur=ct[it].valueSources[0].length,Gt.nodeValues||(Gt.nodeValues={0:{}}),Br=Gt.nodeValues[0]),t.f.assert(()=>_r<Ur,"Measure index out-of-bound");var Gr=Br[_r];Gr||(Gr=Br[_r]={},_r>0&&(Gr.valueSourceIndex=_r)),Vr=We.calcValue(),Rt.readNodeValueCalc(Gr,Vr,$t),Rt.scopedAggregatesEnabled&&$t.scopedAggregateCalcMetadata&&Rt.setScopeAggregateValue(Gt,Vr,$t,ct[it-1]),et&&($t.calcKind===o.Mp.Subtotal||$t.calcKind===o.Mp.SubtotalDynamicFormat)&&(t.f.assertValue(ce.aggregateCalcMetadata[Qt],"Grand Total AggregateMetadata is undefined"),d.A1.fillMetadataColumnAggregate(Vr,kt[Qt]))}else t.f.assertFail("Unexpected SelectKind");if(!tr&&$t.hasDuplicateColumnIndices)for(var mr of ce.calcIdToColumnIndices[Qt]){var jr=Pe[mr];Ht[jr]||(Ht[jr]={value:Vr,levelSourceIndex:jr})}},Mt=0;We.nextCalc();Mt++)ar();if(!yt&&!tr){Gt.levelValues=Ht,Gt.value=Ht[0].value,Gt.identity=Be.getIdentity();var Bt=We.restartKind();Bt&&(Bt===S.Xt.Before?Gt.restartKind=f.Xt.Before:Bt===S.Xt.After?Gt.restartKind=f.Xt.After:Bt===S.Xt.BeforeAndAfter&&(Gt.restartKind=f.Xt.BeforeAndAfter),Gt.restartKind&&(t.f.assertValue(Ze,"An instance with RestartKind must belong to a DataMember with RestartIdentity"),Gt.restartValues=Ze.getRestartValues(We)))}var ze=We.intersections(),st=We.members();if(ze)t.f.assert(()=>null==st,"non-leaf node with intersections"),this.readIntersectionsValues(ee,Pe,Y,Gt,ze);else if(st){if(t.f.assert(()=>null==ze,"non-leaf node with intersections"),this.readNodeChildren(ce,ee,Pe,ae,de,Gt,st,it+1,ie,Y,fe,ct,St),be.isSynchronized&&!_.isEmpty(Gt.children)){var Lt=Gt.children[0].synchronizationIndex;void 0!==Lt&&(Gt.synchronizationIndex=Lt)}}else ie===o.pu.Secondary&&Y>1&&(it===fe-1||Gt.isSubtotal)&&this.createColumnHierarchyMeasuresNodes(Gt);return Gt}setScopeAggregateValue(ce,be,ae,de){t.f.assertValue(ce,"node"),t.f.assert(()=>void 0!==be,"calcValue"),t.f.assertValue(ae,"calcInfo");var We,ee=ae.scopedAggregateCalcMetadata,Pe=this.findDataViewNodeAggregates(ce,ee.metadata);switch(ae.calcKind){case o.Mp.Aggregate:We=Pe.values;break;case o.Mp.AggregateHighlight:We=Pe.highlight;break;default:t.f.assertFail("Invalid Aggregate CalcInfo.")}switch(ee.aggregateKind){case o.kt.Max:We.max=be;break;case o.kt.Min:We.min=be;break;case o.kt.Average:We.avg=be;break;default:t.f.assertFail("Unexpected DataViewAggregateKind.")}var it=ee.metadata,yt=de.aggregates;yt?_.some(yt,mt=>mt.column===it.column&&T.sameScopedAggregatesInputScope(mt.inputScope,it.inputScope)&&mt.respectInstanceFilters===it.respectInstanceFilters)||yt.push(it):de.aggregates=[it]}findDataViewNodeAggregates(ce,be){var de,ae=ce.aggregateValues;return ae?(de=_.find(ae,ee=>{var Pe=ee.metadata;return Pe.column===be.column&&T.sameScopedAggregatesInputScope(Pe.inputScope,be.inputScope)&&Pe.respectInstanceFilters===be.respectInstanceFilters}))||ae.push(de={metadata:be,values:{},highlight:{}}):ce.aggregateValues=[de={metadata:be,values:{},highlight:{}}],de}readIntersectionsValues(ce,be,ae,de,ee){if(0!==ae)for(var Pe=de.values={},We=0;ee.next();){for(var it=0;it<ae;it++){var yt=Pe[ae*We+it]={};it>0&&(yt.valueSourceIndex=it)}for(;ee.nextCalc();){var et=ce[ee.calcId()];if(et){var mt=be[et.columnIndex];t.f.assertValue(mt,"Intersection calculation has no matching column index");var ie=Pe[ae*We+mt];t.f.assertValue(ie,"nodeValue not found"),this.readNodeValueCalc(ie,ee.calcValue(),et)}}We++}}readNodeValueCalc(ce,be,ae){switch(t.f.assertValue(ce,"nodeValue"),t.f.assert(()=>void 0!==be,"calcValue"),t.f.assertValue(ae,"calcInfo"),ae.calcKind){case o.Mp.Value:case o.Mp.DynamicFormat:ce.value=be,this.aggregator.update(be,ae.selectIdx);break;case o.Mp.Subtotal:case o.Mp.SubtotalDynamicFormat:ce.value=be;break;case o.Mp.Highlight:case o.Mp.HighlightDynamicFormat:case o.Mp.HighlightSubtotal:ce.highlight=be;break;case o.Mp.Aggregate:case o.Mp.AggregateHighlight:case o.Mp.SynchronizationIndex:break;default:t.f.assertNever(ae.calcKind)}}createRowHierarchyForNoGroupings(ce){var be={level:0,values:{}},ae={levels:[],root:{children:[be]}};t.f.assert(()=>1===ce.count(),"DSR with no groupings should have one DataMember"),ce.next();var de=ce.instances();return t.f.assertValue(de,"instancesParser"),this.readNodeForNoGroupings(be,de),ae}readNodeForNoGroupings(ce,be){t.f.assert(()=>1===be.count(),"DSR with no groupings should have one Instance");var ae=this.context.calcInfo,de=this.columnIndexToZoneIndex;be.next();for(var ee=ce.values={};be.nextCalc();){var We=ae[be.calcId()];if(We){var it=de[We.columnIndex],yt=ee[it];yt||(yt=ee[it]={},it>0&&(yt.valueSourceIndex=it)),this.readNodeValueCalc(yt,be.calcValue(),We)}}}createColumnHierarchyForNoGroupings(){var ce=[],be={};return this.valueSources.length>0&&(ce=[this.createColumnHierarchyMeasuresLevel()],this.createColumnHierarchyMeasuresNodes(be)),{levels:ce,root:be}}createColumnHierarchyMeasuresLevel(){for(var ce=this.valueSources.length,be=new Array(ce),ae=0;ae<ce;ae++)be[ae]=this.valueSources[ae];return{sources:be}}createColumnHierarchyMeasuresNodes(ce){for(var be=null==ce.level?0:this.context.maxSecondaryDepth,ae=this.valueSources.length,de=ce.children=new Array(ae),ee=ce.isSubtotal,Pe=0;Pe<ae;Pe++){var We=de[Pe]={level:be};Pe>0&&(We.levelSourceIndex=Pe),ee&&(We.isSubtotal=!0)}}readValueSources(ce){var be=this,ae=this.context,de=ae.selects,ee=ae.measureSelectIndices,Pe=ee.length,We=ae.selectIndexToColumn,it=ae.selectIndexToColumnIndex,yt=this.columnIndexToZoneIndex;t.f.assertValue(ee,"measureSelectIndices"),this.valueSources=[],this.measuresGroupingScopeBySelectIndex={};var et={};if(ce.calcCount()>0){for(;ce.nextCalc();)et[ce.calcId()]=!0;ce.restartCalcs()}for(var mt=function(){var Y=ee[ie],fe=de[Y];t.f.assert(()=>fe.Kind===y.hk.Measure,"Expected a Measure Select"),t.f.assertValue(fe.Value,"Every Measure Select must have a Calc Id");var Be=it[Y],Ze=be.measuresGroupingScopeBySelectIndex[Y]=be.getMeasureGroupingScope(fe,et[fe.Value]);if(!Ze)return 1;var Rt,ct=Ze.primary,St=Ze.secondary;if(ct===be.context.maxPrimaryDepth&&St===be.context.maxSecondaryDepth)Rt=be.valueSources;else{t.f.assert(()=>0===St,"Currently, Arbitrary-scoping of measures only supports suppresing projections on all Secondary"),t.f.assert(()=>ct<=be.primaryHierarchyLevels.length,"Arbitrary-scope cannot be more specific than inner-most scope");var kt=be.primaryHierarchyLevels[ct-1];kt.valueSources||(kt.valueSources={0:[]}),Rt=kt.valueSources[0]}var Gt=We[Y];if(t.f.assertValue(Gt,"Measure column not found"),yt[Be]=Rt.length,Rt.push(Gt),fe.DynamicFormat&&fe.DynamicFormat.Format){var Ht=Gt.formatSource&&Gt.formatSource.formatString;t.f.assertValue(Ht,"DynamicFormat column not found"),yt[Be+1]=Rt.length,Rt.push(Ht)}},ie=0;ie<Pe;ie++)mt()}getMeasureGroupingScope(ce,be){return null==ce.Depth&&null==ce.SecondaryDepth?be?null:{primary:this.context.maxPrimaryDepth,secondary:this.context.maxSecondaryDepth}:{primary:null!=ce.Depth?ce.Depth+1:0,secondary:null!=ce.SecondaryDepth?ce.SecondaryDepth+1:0}}ensureRowNodeSynchronization(ce,be){if(t.f.assert(()=>!this.isRowLeaf(ce),"Attempting to traverse Hierarchy beyond leaves"),!this.isRowLeaf(ce)){var ae=this.primarySynchronizedGroupByLevel[be];if(ae)return void this.synchronizeNodeChildren(ce,ae.root);var de=ce.children;t.f.assertNonEmpty(de,"Jagged hierarcy found!");var ee=be+1;for(var Pe of de)this.ensureRowNodeSynchronization(Pe,ee)}}synchronizeNodeChildren(ce,be){if(!this.isRowLeaf(ce)){var ae=ce.level+1,de=be.children;if(_.isEmpty(de))return void this.ensureRowNodeSynchronization(ce,ae);var ee=de.length,Pe=ce.children||[],We=new Array(ee);ce.children=We;var yt,et,it=0;yt=it<Pe.length?Pe[it]:void 0,et=yt?.synchronizationIndex;for(var mt=0;mt<ee;mt++){var ie=de[mt],Y=ie.synchronizationIndex,fe=this.copyFromMasterNode(ie);fe.level=ae,We[mt]=fe,yt&&et===Y?(t.f.assert(()=>yt.level===ae,"A child node's level must come immediately after its parents level"),this.copyFromExistingNode(yt,fe),this.synchronizeNodeChildren(fe,ie),it++,yt=it<Pe.length?Pe[it]:void 0,et=yt?.synchronizationIndex):void 0===et||Y<et?this.isRowLeaf(fe)||(fe.children=[],this.synchronizeNodeChildren(fe,ie)):t.f.assertFail("Unsynchronized nodes should be a subset of master list nodes.")}}}copyFromMasterNode(ce){var be={};if(be.synchronizationIndex=ce.synchronizationIndex,ce.identity&&(be.identity=ce.identity),void 0!==ce.value&&(be.value=ce.value),void 0!==ce.isSubtotal&&(be.isSubtotal=ce.isSubtotal),ce.levelValues){var ae=ce.levelValues.length;be.levelValues=new Array(ae);for(var de=0;de<ae;de++){var ee=ce.levelValues[de];be.levelValues[de]={value:ee.value,levelSourceIndex:ee.levelSourceIndex}}}return void 0!==ce.restartKind&&(be.restartKind=ce.restartKind),void 0!==ce.restartValues&&(be.restartValues=ce.restartValues),be}copyFromExistingNode(ce,be){ce.aggregateValues&&(be.aggregateValues=ce.aggregateValues),ce.values&&(be.values=ce.values),ce.nodeValues&&(be.nodeValues=ce.nodeValues),t.f.assert(()=>!(_.isEmpty(ce.children)&&!_.isEmpty(be.children)),"A non-leaf master node matches a leaf node"),ce.children&&(be.children=ce.children),ce.childIdentityFields&&!be.childIdentityFields&&(be.childIdentityFields=ce.childIdentityFields)}isRowLeaf(ce){return!(ce.level!==this.context.maxPrimaryDepth-1&&!ce.isSubtotal||(t.f.assert(()=>_.isEmpty(ce.children),"A leaf node should not have children"),0))}}class M{constructor(ce,be){this.context=ce,this.dsrParser=be,this.aggregator=new v(ce)}run(){return this.parseSingle()}parseSingle(){var ce=this.dsrParser;ce.reset();var be=ce.dataShapes(),ae=be.next();return t.f.assert(()=>ae,"There must be a DataShape"),this.aggregator.read(be,!1),this.aggregator.copyToColumns(),0===this.context.maxPrimaryDepth?this.parseMeasureValue(be.primaryHierarchy()):this.parseSubtotal(be.primaryHierarchy())}parseMeasureValue(ce){for(t.f.assert(()=>1===ce.count(),"call parseMeasureValue only when there's one datamember with no grouping");ce.next();)return this.parseInstance(ce.instances())}parseSubtotal(ce){for(;ce.next();)if(this.context.dataMemberIdToMetadata[ce.id()].kind===o.g2.SubTotalMember)return this.parseInstance(ce.instances())}parseInstance(ce){for(var de,ee,be=this.context,ae=be.calcInfo;ce.next();)for(;ce.nextCalc();){var Pe=ce.calcId(),We=ae[Pe];if(We){var it=We.calcKind,yt=it===o.Mp.Subtotal;(it===o.Mp.Value||yt)&&(de=ce.calcValue(),ee=We.selectIdx,yt&&(t.f.assertValue(be.aggregateCalcMetadata[Pe],"AggregateCalcMetadata for calc must exist."),d.A1.fillMetadataColumnAggregate(de,be.aggregateCalcMetadata[Pe])))}}if(void 0!==de)return{column:be.selectIndexToColumn[ee],value:de}}static isCompatible(ce){return 0===ce.maxSecondaryDepth&&1===ce.measureSelectIndices.length}}class R{constructor(ce,be,ae){this.context=ce,this.dsrParser=be,this.metadata=ae,t.f.assertValue(ce,"context"),t.f.assertValue(be,"dsrParser"),t.f.assertValue(ae,"metadata"),this.aggregator=new v(ce)}run(){if(this.isCompatible()){var be={columns:this.metadata.columns},ae=this.dsrParser;ae.reset();var de=ae.dataShapes(),ee=de.next();t.f.assert(()=>ee,"There must be a DataShape");var Pe=this.aggregator;Pe.read(de);var We=de.primaryHierarchy();return 1===this.context.maxPrimaryDepth?this.readRows(be,We):0===this.context.maxPrimaryDepth?this.readRowWithoutGrouping(be,We):t.f.assert(()=>!1,"Upsupported maxPrimaryDepth value"),Pe.copyToColumns(),be}}readRows(ce,be){var de,Pe,ae=this.context,ee=this.getRowCellsCount(be);for(be.reset();be.next();){var We=be.id(),it=ae.dataMemberIdToMetadata[We];if(it){var yt=it.kind,et=be.instances(),mt=[];if(yt===o.g2.GroupMember){var ie=ae.dataMemberIdToIdentityBuilder[We];ie||(ie=ae.dataMemberIdToIdentityBuilder[We]=new C(ae,We));var Y=it.axisGrouping,fe=et.count();de=new Array(fe);for(var Be=new Array(fe),Ze=0;et.next();Ze++)et.restartFlagKind()===S.bt.Merge&&(Pe=Ze),ie.reset(),de[Ze]=this.readRow(et,Y,mt,ee,ie,!1),Be[Ze]=ie.getIdentity();_.isEmpty(Be)||(ce.identity=Be),ce.identityFields=ie.getIdentityFields()}else if(yt===o.g2.SubTotalMember){if(0===ee)continue;for(;et.next();){t.f.assert(()=>null==ce.totals,"Totals can only be assigned once.");for(var ct=this.readRow(et,null,mt,ee,null,!0),St=ct.length,Rt=0;Rt<St;Rt++)void 0===ct[Rt]&&(ct[Rt]=null);ce.totals=ct}}else t.f.assert(()=>!1,"Unsupported DataMemberKind");ce.rows=de,void 0!==Pe&&(ce.lastMergeIndex=Pe)}}}readRow(ce,be,ae,de,ee,Pe){var yt,We=this.aggregator,it=new Array(de),et=0===ae.length;et&&be&&(t.f.assert(()=>ce.calcCount()>0,"No DataShape with a single primary DataMember should ever have a DataMember instance with no calculations."),yt=this.createCalcIdToGroupingIdentityIndexMap(be),ae.length=ce.calcCount());for(var mt=this.context,ie=mt.aggregateCalcMetadata,Y=0;ce.nextCalc();Y++){var fe=ce.calcId();if(et){var Be=yt&&yt[fe],Ze=mt.calcInfo[fe],ct=Ze&&Ze.columnIndex;Ze&&(Ze.calcKind===o.Mp.Highlight||Ze.calcKind===o.Mp.HighlightDynamicFormat||Ze.calcKind===o.Mp.HighlightSubtotal)&&(ct=null),ae[Y]={axisGroupingIndex:Be,columnIndex:ct,hasDuplicateColumnIndices:Ze&&Ze.hasDuplicateColumnIndices,isGroupKeyOnly:null!=Be&&null==ct,selectIndex:Ze&&Ze.selectIdx,aggregateMetadata:ie[fe]}}var Rt=ae[Y];if(null!=Rt.columnIndex){var kt=ce.calcValue();if(it[Rt.columnIndex]=kt,Pe?d.A1.fillMetadataColumnAggregate(kt,Rt.aggregateMetadata):We.update(kt,Rt.selectIndex),Rt.hasDuplicateColumnIndices)for(var Gt of mt.calcIdToColumnIndices[fe])void 0===it[Gt]&&(it[Gt]=kt)}ee&&ee.addExpr(fe,ce.calcValueAsExpr())}return it}readRowWithoutGrouping(ce,be){if(t.f.assert(()=>be.count()<=1,"There must be maximum one DataMember, because SubTotalMember are not supported without grouping."),be.next()){var ae=be.instances(),de=[];if(t.f.assert(()=>ae.count()<=1,"There must be maximum one DataMemberInstance since there is no grouping."),ae.next()){for(var ee=[];ae.nextCalc();){var Pe=ae.calcId(),We=this.context.calcInfo[Pe];We&&We.calcKind!==o.Mp.Highlight&&(ee[We.columnIndex]=ae.calcValue())}de.push(ee)}ce.rows=de}}getRowCellsCount(ce){for(ce.reset();ce.next();){var be=ce.id(),ae=this.context.dataMemberIdToMetadata[be];if(ae&&ae.kind===o.g2.GroupMember){var de=ce.instances();if(de.next()){for(var ee=0;de.nextCalc();){var Pe=de.calcId(),We=this.context.calcInfo[Pe];We&&(We.calcKind===o.Mp.Value||We.calcKind===o.Mp.Subtotal)&&(We.hasDuplicateColumnIndices?ee+=_.size(this.context.calcIdToColumnIndices[Pe]):ee++)}return ee}}}return 0}createCalcIdToGroupingIdentityIndexMap(ce){for(var be={},ae=ce.Keys,de=this.context.selects,ee=ae.length,Pe=0;Pe<ee;Pe++){var We=ae[Pe];be[We.Calc||de[We.Select].Value]=Pe}return be}isCompatible(){var ce=this.context;return 0===ce.maxSecondaryDepth&&ce.maxPrimaryDepth<=1}}class N{constructor(ce,be){this.context=ce,this.dsrParser=be,this.calcIndexToCalcMetadataDictionary={},this.aggregator=new v(ce)}run(){if(this.isCompatible()){var ce={};return this.parseTree(ce),{root:ce}}}parseTree(ce){var be=this.dsrParser;be.reset();var ae=be.dataShapes(),de=ae.next();t.f.assert(()=>de,"There must be a DataShape");var ee=this.context.maxPrimaryDepth;this.aggregator.read(ae,1===ee),0===ee?this.parseDataMembersWithNoGrouping(ce,ae.primaryHierarchy()):this.parseDataMembers(ce,ae.primaryHierarchy(),0),this.parseAggregates(ce)}parseDataMembers(ce,be,ae){for(;be.next();){var de=this.context,ee=be.id(),Pe=de.dataMemberIdToMetadata[ee];if(Pe){var We=be.instances(),it=this.calcIndexToCalcMetadataDictionary[ee];switch(it||(this.calcIndexToCalcMetadataDictionary[ee]=it=[]),Pe.kind){case o.g2.GroupMember:var yt=de.dataMemberIdToIdentityBuilder[ee];yt||(yt=new C(de,ee),de.dataMemberIdToIdentityBuilder[ee]=yt);var et=yt.getIdentityFields();et&&(ce.childIdentityFields=et),this.parseInstances(ce,We,it,yt,!1,ae);break;case o.g2.SubTotalMember:this.parseInstances(ce,We,it,null,!0,ae);break;default:t.f.assert(()=>!1,"Unsupported DataMemberKind")}}}}parseInstances(ce,be,ae,de,ee,Pe){var We=this,it=this.context,yt=this.aggregator,et=it.aggregateCalcMetadata,mt=ce.children;for(ee||(t.f.assertValue(de,"identityBuilder"),!mt&&be.count()>0&&(mt=ce.children=new Array(be.count())));be.next();){var ie=void 0,Y=void 0,fe=void 0;ee||de.reset();var Be=0===ae.length;Be&&(ae.length=be.calcCount());for(var Ze=function(){ee&&(ie=ce.values),ie||(ie={});var kt=be.calcId();Be&&(ae[ct]=it.calcInfo[kt]);var Ht=ae[ct];if(!Ht)return 1;var tr=be.calcValue(),ar=Ht.calcKind,He=Ht.kind,Mt=Ht.selectIdx;if(ee)t.f.assert(()=>He!==y.hk.Group,"subtotal cannot be of grouping kind."),We.addTreeNodeMeasureValues(ie,Mt,ar,tr),0===Pe&&d.A1.fillMetadataColumnAggregate(tr,et[kt]);else{var Bt=Ht.isGroupKeyButNotSelect;Bt||We.addTreeNodeMeasureValues(ie,Mt,ar,tr),He===y.hk.Group?(Bt||(fe=tr),de.addExpr(kt,be.calcValueAsExpr())):He===y.hk.Measure&&ar===o.Mp.Value&&(Y=tr,t.f.assertValue(Mt,"selectIndex"),yt.update(tr,Mt))}},ct=0;be.nextCalc();ct++)Ze();if(ee)ce.values=ie,be.restartFlagKind()===S.bt.Merge&&(ce.isMerge=!0);else{var St={values:ie,identity:de.getIdentity()};void 0!==fe&&(St.name=fe),void 0!==Y&&(St.value=Y),be.restartFlagKind()===S.bt.Merge&&(St.isMerge=!0);var Rt=be.members();Rt&&this.parseDataMembers(St,Rt,Pe+1),mt[be.currentIndex()]=St}}}addTreeNodeMeasureValues(ce,be,ae,de){t.f.assertValue(be,"selectIndex");var ee=ce[be];switch(!ee&&this.isSupportedMeasureType(ae)&&(ee=ce[be]={}),ae){case o.Mp.Value:ee.value=de;break;case o.Mp.Subtotal:ee.subtotal=de;break;case o.Mp.Highlight:ee.highlight=de}}isSupportedMeasureType(ce){return ce===o.Mp.Value||ce===o.Mp.Subtotal||ce===o.Mp.Highlight}parseDataMembersWithNoGrouping(ce,be){t.f.assert(()=>1===be.count(),"There can only be one datamember with no grouping"),be.next();var ae=be.instances();t.f.assert(()=>1===ae.count(),"There can only be one instance for datamember with no grouping"),ae.next();for(var de,ee=this.context.calcInfo;ae.nextCalc();){ce.values||(ce.values=de={});var Pe=ee[ae.calcId()];if(Pe){var We=Pe.calcKind,it=ae.calcValue();this.addTreeNodeMeasureValues(de,Pe.selectIdx,We,it),We===o.Mp.Value&&(ce.value=it)}}}isCompatible(){return 0===_.size(this.context.secondaryAxisGroupings)}parseAggregates(ce){var be=this.context;this.aggregator.copyToColumns();for(var ae=be.measureSelectIndices,de=ae.length,ee=0;ee<de;ee++){var Pe=ae[ee],We=be.selectIndexToColumn[Pe].aggregates,it=ce.values;if(We){it||(it=ce.values={});var yt=it[Pe];yt||(yt=it[Pe]={}),d.A1.copyAggregates(We,yt)}}}}var W=e(19941),F=e(517909),x=e(944653),I=e(364419);function L(rt,ce){var be=[],ae={};for(var de of rt){var ee={id:de.Id,name:de.Name,component:de.Component,pageHidden:void 0,start:(0,I.Kk)(de.Start).valueOf(),end:de.End?(0,I.Kk)(de.End).valueOf():void 0,metrics:de.Metrics,status:x._.Resolved,rootId:ce,parentId:de.ParentId};de.ParentId?(ae[de.ParentId]||(ae[de.ParentId]=[]),ae[de.ParentId].push(ee)):be.push(ee)}return K(be,ae),be}function K(rt,ce){for(var be of rt)ce[be.id]&&(be.children=ce[be.id],K(be.children,ce))}var z=e(283667),H=e(66301),J=e(785585),k=e(561863),G=function(rt){return rt[rt.NullSelectFound=1]="NullSelectFound",rt[rt.DynamicFormatFound=2]="DynamicFormatFound",rt}({});function Q(rt,ce){if(rt.metadata.dataReduction={},rt.categorical){var be=rt.metadata.dataReduction.categorical={};ce.Primary&&(be.categories=Z(ce.Primary)),ce.Secondary&&(be.values=Z(ce.Secondary)),ce.Intersection&&(be.metadata=Z(ce.Intersection))}if(rt.matrix){var ae=rt.metadata.dataReduction.matrix={};ce.Primary&&(ae.rows=Z(ce.Primary))}}function Z(rt){switch(rt.Type){case o.m9.BinnedLineSample:return{binnedLineSample:{}};case o.m9.OverlappingPointsSample:return{overlappingPointsSample:{}};default:return{}}}function re(rt,ce){t.f.assertValue(rt,"node");var be=rt.values;be||(be=rt.values={});var ae=be[ce];return ae||(ae=be[ce]={}),ae}var se=function(rt){return rt[rt.Undetermined=0]="Undetermined",rt[rt.GroupDynamic=1]="GroupDynamic",rt[rt.MeasureStatic=2]="MeasureStatic",rt[rt.SubtotalStatic=3]="SubtotalStatic",rt[rt.Unsupported=4]="Unsupported",rt}({});function Ve(rt,ce,be,ae){t.f.assertValue(rt,"context"),t.f.assertValue(be,"dataShape"),t.f.assertValue(ae,"metadata"),t.f.assert(()=>rt.includes(r.m.Matrix),"context.includes(StandardDataViewKinds.Matrix)");var de=(0,g.BL)(`DSR.matrix(${rt.perfId})`),ee=[],Pe=[],We=[];!function(rt,ce,be,ae,de){t.f.assertValue(de,"metadataColumns");for(var ee=rt.selects,Pe=0,We=ee.length;Pe<We;Pe++){var it=ee[Pe];if(it){var yt=Ue(rt,de,Pe);if(it.Kind===y.hk.Measure)ae.push(yt);else if(null!=it.Depth){var et=ce[it.Depth];null!=et?et.sources.push(yt):ce[it.Depth]=ke([yt])}else if(null!=it.SecondaryDepth){var mt=be[it.SecondaryDepth];null!=mt?mt.sources.push(yt):be[it.SecondaryDepth]=ke([yt])}it.DynamicFormat&&it.DynamicFormat.Format&&(t.f.assertValue(yt.formatSource&&yt.formatSource.formatString,"metadataColumn.formatSource.formatString"),ae.push(yt.formatSource.formatString))}}var ie=ae.length;(ie>1||ie>0&&(0===ce.length||0===be.length))&&be.push(ke(ae))}(rt,ee,Pe,We,ae.columns);var it=[],yt=function(rt,ce,be,ae,de,ee){if(!de.SecondaryHierarchy||0===de.SecondaryHierarchy.length){var Pe={};return we(Pe,be,0,!1),Pe}var We;ae&&ae.Secondary&&(We=ae.Secondary.Groupings);var it=Ne(rt,ce,de.SecondaryHierarchy,We,(yt,et,mt,ie,Y)=>{if(Y<ce.length)if(ie.isSubtotal){var fe=ce.length-1,Be=ce[fe].sources.length;Be>1&&we(ie,Be,fe,!0)}else t.f.assert(()=>Y===ce.length-1,"We only support one extra level in the column hierarchy (for measures)"),we(ie,ce[Y].sources.length,Y,!1);ee.push(Ke(ie)),rt.stats.secondary++});return it}(rt,Pe,We.length,ce,be,it),et=function(rt,ce,be,ae,de){if(ae.PrimaryHierarchy&&0!==ae.PrimaryHierarchy.length){var ee;be&&be.Primary&&(ee=be.Primary.Groupings);var Pe=0,We=0;be&&(Pe=Ae(be.Primary),We=Ae(be.Secondary));var it=_.filter(rt.selects,et=>et&&et.Kind===y.hk.Measure),yt=Ne(rt,ce,ae.PrimaryHierarchy,ee,(et,mt,ie,Y,fe)=>{(function(rt,ce,be,ae,de,ee,Pe){t.f.assertValue(be,"instance"),t.f.assertValue(ae,"node"),t.f.assertValue(de,"intersectionToSecondaryAggIdx");var We=be.Intersections,it={index:0};if(We)for(var yt=0,et=We.length;yt<et;yt++)We[yt].Calculations&&Ee(rt,ce,We[yt].Calculations,ae,it,de[yt],ee,Pe);else Ee(rt,ce,be.Calculations,ae,it,0,ee,Pe)})(mt,it,ie,Y,de,Pe,We),et.stats.primary++});return yt}}(rt,ee,ce,be,it),Y={rows:{root:et,levels:ee},columns:{root:yt,levels:Pe},valueSources:We};return de(),Y}function ke(rt){t.f.assertValue(rt,"metadataColumns");for(var ce={sources:[]},be=0,ae=rt.length;be<ae;be++)ce.sources.push(rt[be]);return ce}function Ue(rt,ce,be){t.f.assertValue(ce,"metadataColumns");for(var ae=0,de=ce.length;ae<de;ae++){var ee=ce[ae];if(ee&&ee.index===be&&void 0===ee.groupName)return ee}return rt.createColumns(ce,be)}function Ke(rt){return t.f.assertValue(rt,"node"),rt.isSubtotal?rt.level:rt.level+1}function Ae(rt){return t.f.assertAnyValue(rt,"axis"),rt&&rt.Groupings?rt.Groupings.length:0}function we(rt,ce,be,ae){rt.children=[];for(var de=0;de<ce;de++){var ee={level:be};de>0&&(ee.levelSourceIndex=de),rt.children.push(ee),ae&&(ee.isSubtotal=!0)}}function Ne(rt,ce,be,ae,de){t.f.assertValue(rt,"context");var ee={};return Se(rt,ce,ee,be,ae,0,de),ee}function Se(rt,ce,be,ae,de,ee,Pe){if(t.f.assertValue(rt,"context"),t.f.assertValue(be,"node"),t.f.assertValue(ee,"depth"),ae)for(var We=rt.selects,it=function(rt,ce){t.f.assertAnyValue(rt,"levelSources"),t.f.assertValue(ce,"depth");var be=[],ae=rt&&rt[ce]&&rt[ce].sources;if(!_.isEmpty(ae))for(var de=0,ee=ae.length;de<ee;de++){var Pe=ae[de];t.f.assertValue(Pe.index,"pre-condition: sourceMetadataColumn.index is defined"),be[Pe.index]=de}return be}(ce,ee),yt=0,et=ae.length;yt<et;yt++)for(var mt=ae[yt],ie=se.Undetermined,Y=0,fe=mt.Instances.length;Y<fe;Y++){var Be=mt.Instances[Y];if(ie===se.Undetermined&&(ie=Oe(We,de,ee,mt,Be))===se.Unsupported)break;var Ze={level:ee};if(be.children||(be.children=[]),be.children.push(Ze),ie===se.GroupDynamic){var ct=me(We,Be.Calculations,it);if(!_.isEmpty(ct)){Ze.levelValues=ct;var St=_.last(ct);Ze.value=St.value,St.levelSourceIndex>0&&(Ze.levelSourceIndex=St.levelSourceIndex)}}else ie===se.SubtotalStatic&&(Ze.isSubtotal=!0);Be.RestartFlag&&Be.RestartFlag===S.bt.Merge&&(Ze.isMerge=!0),de&&ie===se.GroupDynamic&&(be.childIdentityFields=rt.readKeys(de,ee),Ze.identity=rt.readIdentity(de,Be,ee));var Rt=Be.Members;Rt&&Rt.length>0?Se(rt,ce,Ze,Rt,de,ee+1,Pe):Pe&&Pe(rt,ie,Be,Ze,ee+1)}}function me(rt,ce,be){t.f.assertValue(rt,"selects"),t.f.assertValue(ce,"calculations"),t.f.assertNonEmpty(be,"selectIndexToLevelSourceIndexMapping should be non-empty for dynamic groups");for(var ae,de=0,ee=rt.length;de<ee;de++){var Pe=rt[de];if(Pe&&Pe.Value&&Pe.Kind===y.hk.Group){var We=d.A1.findAndParseCalculation(ce,Pe.Value);void 0!==We&&(ae||(ae=[]),ae.push({levelSourceIndex:be[de],value:We}))}}return ae}function Oe(rt,ce,be,ae,de){if(t.f.assertValue(rt,"selects"),t.f.assertValue(ae,"member"),ce&&ce.length>be&&null!=ae.Id){var ee=ce[be];if(ae.Id===ee.Member)return se.GroupDynamic;if(ae.Id===ee.SubtotalMember)return se.SubtotalStatic}var Pe=de.Calculations;if(Pe){for(var We=!1,it=0,yt=rt.length;it<yt;it++){var et=rt[it];if(et&&d.A1.findCalculation(Pe,et.Value)){if(et.Kind===y.hk.Group)return se.GroupDynamic;!We&&et.Kind===y.hk.Measure&&(We=!0)}}if(We)return se.MeasureStatic}return se.Unsupported}function Ee(rt,ce,be,ae,de,ee,Pe,We){if(t.f.assertValue(ce,"selects"),t.f.assertValue(ae,"node"),be)for(var it={index:0},yt=function(){var ie=ce[et];t.f.assert(()=>ie.Kind===y.hk.Measure,"measureSelects is expected to have measure select bindings only");var Y=ie.Highlight,Be=Y&&Y.DynamicFormat&&Y.DynamicFormat.Format;if(xe(rt,be,ae,de,it,ee,Pe,We,0,ie.Value,Y&&Y.Value,ie.Subtotal),ie.DynamicFormat&&ie.DynamicFormat.Format){var Ze=_.map(ie.SubtotalDynamicFormat,ct=>ct&&ct.Format);xe(rt,be,ae,de,it,ee,Pe,We,0,ie.DynamicFormat.Format,Be,Ze)}},et=0,mt=ce.length;et<mt;et++)yt()}function xe(rt,ce,be,ae,de,ee,Pe,We,it,yt,et,mt){t.f.assertValue(de,"measureIndex");var ie=re(be,ae.index),Y=null;if(rt!==se.SubtotalStatic&&(Y=d.A1.findAndParseCalculation(ce,yt)),null==Y){var Be=function(rt,ce,be,ae,de,ee){if(ce){var Pe=d.A1.computeAggIdx(be,ae,de,ee);if(Pe<ce.length)return d.A1.findAndParseCalculation(rt,ce[Pe])}}(ce,mt,Ke(be),ee,Pe,We);void 0!==Be&&(Y=Be)}et&&(ie.highlight=d.A1.findAndParseCalculation(ce,et)),ie.value=Y,de.index>0&&(ie.valueSourceIndex=de.index),ae.index++,de.index++}class he{constructor(ce){t.f.assertValue(ce,"context"),this._context=ce}read(ce,be,ae){t.f.assertValue(be,"dataShape");var de={metadata:{columns:[]}};return ae.script=(0,g.zb)(()=>{if(be.PrimaryHierarchy&&be.PrimaryHierarchy.length>0){var ee=be.PrimaryHierarchy[0];if(ee&&ee.Instances.length>0){var yt=d.A1.findCalculation(ee.Instances[0].Calculations,this._context.scriptVisualBinding.PayloadCalculationId||this._context.scriptVisualBinding.ImageCalculationId);if(yt){var mt=(0,J.K0)(yt.Value);mt&&(de.scriptResult={payloadBase64:mt})}}}}),de}}class Ce{constructor(ce){t.f.assertValue(ce,"context"),this.context=ce}read(ce,be,ae){t.f.assertValue(be,"dataShape");var de=this.context,ee=this.readMetadata(be.IsComplete),Pe={metadata:ee},We=de.includes(r.m.Tree),it=de.includes(r.m.Categorical),yt=de.includes(r.m.Single),et=de.includes(r.m.Table);if(We||it||yt||et){var mt,ie=(0,g.zb)(()=>{mt=this.parseTree(ee.columns,ce,be),t.f.assertValue(mt,"root")});We&&(ae.tree=ie+(0,g.zb)(()=>{var Y=this.createTree(ee,mt);Y&&(Pe.tree=Y)})),it&&(ae.categorical=ie+(0,g.zb)(()=>{var Y=this.categorize(ee,mt);Y&&(Pe.categorical=Y)})),yt&&(ae.single=ie+(0,g.zb)(()=>{var Y=this.createSingleValue(ee,mt);Y&&(Pe.single=Y)})),et&&(ae.table=ie+(0,g.zb)(()=>{var Y=this.createTable(ee,mt);Y&&(Pe.table=Y)}))}return de.includes(r.m.Matrix)&&(ae.matrix=(0,g.zb)(()=>{var Y=Ve(this.context,ce,be,Pe.metadata);Y&&(Pe.matrix=Y)})),Pe}readMetadata(ce){for(var be={columns:[]},ae=this.context,de=ae.selects,ee=0,Pe=de.length;ee<Pe;ee++)de[ee]?ae.createColumns(be.columns,ee):ae.actionHistory|=G.NullSelectFound;return ce||(be.segment={}),be}parseTree(ce,be,ae){var de=(0,g.BL)(`DSR.tree(${this.context.perfId})`),ee={},Pe=this.context.selects;this.parseRootAggregates(ce,ee);var We=d.A1.getTopLevelPrimaryDynamicMember(ae,be,!0);if(We){var yt,it=ae.PrimaryHierarchy[0];We!==it&&this.parseValues(Pe,ee,Ce.getFirstInstanceCalcs(it)),be&&be.Primary&&(yt=be.Primary.Groupings),this.parseRecursive(ee,We,yt,0,ce)}else _.isEmpty(ae.PrimaryHierarchy)||this.parseValues(Pe,ee,Ce.getFirstInstanceCalcs(ae.PrimaryHierarchy[0]));return de(),ee}parseRecursive(ce,be,ae,de,ee){t.f.assertValue(ce,"node"),t.f.assertValue(be,"dynamicMember"),t.f.assertValue(de,"depth"),t.f.assertAnyValue(ee,"columns");var yt,Pe=this.context,We=be.Instances,it=We.length;it&&(ce.children=[],0===de&&(yt=lt.create(ce,Pe))),ae&&(ce.childIdentityFields=Pe.readKeys(ae,de));for(var et=0;et<it;et++){var mt=We[et],ie={};ce.children.push(ie),mt.RestartFlag&&mt.RestartFlag===S.bt.Merge&&(ie.isMerge=!0),this.parseValues(Pe.selects,ie,mt.Calculations,yt),ae&&(ie.identity=Pe.readIdentity(ae,mt,de));var Y=mt.Members;if(this.parseAggregates(Pe.selects,ie,mt.Calculations,Y,de+1),!_.isEmpty(Y)){var fe=d.A1.getDynamicMember(Y,ae,de+1);fe&&this.parseRecursive(ie,fe,ae,de+1)}}yt&&yt.complete(ee)}static getFirstInstanceCalcs(ce){t.f.assertValue(ce,"member");var be=ce.Instances;return be.length>0?be[0].Calculations:null}parseRootAggregates(ce,be){t.f.assertValue(ce,"columns"),t.f.assertValue(be,"node");for(var ae=0,de=ce.length;ae<de;ae++){var Pe=ce[ae].aggregates;Pe&&d.A1.copyAggregates(Pe,re(be,ae))}}parseAggregates(ce,be,ae,de,ee){t.f.assertValue(ce,"selects"),t.f.assertValue(be,"node"),t.f.assertAnyValue(ae,"calculations"),t.f.assertAnyValue(de,"allMembers");for(var Pe=0,We=ce.length;Pe<We;Pe++){var it=ce[Pe];if(it){var yt=ut(it,ae,de,ee);yt&&d.A1.copyAggregates(yt,re(be,this.context.selectIndexToColumnIndexMap[Pe]))}}}parseValues(ce,be,ae,de){if(t.f.assertValue(ce,"selects"),t.f.assertValue(be,"node"),t.f.assertAnyValue(ae,"calculations"),!_.isEmpty(ae))for(var ee=0,Pe=0,We=ce.length;ee<We;ee++){var it=ce[ee];if(it){if(it.Value){var yt=d.A1.findAndParseCalculation(ae,it.Value);void 0!==yt&&(it.Kind===y.hk.Group?be.name=yt:(be.value=yt,de&&de.add(Pe,yt)),re(be,Pe).value=yt)}if(it.Highlight){var et=d.A1.findAndParseCalculation(ae,it.Highlight.Value);void 0!==et&&(re(be,Pe).highlight=et)}if(Pe++,it.DynamicFormat&&it.DynamicFormat.Format){var mt=d.A1.findAndParseCalculation(ae,it.DynamicFormat.Format);re(be,Pe).value=mt,Pe++}}}}categorize(ce,be){if(t.f.assertValue(ce,"metadata"),!this.canCategorize())return null;for(var ee,ae=(0,g.BL)(`DSR.categorical(${this.context.perfId})`),de={},Pe=0,We=ce.columns.length;Pe<We;Pe++){var it=ce.columns[Pe];if(void 0!==it.index){if(!it.isMeasure){ee||(ee=[]),ee.push({columnIndex:Pe,metadataColumn:it});continue}var yt={source:it,values:[]},et=it.aggregates;et&&d.A1.copyAggregates(et,yt),de.values||(de.values=(0,s.Yv)()),de.values.push(yt)}}if(ee){de.categories=[];for(var mt,ie=0,Y=ee.length;ie<Y;ie++){var fe=ee[ie],Be=be.children,Ze={source:fe.metadataColumn,values:[]};if(Be)for(var ct=0,St=Be.length;ct<St;ct++){var Rt=Be[ct];Ze.values.push(Rt.values[fe.columnIndex].value),0===ie&&(this.writeCategoricalValues(ce,Rt,de.values),Rt.identity&&(mt||(mt=[]),mt.push(Rt.identity))),Rt.isMerge&&(de.lastMergeIndex=ct)}mt&&(Ze.identity=mt),be.childIdentityFields&&(Ze.identityFields=be.childIdentityFields),de.categories.push(Ze)}}else this.writeCategoricalValues(ce,be,de.values);return ae(),de}canCategorize(){for(var be=this.context.selects,ae=0,de=be.length;ae<de;ae++){var ee=be[ae];if(ee&&ee.Depth>0)return!1}return!0}createTree(ce,be){var ae=this.context;if(!(ae.actionHistory&G.DynamicFormatFound||ae.actionHistory&G.NullSelectFound))return{root:be};var de=(0,u.ED)(be),ee=ce.columns,Pe=be.values;if(Pe){for(var We={},it=0;it<ee.length;it++){var yt=ee[it];void 0!==yt.index&&void 0!==Pe[it]&&(We[yt.index]=Pe[it])}de.values=We}var et=be.children;return et&&(de.children=this.removeFormatSourceFromTreeChildren(ee,et)),{root:de}}removeFormatSourceFromTreeChildren(ce,be){for(var ae=be.length,de=_.map(be,mt=>mt),ee=0;ee<ae;ee++){var Pe=(0,u.ED)(de[ee]);de[ee]=Pe;for(var We={},it=0;it<ce.length;it++){var yt=ce[it];void 0!==yt.index&&void 0!==de[ee].values[it]&&(We[yt.index]=de[ee].values[it])}de[ee].values=We;var et=de[ee].children;et&&(de[ee].children=this.removeFormatSourceFromTreeChildren(ce,et))}return de}createTable(ce,be){t.f.assertValue(ce,"metadata");for(var ae,de=this.context.selects,ee=0,Pe=de.length;ee<Pe;ee++)if(de[ee]){var it=de[ee].Depth;it>=0&&(ae=Math.max(it,ae||0))}if(ae>0)return null;var et,Y,yt=(0,g.BL)(`DSR.table(${this.context.perfId})`),mt=[],ie=ce.columns.length;if(ae>=0){var fe=be.children;if(fe)for(var Be=0,Ze=fe.length;Be<Ze;Be++){var ct=fe[Be];this.toTableRow(ct,ie,mt),ct.isMerge&&(et=Be),ct.identity&&(Y||(Y=[]),Y.push(ct.identity))}}else t.f.assert(()=>0===(0,H.Hy)(ce.columns),"groups.length=0"),this.toTableRow(be,ie,mt);var St=this.toTotals(be,ie),Rt={rows:mt,columns:ce.columns};return Y&&(Rt.identity=Y),be.childIdentityFields&&(Rt.identityFields=be.childIdentityFields),St&&(Rt.totals=St),et>=0&&(Rt.lastMergeIndex=et),yt(),Rt}toTableRow(ce,be,ae){for(var de=[],ee=0;ee<be;ee++){var Pe=ce.values[ee];Pe&&de.push(Pe.value)}ae.push(de)}toTotals(ce,be){var ae=[],de=ce.values,ee=!1;if(de)for(var Pe=0;Pe<be;Pe++){var We=de[Pe],it=We?We.subtotal:null;ee=ee||null!=it,ae.push(it)}return ee?ae:null}writeCategoricalValues(ce,be,ae){for(var de=ce.columns,ee=0,Pe=0,We=de.length;Pe<We;Pe++){var it=de[Pe];if(it.isMeasure&&void 0!==it.index){var yt=be.values[Pe];if(yt){var et=ae[ee++];et.values.push(yt.value),void 0!==yt.highlight&&(et.highlights||(et.highlights=[]),et.highlights.push(yt.highlight))}}}}createSingleValue(ce,be){if(t.f.assertValue(ce,"metadata"),t.f.assertValue(be,"root"),be.values){for(var ee,ae=ce.columns,de=null,Pe=0,We=ae.length;Pe<We;Pe++)if(ae[Pe].isMeasure&&null!=ae[Pe].index){if(de)return null;de=ae[Pe],ee=Pe}if(!de)return null;var it=be.values[ee];if(!it)return null;var yt=0===(0,H.Hy)(ce.columns)?it.value:it.subtotal;return void 0===yt?null:{column:de,value:yt}}return null}}class je{constructor(ce){t.f.assertValue(ce,"context"),this._context=ce,this._categoriesMetadata=[],this._primaryMeasureSelects=[],this._measureSelects=[],this._secondarySelects=[],this._seriesColumn=null}read(ce,be,ae){t.f.assertValue(be,"dataShape");var de=this._context,ee={metadata:this.readMetadata(be.IsComplete)};return de.includes(r.m.Categorical)&&(ae.categorical=(0,g.zb)(()=>{var Pe=this.categorize(be,ee.metadata,ce);Pe&&(ee.categorical=Pe)})),de.includes(r.m.Matrix)&&(ae.matrix=(0,g.zb)(()=>{var Pe=Ve(this._context,ce,be,ee.metadata);Pe&&(ee.matrix=Pe)})),ee}readMetadata(ce){for(var be=this,ae={columns:[]},de=this._context,ee=de.selects,Pe=function(){var et=ee[it];if(!et)return 0;if(et.Kind===y.hk.Measure)return 0===et.Depth?be._primaryMeasureSelects.push(et):be._measureSelects.push(et),0;t.f.assert(()=>et.Kind===y.hk.Group,"Unexpected Select.Kind");var mt=de.createColumns(ae.columns,it);et.SecondaryDepth>=0?(be._secondarySelects.push(et),be._secondaryDepth=Math.max(be._secondaryDepth||0,et.SecondaryDepth),be._seriesColumn=mt):0===et.Depth&&be._categoriesMetadata.push({select:et,column:mt})},it=0,yt=ee.length;it<yt;it++)Pe();return ce||(ae.segment={}),ae}categorize(ce,be,ae){if(t.f.assertValue(ce,"dataShape"),t.f.assertValue(be,"metadata"),0!==this._secondaryDepth||0===this._categoriesMetadata.length)return null;var ee,Pe,de=(0,g.BL)(`DSR.categorical(${this._context.perfId}, secondary)`);ae&&(ae.Primary&&(ee=ae.Primary.Groupings),ae.Secondary&&(Pe=ae.Secondary.Groupings));var We=d.A1.getTopLevelSecondaryDynamicMember(ce,ae),it=this.readColumnsFromSecondary(We,be,Pe,ce.Calculations),yt=d.A1.getTopLevelPrimaryDynamicMember(ce,ae),et=this.readCategoriesAndValues(yt,be,it,ee),mt={categories:et.categories,values:it};return void 0!==et.lastMergeIndex&&(mt.lastMergeIndex=et.lastMergeIndex),de(),mt}readColumnsFromSecondary(ce,be,ae,de){t.f.assertValue(ce,"secondaryMember"),t.f.assertValue(be,"metadata");var ee,Pe=this._context;ae&&(ee=Pe.readKeys(ae,0));var We=[],it=Pe.selects,yt=this._measureSelects.length,et=[],mt=ce.Instances,ie=mt.length;if(ie)for(var Y=0;Y<ie;Y++){var fe=mt[Y],Be=fe.Calculations,Ze=void 0;ae&&(Ze=Pe.readIdentity(ae,fe,0));for(var ct=0,St=this._secondarySelects.length;ct<St;ct++){for(var kt=d.A1.findAndParseCalculation(Be,this._secondarySelects[ct].Value),Gt=[],Ht=0;Ht<yt;Ht++){var tr=this._measureSelects[Ht],ar=it.indexOf(tr),He=Pe.createColumns(be.columns,ar,!0);void 0!==kt&&(He.groupName=kt);var Mt={source:He,values:[]};Ze&&(Mt.identity=Ze),this.addColumnAggregates(de,tr,Mt),We.push(Mt),Gt.push(Mt)}et.push({identity:Ze,name:kt,values:Gt})}}else{for(var Bt=0;Bt<yt;Bt++){var ze=this._measureSelects[Bt],st=it.indexOf(ze),Qt={source:Pe.createColumns(be.columns,st),values:[]};this.addColumnAggregates(de,ze,Qt),We.push(Qt)}et.push({values:[...We||[]]})}for(var $t=0,lr=this._primaryMeasureSelects.length;$t<lr;$t++){var _r=it.indexOf(this._primaryMeasureSelects[$t]),Mr=Pe.createColumns(be.columns,_r);We.push({source:Mr,values:[]})}ee&&(We.identityFields=ee);var Lr=this._seriesColumn;return Lr&&(We.source=Lr),We.grouped=()=>et,We}addColumnAggregates(ce,be,ae){ce&&(be.Max&&(ae.max=d.A1.findAndParseCalculation(ce,be.Max[0])),be.Min&&(ae.min=d.A1.findAndParseCalculation(ce,be.Min[0])))}readCategoriesAndValues(ce,be,ae,de){t.f.assertValue(ce,"primaryMember"),t.f.assertValue(ae,"values");for(var it,ee=[],Pe=this._categoriesMetadata,We=Pe.length,yt=this._context,et=0;et<We;et++){var mt={source:Pe[et].column,values:[]};ee.push(mt),de&&(it||(it=[]),mt.identity=it,mt.identityFields=yt.readKeys(de,0))}for(var fe,ie=ce.Instances,Y=this._primaryMeasureSelects,Be=0,Ze=ie.length;Be<Ze;Be++){var ct=ie[Be];ct.RestartFlag===S.bt.Merge&&(fe=Be);for(var St=0;St<We;St++)ee[St].values.push(d.A1.findAndParseCalculation(ct.Calculations,Pe[St].select.Value));it&&it.push(yt.readIdentity(de,ct,0));for(var kt=ct.Intersections,Gt=0,Ht=0,tr=kt.length;Ht<tr;Ht++)for(var ar=kt[Ht].Calculations,He=0,Mt=this._measureSelects.length;He<Mt;He++){var Bt=this._measureSelects[He],ze=d.A1.findAndParseCalculation(ar,Bt.Value);if(void 0!==ze){var st=ae[Gt++];if(st.values.push(ze),Bt.Highlight){st.highlights||(st.highlights=[]);var Lt=d.A1.findAndParseCalculation(ar,Bt.Highlight.Value);st.highlights.push(Lt)}}}for(var Qt=0,$t=Y.length;Qt<$t;Qt++){var lr=Y[Qt],gr=ct.Calculations,_r=d.A1.findAndParseCalculation(gr,lr.Value),Mr=ae[Gt++];if(Mr.values.push(_r),lr.Highlight){Mr.highlights||(Mr.highlights=[]);var Vr=d.A1.findAndParseCalculation(gr,lr.Highlight.Value);Mr.highlights.push(Vr)}}}return{categories:ee,lastMergeIndex:fe}}}class pe{constructor(ce,be,ae,de){t.f.assertValue(ce,"targets"),t.f.assert(()=>null!=be.Select||null!=be.ScriptVisualBinding,"descriptor"),t.f.assertAnyValue(ae,"perfId"),t.f.assertValue(de,"aggregateReader"),this.targets=ce,this.selects=be.Select,this.scriptVisualBinding=be.ScriptVisualBinding,this.perfId=ae||"",this.stats={id:ae||void 0,primary:0,secondary:0},this.aggregateReader=de,this.cacheItems=[],this.selectIndexToColumnIndexMap={}}createColumns(ce,be,ae){var ee=this.columnMetadata(be,ce.length,ae);ce.push(ee);var We=this.tryCreatingDynamicFormatColumnMetadata(be,ce.length,ee);return We&&ce.push(We),ee}columnMetadata(ce,be,ae){t.f.assertValue(ce,"selectIndex"),t.f.assertAnyValue(ae,"suppressAggregates");var de=this.selects[ce];t.f.assertValue(de,"select");var ee={displayName:"",index:ce};if(de.Format&&(ee.format=de.Format),ee.type=d.A1.describeDataType(de.Type,de.DataCategory),de.Kind===y.hk.Measure&&(ee.isMeasure=!0),!ae){var Pe=this.aggregateReader.compute(de,be);Pe&&(ee.aggregates=Pe)}var We=de.GroupKeys;if(We){var it=ee.identityExprs=[];for(var yt of We){var et=this.convertKey(yt);it.push(et)}}return this.selectIndexToColumnIndexMap[ce]=be,ee}tryCreatingDynamicFormatColumnMetadata(ce,be,ae,de){var ee=this.selects[ce];if(ee.DynamicFormat&&ee.DynamicFormat.Format){var Pe={displayName:"",isMeasure:!0};ae.formatSource={formatString:Pe};var We={Kind:y.hk.Measure,Subtotal:_.map(ee.SubtotalDynamicFormat,yt=>yt&&yt.Format)};if(!de){var it=this.aggregateReader.compute(We,be);it&&(Pe.aggregates=it)}return this.actionHistory|=G.DynamicFormatFound,Pe}}readIdentity(ce,be,ae){t.f.assertValue(ce,"axisGroupings"),t.f.assertValue(ae,"depth");for(var ee,de=this.readKeys(ce,ae),Pe=ce[ae].Keys,We=0,it=Pe.length;We<it;We++){var yt=Pe[We],mt=d.A1.findAndParseCalculationToSQExpr(be.Calculations,yt.Calc||this.selects[yt.Select].Value),ie=(0,c.Dg)(de[We],mt);ee=(0,c.xD)(ee,ie)}return(0,m.TZ)(ee)}readKeys(ce,be){t.f.assertValue(ce,"axisGroupings"),t.f.assertValue(be,"depth");var ae=this.getAxisCache(ce),de=ae.exprs[be];if(void 0===de){de=ae.exprs[be]=[];for(var ee=ce[be].Keys,Pe=0,We=ee.length;Pe<We;Pe++)de.push(this.convertKey(ee[Pe]))}return de}includes(ce){return t.f.assertValue(ce,"kind"),(0,b.yE)(this.targets,ce)}getAxisCache(ce){t.f.assertValue(ce,"axisGroupings");for(var be=this.cacheItems,ae=0,de=be.length;ae<de;ae++){var ee=be[ae];if(ee.axisGroupings===ce)return ee}var Pe={axisGroupings:ce,exprs:[]};return be.push(Pe),Pe}convertKey(ce){t.f.assertValue(ce,"key");var be=ce.Source;return(0,c.Oh)((0,c.nw)((0,y._H)(be),be.Entity||be.EntitySet),be.Property)}}class Qe{constructor(ce,be){t.f.assert(()=>null!=ce.Select||null!=ce.ScriptVisualBinding,"descriptor"),t.f.assertValue(be,"dataShape"),this.dataShape=be}compute(ce,be,ae){t.f.assertValue(be,"columnIndex");var de=this.cache;if(de){var ee=de[be];if(ee)return ee}if(ce){de||(this.cache=de={});var Pe=this.dataShape,We=ut(ce,Pe.Calculations,Pe.PrimaryHierarchy,0);return ae&&!We&&(We={}),de[be]=We,We}}updateAggregates(ce,be,ae,de){t.f.assertValue(ce,"select"),t.f.assertValue(be,"columnIndex"),t.f.assertValue(ae,"name"),t.f.assertAnyValue(de,"value");var ee=this.compute(ce,be,!0);if(ee)return ee[ae]=de,ee}}function ut(rt,ce,be,ae){t.f.assertValue(rt,"select"),t.f.assertAnyValue(ce,"calculations"),t.f.assertAnyValue(be,"allMembers"),t.f.assertValue(ae,"depth");var de=!_.isEmpty(be)&&Ce.getFirstInstanceCalcs(be[0]);if(!_.isEmpty(ce)||!_.isEmpty(de)){var ee;if(!_.isEmpty(de)&&rt.Subtotal){var Pe=rt.Subtotal[ae];if(Pe){var We=d.A1.findAndParseCalculation(de,Pe);void 0!==We&&(ee||(ee={}),ee.subtotal=We)}}if(!_.isEmpty(ce)){if(rt.Max){var it=rt.Max[ae];if(it){var yt=d.A1.findAndParseCalculation(ce,it);void 0!==yt&&(ee||(ee={}),ee.max=yt)}}if(rt.Min){var et=rt.Min[ae];if(et){var mt=d.A1.findAndParseCalculation(ce,et);void 0!==mt&&(ee||(ee={}),ee.min=mt)}}if(rt.Count){var ie=rt.Count[ae];if(ie){var Y=d.A1.findAndParseCalculation(ce,ie);void 0!==Y&&(ee||(ee={}),ee.count=Y)}}var fe=rt.Aggregates;if(fe)for(var Be of fe){var Ze=Be.Aggregate,ct=Be.Ids[ae];if(ct){var St=d.A1.findAndParseCalculation(ce,ct);if(void 0!==St){var Rt=Ze.Percentile;if(Rt){var kt={k:Rt.K,value:St};Rt.Exclusive&&(kt.exclusive=Rt.Exclusive),ee||(ee={});var Gt=ee.percentiles;Gt||(Gt=ee.percentiles=[]),Gt.push(kt)}else Ze.Average?(ee||(ee={}),ee.average=St):Ze.Median&&(ee||(ee={}),ee.median=St)}}}if(0===ae){var Ht=rt.Value;if(Ht){var tr=d.A1.findAndParseCalculation(ce,Ht);void 0!==tr&&(ee||(ee={}),ee.single=tr)}}}return ee}}class lt{static create(ce,be){for(var ae=ce.values,de=be.selects,ee=!1,Pe={},We=0,it=0,yt=de.length;We<yt;We++){var et=de[We];if(et){if(et.Kind!==y.hk.Measure){it++;continue}var ie=void 0,Y=void 0;if(ae&&(Y=ae[it])){if(ie=[],void 0===Y.min&&ie.push(new d.nc),void 0===Y.max&&ie.push(new d._8),0===ie.length){it++;continue}}else ie=[new d.nc,new d._8];Pe[it]=ie,ee=!0,it++,et.DynamicFormat&&et.DynamicFormat.Format&&it++}}if(ee)return new lt(ce,be.aggregateReader,be.selects,Pe)}constructor(ce,be,ae,de){t.f.assertValue(ce,"node"),t.f.assertValue(be,"aggregateReader"),t.f.assertValue(de,"aggregators"),this.node=ce,this.aggregateReader=be,this.selects=ae,this.aggregators=de}add(ce,be){var ae=this.aggregators[ce];if(ae)for(var de=0,ee=ae.length;de<ee;de++)ae[de].update(be)}complete(ce){t.f.assertValue(ce,"columns");for(var be=this.aggregators,ae=this.node,de=this.aggregateReader,ee=0,Pe=0,We=this.selects.length;ee<We;ee++){var it=this.selects[ee];if(it){var yt=be[Pe];if(!yt){Pe++;continue}for(var et=0,mt=yt.length;et<mt;et++){var ie=yt[et],Y=ie.value();if(void 0!==Y){var fe=ie.name;re(ae,Pe)[fe]=Y,ce[Pe].aggregates=de.updateAggregates(it,Pe,fe,Y)}}Pe++,it&&it.DynamicFormat&&it.DynamicFormat.Format&&Pe++}}}}function Et(rt){if(t.f.assertAnyValue(rt,"dsr"),rt.Version===S.cc.Version2)return!0}function bt(rt){return t.f.assertAnyValue(rt,"dsr"),rt.MinorVersion}function Ot(rt,ce,be,ae,de,ee){if(t.f.assertValue(ce,"arg"),!ce)return null;var Pe;ce.data&&(ce=ce.data),ee&&ee.isRunning()&&(Pe=ee.createChildActivity({name:i.R.ParseQueryResult}));var We={},it=ce,yt=(0,l.z)();_.isString(ce)&&(We.dsrLength=ce.length,We.jsonParse=(0,g.zb)(()=>{it=JSON.parse(ce)}),Pe&&Pe.setProperty("metrics",{jsonParse:We.jsonParse}));var et=function(rt,ce,be,ae,de,ee,Pe,We,it,yt,et,mt,ie,Y,fe){if(!be)return null;var Be,Ze;if(We||(We={}),rt&r.m.Single&&(rt|=r.m.Table),Et(be)){if(Ze="dsr2-read",performance&&performance.mark&&performance.mark(Ze+"-start"),We.mode=p.Ui.V2,1!==_.size(be.DS))return null;var ct=(0,V.Ei)(ce),St=(0,z.KI)(be,ct);Be=function(rt,ce,be,ae,de){var ee={columns:rt.createDataViewMetadataColumns()},Pe={dataView:{metadata:ee}};if(function(rt,ce){rt.reset();var be=rt.dataShapes();t.f.assert(()=>1===be.count(),"DSR has multiple DataShapes"),be.next(),be.complete()||(ce.dataView.metadata.segment={},ce.restartToken=be.restartTokens())}(ce,Pe),rt.includes(r.m.Matrix)){var We,it=(0,g.zb)(()=>{We=function(rt,ce,be,ae){return new D(rt,ce,be,ae).run()}(rt,ce,ee,de),We&&(Pe.dataView.matrix=We,ce.lockCache())});We&&(be.matrix=it)}if(rt.includes(r.m.Categorical)){var yt,et=(0,g.zb)(()=>{yt=function(rt,ce,be,ae){if(E.isCompatible(rt))return(new E).run(rt,ce,be)}(rt,ce,ee),yt&&(Pe.dataView.categorical=yt,ce.lockCache())});yt&&(be.categorical=et)}if(rt.includes(r.m.Table)){var mt,ie=(0,g.zb)(()=>{mt=function(rt,ce,be){return new R(rt,ce,be).run()}(rt,ce,ee),mt&&(Pe.dataView.table=mt,ce.lockCache())});mt&&(be.table=ie)}if(rt.includes(r.m.Tree)){var Y,fe=(0,g.zb)(()=>{Y=function(rt,ce){return new N(rt,ce).run()}(rt,ce),Y&&(Pe.dataView.tree=Y,ce.lockCache())});Y&&(be.tree=fe)}if(rt.includes(r.m.Single)){var Be,Ze=(0,g.zb)(()=>{Be=function(rt,ce){if(M.isCompatible(rt))return new M(rt,ce).run()}(rt,ce),Be&&(Pe.dataView.single=Be)});Be&&(be.single=Ze)}return Pe}(new T(rt,ce,ct,Y,St.dataShapes()),St,We,0,Y),St.reset();var kt=St.dataShapes(),Gt=kt.next();if(t.f.assert(()=>Gt,"There must be a DataShape"),kt.limitsExceeded()){Be.warnings||(Be.warnings=[]);var Ht=new W.x(ce,function(rt){for(var ce=rt.limits(),be=ce.count(),ae=new Array(be),de=0;de<be;de++)ce.next(),ae[de]={Id:ce.id()};return ae}(kt),function(rt){for(var ce=new Array(rt.calcCount()),be=0;rt.nextCalc();be++)ce[be]={Id:rt.calcId(),Value:rt.calcValue()};return ce}(kt));Be.warnings.push(Ht),Q(Be.dataView,Ht.limits)}(function(rt,ce){var be=rt.messages();if(be)for(;be.next();)F.py[be.code()]&&be.severity()===(0,F.sK)(F.dL.Warning)&&(ce.warnings||(ce.warnings=[]),ce.warnings.push(be.dsrMessage()))})(kt,Be),Be.dataView&&!_.isEmpty(ee)&&((0,n.dj)(Be.dataView,ee),Be.disallowPersisting=!0)}else Ze="dsr1-read",performance&&performance.mark&&performance.mark(Ze+"-start"),We.mode=p.Ui.V1Old,Be=function(rt,ce,be,ae,de,ee,Pe){if(t.f.assertValue(rt,"targets"),t.f.assertAnyValue(ce,"descriptor"),t.f.assertValue(be,"dsr"),t.f.assertAnyValue(ee,"clientSideFilters"),!function(rt){return rt&&1===_.size(rt.DataShapes)}(be))return null;var We=be.DataShapes[0];if(We["odata.error"]){var yt=new k.Ow(We["odata.error"]);return de&&(yt.requestId=de),{error:yt}}var mt=new pe(rt,ce,Pe,new Qe(ce,We)),ie=function(rt){if(t.f.assertValue(rt,"context"),null!=rt.scriptVisualBinding)return new he(rt);for(var ce=0,be=0,ae=rt.selects,de=0,ee=ae.length;de<ee;de++){var Pe=ae[de];Pe&&(null!=Pe.Depth&&(ce=Math.max(ce,Pe.Depth+1)),null!=Pe.SecondaryDepth&&(be=Math.max(be,Pe.SecondaryDepth+1)))}return be>=1&&1===ce?new je(rt):new Ce(rt)}(mt).read(ce.Expressions,We,ae),Y={dataView:ie};if(We.RestartTokens&&(Y.restartToken=We.RestartTokens),We.DataLimitsExceeded&&We.DataLimitsExceeded.length>0){Y.warnings||(Y.warnings=[]);var fe=new W.x(ce,We.DataLimitsExceeded,We.Calculations);Y.warnings.push(fe),Q(ie,fe.limits)}if(We.DataShapeMessages&&We.DataShapeMessages.length>0)for(var Be of We.DataShapeMessages)F.py[Be.Code]&&Be.Severity===(0,F.sK)(F.dL.Warning)&&(Y.warnings||(Y.warnings=[]),Y.warnings.push(new F.lp(Be)));return Y.dataView&&!_.isEmpty(ee)&&((0,n.dj)(Y.dataView,ee),Y.disallowPersisting=!0),t.f.log("DSR.stats",mt.stats),Y}(rt,ce,be,We,de,ee,Pe);return Be&&(Be.timestamp=et,Be.fromCache=mt,ie&&!Be.fromCache&&(Be.performanceActivities=L(ie.Events,fe&&fe.getProperty("rootId")))),performance&&(performance.mark&&performance.mark(Ze+"-end"),performance.measure&&performance.measure(Ze,Ze+"-start",Ze+"-end")),We.total=(0,l.z)()-yt,it&&it.logEvent(p.h1,{jsonparse:We.jsonParse,categorical:We.categorical,table:We.table,tree:We.tree,matrix:We.matrix,single:We.single,script:We.script,total:We.total,mode:We.mode,targetDataView:rt,dsrLength:We.dsrLength,id:Pe}),Be}(rt,it.descriptor,it.dsr,0,it.requestId,it.clientSideFilters,de,We,ae,yt,it.timestamp,it.fromCache,it.metrics,be.scopedAggregates,ee);if(be?.queryContext){var mt=it.queryContext;mt&&(et.queryContext=mt)}return Pe&&Pe.resolve(),et}function ne(rt){if(t.f.assertAnyValue(rt,"dataViewSource"),!rt)return!1;var ce=rt.data;return _.isString(ce)&&(ce=(0,a.K)(ce)),!_.isEmpty(ce)&&function(rt){if(rt)if(Et(rt)){for(var ce=(0,z.KI)(rt,void 0).dataShapes();ce.next();)if(ce.hasRestartTokens())return!0}else{var be=rt.DataShapes;for(var ae of be)if(!_.isEmpty(ae.RestartTokens))return!0}return!1}(ce.dsr)}},803205:function(ve,j,e){e.d(j,{CP:function(){return d},Ku:function(){return s},Mp:function(){return n},g2:function(){return l},kt:function(){return p},m9:function(){return t},oo:function(){return r},pu:function(){return i}});var r=function(o){return o[o.Status=0]="Status",o[o.Goal=1]="Goal",o[o.Value=2]="Value",o[o.Trend=3]="Trend",o}({}),i=function(o){return o[o.Primary=0]="Primary",o[o.Secondary=1]="Secondary",o}({}),t=function(o){return o[o.Unknown=-1]="Unknown",o[o.Top=0]="Top",o[o.Bottom=1]="Bottom",o[o.Sample=2]="Sample",o[o.BinnedLineSample=3]="BinnedLineSample",o[o.OverlappingPointsSample=4]="OverlappingPointsSample",o}({}),l=function(o){return o[o.None=0]="None",o[o.GroupMember=1]="GroupMember",o[o.SubTotalMember=2]="SubTotalMember",o}({}),n=function(o){return o[o.Value=1]="Value",o[o.Subtotal=2]="Subtotal",o[o.Highlight=3]="Highlight",o[o.DynamicFormat=4]="DynamicFormat",o[o.SubtotalDynamicFormat=5]="SubtotalDynamicFormat",o[o.HighlightDynamicFormat=6]="HighlightDynamicFormat",o[o.Aggregate=7]="Aggregate",o[o.AggregateHighlight=8]="AggregateHighlight",o[o.HighlightSubtotal=9]="HighlightSubtotal",o[o.SynchronizationIndex=10]="SynchronizationIndex",o}({}),p=function(o){return o[o.Subtotal=1]="Subtotal",o[o.Max=2]="Max",o[o.Min=3]="Min",o[o.Single=4]="Single",o[o.Count=5]="Count",o[o.Average=6]="Average",o[o.Percentile=7]="Percentile",o[o.Median=8]="Median",o}({}),s=function(o){return o[o.Version0=0]="Version0",o[o.Version1=1]="Version1",o}({}),d=function(o){return o[o.Preserve=0]="Preserve",o[o.Flexible=1]="Flexible",o}({})},993699:function(ve,j,e){e.d(j,{PE:function(){return p},xV:function(){return o}});var r=e(650543),i=e(149222),a=e(62414),t=e(545738),l=e(469737);class p{constructor(m,c,C,y){this.addVisualIdToQueryDataAsHttpBodyId=y,this.preferredMaxBatchesConfigured=m>0,this.maxBatches=this.preferredMaxBatchesConfigured?m:4,this.queryExecuteCallback=c,this.pending=[],this.timeoutService=C,this.useHttp2QueryDataEnabled=i.M.browserSupportsHttp2()}enqueue(m){if(!function(v,m){var c=m.options;if(c.executionType===t.LC.CancelQuery){r.f.assertValue(c.queryId,"queryId");var C=_.findIndex(v,y=>y.options.queryId===c.queryId);if(C>-1)return r.f.assert(()=>v[C].execution.rejected(),"CancelQuery should correspond to rejected queries."),!0}return!1}(this.pending,m))return this.pending.push(m),this.currentBatchDeferred||(this.currentBatchDeferred=$.Deferred(),this.timeoutService.setTimeout(-1,!1).promise.then(()=>{var C=this.createBatches();this.clearPending(),this.queryExecuteCallback(C),this.currentBatchDeferred.resolve(),this.currentBatchDeferred=void 0})),this.currentBatchDeferred.promise()}clearPending(){this.pending=[]}setMaxBatches(m){this.maxBatches=m,this.preferredMaxBatchesConfigured=m>0}createBatches(){var m=[],c=this.sortQueriesByDataSource(),C=this.maxBatches,y=!1;if(!this.preferredMaxBatchesConfigured&&this.useHttp2QueryDataEnabled&&(_.some(c,u=>_.some(u.dataSources,f=>f.isLimitedParallelQueryModel))||(C=20,y=!0)),c.length>=C)for(var h=0,E=c.length;h<E;++h)m.push(this.createBatchFromDataSourceGroup(c[h]));else m=this.splitDataSourcesIntoBatches(c,C);return y&&_.forEach(m,u=>u.useSynchronous=!0),m}sortQueriesByDataSource(){var m;m=this.addVisualIdToQueryDataAsHttpBodyId?_.groupBy(this.pending,y=>(y=>y?.applicationContext?.Sources?.[0]?.VisualId)(y.options)):{"":this.pending};var C=[];return _.forEach(m,y=>{var S=[];_.forEach(y,h=>{if(!(0,l.I3)(v=h)||!v.execution.rejected()){var E=this.findDataSourceGroup(h.options.dataSources,S,h.options.cacheResponseOnServer);E?E.queuedExecutions.push(h):S.push({dataSources:h.options.dataSources,queuedExecutions:[h],cacheResponseOnServer:h.options.cacheResponseOnServer,cacheOptions:h.options.cacheOptions})}var v}),C.push(...S)}),C}findDataSourceGroup(m,c,C){for(var y=0,S=c.length;y<S;++y){var h=c[y];if((0,a.fS)(m,h.dataSources)&&h.cacheResponseOnServer===C)return h}return null}createBatchFromDataSourceGroup(m){for(var c=[],C=[],y=[],S=m.queuedExecutions,h=[],E=[],u=function(){var V=S[f],T=S[f].options,P=S[f].enqueueActivity;(0,l.I3)(V)?(c.push(T),y.push(V.deferred),P&&h.push(P),S[f].queryActivity&&E.push(S[f].queryActivity)):(r.f.assert(()=>T.executionType===t.LC.CancelQuery,"Only CancelQuery executions are not rejectable."),C.push(T))},f=0,b=S.length;f<b;++f)u();return{dataSources:m.dataSources,queryOptions:c,cancelQueryOptions:C,promises:y,cacheOptions:m.cacheOptions,cacheResponseOnServer:m.cacheResponseOnServer,enqueueActivities:h,queryActivities:E}}splitDataSourcesIntoBatches(m,c){for(var C=[],y=0,S=m.length;y<S;++y)C.push(this.createBatchFromDataSourceGroup(m[y]));return this.splitBatches(C,c)}splitBatches(m,c){for(var C=m.slice();C.length<c;){for(var y=void 0,S=0,h=C.length;S<h;++S){var E=C[S];E.queryOptions.length>1&&(!y||y.queryOptions.length<E.queryOptions.length)&&(y=E)}if(!y)return C;C.push(this.splitBatch(y)),y=null}return C}splitBatch(m){var c=m.queryOptions.length,C=m.queryOptions.splice(c/2),y=m.promises.splice(c/2),S=m.enqueueActivities.splice(c/2),h=m.queryActivities.splice(c/2),E=m.cancelQueryOptions.length,u=[];return E&&(u=m.cancelQueryOptions.splice(E/2)),{dataSources:m.dataSources,queryOptions:C,promises:y,cacheOptions:m.cacheOptions,cacheResponseOnServer:m.cacheResponseOnServer,cancelQueryOptions:u,enqueueActivities:S,queryActivities:h}}}function o(v,m,c,C,y){return{queryOptions:_.map(v,S=>({command:S,dataSources:m})),cancelQueryOptions:[],cacheOptions:c,dataSources:m,cacheResponseOnServer:C,promises:[],enqueueActivities:[],queryActivities:[],useSynchronous:y}}},469737:function(ve,j,e){e.d(j,{I3:function(){return p},K4:function(){return l},qe:function(){return a},u5:function(){return t}});var r=e(545738),i=e(650543);function a(s,d,o){s.useMwcTokenAuthorization=!0,s.authorizationHeaderOverride=d,s.headers["x-ms-root-activity-id"]=s.headers.RequestId,s.headers["x-ms-parent-activity-id"]=s.headers.RequestId,s.headers["x-ms-workload-resource-moniker"]=o}function t(s,d,o){var v=_.map(s.queryOptions,S=>{var h=S.command,u={Query:h,CacheKey:S.cacheResponseOnServer?JSON.stringify(h):void 0,CacheOptions:s.cacheOptions,QueryId:S.queryId};return S.applicationContext&&(u.ApplicationContext=S.applicationContext),S.requestPriority===r.ru.Low&&(u.RequestPriority=r.ru.Low),u}),m=_.map(s.cancelQueryOptions,S=>({QueryId:S.queryId})),c=function(s){return i.f.assertNonEmpty(s,"dataSources"),i.f.assert(()=>1===s.length,"dataSources.length === 1"),_.head(s)}(s.dataSources),C={version:g,queries:v,cancelQueries:m,modelId:c.modelId,userPreferredLocale:d.getUserPreferredLocale()};if(o&&o.impersonating){var y=o.getImpersonationState();y.modelId===C.modelId&&_.extend(C,y)}return C}function l(s){return _.some(s.queries,d=>_.some(d.Query.Commands,o=>o.SemanticQueryDataShapeCommand?.Extension))}var g="1.0.0";function p(s){return null!=s&&void 0!==s.deferred&&void 0!==s.execution}},138334:function(ve,j,e){e.d(j,{N8:function(){return r},_H:function(){return i},hk:function(){return l}});var r=void 0;function i(g){return g.Schema||r}var l=function(g){return g[g.None=0]="None",g[g.Group=1]="Group",g[g.Measure=2]="Measure",g}({})},924987:function(ve,j,e){e.d(j,{$z:function(){return i},cm:function(){return s}});var r=e(650543);function i(d,o){!function(d,o,v){if(r.f.assertValue(o,"visitor"),d){o.visitDescriptor(d,v);var m=d.Select;if(m&&m.length)for(var c=0,C=m.length;c<C;c++)o.visitSelect(m[c],v);var y=d.Expressions;y&&function(d,o,v){r.f.assertValue(d,"expressions"),o.visitExpressions(d,v),r.f.assertValue(d.Primary,"Primary"),l(d.Primary,o,v);var m=d.Secondary;m&&l(m,o,v)}(y,o,v)}}(d,o,void 0)}function l(d,o,v){r.f.assertValue(d,"axis"),o.visitDataShapeExpressionsAxis(d,v);var m=d.Groupings;r.f.assertValue(m,"groupings");for(var c=0,C=m.length;c<C;c++)g(m[c],o,v)}function g(d,o,v){r.f.assertValue(d,"grouping"),o.visitDataShapeExpressionsAxisGrouping(d,v);var m=d.Keys;r.f.assertValue(m,"keys");for(var c=0,C=m.length;c<C;c++)n(m[c],o,v)}function n(d,o,v){r.f.assertValue(d,"groupingKey"),o.visitDataShapeExpressionsAxisGroupingKey(d,v),r.f.assertValue(d.Source,"Source"),o.visitConceptualPropertyReference(d.Source,v)}class p{visitDescriptor(o,v){}visitSelect(o,v){}visitExpressions(o,v){}visitDataShapeExpressionsAxis(o,v){}visitDataShapeExpressionsAxisGrouping(o,v){}visitDataShapeExpressionsAxisGroupingKey(o,v){}visitConceptualPropertyReference(o,v){}}class s extends p{}},32298:function(ve,j,e){e.d(j,{Q:function(){return t}});var r=e(990297),i=e(650543),a=e(138334);class t{constructor(g,n){i.f.assertValue(g,"metadata"),i.f.assertValue(g.Select,"metadata.Select"),i.f.assertValue(n,"binding"),n.ScriptVisualBinding||(i.f.assertValue(n.Select,"binding.Select"),i.f.assert(()=>g.Select.length<=n.Select.length,"Metadata should have the same number or fewer select items as Binding.")),this._metadata=g,this._binding=n}getSelectRestatements(){return this.getRestatements()}getGroupRestatements(){return this.getRestatements(a.hk.Group)}getMeasureRestatements(){return this.getRestatements(a.hk.Measure)}getFilterRestatements(){var g=this._metadata.Filters;if(_.isEmpty(g))return null;for(var n=[],p=0,s=g.length;p<s;p++){var d=g[p];n.push(d?d.Restatement:"")}return(0,r.rm)(n)}getRestatements(g){var n=this._metadata,p=this._binding,s=[];if(!p.ScriptVisualBinding)for(var d=0,o=n.Select.length;d<o;d++){var v=p.Select[d];v&&(void 0===g||v.Kind===g)&&s.push(n.Select[d].Restatement||"")}return(0,r.rm)(s)}}},763469:function(ve,j,e){e.d(j,{Zl:function(){return Ce},cd:function(){return Ot},Jz:function(){return ce}});var r=e(60978),i=e(426313),a=e(990297),t=e(650543),l=e(630881),g=e(149356),n=e(173775),p=e(765959),s=e(833059),d=e(951202),o=e(87072),v=e(674660),m=e(140346),c=e(850111),C=e(914094),y=e(442407),S=e(247425),h=e(875090);function E(ie){t.f.assertValue(ie,"mapping"),ie.categorical&&function(ie){if(t.f.assertValue(ie,"categorical"),!ie.dataReductionAlgorithm){ie.categories&&T(ie.categories);var Y=ie.values;Y&&Y.group&&function(ie){t.f.assertValue(ie,"mapping"),t.f.assertValue(ie.group,"mapping.group"),ie.group.dataReductionAlgorithm||(ie.group.dataReductionAlgorithm={top:{}})}(Y)}}(ie.categorical),ie.table&&function(ie){t.f.assertValue(ie,"table"),ie.rows&&T(ie.rows)}(ie.table),ie.matrix&&function(ie){t.f.assertValue(ie,"matrix"),ie.rows&&T(ie.rows),ie.columns&&T(ie.columns)}(ie.matrix)}function T(ie){t.f.assertValue(ie,"mapping"),!ie.dataReductionAlgorithm&&!function(ie){var Y=ie.select;return!!Y&&_.some(Y,fe=>!!fe.dataReductionAlgorithm)}(ie)&&(ie.dataReductionAlgorithm={top:{}})}function w(ie){t.f.assertValue(ie,"mappings");for(var Y=ie.length,fe=0;fe<Y;fe++)E(ie[fe])}var M=function(ie){return ie[ie.Version0=0]="Version0",ie}({}),A=e(774452),R=e(11864);function B(ie,Y){if(t.f.assertValue(ie,"expansionState"),t.f.assert(()=>Y>=0,"lastActiveLevelIndex >= 0"),!_.isEmpty(ie.levels)&&0!==Y){t.f.assertValue(ie.root,"expansionState.root");var fe=W(ie.root,-1,Y,ie.levels);if(fe){for(var Be=new Array(fe.depth),Ze=new A.cL(null),ct=0;ct<fe.depth;ct++)Be[ct]=N(ie.levels[ct],Ze);var St=[];return R.ib.serializeFrom(Ze,St),{From:St,Levels:Be,Instances:fe.instance}}}}function N(ie,Y){return t.f.assertValue(ie,"level"),{Expressions:_.map(ie.identityKeys,Ze=>{var ct=C.cX.rewrite(Ze,Y,Y);return R.ib.serializeExprWithRef(ct)}),Default:ie.isCollapsed?s.XS.Collapsed:s.XS.Expanded}}function W(ie,Y,fe,Be){t.f.assertValue(ie,"node");var Ze=-1===Y,ct=Y+1===fe,St=!Ze&&!!Be[Y].isCollapsed;if(ie.isToggled||!(St||ct||_.isEmpty(ie.children))){var Gt,Rt=!Ze&&!St&&ie.isToggled,Ht=0;if(!ct&&!_.isEmpty(ie.children)&&!Rt)for(var tr of(Gt=[],ie.children)){t.f.assertNonEmpty(tr.identityValues,"child.identityValues");var ar=W(tr,Y+1,fe,Be);ar&&(Ht=Math.max(Ht,ar.depth+1),Gt.push(ar.instance))}if(ie.isToggled||!_.isEmpty(Gt)){var He={};return _.isEmpty(ie.identityValues)||(He.Values=_.map(ie.identityValues,Mt=>R.ib.serializeExpr(Mt))),_.isEmpty(Gt)||(He.Children=Gt),{depth:Ht,instance:He}}}}function F(ie){if(ie&&ie.root){var Y=U(ie.root),fe=O(Y),Be=new A.cL(null);t.f.assert(()=>fe<=_.size(ie.levels),"Missing levels in window expansion state");var Ze=_.take(ie.levels,fe),ct=_.map(Ze,Rt=>function(ie,Y){t.f.assertValue(ie,"Level must be defined");var fe=_.map(ie.identityKeys,Be=>{var Ze=C.cX.rewrite(Be,Y,Y);return R.ib.serializeExprWithRef(Ze)});return{Expressions:fe,Default:s.XS.Collapsed}}(Rt,Be)),St=[];return R.ib.serializeFrom(Be,St),{From:St,Levels:ct,WindowInstances:Y}}}function U(ie){return t.f.assertValue(ie,"Window expansion instance is not defined"),{Values:_.map(ie.identityValues,Y=>R.ib.serializeExpr(Y)),WindowExpansionInstanceWindowValue:_.map(ie.windowValues,Y=>({Values:_.map(Y.restartValues,fe=>R.ib.serializeExpr(fe)),WindowStartKind:Y.windowKind})),Children:_.map(ie.children,Y=>U(Y))}}function O(ie){return!ie||_.isEmpty(ie.Children)?0:Math.max(..._.map(ie.Children,Y=>O(Y)))+1}var I=e(999787),L=e(567050);function J(ie,Y){t.f.assertValue(ie,"item"),t.f.assertValue(Y,"newExpr"),ie.query=ie.query.addSelect(Y);var fe=ie.query.select(),Be=(0,L.p)(fe,Y),Ze=fe[Be],ct=ie.additionalProjections;return ct||(ct=ie.additionalProjections=[]),ct.push({queryName:Ze.name,selector:null}),{index:Be,expr:Y,queryName:Ze.name}}class G{constructor(){this.queryReferencesByRole={}}static findActive(Y){var fe=new G;return(0,d.oF)(Y,fe),fe.queryReferencesByRole}visitRole(Y){var fe=Y.items;_.isEmpty(Y.activeItems)||(fe=_.filter(fe,Be=>_.includes(Y.activeItems,Be.queryName))),this.queryReferencesByRole[Y.role]=_.map(fe,Be=>Be.queryName)}}var q=e(703106),Q=e(62414);function Z(ie,Y,fe){var Be=[],Ze=ie.select(),ct=Ze.withName(Y)?.expr;t.f.assertValue(ct,"Attempting to duplicate a non-existing Select");var St=ie.addSelect(ct),Rt=St.select();t.f.assert(()=>Rt.length===Ze.length+1,"Expected a Select to have ben added");var kt=Rt.length-1,Gt=Rt[kt];t.f.assert(()=>!Ze.withName(Gt.name),"this code assumes that the newly added select is always the last element in updatedSelectClause");var Ht=Y,tr=Gt.name;return Be.push({selectExprAdded:{selectIndex:kt,namedSQExpr:Gt}}),void 0!==fe&&Be.push({projectionQueryRefChanged:{role:fe,oldQueryRef:Ht,newInternalQueryRef:tr}}),{rewriteRecords:Be,newQuery:St,newQueryName:tr}}function se(ie,Y,fe,Be){if(ie.queryName!==Y.queryName)return!1;var Ze=(0,h.P6)(ie.selector.data,fe,Be),ct=(0,h.P6)(Y.selector.data,fe,Be),St=_.xor(Ze,ct);return!_.isEmpty(St)}function ke(ie,Y,fe,Be){var Ze=fe.queryName,ct=ie[Ze];ct||(ct=ie[Ze]={categoryAndValueGroup:[],categoryOnly:[]});var St={roleName:Y,roleItem:fe};Be?ct.categoryAndValueGroup.push(St):ct.categoryOnly.push(St)}function Ue(ie,Y){t.f.assertValue(ie,"roles"),t.f.assertValue(Y,"role");var fe={for:{in:Y}};for(var Be of ie)if((0,Q.fS)(Be,fe))return;ie.push(fe)}var ot=e(759162);class ft{conflictsWith(Y){if(this.getQueryName()!==Y.getQueryName())return!1;var fe=_.xor(this.getScopeRefs(),Y.getScopeRefs());return!_.isEmpty(fe)}}class Ct extends ft{constructor(Y,fe,Be){super(),this.additionalProjection=Y;var ct=Y.aggregates&&_.isEmpty(Y.selector?.data)?[(0,ot.Ue)()]:Y.selector?.data;this.scopeRefs=(0,h.P6)(ct,fe,Be)}getQueryName(){return this.additionalProjection.queryName}getScopeRefs(){return this.scopeRefs}updateQueryName(Y){this.additionalProjection.queryName=Y}getRoleName(){}}class Ke extends ft{constructor(Y,fe,Be){super(),this.roleItem=Y,this.roleName=fe,this.scopeRefs=Be}getQueryName(){return this.roleItem.queryName}getScopeRefs(){return this.scopeRefs}getRoleName(){return this.roleName}updateQueryName(Y){this.roleItem.queryName=Y}}function Ne(ie,Y){var fe=Y.queryRewrites||[],Ze=Z(Y.query,ie.getQueryName(),ie.getRoleName?.());return ie.updateQueryName(Ze.newQueryName),fe.push(...Ze.rewriteRecords),{query:Ze.newQuery,queryRewrites:fe,mappings:Y.mappings,additionalProjections:Y.additionalProjections}}class Ie{constructor(Y){this.expectedContext=Y,this.scopeRefs=[],this.queryRefsByRole={}}visitRole(Y,fe){if(fe===this.expectedContext){var Be=(0,o.Xw)(Y),Ze=this.queryRefsByRole[Y.role]=[];for(var ct of Be)this.scopeRefs.push(ct.queryName),Ze.push(ct.queryName)}}}class me{constructor(Y,fe){this.scopeRefs=Y,this.expectedContext=fe,this.rolesMeasures=[]}visitRole(Y,fe){if(fe===this.expectedContext){var Be=(0,o.Xw)(Y);for(var Ze of Be)this.rolesMeasures.push(new Ke(Ze,Y.role,this.scopeRefs))}}}var Oe=e(479265),Ee=e(509247);class xe{constructor(Y){this.selects=Y,this.referencedItems=new Set}withRestartToken(Y){return this}withPrimaryWindowExpansion(Y){return this}withDataVolume(Y){return this}withIncludeEmptyGroups(Y){return this}withHighlightFilter(Y){return this}withGroupBy(Y){return this}withPrimaryGrouping(Y,fe,Be,Ze,ct,St){return Y=this.filterItems(Y,fe,St),_.isEmpty(Y)||(this.rows=this.rows??[],ct&&(Rt=_.last(this.rows)),Rt||(Rt=this.createAxisGroup(),this.rows.push(Rt)),this.updateAxisGroup(Rt,Y)),this;var Rt}withPrimaryGroupingNestedByRole(Y,fe,Be,Ze,ct,St,Rt){return this.isRoleSupportHierachryGrouping(Rt)?this.withPrimaryGroupingNested(Y,fe,Be,Ze,St):this.withPrimaryGrouping(Y,fe,Be,Ze,ct,St)}isRoleSupportHierachryGrouping(Y){return this.rolesWithHierarchicalGroupingSupport&&this.rolesWithHierarchicalGroupingSupport.includes(Y)}withPrimaryExpansion(Y){return this}withPrimarySynchronization(Y){return this}withPrimaryGroupingNested(Y,fe,Be,Ze,ct){return Y=this.filterItems(Y,fe,ct),_.isEmpty(Y)||_.each(Y,St=>this.withPrimaryGrouping([St],fe,Be,Ze,!1,ct)),this}withSecondaryGrouping(Y,fe,Be,Ze,ct){if(Y=this.filterItems(Y,fe,ct),_.isEmpty(Y))return this;this.columns=this.columns??[];var St=this.createAxisGroup();return this.columns.push(St),this.updateAxisGroup(St,Y),this}withSecondaryGroupingNestedByRole(Y,fe,Be,Ze,ct,St){return this.isRoleSupportHierachryGrouping(St)?this.withSecondaryGroupingNested(Y,fe,Be,Ze,ct):this.withSecondaryGrouping(Y,fe,Be,Ze,ct)}withSecondaryExpansion(Y){return this}withSecondaryGroupingNested(Y,fe,Be,Ze,ct){return Y=this.filterItems(Y,fe,ct),_.isEmpty(Y)||_.each(Y,St=>this.withSecondaryGrouping([St],fe,Be,Ze,ct)),this}withCurrentInnermostGrouping(Y,fe,Be){return this}withCurrentInnermostPrimaryGrouping(Y,fe,Be,Ze){return this}withPrimaryDataReduction(Y){return this}withScopedDataReduction(Y,fe){return this}withSecondaryDataReduction(Y){return this}withIntersectionDataReduction(Y){return this}withTopLevelAggregates(Y){return this}withAdditionalProjections(Y){return this}withRolesWithHierarchicalGroupingSupport(Y){return t.f.assertAnyValue(Y,"rolesWithHierarchicalGroupingSupport"),_.isEmpty(Y)||(this.rolesWithHierarchicalGroupingSupport=Y),this}toQueryShape(Y){var fe=[],Be=this.createAxis("rows",this.rows);Be&&fe.push(Be);var Ze=this.createAxis("columns",this.columns);return Ze&&fe.push(Ze),_.isEmpty(fe)?void 0:fe}createAxis(Y,fe){if(this.removeEmptyAxisGroups(fe),!_.isEmpty(fe))return{Name:Y,Groups:fe}}removeEmptyAxisGroups(Y){_.isEmpty(Y)||_.remove(Y,fe=>_.isEmpty(fe.Keys))}createAxisGroup(){return{Keys:[],Subtotal:!0}}updateAxisGroup(Y,fe){for(var Be of fe)if(!this.referencedItems.has(Be.queryName)){var Ze=(0,a.rC)(this.selects,Be.queryName);(0,Ee.k)(Ze.expr)||(this.referencedItems.add(Be.queryName),Y.Keys.push(R.ib.serializeExprWithRef(Ze.expr)))}}filterItems(Y,fe,Be){if(t.f.assertAnyValue(Y,"items"),t.f.assertAnyValue(fe,"activeProjection"),_.isEmpty(fe)||_.isEmpty(Y))return Y;var Ze=Y.findIndex(St=>St.queryName===fe[0]);return Y.slice(Ze)||(Be?[]:Y)}}var ye=e(327392),Je=e(318456),he=e(296841);function Ce(ie={}){return new Qe(R.ib,ie)}var je=function(ie){return ie[ie.Default=3]="Default",ie[ie.High=6]="High",ie}({});class Qe{constructor(Y,fe){t.f.assertValue(Y,"serializer"),this.serializer=Y,this.featureSwitches=fe}execute(Y){var fe=this.executeForQueryOnlyImpl(Y);if(!fe||!fe.dataShapeBinding&&fe.mergedQueries&&fe.mergedQueries.mapping&&fe.mergedQueries.mapping.updateType===l.Ky.MetadataOnly)return{command:void 0};var Be=fe.mergedQueries,Ze=fe.dataShapeBinding,ct=fe.query;this.adjustIntersectionDataReduction(Ze,Be.mapping,ct,Y.highVolumeOverride),_.isEmpty(ct.groupBy())||this.applyDataReductionForGroupByQuery(Ze,ct);var St=fe.mergedQueries&&fe.mergedQueries.mapping&&fe.mergedQueries.mapping.updateType===l.Ky.Deferred&&_.isEmpty(Y.additionalProjections);return{command:this.createDataQuery(ct,fe.queryExtensionSchema,Y.dataSourceVariables,Ze,fe.compiledDataViewMappings,Y.dataWindow,Y.executionMetricsKinds,Y.anchorTime,fe.visualShape),splits:Be.splits,queryRewrites:fe.queryRewrites,deferred:St,isPivoted:Ze?.isPivoted,resolvedQuery:ct}}executeForQueryOnly(Y){var fe=this.executeForQueryOnlyImpl(Y);return fe&&fe.query}applySubquerySortOrder(Y,fe){var Be=Y.from(),Ze=_.pickBy(Be.getSubquerySources(),(Bt,ze)=>null!=Bt.subquery.top()&&Bt.inheritsSorting);if(_.isEmpty(Ze))return Y;var ct=function(ie,Y){var fe=[],Be=ie.select();return Y?.Primary?.Groupings.forEach(Ze=>{Ze.Projections.forEach(ct=>{var St=Be[ct].expr;(0,Ee.k)(St)||fe.push(St)})}),Y?.Secondary?.Groupings.forEach(Ze=>{Ze.Projections.forEach(ct=>{var St=Be[ct].expr;(0,Ee.k)(St)||fe.push(St)})}),fe}(Y,fe),St=!1;for(var Rt in Ze){var kt=Ze[Rt].subquery,Gt=kt.select(),Ht=kt.orderBy()||[],tr=function(Bt){var ze=_.findIndex(Gt,Lt=>(0,i.fS)(Lt.expr,Bt,!1,!0));if(ze>-1&&!_.some(Ht,Lt=>(0,i.fS)(Lt.expr,Bt,!1,!0))){var st=Gt.splice(ze,1)[0];Ht.push({expr:st.expr,direction:Je.S.Ascending}),St=!0}};for(var ar of ct)tr(ar);var He=function(Bt){!(0,Ee.k)(Bt.expr)&&!_.some(Ht,ze=>(0,i.fS)(ze.expr,Bt.expr,!1,!0))&&(Ht.push({expr:Bt.expr,direction:Je.S.Ascending}),St=!0)};for(var Mt of Gt)He(Mt);kt=kt.createModified({orderBy:Ht}),St&&(Be.remove(Rt),Be.ensureSource(new A.vd(kt,!0),Rt))}return St?Y.createModified({from:Be}):Y}produceIdentities(Y,fe){var Be=new Oe.H;return Y.accept(Be,fe)}executeForQueryOnlyImpl(Y){t.f.assertValue(Y,"options");var Gt,fe=(0,ye.Go)(Y.mappings),{query:Be,mappings:Ze,queryRewrites:ct,additionalProjections:St}=this.prepareQuery(Y.query,fe,Y.additionalProjections),Rt=ce(Be),kt=(0,q.lr)(fe,Rt);w(Y.mappings),Y.highVolumeOverride&&(Gt=je.High),kt.mapping.categorical&&function(ie,Y){var Be=new class{constructor(ct){this.indicesByName=ct}visitRole(ct,St){if(!_.isEmpty(ct.items)){var Rt;for(var kt of ct.items)kt.scalarKeyInfo&&null!=kt.scalarKeyInfo.scalarKeyQueryName&&(t.f.assert(()=>null==Rt,"Only a single role item with a scalar key is supported."),Rt=kt.scalarKeyInfo.scalarKeyQueryName);Rt&&(t.f.assert(()=>null==this.primaryScalarKey,"Only a single scalar key is supported."),this.primaryScalarKey=this.indicesByName[Rt])}}}(Y);(0,d.oF)(ie,Be),null!=Be.primaryScalarKey&&(0,d.oF)(ie,{visitRole:()=>{},visitReduction:Ze=>{Ze.binnedLineSample&&(Ze.binnedLineSample.primaryScalarKey=Be.primaryScalarKey)}})}(kt.mapping,Rt);var tr,Mt,Ht=function(ie,Y,fe,Be,Ze,ct,St,Rt,kt,Gt,Ht,tr,ar,He,Mt,Bt){var Lt,ze=ct;if(ct)for(var st of We([fe],Be))ze=ze.rewrite(st);return ct&&(Lt=[ie.serializeFilter(ze)]),function(ie,Y,fe,Be,Ze,ct,St,Rt,kt,Gt,Ht,tr,ar,He,Mt,Bt){return Ot(()=>new Pe(ie,fe,Ht,He,Mt),ie,Y,fe,Be,Ze,ct,St,Rt,kt,Gt,tr,ar,Bt)}(Y,fe,Be,Ze,Lt,St,Rt,kt,Gt,ie,Ht,tr,ar,He,Mt,Bt)}(this.serializer,Rt,kt.mapping,Be.select(),St,Y.highlightFilter,Y.restartToken,Be.groupBy(),Gt,Y.expansionStates,Y.keepProjectionOrder,Y.noDefaultProjections,Y.windowExpansion,this.featureSwitches,Y.projectVisualCalculationContext,Y.projectVisualCalculationContext?Y.rolesWithHierarchicalGroupingSupport:[]);if((0,v.AR)(Ht,Ze,kt.mapping,Be.select(),je.Default,Gt),this.queryHasMeasureFilter(Be)&&Ht&&(this.processTargetsForMeasureFilters(Be,Ze,Ht),Be=this.adjustQueryMeasureFilters(Be,Ht)),this.featureSwitches?.visualTopN&&Ht&&(Be=this.applySubquerySortOrder(Be,Ht)),Be.hasVisualCalculations()){var ar,He=Y.visualShapeMappings;_.isEmpty(He)?ar=kt.mapping:(w(He),ar=He[0]),tr=function(ie,Y,fe,Be,Ze,ct,St,Rt,kt,Gt,Ht,tr){return Ot(()=>new xe(Be),Y,fe,Be,Ze,[],ct,St,Rt,kt,ie,Gt,Ht,tr)}(this.serializer,Rt,ar,Be.select(),St,Y.restartToken,Be.groupBy(),Gt,Y.expansionStates,Y.noDefaultProjections,Y.windowExpansion,Y.rolesWithHierarchicalGroupingSupport)}if(Y.queryExtensionLookup){var Bt=Y.queryExtensionLookup(Be,ct);Be=Bt.query,Mt=Bt.extensions,ct=Bt.queryRewrites}return{query:Be,queryExtensionSchema:Mt,mergedQueries:kt,dataShapeBinding:Ht,compiledDataViewMappings:Ze,queryRewrites:ct,visualShape:tr}}hasAmbiguousEqualitySemantics(Y){return t.f.assertValue(Y,"value"),(0,i.fS)(Y,(0,y.O7)(!1))||(0,i.fS)(Y,(0,y.cA)(0))}prepareQuery(Y,fe,Be){for(var Ze of(t.f.assertValue(Y,"query"),t.f.assertValue(fe,"mappings"),t.f.assertAnyValue(Be,"additionalProjections"),We(fe,Y.select())))Y=Y.rewrite(Ze);var ct=this.rewriteQuery(Y,fe,Be);return ct.query=function(ie){t.f.assertValue(ie,"query");for(var fe,Y=ie.select(),Be=Y.length-1;Be>=0;Be--)(0,r.VC)(Y[Be].expr)&&(Y.splice(Be,1),fe=!0);return fe?ie.select(Y):ie}(ct.query),ct}rewriteQuery(Y,fe,Be){t.f.assertValue(fe,"mappings");var Ze={query:Y,mappings:fe,additionalProjections:Be};return function(ie,Y=!1){t.f.assertValue(ie,"rewrittenQuery");var fe=[],Be=function(ie){if(t.f.assertNonEmpty(ie,"mappings"),!(ie.length>1)&&ie[0].matrix){var Y=ie[0].matrix,fe=new Ie(d.QD.MatrixRowsGroup);(0,d.Ay)(Y.rows,fe);var Be=new Ie(d.QD.MatrixColumnsGroup);(0,d.yL)(Y.columns,Be);var Ze=[...fe.scopeRefs,...Be.scopeRefs],ct=new me(Ze,d.QD.MatrixIntersection);(0,d.hw)(Y.values,ct);var St=new me(fe.scopeRefs,d.QD.MatrixRowsScopedValue);return(0,d.Ay)(Y.rows,St),{groupingRefsByRole:{...fe.queryRefsByRole,...Be.queryRefsByRole},roleItemsInfo:[...ct.rolesMeasures,...St.rolesMeasures]}}t.f.assert(()=>ie.length<=1||null==ie[0].matrix&&null==ie[1].matrix,"Not expected having two mappings with matrix")}(ie.mappings);if(!Be)return ie;if(fe.push(...Be.roleItemsInfo),Y&&!_.isEmpty(ie.additionalProjections)){var Ze=ie.query.select();for(var ct of ie.additionalProjections)fe.push(new Ct(ct,Ze,Be.groupingRefsByRole))}return _.isEmpty(fe)||(ie=function(ie,Y){for(var fe=0;fe<ie.length;fe++)for(var Be=ie[fe],Ze=0;Ze<fe;Ze++)Be.conflictsWith(ie[Ze])&&(Y=Ne(Be,Y));return Y}(fe,ie)),ie}(Ze=function(ie){t.f.assertValue(ie,"item");var Y=ie.mappings;if(1!==Y.length)return ie;var fe=function(ie){var Y,fe;if(t.f.assertValue(ie,"mapping"),(0,d.oF)(ie,{visitRole:Be=>{if(Be.aggregates&&!_.isEmpty(Be.items)){for(var Ze of(Y||(Y={},fe=[]),Be.items))Y[Ze.queryName]=Be.aggregates;fe.push(Be)}}}),Y)return{queryNames:Y,roles:fe}}(Y[0]);if(!fe)return ie;var Be=ie.queryRewrites;return Be||(Be=ie.queryRewrites=[]),function(ie,Y,fe){t.f.assertValue(ie,"item"),t.f.assertValue(Y,"aggregatedQueryNames"),t.f.assertValue(fe,"queryRewrites");var Be=ie.query.select();for(var Ze in Y){var ct=Be.withName(Ze).expr,St=Y[Ze],Rt={};St.min&&(Rt.min=J(ie,(0,y.m_)(ct,I.B8.Min))),St.max&&(Rt.max=J(ie,(0,y.m_)(ct,I.B8.Max))),fe.push({aggregatesAdded:{originalQueryRef:Ze,aggregates:Rt}})}}(ie,fe.queryNames,Be),function(ie){t.f.assertValue(ie,"aggregatedColumns");var Y=ie.queryNames;for(var fe of ie.roles)t.f.assertValue(fe.items,"role.items"),_.remove(fe.items,Be=>Y[Be.queryName])}(fe),ie}(Ze=function(ie){t.f.assertValue(ie,"item");var Y=ie.mappings.length;if(1===Y)return ie;if(Y>1){var fe=function(ie){var{query:Y,mappings:fe,additionalProjections:Be,queryRewrites:Ze}=ie;t.f.assertValue(Y,"query"),t.f.assertNonEmpty(fe,"mappings");var tr,ct=[],St=[],Rt={by:null,select:[]},kt={categories:{select:ct},values:{group:Rt,select:St}},Gt={},Ht=function(){if(!ar.categorical)return{v:void 0};var $t=ar.categorical;(function(ie,Y,fe,Be,Ze){var St,ct=ie.values;ct&&((0,d.Sr)(ie.categories,{visitRole:Rt=>{Ue(fe,Rt)}}),(0,d.vS)(ct,{visitRole:Rt=>{if(Ze.by=Rt,Rt.items)for(var kt of Rt.items)ke(Y,Rt.role,kt,!0),St=!0}}),(0,d.fl)(ct,{visitRole:(Rt,kt)=>{if(Ue(kt===d.QD.CategoricalValueGroup?Ze.select:Be,Rt),Rt.items)for(var Ht of Rt.items)ke(Y,Rt.role,Ht,St)}}))})($t,Gt,ct,St,Rt),t.f.assert(()=>null==kt.dataVolume||null==$t.dataVolume||$t.dataVolume===kt.dataVolume,"If multiple dataVolumes are applied, they must match identically.  Otherwise, only the first dataVolume is taken."),null!=$t.dataVolume&&null==kt.dataVolume&&(kt.dataVolume=$t.dataVolume)};for(var ar of fe)if(tr=Ht())return tr.v;var He=Ze?[...Ze]:[],Mt=Y;for(var Bt in Gt){var ze=Gt[Bt];if(!_.isEmpty(ze.categoryAndValueGroup)&&!_.isEmpty(ze.categoryOnly))for(var st of ze.categoryAndValueGroup){var Lt=st.roleItem,Qt=Z(Mt,Lt.queryName,st.roleName);Lt.queryName=Qt.newQueryName,Mt=Qt.newQuery,He.push(...Qt.rewriteRecords)}}return{query:Mt,mappings:[{metadata:fe[0].metadata,categorical:kt}],queryRewrites:_.isEmpty(He)?void 0:He,additionalProjections:Be}}(ie);return fe=function(ie){if(_.isEmpty(ie.additionalProjections))return ie;var{query:Y,mappings:fe,queryRewrites:Be}=ie,Ze=[...ie.additionalProjections];t.f.assertValue(Y,"query"),t.f.assert(()=>1===fe.length,"Mappings should have been merged already");for(var ct=G.findActive(fe[0]),St=Be?[...Be]:[],Rt=Y,kt=0;kt<Ze.length-1;kt++)for(var Gt=Ze[kt],Ht=kt+1;Ht<Ze.length;Ht++){var tr=Ze[Ht];if(se(Gt,tr,Rt.select(),ct)){var ar=Z(Rt,tr.queryName);Rt=ar.newQuery,St.push(...ar.rewriteRecords??[]),Ze[Ht]={...tr,queryName:ar.newQueryName}}}return{query:Rt,mappings:fe,queryRewrites:_.isEmpty(St)?void 0:St,additionalProjections:Ze}}(fe),fe}}(Ze)),!0)}adjustIntersectionDataReduction(Y,fe,Be,Ze){if(fe.categorical){var ct=fe.categorical;if(ct.dataReductionAlgorithm)if(Y.DataReduction&&Y.DataReduction.Intersection)t.f.assert(()=>!(Y.Secondary&&!Y.Primary),"Should never have only a Secondary axis"),Y.Primary&&!Y.Secondary&&(t.f.assert(()=>!Y.DataReduction.Primary,"Should not have both Primary and Intersection data reduction"),Y.DataReduction.Primary=Y.DataReduction.Intersection,Y.DataReduction.Intersection=void 0);else{var St=Y.Primary&&(!Y.DataReduction||!Y.DataReduction.Primary),Rt=Y.Secondary&&(!Y.DataReduction||!Y.DataReduction.Secondary);if(!St&&!Rt)return;Y.DataReduction||(Y.DataReduction={DataVolume:ct.dataVolume||(Ze?je.High:je.Default)}),St&&(Y.DataReduction.Primary=(0,n.P)(ct.dataReductionAlgorithm,Be.select())),Rt&&(Y.DataReduction.Secondary=(0,n.P)(ct.dataReductionAlgorithm,Be.select()))}}}applyDataReductionForGroupByQuery(Y,fe){Y.DataReduction={},Y.DataReduction.Primary=(0,n.P)({top:{count:1e3}},fe.select())}generateScriptVisualCommand(Y,fe){t.f.assertValue(Y,"dataViewMappings");var Be=(0,m.Hc)(Y);if(Be||(Be=(0,m.QB)(Y)),!Be)return null;var Ze={Version:M.Version0,Script:Be.source,RenderingEngine:Be.provider,ScriptOutputType:Be.outputType};fe&&fe.height&&fe.width&&(Ze.ViewportWidthPx=fe.width,Ze.ViewportHeightPx=fe.height);var ct=(0,m.oy)(Y);return ct&&ct.script.scriptInput&&(Ze.ScriptInput=ct.script.scriptInput),{ScriptVisualCommand:Ze}}queryHasMeasureFilter(Y){for(var fe of Y.where())if((0,c._)(fe.condition)===p.Ld.Measure)return!0;return!1}removeExprFromTargetExprs(Y,fe){for(var Be of Y){var Ze=Be.target;if(null!=Ze)for(var ct=0,St=Ze.length;ct<St;ct++)(0,i.fS)(Ze[ct],fe)&&Ze.splice(ct,1)}}processTargetsForMeasureFilters(Y,fe,Be){t.f.assertValue(Y,"query"),t.f.assertValue(fe,"mappings"),t.f.assertAnyValue(Be,"binding");var Ze=this.getProjectedSelectIndexMap(Be);for(var ct of fe)(0,d.oF)(ct,{visitRole:St=>{var Rt=St.activeItems,kt=St.items;if(Rt&&!_.isEmpty(Rt)&&!_.isEmpty(kt))for(var Gt=_.findIndex(kt,Bt=>_.includes(Rt,Bt.queryName)),Ht=0;Ht<Gt;Ht++){var tr=kt[Ht].queryName,ar=Y.select(),He=(0,a.g2)(ar,tr);if(!Ze[He]){var Mt=ar[He].expr;this.removeExprFromTargetExprs(Y.where(),Mt)}}}})}adjustQueryMeasureFilters(Y,fe){var Be=Y.where(),Ze=[],ct=[];if(_.isEmpty(fe.Primary.Groupings)||_.isEmpty(fe.Primary.Groupings[0].Projections)||!_.isEmpty(fe.Secondary))return Y;var St=Y.select(),Rt=fe.Primary.Groupings[0].Projections;for(var kt of Rt)if(!(0,Ee.k)(St[kt].expr))return Y;for(var Ht of Be)_.isEmpty(Ht.target)?ct.push(Ht):Ze.push(Ht);if(_.isEmpty(Ze))return Y;var tr=Y.createModified({where:ct}),ar=C.yl.fromMeasureFilters(Y,Ze,fe);return tr.addSemanticFilter(ar)}getProjectedSelectIndexMap(Y){return t.f.assertAnyValue(Y,"binding"),Y?_.chain([Y.Primary,Y.Secondary]).filter(Be=>Be&&!_.isEmpty(Be.Groupings)).map(Be=>Be.Groupings).flatten().filter(Be=>!_.isEmpty(Be.Projections)).map(Be=>Be.Projections).flatten().reduce((Be,Ze)=>(Be[Ze]=!0,Be),{}).value():{}}createDataQuery(Y,fe,Be,Ze,ct,St,Rt,kt,Gt){var Ht={Query:this.serializer.serializeQuery(Y),Binding:Ze,AnchorTime:kt};fe&&(Ht.Extension=fe),Be&&(Ht.DataSourceVariables=Be),Rt&&(Ht.ExecutionMetricsKind=Rt);var ar={Commands:[{SemanticQueryDataShapeCommand:Ht}]},He=this.generateScriptVisualCommand(ct,St);return He&&ar.Commands.push(He),_.isEmpty(Gt)||(Ht.Query.VisualShape=Gt),ar}}function Ot(ie,Y,fe,Be,Ze,ct,St,Rt,kt,Gt,Ht,tr,ar,He){t.f.assertValue(Y,"indicesByName"),t.f.assertValue(fe,"mapping"),t.f.assertValue(Be,"querySelects"),t.f.assertAnyValue(Ze,"additionalProjections"),t.f.assertAnyValue(ct,"highlightFilter"),t.f.assertAnyValue(St,"restartToken"),t.f.assertAnyValue(Rt,"queryGroupBy"),t.f.assertAnyValue(kt,"highVolumeOverride"),t.f.assertAnyValue(Gt,"expansionStates"),t.f.assertAnyValue(Ht,"serializer");var Mt=ie();if(Mt.withRestartToken(St).withHighlightFilter(ct).withAdditionalProjections(Ze).withRolesWithHierarchicalGroupingSupport(He),fe.table?Mt=Mt.withGroupBy(Rt):t.f.assert(()=>_.isEmpty(Rt),"GroupBy should only be used with table mapping."),fe.updateType!==l.Ky.MetadataOnly)if(fe.categorical)!function(ie,Y,fe){t.f.assertValue(ie,"builder"),t.f.assertValue(Y,"mapping"),(0,d.Sr)(Y.categories,{visitRole:Be=>{ie.withPrimaryGroupingNestedByRole(Be.items,Be.activeItems,Be.showAll,Be.subtotalType,!0,fe,Be.role)},visitReduction:Be=>{ie.withPrimaryDataReduction(Be)}}),(0,d.vS)(Y.values,{visitRole:Be=>{ie.withSecondaryGroupingNestedByRole(Be.items,Be.activeItems,Be.showAll,Be.subtotalType,fe,Be.role)},visitReduction:Be=>{ie.withSecondaryDataReduction(Be)}}),(0,d.fl)(Y.values,{visitRole:(Be,Ze)=>{ie.withCurrentInnermostPrimaryGrouping(Be.items,Be.showAll,Be.subtotalType,Ze!==d.QD.CategoricalValueGroup)}}),ie.withIntersectionDataReduction(Y.dataReductionAlgorithm).withDataVolume(Y.dataVolume).withIncludeEmptyGroups(Y.includeEmptyGroups)}(Mt,fe.categorical,tr);else if(fe.table)!function(ie,Y){t.f.assertValue(ie,"builder"),t.f.assertValue(Y,"mapping"),(0,d.vV)(Y,{visitRole:fe=>{ie.withPrimaryGroupingNestedByRole(fe.items,fe.activeItems,fe.showAll,fe.subtotalType,!0,!1,fe.role)},visitReduction:fe=>{ie.withPrimaryDataReduction(fe)}}),ie.withDataVolume(Y.dataVolume)}(Mt,fe.table);else if(fe.matrix)!function(ie,Y,fe,Be,Ze){t.f.assertValue(ie,"builder"),t.f.assertValue(Y,"mapping");var ct=new dt(ie,Be);(0,d.Ay)(Y.rows,ct),t.f.assert(()=>!fe||fe.length<=1,"Expected max one expansion state");var St=function(ie,Y,fe,Be,Ze){if(null!=ie&&(t.f.assertValue(ie,"items"),t.f.assertAnyValue(Y,"activeProjections"),!(_.isEmpty(Be)||_.isEmpty(Y)&&Ze))){var ct=_.find(Be,kt=>_.isEqual(kt.roles,fe));if(t.f.assertValue(ct,"Expansion state should have been found since only 1 is supported"),!_.isEmpty(ct.levels))return ie=_.uniqBy(ie,kt=>kt.queryName),Y=_.uniq(Y),B(ct,(_.isEmpty(Y)?ie.length:Y.length)-1)}}(ct.primaryRoleItems,ct.primaryActiveRoleItems,ct.primaryRoles,fe,Be);St&&ie.withPrimaryExpansion(St),Ze&&ie.withPrimaryWindowExpansion(Ze),(0,d.yL)(Y.columns,{visitRole:Rt=>{ie.withSecondaryGroupingNested(Rt.items,Rt.activeItems,Rt.showAll,Rt.subtotalType,Be)},visitReduction:Rt=>{ie.withSecondaryDataReduction(Rt)}}),(0,d.hw)(Y.values,{visitRole:Rt=>{ie.withCurrentInnermostGrouping(Rt.items,Rt.showAll,Rt.subtotalType)}}),ie.withDataVolume(Y.dataVolume),ie.withIncludeEmptyGroups(Y.includeEmptyGroups)}(Mt,fe.matrix,Gt,tr,ar);else if(fe.tree)!function(ie,Y,fe){t.f.assertValue(ie,"builder"),t.f.assertValue(Y,"mapping"),(0,d.Dt)(Y.nodes,{visitRole:Be=>{ie.withPrimaryGroupingNested(Be.items,Be.activeItems,Be.showAll,Be.subtotalType,fe)},visitReduction:Be=>{ie.withPrimaryDataReduction(Be)}}),(0,d.nA)(Y.values,{visitRole:Be=>{ie.withCurrentInnermostPrimaryGrouping(Be.items,Be.showAll,Be.subtotalType)}}),ie.withDataVolume(Y.dataVolume)}(Mt,fe.tree,tr);else if(fe.scriptResult)return Ot(ie,Y,fe.scriptResult.dataInput,Be,Ze);return kt&&Mt.withDataVolume(kt),Mt.withTopLevelAggregates(fe.scopedAggregates),Mt.toQueryShape(fe)}class dt{constructor(Y,fe){this.inComposite=!1,this.startedCompositeNest=!1,this.builder=Y,this.noDefaultProjections=fe}visitRole(Y,fe){if(fe===d.QD.MatrixRowsScopedValue)this.builder.withCurrentInnermostPrimaryGrouping(Y.items,Y.showAll,Y.subtotalType,!0);else if(this.inComposite){var Be=this.startedCompositeNest;this.startedCompositeNest=!0,this.builder.withPrimaryGroupingNestedByRole(Y.items,Y.activeItems,Y.showAll,Y.subtotalType,Be,this.noDefaultProjections,Y.role)}else this.builder.withPrimaryGroupingNested(Y.items,Y.activeItems,Y.showAll,Y.subtotalType,this.noDefaultProjections);this.primaryRoleItems||(this.primaryRoleItems=[]),this.primaryRoles||(this.primaryRoles=[]),this.primaryRoles.push(Y.role),this.primaryRoleItems.push(...Y.items||[]),_.isEmpty(Y.activeItems)||(this.primaryActiveRoleItems||(this.primaryActiveRoleItems=[]),this.primaryActiveRoleItems.push(...Y.activeItems||[]))}visitReduction(Y){this.builder.withPrimaryDataReduction(Y)}enterComposite(Y){this.inComposite=!0,this.startedCompositeNest=!1,this.compositeGroupingIndexStart=this.builder.primaryGroupingCount}exitComposite(Y){if(this.inComposite=!1,this.startedCompositeNest=!1,Y.dataReductionAlgorithm||Y.synchronized){var fe=this.compositeGroupingIndexStart,Be=this.builder.primaryGroupingCount;if(fe<Be){var Ze=_.range(fe,Be);Y.synchronized&&this.builder.withPrimarySynchronization({Groupings:Ze}),Y.dataReductionAlgorithm&&this.builder.withScopedDataReduction(Y.dataReductionAlgorithm,{Primary:Ze})}}}}function ce(ie){t.f.assertValue(ie,"query");for(var Y={},fe=ie.select(),Be=ie.groupBy(),Ze=0,ct=fe.length;Ze<ct;Ze++)Y[fe[Ze].name]=Ze;for(var St=0,Rt=Be.length;St<Rt;St++)Y[Be[St].name]=St;return Y}function be(ie,Y){if(t.f.assertValue(ie,"projectionIdx"),t.f.assertAnyValue(Y,"axis"),Y)for(var fe of Y.Groupings)if(_.includes(fe.Projections,ie))return!0}function de(ie){t.f.assertValue(ie,"percentile");var Y={K:ie.k};return ie.exclusive&&(Y.Exclusive=ie.exclusive),{Percentile:Y}}class Pe{get primaryGroupingCount(){return this.primary&&this.primary.Groupings&&this.primary.Groupings.length||0}constructor(Y,fe,Be,Ze,ct){this.projectVisualCalculationContext=ct,t.f.assertValue(Y,"indicesByName"),t.f.assertValue(fe,"querySelects"),this.indicesByName=Y,this.querySelects=fe,this.reduction={DataVolume:je.Default},this.joinPredicateBehaviors=[],this.insertProjection=Be?a.Gz:a.yg,this.featureSwitches=Ze||{},this.hiddenProjections=[]}withRestartToken(Y){return t.f.assertAnyValue(Y,"restartToken"),this.restartToken=Y,this}withPrimaryWindowExpansion(Y){return t.f.assertAnyValue(Y,"windowExpansion"),this.reduction.Primary&&this.reduction.Primary.TopNPerLevel&&(this.reduction.Primary.TopNPerLevel.WindowExpansion=F(Y)),this}withDataVolume(Y){return t.f.assertAnyValue(Y,"dataVolume"),null==Y||(this.reduction.DataVolume=Y),this}withIncludeEmptyGroups(Y){return t.f.assertAnyValue(Y,"value"),this.includeEmptyGroups=Y,this}withHighlightFilter(Y){return t.f.assertAnyValue(Y,"value"),this.highlightFilter=Y,this}withGroupBy(Y){return t.f.assertAnyValue(Y,"queryGroupBy"),_.isEmpty(Y)||(this.groupByNames=_.map(Y,fe=>fe.name)),this}withPrimaryGrouping(Y,fe,Be,Ze,ct,St){if(t.f.assertAnyValue(Y,"items"),t.f.assertAnyValue(fe,"activeProjection"),t.f.assertAnyValue(Be,"showAll"),t.f.assertAnyValue(Ze,"roleSubtotalType"),t.f.assert(()=>!this.secondary,"DataShapeBindingBuilder is sequence dependent -- must not add primary items after secondary items."),Y=this.filterItems(Y,fe,St),_.isEmpty(Y))return this;var Rt;this.primary?ct?Rt=_.last(this.primary.Groupings):this.primary.Groupings.push(Rt={Projections:[]}):this.primary={Groupings:[Rt={Projections:[]}]},this.updateGrouping(Rt,Y,Be,Ze);var kt=this.getAggregatesForRoleItems(Y);return this.applyTopLevelAggregates(kt),this}withPrimaryExpansion(Y){return t.f.assertAnyValue(Y,"expansion"),this.ensurePrimaryAxis(),this.primary.Expansion=Y,this}withPrimarySynchronization(Y){return t.f.assertValue(Y,"synchronization"),this.ensurePrimaryAxis(),this.primary.Synchronization||(this.primary.Synchronization=[]),this.primary.Synchronization.push(Y),this}ensurePrimaryAxis(){this.primary||(this.primary={Groupings:[]})}ensureSecondaryAxis(){this.secondary||(this.secondary={Groupings:[]})}withPrimaryGroupingNested(Y,fe,Be,Ze,ct){return t.f.assertAnyValue(Y,"items"),t.f.assertAnyValue(fe,"activeProjection"),t.f.assertAnyValue(Be,"showAll"),t.f.assertAnyValue(Ze,"roleSubtotalType"),t.f.assert(()=>!this.secondary,"DataShapeBindingBuilder is sequence dependent -- must not add primary items after secondary items."),Y=this.filterItems(Y,fe,ct),_.isEmpty(Y)?this:(this.primary||(this.primary={Groupings:[]}),this.withNested(this.primary.Groupings,Y,Be,Ze))}withSecondaryGrouping(Y,fe,Be,Ze,ct){if(t.f.assertAnyValue(Y,"items"),t.f.assertAnyValue(fe,"activeProjection"),t.f.assertAnyValue(Be,"showAll"),t.f.assertAnyValue(Ze,"roleSubtotalType"),Y=this.filterItems(Y,fe,ct),_.isEmpty(Y))return this;var St;if(this.primary){var Rt=_.last(this.primary.Groupings);this.containsAll(Rt,Y)?St=Rt:(this.secondary||(this.secondary={Groupings:[]}),this.secondary.Groupings.push(St={Projections:[]}))}else this.primary={Groupings:[St={Projections:[]}]},this.pivotedSecondaryToPrimary=!0;this.updateGrouping(St,Y,Be,Ze);var kt=this.getAggregatesForRoleItems(Y);return this.applyTopLevelAggregates(kt),this}withSecondaryExpansion(Y){return t.f.assertAnyValue(Y,"expansion"),this.ensureSecondaryAxis(),this.secondary.Expansion=Y,this}withSecondaryGroupingNested(Y,fe,Be,Ze,ct){return t.f.assertAnyValue(Y,"items"),t.f.assertAnyValue(Be,"showAll"),t.f.assertAnyValue(Ze,"roleSubtotalType"),Y=this.filterItems(Y,fe,ct),_.isEmpty(Y)?this:(this.primary?(this.secondary||(this.secondary={Groupings:[]}),St=this.secondary.Groupings):(this.primary={Groupings:St=[]},this.pivotedSecondaryToPrimary=!0),this.withNested(St,Y,Be,Ze));var St}withCurrentInnermostGrouping(Y,fe,Be){return t.f.assertAnyValue(Y,"items"),t.f.assertAnyValue(fe,"showAll"),t.f.assertAnyValue(Be,"roleSubtotalType"),Y=this.filterItems(Y,null,!1),_.isEmpty(Y)||(this.secondary&&(Ze=_.last(this.secondary.Groupings)),this.addValuesToGrouping(Y,fe,Be,Ze)),this;var Ze}withCurrentInnermostPrimaryGrouping(Y,fe,Be,Ze){if(t.f.assertAnyValue(Y,"items"),t.f.assertAnyValue(fe,"showAll"),t.f.assertAnyValue(Be,"roleSubtotalType"),Y=this.filterItems(Y,null,!1),_.isEmpty(Y))return this;if(this.addValuesToGrouping(Y,fe,Be),Ze)for(var ct of(this.primaryOnlyProjections=this.primaryOnlyProjections||[],Y))this.primaryOnlyProjections.push(this.indicesByName[ct.queryName]);return this}addValuesToGrouping(Y,fe,Be,Ze){Ze||(Ze=this.ensureInnermostPrimaryGrouping()),this.updateGrouping(Ze,Y,fe,Be);var ct=this.getAggregatesForRoleItems(Y);this.applyTopLevelAggregates(ct)}ensureInnermostPrimaryGrouping(){var Y;return this.primary?Y=_.last(this.primary.Groupings):this.primary={Groupings:[Y={Projections:[]}]},Y}withPrimaryDataReduction(Y){return Y&&this.primary?(this.reduction.Primary=(0,n.P)(Y,this.querySelects),this):this}withScopedDataReduction(Y,fe){return Y?(this.reduction.Scoped||(this.reduction.Scoped=[]),this.reduction.Scoped.push({Scope:fe,Algorithm:(0,n.P)(Y,this.querySelects)}),this):this}withSecondaryDataReduction(Y){if(this.pivotedSecondaryToPrimary)return this.withPrimaryDataReduction(Y);if(!Y||!this.secondary)return this;if(this.reduction.Scoped&&!_.isEmpty(this.secondary.Groupings)){var Be=_.range(0,this.secondary.Groupings.length);return this.withScopedDataReduction(Y,{Secondary:Be}),this}return this.reduction.Secondary=(0,n.P)(Y,this.querySelects),this}withIntersectionDataReduction(Y){return Y?this.reduction.Primary||this.reduction.Secondary?(t.f.assertFail("Should not have both Intersection and Primary or Secondary data reduction algorithm."),this):Y.binnedLineSample?(this.reduction.Intersection=(0,n.P)(Y,this.querySelects),this):this:this}withTopLevelAggregates(Y){if(!this.featureSwitches.scopedAggregates)return this;if(_.isEmpty(Y))return this;var Be=this.convertDataViewMappingAggregate(Y,ct=>this.toAggregateScope(ct,this.primary.Groupings,0)),Ze=this.getDataShapeBindingAggregates(Be);return this.applyTopLevelAggregates(Ze),this}toAggregateScope(Y,fe,Be){t.f.assertValue(Y,"scopeAsQueryNames"),t.f.assertValue(fe,"primaryGroupings");var Ze=0,ct=this.querySelects;for(var St of fe){if(!_.isEmpty(St.ShowItemsWithNoData))return;var Gt,Rt=St.Projections,kt=function(){var tr=ct[Ht];if((0,Ee.k)(tr.expr))return 0;var ar=tr.name;return Y.some(He=>He===ar)?void 0:Ze>Be?{v:{PrimaryDepth:Ze}}:{v:void 0}};for(var Ht of Rt)if(0!==(Gt=kt())&&Gt)return Gt.v;Ze++}if(Ze>Be)return{PrimaryDepth:Ze}}updateScopeAggregatesForGroupings(Y,fe){if(this.featureSwitches.scopedAggregates&&fe&&Y){var Ze=0;for(var ct of fe){var St=ct.aggregates&&ct.aggregates.filter(o.u5);if(!_.isEmpty(St)){var Rt=this.convertDataViewMappingAggregate(St,Gt=>this.toAggregateScope(Gt,Y,Ze+1)),kt=this.getDataShapeBindingAggregates(Rt);_.isEmpty(kt)||(Y[Ze].Aggregates=kt),Ze++}}}}getDataShapeBindingAggregates(...Y){var fe={};for(var Be of Y)_.forEach(Be,(Ze,ct)=>{var St=fe[ct]=fe[ct]||[],Rt=function(Gt){St.some(Ht=>_.isEqual(Ht,Gt))||St.push(Gt)};for(var kt of Ze)Rt(kt)});return _.map(fe,(Ze,ct)=>({Select:+ct,Aggregations:Ze}))}updateGrouping(Y,fe,Be,Ze){t.f.assertValue(Y,"grouping"),t.f.assertNonEmpty(fe,"items"),t.f.assertAnyValue(Be,"showAll"),t.f.assertAnyValue(Ze,"roleSubtotalType"),this.addProjections(Y.Projections,fe);var ct=this.indicesByName;if(Be)for(var St of(Y.ShowItemsWithNoData||(Y.ShowItemsWithNoData=[]),fe))this.insertProjection(Y.ShowItemsWithNoData,ct[St.queryName]);for(var Rt=fe[0].subtotalType,kt=1,Gt=fe.length;kt<Gt;kt++)if(fe[kt].subtotalType!==Rt){Rt=void 0;break}var Ht=function(ie){switch(ie){case g.F.Before:return s.Hj.Before;case g.F.After:return s.Hj.After;case g.F.None:return}}(Rt??Ze);null!=Ht?Y.Subtotal=Ht:this.projectVisualCalculationContext&&(Y.Subtotal=s.Hj.After);var tr=this.groupByNames;tr&&(Y.GroupBy=_.map(tr,ar=>ct[ar]))}withNested(Y,fe,Be,Ze){for(var ct of(t.f.assertValue(Y,"groupings"),t.f.assertValue(fe,"items"),t.f.assertAnyValue(Be,"showAll"),t.f.assertAnyValue(Ze,"roleSubtotalType"),fe)){var St={Projections:[]};this.updateGrouping(St,[ct],Be,Ze),Y.push(St)}this.updateScopeAggregatesForGroupings(Y,fe);var Rt=this.getAggregatesForRoleItems(fe);return this.applyTopLevelAggregates(Rt),this}filterItems(Y,fe,Be){if(t.f.assertAnyValue(Y,"items"),t.f.assertAnyValue(fe,"activeProjection"),!_.isEmpty(Y)){Y=_.uniqBy(Y,tr=>tr.queryName);var ct,Ze=this.indicesByName;fe&&(ct=[]);for(var St=0,Rt=Y.length;St<Rt;St++){var kt=Y[St],Gt=null,Ht=fe&&!_.isEmpty(fe)&&!_.includes(fe,kt.queryName);null==Ze[kt.queryName]?Gt=St-1:(Ht||this.isReferenced(kt))&&(Gt=St),null==Gt?ct&&ct.push(kt):ct||(ct=Gt<0?[]:(0,a.w6)(Y,0,Gt))}return ct||(Be?[]:Y)}}isReferenced(Y){t.f.assertValue(Y,"item");var fe=this.indicesByName[Y.queryName];return be(fe,this.primary)||be(fe,this.secondary)||_.includes(this.projections,fe)}containsAll(Y,fe){t.f.assertValue(Y,"grouping"),t.f.assertValue(fe,"items");var Be=Y.Projections,Ze=this.indicesByName;for(var ct of fe)if(!_.includes(Be,Ze[ct.queryName]))return!1;return!0}addProjections(Y,fe){t.f.assertValue(Y,"projections"),t.f.assertValue(fe,"items");var Be=this.indicesByName;for(var Ze of fe){var ct=Be[Ze.queryName];Ze.hidden&&this.hiddenProjections.push({QueryReference:{ExpressionName:Ze.queryName}}),this.insertProjection(Y,ct),this.addJoinPredicateBehavior(ct,Ze.joinPredicate)}}addJoinPredicateBehavior(Y,fe){this.joinPredicateBehaviors[Y]?void 0===fe&&!this.joinPredicateBehaviors[Y].isFinalized&&(this.joinPredicateBehaviors[Y].behavior=fe):this.joinPredicateBehaviors[Y]={behavior:fe}}withRolesWithHierarchicalGroupingSupport(Y){return t.f.assertAnyValue(Y,"rolesWithHierarchicalGroupingSupport"),_.isEmpty(Y)||(this.rolesWithHierarchicalGroupingSupport=Y),this}withPrimaryGroupingNestedByRole(Y,fe,Be,Ze,ct,St,Rt){return this.isRoleSupportHierachryGrouping(Rt)?this.withPrimaryGroupingNested(Y,fe,Be,Ze,St):this.withPrimaryGrouping(Y,fe,Be,Ze,ct,St)}isRoleSupportHierachryGrouping(Y){return this.rolesWithHierarchicalGroupingSupport&&this.rolesWithHierarchicalGroupingSupport.includes(Y)}withSecondaryGroupingNestedByRole(Y,fe,Be,Ze,ct,St){var Rt=_.filter(Y,kt=>!kt.hidden);return this.isRoleSupportHierachryGrouping(St)?this.withSecondaryGroupingNested(Rt,fe,Be,Ze,ct):this.withSecondaryGrouping(Rt,fe,Be,Ze,ct)}withAdditionalProjections(Y){return t.f.assertAnyValue(Y,"additionalProjections"),_.isEmpty(Y)||(this.additionalProjections=Y),this}applyAdditional(Y){var fe=this,Be=this.querySelects,Ze=this.additionalProjections,ct=G.findActive(Y);if(!_.isEmpty(Ze)){var St=this.primary,Rt=this.secondary,kt=this.projections,Gt=function(){var ar=(0,h.P6)(tr.selector?.data,Be,ct),He=fe.featureSwitches.rowHierarchySelector&&tr.selector?.hierarchyMatching===he.e.Partial;t.f.assert(()=>void 0!==ar,"scopeRefs !== undefined");var Mt=fe.indicesByName[tr.queryName],Bt=fe.convertProjectionAggregates(Mt,tr.aggregates);if(Bt&&fe.applyTopLevelAggregates([Bt]),null===ar)return tr.aggregates||(kt||(fe.projections=kt=[]),fe.insertProjection(kt,Mt),fe.addJoinPredicateBehavior(Mt,tr.joinPredicate)),0;var ze=_.map(ar,Mr=>fe.indicesByName[Mr]),st=Rt&&!_.isEmpty(Rt.Groupings),Lt=!!Y.categorical&&st&&fe.featureSwitches.categoricalSecondaryCF,Qt=Lt?Rt:St,$t=Lt?St:Rt,lr=ze.length,gr=St&&fe.addAdditional(Mt,ze,Qt,He);gr&&st&&Qt===St&&fe.addSuppressedProjection(_.last(Rt.Groupings),Mt);var _r=ze.length;gr||(gr=st&&fe.addAdditional(Mt,ze,$t,He))&&$t===St&&lr===_r&&fe.addSuppressedProjection(_.last(Rt.Groupings),Mt),gr&&fe.addJoinPredicateBehavior(Mt,tr.joinPredicate)};for(var tr of Ze)Gt()}}addAdditional(Y,fe,Be,Ze){t.f.assertValue(Y,"projectionIdx"),t.f.assertNonEmpty(fe,"remainingScopeRefs"),t.f.assertValue(Be,"axis"),t.f.assertNonEmpty(Be.Groupings,"groupings");for(var Rt,ct=Be.Groupings,St=!1,kt=0;kt<ct.length;kt++)if(Rt=ct[kt],St)this.addSuppressedProjection(Rt,Y);else if(_.remove(fe,Gt=>_.includes(Rt.Projections,Gt)),0===fe.length){if(!this.isProjectingOnNonLeafGrouping(kt,Be,Ze))return this.insertProjection(_.last(ct).Projections,Y),!0;this.insertProjection(Rt.Projections,Y),St=!0}return St}isProjectingOnNonLeafGrouping(Y,fe,Be){t.f.assertValue(fe,"axis"),t.f.assertNonEmpty(fe.Groupings,"groupings"),t.f.assert(()=>Y>=0&&Y<fe.Groupings.length,"out-of-bound projection target");var ct=fe.Groupings.length;return!(Y===ct-1||!Be&&(2!==ct||!fe.Synchronization))}addSuppressedProjection(Y,fe){this.projectVisualCalculationContext&&this.featureSwitches.visualCalculationOnComboChart?this.joinPredicateBehaviors[fe]={behavior:l.ps.None,isFinalized:!0}:(t.f.assertValue(Y,"grouping"),Y.SuppressedProjections||(Y.SuppressedProjections=[]),this.insertProjection(Y.SuppressedProjections,fe))}applyTopLevelAggregates(Y){_.isEmpty(Y)||(this.aggregates||(this.aggregates=[]),this.aggregates.push(...Y))}getAggregatesForRoleItems(Y){var fe=[];for(var Be of Y)Be.aggregates&&fe.push(this.convertDataViewMappingAggregate(Be.aggregates,Be.queryName));if(!_.isEmpty(fe))return this.getDataShapeBindingAggregates(...fe)}convertDataViewMappingAggregate(Y,fe){var Ze,ct,Be=this;_.isFunction(fe)?t.f.assertValue(ct=fe,"Need `getAggregateScope` when aggregates are scoped"):Ze=this.indicesByName[fe];var St={},Rt=function(Ht){var tr,ar;if((0,o.u5)(Ht)){if(!(ct&&(tr=Ht.queryName?Be.indicesByName[Ht.queryName]:Ze,ar=Ht.scope&&ct(Ht.scope))))return 0}else tr=Ze;t.f.assertValue(tr,"aggregate must provide a queryName or a defaultQueryName must be provided");var He=St[tr]=St[tr]||[],Mt=!!ar||void 0;t.f.assert(()=>Ht.min||Ht.max||Ht.average,"Aggregates must aggregate"),Ht.min&&He.push({Scope:ar,RespectInstanceFilters:Mt,Min:{}}),Ht.max&&He.push({Scope:ar,RespectInstanceFilters:Mt,Max:{}}),Ht.average&&He.push({Scope:ar,RespectInstanceFilters:Mt,Average:{}})};for(var Gt of Y)Rt(Gt);return _.isEmpty(St)?void 0:St}convertProjectionAggregates(Y,fe){if(t.f.assertValue(Y,"projectionIdx"),t.f.assertAnyValue(fe,"aggregates"),fe){var Be=[],Ze={Select:Y,Aggregations:Be};if(fe.min&&Be.push({Min:{}}),fe.max&&Be.push({Max:{}}),fe.average&&Be.push({Average:{}}),fe.median&&Be.push({Median:{}}),fe.percentiles)for(var ct of fe.percentiles)Be.push(de(ct));return t.f.assert(()=>!_.isEmpty(Ze.Aggregations),"Some aggregates should be added to the query if projectionAggregates will be added to the data shape binding."),Ze}}suppressProjectionsIfNeeded(){if(!_.isEmpty(this.primaryOnlyProjections)&&this.secondary){var Y=_.last(this.secondary.Groupings);for(var fe of this.primaryOnlyProjections)this.addSuppressedProjection(Y,fe)}}toQueryShape(Y){this.applyAdditional(Y),this.suppressProjectionsIfNeeded();var fe=this.primary,Be=this.projections;if(!fe){if(!Be)return;fe={Groupings:[{Projections:Be}]},Be=null}var Ze=this.restartToken;if(Ze){var ct=!1;if(this.reduction.Primary&&this.reduction.Primary.Window&&(this.reduction.Primary.Window.RestartTokens=Ze,ct=!0),this.reduction.Scoped){for(var St of this.reduction.Scoped)St.Algorithm.Window&&(t.f.assert(()=>!ct,"Only 1 scoped window is allowed at this time"),St.Algorithm.Window.RestartTokens=Ze,St.Algorithm.Window.RestartMatchingBehavior=s.Y0.IsAfter,ct=!0);t.f.assert(()=>ct,"A restartToken was present but it wasn't assigned to any window.")}}var Rt={Primary:fe};this.secondary&&(Rt.Secondary=this.secondary),Be&&(Rt.Projections=Be),(this.reduction.Primary||this.reduction.Secondary||this.reduction.Intersection||this.reduction.Scoped)&&(Rt.DataReduction=this.reduction),this.includeEmptyGroups&&(Rt.IncludeEmptyGroups=this.includeEmptyGroups);var kt=this.aggregates;kt&&(Rt.Aggregates=kt);for(var Gt=[],Ht=0;Ht<this.joinPredicateBehaviors.length;Ht++)if(this.joinPredicateBehaviors[Ht]&&this.joinPredicateBehaviors[Ht].behavior===l.ps.None){var tr=this.querySelects[Ht]?.expr;(!tr||!(0,r.jX)(tr))&&Gt.push(Ht)}if(_.isEmpty(Gt)||(Rt.SuppressedJoinPredicates=Gt),!this.projectVisualCalculationContext&&!_.isEmpty(this.hiddenProjections)){var ar=_.flatMap(this.additionalProjections,He=>_.isEmpty(He.relatedQueryNames)?[He.queryName]:He.relatedQueryNames);Rt.HiddenProjections=_.filter(this.hiddenProjections,He=>!_.includes(ar,He.QueryReference.ExpressionName))}return Rt.Version=s.yc.Version1,this.highlightFilter&&(Rt.Highlights=this.highlightFilter),this.pivotedSecondaryToPrimary&&(Rt.isPivoted=this.pivotedSecondaryToPrimary),Rt}}function We(ie,Y){return[new yt,new mt(ie,Y),new et]}class yt extends S.b{visitScopedEval(Y){return _.isEmpty(Y.scope)?Y:(0,y.ed)(Y.expression,_.filter(Y.scope,fe=>!(0,r.DB)(fe)))}}class et extends S.b{visitGroupRef(Y){return new y.Wh(Y.source,Y.ref)}}class mt extends S.b{constructor(Y,fe){super(),this.mappings=Y,this.selects=fe}visitScopedEval(Y){var fe=this,Be=[],Ze=!1;for(var ct of Y.scope)if((0,r.yL)(ct))for(var St of(Ze=!0,this.mappings)){var kt=G.findActive(St)[ct.role];if(kt){var Gt=function(tr){var ar=_.find(fe.selects,He=>He.name===tr);ar&&Be.push(ar.expr)};for(var Ht of kt)Gt(Ht)}}else Be.push(ct);return Ze?(0,y.ed)(Y.expression,_.uniqBy(Be,tr=>R.ib.serializeExpr(tr))):Y}}},283667:function(ve,j,e){e.d(j,{KI:function(){return s}});var r=e(650543),i=e(442407),a=e(785585),t=e(899631),l=e(517909),g=e(574826),n=e(803205);class p{constructor(D){this.elements=D,this.currentIndex=-1}reset(D){this.currentIndex=-1,D&&(r.f.assert(()=>this.elements!==D,"Resetting with same elements"),this.elements=D)}count(){return _.size(this.elements)}current(){return r.f.assert(()=>this.currentIndex>=0,"Invalid Iterator index"),this.elements[this.currentIndex]}done(){return this.currentIndex===_.size(this.elements)-1}next(){return!this.done()&&(this.currentIndex++,!0)}index(){return this.currentIndex}}function s(P,D){return new d(P,D)}class d{constructor(D,w){this.dsrParserContext=w,r.f.assertValue(D,"dsr"),r.f.assertAnyValue(w,"dsrParserContext"),this.parser=new c(D.DS,this.dsrParserContext)}dataShapes(){return this.parser}reset(){this.parser.reset()}lockCache(){this.dsrParserContext.locked||(this.dsrParserContext.locked=!0)}}var o=function(P){return P[P.DataShape=1]="DataShape",P[P.DataMemberInstance=2]="DataMemberInstance",P[P.Intersection=3]="Intersection",P}({});class v{constructor(D){this.calculationContainerKind=D,this.nullValuesHandler=new f,this.repeatedValuesHandler=new b}initialize(D,w){this.lastContainerCalculations=w,this.repeatedValuesHandler.initialize(D&&D.R,w),this.nullValuesHandler.initialize(D&&D.\u00d8)}getCurrentCalc(D,w,M,A){return r.f.assert(()=>D>=0,"unexpected position input"),M?void 0!==(R=this.repeatedValuesHandler.tryRead(D))?R:void 0!==(R=this.nullValuesHandler.tryRead(D))?(this.lastContainerCalculations[D]=null,R):(w?w.next()&&(R=w.current(),this.lastContainerCalculations[D]=R):(r.f.assert(()=>!!A,"Unexpected calcId"),void 0===(R=M[A])&&(R=null),this.lastContainerCalculations[D]=R),R):(r.f.assert(()=>this.calculationContainerKind===o.Intersection,"Unexpected Empty DataShape/DataMemberInstance as calc container"),null);var R}}class m{constructor(D,w,M){this.context=D,this.calcMetadataCacheKey=M,this.baseCalculationParser=new v(w)}setCalculations(D){r.f.assertAnyValue(D,"calculationContainerParser:setCalculation calculationContainer can be any value"),this.calculationContainer=D;var w=this.context;if(w){var M=this.calcMetadataCacheKey,A=D.S;A&&(this.metadata=A,M&&!w.locked&&(w.memberInstanceCalcMetadataCache[M]=A),this.lastContainerCalculations||(this.lastContainerCalculations=new Array(A.length))),w.instancesCalcCache[M]&&(this.lastContainerCalculations=w.instancesCalcCache[M]),this.baseCalculationParser.initialize(D,this.lastContainerCalculations);var R=D.C;(A=this.getCalcMetadata())?this.calcMetadataIt=new p(A):this.calcMetadataIt&&this.calcMetadataIt.reset(),this.calcIt=_.size(R)>0?new p(R):void 0}}restartCalcs(){r.f.assertValue(this.calcMetadataIt,"restartCalcs called before setCalculations"),r.f.assertAnyValue(this.calcIt,"CalcIt is created only if Calcs are not included as properties"),this.calcIt&&this.calcIt.reset(),this.calcMetadataIt.reset(),delete this.dsrCalcValue}nextCalc(){var D=!1,w=this.calcMetadataIt;return w&&((D=w.next()||D)&&(this.dsrCalcValue=this.baseCalculationParser.getCurrentCalc(w.index(),this.calcIt,this.calculationContainer,this.calcId())),w.done()&&(this.context.instancesCalcCache[this.calcMetadataCacheKey]=this.lastContainerCalculations)),D||!1}calcId(){return this.metadata[this.calcMetadataIt.index()].N}getCalcMetadata(){var D=this.metadata;return D||(D=this.metadata=this.context.memberInstanceCalcMetadataCache[this.calcMetadataCacheKey]),D}calcValue(){var D=this.metadata[this.calcMetadataIt.index()],w=this.context.valueDictionaryHandler.getCalcValue(this.dsrCalcValue,D.DN,D.T);return void 0===w&&(w=(0,a.Yt)(this.dsrCalcValue,D.T)),w}calcValueAsExpr(){r.f.assert(()=>void 0!==this.dsrCalcValue,"Unexpected parsedCalcValue");var D=this.calcMetadataIt.current(),w=this.calcValue(),M=this.context.valueDictionaryHandler.getCalcValueExpr(w,this.dsrCalcValue,D.DN,D.T);return M||(M=(0,a.HL)(w,this.dsrCalcValue,D.T)),M}calcCount(){return this.calcMetadataIt?this.calcMetadataIt.count():this.calcIt?this.calcIt.count():0}}class c extends m{constructor(D,w,M){super(w,o.DataShape),this.parserContext=w,this.rootDataShape=M,r.f.assertValue(D,"dataShapes"),r.f.assertAnyValue(w,"parserContext"),this.it=new p(D)}reset(){this.it.reset()}index(){return this.it.index()}count(){return this.it.count()}next(){this.primaryHierarchyParser=this.secondaryHierarchyParser=this.messageParser=void 0;var D=this.it.next();if(D){var w=this.it.current();this.setCalculations(w),this.context&&(this.context.valueDictionaryHandler=new g.cd(w.ValueDicts||this.rootDataShape?.ValueDicts))}return D}id(){return this.it.current().N}nestedDataShapes(){var D=this;r.f.assertValue(this.context.primarySynchronizedGroups,"Reading Nested DataShapes other than Synchronized Groups ones is currently unsupported");var w=this.it.current(),M=w.DS;if(!_.isArray(M)||M.length<1)return{};var A={},R=function(N){var W=_.find(M,F=>F.N===N.dataShapeId);r.f.assertValue(W,"No DataShape with ID "+N.dataShapeId),W&&(A[W.N]=new c([W],N.context,D.rootDataShape||w))};for(var B of this.context.primarySynchronizedGroups)R(B);return A}primaryHierarchy(){if(r.f.assert(()=>null!=this.parserContext,"Parser Context is needed to parse DataShape Hierarchy"),!this.primaryHierarchyParser&&this.parserContext){var D=this.it.current().PH;this.primaryHierarchyParser=D&&new S(D,this.parserContext,n.pu.Primary,0)}return this.primaryHierarchyParser}secondaryHierarchy(){if(r.f.assert(()=>null!=this.parserContext,"Parser Context is needed to parse DataShape Hierarchy"),!this.secondaryHierarchyParser&&this.parserContext){var D=this.it.current().SH;this.secondaryHierarchyParser=D&&new S(D,this.parserContext,n.pu.Secondary,0)}return this.secondaryHierarchyParser}messages(){return!this.messageParser&&_.size(this.it.current().Msg)>0&&(this.messageParser=new y(this.it.current().Msg)),this.messageParser}hasRestartTokens(){return _.size(this.restartTokens())>0}restartTokens(){var D=this.it.current(),w=D.DW;return _.isEmpty(w)?D.RT:(r.f.assert(()=>1===w.length,"Multiple data windows are not yet handled"),w[0].RT)}complete(){var D=this.it.current(),w=D.DW;return _.isEmpty(w)?D.IC:(r.f.assert(()=>1===w.length,"Multiple data windows are not yet handled"),w[0].IC)}hasAllData(){return this.it.current().HAD}limitsExceeded(){return _.size(this.it.current().DLEx)>0}limits(){return this.limitsParser||(this.limitsParser=new C(this.it.current().DLEx)),this.limitsParser}}class C{constructor(D){r.f.assertValue(D,"limits"),this.it=new p(D)}next(){return this.it.next()}id(){return this.it.current().N}count(){return this.it.count()}}class y{constructor(D){r.f.assertValue(D,"dataShapeMessage"),this.it=new p(D)}next(){return this.it.next()}code(){return this.it.current().Code}severity(){return this.it.current().Severity}dsrMessage(){return new l.lp(this.it.current())}}class S{constructor(D,w,M,A){this.context=w,this.hierarchy=M,this.depth=A,r.f.assertValue(D,"dataMembers"),this.it=new p(D)}count(){return this.it.count()}reset(){this.it.reset(),this.dataMemberId=void 0}next(){this.instancesParser&&(this.instancesParser=void 0),this.dataMemberId&&(this.dataMemberId=void 0);var D=this.it.next();if(D){var w=this.dataMemberIdCache();if(_.size(w)>0){var M=this.it.current();for(var A of w[this.depth])M[A]&&(this.dataMemberId=A)}if(void 0===this.dataMemberId){var R=Object.keys(this.it.current());1===_.size(R)?this.dataMemberId=R[0]:r.f.assertFail("Unexpected DataMember with multiple properties. Cannot infer DataMemberId")}}return D}id(){return this.dataMemberId}dataMemberIdCache(){return this.hierarchy===n.pu.Primary?this.context.primaryDataMemberIdCache:this.context.secondaryDataMemberIdCache}instances(){if(!this.instancesParser){var D=this.it.current()[this.dataMemberId];this.instancesParser=D&&new h(D,this.context,this.id(),this.hierarchy,this.depth)}return this.instancesParser}}class h extends m{constructor(D,w,M,A,R){super(w,o.DataMemberInstance,M),this.parentDataMemberId=M,this.hierarchy=A,this.depth=R,r.f.assertValue(D,"instances"),this.it=new p(D)}next(){var D=this.it.next();if(D){var w=this.it.current();!this.context.locked&&!w.M&&this.hierarchy===n.pu.Secondary&&this.context.secondaryLeafDataMemberId.push(this.parentDataMemberId),this.setCalculations(w),this.dataMemberIt=void 0,this.intersectionParserDirty=!0,r.f.assert(()=>this.hierarchy!==n.pu.Secondary||!w.Intersections,"secondary hierarchy should not have any intersections")}return D}count(){return this.it.count()}currentIndex(){return this.it.index()}intersections(){if(!this.intersectionParser){this.intersectionParserDirty=!1;var D=this.it.current().X;return this.intersectionParser=D&&new E(D,this.context,this.parentDataMemberId)}return this.intersectionParserDirty?(this.intersectionParserDirty=!1,this.intersectionParser.reset(this.it.current().X),this.intersectionParser):this.intersectionParser}restartFlagKind(){return this.it.current().RF}restartKind(){return this.it.current().RK}members(){if(!this.dataMemberIt){var D=this.it.current().M;this.dataMemberIt=D&&new S(D,this.context,this.hierarchy,this.depth+1)}return this.dataMemberIt}}class E{constructor(D,w,M){this.context=w,this.parentDataMemberId=M,r.f.assertValue(D,"intersections"),this.it=new p(null),this.reset(D),this.baseCalculationParser=new v(o.Intersection),this.intersectionMeasureCount=_.size(this.context.intersectionMeasureToSelectIndex),this.expectedIntersectionCount=_.size(this.context.secondaryLeafDataMemberId);var A=w.dataMemberIdToMetadata[M];this.primaryMemberIsGroupMember=A.kind===n.g2.GroupMember,this.primaryDataMemberDepth=A.depth,r.f.assertValue(w.intersectionCalcMetadataCache,"context.intersectionCalcMetadataCache"),this.calcMetadataCache=w.intersectionCalcMetadataCache[M],!this.calcMetadataCache&&!w.locked&&(this.calcMetadataCache=w.intersectionCalcMetadataCache[M]=new Array(this.expectedIntersectionCount))}reset(D){this.it.reset(D),this.logicalIntersectionIndex=-1,this.physicalIntersectionIndex=-1,this.hasIntersectionElements=D.length>0}next(){if(this.resetCalcIt(),this.logicalIntersectionIndex++,this.logicalIntersectionIndex>=this.expectedIntersectionCount)return!1;if(this.setIntersectionId(),this.it.count()===this.expectedIntersectionCount){var D=this.it.next();return D&&this.initialize(this.it.current()),D}var w;return this.hasIntersectionElements&&((0===this.logicalIntersectionIndex||this.physicalIntersectionIndex<this.logicalIntersectionIndex)&&this.it.next()&&((w=this.it.current()).I||0===this.logicalIntersectionIndex?this.physicalIntersectionIndex=w.I||0:this.physicalIntersectionIndex++),this.physicalIntersectionIndex===this.logicalIntersectionIndex)?(w||(w=this.it.current()),this.initialize(w),!0):(this.initialize(),!0)}setIntersectionId(){this.intersectionId=this.parentDataMemberId+this.context.secondaryLeafDataMemberId[this.logicalIntersectionIndex]}resetCalcIt(D){var w=D&&D.C;this.currentCalcIndex=-1,this.currentCalc=void 0,this.calcIt=w?new p(w):void 0}initialize(D){if(r.f.assert(()=>this.logicalIntersectionIndex>=0,"Unexpected call to initialize IntersectionParser"),this.resetCalcIt(D),D){var w=D.S;if(w&&!this.context.locked){void 0===this.intersectionCalcCount&&(this.intersectionCalcCount=w.length),r.f.assert(()=>null==this.calcMetadataCache[this.logicalIntersectionIndex],"unexpected schema present for current logical intersection"),this.calcMetadataCache[this.logicalIntersectionIndex]=w;var M=this.context.calcIdToCalcMetadata;for(var A of w)M[A.N]=w}}this.calculationContainer=D;var R=this.context.lastIntersectionCalcCache[this.intersectionId];!R&&this.intersectionId&&(R=this.context.lastIntersectionCalcCache[this.intersectionId]=new Array(this.intersectionCalcCount)),this.baseCalculationParser.initialize(D,R);var B=this.getCalcMetadata();B&&(this.currentCalcMetadata=B,void 0===this.intersectionCalcCount&&(this.intersectionCalcCount=this.intersectionMeasureCount>0?this.currentCalcMetadata.length:0))}restartCalcs(){this.calcIt&&this.calcIt.reset(),this.currentCalcIndex=-1,delete this.currentCalc}nextCalc(){var D=++this.currentCalcIndex;return D<this.intersectionCalcCount?(this.currentCalc=this.baseCalculationParser.getCurrentCalc(D,this.calcIt,this.calculationContainer,this.calcId()),!0):(this.currentCalc=void 0,!1)}calcId(){return this.currentCalcMetadata[this.currentCalcIndex].N}getCalcMetadata(){r.f.assert(()=>this.logicalIntersectionIndex>=0,"getCalcMetadata can return metadata only for valid logical intersection");var D=this.calcMetadataCache[this.logicalIntersectionIndex];if(!D&&!this.context.locked){var w=this.getExpectedCalcId();w&&(D=this.calcMetadataCache[this.logicalIntersectionIndex]=this.context.calcIdToCalcMetadata[w])}return D}getExpectedCalcId(){if(0!==this.intersectionMeasureCount){var D=this.context,w=D.dataMemberIdToMetadata[D.secondaryLeafDataMemberId[this.logicalIntersectionIndex]],R=D.selects[this.currentCalcIndex<0?D.intersectionMeasureToSelectIndex[0]:D.intersectionMeasureToSelectIndex[this.currentCalcIndex]];if(w.kind===n.g2.GroupMember&&this.primaryMemberIsGroupMember)return R.Value;if(R.Subtotal){var B=t.A1.computeAggIdx(this.primaryDataMemberDepth,w.depth,D.maxPrimaryDepth,D.maxSecondaryDepth);return R.Subtotal.length>B&&R.Subtotal[B]}}}calcValue(){return null!=this.currentCalc?this.parseCalcValue(this.currentCalc):null}parseCalcValue(D){var w=this.calcMetadataCache[this.logicalIntersectionIndex][this.currentCalcIndex],M=this.context.valueDictionaryHandler.getCalcValue(D,w.DN,w.T);return void 0===M&&(M=(0,a.Yt)(D,w.T)),M}calcValueAsExpr(){if(void 0!==this.currentCalc)return this.parseCalcValueExpr(this.currentCalc,this.calcValue());if(this.it.index()===this.logicalIntersectionIndex){var D=this.calcValue();return null===D?(0,i.IF)():this.parseCalcValueExpr(this.it.current()[this.calcId()],D)}return(0,i.IF)()}parseCalcValueExpr(D,w){var M=this.calcMetadataCache[this.logicalIntersectionIndex][this.currentCalcIndex],A=this.context.valueDictionaryHandler.getCalcValueExpr(w,D,M.DN,M.T);return void 0===A&&(A=(0,a.HL)(w,D,M.T)),A}calcCount(){return this.calcIt?this.calcIt.count():0}}var u=(()=>{class P{initialize(w){this.value=w,this.overflowValue=w>P.MaxSignedNumberFor32Bits?function(P){var D=P.toString(2),w=D.substr(0,D.length-V);return parseInt(w,2)}(w):0}hasBitAtPosition(w){if(r.f.assert(()=>w>=0,"expected positive integer for position"),w>52)return!1;if(this.value>0){var M=0,A=this.value;return w<31?M=1<<w:(M=1<<w-31,A=this.overflowValue),(A&M)>0}}}return P.MaxSignedNumberFor32Bits=Math.pow(2,31)-1,P})();class f{constructor(){this.bitSequenceHandler=new u}initialize(D){this.bitSequenceHandler.initialize(D)}tryRead(D){if(this.bitSequenceHandler.hasBitAtPosition(D))return null}}class b{constructor(){this.bitSequenceHandler=new u}initialize(D,w){this.bitSequenceHandler.initialize(D),this.lastContainerCalculations=w}tryRead(D){if(this.bitSequenceHandler.hasBitAtPosition(D))return this.lastContainerCalculations[D]}}var V=31},479265:function(ve,j,e){e.d(j,{H:function(){return t}});var r=e(650543),i=e(442407),a=e(962238);class t extends a.Ml{visitColumnRef(g,n){if(g.hasGroupOnKeys(n)){var p=g.getConceptualProperty(n),s=g.getTargetEntity();return _.map(p.column.keys,d=>(0,i.Oh)(s,d.name))}return[g]}visitHierarchyLevel(g,n){var p=g.arg.getTargetEntity();if(!p)return[g];if(g.arg instanceof i.jE){var s,d=p.schema,o=g.arg;if(o.arg instanceof i.c7){var v=o.arg,m=n.schema(d).findTargetEntityOfVariation(p.entity,v.property,v.name);if(!m)return[g];s=(0,i.nw)(d,m.name)}else s=p,r.f.assert(()=>o.arg instanceof i.PN,".visitHierarchyLevel hierarchy should not contain anything other entity/variation source");var c=n.schema(d).findHierarchyLevel(s.entity,o.hierarchy,g.level);return this.visitColumnRef((0,i.Oh)(s,c.column.name),n)}return[g]}visitGroupRef(g,n){return this.visitColumnRef(g,n)}visitDefault(g){return r.f.assertFail("SelectToIdentityExpressionsVisitor should not have any other expressions to visit"),[g]}}},12149:function(ve,j,e){e.d(j,{Es:function(){return i},Xt:function(){return t},bt:function(){return a},cc:function(){return r}});var r=function(l){return l[l.Version1=1]="Version1",l[l.Version2=2]="Version2",l}({}),i=function(l){return l[l.MinorVersion1=1]="MinorVersion1",l}({}),a=function(l){return l[l.Append=0]="Append",l[l.Merge=1]="Merge",l}({}),t=function(l){return l[l.None=0]="None",l[l.Before=1]="Before",l[l.After=2]="After",l[l.BeforeAndAfter=3]="BeforeAndAfter",l}({})},941488:function(ve,j,e){e.d(j,{r:function(){return a}});var r=e(650543),i="noQueryName";class a{constructor(l,g,n,p){this.deepestNodeLevelInPath=-1,this.measures=g||[],this.dataMap=l||null,this.nodeIsCollapsed=n??null,this.nodeIndexes=p??[]}withCategory(l,g,n=!1){var p,s;return l&&l.source&&l.identity&&l.identity[g]&&(p=l.identity[g],s=l.source.queryName||i),this.addItemToDataMap(s,p),this}withSeries(l,g,n=!1){var p,s;return l&&l.source&&g&&(p=g.identity,s=l.source.queryName||i),this.addItemToDataMap(s,p),this}withMeasure(l){return this.measures.push(l),this}withMatrixNode(l,g,n=!1){if(!l)return this;var p,s,{isCollapsed:d,level:o,nodeIndex:v}=l;return l.identity&&g&&g[o]&&g[o].sources&&g[o].sources[0]&&(p=l.identity,s=g[o].sources[0].queryName||i),this.addItemToDataMap(s,p,d,o,v),this}withTable(l,g,n=!1){var p,s;return l&&l.identity&&null!=g&&(s=(p=l.identity[g])?JSON.stringify(p):i),this.addItemToDataMap(s,p),this}equals(l){var g=l;return!!(this.compareMeasures(this.measures,g.measures)&&this.compareMetadata(this.getSelector(),g.getSelector())&&this.compareMetadata(g.getSelector(),this.getSelector()))}createSelectionId(l){return this.key=JSON.stringify(this.dataMap)+JSON.stringify(this.measures),this}getKey(){return this.key}includes(l,g=!1){var n=l;return!!(!this.dataMap&&this.compareMeasures(this.measures,n.measures)||this.dataMap&&n.dataMap&&this.compareMetadata(this.getSelector(),n.getSelector()))}hasIdentity(){return!!this.dataMap}compareMeasures(l,g){if(l.length!==g.length)return!1;for(var n of g)if(-1===l.indexOf(n))return!1;return!0}compareMetadata(l,g){if(!l.data&&g.data||l.data&&!g.data)return!1;if(!l.data&&!g.data)return!0;var p,n=function(d){if(!g.data.some(o=>JSON.stringify(o)===JSON.stringify(d)))return{v:!1}};for(var s of l.data)if(p=n(s))return p.v;return!0}addItemToDataMap(l,g,n,p,s){if(g){this.dataMap||(this.dataMap={});var d=this.dataMap,o=d[l];if(null==o)return d[l]=[g],null!=n&&null!=p&&p>this.deepestNodeLevelInPath&&(this.nodeIsCollapsed=n,this.deepestNodeLevelInPath=p),void(null!=s&&this.nodeIndexes.push(s));o.push(g)}}getSelector(){var l=this,g={data:void 0,metadata:_.head(this.measures)};if(this.dataMap){g.data=[];var n=function(s){r.f.assert(()=>l.dataMap[s].length<=1,"dataMap can only have one selector per column"),g.data.push(l.dataMap[s][0])};for(var p in this.dataMap)n(p)}return g}getSelectorsByColumn(){return null}}},785585:function(ve,j,e){e.d(j,{H2:function(){return o},HL:function(){return C},K0:function(){return m},Yt:function(){return c},bE:function(){return v}});var r=e(333107),i=e(364419),a=e(650543),t=e(123975),l=e(32077),g=e(442407),n=e(248505),p=/''/g,s="base64'",d=/\.000'$/;function o(h){return y(h)}function v(h){return y(h,!0)}function m(h){if(!h)return null;if(_.startsWith(h,s)){var E=h.substring(s.length,h.length-1);try{return btoa(atob(E))}catch{return null}}return null}function c(h,E){if(a.f.assert(()=>void 0!==h,"Undefined dsrValue indicates a DSR parsing bug"),null===h)return null;switch(E){case r.M.Integer:return a.f.assert(()=>"string"==typeof h||"number"==typeof h,`Expected only string or number values for type ${E}`),"number"==typeof h?h:parseInt(h,10);case r.M.Decimal:case r.M.Double:return a.f.assert(()=>"string"==typeof h||"number"==typeof h,`Expected only string or number values for type ${E}`),"number"==typeof h?h:S(h);case r.M.DateTime:case r.M.Date:if(a.f.assert(()=>"string"==typeof h||"number"==typeof h,`Expected only string or number values for type ${E}`),"number"==typeof h){a.f.assert(()=>h>=0,`Expected positive miliseconds since UNIX epoch for type ${E}`);var u=new Date(h),f=new Date(u.getUTCFullYear(),u.getUTCMonth(),u.getUTCDate(),u.getUTCHours(),u.getUTCMinutes(),u.getUTCSeconds(),u.getUTCMilliseconds()),b=new Date(u.getTime()+6e4*f.getTimezoneOffset());return b.epochTimeStamp=h,b}var V=(0,i.Kk)(h);return V&&(0,t.Fg)(V);case r.M.Text:return a.f.assert(()=>"string"==typeof h,`Expected only string values for type ${E}`),h;case r.M.Boolean:return a.f.assert(()=>"number"==typeof h||"boolean"==typeof h,`Expected number or boolean values for type ${E}`),"number"==typeof h?1===h:h;case r.M.Variant:return a.f.assert(()=>"string"==typeof h||"boolean"==typeof h,`Expected only string or boolean values for type ${E}`),y(h);default:a.f.assertFail(`unsupported dsrValue for type ${E}`)}}function C(h,E,u){if(null===h)return(0,g.IF)();switch(u){case r.M.Integer:return"number"==typeof E?(0,g.cA)(+h):(0,g.f7)(l.o.Integer,+h,E.toString());case r.M.Decimal:return"number"==typeof E?(0,g.gH)(+h):(0,g.f7)(l.o.Decimal,+h,E.toString());case r.M.Double:return"number"==typeof E?(0,g.tx)(+h):(0,g.f7)(l.o.Double,+h,E.toString());case r.M.DateTime:case r.M.Date:return"number"==typeof E?new g.jz(n.Ge.fromExtendedType(l.o.DateTime),h):(0,g.f7)(l.o.DateTime,h,E.toString());case r.M.Text:return(0,g.fL)(h.toString());case r.M.Boolean:return(0,g.O7)(!!h);case r.M.Variant:return y(E,!0);default:a.f.assertFail(`unsupported dsrValue for type ${u}`)}}function y(h,E){var u=typeof h;if("string"===u){if(_.endsWith(h,"L")){var f=parseInt(h,10);return E?(0,g.cA)(f,h):f}if(_.endsWith(h,"D")){var b=S(h);return E?(0,g.tx)(b,h):b}if(_.endsWith(h,"M")){var V=S(h);return E?(0,g.gH)(V,h):V}if(_.endsWith(h,"'")){if("'"===h.charAt(0)){var T=h.substring(1,h.length-1).replace(p,"'");return E?(0,g.fL)(T,h):T}if(0===h.indexOf("datetime'")){var P=h.replace(d,"'"),D=h.substring(9,P.length-1),w=(0,i.Kk)(D);return E?(0,g.CQ)(w,P):w}}if("null"===h)return E?(0,g.IF)():null;if("true"===h)return!E||(0,g.O7)(!0);if("false"===h)return!!E&&(0,g.O7)(!1)}return"boolean"===u?E?(0,g.O7)(h):h:null===h?E?(0,g.IF)():null:h}function S(h){var E=parseFloat(h);return isNaN(E)?parseFloat(h.replace("INF","Infinity")):E}},587402:function(ve,j,e){e.d(j,{P:function(){return t},p:function(){return a}});var r=e(650543),i=e(333107);function a(l){switch(l){case i.M.Null:return"Null";case i.M.Text:return"Text";case i.M.Decimal:return"Decimal";case i.M.Double:return"Double";case i.M.Integer:return"Integer";case i.M.Boolean:return"Boolean";case i.M.Date:return"Date";case i.M.DateTime:return"DateTime";case i.M.DateTimeZone:return"DateTimeZone";case i.M.Time:return"Time";case i.M.Duration:return"Duration";case i.M.Binary:return"Binary";case i.M.None:return"None";case i.M.Variant:return"Variant";case i.M.Json:return"Json";default:throw r.f.assertNever(l)}}function t(l){switch(l){case"Null":return i.M.Null;case"Text":return i.M.Text;case"Decimal":return i.M.Decimal;case"Double":return i.M.Double;case"Integer":return i.M.Integer;case"Boolean":return i.M.Boolean;case"Date":return i.M.Date;case"DateTime":return i.M.DateTime;case"DateTimeZone":return i.M.DateTimeZone;case"Time":return i.M.Time;case"Duration":return i.M.Duration;case"Binary":return i.M.Binary;case"None":return i.M.None;case"Variant":return i.M.Variant;case"Json":return i.M.Json;default:throw r.f.assertNever(l)}}},984375:function(ve,j,e){e.d(j,{Db:function(){return d},Tq:function(){return o},Ui:function(){return v},dq:function(){return s},if:function(){return m},vH:function(){return p}});var r=e(60978),i=e(650543),a=e(726988),t=e(810331),l=e(442407),g=e(247425),n=e(832573);function p(E){i.f.assertValue(E,"changes");for(var u=[],f=0,b=E.length;f<b;f++){var V=E[f];V.measureMove&&u.push(s(V.measureMove)),V.entityRename&&u.push(d(V.entityRename)),V.propertyRename&&u.push(o(V.propertyRename)),V.hierarchyLevelRename&&u.push(v(V.hierarchyLevelRename))}return u}function s(E){return i.f.assertValue(E,"measureMove"),new C(E)}function d(E){return i.f.assertValue(E,"entityRename"),new c(E)}function o(E){return i.f.assertValue(E,"propertyRename"),new y(E)}function v(E){return i.f.assertValue(E,"hierarchyLevelRename"),new S(E)}function m(E){return i.f.assertValue(E,"setSchemaMeasure"),new h(E)}class c extends g.b{constructor(u){i.f.assertValue(u,"change"),super(),this.change=u}visitColumnRef(u){if(i.f.assertValue(u,"expr"),(0,r.Lk)(u.source)||(0,r.jv)(u.source)){var f=u.source.accept(this);return f!==u.source?new l.Wh(f,u.ref):u}return u}visitEntity(u){var f=this.change;return u.schema===f.schema&&u.entity===f.before?new l.PN(u.schema,f.after,u.variable):u}visitSubqueryRef(u){if(i.f.assertValue(u,"expr"),u.query){var f=u.query.rewrite(this);return f!==u.query?new l.wb(f):u}return u}}class C extends g.b{constructor(u){i.f.assertValue(u,"change"),super(),this.change=u}visitMeasureRef(u){var f=this.change,b=(0,a.Um)((0,t.Q)(u));if(i.f.assertValue(b,"fieldPattern"),b.schema===f.schema&&b.entity===f.source&&u.ref===f.property){var V=new l.PN(b.schema,f.destination);return new l.UY(V,f.property)}return u}visitSubqueryRef(u){if(u.query){var f=u.query.rewrite(this);return f!==u.query?new l.wb(f):u}return u}}class y extends g.b{constructor(u){i.f.assertValue(u,"change"),super(),this.change=u}visitColumnRef(u){if(i.f.assertValue(u,"expr"),(0,r.jv)(u.source)){var f=u.source.accept(this);return f!==u.source?new l.Wh(f,u.ref):u}if((0,r.PA)(u.source))return u;var b=this.change;return this.matches(b,u)?new l.Wh(u.source,b.after):u}visitMeasureRef(u){var f=this.change;return this.matches(f,u)?new l.UY(u.source,f.after):u}visitGroupRef(u){var f=u,b=this.change;this.matches(b,u)&&(f=new l.qg(b.after,u.source,u.groupedExprs));var V=_.map(u.groupedExprs,T=>T.accept(this));return n.m.sequenceEqual(V,u.groupedExprs)||(f=new l.qg(f.ref,f.source,V)),f}visitHierarchy(u){i.f.assertValue(u,"expr"),i.f.assertValue(u.arg,"expr.arg");var f=u.arg.accept(this);if(f!==u.arg)return new l.jE(f,u.hierarchy);var b=this.change;return this.hierarchyMatches(b,u)?new l.jE(u.arg,b.after):u}visitPropertyVariationSource(u){i.f.assertValue(u,"expr");var f=this.change;return this.variationMatches(f,u)?new l.c7(u.arg,u.name,f.after):u}visitSubqueryRef(u){if(i.f.assertValue(u,"expr"),u.query){var f=u.query.rewrite(this);return f!==u.query?new l.wb(f):u}return u}variationMatches(u,f){i.f.assertValue(u,"change"),i.f.assertValue(f,"expr");var b=f.arg;return i.f.assert(()=>b instanceof l.PN,"entityExpr"),b.schema===u.schema&&b.entity===u.entity&&f.property===u.before}hierarchyMatches(u,f){i.f.assertValue(u,"change"),i.f.assertValue(f,"expr");var b=f.arg;if((0,r.Lk)(b))return"Hierarchy"===u.objectType&&b.schema===u.schema&&b.entity===u.entity&&f.hierarchy===u.before}matches(u,f){i.f.assertValue(u,"change"),i.f.assertValue(f,"expr");var b=(0,a.Um)((0,t.Q)(f));return i.f.assertValue(b,"fieldPattern"),b.schema===u.schema&&b.entity===u.entity&&f.ref===u.before}}class S extends g.b{constructor(u){i.f.assertValue(u,"change"),super(),this.change=u}visitHierarchyLevel(u){i.f.assertValue(u,"expr"),i.f.assertValue(u.arg,"expr.arg");var f=this.change;return this.matches(f,u)?new l.vD(u.arg,f.after):u}matches(u,f){i.f.assertValue(u,"change"),i.f.assertValue(f,"expr");var b=(0,t.Q)(f);if(i.f.assertValue(b,"fieldPattern"),!b.columnHierarchyLevelVariation){var V=(0,a.Um)(b);i.f.assertValue(V,"fieldEntityPattern");var T=f.arg;return i.f.assertValue(T,"hierarchyExpr"),V.schema===u.schema&&V.entity===u.entity&&T.hierarchy===u.hierarchy&&f.level===u.before}}}class h extends g.b{constructor(u){i.f.assertValue(u,"change"),super(),this.change=u}visitMeasureRef(u){var f=this.change,b=(0,a.Um)((0,t.Q)(u));if(i.f.assertValue(b,"fieldPattern"),b.schema!==f.schema&&b.entity===f.entity&&u.ref===f.name){var V=new l.PN(f.schema,f.entity);return new l.UY(V,f.name)}return u}}},152323:function(ve,j,e){e.d(j,{L:function(){return r}});var r=function(i){return i[i.Version0=0]="Version0",i[i.Version1=1]="Version1",i[i.Version2=2]="Version2",i}({})},867658:function(ve,j,e){e.d(j,{r:function(){return v}});var r=e(349672),i=e(650543),a=e(395918),t=e(695795),l=e(833059),g=e(841708),n=e(941597),p=e(932625),o=e(301336);function v(y,S,h,E,u){return new c(y,S,h,E,u)}class m extends Error{constructor(S){super(S),this.name="ConceptualSchemaCacheExistsError"}}class c{constructor(S,h,E,u,f){this.stopCommunicationHandlers=[],this.resumeCommunicationHandlers=[],i.f.assertValue(S,"promiseFactory"),i.f.assertValue(h,"dataReaderProvider"),i.f.assertValue(E,"featureSwitchService"),this.promiseFactory=S,this.dataReaderProvider=h,this.featureSwitchService=E,this.telemetryService=u,this.validator=f,this.individualConceptualSchemaCache={},this.mergedConceptualSchemaCache={}}get(S,h){var E=this;i.f.assertNonEmpty(S,"dataSources");var u=this.featureSwitchService&&this.featureSwitchService.featureSwitches&&this.featureSwitchService.featureSwitches.telemetryV2;if(!S)return this.promiseFactory.reject({clientError:{code:"DataSourcesUndefined"}},u);var f=this.generateSchemaKey(S),b=this.mergedConceptualSchemaCache[f];if(this.isSchemaPaused(b))return this.promiseFactory.reject(this.getPauseReason(b),u);if(b&&b.promise)return h&&h.setProperty("isConceptualSchemaCached",!0),o.b$.ensurePromiseError(b.promise,"ConceptualSchemaProxy.execute {{status}}");var V=this.promiseFactory.defer(u),T={deferred:V,promise:V.promise};this.mergedConceptualSchemaCache[f]=T,T.promise.then(()=>delete T.deferred,()=>delete this.mergedConceptualSchemaCache[f]);var P=[],D=C(S),w=function(){var R=D[A],B=E.generateSchemaKey(R),N=E.individualConceptualSchemaCache[B];if(E.isSchemaPaused(N))return P.push(E.promiseFactory.reject(E.getPauseReason(N),u)),0;if(N)return P.push(N.promise),0;var W=E.promiseFactory.defer(u),F=W.promise;P.push(F),E.individualConceptualSchemaCache[B]={deferred:W,promise:F},F.finally(()=>{E.individualConceptualSchemaCache[B]&&delete E.individualConceptualSchemaCache[B].deferred}).catch(_.noop);var U=E.dataReaderProvider.schemaReader(A);if(!U)return i.f.assertFail(`No schema reader exists for data source type: ${A}`),W.reject({clientError:{code:"SchemaReaderUndefined"}}),0;U.execute({dataSources:R}).then(O=>E.onSuccess(U,O,B,W),O=>E.onError(U,O,B,W))};for(var A in D)w();return this.promiseFactory.all(P,u).then(R=>{var B=g.l.merge(R);this.validator&&this.validator.validate(B),T.result=B,V.resolve(B)}).catch(R=>{V.reject(R)}),o.b$.ensurePromiseError(T.promise,"ConceptualSchemaProxy.execute {{status}}")}preloadCache(S,h){var E=C(S),u=[];for(var f in E){var V=this.dataReaderProvider.schemaReader(f).transform(h);u.push(V.schema)}var T=this.generateSchemaKey(S);if(this.mergedConceptualSchemaCache[T])throw new m("Schema already exists in cache");var P=this.promiseFactory.defer(!1),D={deferred:P,promise:P.promise},w=g.l.merge(u);D.result=w,P.resolve(w),this.mergedConceptualSchemaCache[T]=D}getWithWireContract(S){return S&&_.uniqBy(S,h=>(0,n.wx)(h)).length>1?(i.f.assertFail("Cannot look up wire contract data across multiple data source types"),this.promiseFactory.reject()):this.get(S).then(h=>{var E=this.individualConceptualSchemaCache[this.generateSchemaKey(S)];if(E)return{data:E.data,contract:h}})}getLatestCapabilities(S,h){var E=C(S);for(var u in E){var b=this.generateSchemaKey(E[u]),V=this.individualConceptualSchemaCache[b];if(V&&V.result){var T=V.result.schema(h);if(T)return T.capabilities}}}clearCache(S,h){if(!h)return this.rejectPendingDeferred(S),this.individualConceptualSchemaCache={},void(this.mergedConceptualSchemaCache={});var E=C(h);for(var u in E){var f=E[u],b=this.generateSchemaKey(f),V=JSON.stringify(_.map(f,T=>T.id));this.telemetryService.logEvent(p.I7,{datasetIds:V,requestId:S&&S.requestId,reason:S&&S.clientError.code}),this.forSchemasContainingKey(this.individualConceptualSchemaCache,b,T=>{this.rejectPendingDeferred(S,T),delete this.individualConceptualSchemaCache[T]}),this.forSchemasContainingKey(this.mergedConceptualSchemaCache,b,T=>{delete this.mergedConceptualSchemaCache[T]})}}stopCommunication(S,h){var E,u,f={clientError:S};if(h){var b=C(h);for(var V in b)E=this.generateSchemaKey(b[V]),(u=this.individualConceptualSchemaCache[E])||(this.individualConceptualSchemaCache[E]=u={}),u.pauseReason=f,this.rejectPendingDeferred(f,E)}else this.pauseAllSchemasReason=f||{clientError:null},this.rejectPendingDeferred(f);for(var D of this.stopCommunicationHandlers)D()}resumeCommunication(S){var h;for(var E of(S?h=_.map(C(S),b=>this.generateSchemaKey(b)):(this.pauseAllSchemasReason=void 0,h=Object.keys(this.individualConceptualSchemaCache)),h))this.isSchemaPaused(this.individualConceptualSchemaCache[E])&&(delete this.individualConceptualSchemaCache[E],this.forSchemasContainingKey(this.mergedConceptualSchemaCache,E,b=>delete this.mergedConceptualSchemaCache[b]));for(var f of this.resumeCommunicationHandlers)f()}registerStopCommunicationHandlers(S){return this.stopCommunicationHandlers.push(S),()=>_.pull(this.stopCommunicationHandlers,S)}registerResumeCommunicationHandlers(S){return this.resumeCommunicationHandlers.push(S),()=>_.pull(this.resumeCommunicationHandlers,S)}isEmpty(S){var h=this;return(0,r.Z)(function*(){var E=yield h.get(S);return _.every(E.schemas,u=>_.isEmpty(u.entities)||h.isSystemEntity(u.entities))})()}isSystemEntity(S){return _.every(S,h=>(0,t.yE)(h.visibility,l.Ot.IsPrivate)||(0,t.yE)(h.visibility,l.Ot.ShowAsVariationsOnly))}isSchemaPaused(S){return!!this.pauseAllSchemasReason||S&&!S.promise}getPauseReason(S){return S&&S.pauseReason?S.pauseReason:this.pauseAllSchemasReason}rejectPendingDeferred(S,h){var E,u;for(var f in h?(E={})[h]=null:E=this.individualConceptualSchemaCache,E)(u=this.individualConceptualSchemaCache[f])&&(u.deferred&&u.deferred.reject(S),delete u.promise,delete u.deferred,this.forSchemasContainingKey(this.mergedConceptualSchemaCache,f,(b,V)=>{V.deferred&&V.deferred.reject(S),delete V.promise,delete V.deferred}))}onSuccess(S,h,E,u){var f=S.transform(h);if(f.error)this.onErrorCore(f,E,u);else{var b=this.individualConceptualSchemaCache[E];b&&(b.result=f.schema,b.data=h.data);var V=this.tryGetAdditionalIndividualCacheKey(E,f);V&&(this.individualConceptualSchemaCache[V]=b),u.resolve(f.schema)}}onError(S,h,E,u){var f=S.transform(h);this.onErrorCore(f,E,u)}onErrorCore(S,h,E){delete this.individualConceptualSchemaCache[h],S.error&&S.error.serviceError&&(S.error.clientError=new a.sI(S.error.serviceError),S.error.clientError.requestId=S.error.requestId),E.reject(S.error),this.forSchemasContainingKey(this.mergedConceptualSchemaCache,h,u=>{delete this.mergedConceptualSchemaCache[u]})}tryGetAdditionalIndividualCacheKey(S,h){var E=h.schema.schemas;if(E){i.f.assert(()=>1===E.length,"schemas should be length 1");var u=E[0];if(u.cubeName){var f=JSON.parse(S);i.f.assert(()=>1===f.length,"key is length 1");var b=f[0];if(i.f.assert(()=>u.name===b.name,"names should be same"),!b.perspectiveId)return b.perspectiveId=u.cubeName,this.generateSchemaKey([b])}}}forSchemasContainingKey(S,h,E){var u=JSON.parse(h);for(var f of u)for(var b in S){var V=JSON.parse(b);for(var T of V)f.id===T.id&&f.name===T.name&&f.type===T.type&&E(b,S[b])}}generateSchemaKey(S){return i.f.assertValue(S,"dataSources"),JSON.stringify(_.chain(S).map(h=>({id:h.id,name:h.name,type:(0,n.wx)(h),perspectiveId:h.perspectiveId,objectId:h.objectId})).orderBy(["type","name","id","perspectiveId"]).value())}}function C(y){return _.groupBy(y,S=>(0,n.wx)(S))}},516148:function(ve,j,e){e.d(j,{Az:function(){return m},Fu:function(){return o},M2:function(){return v}});var r=e(929248),i=e(621244),a=e(844668),t=e(264431),l=e(877542),g=e(507950),n=e(650543),p=e(62414),s=e(932625),d=e(84838);function o(h,E){return!(!h.query||!E.query)&&h.type===E.type&&h.kinds===E.kinds&&h.perfId===E.perfId&&h.query.allowResultFromClientCache===E.query.allowResultFromClientCache&&h.query.allowClientSideFilters===E.query.allowClientSideFilters&&h.query.cacheResponseOnServer===E.query.cacheResponseOnServer&&h.query.ignoreViewportForCache===E.query.ignoreViewportForCache&&(0,p.fS)(h.query.cacheOptions,E.query.cacheOptions)&&(0,p.fS)(h.query.command,E.query.command)&&(0,p.fS)(h.query.dataSources,E.query.dataSources)}function v(h,E,u){return new C(h,E,u)}var m=(h,E,u,f)=>new y(h,E,u);class C{constructor(E,u,f){this.promiseFactory=E,this.dataReaderProvider=u,this.dataReaders={},this.telemetryService=f}execute(E){return n.f.assertValue(E,"options"),this.getReader(E.type).execute(E.query,E.kinds,E.perfId)}getReader(E){var u=this.dataReaders[E];if(u)return u;var f=this.dataReaderProvider.reader(E);return n.f.assertValue(f,`Could not find data reader for type: ${E}`),this.dataReaders[E]=new S(E,f,this.promiseFactory,this.telemetryService)}stopCommunication(E){this.getReader(E).stopCommunication()}resumeCommunication(E){this.getReader(E).resumeCommunication()}clearCache(E,u){this.getReader(E).clearCache(u)}rewriteCacheEntries(E,u,f){this.getReader(E).rewriteCacheEntries(u,f)}setLocalCacheResult(E,u){return this.getReader(E.type).setLocalCacheResult(E.query,u)}}class y{constructor(E,u,f){this.proxy=E,this.promiseFactory=u,this.timeoutService=f}execute(E){var u=this.lastExecute;if(u&&u.promise.pending()){if(o(E,u.query)){var f=(0,i.U)(u.deferred);return f.matchesLastExecuteQuery=!0,f}this.lastExecute.ended=!0,this.lastExecute.promise.reject(new t.hC(l.lX.NewQuery))}var b=E&&E.query&&E.query.telemetryV2Enabled,V=this.promiseFactory.defer(b),T=(0,i.U)(V),P=this.lastExecute={query:E,deferred:V,promise:T,ended:!1};if(!this.queuedExecution){this.queuedExecution=!0;var D=0,w=()=>{this.queuedExecution=!1;var A=this.lastExecute;if(A&&!A.ended){var R=this.proxy.execute(A.query);R.then(B=>{A.ended?A.deferred.reject():A.deferred.resolve(B)},B=>{if(B instanceof g.XV){if(D<3)return++D,void w();d.fM.information("Async query returned not-found three times - giving up")}A.deferred.reject(B)}),A.promise.catch(B=>R.reject(B))}};this.timeoutService.setTimeout(!0===E.isColdLoad?-1:0,b).promise.then(w).catch(()=>{})}return T.finally(()=>{P.ended=!0,P===this.lastExecute&&(this.lastExecute=void 0)}).catch(()=>{}),T}cancelQuery(E){var u=this.lastExecute;u&&u.promise.pending()&&(u.ended=!0,u.promise.reject(E===l.lX.PausedQuery?new t.xs:new t.hC(E)))}}class S{constructor(E,u,f,b){n.f.assertAnyValue(E,"pluginName"),n.f.assertValue(u,"reader"),n.f.assertValue(f,"promiseFactory"),n.f.assertValue(b,"telemetryService"),this.name=E,this.reader=u,this.promiseFactory=f,this.telemetryService=b}execute(E,u,f){n.f.assertValue(E,"options"),n.f.assertAnyValue(f,"perfId");var b=this.promiseFactory.defer(E.telemetryV2Enabled),V=this.reader;if(V.execute){var T=V.execute(E,f);T.then(D=>{if(D){var w=this.transform(D,u,f,E.performanceActivity),M=w.error;if(w.performanceActivities&&M&&(M.performanceActivities=w.performanceActivities),M)return b.reject(M),void this.telemetryService.logEvent(s.zT,{requestId:D.requestId,isError:!0,errorSource:a.zH.PowerBI,errorCode:M.code});b.resolve({dataReaderResult:w,dataViewSource:{data:D}})}else b.reject(new g.C6),this.telemetryService.logEvent(s.zT,{isError:!0,errorSource:a.zH.PowerBI,errorCode:"DataProxy_EmptyData"})},D=>{b.reject(D),(!D||!D.ignorable)&&this.telemetryService.logEvent(s.zT,{requestId:D?.requestId,isError:!0,errorSource:a.zH.PowerBI,errorCode:D?D.code:"DataProxy_ProviderError"})}).catch(D=>{b.reject(D)});var P=(0,i.U)(b);return P.catch(D=>{D=D||new g._W,T.reject(D)}),P}return E.command?b.resolve({dataReaderResult:this.transform(E.command,u,f)}):b.reject(),(0,i.U)(b)}stopCommunication(){var E=this.reader;E.stopCommunication&&E.stopCommunication()}resumeCommunication(){var E=this.reader;E.resumeCommunication&&E.resumeCommunication()}clearCache(E){var u=this.reader.cache;u&&u.clear(E)}rewriteCacheEntries(E,u){var f=this.reader.cache;f&&f.rewrite(E,u)}setLocalCacheResult(E,u){var f=this.reader;f.setLocalCacheResult&&f.setLocalCacheResult(E,u)}transform(E,u,f,b){var V=this.reader;if(V.transform)return V.transform(E,u||r.m.All,f,b);var T={metadata:{columns:[]}};return T[this.name]=E,{dataView:T}}}},507950:function(ve,j,e){e.d(j,{C6:function(){return l},Kd:function(){return t},XV:function(){return n},_W:function(){return g},cp:function(){return p},qc:function(){return a}});var r=e(858859),i=e(264431);class a{constructor(d){this.innerError=d,this.code="QueryPipelineError",this.eventFactory=r.mN,this.ignorable=!!d?.ignorable}getDetails(d){return{message:"",displayableErrorInfo:[]}}}class t{get code(){return"FailedRealTimeUpdate"}get ignorable(){return!1}getDetails(d){return{message:d.get("Realtime_UpdateFailedValue"),displayableErrorInfo:[{errorInfoKey:d.get("Realtime_UpdateFailedKey"),errorInfoValue:d.get("Realtime_UpdateFailedValue")}],debugErrorInfo:[{errorInfoKey:i.zd,errorInfoValue:this.code}]}}}class l{get code(){return"EmptyData"}get ignorable(){return!1}getDetails(d){return{message:d.get("ServiceError_CannotLoadVisual"),displayableErrorInfo:[{errorInfoKey:d.get("ServiceError_ExecuteSemanticQueryErrorKey"),errorInfoValue:d.get("InvalidDataFormat_DataFormatIsInvalid")}],debugErrorInfo:[{errorInfoKey:i.zd,errorInfoValue:this.code}]}}}class g{get code(){return"InvalidDataResponse"}get ignorable(){return!1}getDetails(d){return{message:d.get("ServiceError_CannotLoadVisual"),displayableErrorInfo:[{errorInfoKey:d.get("ServiceError_ExecuteSemanticQueryErrorKey"),errorInfoValue:d.get("InvalidDataResponse_ServerError")}],debugErrorInfo:[{errorInfoKey:i.zd,errorInfoValue:this.code}]}}}var n=(()=>{class s{get code(){return s.Code}get ignorable(){return!1}getDetails(o){return{message:o.get("ServiceError_CannotLoadVisual"),displayableErrorInfo:[{errorInfoKey:o.get("ServiceError_ExecuteSemanticQueryErrorKey"),errorInfoValue:o.get("ServerError_DM_GWPipeline_Gateway_GenericTimeoutException_Title")}],debugErrorInfo:[{errorInfoKey:i.zd,errorInfoValue:this.code}]}}}return s.Code="AsyncResultNotFound",s})(),p=(()=>{class s{get code(){return n.Code}get ignorable(){return!1}getDetails(o){return{message:o.get("ServiceError_CannotLoadVisual"),displayableErrorInfo:[{errorInfoKey:o.get("ServiceError_ExecuteSemanticQueryErrorKey"),errorInfoValue:o.get("ServerError_DM_GWPipeline_Gateway_GenericTimeoutException_Title")}],debugErrorInfo:[{errorInfoKey:i.zd,errorInfoValue:this.code}]}}}return s.Code="AsyncResultTimedOut",s})()},171599:function(ve,j,e){e.d(j,{ON:function(){return v},Om:function(){return p},aU:function(){return m}});var r=e(929248),i=e(650543),a=e(695795),t=e(191282),l=e(34842),g=e(402623),n=e(762329);class p{static getDataPointsDescription(S,h){if(S&&!_.isEmpty(h)){var E=this.getDataViewKind(S),u=[];for(var f of h){var b=this.query([S],f,E,[],!0),V=(0,t.tV)(f);u.push({selector:V,values:b})}return u}}static getDataViewKind(S){var h=r.m.None;if(S.matrix)h=r.m.Matrix;else if(S.table)h=r.m.Table;else{if(!S.categorical)return void i.f.assertFail("DataViewQueryEngine for this call doesnt support dataView other than categorical/table/matrix");h=r.m.Categorical}return h}static query(S,h,E,u,f){if(_.isEmpty(S)||!h)return[];var V,b=(0,t.gU)(h);if(_.some(b,B=>!(0,t.yN)(B)))return[];V=u&&!f?u:h.metadata;var T=[];if((0,a.yE)(E,r.m.Table))for(var P of S){var D=new o(h,V,f);c(P.table,D),T.push(...D.valueDetails||[])}else if((0,a.yE)(E,r.m.Categorical))for(var w of S){var M=new s(h,V,f);m(w,M),T.push(...M.valueDetails||[])}else if((0,a.yE)(E,r.m.Matrix))for(var A of S){var R=new d(h);C(A.matrix,R),T.push(...R.valueDetails||[])}return T}}class s{constructor(S,h,E){this.ignoreQueryName=E,this.requestedValues=h,this.identities=(0,t.gU)(S),this.valueDetails=[]}visitCategoryColumns(S,h){var E=this;if(!_.isEmpty(S)){var u=function(b){if(E.ignoreQueryName||_.includes(E.requestedValues,b.source.queryName))for(var V=0;V<b.identity.length;V++){var T=b.identity[V];if(_.includes(E.identities,T)){var P=_.find(h.columns,D=>D.index===b.source.index);E.valueDetails.push({identity:T,value:b.values[V],expr:P.expr,formattedValue:(0,n.WU)(b.values[V],b.source.format)});break}}};for(var f of S)u(f)}}visitValueColumnGroups(S,h){if(!_.isEmpty(S)&&h&&(this.ignoreQueryName||_.includes(this.requestedValues,h.queryName)))for(var E of S)if(_.includes(this.identities,E.identity))return void this.valueDetails.push({value:E.name,formattedValue:(0,n.WU)(E.name,h.format),expr:h.expr,identity:E.identity})}visitValueColumn(S){return!!_.isEmpty(this.requestedValues)||_.includes(this.requestedValues,S.source.queryName)}visitValue(S,h,E,u,f){v(this.identities,h.data)||this.valueDetails.push({expr:E.expr,value:S,formattedValue:(0,n.WU)(S,E.format),identity:_.head(h.data)})}}class d{constructor(S){this.valueDetails=[],this.identitiesToSearch=(0,t.gU)(S)}visitHierarchy(S){for(var h=S.root;h&&h.children&&this.identitiesToSearch.length>0;)h=this.searchNode(h,S.levels)}searchNode(S,h){for(var E of this.identitiesToSearch)for(var u of S.children)if(u.identity===E){var f=u.levelValues,b=h[u.level||0];if(!_.isEmpty(f))for(var V of f){var T=b.sources[V.levelSourceIndex||0];this.valueDetails.push({expr:T.expr,identity:E,value:V.value,formattedValue:(0,n.WU)(V.value,T.format)})}return _.remove(this.identitiesToSearch,E),u}}}class o{constructor(S,h,E){this.ignoreQueryName=E,this.requestedValues=h,this.identities=(0,t.gU)(S),this.valueDetails=[],this.requestedColumnsIndices=[]}visitColumn(S,h){(this.ignoreQueryName||S.isMeasure&&(_.isEmpty(this.requestedValues)||_.includes(this.requestedValues,S.queryName)))&&this.requestedColumnsIndices.push(h)}visitRow(S,h){if(i.f.assertAnyValue(S.rows[h],"A row for this rowIndex does not exist"),!S.identity||!v(this.identities,[S.identity[h]]))for(var u of this.requestedColumnsIndices){var f=S.rows[h][u],b=S.columns[u];this.valueDetails.push({expr:b.expr,value:f,formattedValue:(0,n.WU)(f,b.format),identity:S.identity&&S.identity[h]})}}}function v(y,S){if(y){var E,h=function(f){if(!_.some(S,b=>(0,g.fS)(f,b)))return{v:!0}};for(var u of y)if(E=h(u))return E.v}return!1}function m(y,S){var h=y.categorical;if(i.f.assertAnyValue(S,"visitor should be defined"),h&&!_.isEmpty(h.values)){var E=(0,l.zq)(h);S.visitCategoryColumns(E,y.metadata);var u=_.head(h.categories),f=u&&_.clone(u.identity),b=h.values.grouped();for(var V of(S.visitValueColumnGroups(b,h.values.source),b)){var T=V.identity;for(var P of V.values)if(S.visitValueColumn(P))for(var D=Object.keys(P.values),w=0;w<D.length;w++){var A=P.values[D[w]],B={data:f?[f[w]]:[],metadata:P.source.queryName};T&&B.data.push(T),S.visitValue(A,B,P.source,h.categories,w)}}}}function c(y,S){if(i.f.assertAnyValue(S,"visitor should be defined"),y&&!_.isEmpty(y.rows)){for(var h=y.columns,E=0;E<h.length;E++)S.visitColumn(h[E],E);for(var u=0;u<y.rows.length;u++)S.visitRow(y,u)}}function C(y,S){y&&(y.rows&&S.visitHierarchy(y.rows),y.columns&&S.visitHierarchy(y.columns))}},967445:function(ve,j,e){e.d(j,{D:function(){return t},m:function(){return a}});var r=e(402623),i=e(11864);function a(l){return{scopeId:i.ib.serializeExpr(l.expr)}}function t(l){if(l.scopeId){var g=i.ib.deserializeExpr(l.scopeId);if(g)return(0,r.TZ)(g)}}},889162:function(ve,j,e){e.d(j,{m8:function(){return d},mc:function(){return o},qC:function(){return g},vB:function(){return n}});var r=e(650543),i=e(281210),a=e(56604),t=e(248505),l={get:h=>h,getOptional:h=>h,format:h=>h};function g(h,E){r.f.assertValue(h,"objectDescriptors");var u={};for(var f in h)u[f]=p(h[f],E||l);return u}function n(h){r.f.assertValue(h,"wireObjectDescriptors");var E={};for(var u in h)E[u]=s(h[u]);return E}function p(h,E){if(h){var u={properties:{}};for(var f in h.displayName&&(u.displayName=(0,i.G)(h.displayName,E)),h.description&&(u.description=(0,i.G)(h.description,E)),h.properties)u.properties[f]=d(h.properties[f],E);return u}}function s(h){var E={properties:{}};for(var u in h.displayName&&(E.displayName=(0,i.V)(h.displayName)),h.description&&(E.description=(0,i.V)(h.description)),h.properties)E.properties[u]=o(h.properties[u]);return E}function d(h,E){var u={type:v(h.type,E)};return h.rule&&(u.rule=h.rule),h.displayName&&(u.displayName=(0,i.G)(h.displayName,E)),h.description&&(u.description=(0,i.G)(h.description,E)),h.placeHolderText&&(u.placeHolderText=(0,i.G)(h.placeHolderText,E)),u}function o(h){var E={type:m(h.type)};return h.displayName&&(E.displayName=(0,i.V)(h.displayName)),h.description&&(E.description=(0,i.V)(h.description)),h.placeHolderText&&(E.placeHolderText=(0,i.V)(h.placeHolderText)),h.rule&&(E.rule=h.rule),E}function v(h,E){var u=t.Ge.fromDescriptor(h);return u&&u.enum?{enumeration:C(u.enum,E)}:u?.flagsEnum?{flagsEnumeration:C(u.flagsEnum,E)}:h}function m(h){return t.Ge.fromDescriptor(h)?function(h){var E;if(h.enumeration)E={enumeration:y(h.enumeration)};else if(h.flagsEnumeration)E={flagsEnumeration:y(h.flagsEnumeration)};else for(var f in E={},h)E[f]=h[f];return E}(h):h}function C(h,E){return _.map(h.members(),u=>function(h,E){return{displayName:(0,i.G)(h.displayName,E),value:h.value}}(u,E))}function y(h){return(0,a.i)(h)}},996302:function(ve,j,e){e.d(j,{PU:function(){return Se},wN:function(){return Q},kO:function(){return q},Rg:function(){return ot},OT:function(){return be},L1:function(){return Ve},UU:function(){return Z},JF:function(){return ft},iz:function(){return te},kg:function(){return Ae},un:function(){return x},CA:function(){return L},kS:function(){return z},B6:function(){return rt},W7:function(){return We},xF:function(){return Fe},N$:function(){return Ue},Vg:function(){return ce},UZ:function(){return qe},OR:function(){return X},U9:function(){return dt},bI:function(){return re},kW:function(){return ae}});var r=e(896286),i=e(333107),a=e(990297),t=e(650543),l=e(84838),g=e(553962),n=e(537830),p=e(191282),s=e(719242),d=e(123916),o=e(532370),v=e(29706),m=e(759162),c=e(914094),C=e(442407),y=e(353230),S=e(338898),h=e(581130),E=e(428776),u=e(436043),f=e(853450),b=e(248505),V=e(967445),T=function(ze){return ze.Callout="callout",ze.Highlight="highlight",ze}({});function P(ze){var st=ze.kind;if(!st)return!1;switch(st){case g.q.AnnotationTemplate:case g.q.Icon:case g.q.ExprList:case g.q.ErrorRange:case g.q.ItemLocation:return!0;default:t.f.assertNever(st)}return!1}var k,M=e(755529),A=e(128451),R=e(11864),B=b.Ge.fromDescriptor({bool:!0}),N=b.Ge.fromDescriptor({numeric:!0}),W=b.Ge.fromDescriptor({integer:!0}),F=b.Ge.fromDescriptor({text:!0}),U={fill:{solid:{color:!0}}};function x(ze,st){var Lt=ze&&ze[st];if(Lt){for(var Qt,$t=0,lr=Lt.length;$t<lr;$t++){var gr=Lt[$t];if(null==gr.selector){Qt=gr;break}}if(Qt)return Qt.properties}}function L(ze){return ze&&"ExprContext"===ze.propertyDefinitionKind}function z(ze){return _.isArray(ze)&&!!ze[0].dataMap}function q(ze,st,Lt,Qt="objects"){if(null!=ze)if(!_.isEmpty(ze)||(0,r.Jx)(ze)){var $t=st();if($t)Lt[Qt]=Q(ze,$t);else{var gr,lr=!1;Object.defineProperty(Lt,Qt,{enumerable:!0,get:()=>(lr||(lr=!0,gr=Q(ze,st())),gr),set:_r=>{lr=!0,gr=_r}})}}else Lt[Qt]={};else Lt[Qt]=void 0}function Q(ze,st){if(t.f.assertAnyValue(ze,"input"),t.f.assertAnyValue(st,"descriptors"),ze){!k&&!st&&(k=!0,l.fM.error("deserializeObjects called with no descriptors - ",!0));var Lt={};for(var Qt in ze){var $t=void 0;if(!st||($t=st[Qt]))for(var lr=ze[Qt],gr=Lt[Qt]=[],_r=0,Mr=lr.length;_r<Mr;_r++)gr.push(se(lr[_r],$t,!st))}return Lt}}function Z(ze){if(ze)return _.map(ze,Ve)}function X(ze){if(ze)return _.map(ze,qe)}function re(ze){if(ze)return{category:ze.categoryString,underlyingType:ze.extendedType}}function te(ze){if(ze)return new b.Ge(ze.underlyingType,ze.category)}function se(ze,st,Lt){if(t.f.assertAnyValue(ze,"input"),t.f.assertAnyValue(st,"descriptor"),ze){var Qt={properties:Ne(ze.properties,st?st.properties:null,Lt)},$t=Ve(ze.selector);return $t&&(Qt.selector=$t),Qt}}function Ve(ze){if(t.f.assertAnyValue(ze,"input"),null===ze)return null;if(ze){var st={};return ze.data&&(st.data=_.chain(ze.data).map(Lt=>we(Lt)).filter(Lt=>null!=Lt).value()),ze.metadata&&(st.metadata=ze.metadata),ze.id&&(st.id=ze.id),void 0!==ze.highlightMatching&&(st.highlightMatching=ze.highlightMatching),void 0!==ze.hierarchyMatching&&(st.hierarchyMatching=ze.hierarchyMatching),null!=ze.order&&(st.order=ze.order),st}}function ke(ze,st){return t.f.assertAnyValue(ze,"relatedObjects"),ze?Object.fromEntries(Object.entries(ze).map(([Lt,Qt])=>[Lt,Object.fromEntries(Object.entries(Qt).map(([$t,lr])=>[$t,lr.map(st)]))])):{}}function Ue(ze){return ke(ze,st=>qe(st))}function ot(ze){return ke(ze,st=>Ve(st))}function ft(ze){if(t.f.assertAnyValue(ze,"input"),ze){var st={};if(ze.dataMap)for(var Lt in st.dataMap={},ze.dataMap)st.dataMap[Lt]=_.chain(ze.dataMap[Lt]).map(Qt=>we(Qt)).filter(Qt=>null!=Qt).value();return ze.metadata&&(st.metadata=ze.metadata),ze.id&&(st.id=ze.id),st}}function Ct(ze,st,Lt){ze.decomposedIdentities&&(st.decomposedIdentities=Lt(ze.decomposedIdentities)),ze.queryNames&&(st.queryNames=ze.queryNames),ze.queryNameMap&&(st.queryNameMap=ze.queryNameMap),ze.metadata&&(st.metadata=ze.metadata),ze.id&&(st.id=ze.id)}function Ae(ze){if(ze)return _.map(ze,st=>({objectName:st.objectName,selectorsByColumn:ft(st.selectorsByColumn)}))}function we(ze){return t.f.assertValue(ze,"input"),ze.scopeId?(0,V.D)(ze):ze.wildcard?(0,v.ms)(_.map(ze.wildcard,R.ib.deserializeExpr)):ze.roles?(0,d.Yp)(ze.roles):ze.total?(0,o.ms)(_.map(ze.total,R.ib.deserializeExpr)):ze.dataViewWildcard?(0,m.Ue)(ze.dataViewWildcard.matchingOption):void 0}function Ne(ze,st,Lt){if(t.f.assertAnyValue(ze,"input"),t.f.assertAnyValue(st,"propertyDescriptors"),ze){var Qt={};for(var $t in ze){var lr=Se(ze[$t],st?st[$t]:null,Lt);void 0!==lr&&(Qt[$t]=lr)}return Qt}}function Se(ze,st,Lt){if(t.f.assertAnyValue(ze,"input"),t.f.assertAnyValue(st,"propertyDescriptor"),st){var Qt=Mt(st.type);return L(ze)?{propertyDefinitionKind:"ExprWithContext",value:Ie(ze.value,Qt.value),context:Ee(ze.context)}:function(ze,st){return!!st.value}(0,Qt)?Ie(ze,Qt.value):me(ze,Qt.structural)}if(Lt&&ze){if(L(ze))return{propertyDefinitionKind:"ExprWithContext",value:R.ib.deserializeExpr(ze.value.expr),context:Ee(ze.context)};var $t=ze;if($t.expr)return R.ib.deserializeExpr($t.expr);if($t.solid)return me($t,U);if($t.filter)return R.ib.deserializeFilter($t.filter);if(P($t))return Oe($t)}}function Ie(ze,st){if(t.f.assertValue(st,"type"),void 0!==st.primitiveType&&ze?.expr)return R.ib.deserializeExpr(ze.expr)}function me(ze,st){if(t.f.assertValue(st,"type"),st.fill&&st.fill.solid&&st.fill.solid.color&&ze)return ze.solid&&ze.solid.color?{solid:{color:Ie(ze.solid.color,b.Ge.fromPrimitiveTypeAndCategory(i.M.Text))}}:void 0;if(st.fillRule){var $t=Bt(ze,Ie);if($t)return $t}var lr=ze;return st.filter&&lr&&lr.filter?R.ib.deserializeFilter(lr.filter):st.image&&lr&&lr.image?function(ze){t.f.assertValue(ze,"input");var st={name:Ie(ze.name,F),url:Ie(ze.url,b.Ge.fromDescriptor(y.z))};return ze.scaling&&(st.scaling=Ie(ze.scaling,F)),st}(lr.image):st.geoJson&&lr&&lr.geoJson?function(ze){return t.f.assertValue(ze,"input"),{type:Ie(ze.type,F),name:Ie(ze.name,F),content:Ie(ze.content,F)}}(lr.geoJson):st.paragraphs&&ze?function(ze){return t.f.assertValue(ze,"input"),_.map(ze,st=>{var Lt={textRuns:_.map(st.textRuns,Qt=>(0,E.Y0)(Qt)?he(Qt):(0,E.Zm)(Qt)?function(ze){var st={cases:_.map(ze.cases,Lt=>{var Qt={pattern:Ie(Lt.pattern,F),textRuns:_.map(Lt.textRuns,$t=>he($t))};return Qt}),defaultCase:{textRuns:_.map(ze.defaultCase.textRuns,Lt=>he(Lt))},expression:pe(ze.expression)};return st}(Qt):void 0)};return st.horizontalTextAlignment&&(Lt.horizontalTextAlignment=st.horizontalTextAlignment),st.listType&&(Lt.listType=st.listType),st.indent&&(Lt.indent=st.indent),Lt})}(ze):st.queryTransform&&ze?function(ze){return t.f.assertValue(ze,"input"),{algorithm:ze.algorithm,parameters:_.map(ze.parameters,Lt=>({name:Lt.Name,expr:R.ib.deserializeExpr(Lt)}))}}(ze):st.dataBars&&ze?function(ze){return t.f.assertValue(ze,"input"),{minValue:ze.minValue?Ie(ze.minValue,N):void 0,maxValue:ze.maxValue?Ie(ze.maxValue,N):void 0,positiveColor:me(ze.positiveColor,U),negativeColor:me(ze.negativeColor,U),axisColor:me(ze.axisColor,U),reverseDirection:Ie(ze.reverseDirection,B),hideText:Ie(ze.hideText,B),totalMatchingOption:ze.totalMatchingOption?Ie(ze.totalMatchingOption,W):void 0}}(ze):st.qnaVisualLink&&ze?function(ze){t.f.assertValue(ze,"input");var st={};return ze.suggestedUtterances&&(st.suggestedUtterances=_.map(ze.suggestedUtterances,Lt=>({utterance:Lt.Utterance}))),_.isEmpty(st)?void 0:st}(ze):P(ze)?Oe(ze,st):void t.f.assertFail("Deserializing a structural type failed")}function Oe(ze,st){t.f.assertValue(ze,"input");var Lt=ze.kind;switch(Lt){case g.q.AnnotationTemplate:return(!st||st.annotationTemplate)&&function(ze){if(t.f.assertValue(ze,"input"),function(ze){return ze.annotationType===T.Callout}(ze)){var st=ze,Lt={kind:g.q.AnnotationTemplate,annotationType:h.x.Callout,text:R.ib.deserializeExpr(st.text.expr)};return null!=st.offsetX&&(Lt.offsetX=R.ib.deserializeExpr(st.offsetX.expr)),null!=st.offsetY&&(Lt.offsetY=R.ib.deserializeExpr(st.offsetY.expr)),null!=st.width&&(Lt.width=R.ib.deserializeExpr(st.width.expr)),null!=st.height&&(Lt.height=R.ib.deserializeExpr(st.height.expr)),null!=st.lastEditUTCTimestamp&&(Lt.lastEditUTCTimestamp=R.ib.deserializeExpr(st.lastEditUTCTimestamp.expr)),Lt}var Qt=ze,$t={kind:g.q.AnnotationTemplate,annotationType:h.x.Highlight,color:R.ib.deserializeExpr(Qt.color.expr)};return null!=Qt.fontColor&&($t.fontColor=R.ib.deserializeExpr(Qt.fontColor.expr)),null!=Qt.backgroundColor&&($t.backgroundColor=R.ib.deserializeExpr(Qt.backgroundColor.expr)),null!=Qt.emphasizeText&&($t.emphasizeText=R.ib.deserializeExpr(Qt.emphasizeText.expr)),null!=Qt.strokeDasharray&&($t.strokeDasharray=R.ib.deserializeExpr(Qt.strokeDasharray.expr)),null!=Qt.shouldOffsetVisibleOutlinesInbound&&($t.shouldOffsetVisibleOutlinesInbound=R.ib.deserializeExpr(Qt.shouldOffsetVisibleOutlinesInbound.expr)),null!=Qt.targets&&($t.targets=_.map(Qt.targets,lr=>R.ib.deserializeExpr(lr.expr))),$t}(ze);case g.q.Icon:return(!st||st.icon)&&function(ze){t.f.assertValue(ze,"input");var st={kind:g.q.Icon};return ze.layout&&(st.layout=Ie(ze.layout,F)),ze.verticalAlignment&&(st.verticalAlignment=Ie(ze.verticalAlignment,B)),ze.value&&(st.value=Ie(ze.value,F)),st}(ze);case g.q.ExprList:return(!st||st.exprList||st.selectedValues)&&function(ze){t.f.assertValue(ze,"input");var st={exprs:[],kind:g.q.ExprList};return st.exprs=_.map(ze.exprs,Lt=>R.ib.deserializeExpr(Lt.expr)),st}(ze);case g.q.ErrorRange:return(!st||st.errorRange)&&function(ze){t.f.assertValue(ze,"input");var st={kind:g.q.ErrorRange};if(ze.explicit){var Lt=ze.explicit;st.explicit={isRelative:R.ib.deserializeExpr(Lt.isRelative.expr)},Lt.lowerBound&&(st.explicit.lowerBound=R.ib.deserializeExpr(Lt.lowerBound.expr)),Lt.upperBound&&(st.explicit.upperBound=R.ib.deserializeExpr(Lt.upperBound.expr))}else if(ze.symmetricalExplicit)st.symmetricalExplicit={delta:R.ib.deserializeExpr(ze.symmetricalExplicit.delta.expr)};else if(ze.standardDeviation){var $t=ze.standardDeviation;st.standardDeviation={value:R.ib.deserializeExpr($t.value.expr),multiplier:R.ib.deserializeExpr($t.multiplier.expr)}}else if(ze.percentage){var lr=ze.percentage;st.percentage={lowerBoundDelta:R.ib.deserializeExpr(lr.lowerBoundDelta.expr),upperBoundDelta:R.ib.deserializeExpr(lr.upperBoundDelta.expr)}}else if(ze.percentile){var gr=ze.percentile;t.f.assertValue(gr.lowerBound.expr.Percentile,"Percentile lowerBound must be a Percentile expression"),t.f.assertValue(gr.upperBound.expr.Percentile,"Percentile lowerBound must be a Percentile expression"),st.percentile={lowerBound:R.ib.deserializeExpr(gr.lowerBound.expr),upperBound:R.ib.deserializeExpr(gr.upperBound.expr)}}return st}(ze);case g.q.ItemLocation:return(!st||st.itemLocation)&&function(ze){var st;if(t.f.assertValue(ze,"input"),ze.byReference&&(st={kind:g.q.ItemLocation,byReference:{itemId:Ie(ze.byReference.itemId,F)}},null!=ze.byReference.workspaceId&&(st.byReference.workspaceId=Ie(ze.byReference.workspaceId,F)),null!=ze.byReference.folderId&&(st.byReference.folderId=Ie(ze.byReference.folderId,F))),st&&ze.metadata){st.metadata={};var Qt=ze.metadata.dataFunction;Qt&&(st.metadata.dataFunction={name:Qt.name,autoRefresh:Qt.autoRefresh,parameters:Qt.parameters.map($t=>{switch($t.type){case"SlicerParameter":return{...$t};case"ValueParameter":return{...$t,value:R.ib.deserializeExpr($t.value.expr)}}})})}return st}(ze);default:t.f.assertNever(Lt)}}function Ee(ze){t.f.assertValue(ze,"input");var st={};return _.isEmpty(ze.filterContext)||(st.filterContext=_.map(ze.filterContext,Lt=>({filter:R.ib.deserializeFilter(Lt.filter),metadata:Lt.metadata?(0,A.hE)(Lt.metadata):void 0}))),st}function he(ze){var st={value:Ce(ze.value)};return ze.textStyle&&(st.textStyle=ze.textStyle),ze.url&&(st.url=ze.url),ze.mentionEmail&&(st.mentionEmail=ze.mentionEmail),ze.mentionKey&&(st.mentionKey=ze.mentionKey),st}function Ce(ze){var st;if(_.isString(ze))st=ze;else if(!(st=Ie(ze,F))){var Lt=ze;(0,f.U)(Lt)&&(st=Lt)}return st}function pe(ze){var st;if(!(st=Ie(ze,F))){var Lt=ze;(0,f.U)(Lt)&&(st=Lt)}return st}function Fe(ze,st,Lt,Qt){if(t.f.assertAnyValue(ze,"contract"),t.f.assertAnyValue(st,"descriptors"),ze){var $t={};for(var lr in ze){var gr=void 0;if(!st||(gr=st[lr]))for(var _r=ze[lr],Mr=$t[lr]=[],Vr=0,Lr=_r.length;Vr<Lr;Vr++)Mr.push($e(_r[Vr],gr,!st,Lt,Qt))}return $t}}function $e(ze,st,Lt,Qt,$t){if(t.f.assertAnyValue(ze,"contract"),t.f.assertAnyValue(st,"descriptor"),ze){var lr=function(ze,st,Lt,Qt,$t){if(t.f.assertAnyValue(ze,"contract"),t.f.assertAnyValue(st,"descriptors"),ze){var lr={};for(var gr in ze){var _r=st?st[gr]:null;if(!($t&&_r?.transient||!Lt&&!_r)){var Mr=We(ze[gr],_r,Lt,Qt);void 0===Mr?t.f.assertFail("DataViewObjectSerializer: failed to serialize property: "+gr+" due to malformed property value."):lr[gr]=Mr}}return lr}}(ze.properties,st?st.properties:null,Lt,Qt,$t);if(lr){var gr={properties:lr},_r=qe(ze.selector);return _r&&(gr.selector=_r),gr}}}function qe(ze){if(t.f.assertAnyValue(ze,"contract"),null===ze)return null;if(ze){var st={};return ze.data&&(st.data=_.chain(ze.data).map(Lt=>de(Lt)).filter(Lt=>null!=Lt).value()),ze.metadata&&(st.metadata=ze.metadata),ze.id&&(st.id=ze.id),void 0!==ze.highlightMatching&&(st.highlightMatching=ze.highlightMatching),void 0!==ze.hierarchyMatching&&(st.hierarchyMatching=ze.hierarchyMatching),null!=ze.order&&(st.order=ze.order),st}}function dt(ze){if(t.f.assertAnyValue(ze,"contract"),ze){var st={};if(ze.dataMap)for(var Lt in st.dataMap={},ze.dataMap){var Qt=(0,a.rY)(ze.dataMap[Lt]);st.dataMap[Lt]=_.chain(Qt).map($t=>de($t)).filter($t=>null!=$t).value()}return ze.metadata&&(st.metadata=ze.metadata),ze.id&&(st.id=ze.id),st}}function rt(ze){if(t.f.assertAnyValue(ze,"contract"),ze){var st={};return Ct(ze,st,M.Rs),st}}function ce(ze,st){return st?rt((0,n.od)(ze)):_.map(ze,Qt=>dt(Qt))}function be(ze){if(function(ze){return!_.isArray(ze)&&!!ze.decomposedIdentities}(ze)){var st=function(ze){if(t.f.assertAnyValue(ze,"input"),ze){var st={};return Ct(ze,st,M.H9),st}}(ze);return(0,n.k4)(st)}return _.map(ze,Lt=>ft(Lt))}function ae(ze){if(ze)return _.map(ze,st=>({objectName:st.objectName,selectorsByColumn:dt(st.selectorsByColumn)}))}function de(ze){return t.f.assertValue(ze,"contract"),(0,p.yN)(ze)&&ze.expr?(0,V.m)(ze):(0,p.QV)(ze)&&ze.exprs?{wildcard:_.map(ze.exprs,st=>R.ib.serializeExpr(st))}:(0,p.j9)(ze)&&ze.roles?{roles:ze.roles}:(0,p.tQ)(ze)&&ze.exprs?{total:_.map(ze.exprs,st=>R.ib.serializeExpr(st))}:(0,p.qm)(ze)?{dataViewWildcard:ee(ze)}:void t.f.assertFail("serializeDataRepetitionSelector - Selector did not match type and constraints.")}function ee(ze){return{matchingOption:ze.matchingOption}}function We(ze,st,Lt,Qt){if(t.f.assertAnyValue(ze,"contract"),t.f.assertAnyValue(st,"descriptor"),st){var $t=Mt(st.type);return(0,s.er)(ze)?{propertyDefinitionKind:"ExprContext",value:it(ze.value,$t.value),context:mt(ze.context,Qt)}:$t.value?it(ze,$t.value):yt(ze,$t.structural)}if(Lt&&ze){if((0,s.er)(ze))return{propertyDefinitionKind:"ExprContext",value:{expr:R.ib.serializeExpr(ze.value)},context:mt(ze.context,Qt)};if(ze instanceof C.Il)return{expr:R.ib.serializeExpr(ze)};if(ze instanceof c.yl)return{filter:R.ib.serializeFilter(ze)};var lr=ze;if((0,u.dS)(lr))return et(lr);if(lr.solid)return yt(ze,U)}}function it(ze,st){if(t.f.assertValue(st,"type"),void 0!==st?.primitiveType&&ze instanceof C.Il)return{expr:R.ib.serializeExpr(ze,!0)}}function yt(ze,st){if(t.f.assertValue(st,"type"),ze){if((0,u.dS)(ze))return et(ze,st);if(st.fill&&st.fill.solid&&st.fill.solid.color)return{solid:{color:it(ze.solid.color,F)}};if(st.fillRule){var $t=Bt(ze,it);if($t)return $t}if(st.filter)return{filter:R.ib.serializeFilter(ze)};if(st.image)return{image:ie(ze)};if(st.geoJson)return{geoJson:Y(ze)};if(st.paragraphs)return function(ze){return t.f.assertValue(ze,"definition"),_.map(ze,st=>{var Lt={textRuns:_.map(st.textRuns,Qt=>(0,E.IM)(Qt)?Be(Qt):(0,E.Kt)(Qt)?{cases:_.map(Qt.cases,lr=>({pattern:it(lr.pattern,F),textRuns:_.map(lr.textRuns,_r=>Be(_r))})),defaultCase:{textRuns:_.map(Qt.defaultCase.textRuns,lr=>Be(lr))},expression:ct(Qt.expression)}:void 0)};return st.horizontalTextAlignment&&(Lt.horizontalTextAlignment=st.horizontalTextAlignment),st.listType&&(Lt.listType=st.listType),st.indent&&(Lt.indent=st.indent),Lt})}(ze);if(st.queryTransform)return function(ze){return{algorithm:ze.algorithm,parameters:_.map(ze.parameters,st=>{var Lt=R.ib.serializeExpr(st.expr);return Lt.Name=st.name,Lt})}}(ze);if(st.dataBars)return function(ze){return{minValue:it(ze.minValue,N),maxValue:it(ze.maxValue,N),positiveColor:yt(ze.positiveColor,U),negativeColor:yt(ze.negativeColor,U),axisColor:yt(ze.axisColor,U),reverseDirection:it(ze.reverseDirection,B),hideText:it(ze.hideText,B),totalMatchingOption:it(ze.totalMatchingOption,W)}}(ze);if(st.qnaVisualLink)return function(ze){t.f.assertValue(ze,"input");var st={};if(ze.suggestedUtterances){st.suggestedUtterances=_.map(ze.suggestedUtterances,Qt=>({Version:"1.0",Utterance:Qt.utterance}))}return _.isEmpty(st)?void 0:st}(ze);t.f.assertFail("Serializing a structural type failed")}}function et(ze,st){var Lt=ze.kind;switch(Lt){case g.q.AnnotationTemplate:return(!st||st.annotationTemplate)&&function(ze){if(t.f.assertValue(ze,"input"),(0,S.lP)(ze)){var st=ze,Lt={kind:g.q.AnnotationTemplate,annotationType:T.Callout,text:it(st.text,F)};return null!=st.offsetX&&(Lt.offsetX=it(st.offsetX,N)),null!=st.offsetY&&(Lt.offsetY=it(st.offsetY,N)),null!=st.width&&(Lt.width=it(st.width,N)),null!=st.height&&(Lt.height=it(st.height,N)),null!=st.lastEditUTCTimestamp&&(Lt.lastEditUTCTimestamp=it(st.lastEditUTCTimestamp,N)),Lt}var Qt=ze,$t={kind:g.q.AnnotationTemplate,annotationType:T.Highlight,color:it(Qt.color,F)};return null!=Qt.fontColor&&($t.fontColor=it(Qt.fontColor,F)),null!=Qt.backgroundColor&&($t.backgroundColor=it(Qt.backgroundColor,F)),null!=Qt.emphasizeText&&($t.emphasizeText=it(Qt.emphasizeText,B)),null!=Qt.strokeDasharray&&($t.strokeDasharray=it(Qt.strokeDasharray,F)),null!=Qt.shouldOffsetVisibleOutlinesInbound&&($t.shouldOffsetVisibleOutlinesInbound=it(Qt.shouldOffsetVisibleOutlinesInbound,B)),null!=Qt.targets&&($t.targets=_.map(Qt.targets,lr=>it(lr,F))),$t}(ze);case g.q.Icon:return(!st||st.icon)&&function(ze){var st={kind:g.q.Icon};return ze.layout&&(st.layout=it(ze.layout,F)),ze.verticalAlignment&&(st.verticalAlignment=it(ze.verticalAlignment,B)),ze.value&&(st.value=it(ze.value,F)),st}(ze);case g.q.ExprList:return(!st||st.exprList||st.selectedValues)&&function(ze){t.f.assertValue(ze,"input");var st={exprs:[],kind:g.q.ExprList};return st.exprs=_.map(ze.exprs,Lt=>it(Lt,F)),st}(ze);case g.q.ErrorRange:return(!st||st.errorRange)&&function(ze){t.f.assertValue(ze,"input");var st={kind:g.q.ErrorRange};if(ze.explicit){var Lt=ze.explicit;st.explicit={isRelative:it(Lt.isRelative,B)},Lt.lowerBound&&(st.explicit.lowerBound=it(Lt.lowerBound,N)),Lt.upperBound&&(st.explicit.upperBound=it(Lt.upperBound,N))}else if(ze.symmetricalExplicit)st.symmetricalExplicit={delta:it(ze.symmetricalExplicit.delta,N)};else if(ze.standardDeviation){var $t=ze.standardDeviation;st.standardDeviation={value:it($t.value,N),multiplier:it($t.multiplier,N)}}else if(ze.percentage){var lr=ze.percentage;st.percentage={lowerBoundDelta:it(lr.lowerBoundDelta,N),upperBoundDelta:it(lr.upperBoundDelta,N)}}else if(ze.percentile){var gr=ze.percentile;st.percentile={lowerBound:it(gr.lowerBound,N),upperBound:it(gr.upperBound,N)}}return st}(ze);case g.q.ItemLocation:return function(ze){var st;if(t.f.assertValue(ze,"input"),ze.byReference){var Lt=ze.byReference;st={kind:g.q.ItemLocation,byReference:{itemId:it(Lt.itemId,F)}},null!=Lt.workspaceId&&(st.byReference.workspaceId=it(Lt.workspaceId,F)),null!=Lt.folderId&&(st.byReference.folderId=it(Lt.folderId,F))}if(st){var Qt=ze.metadata;if(Qt){st.metadata={};var $t=Qt.dataFunction;$t&&(st.metadata.dataFunction={name:$t.name,autoRefresh:$t.autoRefresh,parameters:$t.parameters.map(lr=>{switch(lr.type){case"SlicerParameter":return{...lr};case"ValueParameter":var gr;switch(lr.dataType){case"boolean":gr=B;break;case"number":gr=N;break;case"string":gr=F}return{...lr,value:it(lr.value,gr)}}})})}}return st}(ze);default:t.f.assertNever(Lt)}}function mt(ze,st){t.f.assertValue(ze,"contract");var Lt={};return _.isEmpty(ze.filterContext)||(Lt.filterContext=_.map(ze.filterContext,Qt=>({filter:R.ib.serializeFilter(Qt.filter),metadata:Qt.metadata?(0,A.Qe)(Qt.metadata,st):void 0}))),Lt}function ie(ze){t.f.assertValue(ze,"definition");var st={name:it(ze.name,F),url:it(ze.url,b.Ge.fromDescriptor(y.z))};return ze.scaling&&(st.scaling=it(ze.scaling,F)),st}function Y(ze){return t.f.assertValue(ze,"definition"),{type:it(ze.type,F),name:it(ze.name,F),content:it(ze.content,F)}}function Be(ze){var st={value:Ze(ze.value)};return ze.textStyle&&(st.textStyle=ze.textStyle),ze.url&&(st.url=ze.url),ze.mentionEmail&&(st.mentionEmail=ze.mentionEmail),ze.mentionKey&&(st.mentionKey=ze.mentionKey),st}function Ze(ze){var st;return ze instanceof C.Il?st=it(ze,F):_.isString(ze)||(0,f.U)(ze)?st=ze:t.f.assertNever(ze),st}function ct(ze){var st;return ze instanceof C.Il?st=it(ze,F):(0,f.U)(ze)?st=ze:t.f.assertNever(ze),st}function Mt(ze){t.f.assertValue(ze,"typeDescriptor");var st=b.Ge.fromDescriptor(ze);return st.primitiveType!==i.M.Null?{value:st}:{structural:ze}}function Bt(ze,st){if(ze.linearGradient2){var Lt=ze.linearGradient2,Qt={min:{color:st(Lt.min.color,b.Ge.fromPrimitiveTypeAndCategory(i.M.Text))},max:{color:st(Lt.max.color,b.Ge.fromPrimitiveTypeAndCategory(i.M.Text))}};return Lt.min.value&&(Qt.min.value=st(Lt.min.value,b.Ge.fromPrimitiveTypeAndCategory(i.M.Double))),Lt.max.value&&(Qt.max.value=st(Lt.max.value,b.Ge.fromPrimitiveTypeAndCategory(i.M.Double))),Lt.nullColoringStrategy&&(Qt.nullColoringStrategy={strategy:st(Lt.nullColoringStrategy.strategy,b.Ge.fromPrimitiveTypeAndCategory(i.M.Text))},Lt.nullColoringStrategy.color&&(Qt.nullColoringStrategy.color=st(Lt.nullColoringStrategy.color,b.Ge.fromPrimitiveTypeAndCategory(i.M.Text)))),{linearGradient2:Qt}}if(ze.linearGradient3){var $t=ze.linearGradient3,lr={min:{color:st($t.min.color,b.Ge.fromPrimitiveTypeAndCategory(i.M.Text))},mid:{color:st($t.mid.color,b.Ge.fromPrimitiveTypeAndCategory(i.M.Text))},max:{color:st($t.max.color,b.Ge.fromPrimitiveTypeAndCategory(i.M.Text))}};return $t.min.value&&(lr.min.value=st($t.min.value,b.Ge.fromPrimitiveTypeAndCategory(i.M.Double))),$t.mid.value&&(lr.mid.value=st($t.mid.value,b.Ge.fromPrimitiveTypeAndCategory(i.M.Double))),$t.max.value&&(lr.max.value=st($t.max.value,b.Ge.fromPrimitiveTypeAndCategory(i.M.Double))),$t.nullColoringStrategy&&(lr.nullColoringStrategy={strategy:st($t.nullColoringStrategy.strategy,b.Ge.fromPrimitiveTypeAndCategory(i.M.Text))},$t.nullColoringStrategy.color&&(lr.nullColoringStrategy.color=st($t.nullColoringStrategy.color,b.Ge.fromPrimitiveTypeAndCategory(i.M.Text)))),{linearGradient3:lr}}return null}},771197:function(ve,j,e){e.d(j,{F:function(){return m}});var r=e(333107),i=e(999787),a=e(650543),t=e(702730),l=e(719242),g=e(482693),n=e(442407),p=e(248505),s=e(996302),o=e(607244),v=e(11864);class m{static deserializeDataViewSelectTransforms(C){return a.f.assertValue(C,"input"),function(c){if(c)for(var C of c)C.kpiStatusGraphic&&(C.kpi={graphic:C.kpiStatusGraphic})}(C),_.map(C,y=>{var S={displayName:y.displayName,format:y.format,kpi:y.kpi,queryName:y.queryName,roles:y.roles,sort:y.sort,sortOrder:y.sortOrder,type:(0,s.iz)(y.type)};return y.expr&&(S.expr=v.ib.deserializeExpr(y.expr)),y.aggregateSources&&(S.aggregateSources=y.aggregateSources),y.relatedSelects&&(S.relatedSelects=y.relatedSelects),y.relatedObjects&&(S.relatedObjects=(0,s.Rg)(y.relatedObjects)),S})}static serializeDataViewSelectTransforms(C){return a.f.assertValue(C,"input"),_.map(C,y=>{var S={displayName:y.displayName,format:y.format,kpi:y.kpi,queryName:y.queryName,roles:y.roles,sort:y.sort,sortOrder:y.sortOrder,type:(0,s.bI)(y.type)};return y.expr&&(S.expr=v.ib.serializeExpr(y.expr)),y.aggregateSources&&(S.aggregateSources=y.aggregateSources),y.relatedSelects&&(S.relatedSelects=y.relatedSelects),y.relatedObjects&&(S.relatedObjects=(0,s.N$)(y.relatedObjects)),y.sourceFieldParameters&&(S.sourceFieldParameters=y.sourceFieldParameters),S})}static serializeDataViewTransformActions(C,y){a.f.assertAnyValue(y,"objectDescriptors");var S={objects:(C=C||{}).objects,projectionOrdering:C.roles&&C.roles.ordering,projectionActiveItems:C.roles&&C.roles.activeItems,splits:C.splits,queryMetadata:null,visualElements:null};return C&&C.objects&&(S.objects=(0,s.xF)(C.objects,y,void 0,!1)),C&&C.selects&&(S.selects=m.serializeDataViewSelectTransforms(C.selects)),C&&!_.isEmpty(C.expansionStates)&&(S.expansionStates=(0,o.hI)(C.expansionStates)),S}static deserializeDataViewTransformActions(C,y){var S=y&&y.objects;a.f.assertValue(C,"actions"),a.f.assertAnyValue(S,"objectDescriptors");var h=C.objects?(0,s.wN)(C.objects,S):null,E=m.createTransformActions(C.queryMetadata,C.visualElements,S,h)||{},u=C&&C.projectionActiveItems;return _.isEmpty(u)||this.upgradeActiveItemsIfNeeded(u),E.roles={ordering:C.projectionOrdering,activeItems:u},E.splits=C.splits,C.selects&&(E.selects=m.deserializeDataViewSelectTransforms(C.selects)),C.expansionStates&&(E.expansionStates=(0,o.bX)(C.expansionStates,{supportsMerge:y&&y.expandCollapse&&y.expandCollapse.supportsMerge,canCollapseRoot:y&&y.noDefaultProjections,collapseParentAfterRemovingChildLevel:y&&y.expandCollapse&&y.expandCollapse.collapseParentAfterRemovingChildLevel})),this.upgradeComboChartFromCY16SU04AndPrior(E),E}static isStringArray(C){return _.isString(C[0])}static upgradeActiveItemsIfNeeded(C){for(var y in C){var S=C[y],h=void 0;!_.isEmpty(S)&&this.isStringArray(S)&&(h=_.map(S,u=>({queryRef:u}))),C[y]=h||S}}static upgradeComboChartFromCY16SU04AndPrior(C){a.f.assertValue(C,"transformActions");var y="Y",h=C.roles&&C.roles.ordering;if(h){var E=h[y]&&1===h[y].length&&_.includes(h.Y2,h[y][0])?h[y][0]:void 0;if(void 0!==E){var u=C.splits&&2===C.splits.length&&!C.splits[0].selects[E]&&C.splits[1].selects[E]?C.splits[0]:void 0;if(u){var f=_.chain(Object.keys(u.selects)).filter(D=>u.selects[D]).map(D=>parseInt(D,10)).maxBy(D=>D).value();if(f!==Number.NEGATIVE_INFINITY&&C.selects&&C.selects.length===f){var V=C.selects[E];if(V&&V.roles[y]&&V.roles.Y2){delete V.roles[y];var P={...V};P.roles={[y]:!0},P.queryName=V.queryName,C.selects[f]=P,C.roles.ordering[y]=[f]}}}}}}static serializeTransformActions(C){return JSON.stringify(C)}static createTransformActions(C,y,S,h){var E=this;if(a.f.assertAnyValue(C,"queryMetadata"),a.f.assertAnyValue(y,"visualElements"),a.f.assertAnyValue(S,"objectDescs"),a.f.assertAnyValue(h,"objectDefns"),C&&!_.isEmpty(C.Select)||!_.isEmpty(y)||h){var u={};if(C){var f=C.Select;if(f)for(var b=u.selects=[],V=function(){var A=f[T];if(!A)return b.push(null),1;var R=E.toTransformSelect(A,T);if(b.push(R),R.format&&S){a.f.assert(()=>!!R.queryName,"selectTransform.queryName should be defined (or defaulted).");var B=(0,g.$v)(S);B&&(h||(h={}),(0,l.sO)(h,B,{metadata:R.queryName},(0,n.fL)(R.format)))}},T=0,P=f.length;T<P;T++)V()}if(y){var D=(y=_.unionBy(y,A=>JSON.stringify(A))).length;D>1&&(u.splits=[]);for(var w=0;w<D;w++){var M=y[w];M.Settings&&0===w&&(h=this.upgradeSettingsToObjects(M.Settings,h)),M.DataRoles&&(u.selects||(u.selects=[]),u.roles||(u.roles={ordering:{}}),this.populateDataRoles(M.DataRoles,u.selects,u.roles.ordering)),u.splits&&u.splits.push(this.populateSplit(M.DataRoles))}}return h&&(u.objects=h),u}}static toTransformSelect(C,y){a.f.assertValue(C,"select");var S={};return C.Restatement&&(S.displayName=C.Restatement),C.Name?S.queryName=C.Name:S.queryName||(S.queryName="$select"+y),C.Format&&(S.format=C.Format),C.Type&&(S.type=this.describeDataType(C.Type,(0,t.lb)(C.DataCategory))),C.kpi&&(S.kpi=C.kpi),C.kpiStatusGraphic&&(S.kpi={graphic:C.kpiStatusGraphic}),S}static describeDataType(C,y){var S=r.M.Null;switch(C=C||i.TR.None){case i.TR.String:S=r.M.Text;break;case i.TR.Number:S=r.M.Double;break;case i.TR.Integer:S=r.M.Integer;break;case i.TR.Boolean:S=r.M.Boolean;break;case i.TR.Date:S=r.M.Date;break;case i.TR.DateTime:S=r.M.DateTime;break;case i.TR.Time:S=r.M.Time;break;case i.TR.Year:S=r.M.Integer,a.f.assert(()=>!y||"Year"===y,"Unexpected category for Year type."),y="Year";break;case i.TR.Month:S=r.M.Integer,a.f.assert(()=>!y||"Month"===y,"Unexpected category for Month type."),y="Month"}return p.Ge.fromPrimitiveTypeAndCategory(S,y)}static populateDataRoles(C,y,S){a.f.assertValue(C,"roles"),a.f.assertValue(y,"selects"),a.f.assertValue(S,"projectionOrdering");for(var h=0,E=C.length;h<E;h++){var u=C[h],f=u.Projection,b=u.Name,V=y[f];void 0===V&&(this.fillArray(y,f),V=y[f]={});var T=V.roles;void 0===V.roles&&(T=V.roles={}),T[b]=!0;var P=S[b];void 0===P&&(P=S[b]=[]),P.push(f)}}static fillArray(C,y){a.f.assertValue(C,"selects"),a.f.assertValue(y,"length");for(var S=C.length;S<y;S++)C[S]={}}static populateSplit(C){a.f.assertAnyValue(C,"roles");var y={},S={selects:y};if(C)for(var h=0,E=C.length;h<E;h++)y[C[h].Projection]=!0;return S}static upgradeSettingsToObjects(C,y){if(C){var S;for(S in y||(y={}),C){var h=C[S],E=S,u=h,f="general";switch(S){case"hasScalarCategoryAxis":f="categoryAxis",E="axisType",u=(0,n.fL)(h?"Scalar":"Categorical");break;case"Totals":E="totals",u=(0,n.O7)(!!h);break;case"textboxSettings":E="paragraphs",h&&h.paragraphs&&(u=h.paragraphs);break;case"VisualType1":E="visualType1",u=(0,n.fL)(h);break;case"VisualType2":E="visualType2",u=(0,n.fL)(h);break;case"imageVisualSettings":E="imageUrl",h&&h.imageUrl&&(u=(0,n.fL)(h.imageUrl));break;default:continue}this.setObjectDefinition(y,f,E,u)}return y}}static setObjectDefinition(C,y,S,h){a.f.assertValue(C,"objects"),a.f.assertValue(y,"objectName"),a.f.assertValue(S,"propertyName");var E=C[y];void 0===E&&(E=C[y]=[]);var u=E[0];void 0===u&&(u=E[0]={properties:{}}),u.properties[S]=h}}},755529:function(ve,j,e){e.d(j,{H9:function(){return t},LF:function(){return n},QW:function(){return g},Rs:function(){return s}});var r=e(650543),i=e(11864),a=e(60978);function t(d){var o=[];for(var m of d.values){var c=[];for(var C of m){var y=_.mapValues(C,S=>_.map(S,h=>i.ib.deserializeExpr(h)));c.push(y)}o.push(c)}return{values:o,columns:_.map(d.columns,S=>l(S))}}function l(d){var o={};if(d.left&&d.right)return o.left=l(d.left),o.right=l(d.right),o;if(d.value){var v=i.ib.deserializeExpr(d.value);return(0,a.Lk)(v)||(0,a.kb)(v)||(0,a.t3)(v)||(0,a.iV)(v)?o.value=v:r.f.assertFail("Value should be fieldRef: entity/measure/column/aggregate"),o}r.f.assertFail("DecomposedTree should either have left and right Tree, or a valid value")}function g(d){if(r.f.assertAnyValue(d,"input"),d){var o={expressions:_.map(d.expressions,v=>i.ib.deserializeExpr(v))};return d.decomposedIdentities&&(o.decomposedIdentities=t(d.decomposedIdentities)),d.valueMap&&(o.valueMap=d.valueMap),d.jsonFilter&&(o.jsonFilter=d.jsonFilter),o}}function n(d){if(r.f.assertAnyValue(d,"contract"),d){var o={expressions:_.map(d.expressions,v=>i.ib.serializeExpr(v))};return d.decomposedIdentities&&(o.decomposedIdentities=s(d.decomposedIdentities)),d.valueMap&&(o.valueMap=d.valueMap),d.jsonFilter&&(o.jsonFilter=d.jsonFilter),o}}function p(d){var o={};return d.left&&d.right?(o.left=p(d.left),o.right=p(d.right),o):d.value?(o.value=i.ib.serializeExpr(d.value),o):void r.f.assertFail("DecomposedTree should either have left and right Tree, or a valid value")}function s(d){if(r.f.assertAnyValue(d,"contract"),d){var o=[];for(var m of d.values){var c=[];for(var C of m){var y=_.mapValues(C,S=>_.map(S,h=>i.ib.serializeExpr(h)));c.push(y)}o.push(c)}return{values:o,columns:_.map(d.columns,S=>p(S))}}}},367311:function(ve,j,e){e.d(j,{dq:function(){return t},kE:function(){return a},pW:function(){return l},vX:function(){return i}});var r=e(967445);function i(g){if(g&&!(g.length<1)){var n=[];for(var p of g)if(p.identity&&p.identity.expr){var s=(0,r.m)(p.identity);s&&n.push({id:s,displayName:p.displayName})}return n}}function a(g){if(g&&!(g.length<1)){var n=[];for(var p of g)if(p.id){var s=(0,r.D)(p.id);s&&n.push({identity:s,displayName:p.displayName})}return n}}function t(g){if(g&&!(g.length<1)){var n=[];for(var p of g)if(!_.isEmpty(p.identities)){var s=_.map(p.identities,d=>(0,r.m)(d));s&&n.push({identities:s,valueMap:p.valueMap})}return n}}function l(g){if(g&&!(g.length<1)){var n=[];for(var p of g)if(!_.isEmpty(p.identities)){var s=_.map(p.identities,d=>(0,r.D)(d));s&&n.push({identities:s,valueMap:p.valueMap})}return n}}},607244:function(ve,j,e){e.d(j,{bX:function(){return p},hI:function(){return t}});var r=e(650543),i=e(128735),a=e(11864);function t(o){return _.filter(_.map(o,v=>function(o){if(r.f.assertValue(o,"expansionState"),r.f.assertValue(!_.isEmpty(o.roles),"expansionState.roles"),(0,i.of)(o)||(0,i.iA)(o)){var v={roles:o.roles};return _.isEmpty(o.levels)||(r.f.assertValue(o.root,"expansionState.root"),v.levels=_.map(o.levels,m=>function(o){if(r.f.assertAnyValue(o,"level"),o){r.f.assertNonEmpty(o.queryRefs,"level.queryRefs");var v={queryRefs:_.clone(o.queryRefs)};return o.isCollapsed&&(v.isCollapsed=!0),o.identityKeys&&(v.identityKeys=_.map(o.identityKeys,m=>a.ib.serializeExpr(m))),o.isPinned&&(v.isPinned=o.isPinned),o.isLocked&&(v.isLocked=o.isLocked),o.AIInformation&&(v.AIInformation=_.cloneDeep(o.AIInformation)),v}}(m)),v.root=n(o.root)),v}}(v)),v=>v)}function n(o){r.f.assertValue(o,"node");var v={identityValues:o.identityValues?_.map(o.identityValues,C=>a.ib.serializeExpr(C)):null};if(o.isToggled&&(v.isToggled=!0),!_.isEmpty(o.children)){v.children=[];var m=function(C){r.f.assert(()=>!_.isEmpty(C.identityValues),"child.identityValues");var y=n(C);v.children.push(y)};for(var c of o.children)m(c)}return v}function p(o,v){if(o){var m=[],c=function(y){if(!y)return 1;r.f.assert(()=>!_.isEmpty(y.roles),"serializedHierarchy.roles");var S=new i.cb(y.roles,v);_.isEmpty(y.levels)||(r.f.assertValue(y.root,"serializedHierarchy.root"),S.levels=_.map(y.levels,h=>function(o){var v={queryRefs:_.clone(o.queryRefs),isCollapsed:!!o.isCollapsed,toggledNodes:[],isPinned:o.isPinned,isLocked:o.isLocked,AIInformation:_.cloneDeep(o.AIInformation)};return o.identityKeys&&(v.identityKeys=_.map(o.identityKeys,m=>a.ib.deserializeExpr(m))),v}(h)),S.root=d(y.root,-1,null,S.levels,!!v.canCollapseRoot)),m.push(S)};for(var C of o)c(C);return m}}function d(o,v,m,c,C){r.f.assertValue(o,"serializedNode");var y={identityValues:o.identityValues?_.map(o.identityValues,h=>a.ib.deserializeExpr(h)):null,parent:m,children:[]};if(o.isToggled&&(y.isToggled=!0,v>=0?c[v].toggledNodes.push(y):r.f.assert(()=>C,"Collapse to root capability not enabled")),!_.isEmpty(o.children)){var S=v+1;y.children=_.map(o.children,h=>d(h,S,y,c,C))}return y}},128451:function(ve,j,e){e.d(j,{Qe:function(){return p},R6:function(){return m},_q:function(){return o},hE:function(){return s}});var r=e(650543),i=e(537830),a=e(755529),t=e(367311),l=e(11864);function p(c,C){var y;if(r.f.assertValue(c,"input"),!_.isEmpty(c.expressions)){if(C){var S=(0,i.s0)(c);y=(0,a.LF)(S)}else y=function(c){if(r.f.assertValue(c,"input"),!_.isEmpty(c.expressions)){var C={expressions:_.map(c.expressions,y=>l.ib.serializeExpr(y))};return _.isEmpty(c.cachedValueItems)||(C.cachedValueItems=(0,t.dq)(c.cachedValueItems)),c.jsonFilter&&(C.jsonFilter=c.jsonFilter),C}}(c);return y}}function s(c){if(r.f.assertValue(c,"input"),!_.isEmpty(c.expressions)){if(function(c){return!!c.decomposedIdentities}(c)){var C=(0,a.QW)(c);return(0,i.Ns)(C)}return o(c)}}function o(c){if(r.f.assertValue(c,"input"),!_.isEmpty(c.expressions)){var C={expressions:_.map(c.expressions,y=>l.ib.deserializeExpr(y))};return _.isEmpty(c.cachedValueItems)||(C.cachedValueItems=(0,t.pW)(c.cachedValueItems)),c.jsonFilter&&(C.jsonFilter=c.jsonFilter),C}}function m(c){return!!c.cachedValueItems}},11864:function(ve,j,e){e.d(j,{ib:function(){return S}});var r=e(398732),i=e(333107),a=e(587402),t=e(999787),l=e(364419),g=e(650543),n=e(301336),p=e(850111),s=e(765959),d=e(442407),o=e(774452),v=e(785585),m=e(914094);class c{constructor(de){g.f.assertValue(de,"from"),this.clauses={from:de,select:[]}}addWhere(de){g.f.assertValue(de,"filter");var ee=this.clauses;ee.where||(ee.where=[]),ee.where.push(de)}addWheres(de){g.f.assertValue(de,"filters");var ee=this.clauses;for(var Pe of(ee.where||(ee.where=[]),de))ee.where.push(Pe)}addOrderBy(de){g.f.assertValue(de,"sort");var ee=this.clauses;ee.orderBy||(ee.orderBy=[]),ee.orderBy.push(de)}addSelect(de){g.f.assertValue(de,"select"),this.clauses.select.push(de)}addGroupBy(de){g.f.assertValue(de,"groupBy");var ee=this.clauses;ee.groupBy||(ee.groupBy=[]),ee.groupBy.push(de)}addTransform(de){g.f.assertValue(de,"transformItem");var ee=this.clauses;ee.transforms||(ee.transforms=[]),ee.transforms.push(de)}setTop(de){this.clauses.top=de}toQuery(){return m.vQ.createWith(this.clauses,!0)}toFilter(){var de=this.clauses;if(g.f.assert(()=>!de.orderBy&&0===de.select.length,"toFilter must not have orderBy/select specified."),de.from&&de.where)return new m.yl(de.from,de.where)}}var C=e(152323),y=e(59243);class S{static serializeQuery(de,ee=!1,Pe=!1){g.f.assertValue(de,"query");var We=[],it=de.from();this.serializeFrom(it,We);var et,yt=this.serializeQueryFilters(de.where(),u.create,!1),mt=de.transforms();if(!_.isEmpty(mt))for(var ie of(et=[],mt)){var Y=_.map(ie.input.parameters,Bt=>u.createNamed(Bt,ee)),fe={Name:ie.name,Algorithm:ie.algorithm,Input:{Parameters:Y},Output:void 0};if(ie.input.table){var Be=this.serializeTransformTableColumns(ie.input.table.columns);fe.Input.Table={Name:ie.input.table.name,Columns:Be}}if(ie.output&&ie.output.table){var Ze=this.serializeTransformTableColumns(ie.output.table.columns);fe.Output={Table:{Name:ie.output.table.name,Columns:Ze}}}et.push(fe)}for(var ct=this.serializeSortDefinitions(de.orderBy(),ee),St=[],Rt=de.select(),kt=0,Gt=Rt.length;kt<Gt;kt++)St.push(u.createNamed(Rt[kt],ee,Pe));var Ht,tr=de.groupBy();if(tr&&tr.length){Ht=[];for(var ar=0,He=tr.length;ar<He;ar++)Ht.push(u.createNamed(tr[ar],ee))}var Mt={Version:C.L.Version2,From:We,Select:St};return yt&&(Mt.Where=yt),et&&(Mt.Transform=et),ct&&(Mt.OrderBy=ct),Ht&&(Mt.GroupBy=Ht),de.top()&&(Mt.Top=de.top()),Mt}static serializeSortDefinitions(de,ee){var Pe;if(de&&de.length){Pe=[];for(var We=0,it=de.length;We<it;We++){var yt=de[We];Pe.push({Direction:yt.direction,Expression:u.create(yt.expr,ee)})}}return Pe}static tryDeserializeQuery(de){var ee;try{ee=this.deserializeQuery(de)}catch{}if(ee&&!this.isMalformed(ee))return ee}static isMalformed(de){for(var ee of de.select())if(!ee.expr)return!0;return!1}static serializeQueryFilters(de,ee,Pe){var We;if(!_.isEmpty(de))for(var it of(We=[],de)){var yt={Condition:ee(it.condition,Pe)};if(!_.isEmpty(it.target))for(var et of(yt.Target=[],it.target))yt.Target.push(ee(et,Pe));it.annotations&&(yt.Annotations=it.annotations),We.push(yt)}return We}static deserializeQuery(de){g.f.assertValue(de,"contract");var ee=de.Version?de.Version:C.L.Version0,Pe=ee<C.L.Version1,We=h.from(de.From),it=new c(We),yt=de.Where;if(yt)for(var et=0,mt=yt.length;et<mt;et++){var ie=h.filter(yt[et],We);ie&&(Pe&&(ie=f.Upgrade(ee,ie)),it.addWhere(ie))}var Y=de.Transform,fe=We;if(!_.isEmpty(Y)){var Be={},Ze=We.keys();for(var ct of Ze)Be[ct]=We.source(ct);for(var St=0,Rt=Y.length;St<Rt;St++){if(Y[St].Input&&Y[St].Input.Table){var kt=Y[St].Input.Table.Name;Be[kt]=new o.SX(void 0,kt)}if(Y[St].Output&&Y[St].Output.Table){var Gt=Y[St].Output.Table.Name;Be[Gt]=new o.SX(void 0,Gt)}}fe=new o.cL(Be);for(var Ht=0,tr=Y.length;Ht<tr;Ht++)it.addTransform(h.transform(Y[Ht],fe))}var ar=de.OrderBy;if(ar)for(var He=0,Mt=ar.length;He<Mt;He++)it.addOrderBy(h.sort(ar[He],We));for(var Bt=de.Select,ze={},st=0,Lt=Bt.length;st<Lt;st++)it.addSelect(h.select(Bt[st],ze,fe));var Qt=de.GroupBy;if(Qt)for(var $t={},lr=0,gr=Qt.length;lr<gr;lr++)it.addGroupBy(h.groupBy(Qt[lr],$t,We));return de.Top&&it.setTop(de.Top),it.toQuery()}static deserializeSortDefinitions(de,ee){return _.isEmpty(de)?[]:_.map(de,Pe=>h.sort(Pe,ee))}static serializeFilter(de){var ee=[],Pe=de.from();this.serializeFrom(Pe,ee);var We=this.serializeQueryFilters(de.where(),u.create,!1);return{Version:C.L.Version2,From:ee,Where:We}}static serializeFrom(de,ee){for(var Pe=de.keys(),We=new E(de),it=0,yt=Pe.length;it<yt;it++)ee.push(de.source(Pe[it]).accept(We,it))}static deserializeFrom(de){return h.from(de)}static deserializeFilter(de,ee){g.f.assertValue(de,"contract");var Pe=de.Version?de.Version:C.L.Version0,We=Pe<C.L.Version1,it=h.from(de.From),yt=new c(it),et=de.Where;if(et)for(var mt=0,ie=et.length;mt<ie;mt++){var Y=h.filter(et[mt],it);Y?(We&&(Y=f.Upgrade(Pe,Y)),yt.addWhere(Y)):ee&&(_.isEmpty(ee.RemovedIndexes)&&(ee.RemovedIndexes=[]),ee.RemovedIndexes.push(mt))}return yt.toFilter()}static serializeExpr(de,ee=!1){return g.f.assertValue(de,"contract"),u.create(de,!0,ee)}static serializeExprWithRef(de,ee=!1){return g.f.assertValue(de,"contract"),u.create(de,!1,ee)}static deserializeExpr(de){return g.f.assertValue(de,"input"),V(de)}static deserializeExprWithRef(de,ee){return g.f.assertValue(de,"input"),b(de,ee)}static serializeTransformTableColumns(de){return g.f.assertValue(de,"columns"),_.map(de,ee=>{var Pe={Expression:u.createNamed(ee.expression)};return ee.role&&(Pe.Role=ee.role),Pe})}}class h{static from(de){g.f.assertValue(de,"contract");var ee={};if(de)for(var Pe=0,We=de.length;Pe<We;Pe++){var it=de[Pe];switch(it.Type){case t.SM.Expression:ee[it.Name]=it.Expression.Subquery?new o.vd(S.deserializeQuery(it.Expression.Subquery.Query)):new o.Qo(V(it.Expression));break;case t.SM.Pod:ee[it.Name]=new o.QS(it.Schema,it.Entity);break;default:ee[it.Name]=new o.SX(it.Schema,it.Entity)}}return new o.cL(ee)}static filter(de,ee){g.f.assertValue(de,"contract");var Pe=ee?b(de.Condition,ee):V(de.Condition);if(Pe){var We={condition:Pe};if(de.Target)for(var it of(We.target=[],de.Target)){var yt=ee?b(it,ee):V(it);if(!yt)return;We.target.push(yt)}return de.Annotations&&(We.annotations=de.Annotations),We}}static sort(de,ee){return g.f.assertValue(de,"contract"),{direction:de.Direction,expr:b(de.Expression,ee)}}static select(de,ee,Pe){return h.toNamedQueryExpression(de,ee,Pe)}static groupBy(de,ee,Pe){return h.toNamedQueryExpression(de,ee,Pe)}static transform(de,ee){var Pe=_.map(de.Input.Parameters,et=>h.toNamedQueryExpression(et,{},ee)),We={name:de.Name,algorithm:de.Algorithm,input:{parameters:Pe},output:{}};if(de.Input.Table){var it=this.deserializeTransformTableColumns(de.Input.Table.Columns,ee);We.input.table={name:de.Input.Table.Name,columns:it}}if(de.Output&&de.Output.Table){var yt=this.deserializeTransformTableColumns(de.Output.Table.Columns,ee);We.output.table={name:de.Output.Table.Name,columns:yt}}return We}static toNamedQueryExpression(de,ee,Pe){g.f.assertValue(de,"contract"),g.f.assertValue(Pe,"from");var We=b(de,Pe),it=de.Name||(0,n.zE)(ee,(0,y.L)(We));ee[it]=!0;var yt={name:it,expr:We};return de.NativeReferenceName&&(yt.nativeReferenceName=de.NativeReferenceName),yt}static deserializeTransformTableColumns(de,ee){g.f.assertValue(de,"columns");var Pe={};return _.map(de,We=>({role:We.Role,expression:h.toNamedQueryExpression(We.Expression,Pe,ee)}))}}class E{constructor(de){this.from=de}visitEntity(de,ee){return{Name:this.from.keys()[ee],Entity:de.entity,Schema:de.schema,Type:t.SM.Table}}visitPod(de,ee){return{Name:this.from.keys()[ee],Entity:de.pod,Schema:de.schema,Type:t.SM.Pod}}visitSubquery(de,ee){return{Name:this.from.keys()[ee],Expression:{Subquery:{Query:S.serializeQuery(de.subquery)}},Type:t.SM.Expression}}visitExpr(de,ee){return{Name:this.from.keys()[ee],Expression:S.serializeExpr(de.expr),Type:t.SM.Expression}}}var u=(()=>{class ae{constructor(ee,Pe){this.standalone=ee,this.serializeAnnotations=Pe}static getInstance(ee,Pe){ee||(ee=!1),Pe||(Pe=!1);var We=[+ee,+Pe].reduce((yt,et)=>yt<<1|et),it=ae.instances[We];return it||(it=new ae(ee,Pe)),it}static create(ee,Pe=!1,We=!1){return ee.accept(ae.getInstance(Pe,We))}static createNamed(ee,Pe=!1,We=!1){var it=ae.getInstance(Pe,We),yt=ee.expr.accept(it);return ee.name&&(yt.Name=ee.name),ee.nativeReferenceName&&(yt.NativeReferenceName=ee.nativeReferenceName),yt}visitColumnRef(ee){return this.addAnnotations(ee,{Column:{Expression:ee.source.accept(this),Property:ee.ref}})}visitMeasureRef(ee){return this.addAnnotations(ee,{Measure:{Expression:ee.source.accept(this),Property:ee.ref}})}visitNativeMeasure(ee){var Pe={Language:ee.language,Expression:ee.expression,DataType:ee.dataType};ee.proposedName&&(Pe.ProposedName=ee.proposedName),ee.format&&(Pe.Format=ee.format);var We=ee.expressionContentCache;return!We||!We.dependencies&&null==We.unrecognizedIdentifiers?{NativeMeasure:Pe}:(Pe.ExpressionContentCache={},We.dependencies&&(Pe.ExpressionContentCache.Dependencies=this.serializeAll(We.dependencies)),null!=We.unrecognizedIdentifiers&&(Pe.ExpressionContentCache.UnrecognizedIdentifiers=We.unrecognizedIdentifiers),this.addAnnotations(ee,{NativeMeasure:Pe}))}visitNativeColumn(ee){var Pe={Language:ee.language,Expression:ee.expression,DataType:ee.dataType,Source:ee.source.accept(this)};ee.proposedName&&(Pe.ProposedName=ee.proposedName),ee.format&&(Pe.Format=ee.format);var We=ee.expressionContentCache;return!We||!We.dependencies&&null==We.unrecognizedIdentifiers||(Pe.ExpressionContentCache={},We.dependencies&&(Pe.ExpressionContentCache.Dependencies=this.serializeAll(We.dependencies)),null!=We.unrecognizedIdentifiers&&(Pe.ExpressionContentCache.UnrecognizedIdentifiers=We.unrecognizedIdentifiers)),this.addAnnotations(ee,{NativeColumn:Pe})}visitAggr(ee){if(!_.isNil(ee.includeAllTypes))switch(ee.func){case t.B8.Min:return this.addAnnotations(ee,{Min:{Expression:ee.arg.accept(this),IncludeAllTypes:ee.includeAllTypes}});case t.B8.Max:return this.addAnnotations(ee,{Max:{Expression:ee.arg.accept(this),IncludeAllTypes:ee.includeAllTypes}})}return this.addAnnotations(ee,{Aggregation:{Expression:ee.arg.accept(this),Function:ee.func}})}visitPercentile(ee){var Pe=this.addAnnotations(ee,{Percentile:{Expression:ee.arg.accept(this),K:ee.k}});return ee.exclusive&&(Pe.Percentile.Exclusive=ee.exclusive),Pe}visitRangePercent(ee){return this.addAnnotations(ee,{RangePercent:{Min:ee.min.accept(this),Max:ee.max.accept(this),Percent:ee.percent}})}visitHierarchy(ee){return this.addAnnotations(ee,{Hierarchy:{Expression:ee.arg.accept(this),Hierarchy:ee.hierarchy}})}visitPropertyVariationSource(ee){var Pe=ee.arg.accept(this);return this.addAnnotations(ee,{PropertyVariationSource:{Expression:{SourceRef:Pe.SourceRef},Name:ee.name,Property:ee.property}})}visitHierarchyLevel(ee){return this.addAnnotations(ee,{HierarchyLevel:{Expression:ee.arg.accept(this),Level:ee.level}})}visitSelectRef(ee){return g.f.assert(()=>void 0===ee.attributeKind||null==ee.attributeKind,"Serialization of expr.attributeKind is not supported."),this.addAnnotations(ee,{SelectRef:{ExpressionName:ee.expressionName}})}visitBetween(ee){return this.addAnnotations(ee,{Between:{Expression:ee.arg.accept(this),LowerBound:ee.lower.accept(this),UpperBound:ee.upper.accept(this)}})}visitIn(ee){var Pe=this.serializeAll(ee.args),We=ee.values;if(We){for(var it=[],yt=0,et=We.length;yt<et;yt++)it.push(this.serializeAll(We[yt]));return this.addAnnotations(ee,{In:{Expressions:Pe,Values:it}})}return this.addAnnotations(ee,{In:{Expressions:this.serializeAll(ee.args),Table:ee.table.accept(this)}})}visitEntity(ee){var Pe;return g.f.assertValue(ee,"expr"),this.standalone?Pe={Schema:ee.schema,Entity:ee.entity}:(g.f.assertValue(ee.variable,"expr.variable"),Pe={Source:ee.variable}),this.addAnnotations(ee,{SourceRef:Pe})}visitSubqueryRef(ee){return g.f.assertValue(ee,"expr"),ee.variable&&!ee.query?this.addAnnotations(ee,{SourceRef:{Source:ee.variable}}):this.standalone?this.addAnnotations(ee,{Subquery:{Query:S.serializeQuery(ee.query,!1,this.serializeAnnotations)}}):void g.f.assertFail("The inlined subquery is only expected to be there in standalone mode.")}visitNamedQueryRef(ee){return this.standalone?this.addAnnotations(ee,{NamedQueryReference:{Name:ee.queryName}}):(g.f.assertValue(ee.variable,"expr.variable"),this.addAnnotations(ee,{SourceRef:{Source:ee.variable}}))}visitAnd(ee){return g.f.assertValue(ee,"expr"),this.addAnnotations(ee,{And:{Left:ee.left.accept(this),Right:ee.right.accept(this)}})}visitOr(ee){return g.f.assertValue(ee,"expr"),this.addAnnotations(ee,{Or:{Left:ee.left.accept(this),Right:ee.right.accept(this)}})}visitCompare(ee){return g.f.assertValue(ee,"expr"),this.addAnnotations(ee,{Comparison:{ComparisonKind:ee.comparison,Left:ee.left.accept(this),Right:ee.right.accept(this)}})}visitConditional(ee){g.f.assertValue(ee,"expr");var Pe=this.addAnnotations(ee,{Conditional:{Cases:_.map(ee.cases,it=>this.visitCase(it))}}),We=ee.defaultValue;return We&&(Pe.Conditional.DefaultValue=We.accept(this)),Pe}visitCase(ee){return{Condition:ee.condition.accept(this),Value:ee.value.accept(this)}}visitContains(ee){return g.f.assertValue(ee,"expr"),this.addAnnotations(ee,{Contains:{Left:ee.left.accept(this),Right:ee.right.accept(this)}})}visitDateAdd(ee){return g.f.assertValue(ee,"expr"),this.addAnnotations(ee,{DateAdd:{Expression:ee.arg.accept(this),Amount:ee.amount,TimeUnit:ee.unit}})}visitDateSpan(ee){return g.f.assertValue(ee,"expr"),this.addAnnotations(ee,{DateSpan:{Expression:ee.arg.accept(this),TimeUnit:ee.unit}})}visitExists(ee){return g.f.assertValue(ee,"expr"),this.addAnnotations(ee,{Exists:{Expression:ee.arg.accept(this)}})}visitNot(ee){return g.f.assertValue(ee,"expr"),this.addAnnotations(ee,{Not:{Expression:ee.arg.accept(this)}})}visitNow(ee){return g.f.assertValue(ee,"expr"),this.addAnnotations(ee,{Now:{}})}visitDefaultValue(ee){return g.f.assertValue(ee,"expr"),this.addAnnotations(ee,{DefaultValue:{}})}visitAnyValue(ee){g.f.assertValue(ee,"expr");var Pe={};return null!=ee.defaultValueOverridesAncestors&&(Pe.DefaultValueOverridesAncestors=ee.defaultValueOverridesAncestors),this.addAnnotations(ee,{AnyValue:Pe})}visitFillRule(ee){g.f.assertValue(ee,"expr");var Pe={},We=ee.rule;return We.linearGradient2&&(Pe.linearGradient2=this.visitLinearGradient2(We.linearGradient2)),We.linearGradient3&&(Pe.linearGradient3=this.visitLinearGradient3(We.linearGradient3)),this.addAnnotations(ee,{FillRule:{Input:ee.input.accept(this),FillRule:Pe}})}visitLinearGradient2(ee){g.f.assertValue(ee,"visitLinearGradient2 - gradient");var Pe={min:this.visitRuleStop(ee.min),max:this.visitRuleStop(ee.max)},We=this.visitNullColoringStrategy(ee.nullColoringStrategy);return We&&(Pe.nullColoringStrategy=We),Pe}visitLinearGradient3(ee){g.f.assertValue(ee,"visitLinearGradient3 - gradient");var Pe={min:this.visitRuleStop(ee.min),mid:this.visitRuleStop(ee.mid),max:this.visitRuleStop(ee.max)},We=this.visitNullColoringStrategy(ee.nullColoringStrategy);return We&&(Pe.nullColoringStrategy=We),Pe}visitRuleStop(ee){g.f.assertValue(ee,"stop");var Pe={color:ee.color.accept(this)};return ee.value&&(Pe.value=ee.value.accept(this)),Pe}visitNullColoringStrategy(ee){if(ee){g.f.assertValue(ee.strategy,"visitNullColoringStrategy - input.strategy");var Pe={strategy:ee.strategy.accept(this)};return ee.color&&(Pe.color=ee.color.accept(this)),Pe}}visitThemeDataColor(ee){return this.addAnnotations(ee,{ThemeDataColor:{ColorId:ee.colorId,Percent:ee.percent}})}visitStartsWith(ee){return g.f.assertValue(ee,"expr"),this.addAnnotations(ee,{StartsWith:{Left:ee.left.accept(this),Right:ee.right.accept(this)}})}visitGroupRef(ee){return g.f.assertValue(ee,"expr"),this.addAnnotations(ee,{GroupRef:{Expression:ee.source.accept(this),Property:ee.ref,GroupedColumns:_.map(ee.groupedExprs,Pe=>Pe.accept(this))}})}visitConstant(ee){switch(g.f.assertValue(ee,"expr"),ee.type.primitiveType){case i.M.Boolean:case i.M.DateTime:case i.M.Decimal:case i.M.Integer:case i.M.Double:case i.M.Null:case i.M.Text:return this.addAnnotations(ee,{Literal:{Value:ee.valueEncoded}});default:g.f.assertFail("Unrecognized kind: "+ee.type.primitiveType)}}visitArithmetic(ee){return g.f.assertValue(ee,"expr"),this.addAnnotations(ee,{Arithmetic:{Left:ee.left.accept(this),Right:ee.right.accept(this),Operator:ee.operator}})}visitFloor(ee){g.f.assertValue(ee,"expr");var Pe=this.addAnnotations(ee,{Floor:{Expression:ee.arg.accept(this),Size:ee.size}});return null!=ee.timeUnit&&(Pe.Floor.TimeUnit=ee.timeUnit),Pe}visitResourcePackageItem(ee){return g.f.assertValue(ee,"expr"),this.addAnnotations(ee,{ResourcePackageItem:{PackageName:ee.packageName,PackageType:ee.packageType,ItemName:ee.itemName}})}visitScopedEval(ee){return g.f.assertValue(ee,"expr"),this.addAnnotations(ee,{ScopedEval:{Expression:ee.expression.accept(this),Scope:this.serializeAll(ee.scope)}})}visitFilteredEval(ee){return g.f.assertValue(ee,"expr"),this.addAnnotations(ee,{FilteredEval:{Expression:ee.expression.accept(this),Filters:S.serializeQueryFilters(ee.filters,ae.create,this.standalone)}})}visitWithRef(ee){return g.f.assertValue(ee,"expr"),this.addAnnotations(ee,{WithRef:{ExpressionName:ee.expressionName}})}visitTransformTableRef(ee){return this.addAnnotations(ee,{TransformTableRef:{Source:ee.source}})}visitTransformOutputRoleRef(ee){return this.addAnnotations(ee,{TransformOutputRoleRef:{Role:ee.role,Transform:ee.transform}})}visitRoleRef(ee){return g.f.assertValue(ee,"expr"),this.addAnnotations(ee,{RoleRef:{Role:ee.role}})}visitSummaryValueRef(ee){return g.f.assertValue(ee,"expr"),this.addAnnotations(ee,{SummaryValueRef:{Name:ee.name}})}visitAllRolesRef(ee){return g.f.assertValue(ee,"expr"),this.addAnnotations(ee,{AllRolesRef:{}})}visitDiscretize(ee){return this.addAnnotations(ee,{Discretize:{Expression:ee.source.accept(this),Count:ee.count}})}visitMember(ee){return this.addAnnotations(ee,{Member:{Expression:ee.source.accept(this),Member:ee.member}})}visitSparklineData(ee){var Pe={SparklineData:{Measure:ee.measure.accept(this),Groupings:this.serializeAll(ee.grouping),PointsPerSparkline:ee.pointsPerSparkline}};return ee.scalarKey&&(Pe.SparklineData.ScalarKey=ee.scalarKey.accept(this)),ee.includeMinGroupingInterval&&(Pe.SparklineData.IncludeMinGroupingInterval=ee.includeMinGroupingInterval),Pe}serializeAll(ee){for(var Pe=[],We=0,it=ee.length;We<it;We++)Pe.push(ee[We].accept(this));return Pe}visitNativeVisualCalc(ee,Pe){var We={Language:ee.language,Expression:ee.expression,Name:ee.name};return null!=ee.dataType&&(We.DataType=(0,a.p)(ee.dataType)),this.addAnnotations(ee,{NativeVisualCalculation:We})}visitVisualTopN(ee,Pe){return{VisualTopN:{ItemCount:ee.itemCount}}}addAnnotations(ee,Pe){if(this.serializeAnnotations){var We=ee.getAnnotations();We&&(Pe.Annotations=We)}return Pe}}return ae.instances=[],ae})();class f{static Upgrade(de,ee){if(!ee||!ee.condition)return null;var Pe=(0,p._)(ee.condition);return de===C.L.Version0&&Pe!==s.Ld.Exists?{condition:ee.condition}:ee}}function b(ae,de){return g.f.assertValue(ae,"contract"),function(ae,de){if(ae.Column){var ee=b(ae.Column.Expression,de);if(ee)return(0,d.Oh)(ee,ae.Column.Property,ae.Annotations)}}(ae,de)||function(ae,de){if(ae.Measure){var ee=b(ae.Measure.Expression,de);if(ee)return(0,d.mv)(ee,ae.Measure.Property,ae.Annotations)}}(ae,de)||function(ae,de){var ee;if(ae.NativeMeasure)return ae.NativeMeasure.ExpressionContentCache&&(ee={unrecognizedIdentifiers:ae.NativeMeasure.ExpressionContentCache.UnrecognizedIdentifiers,dependencies:T(ae.NativeMeasure.ExpressionContentCache.Dependencies)}),"dax"!==ae.NativeMeasure.Language&&g.f.assertFail("QueryNativeMeasure is using unexpected language: "+ae.NativeMeasure.Language),(0,d.PB)(ae.NativeMeasure.Language,ae.NativeMeasure.Expression,ae.NativeMeasure.DataType,ae.NativeMeasure.ProposedName,ee,ae.NativeMeasure.Format,ae.Annotations)}(ae)||function(ae,de){if(ae.NativeColumn){var ee;if(ae.NativeColumn.ExpressionContentCache&&(ee={unrecognizedIdentifiers:ae.NativeColumn.ExpressionContentCache.UnrecognizedIdentifiers,dependencies:T(ae.NativeColumn.ExpressionContentCache.Dependencies)}),"dax"!==ae.NativeColumn.Language)return void g.f.assertFail("QueryNativeColumn is using unexpected language: "+ae.NativeColumn.Language);if(!ae.NativeColumn.Source)return void g.f.assertFail("QueryNativeColumn should have a source");var Pe=b(ae.NativeColumn.Source,de);return(0,d.sl)(ae.NativeColumn.Language,ae.NativeColumn.Expression,ae.NativeColumn.DataType,Pe,ae.NativeColumn.ProposedName,ee,ae.NativeColumn.Format,ae.Annotations)}}(ae,de)||function(ae,de){if(ae.SourceRef){if(!de){var it=ae.SourceRef;return(0,d.nw)(it.Schema,it.Entity,void 0,ae.Annotations)}var Pe=ae.SourceRef.Source,We=de.source(Pe);if(We)return(0,o.$r)(We)?(0,d.nw)(We.schema,We.entity,Pe,ae.Annotations):(0,o.Yg)(We)?(0,d.nw)(We.schema,We.pod,Pe):(0,r.y)(We)?(0,d.v5)(Pe,ae.Annotations):(g.f.assert(()=>(0,o.Ms)(We),"Expected an ExpressionSource"),We.expr.as(Pe))}}(ae,de)||function(ae,de){if(ae.Aggregation){var ee=b(ae.Aggregation.Expression,de);if(ee)return(0,d.m_)(ee,ae.Aggregation.Function,void 0,ae.Annotations)}}(ae,de)||function(ae,de){if(ae.Min){var ee=b(ae.Min.Expression,de);if(ee)return(0,d.m_)(ee,t.B8.Min,ae.Min.IncludeAllTypes,ae.Annotations)}}(ae,de)||function(ae,de){if(ae.Max){var ee=b(ae.Max.Expression,de);if(ee)return(0,d.m_)(ee,t.B8.Max,ae.Max.IncludeAllTypes,ae.Annotations)}}(ae,de)||function(ae,de){if(ae.SelectRef)return(0,d.xA)(ae.SelectRef.ExpressionName,void 0,ae.Annotations)}(ae)||function(ae,de){if(ae.Percentile){var ee=b(ae.Percentile.Expression,de);if(ee)return(0,d.Pe)(ee,ae.Percentile.K,ae.Percentile.Exclusive||!1,ae.Annotations)}}(ae,de)||function(ae,de){if(ae.RangePercent){var ee=b(ae.RangePercent.Min,de),Pe=b(ae.RangePercent.Max,de);if(ee&&Pe)return(0,d.Mj)(ee,Pe,ae.RangePercent.Percent,ae.Annotations)}}(ae,de)||function(ae,de){if(ae.Arithmetic){var ee=b(ae.Arithmetic.Left,de),Pe=b(ae.Arithmetic.Right,de);if(ee&&Pe)return(0,d.Y8)(ee,Pe,ae.Arithmetic.Operator,ae.Annotations)}}(ae,de)||function(ae,de){if(ae.Floor){var ee=b(ae.Floor.Expression,de);if(ee)return(0,d.GW)(ee,ae.Floor.Size,ae.Floor.TimeUnit,ae.Annotations)}}(ae,de)||function(ae,de){if(ae.Discretize){var ee=b(ae.Discretize.Expression,de);if(ee)return(0,d.h5)(ee,ae.Discretize.Count,ae.Annotations)}}(ae,de)||function(ae,de){if(ae.Member){var ee=b(ae.Member.Expression,de);if(ee)return(0,d.fP)(ee,ae.Member.Member,ae.Annotations)}}(ae,de)||function(ae,de){if(ae.Hierarchy){var ee=b(ae.Hierarchy.Expression,de);if(ee)return(0,d.bT)(ee,ae.Hierarchy.Hierarchy,ae.Annotations)}}(ae,de)||function(ae,de){if(ae.HierarchyLevel){var ee=b(ae.HierarchyLevel.Expression,de);if(ee)return(0,d.os)(ee,ae.HierarchyLevel.Level,ae.Annotations)}}(ae,de)||function(ae,de){if(ae.PropertyVariationSource){var ee=b(ae.PropertyVariationSource.Expression,de);if(ee)return(0,d.yU)(ee,ae.PropertyVariationSource.Name,ae.PropertyVariationSource.Property,ae.Annotations)}}(ae,de)||function(ae,de){if(ae.And){var ee=b(ae.And.Left,de),Pe=b(ae.And.Right,de);if(ee&&Pe)return(0,d.xD)(ee,Pe,ae.Annotations)}}(ae,de)||function(ae,de){if(ae.Between){var ee=b(ae.Between.Expression,de),Pe=b(ae.Between.LowerBound,de),We=b(ae.Between.UpperBound,de);if(ee&&Pe&&We)return(0,d.vX)(ee,Pe,We,ae.Annotations)}}(ae,de)||function(ae,de){if(ae.In){if(ae.In.Values)return(0,d.Sh)(T(ae.In.Expressions,de),_.map(ae.In.Values,Pe=>T(Pe,de)));var ee=b(ae.In.Table,de);if(ee)return(0,d.dY)(T(ae.In.Expressions,de),ee,ae.Annotations)}}(ae,de)||function(ae,de){if(ae.Or){var ee=b(ae.Or.Left,de),Pe=b(ae.Or.Right,de);if(ee&&Pe)return(0,d.or)(ee,Pe,ae.Annotations)}}(ae,de)||function(ae,de){if(ae.Contains){var ee=b(ae.Contains.Left,de),Pe=b(ae.Contains.Right,de);if(ee&&Pe)return(0,d.r3)(ee,Pe,ae.Annotations)}}(ae,de)||function(ae,de){if(ae.Comparison){var ee=b(ae.Comparison.Left,de),Pe=b(ae.Comparison.Right,de);if(ee&&Pe)return(0,d.qu)(ae.Comparison.ComparisonKind,ee,Pe,ae.Annotations)}}(ae,de)||function(ae,de){if(ae.Conditional){for(var ee=ae.Conditional.Cases,Pe=ee.length,We=new Array(Pe),it=0;it<Pe;it++){var yt=se(ee[it]);if(!yt){We=void 0;break}We[it]=yt}if(ae.Conditional.DefaultValue){var et=b(ae.Conditional.DefaultValue);if(We&&et)return(0,d.u7)(We,et,ae.Annotations)}else if(We)return(0,d.u7)(We,void 0,ae.Annotations)}}(ae)||function(ae,de){if(ae.DateAdd){var ee=b(ae.DateAdd.Expression,de);if(ee)return(0,d.sO)(ae.DateAdd.TimeUnit,ae.DateAdd.Amount,ee,ae.Annotations)}}(ae,de)||function(ae,de){if(ae.DateSpan){var ee=b(ae.DateSpan.Expression,de);if(ee)return(0,d.uQ)(ae.DateSpan.TimeUnit,ee,ae.Annotations)}}(ae,de)||function(ae,de){if(ae.Exists){var ee=b(ae.Exists.Expression,de);if(ee)return(0,d.Gg)(ee,ae.Annotations)}}(ae,de)||function(ae,de){if(ae.Not){var ee=b(ae.Not.Expression,de);if(ee)return(0,d.ff)(ee,ae.Annotations)}}(ae,de)||function(ae){if(ae.Now)return(0,d.zO)(ae.Annotations)}(ae)||function(ae){if(ae.DefaultValue)return(0,d.LS)(ae.Annotations)}(ae)||function(ae){if(ae.AnyValue)return(0,d.n7)(ae.AnyValue.DefaultValueOverridesAncestors,ae.Annotations)}(ae)||function(ae,de){if(ae.StartsWith){var ee=b(ae.StartsWith.Left,de),Pe=b(ae.StartsWith.Right,de);if(ee&&Pe)return(0,d.Ny)(ee,Pe,ae.Annotations)}}(ae,de)||function(ae,de){if(ae.FillRule){var ee=b(ae.FillRule.Input,de),Pe=ae.FillRule,We={},it=Pe.FillRule.linearGradient2,yt=Pe.FillRule.linearGradient3;if(it){We.linearGradient2={min:ye(it.min,de),max:ye(it.max,de)};var et=Je(it.nullColoringStrategy,de);et&&(We.linearGradient2.nullColoringStrategy=et)}else if(yt){We.linearGradient3={min:ye(yt.min,de),mid:ye(yt.mid,de),max:ye(yt.max,de)};var mt=Je(yt.nullColoringStrategy,de);mt&&(We.linearGradient3.nullColoringStrategy=mt)}return(0,d.x5)(ee,We,ae.Annotations)}}(ae,de)||function(ae){if(ae.ThemeDataColor)return(0,d.e7)(ae.ThemeDataColor.ColorId,ae.ThemeDataColor.Percent,ae.Annotations)}(ae)||function(ae,de){if(ae.ResourcePackageItem)return(0,d.nF)(ae.ResourcePackageItem.PackageName,ae.ResourcePackageItem.PackageType,ae.ResourcePackageItem.ItemName,ae.Annotations)}(ae)||function(ae,de){if(ae.ScopedEval){var ee=b(ae.ScopedEval.Expression,de);if(ee)return(0,d.ed)(ee,T(ae.ScopedEval.Scope,de),ae.Annotations)}}(ae,de)||function(ae,de){if(ae.FilteredEval){var ee=b(ae.FilteredEval.Expression,de);return(0,d.Xw)(ee,_.map(ae.FilteredEval.Filters,Pe=>h.filter(Pe,de)),ae.Annotations)}}(ae,de)||function(ae,de){if(ae.WithRef)return(0,d.Oe)(ae.WithRef.ExpressionName,ae.Annotations)}(ae)||function(ae,de){if(ae.TransformTableRef)return(0,d.GB)(ae.TransformTableRef.Source,ae.Annotations)}(ae)||function(ae,de){if(ae.TransformOutputRoleRef)return(0,d.hu)(ae.TransformOutputRoleRef.Role,ae.TransformOutputRoleRef.Transform,ae.Annotations)}(ae)||function(ae){if(ae.Literal)return(0,v.bE)(ae.Literal.Value)}(ae)||function(ae,de){if(ae.GroupRef){var ee=b(ae.GroupRef.Expression,de),Pe=_.map(ae.GroupRef.GroupedColumns,We=>b(We,de));if(ee&&!_.isEmpty(Pe))return(0,d.Wp)(ae.GroupRef.Property,ee,Pe,ae.Annotations)}}(ae,de)||function(ae){if(ae.RoleRef)return(0,d.Wu)(ae.RoleRef.Role,ae.Annotations)}(ae)||function(ae){if(ae.AllRolesRef)return(0,d.lI)(ae.Annotations)}(ae)||function(ae){if(ae.NamedQueryReference)return(0,d.kD)(ae.NamedQueryReference.Name,void 0,ae.Annotations)}(ae)||function(ae){if(ae.Subquery)return(0,d.v5)(S.deserializeQuery(ae.Subquery.Query),ae.Annotations)}(ae)||function(ae){return function(ae){if(ae.Boolean)return(0,d.O7)(ae.Boolean.Value,ae.Annotations)}(ae)||Ce(ae)||function(ae){if(ae.DateTimeSecond){var de=bt(ae.DateTimeSecond);return(0,d.uQ)(t.j1.Second,(0,d.CQ)(de),ae.Annotations)}}(ae)||Ce(ae)||function(ae){if(ae.Decimal)return(0,d.gH)(ae.Decimal.Value,void 0,ae.Annotations)}(ae)||function(ae){if(ae.Integer)return(0,d.cA)(ae.Integer.Value,void 0,ae.Annotations)}(ae)||function(ae){if(ae.Null)return(0,d.IF)()}(ae)||function(ae){if(ae.Number)return(0,v.bE)(ae.Number.Value)}(ae)||function(ae){if(ae.String)return(0,d.fL)(ae.String.Value,void 0,ae.Annotations)}(ae)}(ae)||function(ae){if(ae.SummaryValueRef)return(0,d.bO)(ae.SummaryValueRef.Name,ae.Annotations)}(ae)||function(ae,de){var ee=ae.SparklineData;if(ee)return(0,d.Zy)(b(ee.Measure,de),T(ee.Groupings,de),ee.ScalarKey?b(ae.SparklineData.ScalarKey,de):void 0,ee.PointsPerSparkline,ee.IncludeMinGroupingInterval)}(ae,de)||function(ae,de){var ee=ae.NativeVisualCalculation;if(ee){var Pe=ee.DataType?(0,a.P)(ee.DataType):void 0;return(0,d.YU)(ee.Name,ee.Expression,Pe,ae.Annotations)}}(ae)||function(ae,de){var ee=ae.VisualTopN;if(ee)return(0,d.Fo)(ee.ItemCount)}(ae)}function V(ae){return b(ae,null)}function T(ae,de){for(var ee=[],Pe=0,We=ae.length;Pe<We;Pe++)ee.push(b(ae[Pe],de));return ee}function se(ae){if(ae){var de=b(ae.Condition),ee=b(ae.Value);if(de&&ee)return{condition:de,value:ee}}}function ye(ae,de){if(ae){var ee={color:b(ae.color,de)};return ae.value&&(ee.value=b(ae.value,de)),ee}}function Je(ae,de){if(ae){var ee={strategy:b(ae.strategy,de)};return ae.color&&(ee.color=b(ae.color,de)),ee}}function Ce(ae){var de=ae.DateTime||ae.Date;if(de){var ee=bt(de);if(ee)return(0,d.CQ)(ee,void 0,ae.Annotations)}}function bt(ae){return g.f.assertValue(ae,"contract"),(0,l.TX)(ae.Value)}},342519:function(ve,j,e){e.d(j,{d:function(){return r}});var r="tabular"},983459:function(ve,j,e){e.d(j,{Ov:function(){return l},Rk:function(){return g}});var r=e(364419),i=e(650543),a=e(123975),t=e(118716);function l(){return new o}function g(v){var m=[];for(var c in v=p(v))if(v.hasOwnProperty(c)){var C=v[c],y=void 0;if(!C)continue;_.isDate(C)||null!=n(C.toString().substr(0,26))?y={dateTime:!0}:isNaN(+C)?_.isString(C)&&(y={text:!0}):y={numeric:!0},y&&m.push({name:c,type:y})}return m}function n(v){var m=null,c=+v;if(isNaN(c)){var h=(0,r.Kk)(v.toString());h&&(m=(0,a.Fg)(h))}else{var C=new Date;C.setDate(C.getDate()-d);var y=C.getTime();(C=new Date).setDate(C.getDate()+d);var S=C.getTime();c<y&&(c*=1e3),c>y&&c<S&&(m=(0,a.tU)(c))}return m}function p(v){try{return s(v)}catch{i.f.assertFail("Failed to flatten JSON object")}return v}function s(v,m,c){return m||(m={}),_.isObject(v)?_.forOwn(v,(C,y)=>{s(C,m,c?c+"."+y:y)}):m[c]=v,m}var d=7;class o{constructor(){this.clear()}add(m){i.f.assertValue(m,"data");var c=this.getKey(m.modelId,m.name);return this.tabularDataMap[c]=m,c}get(m){return i.f.assertValue(m,"key"),this.tabularDataMap[m]}remove(m){i.f.assertValue(m,"key"),delete this.tabularDataMap[m]}clear(){this.tabularDataMap={}}getKey(m,c){return i.f.assertValue(m,"modelId"),i.f.assertValue(c,"tableName"),m+"_"+c}mergeRows(m,c,C,y){i.f.assertValue(m,"modelId");var S=this.getKey(m,c),h=this.get(S);if(!h||!h.rowGroups){var E={modelId:m,name:c,rowGroups:C,lastVersion:y,columns:h&&h.columns};return this.constructColumnsMetadataIfNeeded(E),this.fixUpValues(E.rowGroups,E.columns),void this.add(E)}var u=[],f=h.rowGroups||[],b=C||[];for(this.fixUpValues(b,h.columns);!_.isEmpty(f)||!_.isEmpty(b);){var V=_.head(f),T=_.head(b);V&&!T?(this.appendRow(u,V,y),f.shift()):!V&&T?(this.appendRow(u,T,y),b.shift()):V.version<T.version?(this.appendRow(u,V,y),f.shift()):T&&(b.shift(),V.version===T.version&&f.shift(),this.appendRow(u,T,y))}h.rowGroups=u,h.lastVersion=y}constructColumnsMetadataIfNeeded(m){if(i.f.assertValue(m,"tabularData"),!m.columns){var c=_.last(m.rowGroups);if(c){var C=_.last(c.rows);C&&(m.columns=g(C))}}}fixUpValues(m,c){if(!_.isEmpty(m)){var C={},y={};for(var S of c)C[S.name]=S.type&&S.type.dateTime,y[S.name]=S.type&&S.type.numeric;for(var h of m)if(h.rows)for(var E=0;E<h.rows.length;E++){var u=h.rows[E]=p(h.rows[E]);for(var f in u)if(u.hasOwnProperty(f)){var b=u[f];if(b)if(C[f]){var V=n(b);V&&(u[f]=V)}else if(y[f]){var T=parseFloat(b.toString());isNaN(T)||(u[f]=T)}}}}}appendRow(m,c,C){i.f.assertValue(m,"rows"),i.f.assertValue(c,"row"),i.f.assert(()=>C>0,"Invalid version"),!(C-c.version>t.cm)&&m.push(c)}}},833497:function(ve,j,e){e.d(j,{Q:function(){return s},q:function(){return d}});var r=e(621244),i=e(650543),a=e(951202),t=e(36146),l=e(402623),g=e(442407),n=e(248505);function s(o){var v=_.indexOf(o,".");return v<0||v>=o.length-1?o:o.substr(v+1)}class d{constructor(v,m){i.f.assertValue(v,"host"),i.f.assertValue(m,"tabularData"),this.promiseFactory=v.promiseFactory(),this.tabularDataCache=m,this.columnToIndexMap={}}execute(v){i.f.assertValue(v,"options");var m=_.head(v.dataSources),C=this.buildDataView(v.command,m.modelId),y=this.promiseFactory.defer();return y.resolve(C),(0,r.w)(y)}transform(v,m,c){return null==v?{dataView:{metadata:{columns:[]},error:{code:"UndefinedData"}}}:{dataView:v}}buildDataView(v,m){i.f.assertValue(v,"command"),i.f.assertValue(m,"modelId");var c=v.mappings[0],C=this.tabularDataCache,y=C.get(C.getKey(m,v.tableName));i.f.assertValue(y,"tabularData");var S=d.getLastVersion(y)-v.dataWindow;if(y.rowGroups){var h=v&&_.head(v.Commands);if(h){var E=h.SemanticQueryDataShapeCommand;E&&E.Query&&E.Query.Select&&E.Query.Select.map((b,V)=>{this.columnToIndexMap[s(b.Name)]=V})}var u=this.filterTabularDataRowGroups(y.rowGroups,S),f=this.createDataView({rowGroups:u,columns:y.columns,modelId:y.modelId,name:y.name},c);return v.dataWindow&&(f.metadata.objects={categoryAxis:{duration:v.dataWindow}}),f}}filterTabularDataRowGroups(v,m){return i.f.assertValue(v,"rowGroups"),i.f.assertValue(m,"cutOff"),_.filter(v,c=>c.version>=m)}createDataView(v,m){i.f.assertValue(v,"tabularData"),i.f.assertValue(m,"mapping");var c={metadata:{columns:[]}},C=this.extractColumns(m),y=[];if(m.categorical){var S=this.getCategoricalDataViewInfo(C.categorical,v);c.categorical=S.dataView,_.isEmpty(c.categorical.values)&&(c.categorical.values=void 0),y.push(...S.columns||[])}if(m.table){var h=this.getSingleDataViewInfo(C.table,v);c.single=h.dataView;var E=h.columns[0];null==_.find(y,E)&&y.push(E)}return c.metadata.columns=y,c}getCategoricalDataViewInfo(v,m){i.f.assertValue(v,"categoricalColumns"),i.f.assertValue(m,"tabularData");var c=(0,t.h)();if(!_.isEmpty(v.categories)){var C=this.getCategoryColumnOption(v.categories,m);c.withCategory(C)}var y=this.getValueColumnOptions(v.categories,v.values,m);_.isEmpty(v.groupedValues)||v.groupedValues===v.categories?c.withValues({columns:y}):this.addGroupValues(v,m,c,y);var S=c.build();return{dataView:S.categorical,columns:S.metadata.columns}}addGroupValues(v,m,c,C){i.f.assertValue(v,"categoricalColumns"),i.f.assertValue(m,"tabularData"),i.f.assertValue(v.groupedValues,"groupedValues"),i.f.assertValue(C,"valueColumnOption");var y=s(v.groupedValues),S=this.getCategoryColumnOption(y,m),h=this.extractColumnValues(y,m),E=d.getUniqueValues(h),u=this.getValueToIndicesMap(h),f={},b=v.values;for(var V of b){var T=s(V),P=this.extractColumnValues(T,m);for(var D of E){var w=d.valueToString(D);null==f[w]&&(f[w]=[]);var A=_.at(P,u[w]);f[w].push({values:A})}}var R=_.values(f);_.isEmpty(R)||c.withGroupedValues({groupColumn:S,valueColumns:C,data:R})}getValueToIndicesMap(v){for(var m={},c=0,C=v.length;c<C;c++){var y=d.valueToString(v[c]),S=m[y];S?S.push(c):m[y]=[c]}return m}getSingleDataViewInfo(v,m){i.f.assertValue(v,"singleColumn"),i.f.assertValue(m,"tabularData");var c=this.getColumnMetadataAndValues(v,m);return{dataView:{value:c.values[c.values.length-1],column:c.metadataColumn},columns:[c.metadataColumn]}}extractColumns(v){i.f.assertValue(v,"mapping");var m=(f,b)=>{var V=f.items;if(V)for(var T of V)b.push(T.queryName)},c={},C=v.categorical;if(C){var y=[];(0,a.Sr)(C.categories,{visitRole:f=>{m(f,y)}});var S=[];(0,a.fl)(C.values,{visitRole:f=>{m(f,S)}});var h=[];(0,a.vS)(C.values,{visitRole:f=>{m(f,h)}}),i.f.assert(()=>h.length<=1,"grouped values length should be <= 1"),i.f.assert(()=>y.length<=1,"grouped values length should be <= 1"),c.categorical={categories:y[0],groupedValues:h[0],values:S}}var E=v.table;if(E){var u=[];(0,a.vV)(E,{visitRole:f=>{m(f,u)}}),i.f.assert(()=>1===u.length,"The length of the single column should be one"),c.table=u[0]}return c}getCategoryColumnOption(v,m){i.f.assertValue(v,"columnNames"),i.f.assertValue(m,"tabularData");var c=this.getColumnMetadataAndValues(v,m),C=d.getUniqueValues(c.values),y=(0,g.Oh)((0,g.nw)(null,m.name),v),S=_.map(C,h=>(0,l.TZ)((0,g.Dg)(y,(0,g.fL)(h.toString()))));return{source:c.metadataColumn,values:C,identityFrom:{fields:[y],identities:S}}}getValueColumnOptions(v,m,c){i.f.assertAnyValue(v,"categoryColumnName"),i.f.assertValue(m,"columnNames"),i.f.assertValue(c,"tabularData");var C=[];for(var y of m){var S=this.getColumnMetadataAndValues(y,c,v),h=S.values;!v&&!_.isEmpty(h)&&(h=[_.last(h)]);var E={source:S.metadataColumn,values:h,minLocal:_.min(h),maxLocal:_.max(h)};C.push(E)}return C}getColumnMetadataAndValues(v,m,c){i.f.assertValue(v,"columnName"),i.f.assertValue(m,"tabularData"),i.f.assertAnyValue(c,"categoryColumnName");var h,C=m.columns,y=s(v),S=this.columnToIndexMap[y];if(i.f.assert(()=>S>=0,"The column name should exist in tabular columns"),c){var E=s(c);h=this.extractUniqueColumnValues(y,m,E)}else h=this.extractColumnValues(y,m);var u=_.find(C,b=>b.name===y);return{metadataColumn:d.createMetadataColumn(y,S,n.Ge.fromDescriptor(u.type)),values:h}}extractColumnValues(v,m){i.f.assertValue(v,"columnName"),i.f.assertValue(m,"tabularData");var c=m.rowGroups,C=[];for(var y of c)for(var S of y.rows)C.push(S[v]);return C}extractUniqueColumnValues(v,m,c){i.f.assertValue(v,"columnName"),i.f.assertValue(m,"tabularData"),i.f.assertValue(c,"categoryName");var C=m.rowGroups,y={};for(var S of C)for(var h of S.rows)y[d.valueToString(h[c])]=h[v];return _.values(y)}static getLastVersion(v){if(i.f.assertValue(v,"tabularData"),_.isEmpty(v.rowGroups))return v.lastVersion?v.lastVersion:Number.NEGATIVE_INFINITY;var m=Number.NEGATIVE_INFINITY;if(!v.rowGroups)return m;for(var c of v.rowGroups)c.version>m&&(m=c.version);return m}static createMetadataColumn(v,m,c){i.f.assertValue(v,"name"),i.f.assertValue(m,"columnIndex");var C={displayName:v,queryName:v,index:m,isMeasure:!1};return null!=c&&(C.type=c,C.isMeasure=!!c.numeric),C}static getUniqueValues(v){return _.uniqBy(v,m=>d.valueToString(m))}static valueToString(v){return _.isDate(v)?v.getTime().toString():v?v.toString():""}}},430818:function(ve,j,e){e.d(j,{Z:function(){return t}});var r=e(650543),i=e(832573),a=e(11864);function t(){return new l(a.ib)}class l{constructor(n){r.f.assertValue(n,"serializer"),this.serializer=n}execute(n){r.f.assertValue(n,"options");var p=n.query;r.f.assertValue(p,"query");var d={SemanticQueryDataShapeCommand:{Query:this.serializer.serializeQuery(p),Binding:null}},o=i.m.getActiveTablesNames(p);r.f.assertValue(1===o.length,"Exactly 1 entity is expected");var v=o[0];return r.f.assertValue(v,"entity"),{command:{dataWindow:n.dataWindow,tableName:v,mappings:n.mappings,Commands:[d]}}}produceIdentities(n,p){return r.f.assertFail("TabularDataQueryGenerator.produceIdentities should not get used. "),[n]}}},932625:function(ve,j,e){e.d(j,{I7:function(){return o},Ui:function(){return c},Zq:function(){return i},h1:function(){return y},hh:function(){return l},jU:function(){return h},oj:function(){return s},s7:function(){return n},sS:function(){return p},vP:function(){return a},zT:function(){return m}});var r=e(641409),i="PBI.Data.QueryData",a=r.cx[i]=(0,r.b1)(i),t="PBI.Data.QueryCancellation",l=r.cx[t]=(0,r.b1)(t,{logRatio:1e-4}),g="PBI.Data.ClientCacheHit",n=r.cx[g]=(0,r.b1)(g,{logRatio:1e-4}),p="PBI.Data.GetConceptualSchema",s=r.cx[p]=(0,r.b1)(p),d="PBI.Data.ClearConceptualSchemaCache",o=r.cx[d]=(0,r.b1)(d),v="PBI.Data.ExecuteQuery",m=r.cx[v]=(0,r.b1)(v),c=function(E){return E.V1Old="V1Old",E.V1="V1",E.V2="V2",E}({}),C="PBI.Data.DsrToDataView",y=r.cx[C]=(0,r.b1)(C,{logRatio:1e-4}),S="PBI.EX.PreloadConceptualSchema",h=r.cx[S]=(0,r.b1)(S)},807661:function(ve,j,e){e.d(j,{S:function(){return i}});var r=e(138620);function i(){return new a}class a{constructor(){this.plugins=r.Gr}getTransformPlugin(l){if(l)return this.plugins[l]}}},138620:function(ve,j,e){e.d(j,{Gr:function(){return d},Xp:function(){return i}});var r=e(630881),i="SampleAndDetectAnomaly",t={ExpectedValue:"ExpectedValue",ExpectedLow:"ExpectedLow",ExpectedHigh:"ExpectedHigh",RawScore:"RawScore",Anomaly:"Anomaly",BatchStart:"BatchStart",BatchEnd:"BatchEnd"},l=_.mapValues(t,o=>"anomalyDetection."+o),g=_.mapValues(t,o=>o+"Role"),d={Forecast:{name:"Forecast",inputRoles:[{name:"X",visualDataRoleMatching:{cartesianKind:r.Lv.X}},{name:"Y",visualDataRoleMatching:{cartesianKind:r.Lv.Y}}],outputRoles:[{name:"forecast.ForecastValue",algorithmRole:"Forecast",columnName:"forecastValue",kind:r.DW.Measure},{name:"forecast.ConfidenceHighBound",algorithmRole:"UpperBound",columnName:"confidenceHighBound",kind:r.DW.Measure},{name:"forecast.ConfidenceLowBound",algorithmRole:"LowerBound",columnName:"confidenceLowBound",kind:r.DW.Measure}]},KMeansClustering:{name:"KMeansClustering",inputRoles:[{name:"Attribute",visualDataRoleMatching:{matchMeasure:!0,skipJoinPredicateNone:!0}},{name:"Item",visualDataRoleMatching:{matchGrouping:!0}}],outputRoles:[{name:"Series",algorithmRole:"ClusterId",columnName:"clusterId",kind:r.DW.Grouping}]},[i]:{name:i,inputRoles:[{name:"TimeSeriesColumnRole",visualDataRoleMatching:{cartesianKind:r.Lv.X}},{name:"ValueColumnRole",visualDataRoleMatching:{cartesianKind:r.Lv.Y}}],outputRoles:[{name:l.ExpectedValue,algorithmRole:g.ExpectedValue,columnName:t.ExpectedValue,kind:r.DW.Measure,joinPredicateBehavior:r.ps.None},{name:l.ExpectedLow,algorithmRole:g.ExpectedLow,columnName:t.ExpectedLow,kind:r.DW.Measure,joinPredicateBehavior:r.ps.None},{name:l.ExpectedHigh,algorithmRole:g.ExpectedHigh,columnName:t.ExpectedHigh,kind:r.DW.Measure,joinPredicateBehavior:r.ps.None},{name:l.RawScore,algorithmRole:g.RawScore,columnName:t.RawScore,kind:r.DW.Measure,joinPredicateBehavior:r.ps.None},{name:l.Anomaly,algorithmRole:g.Anomaly,columnName:t.Anomaly,kind:r.DW.Measure,joinPredicateBehavior:r.ps.None},{name:l.BatchStart,algorithmRole:g.BatchStart,columnName:t.BatchStart,kind:r.DW.Measure,joinPredicateBehavior:r.ps.None},{name:l.BatchEnd,algorithmRole:g.BatchEnd,columnName:t.BatchEnd,kind:r.DW.Measure,joinPredicateBehavior:r.ps.None}]}}},832055:function(ve,j,e){e.d(j,{tc:function(){return p},cu:function(){return c},X9:function(){return v},GB:function(){return o}});var r=e(517370),i=e(300613),a=e(877542),t=e(685030),l=e(641409),g="PBI.Settings.EsriSaveModel",n=l.cx[g]=(0,l.b1)(g);function p(h,E,u=!0){return{automaticallyImport:u,sandboxProperties:[r.D.AllowSameOrigin,r.D.AllowPopups,r.D.AllowScripts,r.D.AllowForms],providers:{blocker:{blockedInCluster:_.stubTrue,blockedInTenant:_.stubTrue,blockedInHost:_.stubFalse},validator:{getErrorDetails:()=>({message:E.get("VisualContainer_EsriNotSupportedInEmbed"),errorType:a.NI.VisualNotSupported,displayableErrorInfo:[],helpLink:i.ep})}},visualTypeOptions:s(),registerVisualConsentOptions:{consentDialogProvider:{showConsentDialog:()=>h.reject(t.VT)},consentPersistencyProvider:{loadConsent:()=>h.reject(t.VT),saveConsent:f=>h.reject(t.VT)}}}}function s(){return{class:t.Jo,titleKey:"ArcGISMapsForPowerBI",watermarkKey:"map"}}function d(h){return{blockedInCluster:()=>!h.featureSwitches.esriEnabled,blockedInTenant:()=>!h.featureSwitches.esriVisualEnabled,blockedInHost:_.stubFalse}}function o(h,E,u,f,b,V,T,P=!0){var D=d(u),w=y(D,T,f);return{automaticallyImport:P,sandboxProperties:[r.D.AllowSameOrigin,r.D.AllowPopups,r.D.AllowScripts,r.D.AllowForms],providers:{blocker:D,validator:w},visualTypeOptions:s(),registerVisualConsentOptions:m(h,E,b,V)}}function v(h,E,u=!0){var f=d(h),b=y(f,void 0,E);return{automaticallyImport:u,sandboxProperties:[r.D.AllowSameOrigin,r.D.AllowPopups,r.D.AllowScripts,r.D.AllowForms],providers:{blocker:f,validator:b},visualTypeOptions:s()}}function m(h,E,u,f){return{consentDialogProvider:S(h,E),consentPersistencyProvider:C(h,u,f)}}function c(h,E,u,f,b,V,T=!0,P=!0){var D=d(E),w=y(D,f,u),M={automaticallyImport:T,sandboxProperties:[r.D.AllowSameOrigin,r.D.AllowPopups,r.D.AllowScripts,r.D.AllowForms],providers:{blocker:D,validator:w},visualTypeOptions:s()};return P&&(M.registerVisualConsentOptions={consentDialogProvider:{showConsentDialog:()=>h.reject("Esri consent dialog is not supported in Mobile scenario.")},consentPersistencyProvider:C(h,b,V)}),M}function C(h,E,u){return{loadConsent:()=>{var f=h.defer();return E.esriVisualEnabled.subscribe(b=>{f.resolve(b)}),f.promise},saveConsent:f=>{var b=u.startEvent(n,{esriEnabled:f});return E.setEsriVisualEnabled(f,b),h.resolve(f)}}}function y(h,E,u){return{getErrorDetails:()=>{var f;if(h.blockedInTenant()?f="SettingsEsri_OrganizationHasDisabled":E&&!E.hasConsent(t.Jo)&&(f="VisualContainer_EsriNotConsented"),f)return{message:u.get(f),errorType:a.NI.VisualNotSupported,displayableErrorInfo:[],helpLink:i.ep}}}}function S(h,E){return{showConsentDialog:()=>{var u=h.defer();return E.openHostDialog({dialogName:"EsriConsentDialog",componentName:"EsriConsentDialog",config:{panelClass:["esri-consent-dialog"],autoFocus:!1}}).then(b=>b.afterClosed().subscribe(V=>u.resolve(V))),u.promise}}}},640526:function(ve,j,e){e.d(j,{O:function(){return i},T:function(){return a}});var r=e(110159),i={name:"saveExploration",type:r.u.Exploration},a={name:"saveAsExploration",type:r.u.Exploration}},414530:function(ve,j,e){e.d(j,{do:function(){return t}});var t={type:e(110159).u.Visual,name:"topNFilterOrderByUpdate"}},691659:function(ve,j,e){e.d(j,{hM:function(){return C},oX:function(){return c}});var r=e(561415),i=e(324569),a=e(104816),t=e(270305),l=e(661214),g=e(181780),n=e(650543),p=e(630881),s=e(833059),d=e(719242),o=e(832573),v=e(509247),m=e(655788),c=function(S){return S[S.Card=0]="Card",S[S.Pane=1]="Pane",S}({}),C=(()=>{class S extends m.j{constructor(E,u,f){super(E,{expanded:!1,canToggleSingleSelect:!1,availableTypes:[],type:E.type}),this.localizationService=f,this.isInvalidForMappedColumn=!1,this.id=S.counter++,this.restatement="",this.displayName="",this.containerScope=u,this.howCreated=i.OO.Auto,this.isLinkedAsAggregation=!1,this.filterCapabilities=t.l.getFilterCapabilities(E),this.containerType=c.Pane}setServices(E,u,f){n.f.assertAnyValue(E,"visualHostServices can be null or undefined."),this.visualHostServices=E,this.visualPlugin=u,this.viewModeState=f}isInvalid(){return this.invalid}clearDQPWarning(){this.isInvalidForMappedColumn&&(this.invalid=!1,this.readOnlyState.invalid=!1,this.isInvalidForMappedColumn=!1)}isInvalidCardType(){return this.cardType&&this.cardType.invalid}setContainerType(E){this.containerType=E}get filterContainerType(){return this.containerType}get isVisualFilter(){return this.containerScope&&this.containerScope.scopeType===a.Gy.Visual}get hasDefaultValue(){return this.defaultValue&&(this.howCreated===i.OO.User||this.howCreated===i.OO.Drillthrough)}get isLinkField(){return this.howCreated===i.OO.Drillthrough&&!this.contract.isTransient}get canToggleLinkAsAggregation(){return this.isLinkField&&!this.isMeasure}get canDeleteManually(){return this.filterCapabilities.canDelete||!!this.readOnlyState.invalid}get canClearManually(){return this.filterCapabilities.canClear}get hasRestatement(){return""!==this.restatement&&null!=this.restatement}get canHideManually(){return this.filterCapabilities.canHide}get canLockManually(){return this.filterCapabilities.canLock}get canRenameManually(){return this.filterCapabilities.canRename}get canSortManually(){return this.filterCapabilities.canSort}get canExpandManually(){return this.filterCapabilities.canEdit&&t.l.canExpandManually(this.contract.howCreated,this.contract.isTransient,this.contract.expression,!this.invalid,this.contract.type)}getFilterContainerScope(){return this.containerScope}setRestatement(E){this.contract.type===this.readOnlyState.type&&(this.restatement=E)}clearRestatement(){this.restatement=""}getRestatement(){return this.restatement}updateFilterCardStyle(E,u){u&&(this.style=t.l.getFilterCardStyle(E&&E.evaluatedObjects,!!this.contract.filter,u,this.filterCardStyleArguments))}get checkboxAndApplyColor(){return this.style&&this.style.checkboxAndApplyColor}get borderColor(){return this.style&&this.style.borderColor}get backgroundColor(){return this.style&&this.style.backgroundColor}get foregroundColor(){return this.style&&this.style.foregroundColor}get inputBoxBorderColor(){return this.style&&this.style.inputBoxBorderColor}get inputBoxBackgroundColor(){return this.style&&this.style.inputBoxBackgroundColor}get inputBoxForegroundColor(){return this.style&&this.style.inputBoxForegroundColor}get fontSize(){return this.style&&this.style.fontSize}get fontFamily(){return this.style&&this.style.fontFamily}get visualContainer(){if(this.isVisualFilter)return this.containerScope.container}isFilterLocked(){return this.contract.isLockedInViewMode}isFilterHidden(){return this.contract.isHiddenInViewMode}isFilterExpanded(){return this.readOnlyState.expanded}updateFilterProperties(E,u,f){if(this.contract.expression){var b=this.contract.expression;this.isMeasure=(0,v.k)(b),this.discourageAggregation=o.m.discourageAggregation(b,E),this.valueType=t.l.getValueType(b,E),this.formatter=t.l.getFormatter(b,E),this.defaultValue=o.m.getDefaultValue(b,E),this.parameterMetadata=o.m.getConceptualParameterMetadata(b,E),this.howCreated===i.OO.Drillthrough&&!this.contract.isTransient||this.isMappedToMParameter()&&!this.supportsMultipleValues()?(this.isSingleSelectionRequired=!0,this.disableSelectionModeToggle=!0):this.contract.isTransient&&(this.isSingleSelectionRequired=!1,this.disableSelectionModeToggle=!0)}if(this.contract.objects){var P=(0,d.NA)(this.contract.objects,{objectName:"general",propertyName:"isInvertedSelectionMode"},void 0);this.isInvertedSelectionMode=P&&P.value}var D=this.containerScope.container;this.hasGroupingScope=D&&(0,l.e4)(D,E),this.invalid=!_.isEmpty(t.l.validate(this.contract,E,f)),this.invalid?this.isInvalidForMappedColumn=!1:(this.isInvalidForMappedColumn=this.hasInvalidFiltersForMParameters(this.contract,E),this.invalid=this.isInvalidForMappedColumn),this.disabled=t.l.shouldDisableFilter(this.contract,E,D,f,u)}hasInvalidFiltersForMParameters(E,u){var f=E?.filter?.conditions();if(!f)return!1;for(var b of f)if(!o.m.checkExprForValidMParameters(b,u))return!0;return!1}switchType(E){this.readOnlyState.type=E}canVisualize(){var E=this.contract;return E.expression&&E.type!==r.vA.Passthrough&&!this.isMeasure}updateViewStateCore(E){var u=this.contract;n.f.assertValue(E.type,"Expected type to be defined for filter contract.");var f=!this.invalid;if(E.disabled=this.disabled,E.expanded=!0===u.expanded&&f,E.invalid=!f,_.some(this.availableTypes,T=>T.type===r.vA.Categorical)&&!E.visual&&u.config){var b=u.config.singleVisual;b&&this.visualHostServices&&this.visualPlugin&&(E.visual={viewport:S.DefaultVisualViewPort,type:g.L.filterSlicer.name,dataTransforms:{objects:b.objects},hostServices:this.visualHostServices,interactivityOptions:{dragDataPoint:!1,selection:!0},allowInvalidDataView:!0,visualPlugin:this.visualPlugin,themeCollection:{}})}E.canToggleSingleSelect=!(this.howCreated===i.OO.Drillthrough&&!this.contract.isTransient||this.contract.isTransient||E.disabled||!E.expanded||!E.visual||!E.visual.data)}updateAvailableTypes(){var E=this.localizationService,u=this.readOnlyState.type;if(u!==r.vA.Passthrough){var f=[];u===r.vA.VisualTopN?f.push({type:r.vA.VisualTopN,label:E.get("Data_Limit")}):(function(S,h){return S&&!S.bool&&!h}(this.valueType,this.isLinkField)&&f.push({type:r.vA.Advanced,label:E.get("FilterPane_Advanced")}),this.isMeasure||(f.push({type:r.vA.Categorical,label:E.get("FilterPane_Basic")}),this.valueType&&this.valueType.dateTime&&!this.isMappedToMParameter()&&(f.push({type:r.vA.RelativeDate,label:E.get("FilterPane_RelativeDate")}),f.push({type:r.vA.RelativeTime,label:E.get("FilterPane_RelativeTime")})),this.isVisualFilter&&!this.isMappedToMParameter()&&f.push({type:r.vA.TopN,label:E.get("FilterPane_TopN")}))),this.availableTypes=f,this.hiddenTypes=[],this.updateCardType(u)}else this.availableTypes=[]}updateCardType(E){var u=this.availableTypes;this.readOnlyState.type=E,this.cardType=_.find(u,f=>f.type===E),!this.cardType&&this.hiddenTypes&&this.hiddenTypes.length>0?(this.cardType=_.find(this.hiddenTypes,f=>f.type===E),this.availableTypes.push(this.cardType)):!this.cardType&&this.isMappedToMParameter()&&(this.cardType={type:r.vA.Categorical,label:this.localizationService.get("FilterPane_Basic")})}isSingleSelectDisabled(){return this.disableSelectionModeToggle||!this.viewModeState||this.viewModeState.getMode()===p.wO.View}getDisplayName(){return this.contract.displayName?this.contract.displayName:this.displayName}updateIsLinkedAsAggregation(E){this.isLinkedAsAggregation=E}getInputPlaceholder(){return this.viewModeState&&this.viewModeState.getConfig().displayOptions.enableMobileFilters?this.localizationService.get("TypeHere"):""}isMappedToMParameter(){return this.parameterMetadata&&this.parameterMetadata.kind===s.OT.MParameters}supportsMultipleValues(){return!!this.parameterMetadata?.supportsMultipleValues}supportsSelectAll(){return!!this.parameterMetadata?.supportsSelectAll}}return S.DefaultVisualViewPort={width:146,height:180,scale:1},S.counter=0,S})()},144272:function(ve,j,e){e.d(j,{fw:function(){return u},l7:function(){return f}});var r=e(561415),i=e(324569),a=e(104816),t=e(270305),l=e(650543),g=e(734531),n=e(271792),p=e(762329),s=e(726988),d=e(810331),o=e(689813),v=e(548748),m=e(913101),c=e(656771),C=e(220968),y=e(980977),h=e(691659),E=e(476590);function u(N,W,F,U,O,x,I,L,K){var z;switch(l.f.assertValue(N,"contract"),l.f.assertValue(N.expression||N.filter||N.type===r.vA.Include||N.type===r.vA.Exclude,"field or filter is required; otherwise this must be an empty include/exclude filter"),l.f.assert(()=>!N.isTransient||!!N.filter,"We assume that if it is a transient filter, it should have semantic filter. If the assumption is wrong, please revisit implementation of getDefaultFilterType."),N.type){case r.vA.TopN:z=w(N,L,U,W,F,I,K);break;case r.vA.VisualTopN:z=function(N,W,F,U,O,x,I){return B(N,r.vA.VisualTopN,W,F,U,O,x,I)}(N,U,W,F,I,L,K);break;case r.vA.Advanced:case r.vA.Categorical:z=D(N,L,U,W,F,I,K);break;case r.vA.RelativeTime:z=A(n.wj.Time,N,L,U,W,F,I,K,!1);break;case r.vA.RelativeDate:z=A(n.wj.Date,N,L,U,W,F,I,K,!1);break;case r.vA.Passthrough:z=P(N,L,U,W,F,K,I);break;case r.vA.Include:case r.vA.Exclude:z=T(N,U,W,F,I);break;default:z=w(N,L,U,W,F,I,K)||A(n.wj.Time,N,L,U,W,F,I,K,!0)||A(n.wj.Date,N,L,U,W,F,I,K,!0)||D(N,L,U,W,F,I,K)||T(N,U,W,F,I)||P(N,L,U,W,F,K,I)}return l.f.assertValue(z,"Expected to convert contract to FilterViewModel"),l.f.assertValue(N.type,"Expected filter contract type to be assigned"),z.howCreated=N.howCreated,z.updateFilterProperties(W,O,x),z}function f(N,W,F){var U;if(N.filter){var O=N.filter.conditions();l.f.assert(()=>1===O.length,"There should be exactly 1 filter expression.");var x=O[0];x&&(U=new y.L(W).fromFilterExpr(x,F,null,N.expression))}return!U&&N.expression&&(U=new C.d(N.expression,W)),U}function b(N,W,F,U,O,x,I){var L=(0,d.Q)(N);return F.getDisplayName(N,W,U,O,I===a.Gy.Visual?x:void 0,{includeVariationSource:!0})||(L?(0,s._6)(L):void 0)}function V(N,W,F,U,O,x,I){var L=F.getQualifiedDisplayName(N,W,O);return I===i.OO.Drillthrough||I===i.OO.CrossDrill||I===i.OO.Drill?L=U.format("FilterCard_Transient_Drill",[L]):I===i.OO.URL?L=U.format("FilterCard_Transient_URL",[L]):x&&(L=U.format("FilterCard_Transient",[L])),L}function T(N,W,F,U,O){var x=new c.v(F,U);if(!N.filter)return N.type?new h.hM(N,W,O):void 0;var I=N.filter.conditions();if(!(_.isEmpty(I)||I.length>1)&&(I[0].accept(x),x.dataPoints.length>0)){N.type=x.isExclude?r.vA.Exclude:r.vA.Include;var K=new h.hM(N,W,O);return K.displayName=t.l.getDisplayNameForIncludeExcludeFilters(O,N.type,x.dataPoints.length),K}}function P(N,W,F,U,O,x,I){l.f.assert(()=>null==N.type||N.type===r.vA.Passthrough,"Filter contract matches FilterType.Passthrough, but has differing type property: "+N.type),null==N.type&&(N.type=r.vA.Passthrough);var L=new h.hM(N,F,I),K=N.restatement;if((!K||""===K)&&N.filter){l.f.assert(()=>1===_.size(N.filter.where()),"expecting only 1 filter in passthrough filters");var z={includeFieldNamesInFilter:!0};if(K=O.getFilterRestatement(N.filter,U,W,z),L.tooltip=O.getQualifiedFilterRestatement(N.filter,U,W,z),_.isEmpty(K)){var H=(0,o.J)(N.filter);if(!_.isEmpty(H)){var k,G,q,Q,J=I.get("ListJoin_Separator");x&&(Q=x.columnProperties);var Z=H.fieldsBeingFiltered.map(Ve=>{var ke=x&&x.query&&x.query.defn.selectNameOf(Ve);return O.getDisplayName(Ve,U,W,ke,Q)}).join(J),X=H.fieldsBeingFiltered.map(Ve=>O.getQualifiedDisplayName(Ve,U,W,z)).join(J);if(H.isSubquery&&H.itemCount){l.f.assert(()=>F.scopeType===a.Gy.Section&&N.howCreated===i.OO.Drillthrough,"Subqueries are expected to be only within section and drillthrough context.");var re=(0,p.WU)(H.itemCount);if(H.orderByField){var te=x&&x.query&&x.query.defn.selectNameOf(H.orderByField),se=O.getDisplayName(H.orderByField,U,W,te,Q);q=H.isTop?"FilterRestatement_TopNBy_Drillthrough":"FilterRestatement_BottomNBy_Drillthrough",k=[re,Z,se],G=[re,X,se]}}else k=[Z],G=[X],q=H.isSubquery?"FilterRestatement_Subquery":"FilterRestatement_Columns";K=(0,g.W)(I.get(q),...k||[]),L.tooltip=(0,g.W)(I.get(q),...G||[])}}}return L.setRestatement(K),L}function D(N,W,F,U,O,x,I){var L=f(N,x,U);if(L){N.expression||(N.expression=L.field),l.f.assert(()=>null==N.type||N.type===r.vA.Categorical||N.type===r.vA.Visual||N.type===r.vA.Advanced,"Filter contract matches FilterType.Advanced, FilterType.Categorical, or FilterType.Visual, but  has differing type property: "+N.type),null==N.type&&(N.filter?N.type=t.l.getFilterType(L.field,L.supportsCategorical):(l.f.assert(()=>!N.isTransient,"We assume the FilterContainer isTransient to be false when it reaches here. If it is true, getDefaultFilterType API needs to consider isTransient."),N.type=(0,E.NV)(N.expression,U,N.howCreated))),null==N.type&&(N.type=r.vA.Categorical);var H,J,K=N.expression,z=new h.hM(N,F,x);return I&&(H=I.query&&I.query.defn.selectNameOf(K),J=I.columnProperties),z.displayName=b(K,U,O,W,H,J,F.scopeType),z.tooltip=V(K,U,O,x,W,N.isTransient,N.howCreated),z}}function w(N,W,F,U,O,x,I){if(F.scopeType===a.Gy.Visual&&N.howCreated!==i.OO.Drillthrough){var L=(0,m.J_)(N.filter);return L&&R(N,r.vA.TopN,L.fieldBeingFiltered),B(N,r.vA.TopN,F,U,O,x,W,I)}}function A(N,W,F,U,O,x,I,L,K){var z=function(N){switch(N){case n.wj.Time:return r.vA.RelativeTime;case n.wj.Date:return r.vA.RelativeDate;default:return l.f.assertFail("Unsupported RelativeFilterType"),null}}(N),H=(0,v.pi)(W.filter,N);if(H){if(H.options&&H.options.anchorDate&&K)return;R(W,z,H.field)}return B(W,z,U,O,x,I,F,L)}function R(N,W,F){l.f.assert(()=>null==N.type||N.type===W,"Filter contract matches FilterType."+W+" but has differing type property: "+N.type),N.type=W,N.expression=F}function B(N,W,F,U,O,x,I,L){if(N.type===W){if(W===r.vA.VisualTopN){var K=new h.hM(N,F,x);return K.displayName=x.get("Data_Limit"),K}if(N.expression){var z=new h.hM(N,F,x),H=L&&L.query?L.query.defn.selectNameOf(N.expression):void 0;return z.displayName=b(N.expression,U,O,I,H,L?L.columnProperties:void 0,F.scopeType),z.tooltip=V(N.expression,U,O,x,I,N.isTransient,N.howCreated),z}}}},911202:function(ve,j,e){e.d(j,{$l:function(){return t},De:function(){return m},H:function(){return y},Il:function(){return w},Kp:function(){return D},Kx:function(){return k},LG:function(){return P},LQ:function(){return d},Ll:function(){return z},Lu:function(){return Z},Rz:function(){return v},T9:function(){return g},TY:function(){return s},V1:function(){return L},X:function(){return q},Y:function(){return Q},Y1:function(){return x},Y4:function(){return B},Z0:function(){return C},Zp:function(){return se},b4:function(){return U},di:function(){return I},e4:function(){return l},es:function(){return M},f4:function(){return te},hz:function(){return p},i$:function(){return G},iR:function(){return H},jA:function(){return E},jv:function(){return O},k8:function(){return A},mn:function(){return u},ns:function(){return R},oU:function(){return X},ph:function(){return o},rR:function(){return n},tV:function(){return W},ve:function(){return a},xh:function(){return K},yD:function(){return T}});var a="calloutValue",t="categoryAxis",l="categoryLabels",g="conditionalFormatting",n="dataBars",p="dataPoint",s="dropShadow",d="general",o="gradient",v="labels",m="legend",C="personalizeVisual",y="stylePreset",E="totals",u="valueAxis",T="visualTooltip",P="zoom",D="applyToAllPages",w="color",M="dynamicLabelValue",A="flagsSelection",R="innerPadding",B="numericSelection",W="revertToDefault",U="secShow",O="secShowAxisTitle",x="selection",I="show",L="showAxisTitle",K="showDynamicLabels",z="showGradientLegend",H="slider",k="textarea",G="transparency",q="x",Q="y",Z="width",X="height",te="allowBinnedLineSample",se="allowOverlappingPointsSample"},524584:function(ve,j,e){e.d(j,{$j:function(){return b},BB:function(){return s},Co:function(){return P},D5:function(){return n},Dw:function(){return d},K5:function(){return c},LQ:function(){return o},U2:function(){return S},VA:function(){return D},W1:function(){return g},X5:function(){return y},Y9:function(){return m},Yb:function(){return C},aW:function(){return M},hu:function(){return p},jk:function(){return T},kV:function(){return w},lI:function(){return A},qD:function(){return f},xk:function(){return v}});var g=9,n=20,p=10,s=20,d=30,o=300,v=300,m=150,c=150,C=500,y=15,S={x:1,y:1},f=8,b=50,T=558,P=324,D=18,w=180,M=3600,A=function(R){return R[R.SchemaEmpty=0]="SchemaEmpty",R[R.SchemaLoading=1]="SchemaLoading",R[R.SchemaNotEmpty=2]="SchemaNotEmpty",R}({})},863898:function(ve,j,e){e.d(j,{H$:function(){return S},MY:function(){return d},Vk:function(){return m},Yk:function(){return g},aV:function(){return y},gI:function(){return o},hH:function(){return s},m$:function(){return p},oD:function(){return C},oS:function(){return v},uH:function(){return c}});var r=e(861661),i=e(324569),a=e(475507),t=e(990297),l=e(650543);function g(h,E){var u=(0,r.y)(E),f=(0,r.y)(h);l.f.assert(()=>u.length===f.length,"permanent section count is out of sync");for(var b=u.length-1;b>=0;b--){var V=u[b],T=f[b];V.id=T.id,V.objectId=T.objectId,n(V.visualContainerGroups,T.visualContainerGroups)}}function n(h,E){for(var u=function(){var b=h[f],V=E[f];b.id=V.id,l.f.assert(()=>(0,a.q4)(b)===(0,a.q4)(V),"visualContainerGroups items must be in sync"),(0,a.q4)(b)&&(0,a.q4)(V)&&n(b.children,V.children)},f=h.length-1;f>=0;f--)u()}function p(h,E){if(h&&h.sections){var f=_.findIndex(h.sections,b=>b.name===E);if(-1!==f)return f}}function s(h,E){var u;return E&&(u=p(h,E)),null==u&&_.isNumber(h.activeSectionIndex)&&(u=h.activeSectionIndex),(null==u||!_.inRange(u,0,h.sections.length))&&(u=0),u}function d(h,E){return h&&h.sections?_.findIndex(h.sections,b=>b===E):-1}function o(h,E){return h&&h.sections?(0,t.Jq)(h.sections,E):null}function v(h,E){return h&&h.sections?_.findIndex(h.sections,b=>b.id===E):-1}function m(h,E){for(var u=1,f=E.format("Explore_Section_Page",[u.toFixed()]);_.findLastIndex(h,b=>b.displayName===f)>=0;)f=E.format("Explore_Section_Page",[(++u).toFixed()]);return f}function c(h,E){var u=h.sections;for(var f of u)f.displayName||(f.displayName=m(h.sections,E))}function C(h){return _.filter(h,E=>!y(E))}function y(h){return!!(1&h.visibility)}function S(h){return!!(h.type&i.bA.Tooltip)}},125921:function(ve,j,e){e.d(j,{$o:function(){return t},Y6:function(){return g},u3:function(){return l}});var r=e(156274),i=e(11864),a=e(433844);function t(m,c,C){m.addEventListener("drop",y=>{var S=g(y);S&&c(y,S,n(m,y))}),m.addEventListener("dragover",y=>{(function(m){return!function(m){return m.dataTransfer.types.includes(r.gR.BuildFieldWell)}(m)})(y)&&(C&&function(m,c){switch(c){case a.s3.None:s(m.previousElementSibling,a.Hq.class),s(m,a.Hq.class),s(m.nextElementSibling,a.Hq.class);break;case a.s3.Prepend:s(m.previousElementSibling,a.at.class),s(m,a._r.class),s(m.nextElementSibling,a.Hq.class);break;case a.s3.Append:s(m.previousElementSibling,a.Hq.class),s(m,a.at.class),s(m.nextElementSibling,a._r.class);break;case a.s3.Replace:s(m.previousElementSibling,a.Hq.class),s(m,a.BN.class),s(m.nextElementSibling,a.Hq.class);break;default:d(m)}}(m,C(n(m,y))),y.preventDefault())}),C&&(m.addEventListener("dragleave",()=>d(m)),m.addEventListener("dragexit",()=>d(m)),m.addEventListener("dragend",()=>d(m)))}function l(m){m.removeAllListeners("drop"),m.removeAllListeners("dragover"),m.removeAllListeners("dragleave"),m.removeAllListeners("dragexit"),m.removeAllListeners("dragend")}function g(m,c=!0){c&&(m.stopPropagation(),m.preventDefault());var C=m.dataTransfer.getData("pbi-tree-node");if(C){var y=JSON.parse(C).fieldExpr;if(y)return i.ib.deserializeExpr(y)}}function n(m,c){var C=m.getBoundingClientRect(),y=0;return(y|=C.top+C.height/2>c.pageY?a.Ly.Above:a.Ly.Below)|(C.left+C.width/2>c.pageX?a.Ly.LeftOf:a.Ly.RightOf)}function s(m,c){!m||m.classList.contains(c)||(m.classList.remove(a.at.class),m.classList.remove(a.Hq.class),m.classList.remove(a._r.class),m.classList.remove(a.BN.class),m.classList.add(c))}function d(m){s(m.previousElementSibling,a.Hq.class),s(m,a.Hq.class),s(m.nextElementSibling,a.Hq.class)}},708398:function(ve,j,e){function r(i,a){var t=(g,...n)=>a.run(g,i,n),l={getLocalizedString:(g,...n)=>i.getLocalizedString(g,...n||[]),tooltips:()=>i.tooltips(),getSectionsMetadata$:()=>i.getSectionsMetadata$(),getBookmarksMetadata$:()=>i.getBookmarksMetadata$(),getSubSelectionService:()=>i.getSubSelectionService(),alertScreenReader:g=>t(i.alertScreenReader,g),alertWithDebounce:(g,n)=>t(i.alertWithDebounce,g,n),requestFocus:g=>t(i.requestFocus,g),onDragStart:g=>t(i.onDragStart,g),getVisualLinkProperties:()=>t(i.getVisualLinkProperties),canSelect:g=>t(i.canSelect,g),onSelecting:g=>t(i.onSelecting,g),onSelect:g=>t(i.onSelect,g),onSwitchFocusModeState:g=>t(i.onSwitchFocusModeState,g),canExpandCollapse:g=>t(i.canExpandCollapse,g),setNodeExpansionState:g=>t(i.setNodeExpansionState,g),setLevelExpansionState:g=>t(i.setLevelExpansionState,g),onContextMenu:g=>t(i.onContextMenu,g),loadMoreData:()=>t(i.loadMoreData),loadWindow:g=>t(i.loadWindow,g),setShouldDeferData:g=>t(i.setShouldDeferData,g),persistProperties:(g,n)=>t(i.persistProperties,g,n),onCustomSort:g=>t(i.onCustomSort,g),getViewMode:()=>t(i.getViewMode),getEditMode:()=>t(i.getEditMode),setWarnings:g=>t(i.setWarnings,g),getWarnings$:()=>t(i.getWarnings$),setToolbar:(g,n)=>t(i.setToolbar,g,n),shouldRetainSelection:()=>t(i.shouldRetainSelection),geocoder:()=>t(i.geocoder),geolocation:()=>t(i.geolocation),locale:()=>t(i.locale),promiseFactory:()=>t(i.promiseFactory),ignoreDefaultFilter:()=>t(i.ignoreDefaultFilter),getIdentityDisplayNames:g=>t(i.getIdentityDisplayNames,g),setIdentityDisplayNames:g=>t(i.setIdentityDisplayNames,g),dropdown:()=>t(i.dropdown),telemetry:()=>t(i.telemetry),authenticationService:()=>t(i.authenticationService),localStorageService:()=>t(i.localStorageService),eventService:()=>t(i.eventService),licenseManagerService:()=>t(i.licenseManagerService),loader:()=>t(i.loader),getUIComponentFactory:()=>t(i.getUIComponentFactory),applyJsonFilter:(g,n,p,s)=>t(i.applyJsonFilter,g,n,p,s),applyIdentityFilter:(g,n,p,s)=>t(i.applyIdentityFilter,g,n,p,s),launchUrl:g=>t(i.launchUrl,g),instanceId:i.instanceId,refreshHostData:()=>t(i.refreshHostData),decompositionService:()=>t(i.decompositionService),getJSONFilter:(g,n)=>t(i.getJSONFilter,g,n),visualCapabilitiesChanged:()=>t(i.visualCapabilitiesChanged),onHyperlinkClick:(g,n)=>t(i.onHyperlinkClick,g,n),visualTimeSynchronization:()=>t(i.visualTimeSynchronization),setFilterExpressionMetadata:g=>t(i.setFilterExpressionMetadata,g),getFilterExpressionMetadata:()=>t(i.getFilterExpressionMetadata),isVisualEnabled:()=>t(i.isVisualEnabled),isVisualLoading:()=>t(i.isVisualLoading),dataMultiSelectMode:()=>t(i.dataMultiSelectMode),networkAvailability:()=>t(i.networkAvailability),downloadService:()=>t(i.downloadService),setAriaMetadata:g=>t(i.setAriaMetadata,g),artifactService:()=>t(i.artifactService),onNotifyLicense:g=>t(i.onNotifyLicense,g),onClearLicenseNotification:()=>t(i.onClearLicenseNotification),onNotifyFeatureBlocked:g=>t(i.onNotifyFeatureBlocked,g),webAccessService:()=>t(i.webAccessService),drill:g=>t(i.drill,g),getAzureMapToken:()=>t(i.getAzureMapToken),acquireAADTokenService:()=>i.acquireAADTokenService(),localStorageV2Service:()=>i.localStorageV2Service(),aiNarrativesService:()=>t(i.aiNarrativesService),azureMapsEndpoint:()=>i.azureMapsEndpoint(),geocoderIndexedDB:()=>i.geocoderIndexedDB(),triggerUpdate:()=>t(i.triggerUpdate),azureMapsHostEnvironment:()=>i.azureMapsHostEnvironment(),setCanDrill:g=>t(i.setCanDrill,g),dateTimeFormatService:()=>i.dateTimeFormatService(),visualExportService:()=>t(i.visualExportService),visualHostSubSelectionService:()=>i.visualHostSubSelectionService(),annotations:()=>i.annotations()};return i.isSelected&&i.isSelected$&&(l.isSelected=()=>i.isSelected(),l.isSelected$=()=>i.isSelected$()),l}e.d(j,{K:function(){return r}})},656771:function(ve,j,e){e.d(j,{v:function(){return l}});var r=e(270305),i=e(650543),a=e(762329),t=e(962238);class l extends t.vq{constructor(n,p,s){super(),this.schema=n,this.displayName=p,this.metadata=s,this.dataPoints=[],this.isExclude=!1}visitNot(n){this.isExclude=!0,n.arg.accept(this)}visitOr(n){n.left.accept(this),n.right.accept(this)}visitIn(n){var p=this;if(!_.isEmpty(n.values)){var s=[],d=n.args,o=_.map(d,c=>this.displayName.getDisplayName(c,this.schema,null,null,null,{includeVariationSource:!0})),v=function(c){i.f.assert(()=>d.length===c.length,"Columns can't be different from values");var C=o,y=_.map(c,h=>h.value),S=r.l.findValuesInFilterCache(d,c,p.metadata);S&&(C=_.map(S.columns,h=>p.displayName.getDisplayName(h,p.schema,null,null,null,{includeVariationSource:!0})),y=S.values),s.push({columns:d,values:c,text:l.getDataPointText(C,y)})};for(var m of n.values)v(m);this.dataPoints.push(...s||[])}}static getDataPointText(n,p){var s="";i.f.assert(()=>n.length>0,"getDataPointText columns cant be empty"),i.f.assert(()=>n.length===p.length,"getDataPointText columns and values should have the same length");for(var d=0;d<n.length;d++){var v=n[d];s+=(0,a.WU)(p[d])+" ("+v+") + "}return s.slice(0,s.length-3)}}},925547:function(ve,j,e){e.d(j,{o:function(){return l}});var r=e(638198),i=e(324569),a=e(274493),t=e(630881);function l(n,p,s,d,o,v,m){return new g(n,p,d,o,v,m)}class g{constructor(p,s,d,o,v,m){this.eventBridge=p,this.explorationNavigation=s,this.formFactorProvider=d,this.visibility=o,this.viewModeState=v,this.overlayService=m,this.displayAreaScale=1,this.wallpaperScale=1}setDisplayAreaScaleFactor(p){this.displayAreaScale=p,this.eventBridge.publishToChannel(a.JXP,p)}setWallpaperScaleFactor(p){this.wallpaperScale=p}getDisplayAreaScaleFactor(){return this.displayAreaScale}getWallpaperScaleFactor(){return this.wallpaperScale}getDisplayOption(){if(this.formFactorProvider.getCurrentLayout()===r.D.PhonePortrait&&this.viewModeState.getMode()===t.wO.Edit||null!=this.canvasZoom)return i.tr.ActualSize;if(this.visibility.get())return i.tr.Dynamic;if(null!=this.overrideDisplayOption)return this.overrideDisplayOption;var d=this.explorationNavigation.getCurrentSection();return d?d.size.displayOption:void 0}setDisplayOption(p){var s=this.explorationNavigation.getCurrentSection();s&&(this.canvasZoom=void 0,this.overlayService.hideAllDropdowns(),s.size.displayOption=p)}setCanvasZoom(p){this.overlayService.hideAllDropdowns(),this.canvasZoom=p}getCanvasZoom(){return this.canvasZoom}}},791450:function(ve,j,e){e.d(j,{V:function(){return y}});var r=e(60978),i=e(638198),a=e(324569),t=e(274493),l=e(555254),g=e(270305),n=e(866646),p=e(661214),s=e(990297),d=e(650543),o=e(301336),v=e(630881),c=(e(442407),e(863898)),C=function(S){return S[S.ShowTargetVisual=0]="ShowTargetVisual",S[S.ShowSourceVisual=1]="ShowSourceVisual",S}({});function y(){var S=g.l,h=l.UP,u=o.b$;class f{constructor(T,P,D,w,M){this.sourceSection=T,this.sourceVisualContainer=P,this.targetSection=D,this.targetVisualContainer=w,this.navigationState=M}toSnapshot(T){if(T.getCurrentSection()===this.targetSection){var P=T.getCurrentExploration(),D=(0,c.MY)(P,this.sourceSection),w=(0,c.MY)(P,this.targetSection);return{sourceSectionIndex:D,sourceVisualIndex:_.findIndex(this.sourceSection.visualContainers,R=>R===this.sourceVisualContainer),targetSectionIndex:w,targetVisualIndex:_.findIndex(this.targetSection.visualContainers,R=>R===this.targetVisualContainer)}}}static fromSnapshot(T,P){if(T){var D=P.getCurrentExploration(),w=D.sections[T.sourceSectionIndex],M=w.visualContainers[T.sourceVisualIndex],A=D.sections[T.targetSectionIndex],R=A.visualContainers[T.targetVisualIndex];return d.f.assertValue(w,"sourceSection"),d.f.assertValue(M,"sourceVisual"),d.f.assertValue(A,"targetSection"),d.f.assertValue(R,"targetVisual"),d.f.assert(()=>P.getCurrentSection()===A,"expected to be on the drill to details section"),new f(w,M,A,R,C.ShowTargetVisual)}}}class b{constructor(T,P,D,w,M,A,R,B,N,W){this.conceptualSchemaProxy=T,this.visualAuthoringOperations=P,this.undoRedo=D,this.selectionService=w,this.explorationNavigationService=M,this.explorationSerializer=A,this.visibility=R,this.eventBridge=B,this.filterGenerator=N,this.visualPluginService=W,this.eventBridge.createChannelSubscriptionManager().subscribe(t.wAN,()=>this.onSectionChanged()).subscribe(t.y5h,()=>this.onPopOutModeChanged()).subscribe(t.SVs,(F,U)=>this.clearContext())}drillToDetails(T,P,D,w){if(!_.isEmpty(T)){var M=_.head(T);if(M&&!_.isEmpty(M.metadata)){var A=(0,p.Xf)(P);if(A&&A.defn){if(_.isEmpty(M.dataMap)){if(!A.projections)return;var R=(0,p.d$)(P,this.visualPluginService),B=_(R).filter(U=>U.kind!==v.DW.Measure).map(U=>U.name).value();for(var N in A.projections)if(!_.isEmpty(A.projections[N])&&_.includes(B,N))return}var F,W=A.defn.select().withName(_.head(M.metadata));W&&(0,r.iV)(W.expr)&&(w&&(F=w.keepAlive()),this.conceptualSchemaProxy.get(D).then(U=>{var O=this.visualAuthoringOperations.drillToDetails(u.generateGuid(),U,[W.expr],T,P);O&&(this.addCrossFilters(P,this.explorationNavigationService.getCurrentSection(),O,!1,U),this.drillToDetailsCore(T,P,O),F&&F.resolve())},U=>{F&&F.reject(U)}))}}}}generateDetailsTable(T,P,D,w){var M=this.mockVisualContainer(T),A=this.visualAuthoringOperations.drillToDetails(u.generateGuid(),P,D,null,M,w);if(A)return A.config.singleVisual}clear(){if(this.drillToDetailsContext){d.f.assert(()=>this.drillToDetailsContext.navigationState===C.ShowTargetVisual,"expected to be in show details mode"),this.drillToDetailsContext.navigationState=C.ShowSourceVisual;var T=(0,c.MY)(this.explorationNavigationService.getCurrentExploration(),this.drillToDetailsContext.sourceSection);d.f.assert(()=>T>=0,"source section not found"),this.eventBridge.publishToChannel(t.$4A,{index:T})}}getContext(){return this.drillToDetailsContext}setContext(T){d.f.assert(()=>null!=T,"attempting to set a null context for drill to details service"),d.f.assert(()=>null==this.drillToDetailsContext,"overriding existing drill to details context"),d.f.assert(()=>T.navigationState===C.ShowTargetVisual,"drill to details state can only be restored for showing the detail visual"),this.drillToDetailsContext=T}clearContext(){this.drillToDetailsContext=null}hasContext(){return!!this.drillToDetailsContext}getDetailsTableTargetMeasures(T){var P=this.mockVisualContainer(T),D=(0,p.Xf)(P);if(D&&D.defn){var w=(0,p.d$)(P,this.visualPluginService);if(!_.isEmpty(w)){var M=_(w).filter(U=>(U.kind===v.DW.Measure||U.kind===v.DW.GroupingOrMeasure)&&U.joinPredicate!==v.ps.None).map(U=>U.name).value(),A=[];for(var R of M){var B=D.projections[R];if(!_.isEmpty(B)){var N=B.all();for(var W of N){var F=D.defn.select().withName(W.queryRef);if(F&&(0,r.iV)(F.expr))return[F.expr];F&&(0,r.kb)(F.expr)&&A.push(F.expr)}}}return A}}}mockVisualContainer(T){var P={name:u.generateGuid(),config:{singleVisual:T},layouts:(0,s.UR)(),filters:[]};return P.layouts.push({id:i.D.Master,position:{x:0,y:0,width:0,height:0}}),P}onSectionChanged(){if(this.drillToDetailsContext){var T=this.explorationNavigationService.getCurrentSection();switch(d.f.assert(()=>null!=T,"currentSection"),this.drillToDetailsContext.navigationState){case C.ShowTargetVisual:d.f.assert(()=>T===this.drillToDetailsContext.targetSection,"expected to navigate to target section"),window.setTimeout(()=>{h.selectCanvasItem(this.drillToDetailsContext.targetVisualContainer,this.selectionService),this.visibility.set(this.drillToDetailsContext.targetVisualContainer,a.sB.Maximize)},0);break;case C.ShowSourceVisual:d.f.assert(()=>T===this.drillToDetailsContext.sourceSection,"expected to navigate to source section");var P=this.explorationNavigationService.getCurrentExploration(),D=(0,c.MY)(P,this.drillToDetailsContext.targetSection);d.f.assert(()=>D>=0,"target section not found");var w=(0,c.MY)(P,this.drillToDetailsContext.sourceSection),M=this.drillToDetailsContext.sourceVisualContainer;this.drillToDetailsContext=null,this.eventBridge.publishToChannel(t.F$x,{targetSectionIndex:D}),window.setTimeout(()=>{(0,c.MY)(this.explorationNavigationService.getCurrentExploration(),this.explorationNavigationService.getCurrentSection())===w&&h.selectCanvasItem(M,this.selectionService),this.undoRedo.clear()},0);break;default:d.f.assertFail("unknown drill to details navigationState")}}}onPopOutModeChanged(){if(this.drillToDetailsContext){var T=this.explorationNavigationService.getCurrentSection();d.f.assert(()=>null!=T,"currentSection"),T!==this.drillToDetailsContext.sourceSection&&(d.f.assert(()=>T===this.drillToDetailsContext.targetSection,"expected to be on target section"),this.visibility.get()!==this.drillToDetailsContext.targetVisualContainer&&this.clear())}}drillToDetailsCore(T,P,D){var w=this.explorationNavigationService.getCurrentSection();if(w){var M=this.explorationNavigationService.getAllSections(),A=this.explorationSerializer.serializePage(w,1),R=this.explorationSerializer.deserializePage(A),B={name:"Drill to Details",displayName:"Drill to Details",filters:R.filters,size:R.size,visualContainers:[D],visualContainerGroups:[D],transient:!0};(0,n.gs)(B,M),this.drillToDetailsContext=new f(w,P,B,D,C.ShowTargetVisual),this.eventBridge.publishToChannel(t.x1m,B)}}addCrossFilters(T,P,D,w,M){var A=this.filterGenerator.getVisualContainerCrossFilters(P,T,M);if(A.dataFilters)for(var R of A.dataFilters)this.addVisualFilters(D,R,M,!1);if(w)for(var B of(d.f.assertValue(A.highlightFilters,"highlight filter"),A.highlightFilters))this.addVisualFilters(D,B,M,!1)}addVisualFilters(T,P,D,w){if(P&&P.filter){var M=S.convertFilterData(P,T.filters,a.OO.Auto);S.add(T,M)}}}return{create:(V,T,P,D,w,M,A,R,B,N)=>new b(V,N,D,w,M,T,A,R,B,P),createContext:(V,T,P,D,w)=>new f(V,T,P,D,w),snapshotToContext:f.fromSnapshot}}},20393:function(ve,j,e){e.d(j,{Bo:function(){return l},nR:function(){return a},o4:function(){return i},q7:function(){return t}});var r=e(110159),i={type:r.u.Visual,name:"visualCustomCommand"},a={type:r.u.Visual,name:"preparePersonalVisuals"},t={type:r.u.Visual,name:"copyVisualAsImage"},l={type:r.u.Visual,name:"VisualContainerAdded"}},422296:function(ve,j,e){e.d(j,{L:function(){return i}});var r=e(729862);function i(t,l){return new a(t,l)}class a{constructor(l,g){var n=!g||g.featureSwitches.contentAuthoringUIEnabled,p=!!l&&!!l.isGuestUser,d=p&&!(g&&g.featureSwitches.elevatedGuestsTenantEnabled),o=!(!l||void 0===l.userLicense)&&l.userLicense()===r.u.Free;this.options={shouldSetFocus:!g||!g.featureSwitches.globalSkipToMainContent,showAppBar:!0,showStatusBar:!1,showTaskPane:!0,showVisualizationPane:!0,showNavContentPane:!0,visualContainerOptions:{showMenu:!0,showPin:!0,showContextMenu:!0,disablePin:d||!n,disableQueryCacheUpdates:!1},showBackButtonOnAppBar:!1,disablePin:d||!n,disableSharePointEmbed:p,disableSecurePublishToWeb:p||!n,disableQRGeneration:p,disableSaveAs:d||o,disableSwitchMode:d||!n,disableAnalyzeInExcel:p,expandTaskPane:!0,expandVisualizationPane:!0,allowVisualContainerPreload:!1,allowNewLoadingExperience:!1,persistentUserStateEnabled:!1,persistentUserStateThrottlingEnabled:!1,defaultPersonalBookmarkEnabled:!1,disableEditVariables:!0,disableChangeDetectionDialog:!0,showCopyVisualImageButton:!1,allowVisualRecommendations:!!g&&g.featureSwitches.onObject}}setCapabilities(l){_.merge(this.options,l)}getCapabilities(){return this.options}}},284125:function(ve,j,e){e.d(j,{RH:function(){return W}});var r=e(349672),i=e(625112),a=e(101685);class t{bindEvents(x,I,L){var{paths:K,formatMode:z}=x;if(!_.isEmpty(K))for(var H of K)H&&H.on("contextmenu",()=>this.handleContextMenu(I,z))}renderSelection(x){}handleContextMenu(x,I){var L=(0,a.bt)(),K=d3.event;K.preventDefault(),I||(0,i.n)(K),(0,a.kW)(z=>{x.handleContextMenu(z,L)})}}var l=e(363081),g=e(888701),n=e(634548),p=e(181780),s=e(650543),d=e(896286),o=e(814055),v=e(12135),m=e(268335),c=e(66583),C=e(216070),y=e(721673),S=e(955890),h=e(281210),E=e(541621),u=e(964564),D=e(137626),w=e(659615),M=e(630881),A="dataViewer",R=(()=>{class O{constructor(I){this.visualSandbox=I}reloadAdapter(I=!1){if(this.dataViewShowing){if(I)return;this.toggleDataview(!1)}if(!o.DU.getData("VISUAL_DEVELOPER_MODE_ENABLED")){this.toggleAutoReload(!1);var K=this.buildErrorMessage({message:this.host?.getLocalizedString("DebugVisual_Enabled_Error_Message"),moreMessage:this.host?.getLocalizedString("DebugVisual_Enabled_Error_Learn_More"),moreLinkHref:"https://go.microsoft.com/fwlink/?linkid=2247468",moreLinkText:this.host?.getLocalizedString("LearnMore"),type:"blockedsite"});return this.container.html(K),this.setCustomizeQuery(),void this.setCapabilities()}var z=o.DU.getData("DEVELOPMENT_SERVER_URL")||"https://localhost:8080/assets/";this.statusLoading||(this.statusLoading=!0,$.get(z+"status").done(H=>{if(H&&(!I||this.lastUpdateStatus!==H)){if(this.lastUpdateStatus=H,"error"===H){var J=this.buildErrorMessage({message:this.host?.getLocalizedString("DebugVisual_Compile_Error_Message"),moreMessage:this.host?.getLocalizedString("DebugVisual_Compile_Error_Learn_More"),moreLinkHref:"https://go.microsoft.com/fwlink/?linkid=2247735",moreLinkText:this.host?.getLocalizedString("LearnMore"),type:"repair"});return this.container.html(J),this.setCustomizeQuery(),void this.setCapabilities()}$.getJSON(z+"pbiviz.json").done(k=>{if(s.f.assertValue(k.capabilities,"DebugVisual - pbiviz capabilities missing"),s.f.assertValue(k.visual&&k.visual.guid,"DebugVisual - pbiviz visual guid missing"),k.capabilities&&k.visual&&k.visual.guid&&this.host){this.visualGuid!==k.visual.guid&&(this.visualGuid=k.visual.guid);var G=this.host?.locale();k=G?(0,D.zQ)(k,G):k;var q=(0,u.S)(k,G);(0,w.L)(q),p.L[q.name]=q,this.setCustomizeQuery(q.customizeQuery),this.setCapabilities(q.capabilities),this.loadVisual(q)}})}}).fail(()=>{this.toggleAutoReload(!1);var H=this.buildErrorMessage({message:this.host?.getLocalizedString("DebugVisual_Server_Error_Message"),moreMessage:this.host?.getLocalizedString("DebugVisual_Server_Error_Learn_More"),moreLinkHref:"https://go.microsoft.com/fwlink/?linkid=2247488",moreLinkText:this.host?.getLocalizedString("LearnMore"),type:"error"});this.container.html(H),this.setCustomizeQuery(),this.setCapabilities()}).always(()=>{this.statusLoading=!1}))}loadVisual(I){var L=I.name!==A;this.promiseFactory=this.host?.promiseFactory(),this.visualContainer.attr("class","visual-"+I.name),this.visualContainer.empty(),this.container.empty().append(this.visualContainer),this.adapterPromise&&this.adapterPromise.reject(),this.adapter&&this.adapter.destroy(),this.host&&this.promiseFactory&&(this.adapterPromise=(0,E.z)({visualPlugin:I,promiseFactory:this.promiseFactory,moduleLoader:this.host.loader(),featureSwitches:{sandboxVisualsEnabled:L},visualSandbox:this.visualSandbox,isDebugVisual:!0})).then(z=>{if(this.adapter=z,this.sandbox=this.adapter.sandbox,z.init&&z.init(this.visualInitOptions),z.update&&this.lastUpdateOptions){var H=this.lastUpdateOptions;H.type=M.EP.All,z.update(H)}})}toggleAutoReload(I){this.autoReloadInterval&&!0!==I?(this.autoRefreshBtn.addClass("pbi-glyph-circle-play"),this.autoRefreshBtn.removeClass("pbi-glyph-circle-stop"),this.refreshBtn.show(),clearInterval(this.autoReloadInterval),this.autoReloadInterval=void 0):!this.autoReloadInterval&&!1!==I&&(this.autoRefreshBtn.removeClass("pbi-glyph-circle-play"),this.autoRefreshBtn.addClass("pbi-glyph-circle-stop"),this.refreshBtn.hide(),this.autoReloadInterval=window.setInterval(()=>this.reloadAdapter(!0),O.autoReloadPollTime))}toggleDataview(I){this.dataViewShowing&&!0!==I?(this.dataViewShowing=!1,this.dataBtn.toggleClass("active",!1),this.reloadAdapter()):!this.dataViewShowing&&!1!==I&&(this.dataViewShowing=!0,this.dataBtn.toggleClass("active",!0),this.loadVisual(p.L[A]))}flatten(I){if(I instanceof Array){for(var L=[],K=0,z=I.length;K<z;K++)L[K]=this.flatten(I[K]);return L}if("object"==typeof I){var J,H={};for(J in I)H[J]=this.flatten(I[J]);return H}return I}createAndClickAnchorTagWithJsonData(I){var L=document.createElement("a");L.href="data:"+I,L.download="dataViews.json",L.click()}exportDataViews(){var I=this.flatten(this.lastUpdateOptions.dataViews),L="text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(I));this.createAndClickAnchorTagWithJsonData(L)}createRefreshBtn(){var I=this.host?.getLocalizedString("DebugVisual_Reload_Visual_Button_Title"),L=this.refreshBtn=$(`<i title="${I}" class="controlBtn glyphicon pbi-glyph-refresh"></i>`);return L.on("click",()=>this.reloadAdapter()),L}createAutoRefreshBtn(){var I=this.host?.getLocalizedString("DebugVisual_Toggle_Auto_Reload_Button_Title"),L=this.autoRefreshBtn=$(`<i title="${I}" class="controlBtn glyphicon pbi-glyph-circle-play"></i>`);return L.on("click",()=>this.toggleAutoReload()),L}createDataBtn(){if(!p.L[A])return null;var I=this.host?.getLocalizedString("DebugVisual_Show_Dataview_Button_Title"),L=this.dataBtn=$(`<i title="${I}" class="controlBtn glyphicon pbi-glyph-seedata"></i>`);return L.on("click",()=>this.toggleDataview()),L}createHelpBtn(){var I=this.host?.getLocalizedString("DebugVisual_Help_Button_Title");return $(`<a href="https://go.microsoft.com/fwlink/?linkid=2245690" target="_blank"><i title="${I}" class="controlBtn glyphicon pbi-glyph-question"></i></a>`)}createSmilyBtn(){var I=this.host?.getLocalizedString("DebugVisual_Feedback_Button_Title");return $(`<a href="https://go.microsoft.com/fwlink/?linkid=2247381" target="_blank"><i title="${I}" class="controlBtn glyphicon pbi-glyph-smiley"></i></a>`)}createExportDataViewsBtn(){var I=this.host?.getLocalizedString("DebugVisual_Export_Data_Button_Title"),L=$(`<i title="${I}" class="controlBtn glyphicon pbi-glyph-export"></i>`);return L.on("click",()=>this.exportDataViews()),L}buildControls(){var I=$('<div class="debugVisual-controlsContainer"></div>');return I.append(this.createRefreshBtn(),this.createAutoRefreshBtn(),this.createDataBtn(),this.createExportDataViewsBtn(),this.createHelpBtn(),this.createSmilyBtn()),I}buildErrorMessage(I){return _.template(O.errorMessageTemplate)(I)}setCapabilities(I=O.defaultCapabilities){_.isEqual(I,p.L.debugVisual?.capabilities)||(p.L.debugVisual.capabilities=I,this.host?.visualCapabilitiesChanged())}setCustomizeQuery(I=(L=>null)){p.L.debugVisual.customizeQuery=I}init(I){this.host=I.host;var L=this.container=$('<div class="debugVisualContainer"></div>'),K=this.visualContainer=$('<div class="visual"></div>');this.dataViewShowing=!1,L.append(K),I.element.append(L),(this.visualInitOptions=I).element=K,this.host.setToolbar(this.buildControls()),this.reloadAdapter()}update(I){if(this.visualContainer){if(I.viewport){this.visualInitOptions.viewport=I.viewport;var K=I.viewport.width;this.visualContainer.height(I.viewport.height).width(K)}this.lastUpdateOptions=I,this.adapter&&this.adapter.update&&this.adapter.update(I)}}enumerateObjectInstances(I){return this.adapter&&this.adapter.enumerateObjectInstances?this.adapter.enumerateObjectInstances(I):[]}enumerateObjectInstancesAsync(I){return this.adapter&&this.adapter.enumerateObjectInstancesAsync?this.adapter.enumerateObjectInstancesAsync(I):this.promiseFactory.resolve(this.enumerateObjectInstances(I))}enumerateObjectRepetitionAsync(){return this.adapter&&this.adapter.enumerateObjectRepetitionAsync?this.adapter.enumerateObjectRepetitionAsync():this.promiseFactory.resolve([])}getFormattingModel(){if(this.adapter&&this.adapter.getFormattingModel)return this.adapter.getFormattingModel()}getFormattingModelAsync(){return this.adapter&&this.adapter.getFormattingModelAsync?this.adapter.getFormattingModelAsync():this.promiseFactory.resolve(this.getFormattingModel())}getSubSelectionStyles(I){if(this.adapter&&this.adapter.getSubSelectionStyles)return this.adapter.getSubSelectionStyles(I)}getSubSelectionStylesAsync(I){return this.adapter&&this.adapter.getSubSelectionStylesAsync?this.adapter.getSubSelectionStylesAsync(I):this.promiseFactory.resolve(this.getSubSelectionStyles(I))}getSubSelectionShortcuts(I,L){if(this.adapter&&this.adapter.getSubSelectionShortcuts)return this.adapter.getSubSelectionShortcuts(I,L)}getSubSelectionShortcutsAsync(I,L){return this.adapter&&this.adapter.getSubSelectionShortcutsAsync?this.adapter.getSubSelectionShortcutsAsync(I,L):this.promiseFactory.resolve(this.getSubSelectionShortcuts(I,L))}getSubSelectables(I){if(this.adapter&&this.adapter.getSubSelectables)return this.adapter.getSubSelectables(I)}getSubSelectablesAsync(I){return this.adapter&&this.adapter.getSubSelectablesAsync?this.adapter.getSubSelectablesAsync(I):this.promiseFactory.resolve(this.getSubSelectables(I))}onClearSelection(){if(this.adapter&&this.adapter.onClearSelection)return this.adapter.onClearSelection()}onRestoreSelection(I){if(this.adapter&&this.adapter.onRestoreSelection)return this.adapter.onRestoreSelection(I)}destroy(){this.adapter&&this.adapter.destroy&&this.adapter.destroy(),this.toggleAutoReload(!1),this.container=null,this.visualContainer=null,this.host.setToolbar(null),this.promiseFactory=null}visualHasMethod(I){return this.adapter?.visualHasMethod(I)}}return O.defaultCapabilities={dataRoles:[{displayName:"Values",name:"Values",kind:M.DW.Measure}],dataViewMappings:[{table:{rows:{for:{in:"Values"}}}}]},O.capabilities=O.defaultCapabilities,O.autoReloadPollTime=300,O.errorMessageTemplate='\n            <div class="errorContainer">\n                <div class="errorMessage">\n                    <div ng-switch="$ctrl.errorInfo.overlayType">\n                        <div class="glyphicon pbi-glyph-<%= type %> glyph-med"></div>\n                    </div>\n                    <div>\n                        <div class="errorSpan"><%= message %></div>\n                        <span class="errorSeeMore"><%= moreMessage %></span>\n                        <a class="errorSeeMore" href="<%= moreLinkHref %>" target="_blank"><%= moreLinkText %></a>\n                    </div>\n                </div>\n            </div>\n        ',O})();(0,S.G)("debugVisual",{name:"debugVisual",watermarkKey:"kpi",titleKey:(0,h.V)("DebugVisual_ToolTip"),capabilities:R.capabilities,create:()=>new R,createES6:()=>Promise.resolve(new R),customizeQuery:O=>{},systemVisual:!0});var B=e(621083),N=e(380988);function W(O,x,I,L,K){return new F(O,I,x,new U(O,L,K))}class F{constructor(x,I,L,K){this.asyncFeatureSwitchService=x,this.resourceLoader=I,this.promiseFactory=L,s.f.assertValue(x,"asyncFeatureSwitchService"),s.f.assertValue(L,"promiseFactory"),this.resourceLoader=I,this.promiseFactory=L,this.trustedConvertibleVisualTypes=[],this.customConvertibleVisualTypes=[],this.globalConvertibleVisualTypes=[],this.storage=new m.ZM,this.initBuiltInPlugins=this.asyncFeatureSwitchService.getFeatureSwitches().then(z=>(K=K||new U(x),this.getConvertibleCoreVisualTypeNames(z))).then(z=>{for(var H in this.globalConvertibleVisualTypes=z,p.L)this.storage.loadPlugin(H,K.getPlugin(H))})}getConvertibleCoreVisualTypeNames(x){var I=[p.L.barChart.name,p.L.columnChart.name,p.L.clusteredBarChart.name,p.L.clusteredColumnChart.name,p.L.hundredPercentStackedBarChart.name,p.L.hundredPercentStackedColumnChart.name,p.L.lineChart.name,p.L.areaChart.name,p.L.stackedAreaChart.name,p.L.hundredPercentStackedAreaChart.name,p.L.lineStackedColumnComboChart.name,p.L.lineClusteredColumnComboChart.name,p.L.ribbonChart.name,p.L.waterfallChart.name,p.L.funnel.name,p.L.scatterChart.name,p.L.pieChart.name,p.L.donutChart.name,p.L.treemap.name,p.L.map.name,p.L.filledMap.name];x&&x.shapeMapVisualEnabled&&I.push(p.L.shapeMap.name),(!x||!x.hideAzureMapVisual)&&I.push(p.L.azureMap.name),I.push(p.L.gauge.name,p.L.card.name,p.L.multiRowCard.name,p.L.kpi.name,p.L.slicer.name),x&&x.pivotTableVisualEnabled?(I.push(p.L.tableEx.name),I.push(p.L.pivotTable.name)):(I.push(p.L.table.name),I.push(p.L.matrix.name)),x&&x.scriptVisualEnabled&&x.scriptVisualAuthoringEnabled&&(I.push(p.L.scriptVisual.name),I.push(p.L.pythonVisual.name)),x&&x.keyDrivers&&I.push(p.L.keyDriversVisual.name),I.push(p.L.decompositionTreeVisual.name),x&&x.qnaVisual&&I.push(p.L.qnaVisual.name),x&&x.daxTransformEnabled&&!(x.aiNarrativesSingleEntryPoint&&x.aiNarrativesVisual)&&I.push(p.L.textbox.name),x&&x.aiNarrativesVisual&&I.push(p.L.aiNarratives.name),x&&x.scorecardVisual&&I.push(p.L.scorecard.name),x&&x.rdlNativeVisual&&I.push(p.L.rdlVisual.name),x&&x.newCard&&I.push(p.L.cardVisual.name),x&&x.buttonSlicer&&x.buttonSlicerAuthoring&&I.push(p.L.advancedSlicerVisual.name),x&&x.textSlicer&&I.push(p.L.textSlicer.name),x&&x.buttonSlicer&&x.buttonSlicerAuthoring&&x.advancedSlicerTypeList&&I.push(p.L.listSlicer.name),o.DU.getData("VISUAL_DEVELOPER_MODE_ENABLED")&&I.push("debugVisual");var K=this.promiseFactory.defer();return K.resolve(I),K.promise}getNonConvertibleCoreVisualTypeNames(){return[p.L.actionButton.name,p.L.bookmarkNavigator.name,p.L.image.name,p.L.textbox.name,p.L.pageNavigator.name,p.L.shape.name]}getVisuals(){return this.storage.getLoadedPlugins()}getConvertibleVisuals(){var x=[];for(var I of this.globalConvertibleVisualTypes)this.storage.hasPlugin(I)&&!_.includes(x,I)&&x.push(I);for(var L of this.trustedConvertibleVisualTypes)this.storage.hasPlugin(L)&&!_.includes(x,L)&&x.push(L);for(var K of this.customConvertibleVisualTypes)this.storage.hasPlugin(K)&&!_.includes(x,K)&&x.push(K);return x.map(z=>this.storage.getLoadedPlugin(z))}getConvertibleVisualsAsync(){var x=this;return(0,r.Z)(function*(){return yield x.ensureBuiltInPlugins(),x.getConvertibleVisuals()})()}getCoreVisualTypes(){var x=[...this.getNonConvertibleCoreVisualTypeNames(),...this.globalConvertibleVisualTypes];return _.uniq(x)}ensureBuiltInPlugins(){return this.initBuiltInPlugins}ensureTrustedVisualPlugins(x){for(var I of((0,m.Os)(this.storage,x),x))this.addTrustedConvertibleVisualType(I.name)}ensurePlugins(x,I){var L=this;s.f.assertValue(this.promiseFactory,"promiseFactory");var K=[];if(x&&x.length){var z=function(J){if((0,C.JZ)(J)){var k=L.ensurePlugin(J,I).then(()=>L.addCustomConvertibleVisualType(J.name));K.push(k)}};for(var H of x)z(H)}return Promise.allSettled(K)}ensurePlugin(x,I){return(0,m.wl)(this.storage,this.promiseFactory,this.resourceLoader,x,I)}addTrustedConvertibleVisualType(x){this.trustedConvertibleVisualTypes.indexOf(x)<0&&this.trustedConvertibleVisualTypes.push(x)}addCustomConvertibleVisualType(x){this.customConvertibleVisualTypes.indexOf(x)<0&&this.customConvertibleVisualTypes.push(x)}capabilities(x){var I=this.getPlugin(x);return I?I.capabilities:void 0}removeAllCustomVisuals(){for(var x of this.customConvertibleVisualTypes)this.storage.unloadPlugin(x);this.customConvertibleVisualTypes=[]}removePlugin(x){this.getPlugin(x)&&(this.storage.unloadPlugin(x),_.remove(this.customConvertibleVisualTypes,L=>L===x))}getTelemetryHostInformation(){return{name:"Exploration"}}isCustomVisual(x){return(0,v.vh)(this.getPlugin(x),x)}isScriptVisual(x){return(0,v.ww)(this.getPlugin(x))}isScriptVisualQueryable(x){return(0,v.Se)(x,this.asyncFeatureSwitchService.featureSwitches)}isLightWeightRenderingVisual(x){return(0,v.vt)(this.getPlugin(x))}getInteractivityOptions(){return{overflow:"hidden",isVisualInteractive:!0}}getCustomizeConvertTo(x,I){var L=this.getPlugin(I);return L.getCustomizeConvertTo?L.getCustomizeConvertTo(x,I,this.asyncFeatureSwitchService.featureSwitches):void 0}loadPluginByNameIfAny(x){if(!this.getPlugin(x)){if(this.storage.hasPlugin(x))return void this.storage.loadPlugin(x);p.L[x]&&this.storage.loadPlugin(x,p.L[x])}}getPlugin(x){return this.storage.getLoadedPlugin(x)}getStorage(){return this.storage}}class U{constructor(x,I,L){this.featureSwitchService=x,this.mapControlFactory=I,this.visualSandbox=L,s.f.assertValue(x,"featureSwitchService")}getPlugin(x){var I=this,L=this.featureSwitchService.featureSwitches?_.clone(this.featureSwitchService.featureSwitches):{},K=()=>{throw new Error("explorationVisualPluginService: 'Create' function is deprecated")};switch(x){case p.L.barChart.name:return(0,c.i8)(p.L.barChart,K,L,(0,r.Z)(function*(){var{CartesianChart:z,ColumnChartAnimator:H,CartesianChartBehaviorFactory:J,ColumnChartWebBehaviorFactory:k}=yield Promise.all([e.e(15),e.e("cartesianVisuals")]).then(e.bind(e,101955));return new z({chartType:y.bl.StackedBar,isScrollable:!0,dataPointLassoSelect:!0,animator:new H,tooltipsEnabled:!0,behaviorFactory:new J([new k],L),featureSwitches:L})}));case p.L.card.name:return(0,c.i8)(p.L.card,K,L,(0,r.Z)(function*(){var{createCard:z}=yield Promise.all([e.e(15),e.e("cardModule")]).then(e.bind(e,733903));return z({isScrollable:!0,animator:new l.r5,tooltipsEnabled:!0,interactivityEnabled:!0,featureSwitches:L})}));case p.L.cardVisual.name:return(0,c.i8)(p.L.cardVisual,K,L,(0,r.Z)(function*(){var{CardVisual:z}=yield Promise.all([e.e(12),e.e(15),e.e("cardVisual")]).then(e.bind(e,31712));return new z({isScrollable:!0,animator:new l.r5,tooltipsEnabled:!0,interactivityEnabled:!0,featureSwitches:L})}));case p.L.clusteredBarChart.name:return(0,c.i8)(p.L.clusteredBarChart,K,L,(0,r.Z)(function*(){var{CartesianChart:z,ColumnChartAnimator:H,CartesianChartBehaviorFactory:J,ColumnChartWebBehaviorFactory:k}=yield Promise.all([e.e(15),e.e("cartesianVisuals")]).then(e.bind(e,101955));return new z({chartType:y.bl.ClusteredBar,isScrollable:!0,dataPointLassoSelect:!0,tooltipsEnabled:!0,animator:new H,behaviorFactory:new J([new k],L),featureSwitches:L})}));case p.L.clusteredColumnChart.name:return(0,c.i8)(p.L.clusteredColumnChart,K,L,(0,r.Z)(function*(){var{CartesianChart:z,ColumnChartAnimator:H,CartesianChartBehaviorFactory:J,ColumnChartWebBehaviorFactory:k}=yield Promise.all([e.e(15),e.e("cartesianVisuals")]).then(e.bind(e,101955));return new z({chartType:y.bl.ClusteredColumn,isScrollable:!0,dataPointLassoSelect:!0,tooltipsEnabled:!0,animator:new H,behaviorFactory:new J([new k],L),featureSwitches:L})}));case p.L.columnChart.name:return(0,c.i8)(p.L.columnChart,K,L,(0,r.Z)(function*(){var{CartesianChart:z,ColumnChartAnimator:H,CartesianChartBehaviorFactory:J,ColumnChartWebBehaviorFactory:k}=yield Promise.all([e.e(15),e.e("cartesianVisuals")]).then(e.bind(e,101955));return new z({chartType:y.bl.StackedColumn,isScrollable:!0,dataPointLassoSelect:!0,tooltipsEnabled:!0,animator:new H,behaviorFactory:new J([new k],L),featureSwitches:L})}));case p.L.donutChart.name:return(0,c.i8)(p.L.donutChart,()=>{throw new Error("explorationVisualPluginService: 'Create' function is deprecated")},L,(0,r.Z)(function*(){var{DonutChart:z,DonutChartWebBehavior:H}=yield Promise.all([e.e(15),e.e("donutChart")]).then(e.bind(e,278926));return new z({animator:new N.L,isScrollable:!0,tooltipsEnabled:!0,behavior:new H})}));case p.L.funnel.name:return(0,c.i8)(p.L.funnel,K,L,(0,r.Z)(function*(){var{FunnelChart:z,WebFunnelAnimator:H,FunnelWebBehavior:J}=yield Promise.all([e.e(15),e.e("FunnelChartVisual")]).then(e.bind(e,391442));return new z({animator:new H,behavior:new J,tooltipsEnabled:!0})}));case p.L.gauge.name:return(0,c.i8)(p.L.gauge,K,L,(0,r.Z)(function*(){var{Gauge:z}=yield Promise.all([e.e(15),e.e("gauge")]).then(e.bind(e,317277));return new z({animator:new l.r5,tooltipsEnabled:!0,behavior:new t},L)}));case p.L.kpi.name:return(0,c.i8)(p.L.kpi,K,L,(0,r.Z)(function*(){var{KPIStatusWithHistory:z}=yield Promise.all([e.e(15),e.e("KpiVisual")]).then(e.bind(e,576603));return new z({interactivityEnabled:!0,featureSwitches:L})}));case p.L.hundredPercentStackedBarChart.name:return(0,c.i8)(p.L.hundredPercentStackedBarChart,K,L,(0,r.Z)(function*(){var{CartesianChart:z,ColumnChartAnimator:H,CartesianChartBehaviorFactory:J,ColumnChartWebBehaviorFactory:k}=yield Promise.all([e.e(15),e.e("cartesianVisuals")]).then(e.bind(e,101955));return new z({chartType:y.bl.HundredPercentStackedBar,isScrollable:!0,dataPointLassoSelect:!0,tooltipsEnabled:!0,animator:new H,behaviorFactory:new J([new k],L),featureSwitches:L})}));case p.L.hundredPercentStackedColumnChart.name:return(0,c.i8)(p.L.hundredPercentStackedColumnChart,K,L,(0,r.Z)(function*(){var{CartesianChart:z,ColumnChartAnimator:H,CartesianChartBehaviorFactory:J,ColumnChartWebBehaviorFactory:k}=yield Promise.all([e.e(15),e.e("cartesianVisuals")]).then(e.bind(e,101955));return new z({chartType:y.bl.HundredPercentStackedColumn,isScrollable:!0,dataPointLassoSelect:!0,tooltipsEnabled:!0,animator:new H,behaviorFactory:new J([new k],L),featureSwitches:L})}));case p.L.lineChart.name:return(0,c.i8)(p.L.lineChart,K,L,(0,r.Z)(function*(){var{CartesianChart:z,CartesianChartBehaviorFactory:H,LineChartWebBehaviorFactory:J}=yield Promise.all([e.e(15),e.e("cartesianVisuals")]).then(e.bind(e,101955));return new z({chartType:y.bl.Line,isScrollable:!0,dataPointLassoSelect:!0,tooltipsEnabled:!0,animator:new l.r5,behaviorFactory:new H([new J],L),featureSwitches:L})}));case p.L.areaChart.name:return(0,c.i8)(p.L.areaChart,K,L,(0,r.Z)(function*(){var{CartesianChart:z,CartesianChartBehaviorFactory:H,LineChartWebBehaviorFactory:J}=yield Promise.all([e.e(15),e.e("cartesianVisuals")]).then(e.bind(e,101955));return new z({chartType:y.bl.Area,isScrollable:!0,dataPointLassoSelect:!0,tooltipsEnabled:!0,animator:new l.r5,behaviorFactory:new H([new J],L),featureSwitches:L})}));case p.L.stackedAreaChart.name:return(0,c.i8)(p.L.stackedAreaChart,K,L,(0,r.Z)(function*(){var{CartesianChart:z,CartesianChartBehaviorFactory:H,LineChartWebBehaviorFactory:J}=yield Promise.all([e.e(15),e.e("cartesianVisuals")]).then(e.bind(e,101955));return new z({chartType:y.bl.StackedArea,isScrollable:!0,dataPointLassoSelect:!0,tooltipsEnabled:!0,animator:new l.r5,behaviorFactory:new H([new J],L),featureSwitches:L})}));case p.L.hundredPercentStackedAreaChart.name:return(0,c.i8)(p.L.hundredPercentStackedAreaChart,K,L,(0,r.Z)(function*(){var{CartesianChart:z,CartesianChartBehaviorFactory:H,LineChartWebBehaviorFactory:J}=yield Promise.all([e.e(15),e.e("cartesianVisuals")]).then(e.bind(e,101955));return new z({chartType:y.bl.HundredPercentStackedArea,isScrollable:!0,dataPointLassoSelect:!0,tooltipsEnabled:!0,animator:new l.r5,behaviorFactory:new H([new J],L),featureSwitches:L})}));case p.L.lineClusteredColumnComboChart.name:return(0,c.i8)(p.L.lineClusteredColumnComboChart,K,L,(0,r.Z)(function*(){var{CartesianChart:z,ColumnChartAnimator:H,CartesianChartBehaviorFactory:J,LineChartWebBehaviorFactory:k,ColumnChartWebBehaviorFactory:G}=yield Promise.all([e.e(15),e.e("cartesianVisuals")]).then(e.bind(e,101955));return new z({chartType:y.bl.LineClusteredColumnCombo,isScrollable:!0,dataPointLassoSelect:!0,tooltipsEnabled:!0,animator:new H,behaviorFactory:new J([new G,new k],L),featureSwitches:L})}));case p.L.lineStackedColumnComboChart.name:return(0,c.i8)(p.L.lineStackedColumnComboChart,K,L,(0,r.Z)(function*(){var{CartesianChart:z,ColumnChartAnimator:H,CartesianChartBehaviorFactory:J,LineChartWebBehaviorFactory:k,ColumnChartWebBehaviorFactory:G}=yield Promise.all([e.e(15),e.e("cartesianVisuals")]).then(e.bind(e,101955));return new z({chartType:y.bl.LineStackedColumnCombo,isScrollable:!0,dataPointLassoSelect:!0,tooltipsEnabled:!0,animator:new H,behaviorFactory:new J([new G,new k],L),featureSwitches:L})}));case p.L.multiRowCard.name:return(0,c.i8)(p.L.multiRowCard,K,L,(0,r.Z)(function*(){var{MultiRowCard:z}=yield Promise.all([e.e(15),e.e("MultiRowCardVisual")]).then(e.bind(e,685701)),{MultiRowCardBehavior:H}=yield Promise.all([e.e(15),e.e("MultiRowCardVisual")]).then(e.bind(e,685701));return new z({interactivityEnabled:!0,behavior:new H})}));case p.L.pieChart.name:return(0,c.i8)(p.L.pieChart,K,L,(0,r.Z)(function*(){var{DonutChart:z,DonutChartWebBehavior:H}=yield Promise.all([e.e(15),e.e("donutChart")]).then(e.bind(e,278926));return new z({isPieChart:!0,animator:new N.L,isScrollable:!0,tooltipsEnabled:!0,behavior:new H})}));case p.L.ribbonChart.name:return(0,c.i8)(p.L.ribbonChart,K,L,(0,r.Z)(function*(){var{CartesianChart:z,ColumnChartAnimator:H,CartesianChartBehaviorFactory:J,ColumnChartWebBehaviorFactory:k}=yield Promise.all([e.e(15),e.e("cartesianVisuals")]).then(e.bind(e,101955));return new z({chartType:y.bl.RibbonChart,isScrollable:!0,tooltipsEnabled:!0,animator:new H,behaviorFactory:new J([new k],L),featureSwitches:L})}));case p.L.scatterChart.name:return(0,c.i8)(p.L.scatterChart,K,L,(0,r.Z)(function*(){var{CartesianChart:z,CartesianChartBehaviorFactory:H,ScatterChartWebBehaviorFactory:J}=yield Promise.all([e.e(15),e.e("cartesianVisuals")]).then(e.bind(e,101955));return new z({chartType:y.bl.Scatter,isScrollable:!0,dataPointLassoSelect:!0,tooltipsEnabled:!0,animator:new l.r5,behaviorFactory:new H([new J],L),featureSwitches:L})}));case p.L.treemap.name:return(0,c.i8)(p.L.treemap,K,L,(0,r.Z)(function*(){var{Treemap:z,TreemapWebBehavior:H}=yield Promise.all([e.e(15),e.e("TreemapVisual")]).then(e.bind(e,730396));return new z({animator:new N.L,isScrollable:!0,behavior:new H,tooltipsEnabled:!0,cartesianConditionalFormatting:L.cartesianConditionalFormatting,dataPointLassoSelect:!0})}));case p.L.filterSlicer.name:return(0,c.i8)(p.L.filterSlicer,K,L,(0,r.Z)(function*(){var{Slicer:z}=yield Promise.all([e.e(15),e.e("slicer")]).then(e.bind(e,273035));return new z({lockKeyboardNavigation:!1,featureSwitches:L})}));case p.L.accessibleTable.name:return(0,c.i8)(p.L.accessibleTable,K,L,(0,r.Z)(function*(){var{AccessibleTable:z}=yield Promise.all([e.e(12),e.e("AccessibleTableVisual")]).then(e.bind(e,55532));return new z}));case p.L.waterfallChart.name:return(0,c.i8)(p.L.waterfallChart,K,L,(0,r.Z)(function*(){var{CartesianChart:z,CartesianChartBehaviorFactory:H,WaterfallChartWebBehaviorFactory:J}=yield Promise.all([e.e(15),e.e("cartesianVisuals")]).then(e.bind(e,101955));return new z({chartType:y.bl.Waterfall,isScrollable:!0,tooltipsEnabled:!0,behaviorFactory:new H([new J],L),featureSwitches:L})}));case p.L.map.name:return(0,c.i8)(p.L.map,K,L,(0,r.Z)(function*(){var{Map:z,MapBehavior:H}=yield Promise.all([e.e(15),e.e("MapVisuals")]).then(e.bind(e,67050));return new z({behavior:new H,dataPointLassoSelect:!0,tooltipsEnabled:!0,isLegendScrollable:!0,mapControlFactory:I.mapControlFactory})}));case p.L.filledMap.name:return(0,c.i8)(p.L.filledMap,K,L,(0,r.Z)(function*(){var{Map:z,MapBehavior:H}=yield Promise.all([e.e(15),e.e("MapVisuals")]).then(e.bind(e,67050));return new z({filledMap:!0,behavior:new H,dataPointLassoSelect:!0,tooltipsEnabled:!0,filledMapDataLabelsEnabled:L&&L.filledMapDataLabelsEnabled,isLegendScrollable:!0,mapControlFactory:I.mapControlFactory})}));case p.L.azureMap.name:return(0,c.i8)(p.L.azureMap,K,L,(0,r.Z)(function*(){var{AzureMap:z}=yield Promise.all([e.e(12),e.e(15),e.e("AzureMapVisuals")]).then(e.bind(e,670181)),{AzureMapBehavior:H}=yield Promise.all([e.e(12),e.e(15),e.e("AzureMapVisuals")]).then(e.bind(e,670181));return new z({behavior:new H,tooltipsEnabled:!0,isLegendScrollable:!0,mapControlFactory:I.mapControlFactory,featureSwitches:L})}));case p.L.shape.name:return(0,c.i8)(p.L.shape,K,L,(0,r.Z)(function*(){var{Shape:z}=yield Promise.all([e.e(15),e.e("shape")]).then(e.bind(e,472149));return new z}));case p.L.actionButton.name:return(0,c.i8)(p.L.actionButton,K,L,(0,r.Z)(function*(){var{ActionButton:z}=yield Promise.all([e.e(15),e.e("actionButton")]).then(e.bind(e,200998));return new z}));case p.L.shapeMap.name:return(0,c.i8)(p.L.shapeMap,K,L,(0,r.Z)(function*(){var{ShapeMap:z}=yield Promise.all([e.e(15),e.e("shapeMap")]).then(e.bind(e,473653)),{ShapeMapBehavior:H}=yield Promise.all([e.e(15),e.e("shapeMapBehaviors")]).then(e.bind(e,876557));return new z({behavior:new H,tooltipsEnabled:!0})}));case p.L.slicer.name:return(0,c.i8)(p.L.slicer,K,L,(0,r.Z)(function*(){var{Slicer:z}=yield Promise.all([e.e(15),e.e("slicer")]).then(e.bind(e,273035));return new z({featureSwitches:L,preventVirtualKeyboardOnTheFirstTap:!0,isSlicer:!0})}));case p.L.advancedSlicerVisual.name:return(0,c.i8)(p.L.advancedSlicerVisual,K,L,(0,r.Z)(function*(){var{createAdvancedSlicer:z}=yield Promise.all([e.e(12),e.e(15),e.e("AdvancedSlicerVisual")]).then(e.bind(e,194161));return z({featureSwitches:L,preventVirtualKeyboardOnTheFirstTap:!0,isSlicer:!0,tooltipsEnabled:!0})}));case p.L.textSlicer.name:return(0,c.i8)(p.L.textSlicer,K,L,(0,r.Z)(function*(){var{TextSlicer:z}=yield Promise.all([e.e(12),e.e("TextSlicerVisual")]).then(e.bind(e,241118));return new z}));case p.L.listSlicer.name:return(0,c.i8)(p.L.listSlicer,K,L,(0,r.Z)(function*(){var{createAdvancedSlicer:z}=yield Promise.all([e.e(12),e.e(15),e.e("AdvancedSlicerVisual")]).then(e.bind(e,194161));return z({featureSwitches:L,preventVirtualKeyboardOnTheFirstTap:!0,isSlicer:!0,tooltipsEnabled:!0,slicerType:B.yY.List})}));case p.L.matrix.name:return(0,c.i8)(p.L.matrix,K,L,(0,r.Z)(function*(){var{Matrix:z}=yield Promise.all([e.e(12),e.e(15),e.e("PivotTableVisuals")]).then(e.bind(e,37371));return new z}));case p.L.table.name:return(0,c.i8)(p.L.table,K,L,(0,r.Z)(function*(){var{Table:z}=yield Promise.all([e.e(12),e.e(15),e.e("PivotTableVisuals")]).then(e.bind(e,37371));return new z}));case p.L.pivotTable.name:return(0,c.i8)(p.L.pivotTable,K,L,(0,r.Z)(function*(){var{PivotTable:z}=yield Promise.all([e.e(12),e.e(15),e.e("PivotTableVisuals")]).then(e.bind(e,37371));return new z((0,g.DH)(),L)}));case p.L.tableEx.name:return(0,c.i8)(p.L.tableEx,K,L,(0,r.Z)(function*(){var{TableEx:z}=yield Promise.all([e.e(12),e.e(15),e.e("PivotTableVisuals")]).then(e.bind(e,37371));return new z((0,n.DH)(),L)}));case p.L.scriptVisual.name:return(0,c.i8)(p.L.scriptVisual,K,L,(0,r.Z)(function*(){var{ScriptVisual:z}=yield e.e("ScriptVisual").then(e.bind(e,900577));return new z}));case p.L.pythonVisual.name:return(0,c.i8)(p.L.pythonVisual,K,L,(0,r.Z)(function*(){var{ScriptVisual:z}=yield e.e("ScriptVisual").then(e.bind(e,900577));return new z}));case p.L.debugVisual?.name:return(0,c.i8)(p.L.debugVisual,K,L,(0,r.Z)(function*(){return new R(I.visualSandbox)}));case p.L.textbox.name:return(0,c.i8)(p.L.textbox,K,L,(0,r.Z)(function*(){var{Textbox:z}=yield Promise.all([e.e(15),e.e("TextboxVisual")]).then(e.bind(e,569770));return new z({supportsNarrativeExpressions:L.daxTransformEnabled,supportsFormattingChangeIndication:!0})}));case p.L.keyDriversVisual.name:return(0,c.i8)(p.L.keyDriversVisual,z=>z.module.createAnalysisVisual(),L,void 0);case p.L.decompositionTreeVisual.name:return(0,c.i8)(p.L.decompositionTreeVisual,K,L,(0,r.Z)(function*(){var{DecompositionTree:z}=yield Promise.all([e.e(15),e.e("DecompositionTreeVisual")]).then(e.bind(e,736289));return new z}));case p.L.qnaVisual.name:return(0,c.i8)(p.L.qnaVisual,z=>z.module.createQnaVisual(),L,void 0);case p.L.aiNarratives.name:return(0,c.i8)(p.L.aiNarratives,K,L,(0,r.Z)(function*(){var{AINarratives:z}=yield Promise.all([e.e(15),e.e("AINarrativesVisual")]).then(e.bind(e,71700));return new z}));default:return(0,d.ED)(p.L[x])}}}},942984:function(ve,j,e){function r(){return new i(150,150)}e.d(j,{Z:function(){return r}});class i{constructor(t,l){this.emptySpaceMinWidth=t,this.emptySpaceMinHeight=l}getEmptySpaces(t,l){var g=this.getNonOverlapingRects(t,l),n=this.filterWithMinimumWidth(g),p=[];for(var s of n){var d=this.extendRect(s,g);d.height>=this.emptySpaceMinHeight&&p.push(d)}return p}getNonOverlapingRects(t,l){if(!l.length)return[];var g=[t];for(var n of l){var p=[];for(var s of g)p=p.concat(this.splitRectangleOnIntersection(s,n));g=p}return g}getIntersectingRectangle(t,l){var g=Math.max(t.x,l.x),n=Math.min(t.x+t.width,l.x+l.width),p=Math.max(t.y,l.y),s=Math.min(t.y+t.height,l.y+l.height);return g<=n&&p<=s?{x:g,y:p,width:n-g,height:s-p}:null}extendRect(t,l){var n,g=!1;for(var p of l)if(p!==t){var s=!1,d=!1;if(this.doIntersect(p,t)&&(s=p.y+p.height===t.y,d=p.y===t.y+t.height),!(p.width<t.width))if(d){var o={x:t.x,y:t.y,width:t.width,height:t.height+p.height},v=this.getIntersectingRectangle(o,p);v&&v.width===o.width&&(g=!0,n=o)}else if(s){var m={x:t.x,y:p.y,width:t.width,height:t.height+p.height},c=this.getIntersectingRectangle(m,p);c&&c.width===m.width&&(g=!0,n=m)}}return g?this.extendRect(n,l):t}doIntersect(t,l){return!(l.x>t.x+t.width||l.x+l.width<t.x||l.y>t.y+t.height||l.y+l.height<t.y)}filterWithArea(t){var l=[];for(var g of t)g.width>0&&g.height>0&&l.push(g);return l}filterWithMinimumWidth(t){var l=[];for(var g of t)g.width>=this.emptySpaceMinWidth&&l.push(g);return l}splitRectangleOnIntersection(t,l){var g=this.getIntersectingRectangle(t,l);return g?this.filterWithArea([{x:t.x,y:t.y,width:t.width,height:g.y-t.y},{x:t.x,y:g.y+g.height,width:t.width,height:t.y+t.height-(g.y+g.height)},{x:t.x,y:g.y,width:g.x-t.x,height:g.height},{x:g.x+g.width,y:g.y,width:t.x+t.width-(g.x+g.width),height:g.height}]):[t]}}},891925:function(ve,j,e){e.d(j,{d:function(){return o}});var r=e(349672),i=e(164397),a=e(650543),t=e(621083),l=e(281210),g=e(726988),n=e(810331),p=e(509247),s=e(241842),d=e(371842);function o(m,c,C,y,S){return new v(m,C,y,S)}class v{constructor(c,C,y,S){this.localizationService=c,this.telemetryService=C,this.visualAuthoring=y,this.visualPlugin=S}createShowValueAsMenuItems(c,C,y){a.f.assertValue(c,"expr"),a.f.assertValue(C,"schema"),a.f.assertValue(y,"visualType");var S=(0,g.J1)((0,n.Q)(c));if(!C.schema(S).capabilities.supportsScopedEval)return[];var h=[];if(this.aggregateSupportsShowValueAs(c,C)){var E=new d.KS(this.localizationService);h.push(this.showValueAsMenuItemBuilder(E));var u=new d.AW(this.localizationService);h.push(this.showValueAsMenuItemBuilder(u));var f=this.visualPlugin.capabilities(y),b=f&&f.dataRoleTotals;if(!_.isEmpty(b))for(var V of b){var T=new d.Yz(this.localizationService,V.roles,(0,l.G)(V.displayName,this.localizationService));h.push(this.showValueAsMenuItemBuilder(T))}}return h}applyShowValueAs(c,C,y){var S=this;return(0,r.Z)(function*(){a.f.assertValue(c,"context"),a.f.assertValue(C,"original"),a.f.assertValue(y,"target"),(yield S.visualAuthoring.applyShowValueAs(c,C,y))&&S.telemetryService.logEvent(s.iZX,{original:S.showValueAsKindToTelemetryId(C.kind),target:S.showValueAsKindToTelemetryId(y.kind)})})()}showValueAsMenuItemBuilder(c){return{type:t.UI.Item,key:{action:i.EI.SetShowValueAsOption,showValueAs:c},text:c.name}}aggregateSupportsShowValueAs(c,C){var y=c.getMetadata(C);return y&&y.type&&y.type.numeric&&(0,p.k)(c)}showValueAsKindToTelemetryId(c){switch(c){case void 0:return"None";case d.xy.PercentOfGrandTotal:return"PercentOfGrandTotal";case d.xy.PercentOfRoleTotal:return"PercentOfRoleTotal"}a.f.assertFail("Could not convert showValueAsKind "+c+" to a telemetry ID")}}},698733:function(ve,j,e){e.d(j,{R:function(){return t}});var r=e(171599),i=e(461251),a=e(661214);function t(g,n){return new l(g,n)}class l{constructor(n,p){this.visualContainer=n,this.visualPluginOps=p}getSelectedValues(n){if(n.valueDetails){var p=this.filterThroughValueDetails(n.valueDetails,n.metadata);return this.amendIdentityToValueDetails(n,p)}var d=(0,i.s)(this.visualContainer.contract),o=(0,a.Xf)(this.visualContainer.contract),v=this.visualPluginOps.dataViewKinds(d,o);return r.Om.query(this.getDataViews(),n,v)}filterThroughValueDetails(n,p){return p?_.filter(n,s=>_.includes(p,s.queryName)):n}amendIdentityToValueDetails(n,p){var s=[];for(var d of p)s.push({queryName:d.queryName,identity:d.identity||n.dataMap&&_.values(n.dataMap)[0][0],expr:d.expr,value:d.value,formattedValue:d.formattedValue});return s}getDataViews(){var n=this.visualContainer&&this.visualContainer.getRunningVisual();return n&&n.getDataViews()}}},213677:function(ve,j,e){e.d(j,{e:function(){return d},q:function(){return o}});var r=e(892110),i=e(440742),a=e(160296),t=e(650543),l=e(630881),g=e(621083),n=e(762329),p=e(461361),s={"0.00 %;-0.00 %;0.00 %":"Percentage","0.0 %;-0.0 %;0.0 %":"Percentage1"};class d{static initialize(m){t.f.assertValue(m,"localize"),!d.initialized&&(d.initialized=!0,(0,n.X0)(d.createLocaleOptions(m)),a.I.localizationOptions=d.createTooltipLocaleOptions(m),(0,p.iZ)(d.createDataViewTransformLocalizationOptions(m)))}static createLocaleOptions(m){return t.f.assertValue(m,"localize"),{null:m.get("NullValue"),true:m.get("BooleanTrue"),false:m.get("BooleanFalse"),NaN:m.get("NaNValue"),infinity:m.get("InfinityValue"),negativeInfinity:m.get("NegativeInfinityValue"),beautify:c=>d.beautify(m,c),describe:c=>d.describeUnit(m,c),restatementComma:m.get("PowerBI_TwoStrings_SeperateWithCommaAndVisualSpace"),restatementCompoundAnd:m.get("FilterRestatement_CompoundAnd"),restatementCompoundOr:m.get("Generic_Or")}}static createTooltipLocaleOptions(m){return{highlightedValueDisplayName:m.get(a.I.highlightedValueDisplayNameResourceKey)}}static createDataViewTransformLocalizationOptions(m){return{quarterPrefix:m.get("Visual_Quarter_Abbreviated")}}constructor(m){this.services=m,this.instanceId=void 0}getLocalizedString(m,...c){return this.services.localizationService.format(m,...c||[])}requestFocus(m){r.IK.focus(m)}alertScreenReader(m){}alertWithDebounce(m,c){this.services.screenReaderService&&this.services.screenReaderService.alertWithDebounce(m,c)}onDragStart(){}getVisualLinkProperties(){}canSelect(){return!1}onSelecting(){}onSelect(){}onSwitchFocusModeState(){}canExpandCollapse(m){return!!this.services.canExpandCollapse&&this.services.canExpandCollapse(m)}setNodeExpansionState(m){}setLevelExpansionState(m){}setCanDrill(m){}onContextMenu(){}loadMoreData(){}loadWindow(m){}setShouldDeferData(){}persistProperties(m){}onCustomSort(m){}getViewMode(){return l.wO.View}getEditMode(){return l.Gt.Default}setWarnings(m){}getWarnings$(){}setToolbar(m){}shouldRetainSelection(){return!1}geocoder(){return this.services.geocoder}geolocation(){return this.services.geolocation}locale(){return(0,i.uD)()}promiseFactory(){return this.services.promiseFactory}ignoreDefaultFilter(){return!1}getIdentityDisplayNames(m){}setIdentityDisplayNames(m){}setFilterExpressionMetadata(){}getFilterExpressionMetadata(){}decompositionService(){}dropdown(){}tooltips(){return this.services.visualHostTooltipService}telemetry(){}authenticationService(){return this.services.authenticationService}localStorageService(){}acquireAADTokenService(){}eventService(){}licenseManagerService(){}drill(m){}loader(){return this.services.moduleLoader}getUIComponentFactory(){}applyJsonFilter(m,c,C,y){}applyIdentityFilter(m,c,C,y){}launchUrl(m){}refreshHostData(){}getJSONFilter(m,c){return this.promiseFactory().reject()}onHyperlinkClick(m,c){}visualTimeSynchronization(){}isVisualEnabled(){return this.promiseFactory().resolve(!0)}isVisualLoading(){return this.promiseFactory().resolve(!1)}dataMultiSelectMode(){return g.O4.Single}networkAvailability(){}downloadService(){}setAriaMetadata(m){}artifactService(){}getSectionsMetadata$(){}getBookmarksMetadata$(){}visualExportService(){}onNotifyLicense(m){this.services.onNotifyLicense&&this.services.onNotifyLicense(m)}onClearLicenseNotification(){this.services.onClearLicenseNotification&&this.services.onClearLicenseNotification()}onNotifyFeatureBlocked(m){this.services.onNotifyFeatureBlocked&&this.services.onNotifyFeatureBlocked(m)}getSubSelectionService(){}webAccessService(){}getAzureMapToken(){return this.services.getAzureMapToken()}azureMapsEndpoint(){return this.services.azureMapsEndpoint}geocoderIndexedDB(){return this.services.geocoderIndexedDB}triggerUpdate(){}azureMapsHostEnvironment(){return{isPublishToWebHost:!1,isScreenshotExportHost:!1}}localStorageV2Service(){}aiNarrativesService(){}dateTimeFormatService(){}visualHostSubSelectionService(){}annotations(){}static beautify(m,c){var C=s[c];return C?((0,n.J6)(C),m.getOptional(C)||c):c}static describeUnit(m,c){var C=-1===c?"Auto":c.toString(),y=m.getOptional("DisplayUnitSystem_E"+C+"_Title"),S=c<=0?"{0}":m.getOptional("DisplayUnitSystem_E"+C+"_LabelFormat");if(y||S)return{title:y,format:S}}}function o(v){return new d(v)}},267903:function(ve,j,e){e.d(j,{w:function(){return m}});var r=e(349672),i=e(316109),a=e(661214),t=e(650543),l=e(719242),g=e(482693),n=e(914094),s=(e(442407),e(247425)),d=e(426313),o=e(741714),v=e(159601);function m(){var c=g.MD,C=n.yl,S=s.b;class E{constructor(V,T,P,D,w,M,A,R,B){this.explorationStateManager=V,this.explorationNavigation=T,this.explorationSerializer=P,this.featureSwitchService=D,this.visualPlugin=w,this.conceptualSchemaProxy=M,this.dataSources=A,this.displayNameService=R,this.visualAuthoringOperations=B}generateUniqueGroupName(V,T,P){var w,D=this.getVisualSyncField(T);w=D?this.displayNameService.getDisplayName(D,V,this.visualPlugin.capabilities(T.visualType)):"Group",t.f.assert(()=>!_.isEmpty(w),"expected preferred name for group");for(var M=w,A=1;M in P;)M=w+A++;return M}syncFilterState(V,T){var P=this;return(0,r.Z)(function*(){var D=V.config.singleVisual;if(P.canSyncVisual(D)&&D.syncGroup){var w=P.getOtherSectionsInSyncGroup(D);if(!_.isEmpty(w)){var M=yield P.conceptualSchemaProxy.get(P.dataSources.get()),A=P.explorationStateManager.captureFilterState(D);T=T&&D.syncGroup.filterChanges;var R=P.visualPlugin.capabilities(D.visualType),B={clearUnmatchedData:!1,suppressActiveSection:!0,suppressDisplay:!0,targetVisualNames:[]},N=c(R.objects),W=N&&(0,l.NA)(A.objects.merge,N,null),F=[];for(var U of w)for(var O of((0,a.Dl)(U.section),U.visualContainers)){var x=T&&P.syncFilters(O,V.filters),I=A;if(W){var L=(0,l.NA)(O.config.singleVisual.objects,N,null),K=P.replaceSemanticFilterField(V.config.singleVisual.query,W,O.config.singleVisual.query,L,M,D.visualType);if(W&&!K){x&&P.visualAuthoringOperations.notifyVisualContainers([O]);continue}K!==W&&((I=(0,i.Ay)(I,P.visualPlugin,P.featureSwitchService)).cachedFilterDisplayItems=void 0,I.filterExpressionMetadata=void 0,(0,l.sO)(I.objects.merge,N,null,K))}B.targetVisualNames.push(O.name),F.push({visual:O,state:I,impacted:x})}_.isEmpty(F)||P.explorationStateManager.applyFilterState(F,M)}}})()}syncVisualFiltersState(V,T=!0){t.f.assertValue(V,"syncVisualFilterState - sourceVisual should be defined"),t.f.assertValue(V.config,"syncVisualFilterState - sourceVisual config should be defined");var P=V.config.singleVisual,D=[];if(this.canSyncVisual(P)&&P.syncGroup.filterChanges){var w=this.getOtherSectionsInSyncGroup(P);for(var M of w)if(!_.isEmpty(M.visualContainers))for(var A of M.visualContainers)this.syncFilters(A,V.filters)&&D.push(A);T&&this.visualAuthoringOperations.notifyVisualContainers(D)}}syncFilters(V,T){var P=_.isEmpty(T);if(V.config.singleVisual.syncGroup.filterChanges){if(P&&!_.isEmpty(V.filters))return V.filters=[],!0;if(!P){var D=this.explorationSerializer.deserializeFilterCollection(this.explorationSerializer.serializeFilterCollection(T),[],!0);return V.filters=D,!0}}return!1}getVisualsAffectByFieldChanges(V){var T=V.config.singleVisual;return this.canSyncVisual(T)&&T.syncGroup.fieldChanges?_.filter(this.getOtherVisualsInSyncGroup(T),P=>P.config.singleVisual.syncGroup.fieldChanges):[]}canSyncVisual(V){if(!V.syncGroup)return!1;var T=this.visualPlugin.capabilities(V.visualType),P=T&&T.supportsSynchronizingFilterState;return t.f.assert(()=>P,"Visual has a sync group, but does not support syncing"),P}getOtherVisualsInSyncGroup(V){return this.getVisualsInSectionsSyncGroup(this.getOtherSectionsInSyncGroup(V))}getVisualsInSectionsSyncGroup(V){var T=[];for(var P of V)T.push(...P.visualContainers||[]);return T}getOtherSectionsInSyncGroup(V){if(!V.syncGroup)return[];if(!V.syncGroup.groupName)return t.f.assertFail("expected non-empty group name"),[];var T=this.explorationNavigation.getCurrentExploration(),P=[];for(var D of T.sections){var w=_.filter(D.visualContainers,M=>{var A=M.config.singleVisual;return A!==V&&A.syncGroup&&A.syncGroup.groupName===V.syncGroup.groupName&&A.visualType===V.visualType});_.isEmpty(w)||P.push({section:D,visualContainers:w})}return P}getVisualSyncField(V){var T=V.query.defn.select();return t.f.assertValue(T,"fields can't be null"),0===T.length?(t.f.assertFail("Expected sync group visual to have at least one field"),null):T[0].expr}replaceSemanticFilterField(V,T,P,D,w,M){if(!T)return T;var A=V.defn.select(),R=P.defn.select();if((M===o.D.advancedSlicerVisual||M===o.D.listSlicer)&&(A=A.filter(x=>V.getRoleNameForExpr(x.expr)===v.CT.value),R=R.filter(x=>P.getRoleNameForExpr(x.expr)===v.CT.value)),A.length===R.length){if(A.length>1)return _.differenceWith(A,R,(x,I)=>(0,d.fS)(x.expr,I.expr)).length?void 0:T;if(1!==A.length)return void t.f.assertFail("Expected single select in source and target queries");if((0,d.fS)(A[0].expr,R[0].expr))return T;var N=u.extract(T);if(!N)return void t.f.assertFail("could not extract a single field from the source filter expression");if(!D){var W=T.conditions();if(1!==W.length)return void t.f.assertFail("expected single condition");var F=R[0].expr.getKeyColumns(w);if(1!==F.length)return void t.f.assertFail("can only sync slicers on single-key columns when syncing across different fields");var U=f.replaceCondition(W[0],N,F[0]);return C.fromSQExpr(U)}var O=u.extract(D);return O?f.replace(T,N,O):void t.f.assertFail("expected incoming and target fields for SemanticFilter rewrite")}}}class u extends S{constructor(){super()}static extract(V){var T=new u;return V.rewrite(T),T.foundSingleField&&T.fieldExpr}visitHierarchyLevel(V){return this.setFieldExpr(V),V}visitColumnRef(V){return this.setFieldExpr(V),V}setFieldExpr(V){if(!this.fieldExpr)return this.fieldExpr=V,void(this.foundSingleField=!0);(0,d.fS)(this.fieldExpr,V)||(this.foundSingleField=!1,t.f.assertFail("found multiple fields in SemanticFilter"))}}class f extends s.b{constructor(V,T){super(),this.before=V,this.after=T}static replace(V,T,P){if((0,d.fS)(T,P))return V;var D=new f(T,P);return V.rewrite(D)}static replaceCondition(V,T,P){if((0,d.fS)(T,P))return V;var D=new f(T,P);return V.accept(D)}visitColumnRef(V){if((0,d.fS)(V,this.before))return this.after}}return{create:function(b,V,T,P,D,w,M,A,R){return new E(b,V,T,P,D,w,M,A,R)}}}},241842:function(ve,j,e){e.d(j,{$8Z:function(){return Ia},$9b:function(){return Mr},$FE:function(){return V},$Zr:function(){return it},$sH:function(){return S},$xe:function(){return Xt},A2J:function(){return de},AS5:function(){return Aa},Aog:function(){return je},BFY:function(){return i},BKg:function(){return li},CDV:function(){return me},CxD:function(){return m},Dbt:function(){return Vt},EOb:function(){return ii},ERp:function(){return d},EuU:function(){return Xa},FQA:function(){return Nt},F_y:function(){return _e},GDm:function(){return $a},GZF:function(){return y},Gk2:function(){return Dt},Gyw:function(){return l},H95:function(){return Wr},HKA:function(){return v},Hbu:function(){return Or},HgC:function(){return Q},Hn8:function(){return Er},Htt:function(){return br},Hvk:function(){return Ur},IVU:function(){return a},Im5:function(){return le},J1M:function(){return c},JBw:function(){return Ga},JH8:function(){return mr},Jab:function(){return Za},K2L:function(){return oi},KC9:function(){return te},LH:function(){return h},LMe:function(){return Ir},LPp:function(){return Ut},Lfd:function(){return Ht},Ly$:function(){return Se},LyQ:function(){return Ha},MMo:function(){return Wt},Mjo:function(){return kt},Nsy:function(){return ir},Og1:function(){return B},OvK:function(){return za},Piu:function(){return he},Pro:function(){return va},Q5S:function(){return w},QBi:function(){return be},Qkf:function(){return la},RU3:function(){return ye},RfG:function(){return qa},RyJ:function(){return n},SuX:function(){return Hr},T7R:function(){return wr},Tei:function(){return Ra},UBP:function(){return t},V1H:function(){return Qe},V3X:function(){return bt},WZm:function(){return wt},X7L:function(){return J},X9Z:function(){return oe},XON:function(){return hr},XfB:function(){return rr},YBT:function(){return Fe},Zkb:function(){return C},_rP:function(){return lt},a6h:function(){return X},amt:function(){return aa},b3D:function(){return Ka},bCE:function(){return fa},d19:function(){return Rr},eSS:function(){return nt},eru:function(){return Lr},f5P:function(){return Tr},fbs:function(){return or},fg8:function(){return Ue},gEB:function(){return Le},gOc:function(){return W},hbA:function(){return ya},heC:function(){return P},iZX:function(){return qe},ig4:function(){return ht},j5C:function(){return Ee},jOG:function(){return Ve},jkG:function(){return Fa},jvW:function(){return Tt},knl:function(){return St},l$8:function(){return A},l6X:function(){return E},lJ4:function(){return Ke},l_t:function(){return zt},lm7:function(){return Qa},lri:function(){return pa},mC$:function(){return x},m_M:function(){return At},my7:function(){return L},o3C:function(){return ri},q1S:function(){return fe},rJV:function(){return kr},spf:function(){return ft},uEy:function(){return U},u_F:function(){return Ze},vAw:function(){return g},vLR:function(){return G},wOR:function(){return s},zae:function(){return It},zb_:function(){return z},zu$:function(){return we}});var r=e(641409),i=function(cr){return cr.Dashboard="Dashboard",cr.Report="Report",cr}({}),a=function(cr){return cr.Entity="Entity",cr.ColumnRef="ColumnRef",cr.MeasureRef="MeasureRef",cr.Aggregation="Aggregation",cr.PropertyVariationSource="PropertyVariationSource",cr.Hierarchy="Hierarchy",cr.HierarchyLevel="HierarchyLevel",cr.FieldParameter="FieldParameter",cr.Other="Other",cr.Sparkline="Sparkline",cr.VisualCalculation="VisualCalculation",cr}({}),t=function(cr){return cr.Clear="Clear",cr.Delete="Delete",cr.Lock="Lock",cr.Rename="Rename",cr.Visibility="Visibility",cr}({}),l=function(cr){return cr.Visual="Visual",cr.Section="Section",cr.Exploration="Exploration",cr}({}),g=function(cr){return cr.Categorical="Categorical",cr.Range="Range",cr.Advanced="Advanced",cr.Passthrough="Passthrough",cr.Visual="Visual",cr.TopN="TopN",cr.Include="Include",cr.Exclude="Exclude",cr.RelativeDate="RelativeDate",cr.VisualTopN="VisualTopN",cr}({}),n=function(cr){return cr.CheckboxTickedInFieldList="CheckboxTickedInFieldList",cr.DraggedToVisual="DraggedToVisual",cr.DraggedToFieldWell="DraggedToFieldWell",cr.VisualCalculationMode="VisualCalculationMode",cr}({}),s=function(cr){return cr.View="View",cr.Edit="Edit",cr}({}),d=function(cr){return cr.Ascending="Ascending",cr.Descending="Descending",cr.Custom="Custom",cr}({}),v=function(cr){return cr.ContextMenu="ContextMenu",cr.ModeOn="ModeOn",cr.TooltipActions="TooltipActions",cr}({}),m=function(cr){return cr.Add="Add",cr.Delete="Delete",cr}({}),c=function(cr){return cr.FileMenu="FileMenu",cr.Button="Button",cr.Keyboard="Keyboard",cr.DialogPrompt="DialogPrompt",cr.WorkspaceUpgradedSave="WorkspaceUpgradedSave",cr}({}),C=function(cr){return cr.Task="Task",cr.Visualization="Visualization",cr.Outspace="Outspace",cr.Bookmarks="Bookmarks",cr.SyncGroups="SyncGroups",cr.CanvasItems="CanvasItems",cr.Customize="Customize",cr}({}),y=function(cr){return cr.Get="Get",cr.Add="Add",cr.Remove="Remove",cr}({}),S=function(cr){return cr.Get="Get",cr.Unpin="Unpin",cr.Restore="Restore",cr.RestoreAll="RestoreAll",cr.RemoveFavoritePublicCustomVisual="RemoveFavoritePublicCustomVisual",cr.AddFavoritePublicCustomVisual="AddFavoritePublicCustomVisual",cr}({}),h=function(cr){return cr.ContextMenu="ContextMenu",cr.VisualHeader="VisualHeader",cr}({}),E=function(cr){return cr.Switcher="Switcher",cr.Ribbon="Ribbon",cr.WebBar="WebBar",cr}({}),u="PBI.EX.NewExploration",b=(r.cx[u]=(0,r.b1)(u),"PBI.EX.RefreshReport"),V=r.cx[b]=(0,r.b1)(b),T="PBI.EX.SaveExploration",P=r.cx[T]=(0,r.b1)(T),D="PBI.EX.InteractionVisualConversion",w=r.cx[D]=(0,r.b1)(D),M="PBI.EX.InteractionExpand",A=r.cx[M]=(0,r.b1)(M,{logExpAssignment:!0}),R="PBI.EX.InteractionDrill",B=r.cx[R]=(0,r.b1)(R,{logExpAssignment:!0}),N="PBI.EX.DrillToDetails",W=r.cx[N]=(0,r.b1)(N,{logExpAssignment:!0}),F="PBI.EX.AddFilter",U=r.cx[F]=(0,r.b1)(F),O="PBI.EX.ClearFilter",x=r.cx[O]=(0,r.b1)(O,{logExpAssignment:!0}),I="PBI.EX.RemoveFilter",L=r.cx[I]=(0,r.b1)(I),K="PBI.EX.HideFilter",z=r.cx[K]=(0,r.b1)(K),H="PBI.EX.LockFilter",J=r.cx[H]=(0,r.b1)(H),k="PBI.EX.TogglePaneExpanded",G=r.cx[k]=(0,r.b1)(k),q="PBI.EX.ToggleFilterCardExpanded",Q=r.cx[q]=(0,r.b1)(q),Z="PBI.EX.ToggleFilterCardSort",X=r.cx[Z]=(0,r.b1)(Z),re="PBI.EX.FilterPaneAdvancedFilterApplied",te=r.cx[re]=(0,r.b1)(re),se="PBI.EX.FilterPaneTopNFilterApplied",Ve=r.cx[se]=(0,r.b1)(se),ke="PBI.EX.FilterPaneRelativeDateFilterApplied",Ue=r.cx[ke]=(0,r.b1)(ke),ot="PBI.EX.FilterPaneRelativeTimeFilterApplied",ft=r.cx[ot]=(0,r.b1)(ot),Ct="PBI.EX.FilterPaneBasicFilterChanged",Ke=r.cx[Ct]=(0,r.b1)(Ct,{logExpAssignment:!0}),Ae="PBI.EX.FilterPaneFilterDefaultRestored",we=r.cx[Ae]=(0,r.b1)(Ae),Ne="PBI.EX.FilterPaneFilterCleared",Se=r.cx[Ne]=(0,r.b1)(Ne,{logExpAssignment:!0}),Ie="PBI.EX.FilterPaneFilterDeleted",me=r.cx[Ie]=(0,r.b1)(Ie),Oe="PBI.EX.FilterPaneInteraction",Ee=r.cx[Oe]=(0,r.b1)(Oe,{logExpAssignment:!0}),xe="PBI.EX.ImprovedFilterExperience.ToggleOutspacePaneExpansion",ye=r.cx[xe]=(0,r.b1)(xe,{logExpAssignment:!0}),Je="PBI.EX.ImprovedFilterExperience.ToggleOutspacePaneVisibility",he=r.cx[Je]=(0,r.b1)(Je),Ce="PBI.EX.ImprovedFilterExperience.ShowRestatement",je=r.cx[Ce]=(0,r.b1)(Ce,{logExpAssignment:!0}),pe="PBI.EX.LoadFilterError",Qe=r.cx[pe]=(0,r.b1)(pe),ut="PBI.EX.CreateVisual",lt=r.cx[ut]=(0,r.b1)(ut,{logExpAssignment:!0}),Et="PBI.EX.AddField",bt=r.cx[Et]=(0,r.b1)(Et),Ot="PBI.EX.ResolveParameters",Dt=r.cx[Ot]=(0,r.b1)(Ot,{logRatio:.001}),ne="PBI.EX.SwitchQueryParameter",Fe=r.cx[ne]=(0,r.b1)(ne),$e="PBI.EX.ChangeQuickCalc",qe=r.cx[$e]=(0,r.b1)($e),dt="PBI.EX.SetConditionalFormatting",ce=(r.cx[dt]=(0,r.b1)(dt),"PBI.EX.SetDataBars"),be=r.cx[ce]=(0,r.b1)(ce),ae="PBI.EX.ExplorationRefresh",de=r.cx[ae]=(0,r.b1)(ae),ee="PBI.EX.SnapshotEmbedCreate",We=(r.cx[ee]=(0,r.b1)(ee),"PBI.EX.PublicEmbedCreate"),it=r.cx[We]=(0,r.b1)(We),yt="PBI.EX.SnapshotEmbedDelete",mt=(r.cx[yt]=(0,r.b1)(yt),"PBI.EX.SnapshotEmbedUpdate"),Y=(r.cx[mt]=(0,r.b1)(mt),"PBI.EX.ImportCustomViz"),fe=r.cx[Y]=(0,r.b1)(Y),Be="PBI.EX.CdnVisualOverride",Ze=r.cx[Be]=(0,r.b1)(Be),ct="PBI.EX.DeleteCustomViz",St=r.cx[ct]=(0,r.b1)(ct),Rt="PBI.EX.EnableCustomViz",kt=r.cx[Rt]=(0,r.b1)(Rt),Gt="PBI.EX.VisualRelationshipOverride",Ht=r.cx[Gt]=(0,r.b1)(Gt),tr="PBI.EX.CodePaneUserRunScript",He=(r.cx[tr]=(0,r.b1)(tr),"PBI.EX.CodePaneUserEditScriptWithExternalIDE"),Bt=(r.cx[He]=(0,r.b1)(He),"PBI.EX.CodePaneUserOpenOptionsDialog"),st=(r.cx[Bt]=(0,r.b1)(Bt),"PBI.EX.CodePaneLaunchExternalIDEFailed"),Qt=(r.cx[st]=(0,r.b1)(st),"PBI.EX.CodePaneLaunchExternalIDESucceeded"),lr=(r.cx[Qt]=(0,r.b1)(Qt),"PBI.EX.CodePaneShowWarning"),_r=(r.cx[lr]=(0,r.b1)(lr),"PBI.EX.ExportVisualData"),Mr=r.cx[_r]=(0,r.b1)(_r,{logExpAssignment:!0}),Vr="PBI.EX.LoadReportWithScriptVis",Lr=r.cx[Vr]=(0,r.b1)(Vr),Fr="PBI.ExploreHost.ChangeReportPage",Ur=r.cx[Fr]=(0,r.b1)(Fr),Br="PBI.EX.RemoveMobileCanvasVisuals",wr=r.cx[Br]=(0,r.b1)(Br),Gr="PBI.EX.AddMobileCanvasVisual",mr=r.cx[Gr]=(0,r.b1)(Gr),jr="PBI.EX.ChangeMobileVisualPosition",Rr=r.cx[jr]=(0,r.b1)(jr),ea="PBI.EX.LoadReportContainer",Hr=r.cx[ea]=(0,r.b1)(ea),qr="PBI.EX.LoadReportContainerDatasetMissing",kr=r.cx[qr]=(0,r.b1)(qr),Qr="PBI.EX.InitExploration",Ir=r.cx[Qr]=(0,r.b1)(Qr),Jr="PBI.EX.LoadExplorationVisuals",hr=r.cx[Jr]=(0,r.b1)(Jr,{defaultTimeoutSec:60,logExpAssignment:!0}),zr="PBI.EX.VisualContainerChanged",Or=r.cx[zr]=(0,r.b1)(zr,{logRatio:0}),Xr="PBI.EX.RenderExplorationVisual",It=r.cx[Xr]=(0,r.b1)(Xr,{logRatio:.01}),Pt="PBI.EX.FetchExploration",Tt=r.cx[Pt]=(0,r.b1)(Pt),tt="PBI.EX.ChangeCanvasLayout",_e=r.cx[tt]=(0,r.b1)(tt),Ge="PBI.EX.Clustering.AddClustering",at=(r.cx[Ge]=(0,r.b1)(Ge),"PBI.EX.Clustering.EditClustering"),ue=(r.cx[at]=(0,r.b1)(at),"PBI.EX.QuickMeasures.OpenDialog"),pt=(r.cx[ue]=(0,r.b1)(ue),"PBI.EX.QuickMeasures.DialogResult"),Jt=(r.cx[pt]=(0,r.b1)(pt),"PBI.EX.QuickMeasures.OnMeasureChange"),sr=(r.cx[Jt]=(0,r.b1)(Jt),"PBI.EX.Drillthrough.GotoTarget"),Xt=r.cx[sr]=(0,r.b1)(sr,{logExpAssignment:!0}),Sr="PBI.EX.Drillthrough.FilterUpdate",Le=r.cx[Sr]=(0,r.b1)(Sr),Ye="PBI.EX.RefreshHostData",ht=r.cx[Ye]=(0,r.b1)(Ye),gt="PBI.EX.BookmarkAdd",Vt=r.cx[gt]=(0,r.b1)(gt),xt="PBI.EX.BookmarkUpdate",At=r.cx[xt]=(0,r.b1)(xt),jt="PBI.EX.BookmarkDelete",Nt=r.cx[jt]=(0,r.b1)(jt),Yt="PBI.EX.BookmarkPlay",rr=r.cx[Yt]=(0,r.b1)(Yt),dr="PBI.EX.BookmarkApply",Ut=r.cx[dr]=(0,r.b1)(dr),Te="PBI.EX.Bookmark.IsPersistentStateCheck",nt=r.cx[Te]=(0,r.b1)(Te),_t="PBI.EX.Bookmark.LoadError",wt=r.cx[_t]=(0,r.b1)(_t),Ft="PBI.EX.CopyPasteSyncGroup",zt=r.cx[Ft]=(0,r.b1)(Ft),er="PBI.EX.CustomDateTableValidationResult",or=r.cx[er]=(0,r.b1)(er),ur="PBI.EX.UpdateActiveSection",Er=r.cx[ur]=(0,r.b1)(ur,{defaultTimeoutSec:10}),Cr="PBI.EX.VisualContainerApplyUpdate",br=r.cx[Cr]=(0,r.b1)(Cr,{logRatio:0}),Dr="PBI.EX.VisualDataChanged",Wr=r.cx[Dr]=(0,r.b1)(Dr,{logRatio:0}),Pr="PBI.EX.ApplySlicer",Tr=r.cx[Pr]=(0,r.b1)(Pr,{logExpAssignment:!0}),Kr="PBI.EX.ApplyAllClicked",aa=r.cx[Kr]=(0,r.b1)(Kr),sa="PBI.EX.SelectDataPoint",la=r.cx[sa]=(0,r.b1)(sa,{logExpAssignment:!0}),ua="PBI.EX.RefreshSingleVisual",va=r.cx[ua]=(0,r.b1)(ua),ga="PBI.EX.PerformanceAnalyzerRefreshReport",oe=r.cx[ga]=(0,r.b1)(ga),De="PBI.EX.PerformanceAnalyzerExportLogs",le=r.cx[De]=(0,r.b1)(De),vt="PBI.EX.PerformanceAnalyzerCopyQueries",Wt=r.cx[vt]=(0,r.b1)(vt),Zt="PBI.EX.PerformanceAnalyzerRunDaxyQuery",ir=r.cx[Zt]=(0,r.b1)(Zt),ca="PBI.EX.PerformanceAnalyzerStopRecording",fa=r.cx[ca]=(0,r.b1)(ca),wa="PBI.EX.ThemeDialogClosed",ka=(r.cx[wa]=(0,r.b1)(wa),"PBI.Settings.FavoriteResourcePackages"),za=r.cx[ka]=(0,r.b1)(ka),xa="PBI.Settings.VisualPane",Ra=r.cx[xa]=(0,r.b1)(xa),Da="PBI.Settings.OutOfBoxVisuals",Ka=r.cx[Da]=(0,r.b1)(Da),Oa="PBI.EX.DrillthroughButtonClicked",Ga=r.cx[Oa]=(0,r.b1)(Oa),Ca="PBI.EX.SmallMultiplesFirstField",Ha=r.cx[Ca]=(0,r.b1)(Ca),Ea="PBI.EX.AnalyticsLoadSchemaError",Qa=r.cx[Ea]=(0,r.b1)(Ea),Ba="PBI.EX.ExecuteActionCommands",Xa=r.cx[Ba]=(0,r.b1)(Ba),Pa="PBI.EX.UndefinedTooltipStyleInActionBar",$a=r.cx[Pa]=(0,r.b1)(Pa),La="PBI.EX.ActionBarShown",Aa=r.cx[La]=(0,r.b1)(La),Ja="PBI.EX.ScanModeKeyPressed",oi=r.cx[Ja]=(0,r.b1)(Ja),da="PBI.EX.GetInsightsMenuCommand",Za=r.cx[da]=(0,r.b1)(da),Ar="PBI.Sparklines.Delete",li=r.cx[Ar]=(0,r.b1)(Ar),Ya="PBI.CopyVisualImage.EntryPoint",ya=r.cx[Ya]=(0,r.b1)(Ya),Na="PBI.EX.FontsReadyVisualUpdateTriggered",Fa=r.cx[Na]=(0,r.b1)(Na,{logRatio:.01}),_a="PBI.Reflex.OpenTriggerActionFromVisual",qa=r.cx[_a]=(0,r.b1)(_a),ei="PBI.Reflex.ReflexOpenConfigPaneFromVisualToolbar",Ia=r.cx[ei]=(0,r.b1)(ei),ti="PBI.Reflex.ReflexOpenConfigPaneFromVisualContext",pa=r.cx[ti]=(0,r.b1)(ti),Ua="PBI.Reflex.ReflexOpenConfigPaneFromVisualFollow",ri=r.cx[Ua]=(0,r.b1)(Ua),ai="PBI.EX.ScreenShotExportDiscrepancy",ii=r.cx[ai]=(0,r.b1)(ai)},981371:function(ve,j,e){e.d(j,{s:function(){return f}});var r=e(620155),i=e(638198),a=e(652398),t=e(76395),l=e(324569),g=e(793652),n=e(274493),p=e(688467),s=e(876713),d=e(405604),o=e(759167),v=e(650543),m=e(84838),c=e(630881),C=e(562832),y=e(719242),S=e(97964),h=e(524584),E=e(60978),u=e(426313),f=(()=>{class b{static setScrollWidth(T){this.scrollWidth=T}static fitToWidth(T,P,D,w,M,A=!1,R){null!=T.canvasOptions.overrideSectionAlignment&&(R=T.canvasOptions.overrideSectionAlignment);var B=P.get(0).getBoundingClientRect(),W=this.findParentElement(P,this.ExploreCanvasSelector).get(0).getBoundingClientRect(),F=P.find(".displayAreaViewport").get(0).getBoundingClientRect();if(B.width>F.width){var U=B.width-F.width;null!=this.scrollWidth&&Math.abs(this.scrollWidth-U)>.01&&m.fM.error(`Multiple scroll bar widths detected, ${this.scrollWidth} -> ${U}`),this.scrollWidth=U}var O=M.getConfig(),x=2*t.UL,I=B.width-x,L=B.height-x,K=this.getFitToWidthScaledSize(T,I,w),z=P.find(this.DisplayAreaNameSelector.selector),H=T.viewModel.canvasLayout===i.D.PhonePortrait;K.height<=L&&!H?(T.canvasViewStyle=a.bN.FitToWidthCentered,P.css(o.hK,o.fw).css(o.Rg,o.fw),this.positionElement(z,F,K,R,!0,O.displayOptions.includeMobileBottomPadding)):(K=this.getFitToWidthScaledSize(T,I=B.width-(x=O.displayOptions.scaleBackgroundImageToWidth?t.UL/2+(this.scrollWidth||0):3*t.UL/2+(this.scrollWidth||8)),w,H?t.U+t.KB:0),T.canvasViewStyle=a.bN.FitToWidthOrigin,P.css(o.hK,o.fw).css(o.Rg,o.K),this.clearElementPosition(z));var J=I/T.viewModel.width,G=this.getWallpaperScale(W,T.viewModel.width,T.viewModel.height,T.canvasOptions.scrollbarOffset,r.J.X);if(D.setDisplayAreaScaleFactor(J),D.setWallpaperScaleFactor(G),this.updateCanvasSize(T,K.width,K.height),z.attr("class",this.DisplayAreaNameSelector.class+" "+this.convertDisplayOptionToStyle(T)),this.setElementSize(z,K),!A&&!O.displayOptions.preserveScrollPositionOnResize){var q=!1,Q=T.fitToWidthScrollPosition;if(Q){var Z=T.viewModel&&T.viewModel.contract;Z&&Z.name===Q.sectionName&&Z.size&&Z.size.width===Q.sectionSize.width&&Z.size.height===Q.sectionSize.height&&(q=!0,P[0].scrollTo({top:Q.relativeScroll*J,left:0,behavior:"instant"})),q||(T.fitToWidthScrollPosition=void 0)}q||P[0].scrollTo({top:0,left:0,behavior:"instant"})}}static getWallpaperScale(T,P,D,w,M,A,R){if(M===r.J.X)return(T.width-w)/P;var N=D;return A&&R&&(N=A.getConfig().displayOptions.hideTileMenu?T.height:T.height-R),N/D}static getFitToWidthScaledSize(T,P,D,w=0){var M=P/T.viewModel.width,A=P,R=T.viewModel.height*M+D;if(T.adjustScaleForLayout){var B=T.adjustScaleForLayout({x:M,y:M});if(B.x!==M||B.y!==M){var N=Math.min(B.x,B.y),W=N/M;A*=W,R=(R-D)*W+D,M=N}}return w>0&&(R+=w),{width:A,height:R}}static fitToPage(T,P,D,w,M,A){var R=w.getConfig();null!=T.canvasOptions.overrideSectionAlignment&&(A=T.canvasOptions.overrideSectionAlignment);var N=this.findParentElement(P,this.ExploreCanvasSelector).get(0).getBoundingClientRect(),W=T.outerViewport.width/T.viewModel.width,F=this.getFitToPageScaleY(T,w,M),U=Math.min(W,F),x=this.getWallpaperScale(N,T.viewModel.width,T.viewModel.height,T.canvasOptions.scrollbarOffset,U===W?r.J.X:r.J.Y,w,M);if(T.adjustScaleForLayout){var I=T.adjustScaleForLayout({x:U,y:U});(I.x!==U||I.y!==U)&&(U=Math.min(I.x,I.y))}D.setDisplayAreaScaleFactor(U),D.setWallpaperScaleFactor(x),R.displayOptions.preserveScrollPositionOnResize||P.scrollTop(0).scrollLeft(0);var L=T.viewModel.width*U,K=T.viewModel.height*U+M;T.canvasViewStyle=a.bN.AbsoluteCenter,T.canvasViewStyle|=a.bN.FitToPage,P.css(o.hK,o.fw).css(o.Rg,o.fw),this.updateCanvasSize(T,L,K);var z=P.find(this.DisplayAreaNameSelector.selector);z.attr("class",this.DisplayAreaNameSelector.class+" "+this.convertDisplayOptionToStyle(T));var H={width:L,height:K};this.setElementSize(z,H),this.positionElement(z,T.outerViewport,H,A,!1)}static getFitToPageScaleY(T,P,D){var M=P.getConfig().displayOptions.hideTileMenu?T.outerViewport.height:T.outerViewport.height-D;return(M-=this.getCanvasOutlineSize(T,P))/T.viewModel.height}static findParentElement(T,P){if(T)return T.hasClass(P.class)?T:this.findParentElement(T.parent(),P)}static getVerticalAlignmentSetting(T,P,D){var w=T.viewModel&&T.viewModel.contract&&T.viewModel.contract.evaluatedObjects&&T.viewModel.contract.evaluatedObjects.displayArea&&T.viewModel.contract.evaluatedObjects.displayArea.verticalAlignment&&T.viewModel.contract.evaluatedObjects.displayArea.verticalAlignment.toString();if(w)return g.ab[w];var M=D.getCurrentExploration(),A=M&&M.evaluatedObjects&&M.evaluatedObjects.section&&M.evaluatedObjects.section.verticalAlignment&&M.evaluatedObjects.section.verticalAlignment.toString();return A?g.ab[A]:void 0}static positionElement(T,P,D,w,M,A){var B=null!=P.height&&null!=D.height?(P.height-(A?t.U:0)-D.height)/2:void 0,N=null!=P.width&&null!=D.width?(P.width-D.width)/2:void 0,W={position:"absolute",left:null!=N?`${N}px`:""};w===g.ab.Top?_.extend(W,{top:null!=B?`${M?t.UL:0}px`:""}):_.extend(W,{top:null!=B?`${B}px`:""}),T.css(W)}static setElementSize(T,P){T.css({height:`${P.height}px`,width:`${P.width}px`})}static clearElementPosition(T){T.css({position:"",top:"",left:""})}static clearElementSize(T){T.css({height:"",width:""})}static fitToScreen(T,P,D,w){var M=P.find(this.DisplayAreaNameSelector.selector);this.clearElementPosition(M),this.clearElementSize(M),T.canvasViewStyle=a.bN.AbsoluteCenter|a.bN.FitToScreen,D.setDisplayAreaScaleFactor(1),D.setWallpaperScaleFactor(1),this.updateCanvasSize(T,T.outerViewport.width,T.outerViewport.height),P.css(o.hK,o.fw).css(o.Rg,o.fw),M.attr("class",this.DisplayAreaNameSelector.class+" "+this.convertDisplayOptionToStyle(T))}static getCanvasActualSize(T,P,D){var w=b.getAutoLayoutVisualVCHeader(P,D),M=T.size;return{height:M.height+w,width:M.width}}static displayInActualSize(T,P,D,w,M,A,R=1){null!=T.canvasOptions.overrideSectionAlignment&&(A=T.canvasOptions.overrideSectionAlignment);var B=P.find(this.DisplayAreaNameSelector.selector),N=T.isCanvasBackdropVisible();T.canvasViewStyle=a.bN.AbsoluteCenter;var W=T.viewModel.width*R,F=T.viewModel.height*R+M,U={width:N?h.Co:W,height:N?h.jk:F};U.width>T.outerViewport.width?(T.canvasViewStyle|=a.bN.ActualSizeAlignLeft,P.css(o.hK,o.At)):(T.canvasViewStyle|=a.bN.ActualSizeAlignCenter,P.css(o.hK,o.fw)),U.height>T.outerViewport.height?(T.canvasViewStyle|=a.bN.ActualSizeAlignTop,P.css(o.Rg,o.At)):(T.canvasViewStyle|=a.bN.ActualSizeAlignMiddle,P.css(o.Rg,o.fw));var O=T.canvasViewStyle;this.positionElement(B,T.outerViewport,{width:O&a.bN.ActualSizeAlignCenter?U.width:void 0,height:O&a.bN.ActualSizeAlignMiddle?U.height:void 0},A,!0),T.canvasViewStyle|=O&a.bN.ActualSizeAlignCenter&&O&a.bN.ActualSizeAlignMiddle?a.bN.ActualSizeCentered:a.bN.ActualSizeOrigin,this.setElementSize(B,U),w.setDisplayAreaScaleFactor(R),w.setWallpaperScaleFactor(R),this.updateCanvasSize(T,W,F);var I=this.convertDisplayOptionToStyle(T);B.attr("class",this.DisplayAreaNameSelector.class+" "+I),N&&(v.f.assertValue(D,"canvasBackdrop should exist (hasBackdrop() returned true)"),D.attr("class",this.CanvasBackdropSelector.class+" "+I))}static displayInActualSizeTopLeft(T,P,D,w){var M=P.find(this.DisplayAreaNameSelector.selector);T.canvasViewStyle=a.bN.AbsoluteCenter,T.canvasViewStyle|=a.bN.ActualSizeAlignLeft,T.canvasViewStyle|=a.bN.ActualSizeAlignTop,T.canvasViewStyle|=a.bN.ActualSizeOrigin,P.css(o.hK,T.viewModel.width>=T.outerViewport.width?o.At:o.fw),P.css(o.Rg,T.viewModel.height>=T.outerViewport.height?o.At:o.fw),D.setDisplayAreaScaleFactor(1),D.setWallpaperScaleFactor(1);var A=T.viewModel.width,R=T.viewModel.height+w;M.css({width:A+"px",height:R+"px"}),this.updateCanvasSize(T,A,R),M.attr("class",this.DisplayAreaNameSelector.class+" "+this.convertDisplayOptionToStyle(T))}static updateCanvasSize(T,P,D){var w={width:P,height:D};w.width>0&&w.height>0&&(T.size=w)}static updateAndApplyBackground(T,P,D,w,M,A,R,B,N,W,F,U,O){v.f.assertValue(B,"promiseFactory");var z,H,J,k,G,x=W.getConfig(),I=x.displayOptions.hideOutspaceFormatting,L=W.getMode()===c.wO.Edit&&!P.isCanvasBackdropVisible(),K=!!O.get();switch(T){case r.E.OutspaceBackground:J=P.outspace=P.outspace||{},H="outspace",z=P.outspaceBackground,k=(0,t.e3)(),G=N.getCurrentLayoutCapabilities().canShowCanvasOutspace();break;case r.E.CanvasBackground:J=P.background=P.background||{},H="background",z=P.canvasBackground,k=(0,t.tL)(),G=N.getCurrentLayoutCapabilities().canShowCanvasBackground();break;default:v.f.assertNever(T)}if(G){v.f.assertValue(J,"canvasDisplayUtil.updateAndApplyBackground - backgroundContract should exist.");var q=w&&w[H],Q=J.image;K?(J.color=t.tb,J.transparency=0,J.image=null):q?(J.color=(0,C.y)(q,"color",t.tb),J.transparency=(0,C.N)(q,"transparency",t.nW),J.image=q.image):this.setDefaultBackgroundProperties(J,k);var Z=J.image;Z?.name!==Q?.name&&P.backgroundImageChanging?.(T);var re=(0,y.my)(P.viewModel.contract.objects,H,null),te=re&&re.properties.image;te&&(0,E.MI)(te.url)?this.setImageFromPackage(P,z,J,Z,te.url,re,A,R,B,U,L,F,I,T,K):this.setImage(z,J,Z,Z?Z.url:"",K,U,L,F,I,T,P)}else this.setDefaultBackgroundProperties(J,k),this.setImage(z,k,null,"",K,U,L,F,I,T,P);T===r.E.CanvasBackground&&D.css(W&&x.displayOptions.extendBackgroundToWholeCanvas?{"background-color":(0,p.cD)(J.color,(100-J.transparency)/100)}:{"background-color":""})}static setDefaultBackgroundProperties(T,P){T.color=P.color,T.image=P.image,T.transparency=P.transparency}static setImage(T,P,D,w,M,A,R,B,N,W,F){var U=D&&D.scaling,O=M?1:(100-P.transparency)/100,x=D&&w||"";if(x!==(T.imageSource||"")&&(T.imageSource=x,F.backgroundImageChanged?.(W)),T.imageFitClass=U,T.imageStyle=U===d.C.normal?{transform:"scale("+A.getWallpaperScaleFactor()+")"}:{},T.backgroundStyle||(T.backgroundStyle={}),T.backgroundStyle.opacity=O,T.backgroundStyle["background-color"]=N&&W===r.E.OutspaceBackground?"transparent":(0,p.cD)(P.color),W===r.E.CanvasBackground){var L=s.v.getThemeColor(B,"foregroundNeutralSecondary");T.displayAreaStyle||(T.displayAreaStyle={}),T.displayAreaStyle["box-shadow"]=N?"0 0 0":`0 0 10px rgba(200,200,200,${O})`,T.displayAreaStyle.outline=R&&O<=.5?`2px dotted ${L}`:"none",T.imageStyle=U===d.C.normal?{transform:"scale("+A.getDisplayAreaScaleFactor()+")"}:{}}}static setImageFromPackage(T,P,D,w,M,A,R,B,N,W,F,U,O=!1,x,I){v.f.assertValue(N,"promiseFactory");var L=B.getCurrentExploration();if(L){var K=T.viewModel.contract;(0,S.yl)(M,L.resourcePackages,R,N).then(z=>{var H=A.properties.image;K===T.viewModel.contract&&H&&(0,u.fS)(H.url,M)&&this.setImage(P,D,w,z.value||"",I,W,F,U,O,x,T)})}}static setDisplayAreaBackground(T,P,D){if(P&&P.outspace)T.canvasBackground.displayAreaStyle&&delete T.canvasBackground.displayAreaStyle["background-color"];else{T.canvasBackground.displayAreaStyle||(T.canvasBackground.displayAreaStyle={});var M=s.v.getThemeColor(D,"background");T.canvasBackground.displayAreaStyle["background-color"]=M}}static convertDisplayOptionToStyle(T){var P="";return T.useResponsiveLayout&&(P+=" responsive"),T.disableAnimations&&(P+=" disableAnimations"),(T.canvasViewStyle&a.bN.FitToScreen)===a.bN.FitToScreen&&(P+=" fitToScreen"),(T.canvasViewStyle&a.bN.FitToPage)===a.bN.FitToPage&&(P+=" fitToPage"),(T.canvasViewStyle&a.bN.FitToWidthOrigin)===a.bN.FitToWidthOrigin&&(P+=" fitToWidthOrigin"),(T.canvasViewStyle&a.bN.FitToWidthCentered)===a.bN.FitToWidthCentered&&(P+=" fitToWidthCentered"),(T.canvasViewStyle&a.bN.ActualSizeAlignCenter)===a.bN.ActualSizeAlignCenter&&(P+=" actualSizeAlignCenter"),(T.canvasViewStyle&a.bN.ActualSizeAlignLeft)===a.bN.ActualSizeAlignLeft&&(P+=" actualSizeAlignLeft"),(T.canvasViewStyle&a.bN.ActualSizeAlignMiddle)===a.bN.ActualSizeAlignMiddle&&(P+=" actualSizeAlignMiddle"),(T.canvasViewStyle&a.bN.ActualSizeAlignTop)===a.bN.ActualSizeAlignTop&&(P+=" actualSizeAlignTop"),(T.canvasViewStyle&a.bN.ActualSizeCentered)===a.bN.ActualSizeCentered&&(P+=" actualSizeCentered"),(T.canvasViewStyle&a.bN.ActualSizeOrigin)===a.bN.ActualSizeOrigin&&(P+=" actualSizeOrigin"),P.trim()}static getAutoLayoutVisualVCHeader(T,P){return P&&P.getCapabilities().visualContainerOptions.useStylableHeader||T&&T.getCurrentLayoutCapabilities().canShowVisualContainerHeaderInset()?0:h.BB}static getCanvasOutlineSize(T,P){if(P.getMode()===c.wO.Edit){var D=T.background&&T.background.transparency;if(D&&D>=h.$j)return h.qD}return 0}static applyFitOption(T,P,D,w,M,A){if(T.viewModel&&T.viewModel.contract){var R=P.find(this.DisplayAreaContainerNameSelector.selector),B=this.findParentElement(P,this.ExploreCanvasSelector).find(this.CanvasBackdropSelector.selector),N=D.canvasScale.getDisplayOption();N!==l.tr.FitToWidth&&(T.fitToWidthScrollPosition=void 0);var W=T.viewModel.contract.name,F=T.lastApplyFitContext;if(F&&(N!==F.displayOption||W!==F.sectionName)){var U=P.find(T.scrollableDivSelector);U?.[0]?.scrollTo({top:0,left:0,behavior:"instant"})}T.lastApplyFitContext={displayOption:N,sectionName:W};var O=this.getAutoLayoutVisualVCHeader(D.formFactor,D.explorationCapabilities);switch(N){case l.tr.FitToWidth:this.fitToWidth(T,R,D.canvasScale,O,D.viewModeState,A,w);break;case l.tr.FitToPage:this.fitToPage(T,R,D.canvasScale,D.viewModeState,O,w);break;case l.tr.ActualSize:this.displayInActualSize(T,R,B,D.canvasScale,O,w,M);break;case l.tr.ActualSizeTopLeft:this.displayInActualSizeTopLeft(T,R,D.canvasScale,O);break;default:this.fitToScreen(T,R,D.canvasScale,O)}D.eventBridge.publishToChannel(n.ubE)}}static storeOverflowValuesAndChange(T,P){this.currentOverflowXCSSValue=T.css(o.hK),this.currentOverflowYCSSValue=T.css(o.Rg),T.css(o.hK,P),T.css(o.Rg,P)}static restoreOverflowValues(T){T.css(o.hK,this.currentOverflowXCSSValue),T.css(o.Rg,this.currentOverflowYCSSValue)}static visualPositionToRect(T){return{left:T.x,top:T.y,width:T.width,height:T.height}}static rectToVisualPosition(T){return{x:T.left,y:T.top,width:T.width,height:T.height}}static isCortanaPageSize(T){return!1}}return b.DisplayAreaNameSelector=(0,o.CH)("displayArea"),b.DisplayAreaContainerNameSelector=(0,o.CH)("displayAreaContainer"),b.VisualContainerHostSelector=(0,o.CH)("visualContainerHost"),b.OutspaceContainerSelector=(0,o.CH)("outspaceContainer"),b.OutspaceImageSelector=(0,o.CH)("outspaceImage"),b.VisualBackgroundContainerSelector=(0,o.CH)("visualBackgroundContainer"),b.VisualBackgroundImageSelector=(0,o.CH)("visualBackgroundImage"),b.DefaultVisualPosition={x:100,y:100,width:300,height:300},b.CanvasBackdropSelector=(0,o.CH)("canvasBackdrop"),b.ExploreCanvasSelector=(0,o.CH)("exploreCanvas"),b.currentOverflowXCSSValue="",b.currentOverflowYCSSValue="",b})()},156483:function(ve,j,e){e.d(j,{L0:function(){return g},vW:function(){return l},x_:function(){return p},zo:function(){return t},zq:function(){return n}});var r=e(60978),i=e(719242),a=e(911202);function t(s,d,o){var v=o&&o[s],m=a.di;if(v)return v.hasOwnProperty(m)&&!v[m];var c=(0,i.NA)(d,{objectName:s,propertyName:m},null);return void 0!==c&&(0,r.VC)(c)&&!c.value}function l(s,d,o){var v={x:s.x*d.x,y:s.y*d.y,z:s.z,width:s.width*d.x,height:s.height*d.y,angle:s.angle,tabOrder:s.tabOrder};if(!0===o){var m=Math.round(v.x),c=Math.round(v.y),C=Math.round(v.x+v.width),y=Math.round(v.y+v.height);v={x:m,y:c,z:v.z,width:C-m,height:y-c,angle:s.angle,tabOrder:s.tabOrder}}return v}function g(s,d){return{x:s.x/d.x,y:s.y/d.y,z:s.z,width:s.width/d.x,height:s.height/d.y,angle:s.angle,tabOrder:s.tabOrder}}function n(s,d){return{left:s.left*d.x,top:s.top*d.y,width:s.width*d.x,height:s.height*d.y}}function p(s,d){return{left:s.left/d.x,top:s.top/d.y,width:s.width/d.x,height:s.height/d.y}}},417137:function(ve,j,e){e.d(j,{Dg:function(){return Ne},F2:function(){return O},FK:function(){return w},JQ:function(){return Z},Mt:function(){return Q},N$:function(){return B},P:function(){return Ue},SQ:function(){return x},V3:function(){return D},Vg:function(){return I},Xf:function(){return z},Xt:function(){return Ie},bo:function(){return ke},bt:function(){return we},cV:function(){return Se},e2:function(){return W},eR:function(){return M},gO:function(){return U},lJ:function(){return Ae},lN:function(){return re},nG:function(){return R},yz:function(){return A},zT:function(){return k}});var r=e(349672),i=e(638198),a=e(76395),t=e(561415),l=e(324569),g=e(104816),n=e(475507),p=e(106421),s=e(555254),d=e(109673),o=e(883984),v=e(661214),m=e(461251),c=e(516655),C=e(990297),y=e(650543),S=e(896286),h=e(149222),E=e(719242),u=e(461361),f=e(241842),b=e(300177),V=e(873248),T=e(999544),P="root";function D(me,Oe){var Ee=s.UP.getSelectedCanvasItems(Oe);return M(me.visualContainerGroups,Ee)}function w(me,Oe){for(var Ee of me)if(Ee.contract===Oe)return Ee}function M(me,Oe){var Ee={};for(var xe of Oe)Ee[xe.name]=!0;var ye=[];(0,V.Iw)(me,he=>{Ee[he.name]&&ye.push(he)});var Je=he=>_.findIndex(Oe,Ce=>Ce.name===he.name);return ye.sort((he,Ce)=>Je(he)-Je(Ce)),ye}function A(me,Oe){y.f.assert(()=>me.length===Oe.length,"lists of viewModels and contracts should be the same length");var Ee=function(ye){var Je=(0,c.sE)(ye.name,Oe);if(!Je)return y.f.assertValue(Je,"contract with the same name should exist"),1;(0,V.q4)(ye)&&(0,n.q4)(Je)&&(ye.contract!==Je&&(y.f.assert(()=>ye.contract.name===Je.name,"should be the same contract with same name"),ye.contract=Je),A(ye.children,Je.children))};for(var xe of me)Ee(xe)}function R(me,Oe){if(Oe.parentGroup)for(var Ee=Oe.parentGroup;Ee;){var xe=Ee.position;me.left+=xe.x,me.top+=xe.y,Ee=Ee.parentGroup}return me}function B(me){var Oe=0;if(_.isEmpty(me))return Oe;if(me[0].parentGroup)for(var Ee=me[0].parentGroup;Ee;)Oe++,Ee=Ee.parentGroup;return N(me,Oe)}function N(me,Oe){var Ee=++Oe;for(var xe of me)(0,n.q4)(xe)&&(Ee=Math.max(N(xe.children,Oe),Ee));return Ee}function W(me,Oe,Ee,xe,ye){xe.hideAllDropdowns(),(0,T.n)(me);var Je=h.M.isCtrlOrMeta(me),he=s.UP.isCanvasItemSelected(Oe.contract,Ee);if(Je&&he&&s.UP.getSelectedCanvasItems(Ee).length>1)s.UP.unselectCanvasItem(Oe.contract,Ee);else{if(!ye){var Ce=O(Oe);return Ce.parentGroup&&Ce.parentGroup.isSelected&&s.UP.unselectCanvasItem(Ce.parentGroup.contract,Ee),s.UP.selectCanvasItem(Ce.contract,Ee,(0,h.D)(me)),void function(me,Oe){return $(me).parents(`[name="${Oe}"]:first`)[0]}(me.currentTarget,Ce.contract.name)?.focus()}s.UP.selectCanvasItem(Oe.contract,Ee,(0,h.D)(me))}}function U(me,Oe,Ee){if(me.parentGroup)if(Oe){var ye=O(me);ye!==me&&(0,v.vz)(Oe,ye.name,Ee)}else for(var xe=me.parentGroup;xe;)(0,v.vz)(Oe,xe.name,Ee),xe=xe.parentGroup}function O(me,Oe=!1){for(var Ee=me.parentGroup,xe=me;Ee;){if(Ee.isSelected||Ee.isChildSelected){Oe&&Ee.isSelected&&(xe=Ee);break}xe=Ee,Ee=Ee.parentGroup}return xe}function x(me,Oe){s.UP.isCanvasItemSelected(me,Oe)||s.UP.selectCanvasItem(me,Oe)}function I(me,Oe,Ee,xe=!0){var ye=[];return G(Oe.getSelectedElements(),xe,he=>{if((0,n.q4)(he))ye.push(me.serializeVisualContainerGroup(he));else{var Ce=function(me,Oe){return me.filters?function(me,Oe){var Ee=(0,C.UU)(me.filters,xe=>function(me,Oe){var Ee=me.filter;if((me.type===t.vA.Include||me.type===t.vA.Exclude)&&Ee){var xe=Ee.rewrite(Oe);if(xe!==Ee)return(0,S.ED)(me,ye=>ye.filter=xe)}return me}(xe,Oe));return Ee!==me.filters?(0,S.ED)(me,xe=>xe.filters=Ee):me}(me,new o.L(Oe)):me}(he,Ee);ye.push(me.serializeVisualContainer(Ce))}}),ye}function z(me,Oe,Ee,xe,ye,Je){var he=me.objects,Ce=ye.getVisualObjects(xe,Ee,void 0,Oe);Ce&&(he=(0,E.d9)(he||{}),(0,E.l7)(he,Ce));var je=ye.getVisualStyle(xe),pe=(0,u.G3)(he,Oe,je,Je.featureSwitches);me.evaluatedObjects=pe.dataViewObjects}function k(me,Oe,Ee=!0){var xe={};return G(me.getSelectedElements(),Ee,he=>(he=>{(0,n.Vz)(he)&&(0,d.WP)(he.config.singleVisual.objects,void 0,Oe,xe)})(he)),xe}function G(me,Oe,Ee){if(!_.isEmpty(me)){var xe=Oe&&[];for(var ye of me){var Je=ye.canvasItem;Je&&(Oe&&(0,n.q4)(Je)?xe.push(Je):Ee(Je))}Oe&&!_.isEmpty(xe)&&(0,n.Iw)(xe,he=>Ee(he))}}function Q(me,Oe,Ee,xe,ye,Je,he,Ce,je,pe){return _.first(Z([me],Oe,Ee,xe,ye,Je,he,Ce,je,pe))}function Z(me,Oe,Ee,xe,ye,Je,he,Ce,je,pe){if(me){var Qe={},ut=!!he,lt=Ee.size,Et=pe?Ee.visualContainerGroups:Ee.visualContainers,bt=_.flatMap(Oe.sections,Pe=>pe?Pe.visualContainerGroups:Pe.visualContainers),Ot=[],Dt=ye.getCurrentLayout();(0,n.Iw)(Et,Pe=>{if(null==Pe.parentGroup){var We=Pe.layouts.withId(Dt);Ot.push(We.position)}}),(0,n.Iw)(bt,Pe=>{Qe[Pe.name]=!0});var ne=xe.deserializeCanvasItems(me,!0,pe,()=>{var Pe=(0,v.vr)(Qe);return y.f.assert(()=>!Qe[Pe],"New name already exists"),Qe[Pe]=!0,Pe});if(ne){var{visualContainerGroups:Fe,visualContainers:$e}=ne,qe=function(me,Oe,Ee,xe){var ye=Ue(me,Oe),Je=_.orderBy(Ee,he=>he.config.layouts[Oe].position.z,["asc"]);return Je.reduce((he,Ce)=>{var{name:je,parentGroupName:pe}=Ce.config;return{...he,[je]:pe&&xe?null:ye++}},{})}(Et,Dt,me,pe),dt=function(me,Oe,Ee){var xe=function(me,Oe){var Ee=0,xe=0;if(_.isEmpty(me))return{pos:Ee,neg:xe};for(var ye of me){var Je=ye.layouts.withId(Oe),he=Je&&Je.position,Ce=he&&null!=he.tabOrder?he.tabOrder:void 0;null!=Ce&&(Ee=Math.max(Ee,Ce),xe=Math.min(xe,Ce))}return{pos:Ee+1,neg:xe-1}}(me,Oe),ye=_.orderBy(Ee,Je=>Je.config.layouts[Oe].position.tabOrder,["asc"]);return ye.reduce((Je,he)=>{var{name:Ce,layouts:je}=he.config,Qe=je[Oe].position;return{...Je,[Ce]:null!=Qe.tabOrder?Qe.tabOrder>=0?xe.pos++:xe.neg--:null}},{})}(Ee.visualContainers,Dt,me),rt=(0,C.UR)(),ce=[],be=Pe=>{var{layouts:We,parentGroup:it,prevName:yt}=Pe,et=null!=it,mt=We.withId(Dt),ie=mt.position;if(y.f.assert(()=>pe||(0,n.Vz)(Pe),"Should not be processing groups when grouping is disabled"),(!et||!pe)&&(yt&&!_.isNil(qe[yt])&&(ie.z=qe[yt]),ce.push(Pe)),yt&&!_.isNil(dt[yt])&&null!=ie.tabOrder&&(0,n.Vz)(Pe)&&(ie.tabOrder=dt[yt]),!et){for(;2!==X(ie,lt)&&Ve(ie,Ot);)ie.x+=10,ie.y+=10;Ot.push(ie)}if(Pe.layouts=(0,C.Br)([mt]),ut&&(0,n.Vz)(Pe)){var Y=(0,b.Dz)(Oe,Ee,Pe,Dt);rt.push(Y)}};if(pe)(0,n.Iw)(Fe,Pe=>be(Pe));else for(var ae of $e)be(ae);if(Ee.visualContainers.push(...$e||[]),ut&&he.visualContainers.push(...rt||[]),pe){if(Ee.visualContainerGroups=(0,c.IH)(Ee.visualContainerGroups,...Fe||[]),ut){var de=(0,b.C)(Fe,rt,Dt);he.visualContainerGroups=(0,c.IH)(he.visualContainerGroups,...de||[])}}else Ee.visualContainerGroups=(0,c.IH)(Ee.visualContainerGroups,...$e||[]),ut&&(he.visualContainerGroups=(0,c.IH)(he.visualContainerGroups,...rt||[]));if(Je.publishVisualContainerAddedEvent(),Ce&&s.UP.selectCanvasItems(ce,Ce,!0),je)for(var ee of ce)(0,n.Vz)(ee)&&je.applyFilterOutput(ee);return ce}}}function X(me,Oe){var Ee=Oe.width||0,xe=Oe.height||0,ye=0;return me.x+me.width>Ee&&(me.x=Math.max(Ee-me.width,0),ye++),me.y+me.height>xe&&(me.y=Math.max(xe-me.height,0),ye++),ye}function re(me,Oe,Ee,xe,ye,Je){return te.apply(this,arguments)}function te(){return(te=(0,r.Z)(function*(me,Oe,Ee,xe,ye,Je){var he;return he=me.expr?yield ye.addVisualContainer({expr:me.expr,visualType:me.visualType,targetRole:me.targetRole,dataSources:xe,allowAggregate:me.allowAggregate??!0,shouldSummarize:me.shouldSummarize,startAuthoringAfterAddition:me.startAuthoringAfterAddition},Oe,Ee):ye.addEmptyVisualContainer(Oe,Ee,me.visualType,me.position,me.shouldSummarize,void 0,void 0,me.startAuthoringAfterAddition),Je.logEvent(f._rP,{source:se(me.telemetrySource),visualType:(0,m.s)(he),visualName:he.name}),he})).apply(this,arguments)}function se(me){switch(me){case g.J4.CheckboxTickedInFieldList:return l.Iv.CheckboxTickedInFieldList;case g.J4.DraggedToFieldWell:return l.Iv.DraggedToFieldWell;case g.J4.DraggedToCanvas:return l.Iv.DraggedToCanvas;case g.J4.VisualTypeIconClicked:return l.Iv.VisualTypeIconClicked;case g.J4.InsertVisualButton:return l.Iv.InsertVisualButton;case g.J4.WhatIfParameterControl:return l.Iv.WhatIfParameterControl;case g.J4.QnaAppBar:return l.Iv.QnaAppBar;case g.J4.QnaDoubleClick:return l.Iv.QnaDoubleClick;case g.J4.QnaKeyboardShortcut:return l.Iv.QnaKeyboardShortcut;case g.J4.FieldParameterControl:return l.Iv.FieldParameterControl;case g.J4.CanvasBackgroundContextMenu:return l.Iv.CanvasBackgroundContextMenu;case g.J4.AssistedCreation:return l.Iv.AssistedCreation;case g.J4.Copilot:return l.Iv.Copilot;default:y.f.assertFail("Unexpected enum value, update the VisualCreationSource to visualcontainer.VisualCreationType mapping")}}function Ve(me,Oe){return y.f.assertValue(me,"position"),_.some(Oe,Ee=>me.x===Ee.x&&me.y===Ee.y)}function ke(me,Oe,Ee){return{height:0,width:0,x:0,y:0,z:Ue(me,Oe),tabOrder:Ke(Ee,!0,Oe)}}function Ue(me,Oe){return _.isEmpty(me)?0:_.chain(me).map(xe=>{var ye=xe.layouts.withId(Oe),Je=ye&&ye.position;return Je&&Je.z||0}).max().value()+1}function Ke(me,Oe,Ee){if(!me||_.isEmpty(me.visualContainers))return 0;var xe=Oe?p.yM:p.ox;return _.forEach(me.visualContainers,ye=>{var Je=ye.layouts.withId(Ee),he=Je&&Je.position;if(he&&he.tabOrder){var Ce=he.tabOrder;xe=Oe?Math.max(xe,Ce):Math.min(xe,Ce)}}),xe+(Oe?1:-1)}function Ae(me,Oe,Ee){for(var xe=0,ye=0,Je=0,he=0,Ce=null,je=0,pe=0,Qe=Ee.length;pe<Qe;pe++){je=pe;var ut=Ee[pe];if(ut===me){var lt=ut.parentGroup,Et=lt&&lt.layouts.withId(Oe);lt=Et?lt:void 0,Ce=(0,v.hP)(we(ut,Oe),Oe,lt);break}}if(Ce){for(var bt of(Ee.splice(je,1),Ee)){var Ot=bt.parentGroup,Dt=Ot&&Ot.layouts.withId(Oe);Ot=Dt?Ot:void 0;var ne=(0,v.hP)(we(bt,Oe),Oe,Ot),Fe=Ce.x-ne.x;xe=xe<Fe?Fe:xe,ye=ye<(Fe=ne.y+ne.height-(Ce.y+Ce.height))?Fe:ye,Je=Je<(Fe=Ce.y-ne.y)?Fe:Je,he=he<(Fe=ne.x+ne.width-(Ce.x+Ce.width))?Fe:he}return{top:0-(Je>0?Je/Ce.height:0),left:0-(xe>0?xe/Ce.width:0),bottom:1+(ye>0?ye/Ce.height:0),right:1+(he>0?he/Ce.width:0)}}}function we(me,Oe){var Ee=me.layouts.withId(Oe);return y.f.assertValue(Ee,"Can't find a visual layout for the current form factor."),Ee&&Ee.position}function Ne(me){var Oe=s.UP.getSelectedCanvasItems(me),Ee={};for(var xe of Oe){var ye=xe.parentGroup?xe.parentGroup.name:P;Ee[ye]=Ee[ye]||[],Ee[ye].push(xe)}return Ee}function Se(me,Oe){return _.filter(me,xe=>{var ye=we(xe,i.D.Master).tabOrder;return Oe?void 0===ye||ye>=0:ye&&ye<0})}function Ie(me){var Oe=me.getCurrentSection();return Oe&&Oe.evaluatedObjects&&Oe.evaluatedObjects.outspacePane&&Oe.evaluatedObjects.outspacePane.width||a.vg}},62363:function(ve,j,e){e.d(j,{CZ:function(){return C},IA:function(){return v},MM:function(){return S},QZ:function(){return m},XB:function(){return c},_1:function(){return y},vX:function(){return p},xK:function(){return s},yY:function(){return d},zB:function(){return o}});var r=e(999787),i=e(544211),a=e(650543),t=e(50772),l=e(553962),g=e(442407),n=e(392617);function p(h){return{solid:{color:s(h,(0,i.d9)())}}}function s(h,E){a.f.assertValue(E,"gradientSettings");var f,V,T,u={color:(0,g.$_)(E.minColor,"minColor")},b=E.minValue;if(null!=b&&(f=(0,g.tx)(b)),E.diverging){V={color:(0,g.$_)(E.midColor,"midColor")};var P=E.midValue;null!=P&&(T=(0,g.tx)(P))}var w,D={color:(0,g.$_)(E.maxColor,"maxColor")},M=E.maxValue;null!=M&&(w=(0,g.tx)(M));var N,A=E.nullStrategy,R=E.nullColor,B={};return N=E.diverging?B.linearGradient3={min:u,mid:V,max:D}:B.linearGradient2={min:u,max:D},f&&(N.min.value=f),T&&(N.mid.value=T),w&&(N.max.value=w),A&&(N.nullColoringStrategy={strategy:(0,g.fL)(A)},A===n.Sx&&(N.nullColoringStrategy.color=(0,g.$_)(R,"nullColor"))),(0,g.x5)(h,B)}function d(h,E,u){var f;switch(u){case r.PR.Number:f={condition:(0,g.qu)(r.uu.LessThan,h,(0,g.tx)(0)),value:(0,g.fL)(E)};break;case r.PR.Text:f={condition:(0,g.qu)(r.uu.Equal,h,(0,g.fL)("")),value:(0,g.fL)(E)};break;default:a.f.assertNever(u)}return{solid:{color:(0,g.u7)([f])}}}var o="CircleHigh",v=t._.Before,m=t.T.Top;function c(h,E=r.PR.Number){switch(E){case r.PR.Number:return{kind:l.q.Icon,value:(0,g.u7)([C(h,67,100,!0,(0,g.fL)("CircleHigh")),C(h,33,67,!1,(0,g.fL)("SignMedium")),C(h,0,33,!1,(0,g.fL)("SignLow"))]),layout:(0,g.fL)(v),verticalAlignment:(0,g.fL)(m)};case r.PR.Text:return{kind:l.q.Icon,value:(0,g.u7)([y(h,(0,g.fL)("CircleHigh")),y(h,(0,g.fL)("SignMedium")),y(h,(0,g.fL)("SignLow"))]),layout:(0,g.fL)(v),verticalAlignment:(0,g.fL)(m)};default:a.f.assertNever(E)}}function C(h,E,u,f,b){var V,T;return E>0&&(V=(0,g.qu)(r.uu.GreaterThanOrEqual,h,g.LE.overRangeOf(h,E/100))),u<100&&(T=(0,g.qu)(f?r.uu.LessThanOrEqual:r.uu.LessThan,h,g.LE.overRangeOf(h,u/100))),{condition:V&&T?(0,g.xD)(V,T):V||T,value:b}}function y(h,E){return{condition:(0,g.qu)(r.uu.Equal,h,(0,g.fL)("")),value:E}}function S(h,E,u,f,b){var V,T;return null!==E&&(V=(0,g.qu)(r.uu.GreaterThanOrEqual,h,(0,g.tx)(E))),null!==u&&(T=(0,g.qu)(f?r.uu.LessThanOrEqual:r.uu.LessThan,h,(0,g.tx)(u))),{condition:V&&T?(0,g.xD)(V,T):V||T,value:b}}},938231:function(ve,j,e){e.d(j,{L6:function(){return v},aI:function(){return o},ac:function(){return C},dw:function(){return S},uz:function(){return c}});var r=e(333107),i=e(566779),a=e(79365),t=e(650543),l=e(824282),g=e(32077),n=e(442407),p=e(882553),s=e(248505),d={totalMatchingOption:l.v.InstancesOnly,reverseDirection:!1,hideText:!1};function o(E,u){return t.f.assertValue(E,"visual"),t.f.assertValue(u,"repetition"),v(y(E.objects,u))}function v(E){if(!E)return d;var u,f=E.minValue;f&&(u=f.value);var b,V=E.maxValue;V&&(b=V.value);var T=l.v.InstancesOnly,P=E.totalMatchingOption;return P&&(T=P.value),{minValue:u,maxValue:b,positiveColor:m(E.positiveColor),negativeColor:m(E.negativeColor),axisColor:m(E.axisColor),reverseDirection:E.reverseDirection.value,hideText:E.hideText.value,totalMatchingOption:T}}function m(E){var u=E.solid.color;return(0,a.A7)(u.value)?{solid:{color:u.value}}:null}function c(){return C(d,s.Ge.fromPrimitiveTypeAndCategory(r.M.None))}function C(E,u){var f,b,V;return t.f.assertValue(E,"dataBars"),t.f.assertValue(u,"valueType"),void 0!==E.minValue&&(f=h(E.minValue,u)),void 0!==E.maxValue&&(b=h(E.maxValue,u)),void 0!==E.totalMatchingOption&&(V=(0,n.cA)(E.totalMatchingOption)),{minValue:f,maxValue:b,positiveColor:(0,p.EV)(E.positiveColor&&E.positiveColor.solid.color,"maxColor"),negativeColor:(0,p.EV)(E.negativeColor&&E.negativeColor.solid.color,"minColor"),axisColor:(0,p.EV)(E.axisColor&&E.axisColor.solid.color,"foreground"),reverseDirection:(0,n.O7)(E.reverseDirection),hideText:(0,n.O7)(E.hideText),totalMatchingOption:V}}function y(E,u){return t.f.assertValue(u,"objectRepetition"),(0,i.OT)(E,u)}function S(E,u){return t.f.assertValue(u,"objectRepetition"),void 0!==y(E,u)}function h(E,u){if(t.f.assert(()=>u.integer||u.numeric,"databars only supports numeric SQExprs"),u.integer){var f=Math.round(E);return(0,n.cA)(f)}return u.primitiveType===r.M.Decimal?(0,n.gH)(E):(t.f.assert(()=>u.extendedType===g.o.Double,"Unexpected data type."),(0,n.tx)(E))}},709044:function(ve,j,e){e.d(j,{r:function(){return r}});var r=function(i){return i.Field="field",i.Filter="filter",i.Bookmark="bookmark",i.Sections="sections",i.VisualContainer="visualContainer",i.VisualContainerThumbnail="visual-container-thumbnail",i}({})},620155:function(ve,j,e){e.d(j,{E:function(){return r},J:function(){return i}});var r=function(a){return a[a.OutspaceBackground=1]="OutspaceBackground",a[a.CanvasBackground=2]="CanvasBackground",a}({}),i=function(a){return a[a.X=0]="X",a[a.Y=1]="Y",a}({})},804401:function(ve,j,e){e.d(j,{O6:function(){return l},UX:function(){return g},fe:function(){return t},jx:function(){return a}});var r=e(23131),i={BlockedCustomVisual:r.K.Blocked,ScriptVisualsNotEnabled:r.K.Blocked,UnapprovedCustomVisual:r.K.Blocked,CvApiVersionNotSupported:r.K.Blocked,AzureMapUserNotSignedIn:r.K.Blocked,AzureMapNoEndpoint:r.K.Blocked,AzureMapDisabledLocalCache:r.K.Blocked,AzureMapVisualRegionalDataProcessingConsentNotEnabled:r.K.Blocked};function a(n){if(!n)return!1;var p=n.displayableErrorInfo;return!_.isEmpty(p)&&!_.isEmpty(p[0].errorInfoKey)&&!_.isEmpty(p[0].errorInfoValue)}function t(n){return n in i?i[n]:r.K.Error}function l(n){return t(n)===r.K.Blocked}function g(n,p){var s=[],d=n.message,o=p;if(a(n)&&(o=n.displayableErrorInfo[0].errorInfoKey,d=n.displayableErrorInfo[0].errorInfoValue,n.displayableErrorInfo.length>1))for(var v=1;v<n.displayableErrorInfo.length;v++)s.push(n.displayableErrorInfo[v]);return{title:o,message:d,displayableErrorInfo:s,debugErrorInfo:n.debugErrorInfo,source:n.source,hideErrorHelperText:n.hideErrorHelperText}}},999544:function(ve,j,e){function r(a){if(a){var g=(a.originalEvent??a).handled;return void 0!==g&&!0===g}}function i(a){a&&((a.originalEvent??a).handled=!0)}e.d(j,{n:function(){return i},q:function(){return r}})},119357:function(ve,j,e){e.d(j,{O:function(){return d},Q3:function(){return p},QR:function(){return s},UO:function(){return m},_A:function(){return o},ku:function(){return v}});var r=e(561415),i=e(324569),a=e(104816),t=e(650543),l=e(630881),g=e(62396),n=e(241842);function p(c,C,y,S){var h=_.filter(y.filters,E=>E.howCreated===i.OO.Drillthrough);c.logChildEvent(S&&S.event,n.gEB,{type:C,countOfCurrentPageDrillthroughFilters:h.length})}function s(c){var C;switch(c&&(C=c.kind),C){case g.sc.Entity:return n.IVU.Entity;case g.sc.ColumnRef:return n.IVU.ColumnRef;case g.sc.MeasureRef:return n.IVU.MeasureRef;case g.sc.Aggregation:return n.IVU.Aggregation;case g.sc.PropertyVariationSource:return n.IVU.PropertyVariationSource;case g.sc.Hierarchy:return n.IVU.Hierarchy;case g.sc.HierarchyLevel:return n.IVU.HierarchyLevel;case g.sc.SparklineData:return n.IVU.Sparkline;case g.sc.NativeVisualCalc:return n.IVU.VisualCalculation;default:return n.IVU.Other}}function d(c){switch(c){case r.vA.Advanced:return n.vAw.Advanced;case r.vA.Categorical:return n.vAw.Categorical;case r.vA.Passthrough:return n.vAw.Passthrough;case r.vA.Range:return n.vAw.Range;case r.vA.Visual:return n.vAw.Visual;case r.vA.VisualTopN:return n.vAw.VisualTopN;default:t.f.assert(()=>!0,"unknown filterType "+c)}}function o(c){switch(c){case a.Gy.Exploration:return n.Gyw.Exploration;case a.Gy.Section:return n.Gyw.Section;case a.Gy.Visual:return n.Gyw.Visual;default:t.f.assert(()=>!0,"unknown filterScopeType "+c)}}function v(c){switch(c){case l.wO.View:return n.wOR.View;case l.wO.Edit:return n.wOR.Edit}}function m(c){switch(c){case i.ER.Ascending:return n.ERp.Ascending;case i.ER.Descending:return n.ERp.Descending;case i.ER.Custom:return n.ERp.Custom}}},884698:function(ve,j,e){e.d(j,{CH:function(){return f},HD:function(){return V},JH:function(){return M},JN:function(){return S},PJ:function(){return E},Rh:function(){return w},Z:function(){return C},eW:function(){return y},jU:function(){return N},ku:function(){return D},pg:function(){return W},uE:function(){return T}});var r=e(349672),i=e(324569),a=e(104816),t=e(274493),l=e(555254),g=e(270305),n=e(628391),p=e(67471),s=e(661214),d=e(464105),o=e(650543),v=e(301336),m=e(300177),c=e(144272);function C(F,U,O,x,I,L){if(F.scope.scopeType===a.Gy.Exploration&&(o.f.assertValue(O,"no exploration on report filter change"),(0,s.oU)(O)),F.changeType===a.N7.Add||F.changeType===a.N7.Update&&!function(F,U){for(var O of U)if(O.contract===F)return!0;return!1}(F.filter,U)){var K=(0,s.cj)(L,x.visualPlugin),z=(0,c.fw)(F.filter,I,x.displayNameService,F.scope,x.visualPlugin,x.aggrOps,x.localizationService,K,L&&L.config.singleVisual);V(z,x.explorationNavigation),F.scope.scopeType===a.Gy.Visual&&F.scope.container!==L||(U.push(z),f(U,I,x.dataSources,x.visualAuthoring))}else F.changeType===a.N7.Remove&&_.remove(U,H=>H.contract===F.filter);!function(F,U){var O=F.explorationNavigation,x=O.getCurrentExploration(),I=O.getCurrentSection(),L=U.scope.scopeType,K=l.UP.getSelectedVisual(F.selection),z=(0,p.R2)(L,x,I,K,F.scriptVisuals);if(!_.isEmpty(z)){var H=U.changeType.toString();F.telemetryService.logChildEvent(U.parentActivity&&U.parentActivity.event,d.bD,{action:H,visualIds:JSON.stringify(z)})}}(x,F)}function y(F,U,O,x,I,L,K,z,H){return F.displayName?F.displayName:(0,c.fw)(F,O,I,U,K,x,L,z,H).displayName}function S(F,U){return h.apply(this,arguments)}function h(){return(h=(0,r.Z)(function*(F,U){var O=F.explorationNavigation.getCurrentSection(),x=[];if(!O)return x;var I=yield E(F.dataSources,F.conceptualSchemaProxy);return f(x=(0,m.yU)({scopeType:a.Gy.Section,container:O},I,F.displayNameService,F.visualPlugin,F.aggrOps,F.localizationService,null,U),I,F.dataSources,F.visualAuthoring,!1),function(F,U){if(!_.isEmpty(F))for(var O of F)V(O,U)}(x,F.explorationNavigation),x})).apply(this,arguments)}function E(F,U){return u.apply(this,arguments)}function u(){return(u=(0,r.Z)(function*(F,U){var O=F.get();if(O)return yield U.get(O)})).apply(this,arguments)}function f(F,U,O,x,I=!0){if(!_.isEmpty(F)){var L=O.get();x.addConfigToCategoricalFilters(F,U,L,I)}}function V(F,U){var O=U.getCurrentExploration(),x=U.getCurrentSection();if(x){var I=(0,n.Iv)(O,x.name);if(I&&!_.isEmpty(I.parameters)){var L=_.find(I.parameters,K=>K.boundFilter===F.contract.name);L&&F.updateIsLinkedAsAggregation(!!L.asAggregation)}}}function T(F,U,O,x,I,L,K,z){return P.apply(this,arguments)}function P(){return(P=(0,r.Z)(function*(F,U,O,x,I,L,K,z){if(I){var H={scopeType:F,container:U},J=x.get();return O?yield L.addDrillthroughFilter(I,H,J,K):yield L.addFilter(I,H,J,z)}})).apply(this,arguments)}function D(F,U,O,x,I,L){var K=_.find(O.filters,H=>H.name===F);return!!K&&x.removeFilter(K,{scopeType:U,container:O},I,L)}function w(F,U,O,x){if(!_.isEmpty(O)&&(x.changeType===a.N7.Clear||x.changeType===a.N7.Add||x.changeType===a.N7.Update||x.changeType===a.N7.Remove)){var I=R(x.scope.scopeType,x.filter.howCreated===i.OO.Drillthrough);for(var L of O)if(!(I<R(U,L.howCreated===i.OO.Drillthrough))&&g.l.isCategoricalFilter(L.contract.type)&&L.contract!==x.filter){var z={filter:L.contract,changeType:a.N7.RefreshData,scope:L.getFilterContainerScope(),parentActivity:x.parentActivity};F.eventBridge.publishToChannel(t.Tuj,z)}}}function M(F,U,O){if(!U||/^\s*$/.test(U))return!1;var x=F.contract.displayName||F.displayName;return _.isEmpty(x)&&(x=F.getRestatement()),!(0,v.ms)(x,U)}function R(F,U){return F===a.Gy.Visual?0:F!==a.Gy.Section||U?F===a.Gy.Section?2:F===a.Gy.Exploration?3:-1:1}function N(F,U=i.ER.Ascending,O=!0){if(!_.isEmpty(F))switch(U){case i.ER.Ascending:F.sort(m.L2);break;case i.ER.Descending:F.sort(m.L2).reverse();break;case i.ER.Custom:O&&F.sort(m.n5)}}function W(F,U,O){if(_.isEmpty(F))return[];var[x,I]=null==O?[[],F]:_.partition(F,L=>O(L));return N(I,U),N(x,U,!1),_.concat(I,x).map(L=>L.contract)}},57738:function(ve,j,e){function r(i){var a=$(document.activeElement);return a.is(i)||a.closest(i).length>0}e.d(j,{y:function(){return r}})},170533:function(ve,j,e){e.d(j,{Iq:function(){return s},MO:function(){return m},Y9:function(){return o},b:function(){return p},p$:function(){return d}});var r=e(76395),i=e(324569),a=e(967504),t=e(628391),l=e(762329),g=e(827871),n=e(981371),p={[a.t.Dynamic]:{displayOption:i.tr.Dynamic,width:r.Z9,height:r.LU},[a.t.Standard]:{displayOption:i.tr.FitToPage,width:r.Z9,height:r.LU},[a.t.Widescreen]:{displayOption:i.tr.FitToPage,width:r.$z,height:r.az},[a.t.Cortana]:{displayOption:i.tr.ActualSize,width:r.yL,height:r.QZ},[a.t.Letter]:{displayOption:i.tr.FitToPage,width:r.lr,height:r.to},[a.t.Tooltip]:{displayOption:i.tr.FitToPage,width:r.R6,height:r.h8},[a.t.Custom]:{displayOption:i.tr.ActualSize,width:r.Z9,height:r.LU}};function s(C,y){var S=[];for(var h of C)S.push({...h,value:`${h.value}`,displayName:(0,g.Gf)(h.displayName,y),label:h.label?(0,g.Gf)(h.label,y):null});return S}function d(C=!1){var y=(0,l.p$)(C),S=[];for(var h of y)S.push({displayName:h.title,value:h.value.toString()});return S}function o(C,y){return function(C,y,S){if(C.displayOption===i.tr.Dynamic)return a.t.Dynamic;if(C.width===r.Z9&&C.height===r.LU)return a.t.Standard;if(C.width===r.$z&&C.height===r.az)return a.t.Widescreen;if(n.s.isCortanaPageSize(C)){var h=(0,t.Ae)(y,S.name);return-1!==h&&y.pods[h].cortanaEnabled?a.t.Cortana:a.t.Custom}return C.width===r.lr&&C.height===r.to?a.t.Letter:function(C){return C.width===r.R6&&C.height===r.h8}(C)?a.t.Tooltip:a.t.Custom}(C,y.getCurrentExploration(),y.getCurrentSection())}function m(C){return p[C]}},138576:function(ve,j,e){e.d(j,{EI:function(){return p},Gy:function(){return n},e6:function(){return g}});var r=e(426313),i=e(60978),a=e(661214),t=function(s){return s.Categorical="Categorical",s.Date="Date",s.Numeric="Numeric",s}({}),l=function(s){return s.Aggregate="Aggregate",s.Measure="Measure",s}({});function g(s){return _.some((0,a.oJ)(s),d=>(0,i.tO)(d.expr))}function n(s,d,o){var v=(0,a.oJ)(d);if(!_.isEmpty(v)){var m=(0,a.Xf)(d),c=function(){var y=C.expr;if((0,i.tO)(y)){var S=y.measure,h=m.getRoleNameForExpr(y),E=_.chain(m.tryGetExprs(h)).map((u,f)=>({expr:u,index:f})).filter(u=>(0,r.fS)(u.expr,y)).map(u=>u.index).value();_.forEach(E,u=>o.replaceField(s,S,h,u,d))}};for(var C of v)c()}}function p(s,d){return{groupingType:(v=>{if(v)return v.dateTime||v.temporal?t.Date:v.numeric?t.Numeric:t.Categorical})(s.grouping[0].getMetadata(d)?.type),measureType:(0,i.iV)(s.measure)?l.Aggregate:l.Measure}}},677684:function(ve,j,e){e.d(j,{gE:function(){return o},nD:function(){return D},pX:function(){return s},nC:function(){return d},Si:function(){return p}});var r=e(650543),i=e(418431),a=e(149222);function t(w){var M=w.get(0).style,A=M.transform||M.webkitTransform;if(A){var R=A.match(/rotate\((-?\d+(?:\.\d*)?)deg\)/);if(R)return parseFloat(R[1])}return 0}var n=e(301336),p=function(w){return w[w.Parent=1]="Parent",w[w.None=2]="None",w[w.Custom=3]="Custom",w}({}),s=function(w){return w[w.Up=1]="Up",w[w.Down=2]="Down",w[w.Left=4]="Left",w[w.Right=8]="Right",w[w.UpLeft=16]="UpLeft",w[w.UpRight=32]="UpRight",w[w.DownLeft=64]="DownLeft",w[w.DownRight=128]="DownRight",w[w.All=255]="All",w}({}),d=function(w){return w[w.Up=0]="Up",w[w.Down=1]="Down",w[w.Left=2]="Left",w[w.Right=3]="Right",w}({}),o=function(w){return w.Always="always",w.Never="never",w.Auto="auto",w}({}),h="transformElement",E="dragging",u="resizing",b="resizeHandleGroup-",P={preventDefault:o.Auto,minWidth:15,minHeight:15,maxWidth:1e4,maxHeight:1e4,autoScrollParent:null,inertia:!1,disableDrawing:!1};class D{constructor(M,A,R){this.ngZone=A,this.resizeHandleDirections=s.All,this.dimensions={},this.prevDimensions={},this.restricted={},this.preserveAspectRatio=!1,this.transformDelta={},window.interact&&(interact.pointerMoveTolerance(5),this.element=M,this.rawElement=this.element.get(0),this.updateOptions(R),this.snapToGridIfNeeded(),this.resizeHandleDirections=this.options&&this.options.resizeHandleDirections?this.options.resizeHandleDirections:this.resizeHandleDirections,this.element&&this.element.length>0&&(this.element.addClass(h),this.attachDragHandler(),this.attachResizeHandles(),this.updateHandlers(),this.attachKeyHandlers()),D.pointerTrap||(D.pointerTrap=$('<div id="transformPointerTrap" style="position: absolute; width: 1px; height: 1px; top: 0; left: 0"></div>').appendTo("body").get(0)))}attachKeyHandlers(){this.element.keydown(M=>{var B,w,A=M.shiftKey,R=M.shiftKey&&M.ctrlKey;if("true"!==$(this.element).attr("drag-resize-disabled")&&(!a.M.isCtrlOrMeta(M)||R)){var N=this.getDimensionsFromElement(this.element,!0),W=A?10:1;if(R){var F=I=>I/2===Math.round(I/2);switch(M.keyCode){case i.mW.downArrowKeyCode:N.height-=1,B=d.Down,F(N.height)&&(N.y+=1);break;case i.mW.upArrowKeyCode:N.height+=1,B=d.Up,F(N.height)||(N.y-=1);break;case i.mW.leftArrowKeyCode:N.width-=1,B=d.Left,F(N.width)&&(N.x+=1);break;case i.mW.rightArrowKeyCode:N.width+=1,B=d.Right,F(N.width)||(N.x-=1);break;default:return}}else switch(M.which){case i.mW.downArrowKeyCode:B=d.Down,N.y+=W;break;case i.mW.upArrowKeyCode:B=d.Up,N.y-=W;break;case i.mW.leftArrowKeyCode:B=d.Left,N.x-=W;break;case i.mW.rightArrowKeyCode:B=d.Right,N.x+=W;break;default:return}var U=this.getRestrictionParent();if(U&&0!==U.length){var O=(w=U,{left:parseFloat(w.css("padding-left"))||0,right:parseFloat(w.css("padding-right"))||0,top:parseFloat(w.css("padding-top"))||0,bottom:parseFloat(w.css("padding-bottom"))||0}),x=this.getDimensionsFromElement(U);N=this.restrictTo(N,x,O)}this.transformRelativeDimensionFromElement(this.element,N),M.stopPropagation&&M.stopPropagation(),M.preventDefault&&M.preventDefault(),this.notifyNudge(N,{bigNudge:A,direction:B})}})}restrictTo(M,A,R){var N=-R.top||0;return{x:Math.max(-R.left||0,Math.min(M.x,A.width-M.width)),y:Math.max(N,Math.min(M.y,A.height-M.height)),width:Math.min(M.width,A.width+R.left+R.right),height:Math.min(M.height,A.height+R.top+R.bottom)}}destroy(){this.dragInteractable&&this.dragInteractable.unset(),this.resizeInteractable&&this.resizeInteractable.unset(),this.autoScrollParent&&this.autoScrollParent.off("scroll",this.autoScrollParentScrollHandlerFn)}getResizeHandleDirectionArray(){var M=[],A=this.options.resizeHandleDirections;return A&s.Up&&M.push("up"),A&s.Down&&M.push("down"),A&s.Left&&M.push("left"),A&s.Right&&M.push("right"),A&s.UpLeft&&M.push("up-left"),A&s.UpRight&&M.push("up-right"),A&s.DownLeft&&M.push("down-left"),A&s.DownRight&&M.push("down-right"),M}getRestrictionString(){var M;switch(this.options.restriction){case p.Parent:M="parent";break;case p.Custom:M=this.options.getCustomRestrictionSelector();break;default:M=""}return M}getRestrictionParent(){var M=this.getRestrictionString();switch(M){case"":return;case"parent":return this.element.parent();default:return this.element.parent().closest(M)}}getAutoScrollOptions(){var M=this.options.autoScrollParent;return null==M?void 0:{enabled:!0,container:M[0]}}updateOptions(M){this.options={...P,...this.options||{},...M},this.restrictionElement=this.options.restrictDraw&&this.options.restriction!==p.None?this.getRestrictionParent():void 0,this.updateHandlers()}updateHandlers(){if(this.dragInteractable||this.resizeInteractable){var M=this.getAutoScrollOptions();if(this.dragInteractable){var A=0===this.getRestrictionString().length?void 0:{restriction:this.getRestrictionString(),endOnly:!1,elementRect:{top:0,left:0,bottom:1,right:1}};this.dragInteractable.draggable({restrict:A,autoScroll:M})}if(this.resizeInteractable){var R={restriction:""===this.getRestrictionString()?void 0:this.getRestrictionParent().get(0),elementRect:{top:0,left:0,bottom:1,right:1}};this.resizeInteractable.draggable({restrict:R,autoScroll:M})}}}attachDragHandler(){var M=this.element.get(0),A=this.options.autoScrollParent,R=this.options.preventDefault;if(this.dragInteractable=this.ngZone.runOutsideAngular(()=>interact(M).preventDefault(R).styleCursor(!1).ignoreFrom("[draggable=true], [drag-resize-disabled=true]").draggable({inertia:!1,onstart:F=>this.ngZone.run(()=>this.onDragStart(F)),onmove:F=>this.ngZone.run(()=>this.onDragMove(F)),onend:F=>this.ngZone.run(()=>this.onDragEnd())})),this.element.on("pointerdown.transform",()=>{this.dragInteractable&&this.options.getDragRestriction&&(this.dragInteractable.options.drag.restrict.elementRect=this.options.getDragRestriction())}),A){var B=n.S5,N=0,W=0;this.autoScrollParent=A,this.autoScrollParentScrollHandlerFn=B(()=>{var F=A.scrollTop(),U=A.scrollLeft(),O=U-W,x=F-N;if(0!==O||0!==x){var I={dx:O,dy:x};this.element.hasClass(E)?this.onDragMove(I):this.element.hasClass(u)&&this.onResizeMove(I)}N=F,W=U}),A.on("scroll.transformElement",this.autoScrollParentScrollHandlerFn)}}onDragStart(M){this.dragStopped=!1,a.M.isCtrlOrMeta(M)||M.shiftKey?this.dragStopped=!0:(this.options&&this.options.supportsPointerCapture&&D.pointerTrap.setPointerCapture&&M.interaction.pointerIds.length>0&&null!=M.interaction.pointerIds[0]&&D.pointerTrap.setPointerCapture(M.interaction.pointerIds[0]),this.dimensions=this.getDimensionsFromElement(this.element),this.prevDimensions={...this.dimensions},this.element.addClass(E),this.notifyDragStart(this.dimensions))}onDragMove(M){this.dragStopped||(this.dimensions.x+=M.dx,this.dimensions.y+=M.dy,this.draw(this.dimensions),this.notifyDragMove(this.dimensions))}onDragEnd(){this.dragStopped||(this.element.removeClass(E),this.snapToGridIfNeeded(),this.notifyDragEnd(this.dimensions))}attachResizeHandles(){for(var M,A=this.getResizeHandleDirectionArray(),{customHandleClass:R,transformId:B}=this.options,N=0,W=A.length;N<W;N++){var F=$("<div></div>").addClass("resizeHandle").attr("data-direction",A[N]).appendTo(this.element);R&&F.addClass(R),B&&F.addClass(b+this.options.transformId)}var U=".resizeHandle"+(this.options.transformId?`.${b}${this.options.transformId}`:"");this.resizeInteractable=this.ngZone.runOutsideAngular(()=>interact(U,{context:this.rawElement}).styleCursor(!1).ignoreFrom("[draggable=true], [drag-resize-disabled=true]").draggable({onstart:O=>this.ngZone.run(()=>this.onResizeStart(O)),onmove:O=>this.ngZone.run(()=>{M=O,this.onResizeMove(O)}),onend:()=>this.ngZone.run(()=>{M=null,this.onResizeEnd()})})),this.element.bind("keydown","keyup",O=>{var x="keydown"===O.type;this.element.hasClass(u)&&O.keyCode===i.mW.shiftKeyCode&&M&&x!==M.shiftKey&&(M.shiftKey=x,this.onResizeMove(M))})}onResizeStart(M){this.isResizing=!0,void 0!==this.element&&(this.preserveAspectRatio="true"===this.element.attr("preserve-aspect-ratio"));var A=M.target;this.element.addClass(u),this.dimensions=this.getDimensionsFromElement(this.element),this.prevDimensions={...this.dimensions},this.resizeStartRect={left:this.dimensions.x,top:this.dimensions.y,right:this.dimensions.x+this.dimensions.width,bottom:this.dimensions.y+this.dimensions.height,width:this.dimensions.width,height:this.dimensions.height};var R=A.getAttribute("data-direction");this.resizeDirection={up:/up/.test(R),down:/down/.test(R),left:/left/.test(R),right:/right/.test(R)},this.setTransformDelta(M),this.aspectRatio=this.calculateAspectRatio(this.dimensions,this.options.aspectRatioOffset),_.extend(this.restricted,this.dimensions),this.notifyResizeStart(this.dimensions)}setTransformDelta(M){this.transformDelta.width=M.clientX-(this.resizeDirection.left?this.resizeStartRect.left:this.resizeStartRect.right),this.transformDelta.height=M.clientY-(this.resizeDirection.up?this.resizeStartRect.top:this.resizeStartRect.bottom)}calculateAspectRatio(M,A){var R=M.height,B=M.width;return A&&(R+=A.height,B+=A.width),R/B}onResizeMove(M){var A=this.options.aspectRatioOffset||{width:0,height:0},R=M.clientY-this.transformDelta.height,B=M.clientX-this.transformDelta.width,N=0;for(var W in this.resizeDirection)N+=this.resizeDirection[W];if(this.resizeDirection.left&&(this.dimensions.x=B,this.dimensions.width=this.resizeStartRect.right-B),this.resizeDirection.up&&(this.dimensions.y=M.clientY,this.dimensions.height=this.resizeStartRect.bottom-R),this.resizeDirection.right&&(this.dimensions.width=B-this.resizeStartRect.left),this.resizeDirection.down&&(this.dimensions.height=R-this.resizeStartRect.top),(this.preserveAspectRatio||M.shiftKey)&&2===N){var F,U=this.getRestrictionParent();if(U&&U.length){var O=this.rawElement.getBoundingClientRect().top-U.get(0).getBoundingClientRect().top;F=this.resizeDirection.up?this.dimensions.height+O:U.get(0).clientHeight-O}else F=void 0;D.fixDimensionsBasedOnAspectRatio(this.options,this.aspectRatio,F,A,this.dimensions),this.restricted.width=this.dimensions.width,this.restricted.height=this.dimensions.height}else this.restricted.width=Math.min(Math.max(this.dimensions.width,this.options.minWidth),this.options.maxWidth),this.restricted.height=Math.min(Math.max(this.dimensions.height,this.options.minHeight),this.options.maxHeight);this.resizeDirection.left&&(this.restricted.x=this.resizeStartRect.right-this.restricted.width),this.resizeDirection.up&&(this.restricted.y=this.resizeStartRect.bottom-this.restricted.height),this.restricted.angle=t(this.element),this.draw(this.restricted),this.notifyResizeMove(this.restricted)}static fixDimensionsBasedOnAspectRatio(M,A,R=Number.MAX_VALUE,B,N){var W=Math.min(N.width,M.maxWidth)+B.width,F=W*A;F>(R=Math.min(M.maxHeight,R)+B.height)&&(W=(F=R)/A),F<M.minHeight+B.height&&(W=(F=M.minWidth+B.height)/A),W<M.minWidth+B.width&&(F=(W=M.minWidth+B.width)*A),N.height=F-B.height,N.width=W-B.width}onResizeEnd(){this.isResizing=!1,this.element.removeClass(u),_.extend(this.dimensions,this.restricted),this.snapToGridIfNeeded(),this.notifyResizeEnd(this.dimensions)}getDimensionsFromElement(M,A=!1){var R=this.getPositionFromElement(M);if(A){var B=M.parents("."+h);B.length&&B.each((F,U)=>{var O=this.getPositionFromElement($(U));R.x+=O.x,R.y+=O.y})}var N=this.getSizeFromElement(M),W=t(M);return{x:R.x,y:R.y,width:N.width,height:N.height,angle:W}}transformRelativeDimensionFromElement(M,A){var R=M.parents("."+h);R.length&&R.each((B,N)=>{var W=this.getPositionFromElement($(N));A.x-=W.x,A.y-=W.y})}getSizeFromElement(M){return{width:M.width(),height:M.height()}}getPositionFromElement(M){return function(w){var M={x:0,y:0};if(w&&w.length){var A=w.get(0).style,R=A.transform||A.webkitTransform;if(R&&R.length>0){var B=R.match(/translate\((-?\d+(?:\.\d*)?)px, (-?\d+(?:\.\d*)?)px\)/);B?(M.x=parseFloat(B[1]),M.y=parseFloat(B[2])):(B=R.match(/translate\((-?\d+(?:\.\d*)?)px\)/))&&(M.x=parseFloat(B[1]),M.y=0)}}return M}(M)}draw(M){if(!this.options.disableDrawing){var R,A=this.prevDimensions;M=M||this.dimensions,this.options.getIntermediateDimensions&&(R=this.options.getIntermediateDimensions(M)),M=_.extend({},R||M);var B=this.element.get(0).style,N=M.angle;if(!_.isEmpty(this.restrictionElement)){var W=this.getDimensionsFromElement(this.restrictionElement);M.x=Math.max(W.x,M.x),M.y=Math.max(W.y,M.y);var F=Math.max(0,M.x+M.width-(W.x+W.width)),U=Math.max(0,M.y+M.height-(W.y+W.height));this.isResizing?(M.height=M.height-U,M.width=M.width-F):(M.x=M.x-F,M.y=M.y-U,r.f.assert(()=>M.x>=W.x,"dimensions.x is less than restriction"),r.f.assert(()=>M.y>=W.y,"dimensions.y is less than restriction"))}(M.x!==A.x||M.y!==A.y||M.angle!==A.angle)&&(B.webkitTransform=B.transform="translate("+M.x+"px, "+M.y+"px)"+(N?" rotate("+N+"deg)":""),A.x=M.x,A.y=M.y,A.angle=A.angle),A.width!==M.width&&(B.width=M.width+"px",A.width=M.width),A.height!==M.height&&(B.height=M.height+"px",A.height=M.height)}}snapToGridIfNeeded(){!0===this.options.snapToGrid&&this.options.gridSize&&(this.dimensions||(this.dimensions=this.getDimensionsFromElement(this.element)),this.snapToGrid(this.dimensions))}snapToGrid(M){var A=this.options.gridSize;M.x=Math.round(M.x/A.width)*A.width,M.y=Math.round(M.y/A.height)*A.height,M.width=Math.round(M.width/A.width)*A.width,M.height=Math.round(M.height/A.height)*A.height,this.draw(M)}notifyResizeStart(M){this.options&&this.options.onResizeStart&&this.options.onResizeStart(M)}notifyResizeMove(M){this.options&&this.options.onResizeMove&&this.options.onResizeMove(M)}notifyResizeEnd(M){this.options&&this.options.onResizeEnd&&this.options.onResizeEnd(M)}notifyDragStart(M){this.options&&this.options.onDragStart&&this.options.onDragStart(M)}notifyDragMove(M){this.options&&this.options.onDragMove&&this.options.onDragMove(M)}notifyDragEnd(M){this.options&&this.options.onDragEnd&&this.options.onDragEnd(M)}notifyNudge(M,A){this.options&&this.options.onNudge&&this.options.onNudge(M,A)}}},538459:function(ve,j,e){e.d(j,{LR:function(){return y},vC:function(){return v},yY:function(){return o}});var r=e(349672),i=e(142105),a=e(972968),t=e(475507),l=e(251301),g=e(650543),n=e(630881),p=e(246626),s=e(156483),d=e(707238);function o(S,h,E,u,f,b){if(S&&h){var V=S.getAdapter();V&&u&&V.update({viewport:h,suppressAnimations:!0,dataViews:S.getDataViews(),type:E,resizeMode:b,viewMode:u.getViewMode(),editMode:f})}}function v(S,h,E,u,f,b,V,T,P,D,w){var R,M=new i.t(1),A={getType:()=>S.type,setType:R=>S.type=R,getViewport:()=>S.viewport,setViewport:(R,B)=>{S.viewport=R,B&&o(A,R,n.EP.Resize,h,E)},getData:()=>S.data,getAdapter:()=>S.visual,getDataViews:()=>S.dataViews,setDataViews:R=>S.dataViews=R,getDataTransforms:()=>S.dataTransforms,setThemeCollection:R=>S.themeCollection=R,getIsInFocus:()=>S.isInFocus,setIsInFocus:R=>S.isInFocus=R,setData:(R,B,N)=>{S.data=R,S.dataAppliedEvent&&(S.dataAppliedEvent.reject(),S.dataAppliedEvent=void 0),S.performanceActivity&&(S.performanceActivity.cancel(!0),S.performanceActivity=void 0),S.dataAppliedEvent=B,S.performanceActivity=N},setDataTransforms:R=>S.dataTransforms=R,setPendingSelection:R=>S.pendingSelection=R,hasPendingSelection:()=>!!S.pendingSelection,setAdditionalObjectUpdates:R=>S.additionalObjectUpdates=R,setIsDisabled:R=>S.isDisabled=R,getIsDisabled:()=>S.isDisabled,setIsDisabledIfUncertified:R=>S.isDisabledIfUncertified=R,getIsDisabledIfUncertified:()=>S.isDisabledIfUncertified,setReportId:R=>S.reportId=R,getErrorInfo:()=>S.errorInfo,getErrorInfo$:()=>M.asObservable(),setErrorInfo:R=>{S.errorInfo=R,M.next(R)},getWarnings:()=>c(S),getWarnings$:()=>h?h.getWarnings$():(0,a.of)({}),setWarnings:(R,B,N)=>C(S,R,B,N),getDataBoundObjectWarnings:()=>S.dataBoundObjectWarnings,resetWarnings:(R=!1)=>{R&&(S.dataBoundObjectWarnings={}),S.warnings=void 0},getHasPendingChanges:()=>S.hasPendingChanges,setHasPendingChanges:R=>S.hasPendingChanges=R,getHasUnappliedFilterChanges:()=>S.hasUnappliedFilterChanges,setHasUnappliedFilterChanges:R=>S.hasUnappliedFilterChanges=R,getSelectedDatapoints:()=>S.selectedDatapoints,setSelectedDatapoints:(R,B)=>function(S,h,E,u,f){var b=S.visual;g.f.assert(()=>!h.pendingSelection&&!S.pendingSelection,"There should be no pending selection when setSelectedDatapoints is called"),u&&(b&&b.visualHasMethod&&b.visualHasMethod("onRestoreSelection")?b.onRestoreSelection({selection:E}):(C(S,[new d.z]),f&&f(c(S)))),S.selectedDatapoints=E}(S,u,R,B,V),clearSelectedDatapoints:R=>{S.selectedDatapoints=void 0;var B=S.visual;B&&B.onClearSelection&&B.onClearSelection(),f.selectDataPoint(b,[],void 0,R,p.i.Union)},getSubSelectionStyles:(R=(0,r.Z)(function*(B){if(D){var N=yield D.getSubSelectionStyles(B);if(N)return N}return yield S.visual?.getSubSelectionStylesAsync?.(B)??S.visual?.getSubSelectionStyles?.(B)}),function(N){return R.apply(this,arguments)}),getSubSelectionShortcuts:function(){var R=(0,r.Z)(function*(B,N){if(D&&!N){var W=D.getSubSelectionShortcuts(B,N);if(W)return W}return yield S.visual?.getSubSelectionShortcutsAsync?.(B,N)??S.visual?.getSubSelectionShortcuts?.(B,N)});return function(N,W){return R.apply(this,arguments)}}(),getSubSelectables:function(){var R=(0,r.Z)(function*(B){var N=[],W=yield S.visual?.getSubSelectablesAsync?.(B)??S.visual?.getSubSelectables?.(B);if(W&&N.push(...W),D){var F=D.getSubSelectables(B);F&&N.push(...F)}return 0!==N.length?N:void 0});return function(N){return R.apply(this,arguments)}}(),onDataViewObjectChanged:(R,B,N)=>{if(N){if(!S.visual||!S.visual.visualHasMethod("onDataViewObjectChanged"))return R;var W=S.visual.onDataViewObjectChanged(R,B);if(W)return W}else if(w){var F=w.onDataViewObjectChanged(R,B);if(F)return F}return[]},getRunnableQuery:function(){var R=(0,r.Z)(function*(){return T.getLastExecutedQuery()});return function(){return R.apply(this,arguments)}}()};return P&&(A.sortServices=P),A}function c(S){var h,E=S.warnings,u=S.dataBoundObjectWarnings;if(h=E?_.cloneDeep(E):{},!_.isEmpty(u))for(var f in h.visualObjectWarnings||(h.visualObjectWarnings={}),u){var b=h.visualObjectWarnings[f];b?b.push(...u[f]||[]):h.visualObjectWarnings[f]=u[f]}return h}function C(S,h,E,u){if(_.isArray(h)){var f=_.filter(h,w=>!(w instanceof l.L));if(_.isEmpty(f)){S.dataBoundObjectWarnings||(S.dataBoundObjectWarnings={});var b=_.filter(h,w=>w instanceof l.L);for(var V of b){var T=V.propertyId.objectName;if(!E||!(0,s.zo)(T,E,u)){var P={selector:V.selector,warnings:[V]},D=S.dataBoundObjectWarnings[T];D?D.push(P):S.dataBoundObjectWarnings[T]=[P]}}}else g.f.assert(()=>f.length===h.length,"setWarnings - Received a mix of DataBoundExprWarning and non-DataBoundExprWarning warnings"),S.warnings={warnings:f}}else S.warnings=h}function y(S,h,E){if((0,t.q4)(E))return!1;var u=E?.config.singleVisual;if(u){var f=u.visualType,b=S.capabilities(f);return!(u.query||!h.isQueryVisual(f)||"debugVisual"===f||b&&b.supportsLandingPage)}return!0}},606209:function(ve,j,e){e.d(j,{E:function(){return i}});var r=e(324569);function i(){return{getFilters:()=>({dataFilter:null,dataFiltersUnmerged:null}),getDataSourceVariables:()=>{},getVisualRelationshipFilterAction:()=>r.tX.Default,selectDataPoint:_.noop,setVisualRelationshipFilterAction:_.noop}}},159763:function(ve,j,e){e.d(j,{UM:function(){return b}});var r=e(876713),i=e(992627),a=e(82372),t=e(398146),l=e(5496),g=e(902186),n=e(562832),p=0,s=11,d={size:t.dz.titleFontProperties.size,family:t.dz.titleFontProperties.family},o={size:t.dz.valueFontProperties.size,family:t.dz.valueFontProperties.family},v={size:t.dz.titleFontProperties.size,family:g.Wn.regular.css},m=t.dz.titleFontProperties.color,c=t.dz.valueFontProperties.color,C=t.dz.background.solid.color,y=t.dz.actionFontProperties.color;function b(w,M,A,R){var{actionFontColor:B,backgroundColor:N,titleFontColor:W,valueFontColor:F}=function(w,M,A){var R,B,N,W,F=!(!w||!(w.titleFontColor||w.valueFontColor||w.background));return M&&!F?(R=T(P(w&&w.themedTitleFontColor),r.v.getThemeColor(A,l.fA)),B=T(P(w&&w.themedValueFontColor),r.v.getThemeColor(A,l.fA)),N=T(P(w&&w.themedBackground),r.v.getThemeColor(A,l.U)),W=T(P(w&&w.actionFontColor),r.v.getThemeColor(A,l.fA))):M&&F?(R=T(T(P(w&&w.themedTitleFontColor),P(w&&w.titleFontColor)),m),B=T(T(P(w&&w.themedValueFontColor),P(w&&w.valueFontColor)),c),N=T(T(P(w&&w.themedBackground),P(w&&w.background)),C),W=T(P(w&&w.actionFontColor),R)):(R=T(P(w&&w.titleFontColor),m),B=T(P(w&&w.valueFontColor),c),N=T(P(w&&w.background),C)),{actionFontColor:W,backgroundColor:N,titleFontColor:R,valueFontColor:B}}(R,M,w);void 0===B&&A&&(B=M?y:W);var U=void 0!==B?D(R,M,A,w,v,B):void 0;return{titleFontProperties:D(R,M,A,w,d,W),valueFontProperties:D(R,M,A,w,o,F),actionFontProperties:U,discoverabilityFontProperties:M?_.clone(U):void 0,background:{solid:{color:N}},transparency:R?.transparency??(M?p:t.dz.transparency),hoverColor:r.v.getThemeColor(w,l.Xy),dividerColor:r.v.getThemeColor(w,l.Xy)}}function T(w,M){return void 0===w?M:w}function P(w){if(w){if(null===w.solid)return null;if(w.solid)return w.solid.color}}function D(w,M,A,R,B,N){var O={size:"fontSize",family:"fontFamily",bold:(0,n.N)(w,"bold")?"bold":void 0,italic:(0,n.N)(w,"italic")?"italic":void 0,underline:(0,n.N)(w,"underline")?"underline":void 0},x=M?(0,i.Zi)(w,O,void 0,R,void 0,"label",B):(0,i.XH)(w,O,void 0,void 0,B),I=(0,i.ED)(x,{color:N});return A&&(I=(0,i.ED)(I,{size:a.B.createFromPt(s)})),(0,i.xH)(I)}},664283:function(ve,j,e){e.d(j,{N:function(){return i}});var r=e(546205);class i{sortEntities(t){}sortProperties(t){t&&t.sort((l,g)=>(0,r.ve)(l.displayName,g.displayName))}}},931585:function(ve,j,e){e.d(j,{I:function(){return t},c:function(){return a}});var r=e(221737),i=e(502495);class a{constructor(g){this.oldItems=g,this.newItems=[]}add(...g){return!!g&&(g=_.filter(g,n=>!!n),this.newItems.push(...g||[]),!0)}merge(g){g&&(this.newItems=_.filter(this.newItems,g));var n=this.oldItems;return n?n.splice(0,n.length,...this.newItems||[]):_.isEmpty(this.newItems)||(n=this.newItems),n}}class t{constructor(g,n){this.vmLookup=this.getPropertiesDictionary(g),this.renames=this.getRenamesDictionary(g,n)}findVms(g,n,p){var s=this.getKey(g,n,p);return this.vmLookup[this.renames[s]||s]}getPropertiesDictionary(g){var n=_.clone(g.properties);for(var p of g.columnsAndMeasures)n.push(p);for(var s of g.hierarchies)n.push(s);for(var d of g.displayFolders)n.push(d),n.push(...d.getAllChildren()||[]);return n=_.uniq(n),_.groupBy(n,v=>this.getVmKey(v))}getRenamesDictionary(g,n){var p={},s=_.filter(n,c=>c.propertyRename&&c.propertyRename.entity===g.name);for(var d of s){var o=this.getFieldType(d.propertyRename.objectType),v=this.getKey(d.propertyRename.schema,d.propertyRename.before,o);p[this.getKey(d.propertyRename.schema,d.propertyRename.after,o)]=v}return p}getVmKey(g){return this.getKey(g.schemaName,g.name,g.fieldType)}getKey(g,n,p){return n+":"+p+(g?"|"+g:"")}getFieldType(g){switch(g){default:return r.PO.Property;case i.LP.KPI:return r.PO.Kpi;case i.LP.Hierarchy:return r.PO.Hierarchy;case i.LP.Level:return r.PO.HierarchyLevel}}}},220968:function(ve,j,e){e.d(j,{d:function(){return g}});var r=e(928423),i=e(650543),a=e(765959),t=e(832573),l=e(756114);class g{constructor(p,s){i.f.assertValue(p,"field"),this.field=p,this.conditions=[],this.operators=[],this.logicalOperator=a.Fn.Undefined,this.logicalAndOperator=a.Fn.And,this.logicalOrOperator=a.Fn.Or,this.filterRestatementGenerator=new r.wd(s),this.filterOperatorFactory=new r.Vl(s)}toSQExpr(p){var s=this.field,d=s.getMetadata(p);if(i.f.assertAnyValue(d,"metadata"),d){var o=d.type,v=t.m.hasMappedMParameter(s,p);return(0,l.d_)(s,o,this.conditions,this.logicalOperator,v)}}getRestatement(p){return this.filterRestatementGenerator.fromCondition(this.conditions,this.logicalOperator,p)}areConditionsValid(p,s){var d=this.conditions;if(_.isEmpty(d))return!1;for(var o=0,v=d.length;o<v;o++){var m=d[o];if(null!=m.operator&&m.operator!==a.pg.None){if((!p||m.value&&m.value.hasValue)&&((0,r.AJ)(m.operator)&&m.value&&!m.value.hasValue||s&&!this.isConditionValid(s,m)))return!1}else if(o<v-1)return!1}return!0}loadOperators(p,s,d){var o=this.filterOperatorFactory.tryGetExprFilterOperators(this.field,p,s,d);o.hasError||(this.operators=o.operators)}ensureConditions(p,s){var d=this.operators,o=a.Fn.And;this.conditions||(this.conditions=[]),_.isEmpty(this.conditions)&&!_.isEmpty(d)&&this.conditions.push(new r.gP(d[0].value));var v=2;if(p){o=s?a.Fn.Or:a.Fn.Undefined,v=s?2:1;var m=!this.filterOperatorFactory.isOperatorForColumnMappedToMParameter(this.conditions[0].operator);(this.logicalOperator===a.Fn.And||m||this.conditions.length>1&&!s)&&(this.conditions=[new r.gP(a.pg.Is)],this.logicalOperator=o)}for(;this.conditions.length<v;)this.conditions.push(r.gP.empty()),this.logicalOperator=o}isConditionValid(p,s){return(0,l.Ek)(this.field,p,s)}}},756114:function(ve,j,e){e.d(j,{Ek:function(){return d},d_:function(){return s}});var r=e(333107),i=e(999787),a=e(270305),t=e(650543),l=e(765959),g=e(442407),n=e(370918),p=/[0-9]*\.?[0-9]+%/;function s(m,c,C,y=l.Fn.And,S=!1){var E,h=new v(m,c,y,S);for(var u of C)null==u.operator||u.operator===l.pg.None||(E=u.accept(h));return E}function d(m,c,C){if(!c)return!1;var y=a.l.getValueType(m,c);if(!y)return!1;var S=new v(m,y,void 0);return null!=C.accept(S)}class v{constructor(c,C,y,S=!1){this.propertyExpr=c,this.dataType=C,this.logicalOperator=y,this.isMappedToMParameter=S}visit(c){var C=this.expandExpr(c);return C&&(this.result?this.logicalOperator===l.Fn.And?this.result=(0,g.xD)(this.result,C):this.logicalOperator===l.Fn.Or?this.result=(0,g.or)(this.result,C):t.f.assertFail("Logical operator is not set for multiple conditions."):this.result=C),this.result}expandExpr(c){var C,y=c.operator!==l.pg.IsBlank&&c.operator!==l.pg.IsNotBlank&&c.operator!==l.pg.IsEmptyString&&c.operator!==l.pg.IsNotEmptyString;if(y&&(C=this.getValueExpr(c)),C||!y)switch(c.operator){case l.pg.Is:return(0,g.qu)(i.uu.Equal,this.propertyExpr,C);case l.pg.IsNot:return(0,g.ff)((0,g.qu)(i.uu.Equal,this.propertyExpr,C));case l.pg.IsBlank:return(0,g.qu)(i.uu.Equal,this.propertyExpr,(0,g.IF)());case l.pg.IsNotBlank:return(0,g.ff)((0,g.qu)(i.uu.Equal,this.propertyExpr,(0,g.IF)()));case l.pg.Contains:return(0,g.r3)(this.propertyExpr,C);case l.pg.DoesNotContain:return(0,g.ff)((0,g.r3)(this.propertyExpr,C));case l.pg.StartWith:return(0,g.Ny)(this.propertyExpr,C);case l.pg.DoesNotStartWith:return(0,g.ff)((0,g.Ny)(this.propertyExpr,C));case l.pg.GreaterThan:return(0,g.qu)(i.uu.GreaterThan,this.propertyExpr,C);case l.pg.GreaterThanOrEqual:return(0,g.qu)(i.uu.GreaterThanOrEqual,this.propertyExpr,C);case l.pg.LessThan:return(0,g.qu)(i.uu.LessThan,this.propertyExpr,C);case l.pg.LessThanOrEqual:return(0,g.qu)(i.uu.LessThanOrEqual,this.propertyExpr,C);case l.pg.IsEmptyString:return(0,g.qu)(i.uu.Equal,this.propertyExpr,(0,g.fL)(""));case l.pg.IsNotEmptyString:return(0,g.ff)((0,g.qu)(i.uu.Equal,this.propertyExpr,(0,g.fL)("")));default:t.f.assertFail("Not valid filter operator type.")}}getValueExpr(c){return function(m,c,C=!1){if(m.value){var y=m.value.stringValue;if((c.integer||c.numeric)&&y){var S=n.dx.parseFloat(y);return isNaN(S)?void 0:(y.match(p)&&(S/=100),c.primitiveType===r.M.Decimal?(0,g.gH)(S):_.isInteger(S)?(0,g.cA)(S):(0,g.tx)(S))}if(c.text&&y)return(0,g.fL)(y);if(c.dateTime){var h=m.value.dateValue;if(h)return C?(0,g.CQ)(h):(0,g.uQ)(i.j1.Second,(0,g.CQ)(h))}}}(c,this.dataType,this.isMappedToMParameter)}}},691266:function(ve,j,e){e.d(j,{$$:function(){return t},C6:function(){return i}});var r=e(524426);function i(l,g,n,p,s,d){return{parentContract:l,visual:{viewport:d?n:r.j.adjustViewport(l.detailVisualLayout,n,p),themeCollection:g,allowInvalidDataView:!0,hostServices:null,visualName:l.name+"-detail"},hasData:!1}}var t=function(l){return l[l.Start=0]="Start",l[l.Stop=1]="Stop",l}({})},203428:function(ve,j,e){e.d(j,{d9:function(){return a},fO:function(){return i},kh:function(){return r}});var r=function(t){return t[t.Default=0]="Default",t[t.QuickExplore=1]="QuickExplore",t[t.DataExploration=2]="DataExploration",t}({}),i=function(t){return t[t.DuplicateSection=0]="DuplicateSection",t[t.RenameSection=1]="RenameSection",t[t.DeleteSection=2]="DeleteSection",t[t.ToggleVisibility=3]="ToggleVisibility",t[t.MoveLeft=4]="MoveLeft",t[t.MoveRight=5]="MoveRight",t[t.MoveToFront=6]="MoveToFront",t[t.MoveToEnd=7]="MoveToEnd",t[t.CopyObjectName=8]="CopyObjectName",t}({}),a=function(t){return t[t.FullScreen=0]="FullScreen",t[t.Search=1]="Search",t}({})},20561:function(ve,j,e){e.d(j,{U:function(){return a},y:function(){return t}});var r=e(638198),i=e(524584),a={phoneWidth:i.Co,phoneHeight:i.aW,phoneGridLayout:{columnCount:i.VA,rowCount:i.kV,newVisualCellCount:{width:6,height:6}}};class t{constructor(g,n=r.D.Master){this.selectedVisualOriginalPosition=-1,this.contract=g,this.canvasLayout=n}get width(){return this.canvasLayout===r.D.Master?this.contract.size&&this.contract.size.width:a.phoneWidth}get height(){return this.canvasLayout===r.D.Master?this.contract.size&&this.contract.size.height:a.phoneHeight}}},221737:function(ve,j,e){e.d(j,{Jg:function(){return S},N6:function(){return c},NJ:function(){return h},PO:function(){return b},P_:function(){return d},Tl:function(){return m},UZ:function(){return E},Wx:function(){return s},_u:function(){return y},e:function(){return o},lb:function(){return C},wf:function(){return u}});var r=e(60978),i=e(803205),a=e(650543),t=e(695795),l=e(833059),g=e(726988),n=e(810331),p=e(617793),s=(V,T,P)=>{var D=T?"_paneColorRefresh":"",w=V.fieldType;if(w===b.DisplayFolder)return"fieldListFolder"+D;if(w===b.KpiMeasure)return"none";if(w===b.Hierarchy)return"fieldListHierarchy"+D;if(w===b.RowCount)return"fieldListMeasure"+D;if(V.contract.queryable===l.rW.Error)return"fieldListError"+D;if(V.kind===l.NT.Measure)return V.contract.measure&&V.contract.measure.kpi&&V.fieldType===b.Kpi?"fieldListKpi"+D:V.contract.measure&&V.contract.measure.changeDetectionMetadata?"fieldListChangeDetection"+D:"fieldListMeasure"+D;if(void 0!==V.contract.type&&void 0!==V.contract.type.geography)return"fieldListGeoData"+D;if(V.kind===l.NT.Column){var M=V.contract.column;if(M){if(M.parameterMetadata)return"fieldListParameter"+D;if(M.groupingMetadata)return"fieldListGroup"+D;if(M.calculated)return V.type&&V.type.numeric?"fieldListNumericCalculatedColumn"+D:"fieldListCalculatedColumn"+D;if(!_.isEmpty(M.variations)&&V.type.dateTime)return"fieldListCalendar"+D}if(V.idOnEntityKey)return"fieldListIdentity"+D}return V.type&&V.type.numeric&&V.defaultAggregate!==l.WB.None&&P?"fieldListNumeric"+D:"none"},d=(()=>{class V{get name(){return this.contract.name}get canEdit(){return this.contract.capabilities.canEdit&&!this.disableEditing}get canCreateColumn(){return this.canEdit&&!1!==this.contract.capabilities.supportsCalculatedColumns}constructor(P){a.f.assertValue(P,"contract"),this.contract=P,this.showCheckboxes=!0,this.entities=[]}findEntity(P){return _.find(this.entities,D=>D.name===P)}findFields(P,D,w){var M=this.findEntity(P);if(M)return M.findFields(D,w)}findHierarchies(P,D,w){var M=this.findEntity(P);if(M)return M.findHierarchies(D,w)}findKpis(P,D,w){var M=this.findEntity(P);if(M)return M.findKpis(D,w)}findKpiMeasures(P,D,w){var M=this.findEntity(P);if(M)return M.findKpiMeasures(D,w)}findItems(P){var D=[];if((0,r.Im)(P)||(0,r.tO)(P))return D;var w=(0,n.Q)(P),M=(0,g.pV)(w);if(w){var A=w.hierarchyLevel||w.hierarchyLevelAggr;if(A){a.f.assert(()=>1===_.size(M),"hierarchy level should only have 1 underlying entity");var R=this.findHierarchies(M[0].entity,A.name,A.schema);if(R)for(var B of R)for(var N of(D.push(B),B.hierarchyLevels))N.name===A.level&&D.push(N)}else if(w.columnHierarchyLevelVariation){var W=w.columnHierarchyLevelVariation.source.name;a.f.assert(()=>1===_.size(M),"variations should only have 1 underlying entity");var F=this.findFields(M[0].entity,W,M[0].schema);if(!F)return D;for(var U of F){D.push(U);var O=U.properties;if(O)for(var x of O)if(x instanceof S&&x.name===w.columnHierarchyLevelVariation.level.name)for(var I of(D.push(x),x.hierarchyLevels))I.name===w.columnHierarchyLevelVariation.level.level&&D.push(I)}}else{var L=(0,g.gz)(w);a.f.assert(()=>!L||_.size(M)===_.size(L),"There should be equal number of properties and entities");for(var K=0;K<M.length;K++){var z=M[K],H=L?.[K],J=this.findFields(z.entity,H,z.schema)||this.findKpiMeasures(z.entity,H,z.schema);if(J)for(var k of J)D.push(k)}}}return D}static getUniqueId(){return V._uid++}}return V._uid=0,V})();class o{get name(){return this.contract.name}get displayName(){return this.displayNameOverride||this.contract.displayName}get description(){return this.contract.description}get errorMessage(){return this.contract.errorMessage}get calculated(){return this.contract.calculated}get iconClassName(){return this.contract.queryable===l.rW.Error?"fieldListError":this.calculated?"fieldListEntityCalculated":this.isMeasureGroup?"fieldListMeasureGroup":void 0}get hidden(){return(0,t.yE)(this.contract.visibility,l.Ot.Hidden)&&_.every(this.properties,T=>!T.isExtension||T.hidden)}set hidden(T){this.contract.visibility=T?(0,t.mB)(this.contract.visibility,l.Ot.Hidden):(0,t.AS)(this.contract.visibility,l.Ot.Hidden)}get canEdit(){return this.contractSchema.capabilities.canEdit&&!this.schema.disableEditing&&!(0,p.jX)(this.contract)}get private(){return(0,t.yE)(this.contract.visibility,l.Ot.IsPrivate)}get showAsVariationsOnly(){return(0,t.yE)(this.contract.visibility,l.Ot.ShowAsVariationsOnly)}get showHidden(){return this.schema.showHidden}get canRefresh(){return this.canEdit&&this.contract.capabilities.canRefresh}get canHaveMeasures(){return this.contract.capabilities.canHaveMeasures}get canEditEntity(){return this.canEdit&&!this.calculated&&this.contract.capabilities.canEditSource}get canDelete(){return this.canEdit&&this.contract.capabilities.canDelete}get canRename(){return this.canEdit&&this.contract.capabilities.canRename}constructor(T,P,D){this.hasCheckedProperties=!1,a.f.assertValue(T,"contract"),a.f.assertValue(P,"contractSchema"),a.f.assertValue(D,"schema"),this.contract=T,this.contractSchema=P,this.schema=D,this.properties=[],this.columnsAndMeasures=[],this.hierarchies=[],this.displayFolders=[]}findFields(T,P){return this.findFieldsByType(T,P,b.Property)}findKpis(T,P){return this.findFieldsByType(T,P,b.Kpi)}findKpiMeasures(T,P){return this.findFieldsByType(T,P,b.KpiMeasure)}findHierarchies(T,P){return this.findFieldsByType(T,P,b.Hierarchy)}findFieldsByType(T,P,D){var w=[];for(var M of(D===b.Hierarchy?w.push(..._.filter(this.hierarchies,R=>R.name===T&&R.schema.name===P)):w.push(..._.filter(this.properties,R=>R.name===T&&R.fieldType===D&&R.schemaName===P)),this.displayFolders))for(var A of _.filter(M.getAllChildren(),R=>R.name===T&&R.fieldType===D))w.indexOf(A)<0&&w.push(A);if(!_.isEmpty(w))return w}get userEntity(){return!(this.private||this.showAsVariationsOnly)}}class v{get children(){return this._children}set children(T){this._children=T}get name(){return this.contract.name}get schemaName(){return this.schema.name}get displayName(){return this.displayNameOverride||this.contract.displayName}get description(){return this.contract.description}get errorMessage(){return null}get visible(){return!this.parent||this.parent.expanded&&this.parent.visible}get hidden(){return this.contract.hidden}set hidden(T){this.contract.hidden=T}get showHidden(){return this.entity.showHidden}get canEdit(){return!this.variation&&this.schema.capabilities.canEdit&&!this.entity.schema.disableEditing}get disableDragging(){return this.entity.schema.disableDragging}get disableSelectionOnFocus(){return this.entity.schema.disableSelectionOnFocus}get showCheckboxes(){return this.entity.schema.showCheckboxes}get isExtension(){return!1}constructor(T,P,D){this.hasCheckedChildren=!1,a.f.assertValue(T,"contract"),a.f.assertValue(P,"schema"),a.f.assertValue(D,"entity"),this.contract=T,this.schema=P,this.entity=D,this.id=d.getUniqueId()}}class m extends v{get kind(){return this.contract.kind}get defaultAggregate(){return this.contract.column?this.contract.column.defaultAggregate:null}get type(){return this.contract.type}get idOnEntityKey(){return!!this.contract.column&&this.contract.column.idOnEntityKey}get errorMessage(){return this.contract.errorMessage}get canDelete(){return this.canEdit&&!1!==this.contract.canDelete}get canAddToFilter(){return!this.contract.measure||!this.schema.capabilities.limitMultiColumnFiltersToQueryGroupColumns}get properties(){return this.children}constructor(T,P,D,w,M){super(T,P,D),this.children=[],this.originalEntity=w,this.variation=M,this.expanded=!1,this.draggable=!this.disableDragging,this.fieldType=b.Property}clone(){return new m(this.contract,this.schema,this.entity)}}class c extends v{get defaultAggregate(){return l.WB.Count}get isExtension(){return!1}constructor(T,P,D){a.f.assertValue(T,"contract"),a.f.assertValue(P,"schema"),a.f.assertValue(D,"entity"),super(T,P,D),this.fieldType=b.RowCount}clone(){return new c(this.contract,this.schema,this.entity)}}class C extends m{get defaultAggregate(){return l.WB.Sum}get idOnEntityKey(){return!1}get isExtension(){return!0}constructor(T,P,D){super(T,P,D)}clone(){return new C(this.contract,this.schema,this.entity)}}class y extends m{constructor(T,P,D,w,M,A){a.f.assertValue(T,"contract"),a.f.assertValue(D,"parent"),a.f.assertValue(w,"entity"),super(T.column,P,w),this.originalEntity=M,this.variation=A,this.hierarchyLevelContract=T,this.parent=D,this.fieldType=b.HierarchyLevel}get hidden(){return this.parent.hidden}get name(){return this.hierarchyLevelContract.name}get displayName(){return this.displayNameOverride||this.hierarchyLevelContract.displayName}get description(){return this.hierarchyLevelContract.description}get canDelete(){return!this.variation&&this.canEdit&&!1!==this.hierarchyLevelContract.canDelete}clone(T){return new y(this.hierarchyLevelContract,this.schema,T||this.parent,this.entity)}}class S extends v{get properties(){return this.hierarchyLevels}get children(){return this.hierarchyLevels}get canDelete(){return!this.variation&&this.canEdit&&!1!==this.contract.canDelete}constructor(T,P,D,w,M){super(T,P,D),this.expanded=!1,this.hierarchyLevels=[],this.originalEntity=w,this.variation=M,this.draggable=!this.disableDragging,this.fieldType=b.Hierarchy}findLevel(T,P){return _.find(this.hierarchyLevels,D=>D.name===T)}clone(){var T=new S(this.contract,this.schema,this.entity);return T.hierarchyLevels=_.map(this.hierarchyLevels,P=>P.clone(T)),T}}class h extends v{get kind(){return this.contract.kind}get properties(){return this.kpiMeasures}get children(){return this.kpiMeasures}constructor(T,P,D){super(T,P,D),this.expanded=!1,this.kpiMeasures=[],this.fieldType=b.Kpi}clone(){var T=new h(this.contract,this.schema,this.entity);return T.kpiMeasures=_.map(this.kpiMeasures,P=>P.clone(T)),T}}class E extends m{constructor(T,P,D,w,M,A){a.f.assertValue(T,"contract"),a.f.assertValue(M,"entity"),a.f.assertValue(D,"kpiType"),a.f.assertValue(w,"kpiParent"),a.f.assertValue(A,"locOptions"),super(T,P,M),this.kpiType=D,this.parent=w,this.locOptions=A,this.draggable=!this.disableDragging,this.fieldType=b.KpiMeasure}get displayName(){var T;switch(this.kpiType){case i.oo.Value:T=this.locOptions.KpiValueDisplayName;break;case i.oo.Goal:T=this.locOptions.KpiGoalDisplayName;break;case i.oo.Status:T=this.locOptions.KpiStatusDisplayName;break;case i.oo.Trend:T=this.locOptions.KpiTrendDisplayName;break;default:a.f.assertFail("Unknown KpiType")}return this.displayNameOverride||T||this.contract.displayName}clone(T){return new E(this.contract,this.schema,this.kpiType,T||this.parent,this.entity,this.locOptions)}}class u extends v{get hidden(){return!_.some(this.children,T=>!T.hidden)}set hidden(T){a.f.assertFail("Should never hide display folder directly")}constructor(T,P,D,w,M){for(var A of(super(T,w,M),this.expanded=!1,this.parent=D,this.children=P,this.fieldType=b.DisplayFolder,P))A.parent=this}clone(){a.f.assertFail("NotImplemented")}getAllChildren(){var T=[];for(var P of this.children)T.push(P),P.fieldType===b.DisplayFolder&&T.push(...P.getAllChildren()||[]);return T}}var b=function(V){return V[V.Property=0]="Property",V[V.DisplayFolder=1]="DisplayFolder",V[V.Hierarchy=2]="Hierarchy",V[V.HierarchyLevel=3]="HierarchyLevel",V[V.Kpi=4]="Kpi",V[V.KpiMeasure=5]="KpiMeasure",V[V.RowCount=6]="RowCount",V}({})},193491:function(ve,j,e){e.d(j,{pF:function(){return l}});var r=e(76395),i=e(221737),a=e(664283),t=e(931585);function l(p,s,d,o){var v=new t.c(p.displayFolders),m=_.keyBy(p.displayFolders,h=>h.name);if(!_.isEmpty(d))for(var c of d){var C=function(h){var E=s.indexOf(s.filter(u=>u.name===h.name)[0]);E>=0?s[E]=g(s[E],h):s=s.concat(h)};for(var y of c.entity.displayFolders)C(y)}if(!_.isEmpty(s))for(var S of s)v.add(n(p,void 0,S,m,o));p.displayFolders=v.merge(),p.properties.push(...p.displayFolders||[])}function g(p,s){if(s){if(s===p)return p;var d=new Set(_.map(p.properties,C=>C.name));for(var o of s.properties)d.has(o.name)||p.properties.push(o);for(var v of s.hierarchies)p.hierarchies.push(v);var m=function(C){var y=p.displayFolders.indexOf(p.displayFolders.filter(S=>S.name===C.name)[0]);y>=0?p.displayFolders[y]=g(p.displayFolders[y],C):p.displayFolders.push(C)};for(var c of s.displayFolders)m(c)}return p}function n(p,s,d,o,v){var m=o[d.name];if(m){m.contract=d;var c=new t.c(m.children);if(d.properties){var C=_.filter(m.children,A=>A.fieldType!==i.PO.DisplayFolder&&A.fieldType!==i.PO.Hierarchy),y=_.keyBy(C,A=>A.name);for(var S of d.properties){var h=y[S.name];h||((h=(_.head(p.findFields(S.name,m.schemaName))||_.head(p.findFields(S.name,r.eM))||_.head(p.findKpis(S.name,m.schemaName))).clone()).parent=m),c.add(h)}}if(d.hierarchies){var u=_.filter(m.children,A=>A.fieldType===i.PO.Hierarchy),f=_.keyBy(u,A=>A.name);for(var b of d.hierarchies){var V=f[b.name];V||((V=_.head(p.findHierarchies(b.name,m.schemaName)).clone()).parent=m),c.add(V)}}if(d.displayFolders){var P=_.filter(m.children,A=>A.fieldType===i.PO.DisplayFolder),D=_.keyBy(P,A=>A.name);for(var w of d.displayFolders)c.add(n(p,m,w,D,v))}m.children=c.merge(),(new a.N).sortProperties(m.children)}else m=v.convertConceptualDisplayFolder(d,p.contractSchema,s,p);return m}},558126:function(ve,j,e){e.d(j,{o:function(){return p}});var r=e(803205),i=e(650543),a=e(833059),t=e(221737),l=e(193491),g=e(546205),n=e(617793);function p(d,o,v=!1){return new s(d,o,v)}class s{constructor(o,v,m=!1){this.withRowCounts=!1,i.f.assertValue(o,"localizationService"),i.f.assertValue(v,"featureSwitchService"),this.localizationService=o,this.withRowCounts=m}createModel(o,v,m,c){i.f.assertValue(o,"federatedSchema");var C,y=o.schemas,S=(0,g.nX)(y);for(var h of y=(0,g.uU)(y))C=this.convertConceptualSchema(h,C,S,v,m,c);return C}convertConceptualSchema(o,v,m,c,C,y){(v=v||new t.P_(o)).disableDragging=C;var S=_.filter(o.entities,E=>!(0,n.p1)(E)||(0,n.jX)(E)),h=_.map(S,E=>this.convertConceptualEntity(E,o,v,m));return v.entities.push(...h||[]),v.disableEditing=c,v.disableSelectionOnFocus=y,v}convertConceptualEntity(o,v,m,c){var u,C=new t.e(o,v,m);if(C.properties=[],o.properties&&!(0,n.p1)(o))for(var y of o.properties)if(y.measure&&y.measure.kpi){var S=this.convertConceptualKpi(y,v,C);C.columnsAndMeasures.push(S),C.properties.push(S)}else if(!y.kpiValue){var h=this.convertConceptualProperty(y,v,C);C.columnsAndMeasures.push(h),C.properties.push(h)}if(C.isMeasureGroup=(0,g.fn)(o.properties),C.expanded=!1,o.hierarchies&&o.hierarchies.length>0)for(var E of(C.hierarchies=_.map(o.hierarchies,w=>this.convertConceptualHierarchy(w,v,C)),C.hierarchies))C.properties.push(E);if(c){var f=(0,n.U)(v.name,o.name);if(u=c.entities[f])for(var b of u)for(var V of b.entity.properties){var T=this.convertConceptualExtensionMeasure(V,b.schema,C);C.properties.push(T)}}if((0,l.pF)(C,o.displayFolders,u,this),(0,g.MM)(C.properties),(0,g.jM)(C.properties,C.displayFolders),(0,g.CU)(C),(0,g.WF)(C),this.withRowCounts&&o.visibility===a.Ot.Visible&&!v.capabilities.discourageQueryAggregateUsage){var D=this.createConceptualRowCount(v,C);C.properties.unshift(D)}return C}convertConceptualDisplayFolder(o,v,m,c){var C={},y={};for(var S of c.properties)S.fieldType===t.PO.HierarchyLevel||S.fieldType===t.PO.Hierarchy?y[S.name]=S:C[S.name]=S;return this.convertConceptualDisplayFolderCore(o,v,m,C,y,c)}convertConceptualDisplayFolderCore(o,v,m,c,C,y){var S=[];for(var h of o.properties)if(h){var E=c[h.name];E&&S.push(E.clone())}for(var u of o.hierarchies)if(u){var f=C[u.name];f&&S.push(f.clone())}var b=new t.wf(o,S,m,v,y);for(var V of o.displayFolders)b.children.push(this.convertConceptualDisplayFolderCore(V,v,b,c,C,y));return(0,g.MM)(b.children),b}convertConceptualHierarchy(o,v,m,c,C){var y=new t.Jg(o,v,m,c,C);for(var S of(y.hierarchyLevels=[],o.levels))y.hierarchyLevels.push(this.convertConceptualHierarchyLevel(S,v,y));return y}convertConceptualHierarchyLevel(o,v,m){return new t._u(o,v,m,m.entity,m.originalEntity,m.variation)}convertConceptualProperty(o,v,m){var c=new t.Tl(o,v,m);for(var C of(0,g.Xj)(o))c.children.push(this.convertConceptualVariationHierarchy(C,v,c));return c}convertConceptualVariationHierarchy(o,v,m){var c=this.convertConceptualHierarchy(o.defaultHierarchy,v,m.entity,o.navigationProperty.targetEntity,o.name);return c.parent=m,c}convertConceptualExtensionMeasure(o,v,m){return new t.lb(o,v,m)}convertConceptualKpi(o,v,m){var c=new t.NJ(o,v,m),C={};C.KpiValueDisplayName=this.localizationService.get("KpiValueFieldListDisplayName"),C.KpiStatusDisplayName=this.localizationService.get("KpiStatusFieldListDisplayName"),C.KpiGoalDisplayName=this.localizationService.get("KpiGoalFieldListDisplayName"),C.KpiTrendDisplayName=this.localizationService.get("KpiTrendFieldListDisplayName");var y=o.measure.kpi,S=y.goal,h=y.status,E=y.trend;return c.kpiMeasures=[],c.kpiMeasures.push(this.convertConceptualKpiMeasure(o,v,r.oo.Value,c,m,C)),S&&c.kpiMeasures.push(this.convertConceptualKpiMeasure(S,v,r.oo.Goal,c,m,C)),h&&c.kpiMeasures.push(this.convertConceptualKpiMeasure(h,v,r.oo.Status,c,m,C)),E&&c.kpiMeasures.push(this.convertConceptualKpiMeasure(E,v,r.oo.Trend,c,m,C)),c}convertConceptualKpiMeasure(o,v,m,c,C,y){return new t.UZ(o,v,m,c,C,y)}createConceptualRowCount(o,v){var m={name:v.name,displayName:this.localizationService.get("QuickExplore_RowCount"),canDelete:!1,hidden:!1};return new t.N6(m,o,v)}}},657725:function(ve,j,e){e.d(j,{hi:function(){return v}});var r=e(664283),i=e(803205),a=e(650543),t=e(221737),l=e(193491),g=e(546205),n=e(617793),d=e(931585);class o{constructor(c,C,y,S,h,E){this.factory=c,this.sorter=C,this.disableEditing=y,this.disableDragging=S,this.disableSelectionOnFocus=h,this.schemaChanges=E?E.changes:[]}mergeFieldList(c,C){return(!c||!C)&&(c={schema:void 0,isLoaded:!1}),C&&_.some(C.schemas)&&(c.schema=this.mergeSchemas(c,C),c.isLoaded=!0),c}mergeSchemas(c,C){var y=c.schema;if(y){var S=(0,g.nX)(C.schemas),h=(0,g.uU)(C.schemas);y.contract=_.find(h,V=>!(0,n.p1)(V));var E=new d.c(y.entities);for(var u of h)for(var f of u.entities)if(!(0,n.p1)(f)||(0,n.jX)(f)){var b=this.mergeEntity(y,u,f,S);u===y.contract&&E.add(...b||[])}y.entities=E.merge(),this.sorter.sortEntities(y.entities)}else y=this.factory.createModel(C,this.disableEditing,this.disableDragging,this.disableSelectionOnFocus);return y}mergeEntity(c,C,y,S){a.f.assertValue(y,"entity");var h=this.findEntityVm(c,y);if(h){h.contract=y,h.contractSchema=C;var E=new d.c(h.properties),u=new d.c(h.columnsAndMeasures),f=new d.c(h.hierarchies),b=new d.I(h,this.schemaChanges);if(!(0,n.p1)(y))for(var V of y.properties){var T=this.mergePropertyMeasureOrKpi(h,C,V,b);E.add(...T||[]),u.add(...T||[])}for(var P of y.hierarchies){var D=this.mergeHierarchy(h,C,P,b);E.add(...D||[]),f.add(...D||[])}var w=S.entities[(0,n.U)(C.name,y.name)];if(w)for(var M of w)for(var A of M.entity.properties){var R=this.mergeExtensionMeasure(h,M.schema,A,b);E.add(...R||[]),u.add(...R||[])}h.columnsAndMeasures=u.merge(B=>!B.parent),h.hierarchies=f.merge(B=>!B.parent),h.properties=E.merge(B=>!B.parent),(0,l.pF)(h,y.displayFolders,w,this.factory),this.sorter.sortProperties(h.properties),(0,g.jM)(h.properties,h.displayFolders),(0,g.CU)(h),(0,g.WF)(h)}else h=this.factory.convertConceptualEntity(y,C,c,S);return[h]}findEntityVm(c,C){var y=C.name,S=_.find(this.schemaChanges,E=>E.entityRename&&E.entityRename.after===C.name);S&&(y=S.entityRename.before);var h=c.findEntity(y);return h&&(0,n.jX)(h.contract)!==(0,n.jX)(C)?null:h}mergePropertyMeasureOrKpi(c,C,y,S){if(!(0,n.p1)(y)){if(a.f.assertValue(m=y,"contract"),m.measure&&m.measure.kpi)return this.mergeKpi(c,C,y,S);if(!function(m){return a.f.assertValue(m,"contract"),!!m.kpiValue}(y))return this.mergeProperty(c,C,y,S)}var m}mergeProperty(c,C,y,S){var h=S.findVms(C.name,y.name,t.PO.Property);if(h=_.filter(h,b=>!b.isExtension),_.isEmpty(h))h=[this.factory.convertConceptualProperty(y,C,c)];else for(var E of h){E.contract=y,E.schema=C;var u=new d.c(E.children);for(var f of(0,g.Xj)(y))u.add(this.mergeVariationHierarchy(E,C,f));E.children=u.merge()}return h}mergeVariationHierarchy(c,C,y){var S=_.find(c.children,h=>h instanceof t.Jg&&h.variation===y.name);return S?this.updateHierarchyVm(c.entity,S,y.defaultHierarchy,C):S=this.factory.convertConceptualVariationHierarchy(y,C,c),S}mergeExtensionMeasure(c,C,y,S){var h=S.findVms(C.name,y.name,t.PO.Property);return h=_.filter(h,E=>E.isExtension),_.isEmpty(h)?h=[this.factory.convertConceptualExtensionMeasure(y,C,c)]:_.forEach(h,E=>{E.contract=y,E.schema=C}),h}mergeKpi(c,C,y,S){var h=S.findVms(C.name,y.name,t.PO.Kpi);if(_.isEmpty(h))h=[this.factory.convertConceptualKpi(y,C,c)];else for(var E of h){E.contract=y,E.schema=C;var u=new d.c(E.kpiMeasures);u.add(this.mergeKpiMeasure(C,E,y,i.oo.Value)),y.measure.kpi.goal&&u.add(this.mergeKpiMeasure(C,E,y.measure.kpi.goal,i.oo.Goal)),y.measure.kpi.status&&u.add(this.mergeKpiMeasure(C,E,y.measure.kpi.status,i.oo.Status)),y.measure.kpi.trend&&u.add(this.mergeKpiMeasure(C,E,y.measure.kpi.trend,i.oo.Trend)),E.kpiMeasures=_.some(u,f=>null===f)?this.factory.convertConceptualKpi(y,C,c).kpiMeasures:u.merge()}return h}mergeKpiMeasure(c,C,y,S){var h=_.find(C.kpiMeasures,E=>E.kpiType===S);return h?(h.contract=y,h.schema=c,h):null}mergeHierarchy(c,C,y,S){var h=S.findVms(C.name,y.name,t.PO.Hierarchy);if(_.isEmpty(h)){var E=this.factory.convertConceptualHierarchy(y,C,c);_.some(this.schemaChanges,f=>f.hierarchyCreate&&f.hierarchyCreate.entity===c.name&&f.hierarchyCreate.name===E.name)&&(E.expanded=!0),h=[E]}else for(var u of h)this.updateHierarchyVm(c,u,y,C);return h}updateHierarchyVm(c,C,y,S){C.contract=y,C.schema=S;var h=_.keyBy(C.hierarchyLevels,b=>b.name),E=new d.c(C.hierarchyLevels);for(var u of y.levels){var f=this.mergeHierarchyLevel(c,C,S,u,h);E.add(f)}C.hierarchyLevels=E.merge()}mergeHierarchyLevel(c,C,y,S,h){var E=this.findHierarchyLevel(c,C,y,S,h);return E?(E.contract=S.column,E.hierarchyLevelContract=S,E.schema=y):E=this.factory.convertConceptualHierarchyLevel(S,y,C),E}findHierarchyLevel(c,C,y,S,h){var E=S.name,u=_.find(this.schemaChanges,f=>f.hierarchyLevelRename&&f.hierarchyLevelRename.entity===c.contract.name&&f.hierarchyLevelRename.hierarchy===C.contract.name&&f.hierarchyLevelRename.after===E);return u&&(E=u.hierarchyLevelRename.before),h[E]}}function v(m,c,C,y,S,h,E){return new o(C,new r.N,S,h,E,y).mergeFieldList(m,c)}},546205:function(ve,j,e){e.d(j,{CU:function(){return c},MM:function(){return d},WF:function(){return p},Xj:function(){return h},fn:function(){return l},jM:function(){return v},nX:function(){return g},uU:function(){return n},ve:function(){return o}});var r=e(650543),i=e(833059),a=e(221737),t=e(617793);function l(E){return _.find(E,u=>!u.hidden)&&!_.find(E,u=>!u.hidden&&u.kind!==i.NT.Measure&&u.kind!==i.NT.Kpi)}function g(E){var u={entities:{}};for(var f of E)if((0,t.p1)(f)){var b=f.extends;for(var V of f.entities)if((0,t.p1)(V)){var T={schema:f,entity:V},P=(0,t.U)(b,V.name),D=u.entities[P];D?D.push(T):u.entities[P]=D=[T]}}return u}function n(E){var u=_.filter(E,b=>!(0,t.p1)(b)),f=_.filter(E,b=>(0,t.p1)(b));return _.union(u,f)}function p(E){var u=E.properties,f=[];for(var b of u)s(f,b);E.properties=f}function s(E,u){if(r.f.assertValue(E,"properties"),r.f.assertValue(u,"property"),E.push(u),(u instanceof a.NJ||u instanceof a.Jg||u instanceof a.Tl)&&!_.isEmpty(u.properties))for(var f of u.properties)s(E,f)}function d(E){E&&E.sort((u,f)=>o(u.displayName,f.displayName))}function o(E,u){return E=(E||"").toLocaleUpperCase(),u=(u||"").toLocaleUpperCase(),E.localeCompare(u)}function v(E,u){if(!_.isEmpty(E)){var f={};m(u,f),_.remove(E,b=>b.fieldType!==a.PO.DisplayFolder&&f[b.name])}}function m(E,u){if(!_.isEmpty(E)){var f=[];for(var b of E)for(var V of b.children)V.fieldType===a.PO.DisplayFolder?f.push(V):u[V.name]=V;m(f,u)}}function c(E){var u=[];C(E.properties,u),E.properties=u}function C(E,u){for(var f of E)u.push(f),f.fieldType===a.PO.DisplayFolder&&C(f.children,u)}function h(E){var u=[];if(E.column&&E.column.variations)for(var f of E.column.variations){var b=f.navigationProperty.targetEntity,V=f.defaultHierarchy;b&&b.hierarchies&&V&&!V.hidden&&u.push(f)}return u}},617793:function(ve,j,e){function r(t,l){return JSON.stringify({e:l})}function i(t){return t.hasOwnProperty("extends")}function a(t){return t.isAbandoned}e.d(j,{U:function(){return r},jX:function(){return a},p1:function(){return i}})},289747:function(ve,j,e){e.d(j,{Hh:function(){return b},op:function(){return P}});var r=e(60978),i=e(164397),a=e(999787),t=e(324569),l=e(214716),g=e(758304),n=e(661214),p=e(566779),s=e(650543),d=e(630881),o=e(621083),v=e(833059),m=e(281210),c=e(726988),C=e(810331),y=e(604481),S=e(442407),h=e(6655),E=e(832573),u=e(619538),f=e(509247);function b(M,A,R,B,N,W,F,U,O){var x=new V(M,N,W,A,R,B,F,U,O);return(0,c.Vn)((0,C.Q)(M),x)??[]}class V{constructor(A,R,B,N,W,F,U,O,x){this.sqExpr=A,this.dataRoleKind=R,this.requiredTypes=B,this.schema=N,this.aggrOps=W,this.hasHierarchyLevels=F,this.localizationService=U,this.forceAggregateItems=O,this.aggregatesConstraint=x}visitEntity(A){return this.createMenuItems(this.sqExpr)}visitColumn(A){return this.createMenuItems(this.sqExpr)}visitColumnAggr(A){return this.createMenuItems(this.sqExpr)}visitGroupingColumn(A){return this.createMenuItems(this.sqExpr)}visitGroupingColumnAggr(A){return this.createMenuItems(this.sqExpr)}visitColumnHierarchyVariation(A){return this.createMenuItems(this.sqExpr)}visitColumnHierarchyLevelVariation(A){return this.createMenuItems(this.sqExpr)}visitColumnSubquery(A){return[]}visitColumnAggrSubquery(A){return[]}visitColumnTransformRef(A){return[]}visitEntityAggr(A){return this.createMenuItems(this.sqExpr)}visitHierarchy(A){return this.createMenuItems(this.sqExpr)}visitHierarchyLevel(A){return this.createMenuItems(this.sqExpr)}visitHierarchyLevelAggr(A){return this.createMenuItems(this.sqExpr)}visitMeasure(A){return[]}visitPercentOfGrandTotal(A){return this.createMenuItemsForPercentOfTotal((0,y.og)(A.baseExpr))}visitPercentOfRoleTotal(A){return this.createMenuItemsForPercentOfTotal((0,y.og)(A.baseExpr))}visitPercentile(A){return[]}visitSelectRef(A){return[]}visitFilteredEval(A){return this.createMenuItems((0,y.og)(A.baseExpr))}visitArithmetic(A){return[]}visitConstant(A){return s.f.assertFail("FieldWellMenuViewModelFactory - Not expecting to be called"),[]}visitSparklineData(A){return[]}visitNativeVisualCalc(A){return[]}createMenuItemsForPercentOfTotal(A){var R=(0,h.n)(A,this.schema)?.getMetadata(this.schema);if(!R)return[];var B=R.type;return this.createMenuItems(A,B.text||B.dateTime||B.duration?[a.B8.Min,a.B8.Max]:[])}createMenuItems(A,R=[]){var B=[];if(!this.hasHierarchyLevels&&_.isEmpty(A.validate(this.schema,this.aggrOps))&&!E.m.discourageAggregation(A,this.schema)){var W=this.dataRoleKind===d.DW.GroupingOrMeasure,F=this.dataRoleKind!==d.DW.Grouping||this.forceAggregateItems?this.aggrOps.getSupportedAggregates(A,this.schema,this.requiredTypes):[];for(var O of(_.isEmpty(this.aggregatesConstraint)||(F=_.intersection(F,this.aggregatesConstraint)),F=_.difference(F,R),(W&&!function(M,A){return M.getConceptualProperty(A)?.kind===v.NT.Measure}(A,this.schema)&&!function(M,A){return!!(0,C.Q)(M,A)?.entityAggr}(A,this.schema)||this.forceAggregateItems&&!_.isEmpty(F))&&B.push({key:{action:i.EI.RemoveAggregate},text:this.localizationService.get("FieldWell_RemoveAggregate")}),F))B.push({key:{action:i.EI.SetAggregate,aggregate:O},text:this.localizationService.get("Aggregate_"+(0,l.z)(O,(0,h.n)(this.sqExpr,this.schema).getMetadata(this.schema)))})}return B}visitTransformOutputRoleRef(A){return[]}}class T{constructor(A,R,B,N,W,F,U,O,x,I,L,K,z,H,J){if(this.property=A,this.bucket=R,this.buckets=B,this.dataRole=N,this.forceAggregateItems=W,this.schema=F,this.aggrOps=U,this.visual=O,this.featureSwitchService=x,this.groupingDesignStateService=I,this.showValueAsService=L,this.localizationService=K,this.visualContainer=z,this.visualCalcEagerService=H,this.explorationCapabilitiesService=J,this.menuItems=[],this.conditionalFormattingOptions=[],this.supportedOperations=this.property.supportedOperations??i.EI.All,this.supports(i.EI.Delete)&&this.addItems([{key:{action:i.EI.Delete},text:this.localizationService.get("FieldWell_Remove")}],!1),this.property.interactivityOptions.isEditableField&&this.supports(i.EI.Rename)&&this.addItems([{key:{action:i.EI.Rename},text:this.localizationService.get("FieldWell_RenameForThisVisual")}],!1),this.supports(i.EI.SubMenu)){var k=(0,n.II)(this.visualContainer);!k&&this.bucket.properties.length>1&&this.addItems([this.createMoveGroupMenuItem()],!1),!k&&this.buckets.length>1&&this.supports(i.EI.MoveBucket)&&this.addItems([{key:{action:i.EI.SubMenu},text:this.localizationService.get("ItemAction_MoveTo"),children:this.buckets.filter(G=>!this.bucket.equals(G)).map(G=>({type:o.UI.Item,text:G.displayName,key:{action:i.EI.MoveBucket,moveFieldBucketOptions:{role:G.role,targetIndex:G.properties?.length??0,displayName:G.displayName}},disabled:G.disabled}))}],!1)}this.visual&&(this.conditionalFormattingOptions=(this.property.conditionalFormattingRepetitions??[]).map(G=>({repetition:G,propertyDefinition:(0,p.OT)(this.visual.objects,G)})))}visitEntity(A){return s.f.assertFail("Did not expect FieldExprEntityPattern in field well"),this.menuItems}visitColumn(A){return this.supports(i.EI.SetConditionalFormatting)&&this.addConditionalFormattingMenuItems(),this.supports(i.EI.SetAggregate)&&this.addAggregateMenuItems(),this.supports(i.EI.SetShowValueAs)&&this.addShowValueAsMenuItem(A.schema),this.supports(i.EI.NewQuickCalc)&&this.addQuickCalcMenuItem(A.schema),this.supports(i.EI.ShowAll)&&this.addShowAllMenuItem(),this.supports(i.EI.RestoreHierarchy)&&this.addHierarchiesMenuItems(),this.supports(i.EI.SetVariation)&&this.addVariationsMenuItems(A),this.supports(i.EI.SetGroups)&&this.addGroupsMenuItems(A),this.addFieldParameterMenuItems(),this.menuItems}visitColumnAggr(A){return this.supports(i.EI.AddSparklines)&&this.addSparklineMenuItem(A.schema),this.supports(i.EI.SetConditionalFormatting)&&this.addConditionalFormattingMenuItems(),this.supports(i.EI.SetAggregate)&&this.addAggregateMenuItems(),this.supports(i.EI.SetShowValueAs)&&this.addShowValueAsMenuItem(A.schema),this.supports(i.EI.NewQuickCalc)&&this.addQuickCalcMenuItem(A.schema),this.supports(i.EI.ShowAll)&&this.addShowAllMenuItem(),this.supports(i.EI.RestoreHierarchy)&&this.addHierarchiesMenuItems(),this.supports(i.EI.SetVariation)&&this.addVariationsMenuItems(A),this.addFieldParameterMenuItems(),this.menuItems}visitGroupingColumn(A){return this.addConditionalFormattingMenuItems(),this.addAggregateMenuItems(),this.addShowValueAsMenuItem(A.schema),this.addQuickCalcMenuItem(A.schema),this.addShowAllMenuItem(),this.addHierarchiesMenuItems(),this.addVariationsMenuItems(A),this.addGroupsMenuItems(A),this.menuItems}visitGroupingColumnAggr(A){return this.addSparklineMenuItem(A.schema),this.addConditionalFormattingMenuItems(),this.addAggregateMenuItems(),this.addShowValueAsMenuItem(A.schema),this.addQuickCalcMenuItem(A.schema),this.addShowAllMenuItem(),this.addHierarchiesMenuItems(),this.addVariationsMenuItems(A),this.menuItems}visitColumnHierarchyVariation(A){return s.f.assertFail("Did not expect columnHierarchyVariation in field well for now"),this.menuItems}visitColumnHierarchyLevelVariation(A){return this.addAggregateMenuItems(),this.addShowValueAsMenuItem(A.source.schema),this.addQuickCalcMenuItem(A.source.schema),this.addShowAllMenuItem(),this.addHierarchiesMenuItems(),this.menuItems}visitColumnSubquery(A){return s.f.assertFail("Should not be called"),this.menuItems}visitColumnAggrSubquery(A){return s.f.assertFail("Should not be called"),this.menuItems}visitColumnTransformRef(A){return s.f.assertFail("Should not be called"),this.menuItems}visitEntityAggr(A){return this.addAggregateMenuItems(),this.addShowValueAsMenuItem(A.schema),this.addQuickCalcMenuItem(A.schema),this.addShowAllMenuItem(),this.menuItems}visitHierarchy(A){return this.addAggregateMenuItems(),this.addShowValueAsMenuItem(A.schema),this.addShowAllMenuItem(_.head(this.property.hierarchyLevels).expr),this.addHierarchiesMenuItems(),this.menuItems}visitHierarchyLevel(A){return this.addAggregateMenuItems(),this.addShowValueAsMenuItem(A.schema),this.addQuickCalcMenuItem(A.schema),this.addShowAllMenuItem(),this.addHierarchiesMenuItems(),this.menuItems}visitHierarchyLevelAggr(A){return this.addSparklineMenuItem(A.schema),this.addConditionalFormattingMenuItems(),this.addAggregateMenuItems(),this.addShowValueAsMenuItem(A.schema),this.addQuickCalcMenuItem(A.schema),this.addShowAllMenuItem(),this.menuItems}visitMeasure(A){return this.addSparklineMenuItem(A.schema),this.addConditionalFormattingMenuItems(),this.addShowValueAsMenuItem(A.schema),this.addQuickCalcMenuItem(A.schema),this.addShowAllMenuItem(),this.menuItems}visitPercentile(A){return this.addConditionalFormattingMenuItems(),this.menuItems}visitSelectRef(A){return[]}visitTransformOutputRoleRef(A){return[]}visitPercentOfGrandTotal(A){return this.addPercentTotalMenuItems(A.baseExpr)}visitPercentOfRoleTotal(A){return this.addPercentTotalMenuItems(A.baseExpr)}visitFilteredEval(A){return this.addFilteredEvalMenuItems()}visitArithmetic(A){return this.menuItems}visitNativeVisualCalc(A){return this.featureSwitchService.featureSwitches.conditionalFormattingVisualCalculation&&this.addConditionalFormattingMenuItems(),this.addEditVisualCalcMenuItems(),this.menuItems}visitConstant(A){return s.f.assertFail("FieldWellMenuViewModelFactory - Not expecting to be called"),this.menuItems}visitSparklineData(A){return this.featureSwitchService.featureSwitches.sparklines&&this.addItems([{key:{action:i.EI.EditSparklines},text:this.localizationService.get("Sparkline_EditOption")}]),this.menuItems}supports(A){return(this.supportedOperations&A)===A}get conceptualProperty(){return this.property.expr.getConceptualProperty(this.schema)}get projections(){return this.visual.query?.projections[this.property.role]}hasGroupByItems(){return(0,n._9)(this.visual.query)}hasVisualCalcOrHiddenFields(){return(0,n.ZB)([this.visualContainer])}addItems(A,R=!0){_.isEmpty(A)||(R&&this.menuItems.push({type:o.UI.Separator}),this.menuItems.push(...A.map(B=>({...B,type:o.UI.Item}))))}addEditVisualCalcMenuItems(){(0,r.jX)(this.property.expr)&&this.visualCalcEagerService.isVisualCalcAuthoringEnabled()&&this.addItems([this.createEditCalculationMenuItem()])}createEditCalculationMenuItem(){var A={key:{action:i.EI.EditVisualCalculation},text:this.localizationService.get("FieldWell_EditVisualCalculation")};if(null!=this.visual.query){var B=this.projections,W=B.convertFieldIndexToProjectionIndex(this.property.startIndex),F=B.all()[W];A.disabled=this.explorationCapabilitiesService?.getCapabilities()?.disableVisualCalcAuthoring||this.visualCalcEagerService.shouldDisableEditing(F.queryRef,this.visualContainer)}return A}addFieldParameterMenuItems(){this.conceptualProperty&&(this.supports(i.EI.ConvertColumnToParameter)?this.addItems([{key:{action:i.EI.ConvertColumnToParameter},text:this.localizationService.get("FieldParameter_ConvertColumnToParameter"),...this.getDisabledAndTooltipForVisualCalcScenarios("FieldParameter_ConvertColumnToParameter_Disabled_For_VCEM","FieldParameter_ConvertColumnToParameter_Disabled_For_VC_Hidden")}]):this.supports(i.EI.ConvertParameterToColumn)&&this.addItems([{key:{action:i.EI.ConvertParameterToColumn},text:this.localizationService.get("FieldParameter_ConvertParameterToColumn")}]))}addFilteredEvalMenuItems(){return this.addAggregateMenuItems(),this.menuItems}addPercentTotalMenuItems(A){var R=(0,y.og)(A);return this.addConditionalFormattingMenuItems(R),this.addAggregateMenuItems(),this.addShowValueAsMenuItem((0,c.J1)(A)),this.addShowAllMenuItem(R),this.addHierarchiesMenuItems(),this.addVariationsMenuItems((0,c.$s)(A)),this.menuItems}addAggregateMenuItems(){this.addItems(b(this.property.expr,this.schema,this.aggrOps,!_.isEmpty(this.property.hierarchyLevels),this.dataRole.kind,this.dataRole.requiredTypes,this.localizationService,this.forceAggregateItems),!0)}addConditionalFormattingMenuItems(A){if(!_.isEmpty(this.conditionalFormattingOptions)&&(A??this.property.expr).getMetadata(this.schema)&&!this.hasGroupByItems()){this.addItems([{text:this.localizationService.get("FieldWell_ConditionalFormatting"),children:this.conditionalFormattingOptions.map(F=>this.createConditionalFormattingMenuItem(F.repetition.propertyDescriptor.displayName,i.EI.SetConditionalFormatting,F))}]);var R={type:o.UI.Item};if(R.text=this.localizationService.get("FieldWell_RemoveConditionalFormatting"),this.menuItems.push(R),!_.some(this.conditionalFormattingOptions,F=>null!=F.propertyDefinition))return void(R.disabled=!0);var N=R.children=[];for(var W of(N.push(this.createConditionalFormattingMenuItem((0,m.V)("All"),i.EI.RemoveConditionalFormattingAll)),this.conditionalFormattingOptions))N.push({...this.createConditionalFormattingMenuItem(W.repetition.propertyDescriptor.displayName,i.EI.RemoveConditionalFormatting,W),disabled:null==W.propertyDefinition})}}createConditionalFormattingMenuItem(A,R,B){return{type:o.UI.Item,key:{action:R,conditionalFormattingOptions:B},text:(0,m.G)(A,this.localizationService)}}addShowAllMenuItem(A){var R=(0,f.k)(A??this.property.expr);this.hasGroupByItems()||(this.dataRole.kind===d.DW.Grouping||this.dataRole.kind===d.DW.GroupingOrMeasure&&!R)&&this.addItems([{key:{action:i.EI.ShowAll},text:this.localizationService.get("FieldWell_ShowAll"),disabled:this.hasVisualCalcOrHiddenFields(),tooltip:this.hasVisualCalcOrHiddenFields()?this.localizationService.get("FieldWell_ShowAll_DisabledTooltip_For_VC_Hidden"):void 0}])}addHierarchiesMenuItems(){if(!_.isEmpty(this.property.hierarchyLevels)){var A=_.head(this.property.hierarchyLevels),R=(0,u.wA)(this.schema,A.expr.arg);R instanceof Array&&R.length===this.property.hierarchyLevels.length||this.bucket.supportsMultipleItems&&this.addItems([{key:{action:i.EI.RestoreHierarchy},text:this.localizationService.get("FieldWell_RestoreHierarchy")}])}}addShowValueAsMenuItem(A){if(_.isEmpty(this.property.hierarchyLevels)&&this.conceptualProperty){var R=this.schema.schema(A),B=R&&R.capabilities.supportsScopedEval;if(!this.hasGroupByItems()&&B&&this.dataRole.kind!==d.DW.Grouping){var W=this.showValueAsService.createShowValueAsMenuItems(this.property.expr,this.schema,this.visual.visualType);_.isEmpty(W)||this.addItems([{key:{action:i.EI.SetShowValueAs},text:this.localizationService.get("FieldWell_ShowValueAs"),children:W}])}}}addQuickCalcMenuItem(A){if(this.conceptualProperty){var R=this.schema.schema(A);(R&&R.capabilities.canEdit&&!R.isExtensionSchema||this.canAuthorReportMeasuresOnSchema(R))&&this.addItems([{key:{action:i.EI.NewQuickCalc},text:this.localizationService.get("QuickCalc_NewMeasure")}])}}canAuthorReportMeasuresOnSchema(A){return A.capabilities.isExtendable||A.isExtensionSchema}addSparklineMenuItem(A){if(this.featureSwitchService.featureSwitches.sparklines&&this.dataRole.supportsSparklines){var R=this.schema.schema(A);!R||!R.capabilities.supportsSparklineData||this.addItems([{key:{action:i.EI.AddSparklines},text:this.localizationService.get("Sparkline_AddOption"),...this.getDisabledAndTooltipForVisualCalcScenarios("Sparkline_AddOption_Disabled_For_VCEM","Sparkline_AddOption_Disabled_For_VC_Hidden")}])}}addVariationsMenuItems(A){if(A){var R=(0,y.tg)(A),B=R.getConceptualProperty(this.schema);if(B){var N=B.column;if(N&&!_.isEmpty(N.variations)){var W=(0,S.nw)(A.schema,A.entity),F={text:B.displayName,key:{action:i.EI.SetVariation,variationExpr:R}},U=[];for(var O of N.variations){var x=O.navigationProperty?.targetEntity;if(x){if(this.dataRole.kind!==d.DW.Measure)for(var I of _.filter(x.hierarchies,z=>!z.hidden))U.push({key:{action:i.EI.SetVariation,variationExpr:(0,S.bT)((0,S.yU)(W,O.name,B.name),I.name)},text:I.name});var L=(0,S.nw)(W.schema,x.name);for(var K of _.filter(x.properties,z=>!z.hidden))U.push({key:{action:i.EI.SetVariation,variationExpr:(0,S.Oh)(L,K.name)},text:K.displayName})}}_.isEmpty(U)||this.addItems([F,...U])}}}}addGroupsMenuItems(A){var R=this.schema.schema(A.schema);if(!1!==(R&&R.capabilities.canEdit&&R.capabilities.supportsGrouping)){var W=[],F=this.conceptualProperty;this.featureSwitchService.featureSwitches.enableGroupAuthoring&&((0,g.X0)(this.schema,this.property.expr)&&!(this.property.hierarchyLevels&&this.property.hierarchyLevels.length>0)&&W.push({key:{action:i.EI.SetGroups},text:this.localizationService.get("ContextMenuItem_CreateGroups")}),(0,g.yl)(A.entity,F,this.groupingDesignStateService)&&W.push({key:{action:i.EI.EditGroups},text:this.localizationService.get("ContextMenuItem_EditGroups")})),(0,g.P2)(A.entity,F,this.groupingDesignStateService)&&W.push({key:{action:i.EI.EditClustering},text:this.localizationService.get("Clustering_EditClusters")}),this.addItems(W)}}getDisabledAndTooltipForVisualCalcScenarios(A,R){return this.visualContainer?.visibility===t.sB.VisualCalcEditing?{disabled:!0,tooltip:this.localizationService.get(A)}:this.hasVisualCalcOrHiddenFields()?{disabled:!0,tooltip:this.localizationService.get(R)}:{disabled:!1}}createMoveUpMenuItem(){var A={type:o.UI.Item};A.text=this.localizationService.get("ItemAction_Move_Up");var R={action:i.EI.MoveUp},B=this.findFieldPropertyIndexInBucket();if(B<=0)A.disabled=!0;else{var N=this.bucket.properties[B-1];R.moveFieldPropertyOptions={role:N.role,startIndex:N.startIndex,hierarchyLevelsLength:N.hierarchyLevels?N.hierarchyLevels.length:0}}return A.key=R,A}createMoveDownMenuItem(){var A={type:o.UI.Item};A.text=this.localizationService.get("ItemAction_Move_Down");var R={action:i.EI.MoveDown},B=this.findFieldPropertyIndexInBucket();if(B>=this.bucket.properties.length-1)A.disabled=!0;else{var N=this.bucket.properties[B+1];R.moveFieldPropertyOptions={role:N.role,startIndex:N.startIndex,hierarchyLevelsLength:N.hierarchyLevels?N.hierarchyLevels.length:0}}return A.key=R,A}createMoveToTopMenuItem(){var A={type:o.UI.Item};A.text=this.localizationService.get("ItemAction_Move_Top");var R={action:i.EI.MoveUp},B=this.bucket.properties[0];return this.property.equals(B)?A.disabled=!0:R.moveFieldPropertyOptions={role:B.role,startIndex:B.startIndex,hierarchyLevelsLength:B.hierarchyLevels?B.hierarchyLevels.length:0},A.key=R,A}createMoveToBottomMenuItem(){var A={type:o.UI.Item};A.text=this.localizationService.get("ItemAction_Move_Bottom");var R={action:i.EI.MoveDown},B=this.bucket.properties[this.bucket.properties.length-1];return this.property.equals(B)?A.disabled=!0:R.moveFieldPropertyOptions={role:B.role,startIndex:B.startIndex,hierarchyLevelsLength:B.hierarchyLevels?B.hierarchyLevels.length:0},A.key=R,A}findFieldPropertyIndexInBucket(){return _.findIndex(this.bucket.properties,A=>this.property.equals(A))}createMoveGroupMenuItem(){return{key:{action:i.EI.SubMenu},text:this.localizationService.get("ItemAction_Move"),children:[this.createMoveUpMenuItem(),this.createMoveDownMenuItem(),this.createMoveToTopMenuItem(),this.createMoveToBottomMenuItem()]}}}function P(M,A,R,B,N,W,F,U,O,x,I,L,K,z,H){return{items:(0,c.Vn)((0,C.Q)(M.expr),new T(M,A,R,B,N,W,F,U,O,x,I,L,K,z,H))}}},980977:function(ve,j,e){e.d(j,{L:function(){return v}});var r=e(60978),i=e(426313),a=e(333107),t=e(999787),l=e(928423),g=e(765959),n=e(442407),p=e(962238),s=e(220968),d=e(479265);class v{constructor(C){this.localizationService=C}fromFilterExpr(C,y,S,h){return C.accept(new m(this.localizationService,y,S,h))}}class m extends p.vq{constructor(C,y,S,h){super(),this.localizationService=C,this.schema=y,this.supportsCategorical=!0,this.context={isNegative:!1,allowNot:!0,logicalOperator:g.Fn.Undefined},this.formatter=S,this.field=h,this.fieldToIdentityVisitor=new d.H}visitColumnRef(C){if(null==this.field||(0,i.fS)(this.field,C))return this.createFilterCard(C);if(null!==this.field&&this.field instanceof n.vD&&this.schema){var y=this.field.accept(this.fieldToIdentityVisitor,this.schema);if(!_.isEmpty(y)&&1===y.length&&(0,i.fS)(y[0],C))return this.createFilterCard(C)}}visitGroupRef(C){if(null==this.field||(0,i.fS)(this.field,C))return this.createFilterCard(C)}visitMeasureRef(C){return this.createFilterCard(C)}visitAggr(C){return this.createFilterCard(C)}visitArithmetic(C){return this.createFilterCard(C)}visitHierarchyLevel(C){return this.supportsCategorical=!1,this.createFilterCard(C)}visitEntity(C){return this.createFilterCard(C)}visitIn(C){if(!C.table&&C.args&&1===C.args.length){C.args[0].accept(this);var y=this.filter;if(null==y&&null!=this.field)return this.createFilterCard(this.field);var S=this.context;for(var h of C.values)S.condition=new l.gP(S.isNegative?g.pg.IsNot:g.pg.Is),h[0].accept(this),y.conditions.push(S.condition);if(y.logicalOperator!==g.Fn.Undefined)return;return y.logicalOperator=S.isNegative?g.Fn.And:g.Fn.Or,y}}visitBetween(C){this.supportsCategorical=!1,C.arg.accept(this);var y=this.filter,S=this.context;if(S.condition=new l.gP(S.isNegative?g.pg.LessThan:g.pg.GreaterThanOrEqual),C.lower.accept(this)&&(y.conditions.push(S.condition),S.condition=new l.gP(S.isNegative?g.pg.GreaterThan:g.pg.LessThanOrEqual),C.upper.accept(this)&&(y.conditions.push(S.condition),y.logicalOperator===g.Fn.Undefined)))return y.logicalOperator=g.Fn.And,y}visitAnd(C){this.supportsCategorical=!1;var y=this.context,S=y.isNegative?g.Fn.Or:g.Fn.And;if(y.logicalOperator===g.Fn.Undefined)y.logicalOperator=S;else if(y.logicalOperator!==S)return;if(C.left.accept(this)&&C.right.accept(this))return this.filter}visitOr(C){var y=this.context,S=y.isNegative?g.Fn.And:g.Fn.Or;if(y.logicalOperator===g.Fn.Undefined)y.logicalOperator=S;else if(y.logicalOperator!==S)return;if(C.left.accept(this)&&C.right.accept(this))return this.filter}visitCompare(C){var y=this.context,S=this.getFilterOperator(C,y.isNegative);if(void 0!==S&&S!==g.pg.None){y.condition=new l.gP(this.getFilterOperator(C,y.isNegative));var h=y.allowNot;if(y.allowNot=!1,C.left.accept(this)&&C.right.accept(this)&&(C.right instanceof n.jz||C.right instanceof n.AC)){var E=this.filter;return E.conditions.push(this.context.condition),E.conditions.length>1&&E.logicalOperator===g.Fn.Undefined&&(E.logicalOperator=g.Fn.And),y.allowNot=h,y.condition=null,E}}}visitNot(C){var y=this.context,S=C.arg;if((S instanceof n.wU||S instanceof n.Xg||S instanceof n.I6||y.allowNot&&(S instanceof n.uV||S instanceof n.Cc||S instanceof n.ev||S instanceof n.fw||S instanceof n.v3))&&(y.isNegative=!y.isNegative,C.arg.accept(this)))return y.isNegative=!y.isNegative,this.filter}visitConstant(C){if(this.context.condition)return C.type.primitiveType!==a.M.Null&&(this.context.condition.value=new l.pQ(C.value,this.formatter)),this.filter}visitDateSpan(C){if(this.supportsCategorical=!1,C.unit===t.j1.Second||C.unit===t.j1.Day){var y=this.context,S=y.allowNot;y.allowNot=!1;var h=C.arg.accept(this);return y.allowNot=S,h}}visitContains(C){this.supportsCategorical=!1;var y=this.context;y.condition=new l.gP(y.isNegative?g.pg.DoesNotContain:g.pg.Contains);var S=y.allowNot;if(y.allowNot=!1,C.left.accept(this)&&C.right.accept(this)){var h=this.filter;return h.conditions.push(this.context.condition),y.allowNot=S,h}}visitStartsWith(C){this.supportsCategorical=!1;var y=this.context;y.condition=new l.gP(y.isNegative?g.pg.DoesNotStartWith:g.pg.StartWith);var S=y.allowNot;if(y.allowNot=!1,C.left.accept(this)&&C.right.accept(this)){var h=this.filter;return h.conditions.push(this.context.condition),y.allowNot=S,h}}getFilterOperator(C,y){switch(this.supportsCategorical=this.supportsCategorical&&C.comparison===t.uu.Equal,C.comparison){case t.uu.LessThan:return y?g.pg.GreaterThanOrEqual:g.pg.LessThan;case t.uu.LessThanOrEqual:return y?g.pg.GreaterThan:g.pg.LessThanOrEqual;case t.uu.GreaterThan:return y?g.pg.LessThanOrEqual:g.pg.GreaterThan;case t.uu.GreaterThanOrEqual:return y?g.pg.LessThan:g.pg.GreaterThanOrEqual;case t.uu.Equal:return(0,r.uR)(C.right)?y?g.pg.IsNotBlank:g.pg.IsBlank:(0,r.AW)(C.right)&&""===C.right.value?y?g.pg.IsNotEmptyString:g.pg.IsEmptyString:y?g.pg.IsNot:g.pg.Is}}createFilterCard(C){return this.filter||(this.filter=new s.d(C,this.localizationService),this.filter.supportsCategorical=this.supportsCategorical,this.filter.logicalOperator=this.context.logicalOperator),this.filter}}},371842:function(ve,j,e){e.d(j,{AW:function(){return l},KS:function(){return t},Yz:function(){return g},xy:function(){return i}});var r=e(650543),i=function(n){return n[n.PercentOfGrandTotal=0]="PercentOfGrandTotal",n[n.PercentOfRoleTotal=1]="PercentOfRoleTotal",n}({});class a{constructor(p,s,d,...o){r.f.assertValue(s,"nameResourceKey"),r.f.assertValue(d,"locService"),this.kind=p,this.name=d.format(s,o)}}class t extends a{constructor(p){super(void 0,"ShowValueAs_Calculation_None",p)}}class l extends a{constructor(p){super(i.PercentOfGrandTotal,"ShowValueAs_Calculation_PercentOfGrandTotal",p)}}class g extends a{constructor(p,s,d){super(i.PercentOfRoleTotal,"ShowValueAs_Calculation_PercentOfRoleTotal",p,d),this.roles=s}}},655788:function(ve,j,e){e.d(j,{j:function(){return i}});var r=e(650543);class i{constructor(t,l){r.f.assertValue(t,"contract"),r.f.assertValue(l,"state"),this._contract=t,this._state=l}get contract(){return this._contract}get readOnlyState(){return this._state}updateViewState(){this.updateViewStateCore(this._state)}updateViewStateCore(t){}}},300177:function(ve,j,e){e.d(j,{C:function(){return U},CL:function(){return f},Dz:function(){return I},EK:function(){return R},Ee:function(){return A},Iu:function(){return D},Jm:function(){return K},L2:function(){return J},T8:function(){return F},VR:function(){return w},_r:function(){return O},g4:function(){return H},gk:function(){return M},hx:function(){return P},lD:function(){return B},n5:function(){return k},oj:function(){return x},vi:function(){return W},yU:function(){return z},zv:function(){return L}});var r=e(638198),i=e(104816),a=e(324569),t=e(475507),l=e(270305),g=e(661214),n=e(844065),p=e(990297),s=e(650543),d=e(301336),o=e(144272),v=e(203428),m=e(20561),c=e(211703),C=e(873248),y=e(633157),S=e(827871),h=e(426313),E=e(348433),u=e(621083);function f(G,q,Q){var Z=!0,X=q&&q.featureSwitches.userFavoriteResourcePackagesEnabled&&G.custom&&Q.isFavoritePublicCustomVisual(G.name),re=q&&q.featureSwitches.userFavoriteResourcePackagesEnabled&&G.custom&&G.favoriteId||X,te=q&&q.featureSwitches.userFavoriteResourcePackagesEnabled&&G.custom&&!G.favoriteId&&!X,se=q&&q.featureSwitches.tenantOutOfBoxVisualsEnabled&&G.custom&&G.isOutOfBox,Ve=q&&q.featureSwitches.personalVisualizationPaneEnabled&&Q.isUnpinnedVisual(G.name);return(G.custom&&!se&&te||Ve&&!re)&&(Z=!1),Z}class b{constructor(q){this.sections=[],this.activeSection=y.G.Fields,this.previousSection=y.G.Fields,this.pagePaneSections=[],this.activePageSection=y.W.Fields,this.previousPageSection=y.W.Fields,this.title="Format",this.icon="PBIFormat",this.visualPluginFilter=(Q,Z,X)=>f(Q,Z,X),this.nonPersonalVisualizationPaneFilter=(Q,Z,X)=>!f(Q,Z,X),this.showCloseButton=q}get activeSectionIndex(){var q=_.findIndex(this.sections,Q=>Q.sectionType===this.activeSection);return-1!==q?q:0}get activePageSectionIndex(){var q=_.findIndex(this.pagePaneSections,Q=>Q.sectionType===this.activePageSection);return-1!==q?q:0}}var V="-",T="\\"+V;function P(){return{exploration:null,options:null,taskPane:{title:"Data",icon:"PBIData"},visualizationPane:A(),sectionStatus:{currentSectionNumber:-1,isEditing:!1},isNavPaneCollapsed:!0,performancePane:w("PerformanceAnalyzerPane_Title","PBIPerformanceAnalyzer","PerformanceAnalyzerPane_Close"),bookmarksPane:w("ExplorationBookmarksPane_Title","AudioBookmark","ExplorationBookmarksPane_Close"),canvasItemsPane:w("ExplorationCanvasItemsPane_Title","LaunchSelectionPane","ExplorationCanvasItemsPane_Close"),syncGroupPane:w("SyncGroupPane_Title","PBISyncSlicer","SyncGroupPane_Close"),insightsPane:w("Insights_TitleKey","PBIAnomalyExplain","InsightsPane_Close"),reflexPane:w("Reflex_Config_Title",void 0,"Reflex_Pane_Close"),quickExplorePane:w("Summarize"),quickMeasuresPane:w("QuickMeasure","PBINewQuickMeasure","QuickMeasuresPane_Close"),buildPane:w("Permission_Explore","PBIBuild"),suggestSkittlePane:w("Suggest_A_Visual","suggestLightningBolt"),chartElementsSkittlePane:w("Skittles_ChartElements_Title","PBIAddToChart"),assistedCreationPane:w("AssistedCreation_Pane_Title","addchartplaceholder","AssistedCreation_Pane_Close"),copilotPane:w("CopilotPaneEntryPoint_Title","Copilot"),customizePane:w("Customize","powermap_newtour")}}function D(G,q){var Q=(Z,X)=>({type:u.UI.Item,key:X,text:(0,E.h1)(q)?.get(Z)??Z});return{contract:G,selected:!1,displayName:G.displayName,menuItems:{items:[Q("Duplicate",v.fO.DuplicateSection),Q("Rename",v.fO.RenameSection),Q("Delete",v.fO.DeleteSection),Q("Hide",v.fO.ToggleVisibility),Q("Menu_MoveLeft",v.fO.MoveLeft),Q("Menu_MoveRight",v.fO.MoveRight),Q("Menu_MoveFront",v.fO.MoveToFront),Q("Menu_MoveEnd",v.fO.MoveToEnd)]}}}function w(G,q,Q){return{title:G,icon:q,closePaneLabel:Q}}function M(){return{title:"Data",icon:"PBIData"}}function A(G=!1){return new b(G)}function R(G,q,Q,Z,X,re){return B(_.filter(G,se=>se.custom),q,Q,Z,X,re)}function B(G,q,Q,Z,X,re){var te=[];for(var se of G)Z&&!Z(se,q,Q)||te.push((0,S.s_)(se,q,Q,X,re));return te}function N(G,q,Q){Q.hostServices={getFilters:(Z,X)=>Z.calculateVisualContainerFilter(G,q,Q.contract,X),getDataSourceVariables:()=>G.dataSourceVariables,getVisualRelationshipFilterAction:(Z,X,re)=>X.relationshipFilterAction(q,Z,Q.contract,re,!1),selectDataPoint:(Z,X,re,te,se,Ve)=>{Z.setFilterOnSelectData(G,X,q,Q.contract,re,te,se,Ve)},setVisualRelationshipFilterAction:(Z,X,re,te)=>te.setVisualRelationship(q,Z,X,re)}}function W(G,q,Q,Z,X){s.f.assertValue(G,"contract");var se,re=_.map(G.sections,Ue=>D(Ue,X)),te=G.sections;if(te&&te.length>0){var Ve=void 0!==Q?Q:0;if(Ve<te.length){se=F(G,te[Ve],q,Z);for(var ke=te.length-1;ke>=0;--ke)re[ke].selected=ke===Ve}}return{contract:G,sections:re,exploreCanvas:se}}function F(G,q,Q,Z){s.f.assertValue(q,"section");var X=new m.y(q,Q);if(q.visualContainers&&(X.visualContainers=(0,p.Br)(_(q.visualContainers).map(se=>x(se,Q,Z)).filter(se=>!!se).value()),X.visualContainerGroups=Q===r.D.PhonePortrait?[...X.visualContainers]:U(q.visualContainerGroups,X.visualContainers,Q,Z),!_.isEmpty(X.visualContainers))){var re=X.visualContainers;for(var te of re)N(G,q,te)}return X}function U(G,q,Q,Z){var X=[],re=function(se){if((0,t.Vz)(se)){var Ve=_.find(q,Ue=>Ue.contract===se);Ve&&X.push(Ve)}else{var ke=O(se,U(se.children,q,Q,Z));ke&&X.push(ke)}};for(var te of G)re(te);return X}function O(G,q,Q=r.D.Master){if(s.f.assertValue(G,"contract"),G.layouts.withId(Q)){var X=new C.IT(G,Q,q);for(var re of q)re.parentGroup=X;return X}}function x(G,q=r.D.Master,Q){s.f.assertValue(G,"contract");var Z=new n.Y,X=G.layouts.withId(q);if(X){var re=X.position;return Z.position({y:re.y,x:re.x}),Z.zIndex(re.z||0),Z.viewport({height:re.height,width:re.width}),new c.C(G,Z,q,Q)}}function I(G,q,Q,Z){var X=x(Q,Z);if(X)return N(G,q,X),X}function L(G,q=!0){return{isVisualVisible:!1,reportFilters:q?[]:null,pageFilters:[],drillthroughFilters:[],visualFilters:[],activeFilterPane:void 0,addFilterLabel:G.get("FieldDropZone_AddFields"),addDrillthroughFilterLabel:G.get("FieldDropZone_DrillthroughLink_Watermark")}}function K(G,q,Q,Z,X,re,te,se,Ve){s.f.assertValue(q,"visualContainer"),s.f.assertValue(Q,"schema");var ke=q.filters?.filter(me=>null!=me)||[],Ue=[],ot={container:q,scopeType:i.Gy.Visual},ft=(0,g.i4)(q,re,Q,se),Ct=(0,g.uy)(G,q,te,Q),Ke=me=>(0,o.fw)(me,Q,Z,ot,X,se,Ve,(0,g.cj)(q,X),q.config.singleVisual),Ae=function(me){var Oe=Ke(me);if(Ue.push(Oe),ft){if(me.expression&&!_.isEmpty(me.expression.validate(Q,se)))return 1;var xe=_.findIndex(ft,ye=>(0,h.fS)(ye.expression,me.expression));-1===xe?me.howCreated===a.OO.Auto&&(Oe.howCreated=me.howCreated=a.OO.User):(me.howCreated===a.OO.User&&(Oe.howCreated=me.howCreated=a.OO.Auto),me.howCreated!==a.OO.Drill&&ft.splice(xe,1))}};for(var we of ke)Ae(we);var Ne=Ct=Ct||[];if(Ne=Ne.concat(ft=ft||[]),_.isEmpty(ot.container.filters)&&(ot.container.filters=[]),ot.container.filters.push(...ft||[]),Ne)for(var Se of Ne){var Ie=Ke(Se);Ie.howCreated=Se.howCreated,Ue.push(Ie)}return Ue.sort(J),Ue}function z(G,q,Q,Z,X,re,te,se){var Ve=[];if(!G||!G.container||!G.container.filters)return Ve;for(var ke of G.container.filters)if(null==se||ke.howCreated===se){ke.name||(ke.name=l.l.getNextFilterName(G.container.filters));var Ue=(0,o.fw)(ke,q,Q,G,Z,X,re,te,null);Ve.push(Ue)}return Ve.sort(J),Ve}function H(G){return _.map(G,Q=>(0,d.ko)(Q,V,T)).join(V)}function J(G,q){var Q=G.getDisplayName()?-1:1,Z=q.getDisplayName()?-1:1;if(Q!==Z)return Q-Z;var X=G.getDisplayName()||G.getRestatement()||"",re=q.getDisplayName()||q.getRestatement()||"";return X.localeCompare(re)}function k(G,q){var Q=void 0===G.contract.ordinal?1:-1,Z=void 0===q.contract.ordinal?1:-1;return-1===Q&&-1===Z?G.contract.ordinal-q.contract.ordinal:Q-Z}},827871:function(ve,j,e){e.d(j,{Gf:function(){return n},YL:function(){return o},s_:function(){return p},tl:function(){return s}});var r=e(164397),i=e(10542),a=e(348433),t=e(181780),l=e(418431),g=e(281210);function n(v,m){return m=(0,a.h1)(m),(0,g.G)(v,m)}function p(v,m,c,C,y){var S=(y=(0,a.h1)(y)).get("AddToFavorites_ContextMenu"),h=y.get("RemoveFromFavorites_ContextMenu"),E=y.get("AboutVisualDialog_About"),u={plugin:v,enabled:!0,active:!1,menuItems:[]},f=s(v,C,y,m);u.class=f.class,u.title=f.title,f.watermarkKey&&(v.watermarkKey=f.watermarkKey);var b=m&&m.featureSwitches.userFavoriteResourcePackagesEnabled&&v.custom&&c.isFavoritePublicCustomVisual(v.name),V=m&&m.featureSwitches.userFavoriteResourcePackagesEnabled&&v.custom&&v.favoriteId||b,T=m&&m.featureSwitches.userFavoriteResourcePackagesEnabled&&v.custom&&!v.favoriteId&&!b,P=m&&m.featureSwitches.tenantOutOfBoxVisualsEnabled&&v.custom&&v.isOutOfBox,D=m&&m.featureSwitches.personalVisualizationPaneEnabled&&c.isUnpinnedVisual(v.name),w=m&&m.featureSwitches.personalVisualizationPaneEnabled&&!c.isUnpinnedVisual(v.name),M=null;v.custom&&V?M=d(h,r.og.RemoveFromFavorites):v.custom&&!P&&T?M=d(S,r.og.AddToFavorites):D?M=d(S,r.og.Restore):(!v.custom||P)&&w&&(M=d(h,r.og.Unpin)),M&&u.menuItems.push(M);var A=d(E,r.og.About);return u.menuItems.push(A),u.tooltipConfig={tooltipTitle:u.title,tooltipShowOnFocus:!0},u}function s(v,m,c,C){var y=o(v.name,v.titleKey,m,c,C),S=v.custom?v.displayName||v.name.match(/([A-z\s]+)/g)[0]:void 0;return y?(S&&(y.title=S),y):{class:v.class,title:S??v.name}}function d(v,m){return{text:v,hasGlyph:!1,labelClass:"visualContextMenu itemLabel",action:m,type:i.w.Item,checked:!1,hrefTarget:l.bS}}function o(v,m,c,C,y){var S=n(m,C=(0,a.h1)(C));switch(v){case t.L.table.name:case t.L.tableEx.name:return{class:"table",title:S};case t.L.matrix.name:case t.L.pivotTable.name:return{class:"matrix",title:S};case t.L.scatterChart.name:return{class:"scatter",title:S};case t.L.barChart.name:return{class:"columnHoriz",title:S};case t.L.clusteredBarChart.name:return{class:"clusteredBarHoriz",title:S};case t.L.hundredPercentStackedBarChart.name:return{class:"column100Horiz",title:S};case t.L.ribbonChart.name:return{class:"ribbon",title:S};case t.L.columnChart.name:return{class:"columnVert",title:S};case t.L.clusteredColumnChart.name:return{class:"clusteredBarVert",title:S};case t.L.hundredPercentStackedColumnChart.name:return{class:"column100Vert",title:S};case t.L.realTimeLineChart.name:case t.L.lineChart.name:return{class:"line",title:S};case t.L.areaChart.name:return{class:"area",title:S};case t.L.stackedAreaChart.name:return{class:"stackedArea",title:S};case t.L.hundredPercentStackedAreaChart.name:return{class:"stacked100AreaChart",title:S};case t.L.lineClusteredColumnComboChart.name:return{class:"lineClusteredColumnCombo",title:S};case t.L.lineStackedColumnComboChart.name:return{class:"lineStackedColumnCombo",title:S};case t.L.pieChart.name:return{class:"pie",title:S};case t.L.treemap.name:return{class:"tree",title:S};case t.L.map.name:return{class:"map",title:S};case t.L.filledMap.name:return{class:"filledMap",title:S};case t.L.azureMap.name:return{class:"azureMap",title:S};case t.L.shapeMap.name:return{class:"shapeMap",title:S};case t.L.funnel.name:return{class:"funnel",title:S};case t.L.gauge.name:return{class:"gauge",title:S};case t.L.multiRowCard.name:return{class:"card",title:S};case t.L.card.name:return{class:"calloutCard",title:S};case t.L.cardVisual.name:return{class:"cardVisual",title:S};case t.L.waterfallChart.name:return{class:"waterfall",title:S};case t.L.slicer.name:return{class:"slicerVert",title:S};case t.L.advancedSlicerVisual.name:return{class:"buttonSlicer",title:S};case t.L.textSlicer.name:return{class:"textSlicer",title:S};case t.L.listSlicer.name:return{class:"listSlicer",title:S};case t.L.donutChart.name:return{class:"donut",title:S};case t.L.kpi.name:return{class:"kpi",title:S};case t.L.scriptVisual.name:return{class:"rScriptImageVisual",title:S};case t.L.pythonVisual.name:return{class:"pythonImageVisual",title:S};case t.L.debugVisual?.name:return{class:"debugger",title:S};case t.L.textbox.name:return{class:"smartNarratives",title:S};case t.L.basicShape.name:case t.L.shape.name:case t.L.actionButton.name:case t.L.image.name:return{class:null,title:S};case t.L.keyDriversVisual.name:return{class:"keyDrivers",title:S};case t.L.qnaVisual.name:return{class:"qna",title:S};case t.L.decompositionTreeVisual.name:return{class:"decompositionTree",title:S};case t.L.scorecard.name:return{class:"scorecard",title:S};case t.L.rdlVisual.name:return{class:"rdlVisual",title:y?.featureSwitches.operationalReportStringTest?n((0,g.V)("Operational_Report"),C):S};case t.L.aiNarratives.name:return{class:"aiNarratives",title:S};default:if(c&&c.isTrustedVisual(v)){var h=c.getVisualTypeOptions(v);if(h)return{class:h.class,title:h.titleKey?C.get(h.titleKey):v,watermarkKey:h.watermarkKey}}return}}},392891:function(ve,j,e){e.d(j,{$Z:function(){return a}});var r=e(688467),i=e(213980);class a{constructor(s,d){this.featureSwitchService=d,s&&(this.color=s.color.solid.color,this.visible=s.show,this.radius=s.radius,this.width=s.width)}thickness(){return this.featureSwitchService.featureSwitches.visualBorderWidth?this.width??i.GC:i.GC}getNumericPaddingFromBorder(){return n(this.radius)}getBorderStyle(){if(this.visible){var s=(0,r.Et)(this.color,1);return`${this.thickness()}px `+t+" "+s}}getPaddingFromBorder(){var s=n(this.radius);if(this.visible)return`${s}px`}getBorderRadius(){if(this.visible)return`${this.radius||i.FJ}px`}}var t="solid",g=Math.sin(Math.PI/180*45);function n(p){return Math.ceil(p-p*g)}},211703:function(ve,j,e){e.d(j,{C:function(){return z}});var r=e(349672),i=e(203428),a=e(804574),t=e(118074),l=e(57738),g=e(31249),n=e(214492),p=e(324569),s=e(473736),d=e(461251),o=e(661214),v=e(844065),m=e(876713),c=e(992627),C=e(181780),y=e(859405),S=e(79365),h=e(759167),E=e(650543),u=e(418431),f=e(896286),b=e(837515),V=e(149222),T=e(293607),P=e(176219),D=e(630881),w=e(33199),M=e(562832),A=e(482693),R=e(524584),B=e(708398),N=e(156483),W=e(538459),F=e(655788),U=e(827871),x={key:void 0,defaultValue:!0,forceVisible:{[D.wO.Edit]:!0}},I={visualInformationButton:{...x,key:"showVisualInformationButton"},visualWarningButton:{...x,key:"showVisualWarningButton"},visualErrorButton:{...x,key:"showVisualErrorButton"},drillRoleSelector:{...x,key:"showDrillRoleSelector"},drillUpButton:{...x,key:"showDrillUpButton"},drillToggleButton:{...x,key:"showDrillToggleButton"},drillDownLevelButton:{...x,key:"showDrillDownLevelButton"},drillDownExpandButton:{...x,key:"showDrillDownExpandButton"},pinButton:{...x,key:"showPinButton"},filterRestatementButton:{...x,key:"showFilterRestatementButton"},focusModeButton:{...x,key:"showFocusModeButton"},copyVisualImageButton:{...x,key:"showCopyVisualImageButton"},seeDataLayoutToggleButton:{...x,key:"showSeeDataLayoutToggleButton"},optionsMenu:{...x,key:"showOptionsMenu"},commentButton:{...x,key:"showCommentButton"},tooltipButton:{key:"showTooltipButton",defaultValue:!1},personalizeVisualButton:{...x,key:"showPersonalizeVisualButton"},smartNarrativeButton:{key:"showSmartNarrativeButton",defaultValue:!1},setAlertButton:{key:"showSetAlertButton",defaultValue:!0},followVisualButton:{key:"showFollowVisualButton",defaultValue:!1}},K=function(H){return H[H.Uninitialized=0]="Uninitialized",H[H.Initialized=1]="Initialized",H}({}),z=(()=>{class H extends F.j{constructor(k,G,q,Q){super(k,{footerStyle:null,headerBackgroundStyle:null,headerForegroundStyle:null,headerItemContainerStyle:null,popOutBarSubtitle:"",popOutBarTitle:"",position:null,style:G,titleStyle:null,visualViewportStyle:null,visualStyle:null,subTitleStyle:null,visualsDividerStyle:null,visualTitleAreaStyle:null}),this.uiScale=R.U2,this.warningsSubject=new a.X([]),this.warnings$=this.warningsSubject.asObservable(),this.currentCanvasLayout=q,this.currentEditMode=D.Gt.Default,this.visualTitleWrapped=[],this.visualSubTitleWrapped=[],this.currentZone=Q,this.servicesState=K.Uninitialized}resolveDataAppliedEvent(){this.visual.dataAppliedEvent&&this.visual.dataAppliedEvent.resolve()}getRunningVisual(){return this.runningVisual}get errorInfo(){return this.runningVisual&&this.runningVisual.getErrorInfo()}set errorInfo(k){var G=this.getRunningVisual();G&&G.setErrorInfo(k)}get visualPausedWarning(){return this.visualPausedWarningModel}set visualPausedWarning(k){this.visualPausedWarningModel=k,this.regenerateWarnings();var G=this.getRunningVisual();G&&G.setHasPendingChanges(void 0!==k)}get featureNotSupportedWarning(){return this.featureNotSupportedWarningModel}set featureNotSupportedWarning(k){this.featureNotSupportedWarningModel=k,this.regenerateWarnings()}setThemeCollection(k){this.themeCollection=k,this.runningVisual&&this.runningVisual.setThemeCollection(k)}startResize(){this.originalPosition=this.position}getVisualType(){return(0,d.s)(this.contract)}static getVisualBodyOffset(k,G){return H.useStylableHeader(G)||k.canShowVisualContainerHeaderInset()?{top:0,height:0,width:0,left:0}:{top:this.VisualContainerHeaderHeight,height:-this.VisualContainerHeaderHeight,width:0,left:0}}get id(){return this.contract.id}get name(){return this.contract.name}get position(){return this.contract.layouts.withId(this.currentCanvasLayout).position}set position(k){this.contract.layouts.withId(this.currentCanvasLayout).position=k}getScaledPosition(k=!0){return this.convertToScaledPosition(this.position,k)}get editMode(){return this.currentEditMode}get headerTitleMaxLines(){return this.isTitleWrappingEnabled?3:1}get headerSubTitleMaxLines(){return this.isSubTitleWrappingEnabled?3:1}setEditMode(k){this.currentEditMode=k,(0,W.yY)(this.runningVisual,this.runningVisual.getViewport(),D.EP.ViewMode,this.visualHostServices,this.editMode)}getRunnableQuery(){var k=this;return(0,r.Z)(function*(){return k.runningVisual&&k.runningVisual.getRunnableQuery()})()}get isPositioned(){var k=this.position;return 0!==k.width&&0!==k.height}get isPoppedOut(){var k=this.contract.visibility;return null!=k&&k!==p.sB.None&&k!==p.sB.Spotlight&&k!==p.sB.Elevation}get bringToFront(){var k=this.contract.config.singleVisual.evaluatedObjects;return!k||!k.general||!k.general.keepLayerOrder}get isHidden(){return(0,n.xj)(this.contract.config.singleVisual)}get isTitleWrappingEnabled(){return this.visualTitle&&!!this.visualTitle.titleWrap}get isSubTitleWrappingEnabled(){return this.visualSubTitle&&!!this.visualSubTitle.titleWrap}visualTitleAreaVisible(){var k=this.contract.config.singleVisual,G=k.evaluatedObjects&&k.evaluatedObjects.title,q=this.visualPlugin&&this.visualPlugin.capabilities(k.visualType);return!(0,g.xj)(G,q&&q.suppressDefaultTitle)&&!this.isPoppedOut}visualTitleVisible(){if(this.isPoppedOut)return!1;var k=this.contract.config.singleVisual;if(!k)return!1;var G=this.visualPlugin&&this.visualPlugin.capabilities(k.visualType);if(!G)return!1;var q=this.visualTitle;return!(!q||!1===q.show||void 0===q.show&&G.suppressDefaultTitle||!q.text)}visualSubTitleVisible(){if(!this.featureSwitchService?.featureSwitches.vcPadding||this.isPoppedOut)return!1;var k=this.contract.config.singleVisual;if(!k)return!1;var G=this.visualPlugin&&this.visualPlugin.capabilities(k.visualType);if(!G)return!1;var q=this.visualTitle;if(!q)return!1;var Q=this.visualSubTitle;return!(!Q||!1===q.show||void 0===q.show&&G.suppressDefaultTitle||!Q.show||!Q.text)}visualDividerVisible(){var k=this.contract.config.singleVisual,G=k.evaluatedObjects&&k.evaluatedObjects.divider,q=k.evaluatedObjects&&k.evaluatedObjects.title,Q=this.visualPlugin&&this.visualPlugin.capabilities(k.visualType);return!(!this.featureSwitchService?.featureSwitches.vcPadding||!G||(0,g.Qy)(G)||(0,g.xj)(q,Q&&Q.suppressDefaultTitle)||this.isPoppedOut)}supportsKeyboardNavigation(){var G=this.visualPlugin&&this.visualPlugin.capabilities(this.contract.config.singleVisual.visualType);return G&&G.supportsKeyboardFocus}get supportsCustomPadding(){return this.featureSwitchService?.featureSwitches.vcPadding}setServices(k,G,q,Q,Z,X,re,te,se,Ve,ke,Ue,ot,ft,Ct,Ke,Ae,we,Ne,Se,Ie,me,Oe){E.f.assertValue(k,"visualHostServices"),E.f.assertValue(G,"visualPlugin"),E.f.assertValue(q,"visualPluginOps"),this.visualHostServices=(0,B.K)(k,ot),this.auxiliaryVisualHostServices=(0,B.K)(Oe??k,ot),this.visualAdapterHostServices=Ne,this.visualPlugin=G,this.visualPluginOps=q,this.viewModeState=Q,this.formFactor=Z,this.visibility=X,this.runningVisuals=re,this.explorationCapabilities=we,this.visualAuthoring=se,this.filterGenerator=ke,this.themeService=Ue,this.showClientWarnings=ft,this.queryServices=Ct,this.sortServices=Ke,this.selectionServices=Ae,this.dataViewServices=Se,this.servicesState=K.Initialized,this.bodyScaleChanged=Ie,this.featureSwitchService=te,this.localizationService=Ve,this.pauseQueriesService=me}setSelected(k){this.isSelected=k}handleKeyDown(k){var G=function(H){switch(H.keyCode){case u.mW.f11KeyCode:return H.altKey&&H.shiftKey?i.d9.FullScreen:void 0;case u.mW.fKeyCode:return V.M.isCtrlOrMeta(H)?i.d9.Search:void 0}}(k);switch(G){case i.d9.FullScreen:this.visibility.set(this.contract,p.sB.MaximizeWithDataAccessible);break;case i.d9.Search:this.toggleVisualSearch(k)}if(this.shouldHandleKeydown(k)){if(this.isTextboxVisual()){var Q=this.getTextboxVisual();return Q&&Q.focus()}if(this.isContractQnaVisual()){var Z=this.getQnaVisual();if(Z)return Z.focus()}}}toggleVisualSearch(k){if(this.contract&&this.contract.config&&this.contract.config.singleVisual){var q=this.visualPlugin&&this.visualPlugin.capabilities(this.contract.config.singleVisual.visualType);q&&this.filterGenerator.tryGetSelfFilterEnabledProperty(q)&&(this.visualAuthoring.toggleSlicerVisualSearch(this.contract,this.filterGenerator,this.visualPlugin),k.preventDefault(),k.stopPropagation())}}shouldHandleKeydown(k){if(!this.runningVisual||this.viewModeState.getMode()===D.wO.View)return!1;var G=k.keyCode;if((0,T.Wl)(G)||(0,T.SF)(G)||u.mW.escKeyCode===G||u.mW.tabKeyCode===G||u.mW.altKeyCode===G||u.mW.enterKeyCode===G||V.M.isCtrlOrMeta(k))return!1;var q=this.contract.toolbar&&this.contract.toolbar.element;return!(q&&(0,l.y)(q))}setVisualTitle(k){this.visualTitle=k;var G="";k&&(_.isEmpty(this.readOnlyState.popOutBarSubtitle)&&k.titleComponents&&k.titleComponents.subtitle?(this.readOnlyState.popOutBarSubtitle=k.titleComponents.subtitle,k.titleComponents&&k.titleComponents.title?G=k.titleComponents.title:k.text&&(G=k.text)):k.text?G=k.text:k.titleComponents&&k.titleComponents.title&&(G=k.titleComponents.title)),this.readOnlyState.popOutBarTitle=G}setVisualSubTitle(k){this.visualSubTitle=k;var G="";k&&k.text&&(G=k.text),this.readOnlyState.popOutBarSubtitle=G}setTooltip(){var k=(0,d.s)(this.contract),G=this.getVisualLinkTypeLabel(k)||"",q=this.visualPlugin?.capabilities(k)?.ariaRole,Q=this.visualPlugin&&this.visualPlugin.getPlugin(k);if(Q){var Z=this.ariaMetadata&&this.ariaMetadata.subtitleDisplayNameGetter,X=Z?` ${(0,U.Gf)(Z,this.localizationService)}`:"";k=(0,U.s_)(Q,void 0,void 0,void 0,this.localizationService).title+X}var te=this.visualTitle,se=void 0!==te?.text&&`${te.text} `||"",Ve=this.visualSubTitle,ke=void 0!==Ve?.text&&`${Ve.text} `||"",Ue=this.contract.config.singleVisual,ot=Ue.evaluatedObjects&&Ue.evaluatedObjects.general&&Ue.evaluatedObjects.general.altText?` ${Ue.evaluatedObjects.general.altText}`:"";this.tooltip=`${se}${G}${k}${ot}`,this.ariaLabel=`${se}${ke}${G}${ot}`,this.ariaRole=w.e.Group,this.ariaRoleDescription=q??k,this.ariaRoleDescription&&"table"===this.ariaRoleDescription.trim().toLowerCase()&&(this.ariaRoleDescription="")}getVisualLinkTypeLabel(k){var G=this.visualPlugin&&this.visualPlugin.capabilities(k);if(G&&G.supportsVisualLink){var q=this.contract.config.singleVisual,Q=q.evaluatedObjects&&q.evaluatedObjects.visualLink;if(Q&&Q.show){var Z=(0,n.oL)(Q),X=_.find(s.Zg.members(),re=>re.value===Z).displayName;return`${(0,U.Gf)(X,this.localizationService)} `}}}setHeaderTooltip(){var k=this.contract.config.singleVisual,G=k.evaluatedObjects&&k.evaluatedObjects.visualHeader,q=k.evaluatedObjects&&k.evaluatedObjects.visualHeaderTooltip;this.headerTooltip=G&&G.showTooltipButton&&q?q:void 0}redrawVisual(){this.runningVisual&&(0,W.yY)(this.runningVisual,this.runningVisual.getViewport(),D.EP.Resize,this.visualHostServices,this.editMode)}updateVisualViewportForUserResize(k){var G=this.themeService&&this.themeService.getVisualStyle(this.themeCollection),q=this.runningVisual;this.enableVisualScaling?(k.width/=this.uiScale.x,this.visualBorder&&(k.width-=2*this.visualBorder.thickness()),this.useStylableHeader()||(k.height-=H.VisualContainerHeaderHeight),k.height/=this.uiScale.y,this.visualBorder&&(k.height-=2*this.visualBorder.thickness())):this.useStylableHeader()||(k.height-=H.VisualContainerHeaderHeight),this.isFooterVisible&&this.isFooterVisible()&&(k.height-=H.VisualContainerFooterHeight),this.visualViewport=this.getVisualViewport(k.width,k.height,1,G),q&&(this.viewportResized=!0,(0,W.yY)(q,this.visualViewport,D.EP.Resize,this.visualHostServices,this.editMode,D.Pf.Resizing)),this.applyVisualViewportStyle(this.readOnlyState,k),this.applyVisualBodyStyle(this.readOnlyState),this.applyFooterStyle(this.readOnlyState,k.width);var Z=this.overridePosition||this.convertToScaledPosition(this.position);this.applyTitleStyle(this.readOnlyState,Z.width,G),this.applyVisualTitleAreaStyle(this.readOnlyState),this.featureSwitchService?.featureSwitches.vcPadding&&(this.applySubTitleStyle(this.readOnlyState,Z.width,G),this.applyDividerStyle(this.readOnlyState,G))}shouldUseCache(){return(0,o.dw)(this.contract,this.options.disableQueryCacheUpdates)}adjustForVisualContainerHeader(k,G,q){(!this.formFactor||!this.formFactor.getCurrentLayoutCapabilities().canShowVisualContainerHeaderInset())&&(q&&(k.y+=G),k.height-=G)}convertToScaledPosition(k,G=!0){var q=this.viewModeState&&this.viewModeState.getConfig().displayOptions.disablePixelValueRounding,Q=(0,N.vW)(k,this.uiScale,!q);return this.adjustForVisualContainerHeader(Q,this.useStylableHeader()?0:-H.VisualContainerHeaderHeight,G),Q}reset(){var k=this.visual;k&&(k.data=void 0,k.dataTransforms=void 0,k.hostServices=y.o4,k.visualAdapterHostServices={getNextDataSegment:()=>new Promise((G,q)=>q(new Error("Visual reset"))),startProgressBar:_.noop,stopProgressBar:_.noop}),this.runningVisuals&&this.runningVisuals.removeVisual(this.contract),this.runningVisual=void 0,this.showClientWarnings=void 0,this.visualHostServices=void 0,this.visualAdapterHostServices=void 0,this.lastBodyScale=void 0,this.bodyScaleChanged=void 0}updateViewStateCore(k){if(this.servicesState===K.Initialized){var G=this.viewModeState&&this.viewModeState.getConfig(),q=G&&G.displayOptions,Q=this.themeService&&this.themeService.getVisualStyle(this.themeCollection),Z=this.contract,X=this.position,re=this.overridePosition||this.convertToScaledPosition(X),te=(0,f.ED)(re),se=!this.useStylableHeader()||this.isPoppedOut;if(this.enableVisualScaling?this.overridePosition?(se&&(te.height-=H.VisualContainerHeaderHeight),te.height/=this.uiScale.y,te.width/=this.uiScale.x):(te=(0,f.ED)(X),this.formFactor&&this.formFactor.getCurrentLayoutCapabilities().canShowVisualContainerHeaderInset()&&se&&(te.height-=H.VisualContainerHeaderHeight/this.uiScale.y)):se&&(te.height-=H.VisualContainerHeaderHeight),this.isFooterVisible&&this.isFooterVisible()&&(te.height-=H.VisualContainerFooterHeight),this.isPoppedOut&&(!q||!q.hideInFocusBar)){var ke=H.PopOutBarHeight;this.enableVisualScaling&&(ke/=this.uiScale.y),te.height-=ke}this.hasDetailVisual=this.showDetailVisual()||this.showVisualCalcEditor();var Ue=this.contract.detailVisualLayout??p.Yo.Horizontal;this.showDetailHorizontal=this.hasDetailVisual&&Ue===p.Yo.Horizontal,this.showDetailVertical=this.hasDetailVisual&&Ue===p.Yo.Vertical,this.visualViewport=this.getVisualViewport(te.width,te.height,this.uiScale.x,Q);var ot=Z.config.singleVisual;if(k.isFilterVisual=!1,ot){this.showWatermark=!1,this.canPin=!0;var ft=ot.visualType,Ct=this.visualPlugin&&this.visualPlugin.capabilities(ft);if(Ct&&(k.isFilterVisual=null!=(0,A.MD)(Ct.objects)),ot.query){var Ke=ot.query.defn;if(Ke){var Ae=Ke.orderBy();k.actualSortDirection=Ae&&Ae.length?Ae[0].direction:void 0}}else this.visualPluginOps&&this.visualPluginOps.isQueryVisual(ft)&&"debugVisual"!==ft&&(this.canPin=!1,this.showWatermark=!(this.showVisualCalcEditor()||this.viewModeState&&Ct&&Ct.supportsLandingPage&&(this.viewModeState.getMode()===D.wO.Edit||Ct.supportsEmptyDataView)));this.updateVisualDefinition(this.visualViewport),this.visual&&(!this.runningVisuals.getVisual(this.contract)||!this.runningVisual)&&(this.runningVisual=(0,W.vC)(this.visual,this.visualHostServices,this.editMode,this.contract.config.singleVisual,this.hostServices,this.filterGenerator,this.showClientWarnings,this.queryServices,this.sortServices,this.selectionServices,this.dataViewServices),this.runningVisuals.setVisual(this.contract,this.runningVisual)),this.setViewport(k,this.visualViewport)}k.position={...re,z:null!=this.zIndexOverride?this.zIndexOverride:X.z||0,angle:X.angle||0},this.applyTitleStyle(k,re.width,Q),this.applyVisualTitleAreaStyle(k),this.featureSwitchService?.featureSwitches.vcPadding&&(this.applySubTitleStyle(k,re.width,Q),this.applyDividerStyle(k,Q)),this.applyVisualViewportStyle(this.readOnlyState,te),this.applyVisualBodyStyle(this.readOnlyState),this.applyFooterStyle(k,te.width),this.applyHeaderStyle(k),this.setHeaderItemVisibility(k),this.setTooltip(),this.setHeaderTooltip(),Z&&Z.postProcessing&&this.configureInitializationSpinner(Z.postProcessing),this.bodyScaleChanged&&this.uiScale.x!==this.lastBodyScale&&this.bodyScaleChanged(),this.lastBodyScale=this.uiScale.x}}isHeaderItemVisible(k){return!this.readOnlyState.itemVisibility||this.readOnlyState.itemVisibility[k]}isDeprecationWarningVisible(){return this.viewModeState.getMode()===D.wO.Edit&&void 0!==this.customVisualDeprecatedWarningInfo}isWarningVisible(){return this.isHeaderItemVisible("visualWarningButton")&&void 0!==this.warningInfo}isErrorVisible(){return this.isHeaderItemVisible("visualErrorButton")&&void 0!==this.transformWarningInfo}isInfoVisible(){return this.isHeaderItemVisible("visualInformationButton")&&void 0!==this.visualInfo}isInfoVersionsVisible(){return this.isHeaderItemVisible("visualInformationButton")&&void 0!==this.versionsInfo}isHeaderTooltipVisible(){return this.isHeaderItemVisible("tooltipButton")}isAnyIconVisible(){return this.isDeprecationWarningVisible()||this.isWarningVisible()||this.isErrorVisible()||this.isInfoVersionsVisible()||this.isInfoVisible()||this.isHeaderTooltipVisible()}anyHeaderItemVisible(k){if(k)for(var G of k)if(this.isHeaderItemVisible(G))return!0;return!1}isTextboxVisual(){return this.contract.config.singleVisual.visualType===C.L.textbox.name}getTextboxVisual(){return E.f.assert(()=>this.isTextboxVisual(),"Should not try to get textbox visual for non-textbox visual"),this.tryGetUnwrappedVisual()}isContractAnalysisVisual(){return this.visualPluginOps.isAnalysisVisual(this.contract.config.singleVisual.visualType)}isDefinitionAnalysisVisual(){return this.visualPluginOps.isAnalysisVisual(this.visual&&this.visual.type)}isContractQnaVisual(){return this.visualPluginOps.isQnaVisual(this.contract.config.singleVisual.visualType)}getQnaVisual(){return E.f.assert(()=>this.isContractQnaVisual(),"Should not try to get qna visual for non-qna visual"),this.tryGetUnwrappedVisual()}isDefinitionQnaVisual(){return this.visualPluginOps.isQnaVisual(this.visual&&this.visual.type)}setInitialLoadTelemetryParent(k){E.f.assertValue(this.visual,"this.visual must be defined to set initialization parent activity"),this.visual.initialLoadActivity=k}regenerateWarnings(){this.warningsSubject.next(this.getVisualWarnings())}tryGetUnwrappedVisual(){var k=this.runningVisual?.getAdapter();return k?k.unwrap?k.unwrap():k:void 0}setHeaderItemVisibility(k){var G=k.itemVisibility;G||(G=k.itemVisibility={});var q=this.viewModeState&&this.viewModeState.getMode(),Q=this.contract.config.singleVisual,Z=this.useStylableHeader()?Q.evaluatedObjects&&Q.evaluatedObjects.visualHeader:void 0;for(var X in I){var{key:re,defaultValue:te,forceVisible:se}=I[X],Ve=void 0;if(se&&void 0!==se[q])Ve=se[q];else{var ke=Z&&Z[re];Ve=void 0!==ke?ke:te}G[X]=Ve}}applyHeaderStyle(k){var G=this.contract.config.singleVisual,q=this.useStylableHeader()?G.evaluatedObjects&&G.evaluatedObjects.visualHeader:void 0;this.applyItemContainerStyle(k,q),this.applyHeaderBackgroundStyle(k,q),this.applyHeaderForegroundStyle(k,q)}applyItemContainerStyle(k,G){var q={"background-color":"","border-color":""};if(this.useStylableHeader()&&G&&(G.background||null!=G.transparency||null!=G.border)){var Q=G.background&&G.background.solid?(0,S.WV)(G.background.solid.color):{R:255,G:255,B:255},Z=G.border&&G.border.solid?(0,S.WV)(G.border.solid.color):Q;null!=G.transparency?Z.A=Q.A=1-G.transparency/100:(null==Q.A&&(Q.A=1),null==Z.A&&(Z.A=1)),q["background-color"]=(0,S.U8)(Q),q["border-color"]=(0,S.U8)(Z)}k.headerItemContainerStyle||(k.headerItemContainerStyle=new v.Y),k.headerItemContainerStyle.addAttributes(q),k.headerItemContainerStyle.apply()}applyHeaderBackgroundStyle(k,G){var q={"background-color":""};if(this.useStylableHeader()&&G&&(G.background||null!=G.transparency)){var Q=G.background&&G.background.solid?(0,S.WV)(G.background.solid.color):H.VisualHeaderBackgroundColor;null!=G.transparency?Q.A=1-G.transparency/100:null==Q.A&&(Q.A=1-H.VisualHeaderTransparency/100),q["background-color"]=(0,S.U8)(Q);var Z=this.themeService?.getVisualStyle(this.themeCollection);Z&&(q[":hover"]=m.v.getThemeColor(Z,t.t.backgroundNeutral))}k.headerBackgroundStyle||(k.headerBackgroundStyle=new v.Y),k.headerBackgroundStyle.addAttributes(q),k.headerBackgroundStyle.apply()}applyHeaderForegroundStyle(k,G){var q={color:""};this.useStylableHeader()&&G&&G.foreground&&G.foreground.solid&&(q.color=G.foreground.solid.color),k.headerForegroundStyle||(k.headerForegroundStyle=new v.Y),k.headerForegroundStyle.addAttributes(q),k.headerForegroundStyle.apply()}applyVisualBodyStyle(k){k.visualStyle||(k.visualStyle=new v.Y);var G=this.themeService?.getVisualStyle(this.themeCollection);G?.isHighContrast&&this.visualDropShadow&&(this.visualDropShadow.color=m.v.getThemeColor(G,t.t.foreground));var Q=this.visualBorder&&this.visualBorder.getPaddingFromBorder();if(this.featureSwitchService?.featureSwitches.vcPadding){var Z=this.getVisualBodyPadding();Q=`${Z.top}px ${Z.right}px ${Z.bottom}px ${Z.left}px`}var X=this.shouldAppyBoxShadow(),re=(0,o.O$)(this.visualBackground&&this.visualBackground.colorRGB,this.visualBorder&&this.visualBorder.getBorderStyle(),this.visualBorder&&this.visualBorder.getBorderRadius(),Q,X&&this.visualDropShadow&&this.visualDropShadow.getBoxShadow());k.visualStyle.addAttributes(re),k.visualStyle.apply()}shouldAppyBoxShadow(){var k=this.contract.visibility;if(null==k)return!0;switch(k){case p.sB.None:return!0;case p.sB.Maximize:case p.sB.MaximizeWithData:case p.sB.MaximizeWithDataAccessible:case p.sB.Spotlight:case p.sB.VisualCalcEditing:case p.sB.Elevation:return!1;default:return E.f.assertFail(`Unhandled visibility: ${k}`),!1}}applyVisualViewportStyle(k,G){k.visualViewportStyle||(k.visualViewportStyle=new v.Y),this.visualViewportAppliedScale=this.enableVisualScaling?this.uiScale.x:void 0;var q=(0,o._L)(G,this.visualViewportAppliedScale);k.visualViewportStyle.addAttributes(q),k.visualViewportStyle.apply()}applyFooterStyle(k,G){if(this.isFooterVisible&&this.isFooterVisible()){var q={};k.footerStyle||(k.footerStyle=new v.Y),q.transform="scale("+(this.enableVisualScaling?this.uiScale.x:1)+")",q.width=G,k.footerStyle.addAttributes(q),k.footerStyle.apply()}}applyTitleStyle(k,G,q){var Q={};if(this.visualTitleVisible()){this.featureSwitchService?.featureSwitches.vcPadding&&(Q[h.YY]=this.getSpacing(o.hs.Title)),Q[h.B1]=h.l6;var Z=this.contract.config.singleVisual,X=Z.evaluatedObjects&&Z.evaluatedObjects.title||{},re=this.getTitleFontProperties(X,q);Q[h.t0]=`${re.size.pt}pt`||"",Q[h.Mq]=`${re.family}`||"",Q[h.dj]=`${re.color}`||"",Q[h.Z7]=X.alignment?X.alignment:"",Q[h.CB]=X.background&&X.background.solid&&X.background.solid.color||"",Q[h.ei]=(this.isTitleWrappingEnabled?this.visualTitleWrapped.length:1)*(0,o.X)(re),this.insetHeaderSize?this.isTitleWrappingEnabled||(Q[h.kP]=(G-this.insetHeaderSize.width)/this.uiScale.x):Q[h.kP]=null,Q[h.ps]=X.bold?h.en:"",Q[h.Ji]=X.italic?h.BF:"",Q[h.QX]=X.underline?h.f0:"";var Ve=!this.visualTitle?.isPlaceholderText;Q[h.mA]=Ve?"none":"1px dashed black",Q[h.LR]=Ve?"0":"1px",Q[h.Ux]=Ve?"0":"1px",Q[h.wF]=Ve?"default":"text"}else Q[h.B1]=h.fw;k.titleStyle||(k.titleStyle=new v.Y),k.titleStyle.addAttributes(Q),k.titleStyle.apply()}applySubTitleStyle(k,G,q){var Q={};if(this.visualSubTitleVisible()&&this.featureSwitchService?.featureSwitches.vcPadding){Q[h.YY]=this.getSpacing(o.hs.SubTitle),Q[h.B1]=h.l6;var Z=this.contract.config.singleVisual,X=Z.evaluatedObjects&&Z.evaluatedObjects.subTitle||{},re=this.getSubTitleFontProperties(X,q);Q[h.t0]=`${re.size.pt}pt`||"",Q[h.Mq]=`${re.family}`||"",Q[h.dj]=`${re.color}`||"",Q[h.Z7]=X.alignment?X.alignment:"",Q[h.ei]=(this.isSubTitleWrappingEnabled?this.visualSubTitleWrapped.length:1)*(0,o.X)(re),this.insetHeaderSize?this.isSubTitleWrappingEnabled||(Q[h.kP]=(G-this.insetHeaderSize.width)/this.uiScale.x):Q[h.kP]=null,Q[h.ps]=X.bold?h.en:"",Q[h.Ji]=X.italic?h.BF:"",Q[h.QX]=X.underline?h.f0:"";var Ve=!this.visualSubTitle?.isPlaceholderText;Q[h.mA]=Ve?"none":"1px dashed black",Q[h.LR]=Ve?"none":"2px",Q[h.Ux]=Ve?"0":"1px",Q[h.wF]=Ve?"default":"text"}else Q[h.B1]=h.fw;k.subTitleStyle||(k.subTitleStyle=new v.Y),k.subTitleStyle.addAttributes(Q),k.subTitleStyle.apply()}applyDividerStyle(k,G){var q={};if(this.visualDividerVisible()&&this.featureSwitchService?.featureSwitches.vcPadding){q[h.YY]=this.getSpacing(o.hs.Divider),q[h.B1]=h.l6;var Z=this.contract.config.singleVisual,X=Z.evaluatedObjects&&Z.evaluatedObjects.divider;if(q[h.VM]=`${X.width||1}px ${X.style||"Solid"} ${X.color&&X.color.solid&&X.color.solid.color||G.colorPalette.foregroundNeutralSecondary.value}`,!1!==X.ignorePadding){var ke=this.getVisualBodyPadding();q[h.Sd]=`-${ke.left||0}px`,q[h.Uy]=`-${ke.right||0}px`}else q[h.Sd]="",q[h.Uy]=""}else q[h.B1]=h.fw;k.visualsDividerStyle||(k.visualsDividerStyle=new v.Y),k.visualsDividerStyle.addAttributes(q),k.visualsDividerStyle.apply()}applyVisualTitleAreaStyle(k){var G={};if(this.visualTitleVisible()&&this.featureSwitchService?.featureSwitches.vcPadding){var q=this.contract.config.singleVisual,Q=q.evaluatedObjects&&q.evaluatedObjects.title||{};G[h.CB]=Q.background&&Q.background.solid&&Q.background.solid.color||"";var Z=this.getVisualBodyPadding();G[h.LR]=`-${Z.top||0}px`,G[h.j4]=`${Z.top||0}px`,G[h.Sd]=`-${Z.left||0}px`,G[h.Ux]=`${Z.left||0}px`,G[h.Uy]=`-${Z.right||0}px`,G[h.By]=`${Z.right||0}px`}else G[h.CB]="",G[h.LR]="",G[h.j4]="",G[h.Sd]="",G[h.Ux]="",G[h.Uy]="",G[h.By]="";k.visualTitleAreaStyle||(k.visualTitleAreaStyle=new v.Y),k.visualTitleAreaStyle.addAttributes(G),k.visualTitleAreaStyle.apply()}getSpacing(k){var G=this.contract.config.singleVisual;return(0,o.h4)(k,G.evaluatedObjects&&G.evaluatedObjects.spacing)}getVisualBodyPadding(){E.f.assertValue(this.featureSwitchService.featureSwitches.vcPadding,"this helper method should only be called if vcPadding FS is on");var k=this.contract.config.singleVisual;return(0,o.NY)(this.visualPadding,k.evaluatedObjects?.padding,this.visualBorder&&this.visualBorder.getNumericPaddingFromBorder())}updateVisualDefinition(k){var G=this.contract.config.singleVisual,q=G.visualType;if(E.f.assertAnyValue(G,"VisualContainer.updateVisualDefinition singleVisual should be defined."),this.visual){var Q=this.visual;Q.type!==G.visualType?(Q.data=null,this.visualHostServices?.onClearLicenseNotification()):this.showWatermark&&this.visualHostServices?.onClearLicenseNotification(),E.f.assert(()=>Q.visualName===this.contract.name,"visualName"),Q.type=q,Q.stylePresetName=G.evaluatedObjects&&G.evaluatedObjects.stylePreset&&G.evaluatedObjects.stylePreset.name,Q.hostServices=this.visualHostServices,Q.visualAdapterHostServices=this.visualAdapterHostServices,Q.orderIndependentSelectorMatching=G.queryOptions&&G.queryOptions.keepProjectionOrder,this.visualPluginOps&&(this.visual.visualRequiresData=this.visualPluginOps.isQueryVisual(q)),this.visual.visualHasData=!!G.query,this.visual.currentZone=this.currentZone}else this.visualHostServices&&(this.visual={viewport:k,type:q,visualName:this.contract.name,dataTransforms:{objects:G.objects},hostServices:this.visualHostServices,visualAdapterHostServices:this.visualAdapterHostServices,interactivityOptions:{dragDataPoint:!1,selection:!0,isVisualInteractive:!0},allowInvalidDataView:!0,visualPlugin:this.visualPlugin,themeCollection:this.themeCollection,orderIndependentSelectorMatching:G.queryOptions&&G.queryOptions.keepProjectionOrder},this.visualPluginOps&&(this.visual.visualRequiresData=this.visualPluginOps.isQueryVisual(q)),this.visual.visualHasData=!!G.query)}setViewport(k,G){this.runningVisual&&this.setVisualViewport(this.runningVisual,G)}setVisualViewport(k,G){if(k&&G){var q=this.viewportResized;this.viewportResized=void 0;var Q,Z=this.enableVisualScaling?this.uiScale.x:1;(q||!(Q=k.getViewport())||Q.height!==G.height||Q.width!==G.width||Q.scale!==Z)&&k.setViewport({...G,scale:Z},q)}}getVisualViewport(k,G,q,Q){var Z=this.contract.config.singleVisual,X=0;this.visualBorder&&this.visualBorder.visible&&(X=this.visualBorder.getNumericPaddingFromBorder());var re=this.isPaddingDisabled?2*X:2*(X+H.VisualContainerDefaultPadding),te=this.isPaddingDisabled?2*X:2*(X+H.VisualContainerDefaultPadding);if(this.featureSwitchService?.featureSwitches.vcPadding){var se=this.getVisualBodyPadding();re=se.left+se.right,te=se.top+se.bottom}var Ve=0,ke=0,Ue=0,ot=0,ft=k-re;if(this.visualTitleVisible()){var Ct=this.getTitleFontProperties(this.visualTitle,Q);this.updateVisualTitleWrapping(ft,Ct),ke=(0,o.X)(Ct),ke*=this.visualTitleWrapped.length||1,this.featureSwitchService?.featureSwitches.vcPadding&&(ke+=this.getSpacing(o.hs.Title)),this.visualTitle?.isPlaceholderText&&(ke+=3)}if(this.visualSubTitleVisible()&&this.featureSwitchService?.featureSwitches.vcPadding){var Ke=this.getSubTitleFontProperties(this.visualSubTitle,Q);this.updateSubVisualTitleWrapping(ft,Ke),Ue=(0,o.X)(Ke),Ue*=this.visualSubTitleWrapped.length||1,Ue+=this.getSpacing(o.hs.SubTitle),this.visualSubTitle?.isPlaceholderText&&(ke+=4)}this.visualDividerVisible()&&this.featureSwitchService?.featureSwitches.vcPadding&&(Ve=(Z.evaluatedObjects&&Z.evaluatedObjects.divider).width??0,Ve+=this.getSpacing(o.hs.Divider)),this.visualPausedWarning&&(ot+=H.VisualBannerHeight),this.featureNotSupportedWarning&&this.viewModeState.getMode()===D.wO.Edit&&(ot+=H.VisualBannerHeight);var we=G-te-ke-ot-Ue-Ve;this.featureSwitchService.featureSwitches.visualBorderWidth&&this.visualBorder?.visible&&null!=this.visualBorder.width&&(ft-=2*this.visualBorder.width,we-=2*this.visualBorder.width);var Ne=this.viewModeState&&this.viewModeState.getConfig().displayOptions.showDetailVisualOnFullScreen;return this.hasDetailVisual&&!Ne&&((this.contract.detailVisualLayout||p.Yo.Horizontal)===p.Yo.Horizontal?(we-=te,we/=2):(ft-=re,ft/=2)),{width:Math.max(ft,0),height:Math.max(we,0),scale:q}}getTitleFontProperties(k,G){var q=(0,M.N)(k,"bold"),Q=(0,M.N)(k,"italic"),Z=(0,M.N)(k,"underline"),X={color:"fontColor",family:"fontFamily",size:"fontSize"};q&&(X.bold="bold"),Q&&(X.italic="italic"),Z&&(X.underline="underline");var re=m.v.create(G);return(0,c.Zi)(k,X,re,G,void 0,o.Hf,o.o8)}getSubTitleFontProperties(k,G){var q=(0,M.N)(k,"bold"),Q=(0,M.N)(k,"italic"),Z=(0,M.N)(k,"underline"),X={color:"fontColor",family:"fontFamily",size:"fontSize"};q&&(X.bold="bold"),Q&&(X.italic="italic"),Z&&(X.underline="underline");var re=m.v.create(G);return(0,c.Zi)(k,X,re,G,o.uz,o.Zq,o.o8)}updateVisualTitleWrapping(k,G){if(this.visualTitle&&this.visualTitle.text){var q=(0,c.qk)(G),Q=new v.Y;if(Q.addAttributes({width:k}),Q.addAttributes({fontSize:`${G.size.px}px`}),Q.addAttributes({fontWeight:`${G.weight}`}),1===this.headerTitleMaxLines)return void(this.visualTitleWrapped=[{text:this.visualTitle.text.trim(),style:Q}]);var Z=(0,P.ql)(this.visualTitle.text,q,b.b.measureSvgTextWidth,k,this.headerTitleMaxLines,null,!0);this.visualTitleWrapped=Z.map(X=>({text:X.trim(),style:Q}))}}updateSubVisualTitleWrapping(k,G){if(this.visualSubTitle&&this.visualSubTitle.text){var q=(0,c.qk)(G),Q=new v.Y;if(Q.addAttributes({width:k}),Q.addAttributes({fontSize:`${G.size.px}px`}),Q.addAttributes({fontWeight:`${G.weight}`}),1===this.headerSubTitleMaxLines)return void(this.visualSubTitleWrapped=[{text:this.visualSubTitle.text.trim(),style:Q}]);var Z=(0,P.ql)(this.visualSubTitle.text,q,b.b.measureSvgTextWidth,k,this.headerSubTitleMaxLines,null,!0);this.visualSubTitleWrapped=Z.map(X=>({text:X.trim(),style:Q}))}}showDetailVisual(){return this.contract.visibility===p.sB.MaximizeWithData||this.contract.visibility===p.sB.MaximizeWithDataAccessible}showVisualCalcEditor(){return this.contract.visibility===p.sB.VisualCalcEditing}useStylableHeader(){return H.useStylableHeader(this.explorationCapabilities)}static useStylableHeader(k){return k&&k.getCapabilities().visualContainerOptions.useStylableHeader}configureInitializationSpinner(k){this.showInitializationSpinner=!0,k.catch(G=>{}).finally(()=>{this.showInitializationSpinner=!1,this.contract.postProcessing=void 0})}getVisualWarnings(){var k=[],G=this.viewModeState&&this.viewModeState.getMode()===D.wO.Edit;return this.visualPausedWarning&&k.push({id:"visualPaused",viewModel:this.visualPausedWarning,message:this.visualPausedWarning.iconTooltip,canShowVisualWarning:!0,buttonClick:q=>{this.pauseQueriesService?.refreshVisuals(q),this.visualPausedWarning=void 0}}),this.featureNotSupportedWarning&&k.push({id:"featureNotSupported",viewModel:this.featureNotSupportedWarning,message:this.featureNotSupportedWarning.iconTooltip,canShowVisualWarning:G,hideBanner:()=>{this.featureNotSupportedWarning=void 0}}),k}}return H.VisualContainerHeaderHeight=20,H.VisualContainerFooterHeight=34,H.VisualContainerDefaultPadding=5,H.PopOutBarHeight=40,H.HeaderInTitleScaleThreshold=.9,H.VisualBannerHeight=38,H.VisualBannerPaddingTopPopOutMode=3,H.VisualHeaderBackgroundColor={R:255,G:255,B:255},H.VisualHeaderTransparency=0,H})()},873248:function(ve,j,e){e.d(j,{IT:function(){return g},Iw:function(){return n},Vz:function(){return s},q4:function(){return p}});var r=e(661214),i=e(844065),a=e(896286),t=e(524584),l=e(156483);class g{constructor(o,v,m){this.contract=o,this.currentCanvasLayout=v,this.children=m,this.uiScale=t.U2}setSelected(o){this.isSelected=o}get id(){return this.contract.id}get name(){return this.contract.name}get isHidden(){return this.contract.isHidden}get position(){return this.contract.layouts.withId(this.currentCanvasLayout).position}set position(o){this.contract.layouts.withId(this.currentCanvasLayout).position=o}get isPositioned(){var o=this.position;return 0!==o.width&&0!==o.height}startResize(){for(var o of(this.originalPosition=this.position,this.children))o.startResize()}getScaledPosition(){return this.scaledPosition||this.convertToScaledPosition(this.position)}convertToScaledPosition(o){return(0,l.vW)(o,this.uiScale,!0)}updateViewportForUserResize(o){var v=this.convertToScaledPosition({...o,x:0,y:0});this.updateStyle(v)}updateViewState(){this.scaledPosition=this.convertToScaledPosition(this.position);var o=(0,a.ED)(this.scaledPosition);this.updateStyle(o),this.setTooltip()}updateStyle(o){this.applyStyle||(this.applyStyle=new i.Y);var v=(0,r._L)(o,void 0);this.applyStyle.addAttributes(v);var m=(0,r.O$)(this.background&&this.background.colorRGB,this.border&&this.border.getBorderStyle(),this.border&&this.border.getBorderRadius(),this.border&&this.border.getPaddingFromBorder());this.applyStyle.addAttributes(m),this.applyStyle.apply()}setTooltip(){this.tooltip=this.contract.evaluatedObjects?.general?.altText?.toString()}clone(){var o=new g(this.contract,this.currentCanvasLayout,this.children);return _.assign(o,this)}}function n(d,o,v){var m=v&&v.visibleOnly;for(var c of d)m&&c.isHidden||(o(c),p(c)&&n(c.children,o,v))}function p(d){return!!d.children}function s(d){return!d.children}},153642:function(ve,j,e){e.d(j,{u:function(){return t}});var r=e(365813),i=e(58332),a=e(688467);class t{constructor(g){g&&(this.visible=g.show,this.position=g.position,this.color=g.color.solid.color,this.preset=g.preset,this.transparency=g.transparency,this.shadowSpread=g.shadowSpread,this.shadowBlur=g.shadowBlur,this.angle=g.angle,this.shadowDistance=g.shadowDistance)}getBoxShadow(){if(this.visible){if(this.preset!==r.$g){var g=(0,i.X2)(this.preset,this.position);if(g)for(var n in g)this[n]=g[n]}var p=this.position===r.$S?"inset ":"",s=(0,a.TD)(this.transparency),d=Math.PI/180*this.angle;return p+Math.cos(d)*this.shadowDistance+"px "+Math.sin(d)*this.shadowDistance+"px "+this.shadowBlur+"px "+this.shadowSpread+"px "+(0,a.cD)(this.color,s)}return""}}},633157:function(ve,j,e){e.d(j,{G:function(){return r},W:function(){return i}});var r=function(a){return a[a.Fields=0]="Fields",a[a.Format=1]="Format",a[a.Analytics=2]="Analytics",a}({}),i=function(a){return a[a.Fields=0]="Fields",a[a.Format=1]="Format",a}({})},76395:function(ve,j,e){e.d(j,{$U:function(){return H},$V:function(){return U},$z:function(){return G},A6:function(){return d},AA:function(){return D},B8:function(){return v},D6:function(){return B},Db:function(){return R},Dd:function(){return S},HI:function(){return g},HX:function(){return O},Hd:function(){return F},JM:function(){return I},JW:function(){return A},KB:function(){return Ue},Kc:function(){return L},Kh:function(){return o},LN:function(){return V},LU:function(){return c},N8:function(){return a},NC:function(){return u},Q$:function(){return s},QZ:function(){return Z},R6:function(){return te},RR:function(){return J},SC:function(){return N},SY:function(){return p},U:function(){return ke},UL:function(){return Ve},Xj:function(){return w},Z9:function(){return m},ZF:function(){return K},az:function(){return q},bJ:function(){return l},bN:function(){return i},bm:function(){return x},d1:function(){return z},e3:function(){return Ct},eM:function(){return t},h8:function(){return se},h9:function(){return W},hH:function(){return y},jb:function(){return b},kw:function(){return P},lr:function(){return X},mC:function(){return f},nW:function(){return k},oK:function(){return ot},rw:function(){return n},tL:function(){return ft},tb:function(){return C},to:function(){return re},vg:function(){return T},yJ:function(){return E},yL:function(){return Q},yX:function(){return h},zH:function(){return M}});var r=e(138334),i=-1,a=r.N8,t="extension",l=!0,g="page",n="report",p="group",s=12,d=12,o="x_position",v="y_position",m=960,c=720,C="#FFFFFF",y="#EAEAEA",S=0,h=0,E="#000000",u="#ffffff",f="#117865",b="#ffffff",V="#BDBDBD",T=200,P=32,D=180,w=420,M=!0,A="#C8C8C8",R=12,B=10,N=9,W="'Segoe UI', wf_segoe-ui_normal, helvetica, arial, sans-serif",F=0,U=0,O=!0,x="#C8C8C8",I=9,L="Available",K="Applied",z="#C8C6C4",H="#FFFFFF",J="#252423",k=0,G=1280,q=720,Q=296,Z=592,X=816,re=1056,te=320,se=240,Ve=10,ke=60,Ue=40,ot="PT30M";function ft(){return{color:C,transparency:k}}function Ct(){return{color:y,transparency:S}}},594959:function(ve,j,e){e.d(j,{Dy:function(){return t},kj:function(){return i},wO:function(){return a}});var r=e(56604),i="CDM",a="APR",t=(0,r.i)([{value:a,displayName:l=>l.get("PageRefresh_APR")},{value:i,displayName:l=>l.get("ChangeDetection")}])},176992:function(ve,j,e){e.d(j,{J:function(){return r},U:function(){return i}});class r{static isValidBookmark(t){return t&&(r.isBookmarkGroup(t)||r.isStateBookmark(t))}static isBookmarkGroup(t){return void 0!==t.children}static isStateBookmark(t){return!r.isBookmarkGroup(t)}static isWebBookmark(t){return void 0!==t.type}}var i=function(a){return a.Add="AddBookmark",a.Apply="ApplyBookmark",a.Remove="RemoveBookmark",a.Move="MoveBookmark",a.Update="UpdateBookmark",a.Rename="RenameBookmark",a.Group="GroupBookmarks",a.Ungroup="UngroupBookmarks",a}({})},412182:function(ve,j,e){e.d(j,{$$:function(){return v},$g:function(){return o},CD:function(){return s},kB:function(){return m},p1:function(){return d},yd:function(){return p}});var r=e(587291),i=e(941597),a=e(143747),t=e(737865),l=e(990297),g=e(650543),n=e(76395);function p(c=[]){return(0,l.z8)((0,l.Br)(c))}function s(c){var C=n.N8;return{type:a.nKy,id:c.id,name:C,objectId:c.dbName,dsr:{schemaName:C,vsName:c.vsName,dbName:c.dbName,modelId:c.id,isQueryCachingEnabled:c.capacityObjectId&&void 0===c.queryCachingState?void 0:c.queryCachingState===r.N.Enabled,lastRefreshTime:c.lastRefreshTime,isLimitedParallelQueryModel:c.datasetHost===t.GY.ASOnPrem}}}function d(c){return _.includes(Object.keys(c),"extends")}function o(c,C){if(g.f.assertAnyValue(c,"dataSources"),g.f.assertAnyValue(C,"query"),!_.isEmpty(c)){var y=(0,i.fV)(C);return m(_.isEmpty(y)?c:_.filter(c,h=>_.includes(y,h.name)))}}function v(c,C){if(g.f.assertAnyValue(c,"dataSources"),g.f.assertAnyValue(C,"query"),!_.isEmpty(c)){var y=(0,i.fV)(C);return _.isEmpty(y)?_.filter(c,S=>!d(S)):_.chain(c).filter(S=>_.includes(y,S.name)).map(S=>d(S)?_.find(c,h=>h.name===S.extends):S).uniq().value()}}function m(c){return _.map(c,C=>C[(0,i.wx)(C)])}},324569:function(ve,j,e){e.d(j,{$n:function(){return o},D8:function(){return a},ER:function(){return p},Iv:function(){return t},Iw:function(){return d},K7:function(){return s},Mc:function(){return l},OB:function(){return E},OO:function(){return r},PD:function(){return C},Pw:function(){return i},RT:function(){return c},Yo:function(){return n},bA:function(){return m},qG:function(){return u},sB:function(){return g},tX:function(){return h},tr:function(){return v},wm:function(){return f},yi:function(){return y},zm:function(){return S}});var r=function(b){return b[b.Auto=0]="Auto",b[b.User=1]="User",b[b.Drill=2]="Drill",b[b.Include=3]="Include",b[b.Exclude=4]="Exclude",b[b.Drillthrough=5]="Drillthrough",b[b.CrossDrill=6]="CrossDrill",b[b.URL=7]="URL",b}({}),i=function(b){return b[b.Drill=0]="Drill",b}({}),a=function(b){return b.Maximize="maximize",b.Spotlight="spotlight",b.Elevation="elevation",b.Hidden="hidden",b}({}),t=function(b){return b.Default="Default",b.Copilot="Copilot",b.CheckboxTickedInFieldList="CheckboxTickedInFieldList",b.DraggedToCanvas="DraggedToCanvas",b.VisualTypeIconClicked="VisualTypeIconClicked",b.DraggedToFieldWell="DraggedToFieldWell",b.InsertVisualButton="InsertVisualButton",b.WhatIfParameterControl="WhatIfParameterControl",b.QnaAppBar="QnaAppBar",b.QnaDoubleClick="QnaDoubleClick",b.QnaKeyboardShortcut="QnaKeyboardShortcut",b.FieldParameterControl="FieldParameterControl",b.CanvasBackgroundContextMenu="CanvasBackgroundContextMenu",b.AssistedCreation="AssistedCreation",b.ContextMenuPaste="ContextMenuPaste",b.CopyPaste="CopyPaste",b.SummarizeVisualContainer="SummarizeVisualContainer",b}({}),l=function(b){return b[b.None=0]="None",b[b.DrillDown=1]="DrillDown",b[b.DrillToDetails=2]="DrillToDetails",b[b.Drillthrough=3]="Drillthrough",b}({}),g=function(b){return b[b.None=0]="None",b[b.Maximize=1]="Maximize",b[b.MaximizeWithData=2]="MaximizeWithData",b[b.Spotlight=4]="Spotlight",b[b.MaximizeWithDataAccessible=8]="MaximizeWithDataAccessible",b[b.VisualCalcEditing=16]="VisualCalcEditing",b[b.Elevation=32]="Elevation",b}({}),n=function(b){return b[b.Horizontal=1]="Horizontal",b[b.Vertical=2]="Vertical",b}({}),p=function(b){return b[b.Ascending=1]="Ascending",b[b.Descending=2]="Descending",b[b.Custom=3]="Custom",b}({}),s=function(b){return b.Default="Default",b.SharePoint="SharePoint",b.Teams="Teams",b.QuickCreate="QuickCreate",b.EmbedQuickCreate="EmbedQuickCreate",b.Datamart="Datamart",b.DataExplore="DataExplore",b}({}),d=function(b){return b[b.PagesPane=0]="PagesPane",b[b.Bottom=1]="Bottom",b}({}),o=function(b){return b[b.None=0]="None",b[b.Shared=1]="Shared",b[b.Premium=2]="Premium",b[b.SQLServerAS=3]="SQLServerAS",b[b.AzureAS=4]="AzureAS",b[b.Custom=5]="Custom",b[b.Auto=6]="Auto",b}({}),v=function(b){return b[b.Dynamic=0]="Dynamic",b[b.FitToPage=1]="FitToPage",b[b.FitToWidth=2]="FitToWidth",b[b.ActualSize=3]="ActualSize",b[b.ActualSizeTopLeft=4]="ActualSizeTopLeft",b}({}),m=function(b){return b[b.Regular=0]="Regular",b[b.Tooltip=1]="Tooltip",b[b.Drillthrough=2]="Drillthrough",b}({}),c=function(b){return b.Default="Default",b.Copilot="Copilot",b}({}),C=function(b){return b[b.Default=0]="Default",b[b.None=1]="None",b}({}),y=function(b){return b[b.Default=0]="Default",b[b.Drillthrough=1]="Drillthrough",b[b.Tooltip=2]="Tooltip",b}({}),S=function(b){return b[b.Default=0]="Default",b[b.CrossReport=1]="CrossReport",b}({}),h=function(b){return b[b.Default=0]="Default",b[b.DataFilter=1]="DataFilter",b[b.HighlightFilter=2]="HighlightFilter",b[b.NoFilter=3]="NoFilter",b}({}),E=function(b){return b[b.WebBookmark=0]="WebBookmark",b[b.ReportBookmark=1]="ReportBookmark",b[b.EmbedBookmark=2]="EmbedBookmark",b[b.ExpiredSharedView=3]="ExpiredSharedView",b[b.NotFound=4]="NotFound",b[b.None=5]="None",b[b.DefaultPersonalBookmarkDisabled=6]="DefaultPersonalBookmarkDisabled",b[b.PersistentStateDisabled=7]="PersistentStateDisabled",b[b.InvalidSubscriptionBookmark=8]="InvalidSubscriptionBookmark",b}({}),u=function(b){return b.NotFound="NotFound",b.Expired="Expired",b.ApplyError="ApplyError",b.InitUnexpected="InitUnexpected",b}({}),f=function(b){return b[b.ScaleMode=0]="ScaleMode",b[b.ScrollMode=1]="ScrollMode",b}({})},906927:function(ve,j,e){e.d(j,{W:function(){return t},u:function(){return a}});var r=e(281210),i=e(793652),a=function(l){return l[l.Unspecified=0]="Unspecified",l[l.QnaSuggestQuestions=1]="QnaSuggestQuestions",l[l.VisualColumnRenameTerms=2]="VisualColumnRenameTerms",l}({}),t={outspacePane:{displayName:(0,r.V)("Exploration_FilterPane"),properties:{expanded:{type:{bool:!0}},visible:{type:{bool:!0}}}},section:{displayName:(0,r.V)("PagePropertyPane_PageAlignment"),properties:{verticalAlignment:{type:{enumeration:i.Dy}}}}}},813805:function(ve,j,e){e.d(j,{Gd:function(){return i},WQ:function(){return r},YY:function(){return a},Yv:function(){return t},m7:function(){return g},pf:function(){return l},yj:function(){return n}});var r=function(p){return p[p.QueryGeneration=0]="QueryGeneration",p[p.NoData=1]="NoData",p[p.QueryError=2]="QueryError",p[p.SchemaLoadingError=3]="SchemaLoadingError",p[p.GenerateDetailsTable=4]="GenerateDetailsTable",p[p.GenerateFiltersDescription=5]="GenerateFiltersDescription",p[p.EmptyColumnName=6]="EmptyColumnName",p[p.UnhandledExtensionSchema=7]="UnhandledExtensionSchema",p}({}),i=function(p){return p[p.Csv=0]="Csv",p[p.Xlsx=1]="Xlsx",p[p.Json=2]="Json",p[p.ConnectedXlsx=3]="ConnectedXlsx",p}({}),a=function(p){return p.Csv="Csv",p.Xlsx="Xlsx",p.Json="Json",p}({}),t=function(p){return p[p.Summarized=0]="Summarized",p[p.Underlying=1]="Underlying",p[p.MatrixDataLayout=2]="MatrixDataLayout",p}({}),l=function(p){return p[p.Summarized=0]="Summarized",p[p.Underlying=1]="Underlying",p[p.MatrixDataLayout=2]="MatrixDataLayout",p[p.ConnectedXlsx=3]="ConnectedXlsx",p}({}),g=function(p){return p[p.AllowSummarizedAndUnderlying=0]="AllowSummarizedAndUnderlying",p[p.AllowSummarized=1]="AllowSummarized",p[p.None=2]="None",p}({}),n=function(p){return p[p.Allowed=0]="Allowed",p[p.NotAllowedByAdmin=1]="NotAllowedByAdmin",p[p.NotAuthorized=2]="NotAuthorized",p[p.InsufficientLicense=3]="InsufficientLicense",p[p.UnsupportedScenario=4]="UnsupportedScenario",p[p.Unavailable=5]="Unavailable",p}({})},561415:function(ve,j,e){e.d(j,{LP:function(){return r},XW:function(){return i},vA:function(){return a}});var r="filter",i={general:{properties:{requireSingleSelect:{type:{bool:!0}},isInvertedSelectionMode:{type:{bool:!0}}}}},a=function(t){return t[t.Categorical=0]="Categorical",t[t.Range=1]="Range",t[t.Advanced=2]="Advanced",t[t.Passthrough=3]="Passthrough",t[t.Visual=4]="Visual",t[t.TopN=5]="TopN",t[t.Include=6]="Include",t[t.Exclude=7]="Exclude",t[t.RelativeDate=8]="RelativeDate",t[t.Tuple=9]="Tuple",t[t.RelativeTime=10]="RelativeTime",t[t.VisualTopN=11]="VisualTopN",t}({})},783069:function(ve,j,e){e.d(j,{w:function(){return r}});var r=function(i){return i[i.Self=1]="Self",i[i.Slicer=2]="Slicer",i}({})},861661:function(ve,j,e){e.d(j,{C:function(){return l},SectionProps:function(){return n},y:function(){return g}});var r=e(281210),i=e(594959),a=e(793652),t=e(967504),l={pageInformation:{displayName:(0,r.V)("PagePropertyPane_PageInformation"),properties:{pageInformationName:{displayName:(0,r.V)("Name"),type:{text:!0}},pageInformationQnaPodEnabled:{displayName:(0,r.V)("Generic_Qna"),type:{bool:!0}},pageInformationAltName:{displayName:(0,r.V)("PagePropertyPane_PageInformation_AltName_Placeholder"),type:{formatting:{altText:!0}}},pageInformationType:{displayName:(0,r.V)("Allow_As_Tooltip"),type:{bool:!0}}}},pageSize:{displayName:(0,r.V)("Canvas_Settings"),properties:{pageSizeTypes:{displayName:(0,r.V)("Type"),type:{enumeration:t.D}},pageSizeWidth:{displayName:(0,r.V)("PagePropertyPane_PageSizeWidth"),type:{numeric:!0}},pageSizeHeight:{displayName:(0,r.V)("PagePropertyPane_PageSizeHeight"),type:{numeric:!0}}}},background:{displayName:(0,r.V)("PagePropertyPane_PageBackground"),properties:{color:{displayName:(0,r.V)("PagePropertyPane_PageBackgroundColor"),type:{fill:{solid:{color:!0}}}},image:{type:{image:{}}},transparency:{displayName:(0,r.V)("Transparency"),type:{numeric:!0}}}},displayArea:{displayName:(0,r.V)("PagePropertyPane_PageAlignment"),properties:{verticalAlignment:{displayName:(0,r.V)("Visual_Alignment_Vertical"),type:{enumeration:a.Dy}}}},outspace:{displayName:(0,r.V)("PagePropertyPane_Outspace"),properties:{color:{displayName:(0,r.V)("PagePropertyPane_PageBackgroundColor"),type:{fill:{solid:{color:!0}}}},image:{type:{image:{}}},transparency:{displayName:(0,r.V)("Transparency"),type:{numeric:!0}}}},outspacePane:{displayName:(0,r.V)("Exploration_FilterPane"),properties:{backgroundColor:{displayName:(0,r.V)("PagePropertyPane_OutspacePane_BackgroundColor"),type:{fill:{solid:{color:!0}}},description:(0,r.V)("PagePropertyPane_OutspacePane_BackgroundColorTooltip")},transparency:{displayName:(0,r.V)("Transparency"),type:{numeric:!0},description:(0,r.V)("PagePropertyPane_OutspacePane_BackgroundTransparencyTooltip")},foregroundColor:{displayName:(0,r.V)("PagePropertyPane_OutspacePane_ForegroundColor"),type:{fill:{solid:{color:!0}}},description:(0,r.V)("PagePropertyPane_OutspacePane_ForegroundColorTooltip")},titleSize:{displayName:(0,r.V)("Visual_AxisTitleTextSize"),type:{integer:!0},description:(0,r.V)("PagePropertyPane_OutspacePane_TitleSizeTooltip")},searchTextSize:{displayName:(0,r.V)("PagePropertyPane_OutspacePane_SearchTextSize"),type:{integer:!0},description:(0,r.V)("PagePropertyPane_OutspacePane_SearchTextSizeTooltip")},headerSize:{displayName:(0,r.V)("PagePropertyPane_OutspacePane_HeaderSize"),type:{integer:!0},description:(0,r.V)("PagePropertyPane_OutspacePane_HeaderSizeTooltip")},fontFamily:{displayName:(0,r.V)("Visual_FontFamily"),type:{formatting:{fontFamily:!0}},description:(0,r.V)("PagePropertyPane_OutspacePane_FontFamilyTooltip")},border:{displayName:(0,r.V)("Visual_Border"),type:{bool:!0},description:(0,r.V)("PagePropertyPane_OutspacePane_LeftBorderTooltip")},borderColor:{displayName:(0,r.V)("PagePropertyPane_FilterCards_BorderColor"),type:{fill:{solid:{color:!0}}},description:(0,r.V)("PagePropertyPane_OutspacePane_BorderColorTooltip")},checkboxAndApplyColor:{displayName:(0,r.V)("Checkbox_Apply_Color_Title"),type:{fill:{solid:{color:!0}}},description:(0,r.V)("Checkbox_Apply_Color_Description")},inputBoxColor:{displayName:(0,r.V)("PagePropertyPane_FilterCards_InputBoxColor"),type:{fill:{solid:{color:!0}}},description:(0,r.V)("PagePropertyPane_OutspacePane_InputBoxColorTooltip")},width:{displayName:(0,r.V)("PagePropertyPane_PageSizeWidth"),type:{integer:!0}}}},filterCard:{displayName:(0,r.V)("PagePropertyPane_FilterCards"),properties:{backgroundColor:{displayName:(0,r.V)("PagePropertyPane_OutspacePane_BackgroundColor"),type:{fill:{solid:{color:!0}}},description:(0,r.V)("PagePropertyPane_FilterCards_BackgroundColorTooltip")},transparency:{displayName:(0,r.V)("Transparency"),type:{integer:!0},description:(0,r.V)("PagePropertyPane_FilterCards_BackgroundTransparencyTooltip")},border:{displayName:(0,r.V)("Visual_Border"),type:{bool:!0},description:(0,r.V)("PagePropertyPane_FilterCards_BorderTooltip")},borderColor:{displayName:(0,r.V)("PagePropertyPane_FilterCards_BorderColor"),type:{fill:{solid:{color:!0}}},description:(0,r.V)("PagePropertyPane_FilterCards_BorderColorTooltip")},foregroundColor:{displayName:(0,r.V)("PagePropertyPane_OutspacePane_ForegroundColor"),type:{fill:{solid:{color:!0}}},description:(0,r.V)("PagePropertyPane_FilterCards_ForegroundColorTooltip")},textSize:{displayName:(0,r.V)("Visual_TextSize"),type:{integer:!0},description:(0,r.V)("PagePropertyPane_FilterCards_TextSizeTooltip")},fontFamily:{displayName:(0,r.V)("Visual_FontFamily"),type:{formatting:{fontFamily:!0}},description:(0,r.V)("PagePropertyPane_FilterCards_FontFamilyTooltip")},inputBoxColor:{displayName:(0,r.V)("PagePropertyPane_FilterCards_InputBoxColor"),type:{fill:{solid:{color:!0}}},description:(0,r.V)("PagePropertyPane_FilterCards_InputBoxColorTooltip")}}},pageRefresh:{displayName:(0,r.V)("PageRefresh"),properties:{show:{displayName:(0,r.V)("Show"),type:{bool:!0}},refreshType:{displayName:(0,r.V)("AutoPageRefreshType"),type:{enumeration:i.Dy}},duration:{displayName:(0,r.V)("AutoPageRefreshInterval"),type:{duration:!0}},dialogLauncher:{displayName:(0,r.V)("AutoPageRefreshInterval"),type:{}},measure:{displayName:(0,r.V)("NewMeasureName"),type:{readOnlyText:!0}},checkEvery:{displayName:(0,r.V)("CheckEvery"),type:{readOnlyText:!0}}}},personalizeVisual:{displayName:(0,r.V)("VisualHeader_ShowPersonalizeVisualButton"),properties:{show:{displayName:(0,r.V)("Show"),type:{bool:!0}},perspectiveRef:{displayName:(0,r.V)("PersonalizeVisual_PerspectivePropertyName"),type:{reference:{perspective:!0}}},applyToAllPages:{displayName:(0,r.V)("PagePropertyPane_ApplyToAllPages"),type:{applyToAllPages:!0}}}}};function g(p){return _.filter(p,s=>!s.transient)}var n={pageInformation:{pageInformationName:{objectName:"pageInformation",propertyName:"pageInformationName"},pageInformationQnaPodEnabled:{objectName:"pageInformation",propertyName:"pageInformationQnaPodEnabled"},pageInformationAltName:{objectName:"pageInformation",propertyName:"pageInformationAltName"},pageInformationType:{objectName:"pageInformation",propertyName:"pageInformationType"},pageInformationDrillthroughKeepAllFilters:{objectName:"pageInformation",propertyName:"pageInformationDrillthroughKeepAllFilters"},pageInformationDrillthroughCrossReportEnabled:{objectName:"pageInformation",propertyName:"pageInformationDrillthroughCrossReportEnabled"},pageInformationDrillthroughFields:{objectName:"pageInformation",propertyName:"pageInformationDrillthroughFields"},pageInformationDrillthroughLinkFieldsLinkTypes:{objectName:"pageInformation",propertyName:"pageInformationDrillthroughLinkFieldsLinkTypes"}},pageSize:{pageSizeTypes:{objectName:"pageSize",propertyName:"pageSizeTypes"},pageSizeWidth:{objectName:"pageSize",propertyName:"pageSizeWidth"},pageSizeHeight:{objectName:"pageSize",propertyName:"pageSizeHeight"}},background:{color:{objectName:"background",propertyName:"color"},image:{objectName:"background",propertyName:"image"},transparency:{objectName:"background",propertyName:"transparency"}},displayArea:{verticalAlignment:{objectName:"displayArea",propertyName:"verticalAlignment"}},outspace:{color:{objectName:"outspace",propertyName:"color"},image:{objectName:"outspace",propertyName:"image"},transparency:{objectName:"outspace",propertyName:"transparency"}},outspacePane:{backgroundColor:{objectName:"outspacePane",propertyName:"backgroundColor"},transparency:{objectName:"outspacePane",propertyName:"transparency"},foregroundColor:{objectName:"outspacePane",propertyName:"foregroundColor"},titleSize:{objectName:"outspacePane",propertyName:"titleSize"},searchTextSize:{objectName:"outspacePane",propertyName:"searchTextSize"},headerSize:{objectName:"outspacePane",propertyName:"headerSize"},fontFamily:{objectName:"outspacePane",propertyName:"fontFamily"},border:{objectName:"outspacePane",propertyName:"border"},borderColor:{objectName:"outspacePane",propertyName:"borderColor"},checkboxAndApplyColor:{objectName:"outspacePane",propertyName:"checkboxAndApplyColor"},inputBoxColor:{objectName:"outspacePane",propertyName:"inputBoxColor"},width:{objectName:"outspacePane",propertyName:"width"}},filterCard:{backgroundColor:{objectName:"filterCard",propertyName:"backgroundColor"},transparency:{objectName:"filterCard",propertyName:"transparency"},border:{objectName:"filterCard",propertyName:"border"},borderColor:{objectName:"filterCard",propertyName:"borderColor"},foregroundColor:{objectName:"filterCard",propertyName:"foregroundColor"},textSize:{objectName:"filterCard",propertyName:"textSize"},fontFamily:{objectName:"filterCard",propertyName:"fontFamily"},inputBoxColor:{objectName:"filterCard",propertyName:"inputBoxColor"}},pageRefresh:{show:{objectName:"pageRefresh",propertyName:"show"},refreshType:{objectName:"pageRefresh",propertyName:"refreshType"},duration:{objectName:"pageRefresh",propertyName:"duration"},dialogLauncher:{objectName:"pageRefresh",propertyName:"dialogLauncher"},measure:{objectName:"pageRefresh",propertyName:"measure"},checkEvery:{objectName:"pageRefresh",propertyName:"checkEvery"}},personalizeVisual:{show:{objectName:"personalizeVisual",propertyName:"show"},perspectiveRef:{objectName:"personalizeVisual",propertyName:"perspectiveRef"},applyToAllPages:{objectName:"personalizeVisual",propertyName:"applyToAllPages"}}}},793652:function(ve,j,e){e.d(j,{Dy:function(){return l},XN:function(){return t},ab:function(){return i},we:function(){return a}});var r=e(56604),i=function(g){return g[g.Top=0]="Top",g[g.Middle=1]="Middle",g}({}),a="Top",t="Middle",l=(0,r.i)([{value:a,displayName:g=>g.get("Top")},{value:t,displayName:g=>g.get("Middle")}])},967504:function(ve,j,e){e.d(j,{D:function(){return a},t:function(){return i}});var r=e(56604),i={Dynamic:"Dynamic",Standard:"Standard",Widescreen:"Widescreen",Cortana:"Cortana",Letter:"Letter",Tooltip:"Tooltip",Custom:"Custom"},a=(0,r.i)([{value:i.Widescreen,displayName:t=>t.get("PagePropertyPane_PageSizeType_Widescreen")},{value:i.Standard,displayName:t=>t.get("PagePropertyPane_PageSizeType_Standard")},{value:i.Letter,displayName:t=>t.get("PagePropertyPane_PageSizeType_Letter")},{value:i.Tooltip,displayName:t=>t.get("Tooltip")},{value:i.Custom,displayName:t=>t.get("Custom")}])},31249:function(ve,j,e){e.d(j,{Dy:function(){return l},Qy:function(){return d},Xg:function(){return s},Xz:function(){return t},d9:function(){return v},gA:function(){return a},pJ:function(){return n},xj:function(){return p},y5:function(){return m}});var r=e(719242),i=e(56604),a="Default",t="Canvas",l=(0,i.i)([{value:a,displayName:c=>c.get("Default")},{value:t,displayName:c=>c.get("ReportPage")}]),n="___AUTO___";function p(c,C=!1){var y=c?.show;return!1===y||void 0===y&&C}function s(c){var C=c?.show;return!C}function d(c){return!!c&&!c.show}function v(c){if(c){var C={visualType:c.visualType};c.syncGroup&&(C.syncGroup=_.cloneDeep(c.syncGroup)),c.columnProperties&&(C.columnProperties=_.cloneDeep(c.columnProperties)),c.query&&(C.query=c.query.clone()),c.queryOptions&&(C.queryOptions=_.cloneDeep(c.queryOptions)),c.objects&&(C.objects=(0,r.d9)(c.objects)),c.vcObjects&&(C.vcObjects=(0,r.d9)(c.vcObjects)),function(c,C){c.mobileObjects&&(C.mobileObjects=(0,r.d9)(c.mobileObjects)),c.mobileVcObjects&&(C.mobileVcObjects=(0,r.d9)(c.mobileVcObjects))}(c,C),c.hasDefaultSort&&(C.hasDefaultSort=c.hasDefaultSort);var y=c.conversionSourceContext;return y&&(C.conversionSourceContext={visualType:y.visualType,query:y.query&&y.query.clone(),syncGroup:y.syncGroup}),c.display&&(C.display=_.cloneDeep(c.display)),c.autoSelectVisualType&&(C.autoSelectVisualType=c.autoSelectVisualType),C.hasUsedSmallMultiples=c.hasUsedSmallMultiples,C}}function m(c,C){if(!c)return C.resolve();var y=c.getAdapter();return y?y.enumerateObjectRepetitionAsync?y.enumerateObjectRepetitionAsync():y.enumerateObjectRepetition?C.resolve(y.enumerateObjectRepetition()):C.resolve():C.resolve()}},214492:function(ve,j,e){e.d(j,{F:function(){return f},XW:function(){return V},Zk:function(){return w},d7:function(){return b},d9:function(){return P},fU:function(){return T},iZ:function(){return A},k8:function(){return y},oL:function(){return v},s_:function(){return M},wv:function(){return u},xj:function(){return D}});var r=e(324569),i=e(650543),a=e(251868),t=e(469),l=e(281210),g=e(56604),n=e(847005),p=e(31249),s=e(853270),d=e(473736),o=e(365813);function v(R){return R.type||d.eJ}var C="Heading3",y="Heading4",E=(0,g.i)([{value:"Normal",displayName:R=>R.get("Normal")},{value:"Heading2",displayName:R=>R.get("Heading_2")},{value:C,displayName:R=>R.get("Heading_3")},{value:y,displayName:R=>R.get("Heading_4")},{value:"Heading5",displayName:R=>R.get("Heading_5")},{value:"Heading6",displayName:R=>R.get("Heading_6")}]),u=C,f="none",b={singleVisual:{visualType:"uninitializedVisual"}};(0,t._)(b);var V={title:{displayName:(0,l.V)("Visual_Title"),description:(0,l.V)("Visual_TitleDescription"),properties:{show:{displayName:(0,l.V)("Visual_Show"),type:{bool:!0}},text:{displayName:(0,l.V)("Visual_Title_Text"),description:(0,l.V)("Visual_Title_TextDescription"),type:{text:!0},suppressFormatPainterCopy:!0},heading:{displayName:(0,l.V)("Visual_Title_Heading_Attribute"),description:(0,l.V)("Visual_Title_Heading_AttributeDescription"),type:{enumeration:E}},titleWrap:{displayName:(0,l.V)("Visual_WordWrap"),type:{bool:!0}},fontColor:{displayName:(0,l.V)("Visual_FontColor"),description:(0,l.V)("Visual_Title_FontColorDescription"),type:{fill:{solid:{color:!0}}}},background:{displayName:(0,l.V)("Background_Color"),description:(0,l.V)("Visual_Title_BackgroundColorDescription"),type:{fill:{solid:{color:{nullable:!0}}}}},alignment:{displayName:(0,l.V)("Visual_Title_Alignment"),description:(0,l.V)("Visual_Title_AlignmentDescription"),type:{formatting:{alignment:!0}}},fontSize:{displayName:(0,l.V)("Visual_TextSize"),description:(0,l.V)("Visual_Title_TextSizeDescription"),type:{formatting:{fontSize:!0}}},bold:{displayName:(0,l.V)("Bold"),type:{bool:!0}},italic:{displayName:(0,l.V)("Italic"),type:{bool:!0}},underline:{displayName:(0,l.V)("Underline"),type:{bool:!0}},fontFamily:{displayName:(0,l.V)("Visual_FontFamily"),type:{formatting:{fontFamily:!0}}}}},subTitle:{displayName:(0,l.V)("Visual_SubTitle"),description:(0,l.V)("Visual_SubTitle_Description"),properties:{show:{displayName:(0,l.V)("Visual_Show"),type:{bool:!0}},text:{displayName:(0,l.V)("Visual_Title_Text"),description:(0,l.V)("Visual_Title_TextDescription"),type:{text:!0},suppressFormatPainterCopy:!0},heading:{displayName:(0,l.V)("Visual_Title_Heading_Attribute"),description:(0,l.V)("Visual_Title_Heading_AttributeDescription"),type:{enumeration:E}},titleWrap:{displayName:(0,l.V)("Visual_WordWrap"),type:{bool:!0}},fontColor:{displayName:(0,l.V)("Visual_FontColor"),description:(0,l.V)("Visual_Title_FontColorDescription"),type:{fill:{solid:{color:!0}}}},alignment:{displayName:(0,l.V)("Visual_Title_Alignment"),description:(0,l.V)("Visual_Title_AlignmentDescription"),type:{formatting:{alignment:!0}}},fontSize:{displayName:(0,l.V)("Visual_TextSize"),description:(0,l.V)("Visual_Title_TextSizeDescription"),type:{formatting:{fontSize:!0}}},bold:{displayName:(0,l.V)("Bold"),type:{bool:!0}},italic:{displayName:(0,l.V)("Italic"),type:{bool:!0}},underline:{displayName:(0,l.V)("Underline"),type:{bool:!0}},fontFamily:{displayName:(0,l.V)("Visual_FontFamily"),type:{formatting:{fontFamily:!0}}}}},divider:{displayName:(0,l.V)("Visual_Divider"),properties:{...(0,n.uH)({strokeShow:"show",strokeColor:"color",strokePattern:"style",strokeWidth:"width"}),ignorePadding:{displayName:(0,l.V)("Visual_Divider_IgnorePadding"),type:{bool:!0}}}},spacing:{properties:{customizeSpacing:{displayName:(0,l.V)("Visual_Spacing_Customize"),type:{bool:!0}},verticalSpacing:{displayName:(0,l.V)("Visual_Spacing_Vertical"),type:{numeric:!0}},spaceBelowTitle:{displayName:(0,l.V)("Visual_Spacing_Below_Title"),type:{numeric:!0}},spaceBelowSubTitle:{displayName:(0,l.V)("Visual_Spacing_Below_SubTitle"),type:{numeric:!0}},spaceBelowTitleArea:{displayName:(0,l.V)("Visual_Spacing_Below_TitleArea"),type:{numeric:!0}}}},background:{displayName:(0,l.V)("Visual_Background"),properties:{show:{displayName:(0,l.V)("Visual_Show"),type:{bool:!0}},color:{displayName:(0,l.V)("Generic_Color"),description:(0,l.V)("Visual_Background_ColorDescription"),type:{fill:{solid:{color:!0}}}},transparency:{displayName:(0,l.V)("Transparency"),description:(0,l.V)("Visual_Background_TransparencyDescription"),type:{numeric:!0}}}},padding:{displayName:(0,l.V)("Visual_Padding"),properties:{top:{displayName:(0,l.V)("Visual_PaddingTop"),type:{numeric:!0}},bottom:{displayName:(0,l.V)("Visual_PaddingBottom"),type:{numeric:!0}},left:{displayName:(0,l.V)("Visual_PaddingLeft"),type:{numeric:!0}},right:{displayName:(0,l.V)("Visual_PaddingRight"),type:{numeric:!0}}}},lockAspect:{displayName:(0,l.V)("Visual_BasicShape_LockAspect"),properties:{show:{displayName:(0,l.V)("Visual_Show"),type:{bool:!0}}}},general:{displayName:(0,l.V)("Visual_General_Properties"),properties:{x:{displayName:(0,l.V)("Visual_General_Properties_X_Coordinate"),type:{numeric:!0}},y:{displayName:(0,l.V)("Visual_General_Properties_Y_Coordinate"),type:{numeric:!0}},width:{displayName:(0,l.V)("Visual_General_Properties_Width"),type:{numeric:!0}},height:{displayName:(0,l.V)("Visual_General_Properties_Height"),type:{numeric:!0}},altText:{displayName:(0,l.V)("Visual_General_Properties_Description"),placeHolderText:(0,l.V)("Visual_General_Properties_Description_Placeholder"),type:{formatting:{altText:!0}}},allowBinnedLineSample:{displayName:(0,l.V)("Visual_General_HighDensitySampling"),type:{bool:!0}},allowOverlappingPointsSample:{displayName:(0,l.V)("Visual_General_HighDensitySampling"),type:{bool:!0}},keepLayerOrder:{displayName:(0,l.V)("Visual_General_KeepLayerOrder"),description:(0,l.V)("Visual_General_KeepLayerOrderDescription"),type:{bool:!0}}}},border:{displayName:(0,l.V)("Visual_Border"),properties:{show:{displayName:(0,l.V)("Visual_Show"),type:{bool:!0}},color:{displayName:(0,l.V)("Generic_Color"),type:{fill:{solid:{color:!0}}}},radius:{displayName:(0,l.V)("Visual_Radius"),type:{numeric:!0}},width:{displayName:(0,l.V)("Visual_General_Properties_Width"),type:{numeric:!0}}}},dropShadow:{displayName:(0,l.V)("Visual_DropShadow"),properties:{show:{displayName:(0,l.V)("Visual_Show"),type:{bool:!0}},preset:{displayName:(0,l.V)("Visual_DropShadow_Preset"),type:{enumeration:o.Sk}},position:{displayName:(0,l.V)("Visual_DropShadow_Position"),type:{enumeration:o.Ly}},color:{displayName:(0,l.V)("Generic_Color"),type:{fill:{solid:{color:!0}}}},transparency:{displayName:(0,l.V)("Transparency"),type:{numeric:!0}},shadowSpread:{displayName:(0,l.V)("Visual_BubbleSize"),type:{numeric:!0}},shadowBlur:{displayName:(0,l.V)("Visual_DropShadow_Blur"),type:{numeric:!0}},angle:{displayName:(0,l.V)("Visual_Angle"),type:{numeric:!0}},shadowDistance:{displayName:(0,l.V)("Distance"),type:{numeric:!0}}}},visualLink:{displayName:(0,l.V)("Visual_VisualLink"),suppressFormatPainterCopy:!0,properties:{show:{displayName:(0,l.V)("Visual_Show"),type:{bool:!0}},type:{displayName:(0,l.V)("Type"),description:(0,l.V)("Visual_VisualLink_Type_Description"),type:{enumeration:d.Zg}},bookmark:{displayName:(0,l.V)("Generic_Bookmark"),description:(0,l.V)("Visual_VisualLink_Bookmark_Description"),type:{reference:{bookmark:!0}}},disabledTooltip:{displayName:(0,l.V)("Disabled_Tooltip"),type:{text:!0}},drillthroughSection:{displayName:(0,l.V)("Destination"),description:(0,l.V)("Visual_VisualLink_Destination_Description"),type:{reference:{section:!0}}},enabledTooltip:{displayName:(0,l.V)("Enabled_Tooltip"),type:{text:!0}},qna:{type:{qnaVisualLink:!0}},suppressDefaultTooltip:{displayName:(0,l.V)("Visual_SuppressDefaultTooltips"),type:{bool:!0}},showDefaultTooltip:{displayName:(0,l.V)("Visual_ShowTooltips"),type:{bool:!0}},navigationSection:{displayName:(0,l.V)("Destination"),description:(0,l.V)("Visual_VisualLink_Destination_Description"),type:{reference:{section:!0}}},tooltip:{displayName:(0,l.V)("Tooltip"),description:(0,l.V)("Visual_VisualLink_Tooltip_Description"),type:{text:!0}},tooltipPlaceholderText:{displayName:(0,l.V)("Tooltip_PlaceHolderText"),type:{text:!0}},webUrl:{displayName:(0,l.V)("Web_Url"),type:{misc:{webUrl:!0}}},dataFunction:{displayName:(0,l.V)("Data_Function"),type:{itemLocation:{metadata:{dataFunction:!0}}}}}},visualTooltip:{displayName:(0,l.V)("Tooltip"),properties:{show:{displayName:(0,l.V)("Visual_Show"),type:{bool:!0}},type:{displayName:(0,l.V)("Type"),description:(0,l.V)("Visual_Tooltip_Type_Description"),type:{enumeration:p.Dy}},section:{displayName:(0,l.V)("Page"),description:(0,l.V)("Visual_Tooltip_Section_Description"),type:{reference:{section:!0}}},titleFontColor:{displayName:(0,l.V)("Visual_Label_FontColor"),description:(0,l.V)("Visual_Tooltip_Title_FontColorDescription"),type:{fill:{solid:{color:!0}}}},valueFontColor:{displayName:(0,l.V)("Visual_Value_FontColor"),description:(0,l.V)("Visual_Tooltip_Value_FontColorDescription"),type:{fill:{solid:{color:!0}}}},fontSize:{displayName:(0,l.V)("Visual_TextSize"),description:(0,l.V)("Visual_Tooltip_TextSizeDescription"),type:{formatting:{fontSize:!0}}},bold:{displayName:(0,l.V)("Bold"),type:{bool:!0}},italic:{displayName:(0,l.V)("Italic"),type:{bool:!0}},underline:{displayName:(0,l.V)("Underline"),type:{bool:!0}},fontFamily:{displayName:(0,l.V)("Visual_FontFamily"),description:(0,l.V)("Visual_Tooltip_FontFamilyDescription"),type:{formatting:{fontFamily:!0}}},background:{displayName:(0,l.V)("Background_Color"),description:(0,l.V)("Visual_Tooltip_BackgroundColorDescription"),type:{fill:{solid:{color:{nullable:!0}}}}},transparency:{displayName:(0,l.V)("Transparency"),description:(0,l.V)("Visual_Tooltip_BackgroundTransparencyDescription"),type:{numeric:!0}},actionFontColor:{displayName:(0,l.V)("Visual_Action_FontColor"),description:(0,l.V)("Visual_Action_FontColor_FontColorDescription"),type:{fill:{solid:{color:!0}}}},themedTitleFontColor:{displayName:(0,l.V)("Visual_Label_FontColor"),description:(0,l.V)("Visual_Tooltip_Title_FontColorDescription"),type:{fill:{solid:{color:!0}}}},themedBackground:{displayName:(0,l.V)("Background_Color"),description:(0,l.V)("Visual_Tooltip_BackgroundColorDescription"),type:{fill:{solid:{color:{nullable:!0}}}}},themedValueFontColor:{displayName:(0,l.V)("Visual_Value_FontColor"),description:(0,l.V)("Visual_Tooltip_Value_FontColorDescription"),type:{fill:{solid:{color:!0}}}}}},stylePreset:{displayName:(0,l.V)("Visual_Table_StylePreset_SliceTitle"),properties:{name:{displayName:(0,l.V)("Visual_Table_StylePreset_SliceTitle"),type:{formatting:{stylePreset:!0}}}}},visualHeader:{displayName:(0,l.V)("Visual_Header"),description:(0,l.V)("VisualHeader_Toggle_Description"),properties:{show:{displayName:(0,l.V)("Visual_Show"),type:{bool:!0}},background:{displayName:(0,l.V)("Background_Color"),description:(0,l.V)("VisualHeader_Background_ColorDescription"),type:{fill:{solid:{color:!0}}}},border:{displayName:(0,l.V)("Visual_Border"),description:(0,l.V)("Visual_Border"),type:{fill:{solid:{color:!0}}}},transparency:{displayName:(0,l.V)("Transparency"),description:(0,l.V)("VisualHeader_Background_TransparencyDescription"),type:{numeric:!0}},foreground:{displayName:(0,l.V)("VisualHeader_Foreground_Color"),description:(0,l.V)("VisualHeader_Foreground_ColorDescription"),type:{fill:{solid:{color:!0}}}},showVisualInformationButton:{displayName:(0,l.V)("VisualHeader_ShowVisualInformationButton"),description:(0,l.V)("VisualHeader_ShowVisualInformationButton_Description"),type:{bool:!0}},showVisualWarningButton:{displayName:(0,l.V)("VisualHeader_ShowVisualWarningButton"),description:(0,l.V)("VisualHeader_ShowVisualWarningButton_Description"),type:{bool:!0}},showVisualErrorButton:{displayName:(0,l.V)("VisualHeader_ShowVisualErrorButton"),description:(0,l.V)("VisualHeader_ShowVisualErrorButton_Description"),type:{bool:!0}},showDrillRoleSelector:{displayName:(0,l.V)("VisualHeader_ShowDrillRoleSelector"),description:(0,l.V)("VisualHeader_ShowDrillRoleSelector_Description"),type:{bool:!0}},showDrillUpButton:{displayName:(0,l.V)("VisualHeader_ShowDrillUpButton"),description:(0,l.V)("VisualHeader_ShowDrillUpButton_Description"),type:{bool:!0}},showDrillToggleButton:{displayName:(0,l.V)("VisualHeader_ShowDrillToggleButton"),description:(0,l.V)("VisualHeader_ShowDrillToggleButton_Description"),type:{bool:!0}},showDrillDownLevelButton:{displayName:(0,l.V)("VisualHeader_ShowDrillDownLevelButton"),description:(0,l.V)("VisualHeader_ShowDrillDownLevelButton_Description"),type:{bool:!0}},showDrillDownExpandButton:{displayName:(0,l.V)("VisualHeader_ShowDrillDownExpandButton"),description:(0,l.V)("VisualHeader_ShowDrillDownExpandButton_Description"),type:{bool:!0}},showPinButton:{displayName:(0,l.V)("VisualHeader_ShowPinButton"),description:(0,l.V)("VisualHeader_ShowPinButton_Description"),type:{bool:!0}},showFilterRestatementButton:{displayName:(0,l.V)("VisualHeader_ShowFilterRestatementButton"),description:(0,l.V)("VisualHeader_ShowFilterRestatementButton_Description"),type:{bool:!0}},showFocusModeButton:{displayName:(0,l.V)("VisualHeader_ShowFocusModeButton"),description:(0,l.V)("VisualHeader_ShowFocusModeButton_Description"),type:{bool:!0}},showCopyVisualImageButton:{displayName:(0,l.V)("VisualHeader_ShowCopyVisualImageButton"),description:(0,l.V)("VisualHeader_ShowCopyVisualImageButton_Description"),type:{bool:!0}},showSeeDataLayoutToggleButton:{displayName:(0,l.V)("VisualHeader_ShowSeeDataLayoutToggleButton"),description:(0,l.V)("VisualHeader_ShowSeeDataLayoutToggleButton_Description"),type:{bool:!0}},showOptionsMenu:{displayName:(0,l.V)("VisualHeader_ShowOptionsMenu"),description:(0,l.V)("VisualHeader_ShowOptionsMenu_Description"),type:{bool:!0}},showCommentButton:{displayName:(0,l.V)("VisualHeader_ShowCommentButton"),description:(0,l.V)("VisualHeader_ShowCommentButton_Description"),type:{bool:!0}},showTooltipButton:{displayName:(0,l.V)("VisualHeader_ShowVisualHeaderTooltip"),description:(0,l.V)("VisualHeader_ShowVisualHeaderTooltip_Description"),type:{bool:!0}},showPersonalizeVisualButton:{displayName:(0,l.V)("VisualHeader_ShowPersonalizeVisualButton"),description:(0,l.V)("VisualHeader_ShowPersonalizeVisualButton_Description"),type:{bool:!0}},showSmartNarrativeButton:{displayName:(0,l.V)("SmartNarratives_ToolTip"),description:(0,l.V)("VisualHeader_ShowSmartNarrativeButton_Description"),type:{bool:!0}},showSetAlertButton:{displayName:(0,l.V)("VisualHeader_SetAlertButton"),description:(0,l.V)("VisualHeader_SetAlertButton_Description"),type:{bool:!0}},showFollowVisualButton:{displayName:(0,l.V)("VisualHeader_FollowVisualButton"),description:(0,l.V)("VisualHeader_FollowVisualButton_Description"),type:{bool:!0}}}},visualHeaderTooltip:{displayName:(0,l.V)("VisualHeaderTooltip"),properties:{type:{displayName:(0,l.V)("Type"),type:{enumeration:s.Dy}},section:{displayName:(0,l.V)("Page"),description:(0,l.V)("Visual_Tooltip_Section_Description"),type:{reference:{section:!0}}},text:{displayName:(0,l.V)("VisualHeaderTooltip_Text"),description:(0,l.V)("VisualHeaderTooltip_Text_Description"),type:{text:!0}},titleFontColor:{displayName:(0,l.V)("Generic_Color"),description:(0,l.V)("VisualHeaderTooltip_FontColorDescription"),type:{fill:{solid:{color:!0}}}},fontSize:{displayName:(0,l.V)("Visual_TextSize"),description:(0,l.V)("Visual_Tooltip_TextSizeDescription"),type:{formatting:{fontSize:!0}}},fontFamily:{displayName:(0,l.V)("Visual_FontFamily"),description:(0,l.V)("Visual_Tooltip_FontFamilyDescription"),type:{formatting:{fontFamily:!0}}},bold:{displayName:(0,l.V)("Bold"),type:{bool:!0}},italic:{displayName:(0,l.V)("Italic"),type:{bool:!0}},underline:{displayName:(0,l.V)("Underline"),type:{bool:!0}},background:{displayName:(0,l.V)("Background_Color"),description:(0,l.V)("Visual_Tooltip_BackgroundColorDescription"),type:{fill:{solid:{color:{nullable:!0}}}}},transparency:{displayName:(0,l.V)("Transparency"),description:(0,l.V)("Visual_Tooltip_BackgroundTransparencyDescription"),type:{numeric:!0}},themedTitleFontColor:{displayName:(0,l.V)("Generic_Color"),description:(0,l.V)("VisualHeaderTooltip_FontColorDescription"),type:{fill:{solid:{color:!0}}}},themedBackground:{displayName:(0,l.V)("Background_Color"),description:(0,l.V)("Visual_Tooltip_BackgroundColorDescription"),type:{fill:{solid:{color:{nullable:!0}}}}}}}},T=(0,a.wZ)(V);function P(R,B){if(R){var N=B.serializeVisualContainer(R);return B.deserializeCanvasItem(N,!0)}}function D(R){return!!R.display&&R.display.mode===r.D8.Hidden}function w(R,B){R.display=B?{mode:r.D8.Hidden}:void 0}function M(R){if(R.visualContainer)return R.visualContainer.config.singleVisual.visualType;i.f.assertFail("PinData has no visualType")}function A(R){return R===r.sB.VisualCalcEditing}},636038:function(ve,j,e){e.d(j,{$m:function(){return a},C7:function(){return t},Zk:function(){return n},fU:function(){return l},hC:function(){return p},xj:function(){return g}});var r=e(251868),i=e(281210),a="visualContainerGroup",t={background:{displayName:(0,i.V)("Visual_Background"),properties:{show:{displayName:(0,i.V)("Visual_Show"),type:{bool:!0}},color:{displayName:(0,i.V)("Generic_Color"),description:(0,i.V)("VisualGroup_Background_ColorDescription"),type:{fill:{solid:{color:!0}}}},transparency:{displayName:(0,i.V)("Transparency"),description:(0,i.V)("Visual_Background_TransparencyDescription"),type:{numeric:!0}}}},lockAspect:{displayName:(0,i.V)("Visual_BasicShape_LockAspect"),properties:{show:{displayName:(0,i.V)("Visual_Show"),type:{bool:!0}}}},general:{displayName:(0,i.V)("Visual_General_Properties"),properties:{x:{displayName:(0,i.V)("Visual_General_Properties_X_Coordinate"),type:{numeric:!0}},y:{displayName:(0,i.V)("Visual_General_Properties_Y_Coordinate"),type:{numeric:!0}},width:{displayName:(0,i.V)("Visual_General_Properties_Width"),type:{numeric:!0}},height:{displayName:(0,i.V)("Visual_General_Properties_Height"),type:{numeric:!0}},altText:{displayName:(0,i.V)("Visual_General_Properties_Description"),placeHolderText:(0,i.V)("Visual_General_Properties_Description_Placeholder"),type:{formatting:{altText:!0}}}}}},l=(0,r.wZ)(t);function g(s){return s.isHidden}function n(s,d){s.isHidden=d}function p(s,d){s.displayName=d}},475507:function(ve,j,e){e.d(j,{Iw:function(){return a},Vz:function(){return n},q4:function(){return g},rQ:function(){return l}});var r=e(214492),i=e(636038);function a(s,d,o){return t(!1,o&&o.visibleOnly,s,d)}function t(s,d,o,v){for(var m of o){var c=s||p(m);d&&c||(v(m,c),g(m)&&t(c,d,m.children,v))}}function l(s){var d=[],o=[];for(var v of s)n(v)?d.push(v):o.push(v);return[d,o]}function g(s){return!!s.children}function n(s){return!s.children}function p(s){return g(s)?(0,i.xj)(s):(0,r.xj)(s.config.singleVisual)}},365813:function(ve,j,e){e.d(j,{$S:function(){return m},$g:function(){return i},C2:function(){return d},Fi:function(){return l},Jn:function(){return o},Ly:function(){return C},PE:function(){return p},Sk:function(){return c},XQ:function(){return v},cS:function(){return n},f:function(){return t},qf:function(){return s},tF:function(){return a},uf:function(){return g}});var r=e(56604),i="Custom",a="Top",t="TopLeft",l="TopRight",g="Center",n="CenterLeft",p="CenterRight",s="Bottom",d="BottomLeft",o="BottomRight",v="Outer",m="Inner",c=(0,r.i)([{value:o,displayName:y=>y.get("Visual_LabelPosition_BottomRight")},{value:s,displayName:y=>y.get("Bottom")},{value:d,displayName:y=>y.get("Visual_LabelPosition_BottomLeft")},{value:p,displayName:y=>y.get("Visual_TextAlignment_Right")},{value:g,displayName:y=>y.get("Visual_TextAlignment_Center")},{value:n,displayName:y=>y.get("Visual_TextAlignment_Left")},{value:l,displayName:y=>y.get("Visual_LabelPosition_TopRight")},{value:a,displayName:y=>y.get("Top")},{value:t,displayName:y=>y.get("Visual_LabelPosition_TopLeft")},{value:i,displayName:y=>y.get("Custom")}]),C=(0,r.i)([{value:v,displayName:y=>y.get("Visual_DonutLabelPosition_Outside")},{value:m,displayName:y=>y.get("Visual_DonutLabelPosition_Inside")}])},853270:function(ve,j,e){e.d(j,{Dy:function(){return l},Xz:function(){return t},xv:function(){return a}});var r=e(56604),i=e(31249),a=i.gA,t=i.Xz,l=(0,r.i)([{value:i.gA,displayName:g=>g.get("Text")},{value:t,displayName:g=>g.get("ReportPage")}])},473736:function(ve,j,e){e.d(j,{Ol:function(){return t},Qi:function(){return v},Sk:function(){return d},WM:function(){return s},ZS:function(){return n},Zg:function(){return o},cy:function(){return p},d8:function(){return l},eJ:function(){return i},rp:function(){return a},sv:function(){return g},z1:function(){return m}});var r=e(56604),i="Back",a="Bookmark",t="Drillthrough",l="PageNavigation",g="Qna",n="WebUrl",p="ApplyAllSlicers",s="ClearAllSlicers",d="DataFunction",o=(0,r.i)([{value:i,displayName:c=>c.get("Generic_Back")},{value:a,displayName:c=>c.get("Generic_Bookmark")},{value:t,displayName:c=>c.get("Drillthrough")},{value:l,displayName:c=>c.get("PageNavigation")},{value:g,displayName:c=>c.get("Generic_Qna")},{value:n,displayName:c=>c.get("Web_Url")},{value:p,displayName:c=>c.get("ReportAppBar_ApplyAllSlicers")},{value:s,displayName:c=>c.get("ReportAppBar_ClearAllSlicers")},{value:d,displayName:c=>c.get("Data_Function")}]),v="",m=""},636685:function(ve,j,e){e.d(j,{g:function(){return h}});var r=e(138620),i=e(990297),a=e(650543),t=e(301336),l=e(128735),g=e(481785),n=e(446775),p=e(442407),s=e(603375),d=e(267047),o=e(310178),v=e(76967),m=e(6655),c=e(947500),C=e(104816),y=e(426313),S=e(60978);class h{constructor(u,f,b,V=!1){for(var T in this.defn=u,this.projections=f,this.expansionStates=b||[],this._isDrillDisabled=V,f)_.isEmpty(f[T].activeProjectionRefs)||this.ensureActiveItems(T)}get isDrillDisabled(){return this._isDrillDisabled}ensureExpansionState(u,f){a.f.assertNonEmpty(u,"roles");var b=(0,l.Vt)(this.expansionStates,u);if(!b){a.f.assert(()=>!this._isDrillDisabled,"should not ensure expansion state when drill is disabled"),b=new l.cb(u,f);var V=this.getRolesUniqueProjectionRefs(u),T=this.getRolesUniqueActiveProjectionsRefs(u,f.canCollapseRoot);b.updateLevels(V,T.length),this.expansionStates.push(b)}return a.f.assert(()=>!!b.supportsMerge==!!f.supportsMerge),b}add(u,f,b){a.f.assertValue(u,"expr"),b=b||{};var{exprName:V,fieldIndex:T,parameter:P,indexInParameter:D,nativeReferenceName:w,isHidden:M}=b,A=this.defn.selectNameOf(u),R=!!A;A||(A=this.addSelect(u,V,w)),this.getRoleProjections(f)||(this.projections[f]=new g.NQ([]));var B={queryRef:A};M&&(B.hidden=M);var N=0,W=this.projections[f];if(P){var F=D??P.length??0;W.addProjection(B,{parameter:P,indexInParameter:F}),N=W.getParameterProjectionIndex(P,F),this.addNewQueryRefToActiveProjectionRefsIfNeeded(f,A,N)}else{var O=W.all();null==T||T>O.length?(W.addProjection(B),N=O.length-1):(W.addProjection(B,{fieldIndex:T}),N=W.getColumnProjectionIndex(T),this.addNewQueryRefToActiveProjectionRefsIfNeeded(f,A,N))}return this.updateExpansionStates(f,(I,L)=>I.addLevel(A,L+N)),R&&this.resetHiddenState(A),N}toggleHidden(u){for(var f in this.projections)this.projections[f].toggleHidden(u)}resetAllHidden(){for(var u in this.projections)this.projections[u].resetAllHiddenState()}addParameter(u,f,b){a.f.assertValue(u,"expr"),this.getRoleProjections(f)||(this.projections[f]=new g.NQ([]));var V=this.projections[f];return null==b&&(b=V.getFieldCount()),V.addFieldParameter({expr:u,index:b,length:void 0}),b}removeParameterBySQExpr(u){var f=this.projections;for(var b in f){var V=f[b],T=V.findParameterBySQExpr(u);_.isEmpty(T)||V.removeFieldParameters(T)}}removeParameter(u){var f=!1,b=this.projections;for(var V in b)f=this.removeParameterByRoleName(u,V)||f;return f}removeParameterByRoleName(u,f){var b=this.projections[f];return b?.removeFieldParameters([u])}getParameterByFieldIndex(u,f){var b=this.projections[f];return b?.getParameterByFieldIndex(u)}getResolveParameterResultsByRole(){var u={},f=this.projections;if(f)for(var b in f){var V=this.getQueryFieldParametersByRole(b);if(!_.isEmpty(V)){var T=u[b]=[];for(var P of V){var w=f[b].getParameterProjections(P).map(M=>({expr:this.defn.select().withName(M.queryRef).expr,alias:void 0}));T.push({parameter:P,result:w})}}}return u}removeExpr(u,f,b,V){if(f){for(var T=this.defn.select(),P=!1,D=T.length-1;D>=0;--D){var w=T[D].expr;if(h.areEqualIgnoringAggregate(w,u,b)){if(!this.removeAllProjectionsForExpr(w,V))return!1;P=!0}}return P}return this.removeAllProjectionsForExpr(u,V)}getQueryRefByProjectionIndex(u,f){var b=this.projections[u];if(b){var V=b.getQueryRefs();if(f<V.length)return V[f]}}getQueryRef(u,f){a.f.assert(()=>f&&(void 0!==f.fieldIndex||void 0!==f.parameter&&void 0!==f.indexInParameter),"Index or parameter should be defined");var b=f.fieldIndex,V=f.parameter,T=f.indexInParameter,P=(0,g.cY)(this.projections,u);if(P)return V?P.getParameterProjections(V)[T].queryRef:b>=P.getFieldCount()?void 0:P.getColumnProjection(b).queryRef}removeProjection(u,f){a.f.assert(()=>f&&(void 0!==f.fieldIndex||void 0!==f.parameter&&void 0!==f.indexInParameter),"Index or parameter should be defined"),a.f.assertValue(this.projections[u],"expected projections to be defined for given role");var b=f.fieldIndex,V=f.parameter,T=f.indexInParameter,P=this.getQueryRef(u,f);if(!P)return!1;var D=this.defn.select().withName(P);if(!D)return!1;var R,B,w=D.expr,M=this.projections[u],A=M.all();V?(R={parameter:V,indexInParameter:T},B=M.getParameterProjectionIndex(V,T)):(R={fieldIndex:b},B=M.getColumnProjectionIndex(b)),M.removeProjection(R);var N=this.projections[u].activeProjectionRefs;_.pull(N,P);var W=_.isEmpty(A);return W&&_.isEmpty(M.getFieldParameters())?delete this.projections[u]:!W&&N&&0===N.length&&N.push(A[Math.max(0,B-1)].queryRef),this.updateExpansionStates(u,(F,U)=>F.removeLevel(U+B)),this.isUsed(P)||this.removeExpr(w,!1),!0}moveProjection(u,f,b,V){if(f===b||f<0||b<0)return!1;var T,P=this.projections[u];P&&(T=P.all());var D=P.convertFieldIndexToProjectionIndex(b),w=P.convertFieldIndexToProjectionIndex(f),M=P.convertFieldIndexToProjectionIndex(b+V);if(!T||M>T.length)return!1;var A=this.projections[u].activeProjectionRefs,R=P.moveFields(f,b,V),B=D;if(b>f&&(B=M),A)if(B<A.length){var N=_.take(T,P.convertFieldIndexToProjectionIndex(b+1));this.projections[u].activeProjectionRefs=_.map(N,F=>F.queryRef)}else if(w<A.length){for(var W of R)_.pull(A,W.queryRef);0===A.length&&A.push(T[0].queryRef)}return this.updateExpansionStates(u,(F,U)=>F.moveLevels(U+w,U+D,V)),!0}setAggregate(u,f,b,V){return this.updateExpression(u,f,T=>(0,d.k)(T,b),V)}removeAggregate(u,f,b,V){return this.updateExpression(u,f,T=>(0,m.n)(T,b),V)}setPercentOfGrandTotal(u,f,b){return this.updateExpression(u,f,T=>(0,s.F)(T),b)}removePercentOfGrandTotal(u,f,b){return this.updateExpression(u,f,T=>(0,c.H)(T),b)}setPercentOfRoleTotal(u,f,b){return this.updateExpression(f,b,T=>(0,v.z)(T,u))}removePercentOfRoleTotal(u,f){return this.updateExpression(u,f,V=>(0,o.E)(V))}updateVisualCalculation(u,f,b,V,T){var P=this.getQueryRef(f,{fieldIndex:u}),D=this.defn.select().withName(P);return!(!D||!(0,S.jX)(D.expr)||!this.updateExpression(f,u,w=>(0,p.eu)(w,V,b,T)))}orderBy(u){a.f.assertValue(this.defn,"this.defn"),this.defn=this.defn.orderBy(u)}removeOrderBy(u){a.f.assertValue(this.defn,"this.defn"),this.defn=this.defn.removeOrderBy(u)}removeUnusedOrderBy(){a.f.assertValue(this.defn,"this.defn");var u=this.defn,f=u.orderBy();for(var b of f){var V=b.expr;u.selectNameOf(V)||(this.defn=u.removeOrderBy(V))}}addTransform(u,f,b){a.f.assertValue(u,"transformPlugin"),a.f.assertAnyValue(f,"parameters"),a.f.assertValue(this.defn,"this.defn"),a.f.assertValue(u,"transformPlugin");var V={},T=this.defn.transforms();for(var P of T)V[P.name]=!0;var D=(0,t.zE)(V,u.name);this.defn=this.defn.transforms(T.concat([{algorithm:u.name,name:D,input:{parameters:f},output:void 0}]));var M=u.name===r.Gr.KMeansClustering.name&&b.grouping&&b.grouping.cluster;for(var A of u.outputRoles){var R=A.name;M&&(R=b.grouping.cluster.clusteringRole),this.add((0,p.hu)(A.algorithmRole),R,{exprName:A.columnName?A.columnName:A.algorithmRole})}return D}removeTransform(u,f){a.f.assertValue(u,"transformPlugin"),a.f.assertValue(f,"transformName"),a.f.assertValue(this.defn,"this.defn");var b=_.find(this.defn.transforms(),T=>T.name===f);if(b){for(var V of u.outputRoles)this.removeExpr((0,p.hu)(V.algorithmRole),!1);this.defn=this.defn.removeTransform(b)}}updateTransform(u,f){a.f.assertValue(u,"transformName"),a.f.assertAnyValue(f,"parameters"),a.f.assertValue(this.defn,"this.defn");var b=_.find(this.defn.transforms(),V=>V.name===u);b&&(b.input.parameters=f)}clone(){return new h(this.defn,(0,g.d9)(this.projections),(0,l.d9)(this.expansionStates),this._isDrillDisabled)}equals(u){return!!(0,y.C6)(this.defn,u.defn)&&_.isEqual(this.projections,u.projections)&&_.isEqual(this.expansionStates,u.expansionStates)&&this._isDrillDisabled===u.isDrillDisabled}ensureDrillableRoles(u){a.f.assert(()=>!!u,"ensureDrillableRoles drillableRoleNames");var f=[];for(var b of u)this.ensureActiveItems(b)&&f.push(b);return f}ensureActiveItems(u,f=!1){var b=this.projections[u];if(!b)return!1;var V=b.all();if(!_.isEmpty(V)){if(this._isDrillDisabled)return!1;if(f||_.isEmpty(b.activeProjectionRefs))return b.activeProjectionRefs=[V[0].queryRef],!0}return!1}changeDrillStateValue(u,f,b){for(var V of u){var T=this.projections[V];if(T)if(f)T.activeProjectionRefs=void 0;else{var P=_.uniqBy(T.all(),M=>M.queryRef),D=_.uniq(T.activeProjectionRefs),w=b?.[V];(w||P.length||D.length)&&(T.activeProjectionRefs=w??(D[0]?[D[0]]:[P[0].queryRef]))}}f&&(this.expansionStates=[]),this._isDrillDisabled=f}toggleShowAll(u){var f=this.projections[u];f&&(f.showAll=!f.showAll)}hasShowAll(){return!_.isEmpty(this.projections)&&_.some(this.projections,u=>u.showAll)}roleContainsExpr(u,f){var b=this.projections[u],V=b&&b.all();if(_.isEmpty(V))return!1;var T=this.defn.select();for(var P of T)for(var D of V)if(D.queryRef===P.name&&(0,y.fS)(f,P.expr))return!0;return!1}getRoleNameForExpr(u){var f=this.projections;for(var b in f){var V=this.tryGetExprs(b);if(V&&V.length>0)for(var T of V)if((0,y.fS)(u,T))return b;var P=f[b].getFieldParameters();if(!_.isEmpty(P))for(var D of P)if((0,y.fS)(D.expr,u))return b}}tryGetNamedExpr(u,f){var b=(0,g.cY)(this.projections,u);if(b){var V=b.convertFieldIndexToProjectionIndex(f),T=b.all()[V];return(0,n.SA)(this.defn,T)}}tryGetExpr(u,f){var b=this.tryGetNamedExpr(u,f);return b?.expr}tryGetExprs(u){var f=(0,n.XP)(this.defn,this.projections,u);if(void 0!==f)return _.map(f,b=>b.expr)}tryGetFieldExprs(u){return(0,n.r)(this.defn,this.projections,u)}getUniqueQueryRefs(){var u=_.values(this.projections);return _.chain(u).map(f=>f.getQueryRefs()).flatten().uniq().value()}getUniqueQueryFields(){var u=_.keys(this.projections);return _.chain(u).map(f=>this.tryGetFieldExprs(f)).flatten().uniqWith(h.isEqualQueryFields).value()}getHiddenUniqueQueryFields(){return this.getUniqueQueryFields().filter(u=>!!u.isHidden)}hasProjections(){return _.values(this.projections).some(f=>f.all().length>0)}currentDrillMode(u){var f=this.getRoleProjections(u);if(!_.isEmpty(f)){var b=this.projections[u];if(b){var V=b.activeProjectionRefs;if(!_.isEmpty(V)){if(V.length>1)return C.Mf.DownWithCurrentGroup;if(V[0]!==f[0].queryRef)return C.Mf.DownWithoutCurrentGroup}}}}addSelect(u,f,b){var V=this.defn;this.defn=V=V.addSelect(u,f,b);var T=V.select(),P=T.length-1;return a.f.assert(()=>(0,y.fS)(u,T[P].expr,!1,!0),"Failed to find new expr in the query."),T[P].name}static isEqualQueryFields(u,f){return u.isFieldParameter||f.isFieldParameter||void 0===u.queryName||void 0===f.queryName?u.isFieldParameter===f.isFieldParameter&&(0,y.fS)(u.expr,f.expr):u.queryName===f.queryName}updateExpansionStates(u,f){if(!_.isEmpty(this.expansionStates)){_.remove(this.expansionStates,D=>!D.supportsMerge);var b=(0,l.D5)(this.expansionStates,u);if(b)if(_.isEmpty(this.projections[u])||_.isEmpty(this.projections[u].all()))_.remove(this.expansionStates,D=>D===b);else{var V=_.takeWhile(b.roles,D=>D!==u),T=this.getRolesUniqueActiveProjectionsRefs(V,b.canCollapseRoot).length;f(b,T);var P=b.getVisibleDescendentsDepth(b.root,-1);this.setActiveProjections(b.roles,P)}}}resetHiddenState(u){for(var f in this.projections)this.projections[f].resetHiddenState(u)}removeAllProjectionsForExpr(u,f){var b=this,V=this.defn,T=V.selectNameOf(u);if(!T)return!1;_.remove(this.expansionStates,M=>!M.supportsMerge);var P=this.projections,D=function(M){var A=(0,l.D5)(b.expansionStates,M),R=P[M],B=R.all(),N=A&&_.takeWhile(A.roles,G=>G!==M),W=N&&b.getRolesUniqueActiveProjectionsRefs(N,A&&A.canCollapseRoot).length;if(f){var F=b.getQueryFieldParametersByRole(M),U=_.filter(F,G=>(0,y.fS)(G.expr,f));for(var O of U)for(var x=O.length-1;x>=0;x--){var I={indexInParameter:x,parameter:O},L=R.getParameterProjectionIndex(O,x);B[L]?.queryRef===T&&(R.removeProjection(I),b.updateActiveProjectionRefAndExpansionState(M,T,W,L))}}else for(var K=B.length-1;K>=0;K--){var z=R.convertProjectionIndexToFieldIndex(K),H=R.getColumnProjection(z);H?.queryRef===T&&(R.removeProjection({fieldIndex:z}),b.updateActiveProjectionRefAndExpansionState(M,T,W,K))}if(0!==B.length&&A){var k=A.getVisibleDescendentsDepth(A.root,-1);b.setActiveProjections(A.roles,k)}};for(var w in P)D(w);return this.isUsed(T)||(this.defn=V.removeSelect(u).removeOrderBy(u)),!0}updateActiveProjectionRefAndExpansionState(u,f,b,V){var P=this.projections[u],D=P.all(),w=(0,l.D5)(this.expansionStates,u),M=P.activeProjectionRefs;_.pull(M,f),M&&_.isEmpty(M)&&!_.isEmpty(D)&&M.push(D[Math.max(0,V-1)].queryRef),w&&w.removeLevel(b+V)}updateExpression(u,f,b,V){var T=this.projections[u],P=T?T.all():void 0;if(!P)return!1;var D=T.convertFieldIndexToProjectionIndex(f);if(D>=P.length)return!1;var w=this.defn,M=P[D].queryRef,A=w.select(),R=(0,i.g2)(A,M),B=A[R].expr,N=b(B),W=w.selectNameOf(N);return W?(T.updateQueryRef(D,W),this.isUsed(M)||(this.defn=w.removeSelect(B)),!0):(this.getUsageCount(M)>1?T.updateQueryRef(D,this.addSelect(N,void 0,V)):this.defn=w.setSelectAt(R,N,V),!0)}isUsed(u){return this.getUsageCount(u)>0}getUsageCount(u){var f=0,b=this.projections;for(var V in b){var T=b[V].all();f+=_.filter(T,P=>P.queryRef===u).length}return f}getRoleProjections(u){a.f.assertValue(u,"roleName");var f=(0,g.cY)(this.projections,u);if(f)return f.all()}addNewQueryRefToActiveProjectionRefsIfNeeded(u,f,b){var V=this.getRoleProjections(u),T=this.projections[u].activeProjectionRefs;T&&(T.length>1&&b<T.length?T.splice(b,0,f):1===T.length&&0===b&&V.length>1&&V[1].queryRef===T[0]&&T.splice(0,1,f))}getRolesProjectionRefs(u){var f=[];for(var b of u){var V=this.projections[b];if(V){var T=_.map(V.all(),P=>P.queryRef);f.push(...T||[])}}return f}getRolesUniqueProjectionRefs(u){return _.uniq(this.getRolesProjectionRefs(u))}getQueryFieldParametersByRole(u){if(!_.isEmpty(this.projections)){var f=this.projections[u];return f?f.getFieldParameters():[]}}getParameterProjectionExprs(u){var f=[],b=this.projections;for(var V in b){var T=b[V],P=T.findParameterBySQExpr(u);for(var D of P){var M=T.getParameterProjections(D).map(R=>this.defn.select().withName(R.queryRef).expr);f.push({exprs:M,parameter:D})}}return f}getVisualCalcExpressions(){return this.defn.select().filter(u=>(0,S.jX)(u.expr))}getQueryFieldParameters(){if(_.isEmpty(this.projections))return[];var u=[];for(var f in this.projections){var b=this.projections[f];b&&u.push(...b.getFieldParameters())}return u}hasQueryFieldParameters(){return!_.isEmpty(this.getQueryFieldParameters())}hasVisualCalcExpressions(){return this.defn.select().some(u=>(0,S.jX)(u.expr))}hasOnlyVisualCalculations(){return this.defn.select().every(u=>(0,S.jX)(u.expr))}hasSparklineExpressions(){return this.defn.select().some(u=>(0,S.tO)(u.expr))}hasHiddenProjections(){for(var u in this.projections){var f=this.getRoleProjections(u);if(_.some(f,b=>b.hidden))return!0}return!1}resetExpansionStates(){this.expansionStates=[]}getRolesActiveProjectionsRefs(u,f,b=!1){var w,V=this,T=[],P=f||_.some(u,A=>this.projections[A]&&!_.isEmpty(this.projections[A].activeProjectionRefs)),D=function(){var A=V.projections[M];if(!A)return 0;var R=P?A.activeProjectionRefs:A.getQueryRefs();if(!R)return 0;if(b){var B=_.map(A.projected(),F=>F.queryRef),N=_.filter(R,F=>B.includes(F));T.push(...N)}else T.push(...R);var W=A.all();return W.length!==R.length&&_.uniqBy(W,F=>F.queryRef).length!==_.uniq(R).length?1:void 0};for(var M of u)if(0!==(w=D())&&1===w)break;return T}getRolesUniqueActiveProjectionsRefs(u,f){return _.uniq(this.getRolesActiveProjectionsRefs(u,f))}static areEqualIgnoringAggregate(u,f,b){return(0,y.fS)((0,m.n)(u,b),(0,m.n)(f,b))}setActiveProjections(u,f){if(a.f.assertNonEmpty(u,"roles"),!this._isDrillDisabled){var b=this.projections;a.f.assertValue(b,"projections");var V=(0,l.Vt)(this.expansionStates,u);for(var T of(V&&V.pinLevels(f),u))if(f>0){var P=b[T]&&b[T].all();a.f.assertValue(P,"roleProjections");var M,D=_.uniqBy(P,A=>A.queryRef);M=f>=D.length?D:_.take(D,f),b[T].activeProjectionRefs=_.map(M,A=>A.queryRef),f-=M.length}else b[T]&&(b[T].activeProjectionRefs=[])}}hasVisibleProjections(){if(!this.hasProjections())return!1;for(var u in this.projections){var f=this.getRoleProjections(u);if(_.some(f,b=>!b.hidden))return!0}return!1}}},571466:function(ve,j,e){e.d(j,{B:function(){return i}});var r=e(324569);function i(a){switch(a){case r.tX.Default:return"Default";case r.tX.DataFilter:return"DataFilter";case r.tX.HighlightFilter:return"HighlightFilter";case r.tX.NoFilter:return"NoFilter"}}},982225:function(ve,j,e){e.d(j,{g:function(){return r}});var r=function(i){return i[i.UserState=0]="UserState",i[i.Temporary=1]="Temporary",i[i.Personal=2]="Personal",i[i.Annotation=3]="Annotation",i[i.MobileState=4]="MobileState",i[i.SpatialAnchor=5]="SpatialAnchor",i[i.Subscription=6]="Subscription",i[i.Export=99]="Export",i}({})},982912:function(ve,j,e){e.d(j,{Hg:function(){return n}});var r=e(990297),i=e(62414);function a(p,s){var d=function(p,s){var d=[],o=[],v=p.visualContainers.slice();for(var m of s.visualContainers)if(void 0===m.id)d.push(m);else{var c=(0,r.Jq)(v,m.id);if(c){var C=v.indexOf(c);v.splice(C,1),(0,i.fS)(c,m)||o.push(m)}else d.push(m)}return{added:d,updated:o,removed:v}}(p,s);return{added:d.added,updated:d.updated,removed:d.removed,page:s,originalPage:p}}function n(p,s){var d=function(p,s){for(var d=[],o=[],v=p.slice(),m=0,c=s.length;m<c;m++){var C=s[m];if(void 0===C.id)d.push(C);else{var y=(0,r.Jq)(v,C.id);if(y){var S=v.indexOf(y);v.splice(S,1);var h=a(y,C);o.push(h)}else d.push(C)}}return{added:d,updated:o,removed:v}}(p.sections,s.sections),o=function(p,s){var d=[],o=[],v=s||[],m=p?p.slice():[];for(var c of v)if(void 0===c.id)d.push(c);else{var C=c.id,y=_.findIndex(m,S=>S.id===C);y>=0?(o.push({updatedPod:c,originalPod:m[y]}),m.splice(y,1)):d.push(c)}return{added:d,removed:m,updated:o}}(p.pods,s.pods);return{pages:d,pods:o}}},349033:function(ve,j,e){e.d(j,{G:function(){return r}});var r={withData:!0,excludeHighContrastTheme:!0,forSave:!0}},106421:function(ve,j,e){e.d(j,{NO:function(){return p},R$:function(){return n},RT:function(){return l},Wp:function(){return t},oZ:function(){return g},ox:function(){return i},yM:function(){return a}});var r=e(650543),i=-1,a=0,t=-1e7,l=1e7,g=1e3,n=5;function p(){return new s}class s{getContainerListOrders(o,v){var m={};for(var c of o)m[c.name]=v(c);return m}getSortedContainerNames(o,v){var m=v?"asc":"desc";return _.chain(o).keys().orderBy(c=>o[c],m).value()}settingListOrder(o,v,m,c){for(var C of v)o[C]=m,m+=c;return m}checkIfExtremitiesSurpassed(o,v,m){var c,C,y,S;return m?(c=a,C=l,y=v[_.head(o)]<c,S=v[_.last(o)]>C):(c=i,C=t,y=v[_.head(o)]>c,S=v[_.last(o)]<C),!(!y&&!S)}shouldNormalizeListOrder(o,v){var c,m=this.getSortedContainerNames(o,v);if(this.checkIfExtremitiesSurpassed(m,o,v)||_.some(o,E=>void 0===E))return!0;for(var C of m){var y=o[C];if(null!=c){var S=y>=0==c>=0;if(Math.abs(y-c)<n&&S)return!0}c=y}return!1}normalizeListOrder(o,v){var m=this.getSortedContainerNames(o,v),c=v?l-a:t-i,C=v?Math.min(c/m.length,g):Math.max(c/m.length,-g);r.f.assert(()=>Math.abs(C)>=n,"Too many visuals to normalize list orders");var y=v?a:i,S={};return y=this.settingListOrder(S,m,y,C),S}}},40266:function(ve,j,e){e.d(j,{i:function(){return c}});var r=e(60978),i=e(426313),a=e(650543),t=e(695795),l=e(630881),g=e(524426),n=e(891135),p=e(461251),s=e(661214),d=e(274493),o=e(104816),v=e(324569),m=e(741714);function c(y,S,h,E){return new C(y,S,h,E)}class C{constructor(S,h,E,u){this.eventBridge=S,this.visualPlugin=h,this.visualPluginOps=E,this.runningVisualService=u}getSupportedDrillDirections(S,h){var E=this.getProjections(S);if(!E)return o.gT.None;var u=S.config.singleVisual,f=this.visualPlugin.capabilities(u.visualType);if(!f||f.drilldown&&f.drilldown.suppresDrillOperations)return o.gT.None;var b=(0,n.WO)(f,!!u.query?.isDrillDisabled),V=h?b.filter(R=>R===h):b,T=o.gT.None;for(var P of V){var D=E[P];if(D&&D.activeProjectionRefs){var w=D.all();if(1===w.length)continue;var M=D.activeProjectionRefs,A=this.findActiveProjectionIndexInQueryCollection(w,M);!_.isEmpty(M)&&A+M.length!==w.length&&(this.canDrillDownLevel(S,o.Mf.DownWithCurrentGroup,P)&&(T|=o.gT.DownWithCurrentGroup),this.canDrillDownLevel(S,o.Mf.DownWithoutCurrentGroup,P)&&(T|=o.gT.DownWithoutCurrentGroup)),!_.isEmpty(D.activeProjectionRefs)&&(0!==A||M.length>1)&&(T|=o.gT.Up)}}return T}setDrillMode(S,h){S&&S.drillMode!==h&&(S.drillMode=h,this.raiseDrillModeChanged(S,h))}canSeeData(S){if(!(S&&S.config&&S.config.singleVisual&&S.config.singleVisual.query))return!1;var h=(0,p.s)(S),E=this.runningVisualService.getVisual(S);return!(E&&E.getErrorInfo())&&g.j.supportsVisualDetails(h,this.visualPlugin,this.visualPluginOps)}canDrillToDetails(S,h){if(!S)return!1;var E=(0,s.Xf)(S);if(!E)return!1;var u=(0,p.s)(S);if(u===m.D.lineChart||u===m.D.areaChart||u===m.D.stackedAreaChart||u===m.D.hundredPercentStackedAreaChart)return!1;var f=(0,s.cj)(S,this.visualPlugin);if(!f||!1===f.supportsSelection)return!1;var b=_((0,s.oJ)(S)).filter(R=>(0,r.iV)(R.expr)).map(R=>R.name).value();if(_.isEmpty(b)||!_.isEmpty(h)&&!_.includes(b,_.head(_.head(h).metadata)))return!1;var V=f.dataRoles;if(_.isEmpty(V))return!1;var T=_(V).filter(R=>R.kind===l.DW.Measure&&R.joinPredicate!==l.ps.None).map(R=>R.name).value(),P=0;for(var D of T){var w=E.projections[D];if(!_.isEmpty(w)){if(++P>1)return!1;var M=w.all();if(_.some(M,R=>!_.includes(b,R.queryRef)))return!1}}return 0!==P}canDrillByDirection(S,h,E){if(!S)return!1;var u=this.runningVisualService.getVisual(S);if(u&&u.getErrorInfo())return!1;var b=this.getSupportedDrillDirections(S,E);return!!b&&(0,t.yE)(b,h)}canDrillthrough(S){return!!S}isDrillModeEnabled(S,h){return!!S&&S.drillMode===h}drillToLastLevel(S){if(null!=S&&null!=S.config.singleVisual.query){var h=S.config.singleVisual,E=this.visualPlugin.capabilities(h.visualType),u=(0,n.WO)(E,!!h.query?.isDrillDisabled);if(!_.isEmpty(u)){var f=function(){if(b){var V=h.query.projections[b];if(null!=V){var T=V.getLastActiveQueryReference();if(null!=T){var P=V.getQueryRefs(),D=P.indexOf(T);a.f.assert(()=>-1!==D,"last active query ref must be valid in projection");for(var w=D+1;w<P.length;w++)V.addActiveQueryReference(P[w])}}}};for(var b of u)f()}}}canDrillDownLevel(S,h,E){a.f.assert(()=>h!==o.Mf.Up,"Incompatible drill direction");var u=(0,s.Xf)(S);if(!u)return!1;var f=(0,s.cj)(S,this.visualPlugin);if(!f||f.drilldown&&f.drilldown.suppresDrillOperations||!E)return!1;var b=u.projections[E],V=b.getLastActiveQueryReference();if(!V)return!1;for(var D,T=_.findIndex(b.all(),M=>M.queryRef===V),P=function(){var M=b.all()[w],A=u.defn.select().withName(M.queryRef)?.expr;if(a.f.assert(()=>!!A,"Projection is not in the select"),A&&0===_.filter(S.filters,R=>(a.f.assertValue(R,`canDrillDownLevel: visualContainer with name ${S.name} contains blank value in .filters`),null!=R&&R.howCreated===v.OO.Drill&&(0,i.fS)(A,R.expression))).length)return{v:u.currentDrillMode(E)===h}},w=0;w<T;w++)if(D=P())return D.v;return h!==o.Mf.DownWithoutCurrentGroup||!_.find(u.expansionStates,M=>_.find(M.roles,A=>A===E)&&M.isStateModified())}getProjections(S){return S&&S.config&&S.config.singleVisual&&S.config.singleVisual.query&&S.config.singleVisual.query.projections}findActiveProjectionIndexInQueryCollection(S,h){if(!_.isEmpty(h))for(var E=0;E<S.length;E++){for(var u=E,f=0;f<h.length&&u<S.length&&h[f]===S[u].queryRef;)f++,u++;if(f===h.length)return E}return-1}raiseDrillModeChanged(S,h){a.f.assertValue(S,"visualContainer"),a.f.assertValue(h,"drillMode"),this.eventBridge.publishToChannel(d.tbw,{visualContainer:S})}}},575270:function(ve,j,e){e.d(j,{K$:function(){return i},n:function(){return a}});var i=function(t){return t[t.MatchNonTransient=0]="MatchNonTransient",t[t.RematchAll=1]="RematchAll",t}({}),a=function(t){return t[t.DrillthroughOnly=0]="DrillthroughOnly",t[t.AllExceptReport=1]="AllExceptReport",t[t.All=2]="All",t}({})},104816:function(ve,j,e){e.d(j,{C8:function(){return i},Gy:function(){return m},J1:function(){return y},J4:function(){return l},Ll:function(){return t},Mf:function(){return r},N7:function(){return o},VI:function(){return C},Vk:function(){return s},dE:function(){return S},gT:function(){return a},ke:function(){return d},rQ:function(){return n},vy:function(){return p},yk:function(){return c}});var r=function(h){return h[h.Up=1]="Up",h[h.DownWithCurrentGroup=2]="DownWithCurrentGroup",h[h.DownWithoutCurrentGroup=3]="DownWithoutCurrentGroup",h}({}),i=function(h){return h[h.Remove=0]="Remove",h[h.Move=1]="Move",h[h.Add=2]="Add",h}({}),a=function(h){return h[h.None=0]="None",h[h.Up=1]="Up",h[h.DownWithCurrentGroup=2]="DownWithCurrentGroup",h[h.DownWithoutCurrentGroup=4]="DownWithoutCurrentGroup",h}({}),t=function(h){return h[h.Default=0]="Default",h[h.FieldParameterAdded=1]="FieldParameterAdded",h[h.OutputFilterChangeFromFieldParametersResolved=2]="OutputFilterChangeFromFieldParametersResolved",h}({}),l=function(h){return h[h.CheckboxTickedInFieldList=0]="CheckboxTickedInFieldList",h[h.DraggedToCanvas=1]="DraggedToCanvas",h[h.VisualTypeIconClicked=2]="VisualTypeIconClicked",h[h.DraggedToFieldWell=3]="DraggedToFieldWell",h[h.InsertVisualButton=4]="InsertVisualButton",h[h.WhatIfParameterControl=5]="WhatIfParameterControl",h[h.QnaDoubleClick=6]="QnaDoubleClick",h[h.QnaKeyboardShortcut=7]="QnaKeyboardShortcut",h[h.QnaAppBar=8]="QnaAppBar",h[h.FieldParameterControl=9]="FieldParameterControl",h[h.CanvasBackgroundContextMenu=10]="CanvasBackgroundContextMenu",h[h.AssistedCreation=11]="AssistedCreation",h[h.Copilot=12]="Copilot",h[h.ContextMenuPaste=13]="ContextMenuPaste",h[h.CopyPaste=14]="CopyPaste",h}({}),n=function(h){return h[h.Unknown=0]="Unknown",h[h.In=1]="In",h[h.Out=2]="Out",h}({}),p=function(h){return h.Ribbon="Ribbon",h.Pane="Pane",h.CustomVisual="CustomVisual",h.Skittle="Skittle",h.VisualHostService="VisualHostService",h.Unknown="Unknown",h}({}),s=function(h){return h[h.Selection=0]="Selection",h[h.Front=1]="Front",h[h.Back=2]="Back",h[h.Forward=3]="Forward",h[h.Backward=4]="Backward",h}({}),d=function(h){return h[h.Forward=0]="Forward",h[h.Backward=1]="Backward",h}({}),o=function(h){return h[h.Remove=0]="Remove",h[h.Add=1]="Add",h[h.Update=2]="Update",h[h.RefreshData=4]="RefreshData",h[h.Clear=10]="Clear",h[h.Resize=16]="Resize",h[h.SwitchType=32]="SwitchType",h[h.updateAsAggregation=64]="updateAsAggregation",h[h.updateTopNOrderByField=128]="updateTopNOrderByField",h[h.Rename=256]="Rename",h}({}),m=function(h){return h[h.Visual=0]="Visual",h[h.Section=1]="Section",h[h.Exploration=2]="Exploration",h}({}),c=function(h){return h[h.AddPodParameter=0]="AddPodParameter",h[h.DeletePodParameter=1]="DeletePodParameter",h[h.UpdatePodParameter=2]="UpdatePodParameter",h}({}),C=function(h){return h[h.Left=0]="Left",h[h.Center=1]="Center",h[h.Right=2]="Right",h[h.Top=3]="Top",h[h.Middle=4]="Middle",h[h.Bottom=5]="Bottom",h[h.DistributeHorizontally=6]="DistributeHorizontally",h[h.DistributeVertically=7]="DistributeVertically",h[h.ResizeMinHeight=8]="ResizeMinHeight",h[h.ResizeMaxHeight=9]="ResizeMaxHeight",h[h.ResizeMinWidth=10]="ResizeMinWidth",h[h.ResizeMaxWidth=11]="ResizeMaxWidth",h[h.ResizeMax=12]="ResizeMax",h[h.ResizeMin=13]="ResizeMin",h}({}),y=function(h){return h[h.FileMenu=0]="FileMenu",h[h.Button=1]="Button",h[h.Keyboard=2]="Keyboard",h[h.DialogPrompt=3]="DialogPrompt",h[h.WorkspaceUpgradedSave=4]="WorkspaceUpgradedSave",h}({}),S=function(h){return h[h.RScript=0]="RScript",h[h.PythonScript=1]="PythonScript",h}({})},274493:function(ve,j,e){e.d(j,{$$f:function(){return zr},$4A:function(){return Ur},$Bd:function(){return V},$cv:function(){return U},AGj:function(){return Se},AJY:function(){return be},AKi:function(){return x},Ah$:function(){return k},Ak9:function(){return Qt},AuF:function(){return Ye},BmV:function(){return st},C98:function(){return Xt},CCe:function(){return f},CVC:function(){return lr},Cvt:function(){return yt},D1A:function(){return Ve},DRd:function(){return _t},DSN:function(){return te},Diu:function(){return Lt},EBW:function(){return Me},EHv:function(){return ut},F$x:function(){return Mr},FRm:function(){return c},GQv:function(){return Gr},Gru:function(){return we},Gtn:function(){return Hr},H8N:function(){return $e},HGU:function(){return ee},HOc:function(){return Pe},ICs:function(){return re},IQ6:function(){return E},IVK:function(){return qr},JAC:function(){return Xr},JEb:function(){return ar},JOk:function(){return Ae},JXP:function(){return bt},K7E:function(){return It},KCT:function(){return Fr},KD7:function(){return P},KcO:function(){return _e},LE3:function(){return t},Lx_:function(){return Rr},MEZ:function(){return Ne},Mp3:function(){return qe},MuO:function(){return Yt},NPq:function(){return at},OKC:function(){return he},OOb:function(){return Dt},OPn:function(){return Ee},Of1:function(){return ke},Oij:function(){return v},Orc:function(){return Ze},P6l:function(){return Qr},PNq:function(){return A},PbX:function(){return Xe},Pkb:function(){return lt},QvS:function(){return me},R4M:function(){return xe},RVE:function(){return Z},RVt:function(){return F},RW6:function(){return Et},Rif:function(){return B},SVs:function(){return l},TN0:function(){return kr},TTT:function(){return de},TWs:function(){return it},Td8:function(){return se},TrJ:function(){return sr},Tuj:function(){return o},Tyr:function(){return et},U8y:function(){return b},UAI:function(){return s},UBn:function(){return i},UKs:function(){return At},UMW:function(){return I},UbK:function(){return kt},Udu:function(){return Ie},Un:function(){return ie},UoE:function(){return xt},UpY:function(){return u},UqZ:function(){return Br},V0C:function(){return ue},Vrk:function(){return tt},VuV:function(){return C},WJC:function(){return p},WR7:function(){return R},Woo:function(){return gt},Wqo:function(){return Ge},Wu9:function(){return ot},Y2Y:function(){return Je},YUD:function(){return Oe},YXt:function(){return ye},_$U:function(){return Qe},aco:function(){return h},acr:function(){return Kt},add:function(){return hr},aoT:function(){return ht},bE6:function(){return m},bSZ:function(){return Or},bnO:function(){return Vt},cY_:function(){return nt},cyb:function(){return ce},d8V:function(){return d},doP:function(){return M},eDj:function(){return tr},eE4:function(){return wt},f8w:function(){return Pt},gG5:function(){return Jr},gsN:function(){return Nt},gsv:function(){return St},ieg:function(){return ae},ilH:function(){return Ke},j3G:function(){return fe},jCS:function(){return G},jsX:function(){return Fe},lio:function(){return z},m3l:function(){return Ue},mB3:function(){return Sr},mIo:function(){return Y},mSO:function(){return Q},miB:function(){return He},mke:function(){return y},msw:function(){return pt},nY5:function(){return wr},oRp:function(){return g},ooc:function(){return n},ow8:function(){return W},pSw:function(){return Jt},qHu:function(){return Ot},qTM:function(){return D},qTk:function(){return Ct},qwl:function(){return q},r8B:function(){return ze},rlN:function(){return Gt},rvf:function(){return Ht},sEi:function(){return ne},sPA:function(){return Vr},t4l:function(){return N},tRg:function(){return T},tYc:function(){return X},tbw:function(){return O},uB4:function(){return ft},uL6:function(){return mr},ubE:function(){return ea},uff:function(){return Re},up$:function(){return pe},urK:function(){return Le},v3I:function(){return $t},vBx:function(){return _r},wAN:function(){return H},wCO:function(){return jt},wW:function(){return a},weO:function(){return Bt},wiL:function(){return mt},wrl:function(){return Ir},x1m:function(){return Lr},x4H:function(){return Te},y5h:function(){return rt},yVh:function(){return We},yhh:function(){return Be},z99:function(){return w},zYm:function(){return J},zdm:function(){return Ce},zgs:function(){return je}});var r=e(110159),i=function(Ft){return Ft[Ft.Unknown=0]="Unknown",Ft[Ft.Swipe=1]="Swipe",Ft}({}),a={type:r.u.Global,name:"modelChangeApplyingUpdate"},t={type:r.u.Section,name:"explorationLoaded"},l={type:r.u.Section,name:"explorationUnloaded"},g={type:r.u.Exploration,name:"explorationContainerReady"},n={type:r.u.Section,name:"explorationSlowDataSourceSettingsLoaded"},p={type:r.u.Section,name:"explorationSettingsLoaded"},s={type:r.u.Section,name:"updateNavButtonEvent"},d={type:r.u.Visual,name:"userActionTriggered"},o={type:r.u.Visual,name:"filterContainerChanged"},v={type:r.u.Section,name:"applyAllBufferedFilterCardChange"},m={type:r.u.Section,name:"applyAllClicked"},c={type:r.u.Section,name:"applyAllSlicersClicked"},C={type:r.u.Section,name:"explorationFiltersContainerChanged"},y={type:r.u.Section,name:"sectionFiltersContainerChanged"},h={type:r.u.Section,name:"formFactorChanged"},E={type:r.u.Section,name:"canvasLayoutChanged"},u={type:r.u.Data,name:"modelChanging"},f={type:r.u.Data,name:"modelChanged"},b={type:r.u.Visual,name:"visualRelationshipsModeChanged"},V={type:r.u.Data,name:"schemaItemActivationChanged"},T={type:r.u.Visual,name:"selectionChanged"},P={type:r.u.Visual,name:"visualTypeChanged"},D={type:r.u.Visual,name:"visualLinkButtonClicked"},w={type:r.u.Visual,name:"dataPointsSelected"},M={type:r.u.Visual,name:"dataHyperlinkClicked"},A={type:r.u.Visual,name:"visualClicked"},R={type:r.u.Section,name:"undoRedoStackUpdated"},B={type:r.u.Section,name:"undoRedoStackCleared"},N={type:r.u.Section,name:"onReportChanged"},W={type:r.u.Global,name:"onReportChanged"},F={type:r.u.Section,name:"clipboardDataUpdated"},U={type:r.u.Visual,name:"dataSelectionChanged"},O={type:r.u.Visual,name:"drillModeChanged"},x={type:r.u.Exploration,name:"refreshExploration"},I={type:r.u.Visual,name:"clearAnnotations"},z={type:r.u.Section,name:"sectionLayoutRemoved"},H={type:r.u.Section,name:"canvasChanged"},J={type:r.u.Visual,name:"visualContainerParentActivityLinkingDone"},k={type:r.u.Visual,name:"fieldWellFieldRemoved"},G={type:r.u.Visual,name:"visualContainerChanged"},q={type:r.u.Visual,name:"fieldParametersApplied"},Q={type:r.u.Visual,name:"visualContainerAdded"},Z={type:r.u.Visual,name:"cancelVisualQuery"},X={type:r.u.Visual,name:"triggerDataRefresh"},re={type:r.u.Visual,name:"visualContainerGroupChanged"},te={type:r.u.Visual,name:"visualContainerGroupRendered"},se={type:r.u.Visual,name:"visualContainerDataRenderingStarted"},Ve={type:r.u.Visual,name:"visualContainerDataRendered"},ke={type:r.u.Visual,name:"canvasItemContainerPositionChanged"},Ue={type:r.u.Visual,name:"visualContainerLoadingStarted"},ot={type:r.u.Visual,name:"visualContainerLoadingStopped"},ft={type:r.u.Visual,name:"visualContainerQueryExecutionEnded"},Ct={type:r.u.Visual,name:"updateVisualMatrix"},Ke={type:r.u.Visual,name:"visualConversion"},Ae={type:r.u.Exploration,name:"focusExplorationEvent"},we={type:r.u.Global,name:"explorationInitializeEvent"},Ne={type:r.u.Visual,name:"focusVisualContainerEvent"},Se={type:r.u.Visual,name:"canvasSizeChanged"},Ie={type:r.u.Visual,name:"visualPluginsChanged"},me={type:r.u.Visual,name:"addCustomVisual"},Oe={type:r.u.Visual,name:"deleteCustomVisual"},Ee={type:r.u.Data,name:"modelingContextChanged"},xe={type:r.u.Visual,name:"changeViewMode"},ye={type:r.u.Visual,name:"requestViewModeChange"},Je={type:r.u.Exploration,name:"showThemeGallery"},he={type:r.u.Visual,name:"editModeChanged"},Ce={type:r.u.Visual,name:"getClusters"},je={type:r.u.Visual,name:"toggleSortVisualContainer"},pe={type:r.u.Visual,name:"toggleSortDirectionVisualContainer"},Qe={type:r.u.Section,name:"saveEventViaCtrlS"},ut={type:r.u.Section,name:"highContrastModeChanged"},lt={type:r.u.Section,name:"canvasDisplayChanged"},Et={type:r.u.Section,name:"canvasZoomChanged"},bt={type:r.u.Section,name:"canvasZoomScaleUpdated"},Ot={type:r.u.Section,name:"canvasDimensionChanged"},Dt={type:r.u.Exploration,name:"explorationObjectsLoaded"},ne={type:r.u.Exploration,name:"explorationObjectsChanged"},Fe={type:r.u.Section,name:"sectionObjectsEvaluated"},$e={type:r.u.Section,name:"sectionObjectsChanged"},qe={type:r.u.Exploration,name:"showDataSourceVariablesDialog"},rt={type:r.u.Visual,name:"visibilityChanged"},ce={type:r.u.Visual,name:"canvasItemHiddenChanged"},be={type:r.u.Section,name:"align"},ae={type:r.u.Section,name:"deleteSectionInitiated"},de={type:r.u.Section,name:"sectionNameChanged"},ee={type:r.u.Section,name:"sectionDeleted"},Pe={type:r.u.Section,name:"renameSection"},We={type:r.u.Section,name:"sectionChanged"},it={type:r.u.Section,name:"podParameterChanged"},yt={type:r.u.Visual,name:"missingTableRelationship"},et={type:r.u.Section,name:"addVisualContainer"},mt={type:r.u.Exploration,name:"addCustomVisualToCanvas"},ie={type:r.u.Visual,name:"deleteVisualContainer"},Y={type:r.u.Section,name:"addInsightContainer"},fe={type:r.u.Section,name:"addQnaContainer"},Be={type:r.u.Section,name:"showQnaPopoutEventArgs"},Ze={name:"canvasPinched",type:r.u.Section},St={type:r.u.Section,name:"arrangeVisualsOrder"},kt={type:r.u.Section,name:"createBasicShape"},Gt={type:r.u.Section,name:"createShape"},Ht={type:r.u.Section,name:"createActionButton"},tr={type:r.u.Section,name:"createPageNavigator"},ar={type:r.u.Section,name:"createTextbox"},He={type:r.u.Section,name:"importVisual"},Bt={type:r.u.Section,name:"installVisual"},ze={type:r.u.Section,name:"downloadVisual"},st={type:r.u.Visual,name:"newQueryCacheResultAvailable"},Lt={type:r.u.Visual,name:"exportVisualData"},Qt={type:r.u.Section,name:"exportVisualDataFromPane"},$t={type:r.u.Visual,name:"addCommentVisual"},lr={type:r.u.Visual,name:"shareToTeamsVisual"},_r={type:r.u.Section,name:"createSection"},Mr={type:r.u.Section,name:"deleteSection"},Vr={type:r.u.Section,name:"duplicateSection"},Lr={type:r.u.Section,name:"insertSection"},Fr={type:r.u.Section,name:"reorderSection"},Ur={type:r.u.Section,name:"switchSection"},Br={type:r.u.Exploration,name:"explorationNextPage"},wr={type:r.u.Exploration,name:"explorationPreviousPage"},Gr={type:r.u.Exploration,name:"startExplorationContainerLoading"},mr={type:r.u.Exploration,name:"stopExplorationContainerLoading"},Rr={type:r.u.Visual,name:"showEnableScriptVisualsDialog"},ea={type:r.u.Section,name:"canvasResized"},Hr={type:r.u.Global,name:"openReportFinished"},qr={type:r.u.Global,name:"openReportLoadingScreenHidden"},kr={type:r.u.Global,name:"visualQueryThrottled"},Qr={type:r.u.Global,name:"datasetNotFound"},Ir={type:r.u.Global,name:"ShowVisuals"},Jr={type:r.u.Section,name:"bookmarkApplied"},hr={type:r.u.Section,name:"exploreCanvasVisualRendered"},zr={type:r.u.Visual,name:"ReportVisualError"},Or={type:r.u.Global,name:"ReportVisualError"},Xr={type:r.u.Exploration,name:"visualThumbnailDoubleClicked"},It={type:r.u.Visual,name:"removeVisualContainerFromLayout"},Pt={type:r.u.Section,name:"pauseQueriesChanged"},tt={type:r.u.Visual,name:"deleteCustomVisuals"},_e={type:r.u.Global,name:"resetPersistentUserState"},Ge={type:r.u.Section,name:"resetUserStateKeyPressedEvent"},Me={type:r.u.Global,name:"resetUserStateEvent"},at={type:r.u.Exploration,name:"reloadPersistenState"},Xe={type:r.u.Section,name:"togglePaneVisibility"},ue={type:r.u.Visual,name:"visualDrillFilterOtherVisualsSettingChanged"},Re={type:r.u.Data,name:"emulationChanged"},pt={type:r.u.Exploration,name:"showOtherBookmarks"},Kt={type:r.u.Visual,name:"parentExpandCollapseAction"},Jt={type:r.u.Exploration,name:"bookmarkViewStateChanged"},sr={type:r.u.Data,name:"exportDataEnded"},Xt={type:r.u.Visual,name:"visualContainerControllerLinked"},Sr={type:r.u.Global,name:"insightsInFocusPaneClose"},Le={type:r.u.Global,name:"insightSelected"},Ye={type:r.u.Global,name:"getRelatedInsights"},ht={type:r.u.Global,name:"viewInsightInFocus"},gt={type:r.u.Data,name:"autoPageRefreshTriggered"},Vt={type:r.u.Visual,name:"drillthroughActionTriggered"},xt={type:r.u.Global,name:"anchorTimeUpdated"},At={type:r.u.Global,name:"visualCancelLoadEvent"},jt={type:r.u.Visual,name:"shareVisual"},Nt={type:r.u.Visual,name:"shareVisualToPPT"},Yt={type:r.u.Visual,name:"reflexAlert"},Te={type:r.u.Visual,name:"findAnomalies"},nt={type:r.u.Visual,name:"forecast"},_t={type:r.u.Visual,name:"toggleDataTable"};function wt(Ft,zt){return Ft.visualContainer===zt}},600117:function(ve,j,e){e.d(j,{A:function(){return p}});var r=e(796071),i=e(650543),a=e(128735),t=e(191282),l=e(461251),g=e(661214),n=e(104816);function p(d,o){return i.f.assertValue(d,"visualPlugin"),i.f.assertValue(o,"featureSwitch"),new s(d)}class s{constructor(o){this.visualPlugin=o}getExpandCollapseRoles(o){(0,r.wS)(o,"visual should have a value");var v=this.visualPlugin.capabilities((0,l.s)(o));if(v&&v.expandCollapse&&!_.isEmpty(v.expandCollapse.roles)){var m=(0,g.Xf)(o);if(!m?.isDrillDisabled)return v.expandCollapse.roles}}isSupported(o,v,m){if(!v||!o||!o.supportsInstanceFilters)return!1;var c=(0,g.Xf)(v);return!(!c||!_.isEmpty(m)&&_.some(m,C=>c.currentDrillMode(C)===n.Mf.DownWithoutCurrentGroup)||c.isDrillDisabled)}isEnabled(o,v){if((0,r.wS)(o,"visual should have a value"),_.isEmpty(v))return!1;var m=this.getExpandCollapseRoles(o);return!(_.isEmpty(m)||_.some(v,c=>-1===_.indexOf(m,c)))}getMaximumExpansionDepth(o,v){if(this.isEnabled(o,v)){var m=(0,g.Xf)(o);if(m){var c=m.getRolesProjectionRefs(v);return i.f.assertValue(c,"getRolesProjectionRefs should have returned an array"),c.length}}}getAllowedActions(o,v,m){var c=(0,g.Xf)(o);if(c&&this.isEnabled(o,v)&&!_.isEmpty(m)&&1===m.length){var C=m[0];if(C&&C.dataMap&&!_.isEmpty(C.dataMap)){var y=(0,t.CT)((0,t.tV)(C));if(!_.isEmpty(y)){var S=c.getRolesUniqueProjectionRefs(v),h=c.getRolesUniqueActiveProjectionsRefs(v,this.canCollapseRoot(o)),E=h.length===S.length,u=_.some(v,w=>c.currentDrillMode(w)===n.Mf.DownWithoutCurrentGroup);if(1===S.length||u)return{};var f=this.getSelectorRefs(C);if(!_.some(f,w=>!_.includes(h,w))){var b=y.length,V=b===S.length,T=b===h.length,P=(0,a.Vt)(c.expansionStates,v);if(P){var D=P.getNodeLevelState(y,P.root,0);return i.f.assertValue(D,"getNodeLevelState returned undefined"),{expandNode:!V&&!!D.isNodeCollapsed,collapseNode:!T&&!D.isNodeCollapsed,expandLevel:!V&&(D.levelHasToggledNodes||!!D.isNodeCollapsed),collapseLevel:!T&&(D.levelHasToggledNodes||!D.isNodeCollapsed),expandHierarchy:!E||!P.isHierarchyExpanded(),collapseHierarchy:!P.isWholeLevelCollapsed(0)}}return{expandNode:!V&&T,collapseNode:!T,expandLevel:!V&&T,collapseLevel:!T,expandHierarchy:!E,collapseHierarchy:h.length>1}}}}}}getSelectorRefs(o){if(!o||!o.dataMap||_.isEmpty(o.dataMap))return[];var v=[];for(var m in o.dataMap)v.push(m);return v}expandNode(o,v,m){var c=this.setNodeState(o,v,m,!1);if(c){var C=this.ensureExpansionState(o,v),y=this.getSelectorRefs(m);i.f.assert(()=>this.canCollapseRoot(o)||!_.isEmpty(y),"selectorRefs must not be empty when root node cannot be collapsed");var h=C.getVisibleDescendentsDepth(c,y.length-1),E=(0,g.Xf)(o);E&&h>E.getRolesUniqueActiveProjectionsRefs(v,this.canCollapseRoot(o)).length&&this.setActiveProjections(o,v,h)}}collapseNode(o,v,m){this.setNodeState(o,v,m,!0);var c=this.ensureExpansionState(o,v),C=c.getVisibleDescendentsDepth(c.root,-1);this.setActiveProjections(o,v,C)}expandLevel(o,v,m,c=!1){var C=this.ensureExpansionState(o,v);this.setLevelState(o,v,m,!1,c);var y=C.getVisibleDescendentsDepth(C.root,-1);this.setActiveProjections(o,v,y)}collapseLevel(o,v,m,c=!1){this.setLevelState(o,v,m,!0,c),this.setActiveProjections(o,v,m+1)}expandAll(o,v){this.setAllLevelsState(o,v,!1);var m=this.ensureExpansionState(o,v);this.setActiveProjections(o,v,m.levels.length)}collapseAll(o,v){this.setAllLevelsState(o,v,!0),this.setActiveProjections(o,v,this.canCollapseRoot(o)?0:1)}pinLevels(o,v,m){this.ensureExpansionState(o,v).pinLevels(m)}unpinLevels(o,v,m){this.ensureExpansionState(o,v).unpinLevels(m)}lockLevels(o,v,m){this.ensureExpansionState(o,v).lockLevels(m)}unlockLevels(o,v,m){this.ensureExpansionState(o,v).unlockLevels(m)}setAILevelInformation(o,v,m,c,C){var y=this.ensureExpansionState(o,v);i.f.assert(()=>_.isEqual(y.levels[m].queryRefs,c),`Level at index ${m} does not match expected query refs`),y.setAILevelInformation(m,C)}getAILevelInformation(o,v,m){var c=(0,g.Xf)(o);return(0,a.DX)(c.expansionStates,v,m)}clearAILevelsInformation(o,v){for(var m=this.ensureExpansionState(o,v),c=0;c<_.size(m.levels);c++)m.setAILevelInformation(c,void 0)}setNodeState(o,v,m,c){var C=this.ensureExpansionState(o,v);i.f.assertValue(C,"expansionState"),i.f.assertValue(m,"selector");var y=this.getSelectorRefs(m);if(!_.isEmpty(y)||this.canCollapseRoot(o))return i.f.assert(()=>y.length<=C.levels.length,"attempt to expand a node from an inactive level"),C.setNodeState((0,t.tV)(m),c);i.f.assertFail("Collapse to root capability is not enabled")}setLevelState(o,v,m,c,C){var y=this.ensureExpansionState(o,v);if(i.f.assertValue(y,"expansionState"),i.f.assertNonEmpty(y.levels,"expansionState.levels"),C)for(var S=0;S<m;S++)i.f.assertValue(y.levels[S],`expandCollapseService.setLevelState - level for index ${S} doesn't exist`),y.setLevelState(S,!1);y.setLevelState(m,c)}setAllLevelsState(o,v,m){var c=this.ensureExpansionState(o,v);i.f.assertValue(c,"expansionState"),i.f.assertNonEmpty(c.levels,"expansionState.levels"),this.canCollapseRoot(o)&&c.setLevelState(-1,m);for(var C=c.levels,y=0;y<C.length-1;y++)c.setLevelState(y,m)}ensureExpansionState(o,v){i.f.assertValue(o,"VisualContainer"),i.f.assert(()=>this.isEnabled(o,v),"Expand/Collapse is not enabled");var m=(0,g.Xf)(o);i.f.assertValue(m,"VisualQuery");var c=this.visualPlugin.capabilities((0,l.s)(o)),C=c&&c.expandCollapse&&c.expandCollapse.supportsMerge,y=c&&c.expandCollapse&&c.expandCollapse.collapseParentAfterRemovingChildLevel,S=this.canCollapseRoot(o),h=m.ensureExpansionState(v,{supportsMerge:C,canCollapseRoot:S,collapseParentAfterRemovingChildLevel:y});return i.f.assertValue(h,"expansionState"),i.f.assertNonEmpty(h.levels,"expansionState.levels"),h}canCollapseRoot(o){var v=this.visualPlugin.capabilities((0,l.s)(o));return!(!v||!v.noDefaultProjections)}setActiveProjections(o,v,m){i.f.assertValue(o,"visualContainer"),i.f.assertNonEmpty(v,"roles"),this.canCollapseRoot(o)||i.f.assert(()=>m>0,"totalUniqueActiveProjectionsCount");var c=(0,g.Xf)(o);i.f.assertValue(c,"query"),c.setActiveProjections(v,m)}}},419854:function(ve,j,e){e.d(j,{F:function(){return g}});var r=e(650543),i=e(399026),a=e(42197),t=e(274493),l=e(104816);function g(s,d,o,v,m,c,C,y){return new n(s,d,o,v,m,c,C,y)}class n{constructor(d,o,v,m,c,C,y,S){this.state=d,this.navigation=o,this.eventBridge=v,this.visibility=m,this.filterGenerator=c,this.explorationActivity=C,this.telemetryService=y,this.runningVisualService=S,r.f.assertValue(d,"state"),r.f.assertValue(o,"navigation"),r.f.assertValue(v,"eventBridge"),r.f.assertValue(m,"visibility")}exploration(){return this.navigation.getCurrentExploration()}capture(d,o){var v=this.exploration();if(v)return this.state.capture(v,d,o)}apply(d,o,v,m){var c=this.exploration(),C=this.state.apply(d,c,o,v);return this.applyImpact(C,c,v,m),C}captureFilterState(d){return this.state.captureFilterState(d)}applyFilterState(d,o){if(!_.isEmpty(d)){var v=this.state.applyFilterState(d,o);this.explorationActivity.doActivity(m=>{this.eventBridge.publishToChannel(t.jCS,{affectContainer:c=>_.includes(v.visualContainers,c),parentActivity:m})},m=>this.telemetryService.startChildActivity(m&&m.event,i.bt))}}applyImpact(d,o,v,m){r.f.assertValue(o,"exploration"),r.f.assertValue(v,"applyStateOption"),m&&m.setProperty("options",function(s){var d,o,v;return!0===s.suppressDisplay||!1===s.suppressDisplay||null==s.suppressDisplay?d=o=!0===s.suppressDisplay:(d=s.suppressDisplay.outspacePane,o=s.suppressDisplay.visuals),s.defaultPresentationState&&(v=_.mapValues(s.defaultPresentationState,m=>_.mapValues(m,c=>({visualType:c.visualType,autoSelectVisualType:c.autoSelectVisualType,projections:_.map(_.filter(_.map(c.projections,(C,y)=>({exprs:C,role:y})),C=>!_.isEmpty(C.exprs)),C=>C.role)})))),{applyPresentationChanges:s.applyPresentationChanges,clearQueryCaches:s.clearQueryCaches,clearUnmatchedData:s.clearUnmatchedData,defaultPresentationState:v,stopDataQueries:s.stopDataQueries,suppressActiveSection:s.suppressActiveSection,suppressDataSourceVariables:s.suppressDataSourceVariables,suppressData:s.suppressData,suppressOutspacePaneDisplayOptions:d,suppressUnmatchedClearHidden:s.suppressUnmatchedClearHidden,suppressVisualsDisplayOptions:o,targetVisualNames:s.targetVisualNames}}(v)),this.explorationActivity.doActivity(c=>{var C=d.dataSourceVariables,y=[];if(C&&r.f.assert(()=>!v.suppressDataSourceVariables,"suppressDataSourceVariables"),d.objects&&this.eventBridge.publishToChannel(t.sEi),d.filterScope===l.Gy.Exploration&&(r.f.assert(()=>!v.suppressData,"suppressData"),this.eventBridge.publishToChannel(t.VuV,{container:o}),C=!0),d.activeSection)r.f.assert(()=>!v.suppressActiveSection,"suppressActiveSection"),this.navigation.updateActiveSection({targetSectionIndex:o.activeSectionIndex,forceUpdate:!0,parentActivity:c,parentContextActivity:m});else if(d.filterScope===l.Gy.Section){r.f.assert(()=>!v.suppressData,"suppressData");var S=this.navigation.getCurrentSection();this.eventBridge.publishToChannel(t.mke,{container:S}),y=_.union(y,S.visualContainers)}else(d.filterScope===l.Gy.Visual||!_.isEmpty(d.visualContainers))&&(r.f.assert(()=>!v.suppressData||!v.suppressDisplay,"suppressData || suppressDisplay"),y=_.union(y,d.visualContainers));var h=[];if(C){this.eventBridge.publishToChannel(t.jCS,{affectContainer:_.stubTrue,parentActivity:c,parentContextActivity:m});var E=this.navigation.getCurrentSection();h.push(...E.visualContainers||[])}else _.isEmpty(y)||(this.eventBridge.publishToChannel(t.jCS,{affectContainer:B=>_.includes(y,B),parentActivity:c,parentContextActivity:m}),h.push(...y||[]));var u=d.visualContainerGroups;if(_.isEmpty(u)||(this.eventBridge.publishToChannel(t.ICs,{affectContainer:B=>_.includes(u,B)}),h.push(...u||[])),!v.suppressDisplay){if(d.visibility)this.visibility.set(d.visibility.visual,d.visibility.mode);else if(v.targetVisualNames){var b=_.filter(o.sections[o.activeSectionIndex].visualContainers,B=>_.includes(v.targetVisualNames,B.name));this.visibility.clearForVisualContainers(b)}else this.visibility.clear();_.isEmpty(h)||this.eventBridge.publishToChannel(t.cyb,{changedItems:h})}if(!v.suppressData){var V=d.pendingHighlights,T=this.navigation.getCurrentSection();if(V)for(var P of(this.filterGenerator.setMultipleFiltersOnSelectData(o,T,V,c,void 0),V)){var D=P.sourceVisualContainer,w=this.runningVisualService.getVisual(D),M=D.config.singleVisual;w?(P.filterExpressionMetadata&&(0,a.XV)(P.selection,P.filterExpressionMetadata),w.setSelectedDatapoints(P.selection,!0)):M.pendingSelection=P.selection}else if(v.targetVisualNames){var A=o.sections[o.activeSectionIndex],R=_.filter(A.visualContainers,B=>_.includes(v.targetVisualNames,B.name));this.filterGenerator.clearCrossHighlightForVisualContainers(A,R,c,void 0)}else this.filterGenerator.clearCrossHighlight(T,c,void 0)}},c=>this.telemetryService.startChildActivity(c&&c.event,i.bt))}}},203849:function(ve,j,e){e.d(j,{e:function(){return F},O:function(){return N}});var r=e(479265),i=e(990297),a=e(650543),t=e(14817),l=e(128735),g=e(481785),n=e(191282);function p(Z,X){return Z===X||null!=Z&&null!=X&&Z.objectName===X.objectName&&Z.propertyName===X.propertyName}var s=e(719242),d=e(482693),o=e(461361),v=e(446775),m=e(914094),c=e(442407),C=e(247425),y=e(426313),S=e(906927),h=e(561415),E=e(324569),u=e(104816),f=e(214492),b=e(475507),V=e(636685),T=e(399026),P=e(270305),D=e(891135),w=e(628391),M=e(747563),A=e(661214),R=e(486442),B=function(Z){return Z[Z.None=0]="None",Z[Z.InvalidActiveSection=1]="InvalidActiveSection",Z[Z.NonDrillthroughFilterInTransientFilters=2]="NonDrillthroughFilterInTransientFilters",Z[Z.MismatchedFilterNames=4]="MismatchedFilterNames",Z[Z.ExpectedOneVisualLevelAutoFilterForExpression=8]="ExpectedOneVisualLevelAutoFilterForExpression",Z[Z.OnlyIncludeExcludeSupported=16]="OnlyIncludeExcludeSupported",Z[Z.InvalidDrillFilterExpression=32]="InvalidDrillFilterExpression",Z[Z.FiltersContainerOfADrillFilterShouldBeVisualContainer=64]="FiltersContainerOfADrillFilterShouldBeVisualContainer",Z[Z.InvalidVisualFilterOutput=128]="InvalidVisualFilterOutput",Z[Z.OnlyOneRoleAllowedInExpansionStates=256]="OnlyOneRoleAllowedInExpansionStates",Z}({});function N(Z,X,re,te,se,Ve,ke,Ue,ot,ft,Ct,Ke){return new q(Z,X,re,te,se,Ve,ke,Ue,ot,ft,Ct,Ke)}function W(Z,X,re){if(a.f.assertAnyValue(Z,"contracts"),a.f.assertValue(X,"filterScopeType"),!_.isEmpty(Z)){var te={};for(var se of Z)re(se)||(I(se)?(te.transientFilters||(te.transientFilters=[]),te.transientFilters.push(F(se))):K(se)&&!_.isEmpty(se.name)?(te.nameIdentifiedMerges||(te.nameIdentifiedMerges={}),te.nameIdentifiedMerges[se.name]=F(se)):L(se)?(te.exprIdentifiedMerges||(te.exprIdentifiedMerges=[]),te.exprIdentifiedMerges.push(F(se))):z(se)?(te.typeIdentifiedMerges||(te.typeIdentifiedMerges=[]),te.typeIdentifiedMerges.push(F(se))):(_.isEmpty(se.name)&&(se.name=P.l.getNextFilterName(Z)),te.nameIdentifiedMerges||(te.nameIdentifiedMerges={}),te.nameIdentifiedMerges[se.name]=F(se)));if(!_.isEmpty(te))return te}}function F(Z){return a.f.assertValue(Z,"filterContainer"),{name:Z.name,type:Z.type,filter:Z.filter,expression:Z.expression,restatement:Z.restatement,howCreated:Z.howCreated,isTransient:Z.isTransient,cachedValueItems:Z.cachedValueItems,filterExpressionMetadata:_.cloneDeep(Z.filterExpressionMetadata)}}function U(Z){return a.f.assertValue(Z,"filterContainerState"),a.f.assertAnyValue(name,"name"),{name:Z.name,type:Z.type,filter:Z.filter,expression:Z.expression,restatement:Z.restatement,howCreated:Z.howCreated,isTransient:Z.isTransient,cachedValueItems:Z.cachedValueItems,filterExpressionMetadata:_.cloneDeep(Z.filterExpressionMetadata),displayName:Z.displayName}}function O(Z,X){Z.filter=X.filter,Z.cachedValueItems=X.cachedValueItems,Z.filterExpressionMetadata=_.cloneDeep(X.filterExpressionMetadata),Z.type=X.type}function x(Z){Z.filter=void 0,Z.cachedValueItems=void 0,Z.filterExpressionMetadata=void 0}function I(Z){return!!Z.isTransient}function L(Z){return!!Z.expression}function K(Z){return Z.isHiddenInViewMode||Z.isLockedInViewMode}function z(Z){return Z.howCreated===E.OO.Include||Z.howCreated===E.OO.Exclude}var J=new WeakMap;function k(Z,X,re){return!!X.filterState||(J.has(re)?te=J.get(re):(te=(0,d.MD)(re),J.set(re,te)),!!te&&_.some([te],Z));var te}function G(Z){return _.some([{objectName:"outspacePane",propertyName:"expanded"},{objectName:"outspacePane",propertyName:"visible"}],Z)}class q{constructor(X,re,te,se,Ve,ke,Ue,ot,ft,Ct,Ke,Ae){this.expandCollapse=X,this.filterGenerator=re,this.plugins=te,this.visualPluginOps=se,this.aggrOps=Ve,this.featureSwitchService=ke,this.sortService=Ue,this.drillService=ot,this.telemetryService=Ke,this.nonDrillthroughIsLinkedAsAggregationCallback=we=>(a.f.assertValue(we,"filter"),a.f.assert(()=>we.howCreated!==E.OO.Drillthrough,"Only drillthrough filters can be linked as aggregation. This should not be called for drillthrough filters."),!1),this.visualAuthoringCore=(0,R.Vz)(te,ft,Ve,ke,Ct,Ae)}capture(X,re,te){a.f.assertValue(X,"exploration"),a.f.assert(()=>null!=X.activeSectionIndex,"exploration.activeSectionIndex != null");var se=X.sections[X.activeSectionIndex],Ve={activeSection:se.name,filters:W(X.filters,u.Gy.Exploration,this.nonDrillthroughIsLinkedAsAggregationCallback),sections:{}};if(this.featureSwitchService.featureSwitches.dataSourceVariablesOverride&&!te.suppressDataSourceVariables&&(Ve.dataSourceVariables=X.dataSourceVariables),X.objects&&(Ve.objects=this.captureExplorationObjects(X.objects)),te.captureAllSections)for(var ke of X.sections)Ve.sections[ke.name]=this.captureSection(ke,re,X,te.capturePresentation);else Ve.sections[se.name]=this.captureSection(se,re,X,te.capturePresentation);return Ve}captureExplorationObjects(X){return this.captureObjects(S.W,X,G)}captureFilterState(X){var re=this.captureFilterStateObjects(X.visualType,X.objects);return{visualType:X.visualType,objects:re,cachedFilterDisplayItems:X.cachedFilterDisplayItems,filterExpressionMetadata:X.filterExpressionMetadata}}captureSection(X,re,te,se){a.f.assertValue(X,"contract");var ke=this.getCrossHighlights(X);return{filters:W(X.filters,u.Gy.Section,ot=>(0,w.fF)(te,X,ot)),visualContainers:this.captureVisualContainers(X.visualContainers,ke,re,se),visualContainerGroups:this.captureVisualContainerGroups(X.visualContainerGroups)}}getCrossHighlights(X){return X&&X.crossFilterSource&&X.crossFilterSource.highlight}captureVisualContainerGroups(X){var re;for(var te of(a.f.assertValue(X,"contracts"),X))if((0,b.q4)(te)){var se={};if(null!=te.isHidden&&(se.isHidden=te.isHidden),!_.isEmpty(te.children)){var Ve=this.captureVisualContainerGroups(te.children);se.children=Ve}(null!=se.isHidden||null!=se.children)&&((re=re||{})[te.name]=se)}return re}captureVisualContainers(X,re,te,se){var Ve=this;a.f.assertValue(X,"contracts");var ke={},Ue=function(){a.f.assertValue(ot.name,"contract.name");var Ct,ft=ot.config.singleVisual;if(!ft)return 1;if(!_.isEmpty(re)){var Ke=_.find(re,me=>me.sourceVisualContainer.config.singleVisual===ft&&!_.isEmpty(me.selection));Ke&&(Ct={selection:Ke.selection,filterExpressionMetadata:Ke.filterExpressionMetadata?Ke.filterExpressionMetadata:void 0})}var we={filters:W(_.union(ot.filters,Ve.getAdditionalVisualFiltersToCapture(ot,te)),u.Gy.Visual,Ve.nonDrillthroughIsLinkedAsAggregationCallback),singleVisual:{visualType:ft.visualType,objects:Ve.captureVisualObjects(ft.visualType,ft.objects),cachedFilterDisplayItems:ft.cachedFilterDisplayItems,filterExpressionMetadata:ft.filterExpressionMetadata},highlight:Ct};null!=ft.autoSelectVisualType&&(we.singleVisual.autoSelectVisualType=ft.autoSelectVisualType);var Ne=ot.visibility;null!=Ne&&Ne!==E.sB.None&&Ne!==E.sB.VisualCalcEditing&&(we.visibility=Ne),(0,f.xj)(ft)&&(we.singleVisual.hidden=!0);var Se=ft.query,Ie=se&&ft.presentationChangesApplied;(Ie||Se&&Se.hasQueryFieldParameters())&&(Ie&&(we.singleVisual.targetType=ft.visualType),null!=ft.autoSelectVisualType&&(we.singleVisual.targetAutoSelectVisualType=ft.autoSelectVisualType),Se&&Se.projections&&Se.defn&&(we.singleVisual.projections=(0,M.rl)(Se,Ie))),Se&&Se.projections&&Ve.featureSwitchService.featureSwitches.fieldParameters&&(we.singleVisual.parameters=(0,M.xF)(Se)),Se&&Se.defn&&(we.singleVisual.orderBy=Se.defn.orderBy()),Se&&Se.projections&&(we.singleVisual.activeProjections=Ve.captureActiveProjections(Se)),Se&&Se.expansionStates&&(we.singleVisual.expansionStates=(0,l.d9)(Se.expansionStates)),Se&&Se.isDrillDisabled&&(we.singleVisual.isDrillDisabled=Se.isDrillDisabled),ke[ot.name]=we};for(var ot of X)Ue();return ke}captureActiveProjections(X){var re,te=X.defn.select();for(var se in X.projections){var ke=X.projections[se].activeProjectionRefs;if(!_.isEmpty(ke)){var Ue=_.map(ke,ot=>{var ft=te.withName(ot);return ft?ft.expr:null});re||(re={}),re[se]=Ue}}return re}captureVisualObjects(X,re){return this.captureFilterStateObjects(X,re)}captureFilterStateObjects(X,re){var te=this.plugins.capabilities(X);return te&&te.objects?this.captureObjects(te.objects,re,k):{}}captureObjects(X,re,te){var se={};for(var Ve in X){var ke=X[Ve];for(var Ue in ke.properties){var ot=ke.properties[Ue],ft={objectName:Ve,propertyName:Ue};if(ot.captureState||te(ft,ot,X)){var Ct=re?.[Ve];if(Ct)for(var Ke of Ct){var Ae=(0,s.NA)(re,ft,Ke.selector);Ae&&(0,s.sO)(se,ft,Ke.selector,Ae)}}}}var we={};return _.isEmpty(se)||(we.merge=se),we}apply(X,re,te,se){a.f.assertValue(X,"state"),a.f.assertValue(re,"exploration");var Ve={visualContainers:[],visualContainerGroups:[],issues:[]};for(var ke in se.suppressActiveSection||this.applyActiveSection(X.activeSection,re,Ve),!se.suppressData&&!se.targetVisualNames&&this.applyFilters(X.filters,re,u.Gy.Exploration,Ve,se.clearUnmatchedData,[],void 0,te,this.nonDrillthroughIsLinkedAsAggregationCallback),X.objects&&this.applyExplorationObjects(X.objects,re,Ve,se),X.sections){var Ue=(0,i.rC)(re.sections,ke);if(Ue){var ot=X.sections[ke],ft=!se.suppressActiveSection||this.isActiveSection(Ue.name,re);this.applySection(re,ot,Ue,te,Ve,se,ft)}}return Ve.activeSection&&null!=Ve.filterScope&&(0,A.Dl)(re.sections[re.activeSectionIndex]),se.suppressDataSourceVariables||this.applyDataSourceVariables(X.dataSourceVariables,re,Ve),_.isEmpty(Ve.issues)||this.telemetryService.logEvent(T.b_,{context:"apply",issues:_.reduce(Ve.issues,(Ke,Ae)=>Ke|Ae.type,B.None)}),Ve}applyExplorationObjects(X,re,te,se){var Ve={};X&&X.merge&&(Ve.merge=(0,s.d9)(X.merge));var ke=re.objects||{};for(var Ue in Ve.merge)for(var ot of Ve.merge[Ue]){var ft=(0,s.zx)(ke,Ue,ot.selector);for(var Ct in ot.properties){var Ke=ot.properties[Ct];this.shouldApplyExplorationProperty(Ue,se)&&!(0,s.ES)(ft.properties[Ct],Ke)&&(te.objects=!0,ft.properties[Ct]=Ke)}}return te.objects&&!re.objects&&(re.objects=ke),te}isDisplayOptions(X){return void 0!==X&&void 0!==X.outspacePane&&void 0!==X.visuals}shouldApplyExplorationProperty(X,re){return"outspacePane"===X&&this.isDisplayOptions(re.suppressDisplay)?!re.suppressDisplay.outspacePane:!re.suppressDisplay}applyFilterState(X,re){var te={visualContainers:[],visualContainerGroups:[],issues:[]};for(var se of X){var Ve=se.visual,ke=se.state,Ue=Ve.config.singleVisual,ot=this.plugins.capabilities(Ue.visualType),ft=se.impacted;(ft=this.applyObjects(ke,Ue,ke.objects,ot.objects,re,te,!1)||ft)&&!_.includes(te.visualContainers,Ve)&&te.visualContainers.push(Ve)}return _.isEmpty(te.issues)||this.telemetryService.logEvent(T.b_,{context:"applyFilterState",issues:_.reduce(te.issues,(Ct,Ke)=>Ct|Ke.type,B.None)}),te}isActiveSection(X,re){return X===re.sections[re.activeSectionIndex].name}applyActiveSection(X,re,te){if(a.f.assertValue(X,"activeSection"),a.f.assertValue(re,"target"),a.f.assertValue(te,"impact"),!this.isActiveSection(X,re)){var se=(0,i.g2)(re.sections,X);se>=0?(re.activeSectionIndex=se,te.activeSection=!0):te.issues.push({type:B.InvalidActiveSection})}}applyDataSourceVariables(X,re,te){a.f.assertValue(re,"target"),a.f.assertValue(te,"impact"),X?(re.dataSourceVariables=X,te.dataSourceVariables=!0):re.dataSourceVariables=void 0}applyFilters(X,re,te,se,Ve,ke,Ue,ot,ft){var Ct=!1,Ke=[],Ae={nameIdentifiedMerges:_.clone(X&&X.nameIdentifiedMerges||{}),exprIdentifiedMerges:[...X&&X.exprIdentifiedMerges||[]],typeIdentifiedMerges:[...X&&X.typeIdentifiedMerges||[]],transientFilters:[...X&&X.transientFilters||[]]};if(Ct=this.applyRemainingFilters(Ae,re,te===u.Gy.Visual,se,Ke,ke,Ue,ot,ft)||Ct,Ve&&re.filters)for(var we=re.filters.length-1;we>=0;we--){var Ne=re.filters[we];Ne?Ne.type!==h.vA.Passthrough&&(_.includes(Ke,Ne)||(Ne.howCreated===E.OO.Drill?(re.filters.splice(we,1),this.addImpactCrossDrillSourceUpdate(Ue,re,te===u.Gy.Visual,se)):x(Ne),Ct=!0)):re.filters.splice(we,1)}return Ct&&this.setMinimumFilterScope(se,te),Ct}applyRemainingFilters(X,re,te,se,Ve,ke,Ue,ot,ft){var Ct=this.applyTransientFilters(X,re,Ve,se);if(Ct=this.applyMatchingFilterByName(X,re,Ve,se)||Ct,!_.isEmpty(X.nameIdentifiedMerges)){for(var Ke in X.nameIdentifiedMerges)X.exprIdentifiedMerges.push(X.nameIdentifiedMerges[Ke]);X.nameIdentifiedMerges={}}Ct=this.applyMatchingFilterByExpr(X,re,te,Ve,ot,ft,se)||Ct,Ct=this.applyMatchingFilterByType(X,re,Ve,se)||Ct;var Ae=this.applyDrillFilters(X,re,Ve,ke,se);return Ct=Ae||Ct,Ae&&this.addImpactCrossDrillSourceUpdate(Ue,re,te,se),Ct}addImpactCrossDrillSourceUpdate(X,re,te,se){if(function(Z,X){return!!Z&&!!X}(re,te)){a.f.assertValue(X,"section");var ke=this.filterGenerator.updateCrossDrillFromVisualContainersOperation(X,[re]);se.visualContainers=_.union(se.visualContainers,ke)}else a.f.assertFail("FiltersContainer of a drill filter should be VisualContainer."),se.issues.push({type:B.FiltersContainerOfADrillFilterShouldBeVisualContainer})}applyMatchingFilterByName(X,re,te,se){if(a.f.assertAnyValue(X,"remainingFiltersState"),a.f.assertValue(re,"target"),a.f.assertValue(te,"appliedTargetFilters"),_.isEmpty(X)||_.isEmpty(X.nameIdentifiedMerges)||_.isEmpty(re.filters))return!1;var Ve=!1,ke=[],Ue=function(ft){var Ct=X.nameIdentifiedMerges[ft];Ct.name!==ft&&(a.f.assertFail("mismatched filter names"),se.issues.push({type:B.MismatchedFilterNames}));var Ke=_.findIndex(re.filters,Ae=>Ae.howCreated===Ct.howCreated&&!_.includes(te,Ae)&&Ae.name===ft);-1!==Ke&&(m.yl.isSameFilter(re.filters[Ke].filter,Ct.filter)||(O(re.filters[Ke],Ct),Ve=!0),ke.push(ft),te.push(re.filters[Ke]))};for(var ot in X.nameIdentifiedMerges)Ue(ot);return ke.forEach(ft=>{delete X.nameIdentifiedMerges[ft]}),Ve}applyMatchingFilterByExpr(X,re,te,se,Ve,ke,Ue){var ot=this;if(a.f.assertAnyValue(X,"remainingFiltersState"),a.f.assertValue(re,"target"),a.f.assertValue(te,"isVisualScope"),a.f.assertValue(se,"appliedTargetFilters"),_.isEmpty(X)||_.isEmpty(X.exprIdentifiedMerges))return!1;for(var Ke,we,ft=!1,Ct=!1,Ae=[...X.exprIdentifiedMerges||[]],Ne=function(){var Se=we.howCreated;if(Se===E.OO.Drill)return Ae.splice(0,1),1;var Ie=_.remove(Ae,Qe=>Qe===we||Qe.howCreated===Se&&(0,y.fS)(Qe.expression,we.expression)),me=[];if((re.filters||[]).forEach((Qe,ut)=>{Qe&&Qe.howCreated===Se&&!_.includes(se,Qe)&&!ke(Qe)&&(0,y.fS)(Qe.expression,we.expression)&&(!K(Qe)||Qe.name===we.name)&&me.push(ut)}),_.isEmpty(me)&&te&&Se===E.OO.Auto)if(we.filter){1!==Ie.length&&(a.f.assertFail("expecting <= 1 visual-level auto filter for an expression."),Ue.issues.push({type:B.ExpectedOneVisualLevelAutoFilterForExpression})),Ct||(Ct=!0,Ke=(0,A.i4)(re,ot.visualPluginOps,Ve,ot.aggrOps));var Oe=_.find(Ke,Qe=>(0,y.fS)(Qe.expression,we.expression));Oe&&((re.filters||(re.filters=[])).push(Oe),me.push(re.filters.length-1))}else _.remove(X.exprIdentifiedMerges,we),_.remove(Ie,we);if(me.length>0){for(var Ee=Math.min(Ie.length,me.length);Ie.length>Ee;){var xe=_.findIndex(Ie,Qe=>_.isEmpty(Qe.filter));if(-1===xe)break;Ie.splice(xe,1)}for(var ye=0;ye<Ee;ye++){var Je=me[ye];m.yl.isSameFilter(re.filters[Je].filter,Ie[ye].filter)||(O(re.filters[Je],Ie[ye]),ft=!0),se.push(re.filters[Je])}for(var he=Ee;he<Ie.length;he++){var Ce=U(Ie[he]);(re.filters||(re.filters=[])).push(Ce),se.push(Ce),ft=!0}for(var je=Ee;je<me.length;je++)x(re.filters[me[je]]),ft=!0;X.exprIdentifiedMerges=_.difference(X.exprIdentifiedMerges,Ie)}};we=_.head(Ae);)Ne();return ft}applyDrillFilters(X,re,te,se,Ve){var ke=!1;if(_.isEmpty(se)||_.isEmpty(X)||_.isEmpty(X.exprIdentifiedMerges))return ke;var Ue=[],ot=function(Ke){if(Ke.howCreated!==E.OO.Drill)return 0;if(!_.find(se,Se=>(0,y.fS)(Ke.expression,Se)))return Ve.issues.push({type:B.InvalidDrillFilterExpression}),0;var we=_.find(re.filters,Se=>Se.howCreated===E.OO.Drill&&!_.includes(te,Se)&&(0,y.fS)(Se.expression,Ke.expression));if(we)m.yl.isSameFilter(we.filter,Ke.filter)||(O(we,Ke),ke=!0),te.push(we);else{var Ne=U(Ke);(re.filters||(re.filters=[])).push(Ne),te.push(Ne),ke=!0}Ue.push(Ke)};for(var Ct of X.exprIdentifiedMerges)ot(Ct);return X.exprIdentifiedMerges=_.difference(X.exprIdentifiedMerges,Ue),ke}applyMatchingFilterByType(X,re,te,se){var Ve=!1;if(_.isEmpty(X)||_.isEmpty(X.typeIdentifiedMerges))return Ve;var ke=[],Ue=function(ft){ft.howCreated===E.OO.Include||ft.howCreated===E.OO.Exclude||(a.f.assertFail("Only include/exclude supported"),se.issues.push({type:B.OnlyIncludeExcludeSupported}));var Ct=_.find(re.filters,Ae=>Ae.howCreated===ft.howCreated&&!_.includes(te,Ae));if(Ct)O(Ct,ft),te.push(Ct);else{var Ke=U(ft);(re.filters||(re.filters=[])).push(Ke),te.push(Ke)}ke.push(ft),Ve=!0};for(var ot of X.typeIdentifiedMerges)Ue(ot);return X.typeIdentifiedMerges=_.difference(X.typeIdentifiedMerges,ke),Ve}applyTransientFilters(X,re,te,se){var Ve=!1;if(!_.isEmpty(X)&&!_.isEmpty(X.transientFilters)){var ke=function(ft){ft.howCreated===E.OO.Drillthrough&&!0===ft.isTransient||(a.f.assertFail("only drillthrough transient filters are supposed to be in transientMerges"),se.issues.push({type:B.NonDrillthroughFilterInTransientFilters}));var Ct=_.find(re.filters,Ae=>Ae.isTransient&&!_.includes(te,Ae)&&m.yl.isSameFilter(Ae.filter,ft.filter));if(Ct)O(Ct,ft),te.push(Ct);else{var Ke=U(ft);(re.filters||(re.filters=[])).push(Ke),te.push(Ke)}Ve=!0};for(var Ue of X.transientFilters)ke(Ue);X.transientFilters=[]}var ot=_.remove(re.filters,ft=>ft&&ft.isTransient&&!_.includes(te,ft));return Ve=Ve||!_.isEmpty(ot)}applySection(X,re,te,se,Ve,ke,Ue){var ot=this;ke.suppressData||ke.targetVisualNames||this.applyFilters(re.filters,te,u.Gy.Section,Ve,ke.clearUnmatchedData,[],te,se,Se=>(0,w.fF)(X,te,Se));var Ct=function(){var Se=Ke.name;if(ke.targetVisualNames&&!_.includes(ke.targetVisualNames,Se))return 1;var me,Ie=re.visualContainers&&re.visualContainers[Se];if(null!=Ie?(me=ot.applyVisualState(X,Ie,te,Ke,se,Ve,ke,Ue,!0),Ie.highlight&&!ke.suppressData&&Ue&&(a.f.assert(()=>!_.isEmpty(Ie.highlight.selection),"Selection is empty"),ot.isSelectionValid(Ie.highlight.selection,Ke.config.singleVisual,se)&&(null==Ve.pendingHighlights&&(Ve.pendingHighlights=[]),a.f.assert(()=>!ke.suppressData,"suppressData"),Ve.pendingHighlights.push({selection:Ie.highlight.selection,sourceVisualContainer:Ke,filterExpressionMetadata:Ie.highlight.filterExpressionMetadata})))):ke.clearUnmatchedData&&(me=ot.applyVisualState(X,{},te,Ke,se,Ve,ke,Ue,!1)),!_.isEmpty(me)){var Ee=_.without(me,...Ve.visualContainers||[]);Ve.visualContainers.push(...Ee||[])}};for(var Ke of te.visualContainers)Ct();var Ae=this.getCrossHighlights(te);for(var we of te.visualContainerGroups)if((0,b.q4)(we)){var Ne=re.visualContainerGroups&&re.visualContainerGroups[we.name];null!=Ne&&this.applyVisualGroupState(Ne,te,we,Ve,ke,Ae)}}applyVisualState(X,re,te,se,Ve,ke,Ue,ot,ft){a.f.assertValue(Ve,"schema: applying a full visual state should include schema for group-on key checking for filter updates");var Ct=!1,Ke=re.singleVisual;if(!Ue.suppressData){var Ae=Ue.defaultPresentationState?.[te.name]?.[se.name],Ne=!1,Se=!1;if(this.presentationChangesAllowed(X,Ue,se,Ke,this.visualPluginOps)){var Ie=this.applyPresentationChanges(se,Ke,Ae,Ke&&Ke.parameters,Ve);Ne=Ie.changesApplied,Se=Ie.parametersRemoved}var me=!1;this.featureSwitchService.featureSwitches.fieldParameters&&(me=this.applyParameterStateByRole(Ve,se,Ke,Se));var Ee=this.applySort(se.config.singleVisual,Ke&&Ke.orderBy,Ue.clearUnmatchedData),Je=this.applyActiveProjectionsAndDrillState(se.config.singleVisual,Ke&&Ke.activeProjections,Ue.clearUnmatchedData,Ke?!!Ke.isDrillDisabled:!!se.config.singleVisual.query?.isDrillDisabled),he=this.collectValidDrillExprs(se.config.singleVisual),Ce=this.applyFilters(re.filters,se,u.Gy.Visual,ke,Ue.clearUnmatchedData,he,te,Ve,this.nonDrillthroughIsLinkedAsAggregationCallback),pe=this.applyExpansionStates(se,Ke&&Ke.expansionStates,Ue.clearUnmatchedData,Ve,ke),Qe=this.plugins.capabilities(se.config.singleVisual.visualType),lt=!1;Qe&&Qe.objects&&(lt=this.applyObjects(Ke,se.config.singleVisual,Ke&&Ke.objects,Qe.objects,Ve,ke,Ue.isPersistentState)),Ct=lt||Ne||Ee||Je||Ce||pe||me}var Et=[];if(!this.getSuppressDisplayOptions(Ue).visuals){var Ot=re.visibility;if(null!=Ot&&ot&&(ke.visibility={visual:se,mode:Ot}),!ft||Ke){var ne=!1;Ke?ne=!!Ke.hidden:Ue.suppressUnmatchedClearHidden&&(ne=(0,f.xj)(se.config.singleVisual)),Et.push(...this.applyHidden(ne,se,te)||[])}}return Ct&&!_.includes(Et,se)&&Et.push(se),Et}applyPresentationChanges(X,re,te,se,Ve){var ke=X.config.singleVisual;if(!re)return{changesApplied:!1,parametersRemoved:!1};var Ue=!re.targetType;if(Ue&&!ke.presentationChangesApplied)return{changesApplied:!1,parametersRemoved:!1};var ot=!1,ft=Ue?te?.visualType:re.targetType,Ct=Ue?te?.autoSelectVisualType:re.targetAutoSelectVisualType,Ke=Ue?te?.projections:re.projections;ft&&(ot=ft!==ke.visualType,ke.visualType=ft),null!=Ct&&(ot=ot||Ct!==ke.autoSelectVisualType,ke.autoSelectVisualType=Ct),!ke.query&&Ke&&(ke.query=new V.g(m.vQ.create(),{},[]));var{query:Ae}=ke;return Ke&&Ae?(this.applyVisualQueryPresentationChanges(Ae,Ke,se,X,Ve),ke.presentationChangesApplied=!Ue,{changesApplied:!0,parametersRemoved:!0}):(ke.presentationChangesApplied=ot,{changesApplied:ot,parametersRemoved:!1})}applyParameterStateByRole(X,re,te,se){var Ve=this;if(!te||!te.parameters)return!1;var ke=re.config.singleVisual;if(!ke.query&&se)ke.query=new V.g(m.vQ.create(),{},[]);else if(!ke.query)return!1;var Ue=te.parameters,ot=ke.query,ft={},Ct=ot.getResolveParameterResultsByRole();for(var Ke in Ue){var Ae=Ue[Ke];ft[Ke]=[];var we=ot.projections[Ke];if(!we&&se&&Ae.length>0&&(we=ot.projections[Ke]=new g.NQ([])),we)for(var Ne=function(){var Oe,me=Ae[Se];if(se){var Ee=ot.addParameter(me.expr,Ke,me.index);Oe=we.getParameterByFieldIndex(Ee);var xe=Ct[Ke];xe||(xe=Ct[Ke]=[]),xe.push({parameter:Oe,result:[]})}else{var ye=_.find(ft[Ke],Qe=>(0,y.fS)(Qe.expr,me.expr)),Je=ye?ye.count:0,he=_.sortBy(we.findParameterBySQExpr(me.expr),Qe=>Qe.index);if(Je>=he.length)return 1;Oe=he[Je],ye?ye.count++:ft[Ke].push({expr:me.expr,count:1})}var je=_.find(Ct[Ke],Qe=>Qe.parameter.index===Oe.index),pe=Ve.getProjectionsForParameter(Ae,Se,te.projections,Ke);je.result=_.map(pe,Qe=>({expr:Qe,alias:void 0}))},Se=0;Se<Ae.length;Se++)Ne()}return this.visualAuthoringCore.resolveParameters(X,re,Ct,this.drillService,this.sortService,void 0).queryChange}getProjectionsForParameter(X,re,te,se){var Ve=[],ke=X[re];if(void 0!==ke.length&&ke.length>0)for(var Ue=(0,v.VZ)(ke.index,X),ot=Ue;ot<Ue+ke.length;ot++)Ve.push(te[se][ot]);return Ve}applyVisualQueryPresentationChanges(X,re,te,se,Ve){for(var ke in X.projections)this.visualAuthoringCore.removeAllParametersAndProjectionsFromRole(ke,se,Ve,this.drillService,this.sortService);for(var Ue in re){var ot=this.getNonParameterExpressions(re[Ue],te,Ue),ft=void 0;for(ft=0;ft<ot.length;ft++){var Ct=ot[ft],Ke=!1;if(X.projections[Ue])for(var Ae=X.tryGetExprs(Ue),we=ft;we<Ae.length;we++)if((0,y.fS)(Ae[we],Ct,!0,!0,!0)){Ke=!0,we!==ft&&X.moveProjection(Ue,we,ft,1);break}Ke||X.add(Ct,Ue,{fieldIndex:ft})}if(X.projections[Ue])for(var Se=X.tryGetExprs(Ue).length;Se>ot.length&&Se>0;)X.removeProjection(Ue,{fieldIndex:--Se})}for(var Ie in X.projections){var me=this.getNonParameterExpressions(re[Ie],te,Ie);if(!me?.length)for(var Oe=X.tryGetExprs(Ie).length,Ee=0;Ee<Oe;Ee++)X.removeProjection(Ie,{fieldIndex:0})}}getNonParameterExpressions(X,re,te){if(X){for(var se=[],Ve=function(Ue){var ot=re&&re[te];if(ot&&ot.length>0&&_.find(ot,Ct=>{var Ke=(0,v.VZ)(Ct.index,ot);return void 0!==Ct.length&&Ct.length>0&&Ue>=Ke&&Ue<=Ke+Ct.length-1}))return 1;null!==X[Ue]&&se.push(X[Ue])},ke=0;ke<X.length;ke++)Ve(ke);return se}}applyVisualGroupState(X,re,te,se,Ve,ke){var Ue=this;if(!Ve.targetVisualNames||_.includes(Ve.targetVisualNames,te.name)){var ft;if(!this.getSuppressDisplayOptions(Ve).visuals){var Ke=X.isHidden;if(null!=Ke&&Ke!==te.isHidden&&(te.isHidden=Ke,ft=!0),Ke&&!_.isEmpty(ke)){var we=this.clearCrossHighlightsForGroup(te,re,ke);se.visualContainers=_.chain(se.visualContainers).concat(we).uniq().value()}}ft&&se.visualContainerGroups.push(te)}if(!_.isEmpty(X.children)){var Ne=function(Ie){var me=X.children[Ie],Oe=_.find(te.children,Ee=>Ee.name===Ie);if(!me||!Oe||!(0,b.q4)(Oe))return 1;Ue.applyVisualGroupState(me,re,Oe,se,Ve,ke)};for(var Se in X.children)Ne(Se)}}getSuppressDisplayOptions(X){var re=X.suppressDisplay;return this.isDisplayOptions(re)?re:{outspacePane:re,visuals:re}}applyFilterExpressionCache(X,re,te){te?this.clearFilterExpressionCache(re):(re.filterExpressionMetadata=X.filterExpressionMetadata,re.cachedFilterDisplayItems=X.cachedFilterDisplayItems)}clearFilterExpressionCache(X){X.filterExpressionMetadata=void 0,X.cachedFilterDisplayItems=void 0}applyHidden(X,re,te){var se=re.config.singleVisual;if(X!==(0,f.xj)(se)){(0,f.Zk)(se,X);var Ve=[re];return X&&(Ve=_.chain(Ve).concat(this.clearCrossHighlightsForVisual(re,te)).uniq().value()),Ve}}clearCrossHighlightsForGroup(X,re,te){var Ve,se=[];return(0,b.Iw)([X],Ue=>{(0,b.Vz)(Ue)&&_.some(te,ot=>ot.sourceVisualContainer===Ue)&&se.push(Ue)}),_.isEmpty(se)||(Ve=this.clearCrossHighlightsForVisuals(se,re)),Ve||[]}clearCrossHighlightsForVisual(X,re){return this.clearCrossHighlightsForVisuals([X],re)}clearCrossHighlightsForVisuals(X,re){var te=[...X||[]];return te.push(...this.filterGenerator.clearCrossHighlightForVisualContainersOperation(re,X)||[]),_.uniq(te)}collectValidDrillExprs(X){var re=X.query;if(!re)return[];var te=re.defn.select();if(_.isEmpty(te))return[];var se=[];for(var Ve in re.projections){var ke=re.projections[Ve],ot=_.last(ke.activeProjectionRefs||[]);for(var ft of ke.all()){if(ot&&ft.queryRef===ot)break;var Ct=te.withName(ft.queryRef);a.f.assertValue(Ct,"found queryRef with no corresponding select"),Ct&&se.push(Ct.expr)}}return se}applyActiveProjectionsAndDrillState(X,re,te,se){var Ve=X.query;if(!Ve)return!1;var ke=Ve.defn.select(),Ue=this.plugins.capabilities(X.visualType),ot=Ue&&Ue.drilldown||{roles:[],suppresDrillOperations:!1},ft=ot.roles,Ct=ot.suppresDrillOperations,Ke=!1,Ae={},we=function(){if(!_.includes(ft,Se))return 0;var Je=re[Se];a.f.assertNonEmpty(Je,"activeExprsForRole"),Ae[Se]||(Ae[Se]=[]);var he=Ve.projections[Se];if(!he)return Ke=!0,0;var Ce=he.all();if(_.isEmpty(Ce)||Je.length>Ce.length)return Ke=!0,0;if(1!==Je.length||Ct)for(var Qe=function(lt){a.f.assert(()=>lt<=Ce.length,"existingProjections.length");var Et=Je[lt],bt=Ce[lt],Ot=ke.withName(bt.queryRef);if(a.f.assertValue(Ot,"found queryRef with no corresponding select"),!(0,y.fS)(Ot.expr,Et))return Ke=!0,1;Ae[Se].push(bt.queryRef)},ut=0;ut<Je.length;ut++)Qe(ut);else{var je=Je[0],pe=_.find(Ce,lt=>{var Et=ke.withName(lt.queryRef);return a.f.assertValue(Et,"found queryRef with no corresponding select"),(0,y.fS)(Et.expr,je)});if(!pe)return Ke=!0,0;Ae[Se].push(pe.queryRef)}};for(var Se in re)we();if(Ke)for(var Ie in Ve.projections)Ae[Ie]=[];var me=!1;if(Ve.isDrillDisabled!==se&&(0,D.S1)(Ue))Ve.changeDrillStateValue(ft,se,Ae),me=!0;else for(var Oe in Ve.projections)if(_.includes(ft,Oe)){var Ee=Ve.projections[Oe],xe=Ae[Oe];if(_.isEmpty(xe)&&!se){if(!te)continue;var ye=Ee.all();_.isEmpty(ye)||(xe=[_.head(ye).queryRef])}(0,i.NF)(Ee.activeProjectionRefs,xe,(Je,he)=>Je===he)||(Ee.activeProjectionRefs=xe,me=!0)}return me}applySort(X,re,te){var se=X.query;if(!se)return!1;var Ve=se.defn.orderBy()||[];return!(!re&&!te||(re=re||[],(0,i.NF)(Ve,re,y.ll))||(se.orderBy(re),0))}applyObjects(X,re,te,se,Ve,ke,Ue){a.f.assertValue(re,"singleVisual"),a.f.assertAnyValue(te,"contractUpdates"),a.f.assertAnyValue(Ve,"schema"),a.f.assertValue(se,"objectDescs");var ot={};te&&(te.merge&&(ot.merge=(0,s.d9)(te.merge)),te.remove&&(ot.remove=te.remove.slice()));var Ke,ft=re.objects||{},Ct=(0,d.MD)(se),Ae=this.plugins.getPlugin(re.visualType);this.applyPluginUpdateSemantics(Ae,ot,ft,se,Ue),ot.remove||(ot.remove=this.getVisualPropertiesToRemove(re.visualType,ft,ot.merge));var we=this.mergeObjects(X,re,ot.merge,ft,ke,Ve,Ct);return Ke=Ke||we.visualImpacted,ot.remove=ot.remove.concat(we.removeList),this.removeObjects(re,ft,ot.remove,ke,Ct)||Ke}updateQueryProjectionsFromExpansionState(X,re,te){var se=this;if(_.isEmpty(re))return!1;var ke,Ve=function(ot){var ft=ot.getVisibleDescendentsDepth(ot.root,-1),Ct=Math.max(_.findLastIndex(ot.levels,me=>me.isPinned)+1,ft),Ke=me=>{var Oe=ot.roles[me];return a.f.assertValue(X.projections[Oe],`Invalid role ${Oe}`),X.projections[Oe]&&X.projections[Oe].all()},Ae=me=>{var xe,Oe=0,Ee=Ke(0),ye=0,Je=function(){if(ye===_.size(Ee)&&(ye=0,++Oe>=_.size(ot.roles)||!(Ee=Ke(Oe))))return 0;var Ce=ot.levels[xe];a.f.assert(()=>1===_.size(Ce.queryRefs),"Composite groups are not supported, expected only one queryRef.");var je=_.findIndex(Ee,pe=>{var Qe=(0,v.SA)(X.defn,pe)?.expr;return pe.queryRef===_.first(Ce.queryRefs)&&se.verifyExpansionIdentities(Ce,Qe,te)},me?ye:0);if(-1===je)return 0;me&&ye!==je&&X.moveProjection(ot.roles[Oe],je,ye,1)};for(xe=0;xe<_.size(ot.levels)&&0!==Je();xe++,ye++);return xe};if(!(Ae(!1)>=Ct))return{v:!1};_.remove(X.expansionStates,me=>_.isEqual(me.roles,ot.roles)),Ae(!0);var Ne=ot.clone();X.setActiveProjections(Ne.roles,ft);var Se=X.getRolesUniqueProjectionRefs(Ne.roles),Ie=_.findIndex(Ne.levels,me=>me.isCollapsed);Ne.updateLevels(Se,-1===Ie?ft:Ie),X.expansionStates||(X.expansionStates=[]),X.expansionStates.push(Ne)};for(var Ue of re)if(ke=Ve(Ue))return ke.v;return!0}applyExpansionStates(X,re,te,se,Ve){var ke=X.config.singleVisual,Ue=ke.query;if(!Ue)return!1;if(!re&&!te||(0,l.wy)(Ue.expansionStates||[],re=re||[]))return!1;var ft=this.plugins.capabilities(ke.visualType);return ft&&ft.expandCollapse&&ft.expandCollapse.restoreProjectionsOrderFromBookmark?this.updateQueryProjectionsFromExpansionState(Ue,re,se):(Ue.expansionStates=(0,l.d9)(_.filter(re,Ke=>{1!==Ke.roles.length&&(a.f.assertFail("explorationState.applyExpansionStates -\n                        We currently only support 1 role in the bookmark validation code path,\n                        in the case of this assert triggering update this code to handle multiple roles."),Ve.issues.push({type:B.OnlyOneRoleAllowedInExpansionStates}));var Ae=Ue.projections[Ke.roles[0]],we=Ae&&Ae.all()||[];return!(!this.expandCollapse.isEnabled(X,Ke.roles)||1!==Ke.roles.length||we.length<Ke.levels.length)&&_.every(Ke.levels,(Ne,Se)=>{a.f.assert(()=>1===Ne.queryRefs.length,"explorationState.applyExpansionStates -\n                            We currently assume there's only 1 queryRef, in the case of composite groups update this code.");var Ie=we[Se],me=(0,v.SA)(Ue.defn,Ie)?.expr;return Ie.queryRef===Ne.queryRefs[0]&&this.verifyExpansionIdentities(Ne,me,se)})})),!0)}verifyExpansionIdentities(X,re,te){var se=new r.H;return _.isEmpty(X.identityKeys)||(0,i.NF)(X.identityKeys,re.accept(se,te),y.fS)}applyPluginUpdateSemantics(X,re,te,se,Ve){if(re&&X&&X.mergeObjects){var ke=(0,t.Ue)(),ot=(0,o.G3)(te,se,ke,this.featureSwitchService.featureSwitches).dataViewObjects,ft=(0,o.G3)(re.merge||{},se,ke,this.featureSwitchService.featureSwitches),Ke=X.mergeObjects({objects:ot,changes:ft.dataViewObjects,isPersistentState:Ve});if(Ke){if(a.f.assert(()=>null==Ke.removeObject&&null==Ke.replace,"Unsupported merge actions"),Ke.merge)for(var Ae of(re.merge={},Ke.merge))for(var we in Ae.properties){var Se=(0,s.Lo)(Ae.properties[we],X.capabilities.objects[Ae.objectName].properties[we].type);(0,s.sO)(re.merge,{objectName:Ae.objectName,propertyName:we},Ae.selector,Se)}if(Ke.remove)for(var Ie of(re.remove=[],Ke.remove))for(var me in Ie.properties)re.remove.push({object:Ie.objectName,property:me,selector:Ie.selector})}}}mergeObjects(X,re,te,se,Ve,ke,Ue){var ot={visualImpacted:!1,removeList:[]};if(_.isEmpty(te))return ot;for(var ft in te)for(var Ct of te[ft]){var Ke=(0,s.zx)(se,ft,Ct.selector);for(var Ae in Ct.properties){var we=Ct.properties[Ae];if(!(0,s.ES)(Ke.properties[Ae],we)){if(Ue&&p(Ue,{objectName:ft,propertyName:Ae})){var Ne=!!this.isFilterValid(we,re,ke);if(this.applyFilterExpressionCache(X,re,!Ne),!Ne){Ve.issues.push({type:B.InvalidVisualFilterOutput}),ot.removeList.push({object:Ue.objectName,property:Ue.propertyName,selector:null});continue}this.setMinimumFilterScope(Ve,u.Gy.Section)}Ke.properties[Ae]=we,ot.visualImpacted=!0,re.objects||(re.objects=se)}}}return ot}removeObjects(X,re,te,se,Ve){if(_.isEmpty(te))return!1;var ke=!1;for(var Ue of te){var ft=Ue.object,Ct=Ue.property;(0,s.E2)(re,ft,Ue.selector,Ct)&&(ke=!0,Ve&&p(Ve,{objectName:ft,propertyName:Ct})&&(this.clearFilterExpressionCache(X),this.setMinimumFilterScope(se,u.Gy.Section)))}return ke}getVisualPropertiesToRemove(X,re,te){var se=this.plugins.capabilities(X);if(!se||!se.objects)return[];var Ve=(0,d.MD)(se.objects),ke=[];for(var Ue in se.objects){var ot=se.objects[Ue];for(var ft in ot.properties){var Ct=ot.properties[ft];if(!Ct.persistUnmatchedState&&(Ct.filterState||Ct.captureState||Ve&&p(Ve,{objectName:Ue,propertyName:ft}))){var Ke=re?.[Ue];if(!Ke)continue;for(var we of Ke){var Ne=we.selector,Se=we.properties[ft],Ie=(0,s.NA)(te,{objectName:Ue,propertyName:ft},Ne);Se&&!Ie&&ke.push({object:Ue,property:ft,selector:Ne})}}}}return ke}isFilterValid(X,re,te){a.f.assertAnyValue(te,"if no schema is specified, we will not check for group-on key inclusion in a query");var se=re.query;if(!se)return!1;var Ve=new Q(se.defn,te);return X.rewrite(Ve),Ve.valid}isSelectionValid(X,re,te){var se=(0,n.k_)(X);if(!se)return a.f.assertFail("Could not create filter from selection"),!1;var ke=new m.Je(c.F0.instance).rewriteFrom(se.from()),Ue=_.map(se.where(),ot=>({condition:ot.condition.accept(c.F0.instance)}));return se=new m.yl(ke,Ue),this.isFilterValid(se,re,te)}setMinimumFilterScope(X,re){X.filterScope=X.filterScope?Math.max(re,X.filterScope):re}getAdditionalVisualFiltersToCapture(X,re){var te=[],se=(0,A.i4)(X,this.visualPluginOps,re,this.aggrOps)||[],Ve=function(Ue){_.find(X.filters,ot=>(0,y.fS)(ot.expression,Ue.expression))||te.push(Ue)};for(var ke of se)Ve(ke);return te}presentationChangesAllowed(X,re,te,se,Ve){if(!X.settings||!X.settings.allowInlineExploration||!re.applyPresentationChanges)return!1;var ke=te&&te.config&&te.config.singleVisual;if(!ke)return!1;var ot=se&&se.visualType;if(![Ae=>Ve.isQnaVisual(Ae),Ae=>Ve.isQueryVisual(Ae)].some(Ae=>Ae(ot)))return!1;var Ke=(0,s.NA)(ke&&ke.vcObjects,{objectName:"visualHeader",propertyName:"showPersonalizeVisualButton"},null);return!(Ke&&!1===Ke.value)}}class Q extends C.b{constructor(X,re){a.f.assertValue(X,"query"),a.f.assertAnyValue(re,"if no schema is provided, we do not check group-on keys"),super(),this.valid=!0,this.query=X,this.schema=re}visitColumnRef(X){return this.valid=this.valid&&this.exprInSelects(X),X}exprInSelects(X){var re=_.some(this.query.select(),ke=>(0,y.fS)(ke.expr,X,!0,!0));if(re)return!0;if(!this.schema)return re;var te=this.query.select();for(var se of te){var Ve=se.expr.getKeyColumns(this.schema);if(_.some(Ve,ke=>(0,y.fS)(X,ke,!0,!0)))return!0}return!1}}},70082:function(ve,j,e){e.d(j,{TW:function(){return l}});var r=e(641409),i=e(399026),a=e(866646),t=e(661214);function l(s,d){var o={},v=d.getCurrentSection(),m=d.getCurrentExploration(),c=d.getExplorationTelemetryData();switch(v&&(o={activeSectionId:v.id,sectionGuid:v.objectId,sectionIndex:m&&m.activeSectionIndex},(s.name===i.GD||s.name===i.Ef||s.name===i.z6||s.name===i.OX||s.name===i.jn)&&(o.visualTypesAndCounts=JSON.stringify((0,t.a8)(v)))),c&&(o.modelId=c.modelId,o.reportGuid=c.reportGuid,o.dataCacheMode=c.dataCacheMode,o.datasetHost=c.datasetHost,o.dbName=c.dbName,o.enterpriseCapacitySkuTier=c.enterpriseCapacitySkuTier,o.isDirectQuery=c.isDirectQuery,o.isOnPrem=c.isOnPrem,o.exid=c.exid,o.exsid=c.exsid),s.name){case i.GD:(function(s,d){d&&!_.isEmpty(d.sections)&&(s.areAnySectionQuickExplore=(0,a.sk)(d.sections),s.creationSource=d.creationSource)})(o,m),n(o,v,c);break;case i.Ef:n(o,v,c)}if(!_.isEmpty(o)){var C=s.formatted||(()=>({}));s.formatted=()=>(0,r.lG)(C.apply(s),o)}}function n(s,d,o){d&&(s.usageReportSection=o&&o.isNewUsageMetrics?d.displayName:void 0),o&&(s.isNewUsageMetrics=o.isNewUsageMetrics,s.isUsageMetrics=o.isUsageMetrics)}},195524:function(ve,j,e){e.d(j,{n:function(){return n}});var r=e(650543),i=e(833059),a=e(301336),t=function(s){return s[s.None=0]="None",s[s.DuplicatedName=1]="DuplicatedName",s}({});class g{constructor(d,o){this.federatedConceptualSchema=d,this.localizationService=o}validateExistingMeasureName(d){var o=g.normalizeModelItemName(d.name);for(var v of this.federatedConceptualSchema.schemas)for(var m of v.entities)for(var c of m.properties)if(c!==d&&g.normalizeModelItemName(c.name)===o)return{error:t.DuplicatedName,reason:this.localizationService.format(c.measure?"NameValidationFailedCollisionMeasure":"NameValidationFailedCollisionColumn",[c.name,m.name])};return{error:t.None}}static normalizeModelItemName(d){return(0,a.m5)(d)}}function n(s){return new p(s)}class p{constructor(d){this.localization=d}validate(d){if(d){var o=function(s,d){return new g(s,d)}(d,this.localization);for(var v of d.schemas)if(v.isExtensionSchema){var m=d.schema(v.extends);for(var c of(r.f.assertValue(m,"mainSchema"),v.entities)){var C=!1;for(var h of(m.entities.withName(c.name)||(C=!0,c.errorMessage=this.localization.get("ReportMeasuresMissingTableErrorMessage"),c.queryable=i.rW.Error,c.isAbandoned=!0),c.properties))if(h.kind===i.NT.Measure){var E=o.validateExistingMeasureName(h);E.error===t.DuplicatedName?(h.errorMessage=E.reason,h.queryable=i.rW.Error):C&&(h.errorMessage=this.localization.get("ReportMeasuresMissingTableMeasureErrorMessage"),h.queryable=i.rW.Error)}}}}}}},578325:function(ve,j,e){e.d(j,{t:function(){return N},X:function(){return W}});var r=e(243148),i=e(464105),a=e(650543),t=e(246626),l=e(191282),g=e(719242),n=e(482693),p=e(850111),s=e(765959),d=e(914094),o=e(60978),v=e(832573),m=e(561415),c=e(104816),C=e(324569),y=e(783069),S=e(473736),h=e(270305),E=e(67471),u=e(661214),f=e(461251),b=e(827374);class V{constructor(O){this.visualPlugins=O,this.collectedFilters=[]}collectFilters(O,x,I){if(!_.isEmpty(O))for(var L of O)!L||!L.filter&&L.type!==m.vA.VisualTopN||this.collectFilter(L.filter,L,I,x)}collectFiltersForFilterContainer(O,x,I,L){if(O)for(var K of O)!K.filter||K===I||K.type===m.vA.VisualTopN||this.collectFilter(K.filter,K,L,x)}collectFilter(O,x,I,L,K){var z;a.f.assertAnyValue(O,"filter"),a.f.assertAnyValue(x,"filterContainer"),a.f.assertAnyValue(I,"sourceVisualContainer"),O&&(I&&(z=(0,u.cj)(I,this.visualPlugins)),this.collectedFilters.push({filter:O,filterContainer:x,sourceVisualContainer:I,sourceVisualContainerCapabilities:z,scopeType:L,collectedFilterSource:K}))}getCollectedFilters(){return this.collectedFilters}}var T=e(630881),P=e(171150),D=e(442407),w=e(247425);class M{constructor(O){a.f.assertValue(O,"options"),this.options=O}resolveSemanticQuery(O){return O?O.where(this.resolveFilters(O.where()),O.from()):null}resolveFilters(O){return O?_.map(O,x=>this.resolveFilter(x)):null}resolveFilter(O){if(!O)return null;if(O.target)return O;if(O.condition)switch((0,p._)(O.condition)){case s.Ld.Column:return this.resolveColumnFilter(O);case s.Ld.Exists:return this.resolveExistsFilter(O);case s.Ld.Measure:return this.resolveMeasureFilter(O);case s.Ld.Subquery:return this.resolveSubqueryFilter(O);default:return void a.f.assertFail("Unsupported filter kind!")}}resolveColumnFilter(O){return{condition:O.condition,annotations:O.annotations}}resolveMeasureFilter(O){var x=this,I=null;this.options.mappings&&this.options.mappings.measureFilter&&(I=this.options.mappings.measureFilter.targetRoles),(!I||!_.some(I,q=>this.options.queryProjections[q]))&&(I=this.getDefaultMeasureFilterTargetRoles());var L,K,z=O.condition;if(I){for(var H of I){var J=this.options.queryProjections[H];if(J){var k=function(){var q=x.options.select.filter(te=>te.name===G.queryRef);a.f.assert(()=>!_.isEmpty(q)&&1===q.length,"Expected exactly one projection with the specified name.");var Q=q[0].expr,Z=q[0].name;a.f.assert(()=>null!==Z,"Expected select name to be populated");var X=Q.getMetadata(x.options.schema);X&&X.kind!==P.I.Measure&&(!L||!L[Z])&&(K||(K=[],L={}),K.push(Q),L[Z]=!0)};for(var G of J.all())k()}}a.f.assertNonEmpty(K,"resolveMeasureFilter we are not supposed to have a filter with empty targets"),z=A.rewrite(z,I)}return{target:K,condition:z,annotations:O.annotations}}resolveExistsFilter(O){return a.f.assertNonEmpty(O.target,"Exists filters must specify targets."),O}resolveSubqueryFilter(O){return{condition:O.condition,annotations:O.annotations}}getDefaultMeasureFilterTargetRoles(){return(this.options.dataRoles?this.options.dataRoles.filter(x=>x.kind===T.DW.Grouping||x.kind===T.DW.GroupingOrMeasure):[]).map(x=>x.name)}}class A extends w.b{constructor(O){super(),this.filterTargetRoles=O}static rewrite(O,x){a.f.assertValue(O,"filterCondition"),a.f.assertValue(x,"filterTargetRoles");var I=new A(x);return O.accept(I)}visitScopedEval(O){var x=_.filter(O.scope,I=>!(0,o.yL)(I)||_.includes(this.filterTargetRoles,I.role));return x.length===O.scope.length?O:new D.kC(O.expression,x)}}var R=e(509247),B=e(741714),N=3500;function W(U,O,x,I,L,K,z,H,J){return new F(U,O,x,I,L,K,z,H)}class F{constructor(O,x,I,L,K,z,H,J){this.eventBridge=O,this.visualPlugins=x,this.aggrOps=I,this.relationshipService=L,this.hostFilters=K,this.telemetryService=z,this.scriptVisuals=H,this.featureSwitchService=J,a.f.assertValue(this.eventBridge,"eventBridge"),a.f.assertValue(this.visualPlugins,"visualPlugin"),a.f.assertValue(this.aggrOps,"aggrOps"),a.f.assertValue(this.relationshipService,"visualRelationship"),a.f.assertValue(this.hostFilters,"hostFiltersService"),a.f.assertValue(this.telemetryService,"telemetryService"),a.f.assertValue(this.scriptVisuals,"scriptVisuals")}collectVisualContainerFilters(O,x,I){var L=new V(this.visualPlugins);L.collectFilters(I.filters,c.Gy.Visual,I),x&&(L.collectFilters(x.filters,c.Gy.Section),this.collectCrossFilter(L,x,I)),this.collectSelfFilter(L,I,null),O&&L.collectFilters(O.filters,c.Gy.Exploration);var K=this.hostFilters.getSelectedHostFilters();return K&&L.collectFilters(K.filters,c.Gy.Section),L.getCollectedFilters()}collectVisualContainerDrillFilters(O){var x=new V(this.visualPlugins),I=_.filter(O.filters,L=>(a.f.assertValue(L,`collectVisualContainerDrillFilters: visualContainer with name ${O.name} contains blank value in .filters`),null!=L&&L.howCreated===C.OO.Drill));return x.collectFilters(I,c.Gy.Visual,O),x.getCollectedFilters()}addVisualContainerFilters(O,x,I,L,K,z=!1){O.addCollectedFilters(this.collectVisualContainerFilters(x,I,L),!0,this.getShouldApplyFilter(L,K,I,z)),I&&(this.addHighlightFilter(O,I,L,K),this.addCrossDrillFilters(O,I,L,K))}calculateVisualContainerFilter(O,x,I,L,K=!1,z=!1){var H=new b.ME(I);this.addVisualContainerFilters(H,O,x,I,L,K);var J=H.getFilters(z);return J.queryRefsForSingleItemDrillFilters=h.l.getQueryRefsForSingleItemDrillFilters(I,L,this.aggrOps),J}calculateDetailVisualFilter(O,x,I,L,K){var z=new b.ME(I);this.addVisualContainerFilters(z,O,x,I,L),K===C.tX.Default&&(K=C.tX.DataFilter);var H=z.getHighlightFilters();H&&(z.clearHighlightFilters(),z.mergeHighlightFiltersBasedOnRelationship(H,K));var J=z.getFilters();return J.queryRefsForSingleItemDrillFilters=h.l.getQueryRefsForSingleItemDrillFilters(I,L,this.aggrOps),J}clearCrossHighlight(O,x,I){var L=this.clearCrossHighlightOperation(O);(0,u.M2)(this.eventBridge,L,r.uy.CrossHighlight,x,I)}clearCrossHighlightForVisualContainers(O,x,I,L){var K=this.clearCrossHighlightForVisualContainersOperation(O,x);(0,u.M2)(this.eventBridge,K,r.uy.CrossHighlight,I,L)}clearCrossHighlightForVisualContainersOperation(O,x){var I=O.crossFilterSource&&O.crossFilterSource.highlight;if(!_.isEmpty(I)){var L=_.chain(I).map(J=>J.sourceVisualContainer).filter(J=>_.includes(x,J)).valueOf(),K=[];for(var z of L){var H=this.setCrossHighlightOperation(null,null,O,t.i.Difference,z);K.push(...H||[])}return _.uniq(K)}}clearFiltersFromVisualContainers(O,x,I,L){var K=O&&O.crossFilterSource,z=K&&K.drill,H=K&&K.highlight,J=[];if(!_.isEmpty(H)&&_.some(x,q=>_.some(H,Q=>q===Q.sourceVisualContainer))&&(J=this.clearCrossHighlightOperation(O)),!_.isEmpty(z)){var k=this.clearCrossDrillFromVisualContainersOperation(O,x);J=_.union(J,k)}if(this.featureSwitchService.featureSwitches.applyAllSlicersButton){var G=[];_.forEach(x,q=>{var Q=(0,u.Qg)(q),Z=(0,g.NA)(Q,{objectName:"visualLink",propertyName:"type"},void 0);Z?.value===S.cy&&G.push(q)}),J=_.union(J,G)}_.some(x,q=>this.supportsFilterOutput(q))?(0,u.M2)(this.eventBridge,O.visualContainers,I,void 0,L):_.isEmpty(J)||(0,u.M2)(this.eventBridge,J,I,void 0,L)}updateCrossHighlightCollectedFilters(O,x,I){var L=O&&O.crossFilterSource&&O.crossFilterSource.highlight;if(L){var K=_.find(L,z=>z.sourceVisualContainer===I);K&&!_.isEmpty(K.selection)&&(K.collectedFilters=this.collectVisualContainerFilters(x,O,I),(0,u.Rr)(this.eventBridge,I))}}calculateFilterContainerInputFilter(O,x,I,L,K){if(I&&x&&K){var z;K.scopeType===c.Gy.Visual&&(z=K.container);var H=new V(this.visualPlugins);if(O&&H.collectFiltersForFilterContainer(O.filters,c.Gy.Exploration,I),K.scopeType===c.Gy.Section){var J=I.howCreated===C.OO.Drillthrough?_.filter(x.filters,G=>null!=G&&G.howCreated===C.OO.Drillthrough):x.filters;H.collectFiltersForFilterContainer(J,c.Gy.Section,I)}else K.scopeType!==c.Gy.Exploration&&H.collectFiltersForFilterContainer(x.filters,c.Gy.Section,I);this.collectSelfFilter(H,null,I),z&&(H.collectFiltersForFilterContainer(z.filters,c.Gy.Visual,I,z),this.collectCrossFilter(H,x,z));var k=new b.ME(z,I);return k.addCollectedFilters(H.getCollectedFilters(),!1,this.getShouldApplyFilterContainerInputFilter(I,z,L,x)),k.getFilters()}}getVisualContainerCrossFilters(O,x,I){var L=new V(this.visualPlugins);this.collectCrossFilter(L,O,x);var K=new b.ME(x);return K.addCollectedFilters(L.getCollectedFilters(),!1,this.getShouldApplyFilter(x,I,O)),this.addHighlightFilter(K,O,x,I),this.addCrossDrillFilters(K,O,x,I),{dataFilters:K.getCrossFilters()||[],highlightFilters:K.getHighlightFilters()}}checkSelectionLimit(O,x,I,L){var K=this.countSelectedDataPoints(O,x,L),z=I.length;return{existingSelectionLength:K,newSelectionLength:z,allowed:!(K+z>N)}}logRFilterTelemetry(O,x,I,L){var K=(0,E.aG)(x,this.scriptVisuals);_.isEmpty(K)||this.telemetryService.logChildEvent(L&&L.event,O,{filterType:I,visualIds:JSON.stringify(K)})}setCrossHighlightOperation(O,x,I,L,K,z,H){var J=this,k=I.crossFilterSource&&I.crossFilterSource.highlight,G=!1;if(K){G=!0,I.crossFilterSource||(I.crossFilterSource={highlight:[]}),I.crossFilterSource.highlight||(I.crossFilterSource.highlight=[]);var Q,q=I.crossFilterSource.highlight;L!==t.i.Difference&&L!==t.i.Union||!this.newAndPreviousSelectionsSupportMultiVisualSelection(K,q)?(I.crossFilterSource.highlight=q=[],Q=0):-1===(Q=_.findIndex(q,Ve=>Ve.sourceVisualContainer===K))&&(Q=q.length),null==x?(_.isEmpty(q)||((q=[...q||[]]).splice(Q,1),I.crossFilterSource.highlight=q),K=null):q[Q]={sourceVisualContainer:K,selection:x,selectorFilter:(0,l.k_)(x),collectedFilters:_.isEmpty(x)?[]:this.collectVisualContainerFilters(O,I,K),filterExpressionMetadata:z},this.logRFilterTelemetry(i.qi,I,i.TO.Highlight,H)}else k&&(G=!0,I.crossFilterSource.highlight=void 0);if(G){var Z=I.crossFilterSource&&I.crossFilterSource.highlight;if(!_.isEmpty(k)){var X=function(Ve){-1===_.findIndex(Z,ke=>ke.sourceVisualContainer===Ve.sourceVisualContainer)&&(0,u.kK)(J.eventBridge,Ve.sourceVisualContainer)};for(var re of k)X(re);var te=function(Ve){if(Ve.sourceVisualContainer!==K&&-1===_.findIndex(Z,Ue=>Ue.sourceVisualContainer===Ve.sourceVisualContainer))return K=null,1};for(var se of k)if(te(se))break}return _.filter(I.visualContainers,Ve=>Ve!==K)}}newAndPreviousSelectionsSupportMultiVisualSelection(O,x){return a.f.assertValue(x,"highlights"),!(!this.supportsMultiVisualSelection(O)||1===x.length&&!this.supportsMultiVisualSelection(x[0].sourceVisualContainer))}supportsMultiVisualSelection(O){var x=(0,u.cj)(O,this.visualPlugins);return x&&x.supportsMultiVisualSelection}clearCrossHighlightOperation(O){if(O.crossFilterSource&&O.crossFilterSource.highlight)return this.setCrossHighlightOperation(null,null,O)}clearCrossDrillFromVisualContainersOperation(O,x){if(!_.isEmpty(x)){var I=[];for(var L of x){var K=this.updateCrossDrillFromVisualContainerOperation(O,L,!0);I=_.union(I,K)}return I}}updateCrossDrillFromVisualContainerOperation(O,x,I){a.f.assert(()=>I||_.includes(O.visualContainers,x),"sourceVisualContainer should be a VisualContainer of the given section.");var z,L=O.crossFilterSource&&O.crossFilterSource.drill,K=!1;if(!I){var H=this.collectVisualContainerDrillFilters(x);_.isEmpty(H)||(z={sourceVisualContainer:x,collectedFilters:H})}var J=_.findIndex(L,k=>k.sourceVisualContainer===x);if(J>=0?(K=!0,z?L[J]=z:L.splice(J,1)):z&&(K=!0,O.crossFilterSource||(O.crossFilterSource={}),(O.crossFilterSource.drill||(O.crossFilterSource.drill=[])).push(z)),K)return _.filter(O.visualContainers,k=>k!==x)}collectSelfFilter(O,x,I){var L;if(a.f.assertValue(O,"collector"),x){if(L=this.getFilterFromFilterPropertyInVisualContainer(x,J=>this.tryGetSelfFilterProperty(J))){var z=d.yl.clone(L);z.setIgnoreMParameter(),O.collectFilter(z,null,x,c.Gy.Visual,y.w.Self)}}else if(L=this.getFilterFromFilterPropertyInFilterContainer(I,J=>this.tryGetSelfFilterProperty(J))){var H=d.yl.clone(L);H.setIgnoreMParameter(),O.collectFilter(H,I,null,c.Gy.Visual,y.w.Self)}}collectCrossFilter(O,x,I){for(var L of(a.f.assertValue(O,"collector"),a.f.assertValue(x,"section"),a.f.assertValue(I,"targetVisualContainer"),x.visualContainers))if(L!==I){var K=this.getFilterFromFilterPropertyInVisualContainer(L,(z,H)=>this.tryGetFilterPropertyIdentifier(z,H));K&&O.collectFilter(K,null,L,c.Gy.Visual,y.w.Slicer)}}getFilterFromFilterPropertyUtil(O,x,I){var L=I(O,x&&x.visualType);if(L){var K=x.objects;if(K)return(0,g.NA)(K,L,null)}}getFilterFromFilterPropertyInVisualContainer(O,x){a.f.assertValue(O,"visualContainer must be defined"),a.f.assertValue(x,"getFilterPropertyIdentifierFunc must be defined");var I=(0,u.cj)(O,this.visualPlugins);return this.getFilterFromFilterPropertyUtil(I,O.config&&O.config.singleVisual,x)}getFilterFromFilterPropertyInFilterContainer(O,x){a.f.assertValue(O,"visualContainer must be defined"),a.f.assertValue(x,"getFilterPropertyIdentifierFunc must be defined");var I=(0,u.oE)(O,this.visualPlugins);return this.getFilterFromFilterPropertyUtil(I,O.config&&O.config.singleVisual,x)}addHighlightFilter(O,x,I,L){var K=x.crossFilterSource&&x.crossFilterSource.highlight;if(!_.isEmpty(K)&&(0,f.s)(I)!==B.D.slicer)for(var z of K)if(z.sourceVisualContainer!==I){var H=this.buildHighlightFiltersForRelatedTargets(z,L,x);if(H){var J=this.relationshipService.relationshipFilterAction(x,z.sourceVisualContainer,I,L,!1),k=(0,u.cj)(I,this.visualPlugins);J===C.tX.Default&&(J=this.relationshipService.defaultFilterAction(z.sourceVisualContainer,I)),O.mergeHighlightFiltersBasedOnRelationship(H,J,!k.supportsHighlight)}}}addCrossDrillFilters(O,x,I,L){var K=x.crossFilterSource&&x.crossFilterSource.drill;if(!_.isEmpty(K)){var z=[];for(var H of K){var J=H.sourceVisualContainer;if(this.relationshipService.shouldApplyCrossDrill(x,J,I,L)){var G=new b.ME(J);G.addCollectedFilters(H.collectedFilters,!1,this.getShouldApplyDrillCrossFilter(J,L,x));var q=G.getUnmergedDrillCrossFilter();if(q){var Q=function(X){O.addCrossFilter(X);var re=_.find(H.collectedFilters,te=>te.filter===X.filter);a.f.assertValue(re,"There should be a matching CollectedFilter from the source for the applied cross filter on the target."),re&&z.push(re.filterContainer)};for(var Z of q)Q(Z)}}}return z}}buildHighlightFiltersForRelatedTargets(O,x,I){var L=new b.ME(O.sourceVisualContainer);return O.selectorFilter&&L.setSelectorFilter({filter:O.selectorFilter,filterExpressionMetadata:O.filterExpressionMetadata,type:m.vA.Include}),L.addCollectedFilters(O.collectedFilters,!1,this.getShouldApplyHighlightFilter(O.sourceVisualContainer,x,I)),L.getCrossHighlightFilters()}getShouldApplyFilterContainerInputFilter(O,x,I,L){return(K,z,H)=>this.shouldApplyFilterContainerInputFilter(K,z,H,O,x,I,L)}shouldApplyFilterContainerInputFilter(O,x,I,L,K,z,H){if(a.f.assertValue(O,"filter"),x===L)return!0;if(!this.shouldApplyFilter(O,x,I,K,z,H))return!1;var J=x&&x.expression;return!(J&&(0,R.k)(J)||_.some(O.conditions(),k=>(0,p._)(k)===s.Ld.Subquery))}getShouldApplyHighlightFilter(O,x,I){return(L,K,z)=>this.shouldApplyHighlightFilter(L,K,z,O,x,I)}getShouldApplyDrillCrossFilter(O,x,I){return(L,K,z)=>this.shouldApplyDrillCrossFilter(L,K,z,O,x,I)}shouldApplyHighlightFilter(O,x,I,L,K,z){return!(!this.shouldApplyFilter(O,x,I,L,K,z)||_.some(O.conditions(),H=>(0,p._)(H)===s.Ld.Measure))}shouldApplyDrillCrossFilter(O,x,I,L,K,z){return!(!this.shouldApplyFilterForCrossDrill(O,x,I,L,K,z)||_.some(O.conditions(),H=>(0,p._)(H)===s.Ld.Measure))}getShouldApplyFilter(O,x,I,L=!1){return(K,z,H)=>this.shouldApplyFilter(K,z,H,O,x,I,L)}shouldApplyFilter(O,x,I,L,K,z,H=!1){return this.shouldApplyFilterInternal(O,x,I,L,K,z,H?()=>C.tX.DataFilter:(k,G,q,Q,Z)=>this.relationshipService.relationshipFilterAction(k,G,q,Q,Z))}shouldApplyFilterForCrossDrill(O,x,I,L,K,z){return this.shouldApplyFilterInternal(O,x,I,L,K,z,(J,k,G,q,Q)=>this.relationshipService.drillRelationshipFilterAction(J,k,G,q))}shouldApplyFilterInternal(O,x,I,L,K,z,H){if(a.f.assertValue(O,"filter"),_.some(O.where(),Z=>Z&&(0,o.Hz)(Z.condition))||x&&h.l.shouldDisableFilter(x,K,I,this.aggrOps,this.visualPlugins)||!_.isEmpty(O.validate(K,this.aggrOps))&&(!I||I!==L))return!1;if(I&&L&&I!==L){var J=L.config?.singleVisual?.query?.projections;if(H(z,I,L,K,v.m.isFilterForFieldParameter(J,O,K))===C.tX.NoFilter)return!1;var q=I.config.singleVisual.syncGroup,Q=L.config.singleVisual.syncGroup;if(q&&Q&&q.groupName===Q.groupName)return!1}return!0}countSelectedDataPoints(O,x,I){a.f.assertAnyValue(O,"sourceVisualContainer"),a.f.assertValue(x,"section");var L=x.crossFilterSource?.highlight;return I?_.chain(L).reduce((K,z)=>K+(z.sourceVisualContainer!==O?z.selection.length:0),0).value():0}setMultipleFiltersOnSelectData(O,x,I,L,K){var z=this.clearCrossHighlightOperation(x);for(var H of I)z=_.union(z,this.setCrossHighlightOperation(O,H.selection,x,t.i.Difference,H.sourceVisualContainer,H.filterExpressionMetadata));(0,u.M2)(this.eventBridge,z,r.uy.CrossHighlight,L,K)}setFilterOnSelectData(O,x,I,L,K,z,H,J){if(this.supportsFilterOutput(L))this.logRFilterTelemetry(i.qi,I,i.TO.Data,K);else{var k=this.setCrossHighlightOperation(O,x,I,H,L,J,K);(0,u.M2)(this.eventBridge,k,r.uy.CrossHighlight,K,z)}}updateCrossFilterOnDrill(O,x,I){var L=this.updateCrossDrillFromVisualContainerOperation(O,x,!1);(0,u.M2)(this.eventBridge,L,void 0,void 0,I)}updateCrossDrillFromVisualContainers(O,x){var I=this.updateCrossDrillFromVisualContainersOperation(O,x);(0,u.M2)(this.eventBridge,I)}updateCrossDrillFromVisualContainersOperation(O,x){if(!_.isEmpty(x)){var I=[];for(var L of x){var K=this.updateCrossDrillFromVisualContainerOperation(O,L,!1);I=_.union(I,K)}return I}}updateCrossDrillOfSection(O){var x=this.updateCrossDrillOfSectionOperation(O);(0,u.M2)(this.eventBridge,x)}updateCrossDrillOfSectionOperation(O){return this.updateCrossDrillFromVisualContainersOperation(O,O.visualContainers)}getDrillCrossFiltersToApply(O,x,I){var L=new b.ME(x);return this.addCrossDrillFilters(L,O,x,I)}supportsFilterOutput(O){return h.l.supportsFilterOutput((0,u.cj)(O,this.visualPlugins))}tryGetFilterPropertyIdentifier(O,x){return h.l.tryGetFilterPropertyIdentifier(O,x,this.visualPlugins)}tryGetSelfFilterEnabledProperty(O){if(O)return(0,n.H_)(O.objects)}tryGetSelfFilterProperty(O){if(O)return(0,n.Cr)(O.objects)}resolveFilterTargets(O,x,I,L,K){if(!d.vQ.willFiltersAffectQuery(x.defn))return x.defn;var z={dataRoles:I,mappings:L,queryProjections:x.projections,select:x.defn.select(),schema:O},H=new M(z),J=x.defn;return K&&(J=J.addSemanticFilter(K)),H.resolveSemanticQuery(J)}applyFilterOutput(O){this.supportsFilterOutput(O)&&(0,u.Rr)(this.eventBridge,O)}}},827374:function(ve,j,e){e.d(j,{ME:function(){return P},i3:function(){return V},tA:function(){return f}});var r=e(11864),i=e(990297),a=e(650543),t=e(914094),l=e(426313),g=e(962238),n=e(913101),s=function(D){return D[D.Root=0]="Root",D[D.LeftOfIn=1]="LeftOfIn",D}({});class d extends g.Ml{constructor(){super(),this.fieldsBeingFiltered=[]}visitCondition(w){return w.accept(this,s.Root)}visitIn(w,M){if(M!==s.Root||!w.args)return!1;for(var A of w.args)if(!A.accept(this,s.LeftOfIn))return!1;return!(!w.values||w.table)}visitColumnRef(w,M){return M===s.LeftOfIn&&(this.fieldsBeingFiltered.push(w),!0)}}var o=e(561415),v=e(104816),m=e(324569),c=e(783069),C=e(270305),y=e(661214),S=e(850111),h=e(765959);function u(D){if(_.isEmpty(D))return!1;for(var w of D)if(_.some(w.filter.where(),M=>(0,S._)(M.condition)===h.Ld.Subquery))return!0;return!1}function f(D,w,M,A,R,B,N){a.f.assert(()=>!!D||M.type===o.vA.VisualTopN,"Filter required");var W={filter:D,scope:w,filterExpressionMetadata:N};if(M)W.restatement=M.restatement,W.type=M.type,W.isHidden=!!M.isHiddenInViewMode,W.filterExpressionMetadata=M.expression?{expressions:[M.expression]}:void 0,W.displayName=M.displayName,M.cachedValueItems&&W.filterExpressionMetadata?W.filterExpressionMetadata.cachedValueItems=T(M.cachedValueItems,0):M.filterExpressionMetadata&&(W.filterExpressionMetadata=M.filterExpressionMetadata);else if(A&&C.l.supportsFilterOutput(R)&&A.config.singleVisual.query){var F=A.config.singleVisual.query.defn.select(),U=A.config.singleVisual.cachedFilterDisplayItems,O=A.config.singleVisual.filterExpressionMetadata;if(a.f.assert(()=>null==U||null==O,"We should not have both caches defined at the same time"),F.length>=1&&U&&B===c.w.Slicer)W.filterExpressionMetadata={expressions:[F[0].expr],cachedValueItems:T(U,0)};else if(O)W.filterExpressionMetadata=O;else for(var x of(W.filterExpressionMetadata={expressions:[]},F))W.filterExpressionMetadata.expressions.push(x.expr)}return W}function b(D){if(null!=D){var w={Restatement:D.restatement,type:D.type};return D.expression&&(w.expression=r.ib.serializeExpr(D.expression)),w}}function V(D){if(!_.isEmpty(D)){var w=[];for(var M of D)w.push(b(M));return w}}function T(D,w){var M=[];for(var A of D){var R={identities:[A.identity],valueMap:{}};R.valueMap[w]=A.displayName,M.push(R)}return M}class P{constructor(w,M){if(this.visualContainer=w,this.filterContainer=M,w){var A=(0,y.Xf)(w);A&&(this.visualSemanticQuery=A.defn)}this.needToEnsurePrecedence=!1,this.shouldPruneUnnecessaryFilters=!1}setSelectorFilter(w){a.f.assertValue(w,"filter"),a.f.assert(()=>!this.selectorFilter,"should not call setSelectorFilter twice"),this.selectorFilter=w,this.shouldPruneUnnecessaryFilters=!0}addDrillFilter(w){a.f.assertValue(w,"filter"),this.drillFilters=this.drillFilters||[],this.drillFilters.push(w)}addVisualFilter(w){a.f.assertValue(w,"filter"),this.visualSemanticQuery&&(w.filter=(0,t.d3)(w.filter,this.visualSemanticQuery)),this.visualFilters=this.visualFilters||[],this.visualFilters.push(w),this.needToEnsurePrecedence=!0,this.shouldPruneUnnecessaryFilters=!0}addVisualTopNFilter(w){a.f.assertValue(w,"filter"),a.f.assert(()=>void 0===this.visualTopNFilter,"visualTopNFilter"),this.visualTopNFilter=w}addDrillthroughFilter(w){a.f.assertValue(w,"filter"),this.drillthroughFilters=this.drillthroughFilters||[],this.drillthroughFilters.push(w),this.needToEnsurePrecedence=!0}addSectionFilter(w){a.f.assertValue(w,"filter"),this.sectionFilters=this.sectionFilters||[],this.sectionFilters.push(w),this.needToEnsurePrecedence=!0}addReportFilter(w){a.f.assertValue(w,"filter"),this.reportFilters=this.reportFilters||[],this.reportFilters.push(w),this.needToEnsurePrecedence=!0}addCrossFilter(w){a.f.assertValue(w,"filter"),this.crossFilters=this.crossFilters||[],this.crossFilters.push(w),this.needToEnsurePrecedence=!0}addHighlight(w){a.f.assertValue(w,"highlightFilter"),this.highlightFilters=this.highlightFilters||[],this.highlightFilters.push(w)}addCollectedFilters(w,M,A){for(var R of(a.f.assertValue(w,"collectedFilters"),w)){var B=R.filter,N=R.filterContainer,W=R.sourceVisualContainer;if(N?.type===o.vA.VisualTopN){var F=f(B,R.scopeType,N,W,R.sourceVisualContainerCapabilities,R.collectedFilterSource);this.addVisualTopNFilter(F)}if(!A||A(B,N,W)){var U=N;R.filterContainer&&R.filterContainer===this.filterContainer&&(U=null);var O=f(B,R.scopeType,U,W,R.sourceVisualContainerCapabilities,R.collectedFilterSource);!N||N.howCreated!==m.OO.Drill&&N.precedence!==m.Pw.Drill?R.sourceVisualContainer?R.sourceVisualContainer===this.visualContainer?this.addVisualFilter(O):this.addCrossFilter(O):N.howCreated===m.OO.Drillthrough?this.addDrillthroughFilter(O):R.scopeType===v.Gy.Section?this.addSectionFilter(O):R.scopeType===v.Gy.Exploration?this.addReportFilter(O):R.filterContainer&&R.filterContainer===this.filterContainer&&this.addVisualFilter(O):this.addDrillFilter(O),M&&N&&(this.metadata=this.metadata||[],this.metadata.push(b(N)))}}}mergeHighlightFiltersBasedOnRelationship(w,M,A){switch(M){case m.tX.Default:a.f.assertFail("VisualRelationshipFilterAction.Default should not be passed here. Default should be evaluated already.");case m.tX.HighlightFilter:if(!A){_.each(w,R=>this.addHighlight(R));break}case m.tX.DataFilter:w&&_.each(w,R=>this.addCrossFilter(R));break;case m.tX.NoFilter:break;default:a.f.assertFail("Unknown visual relationship filter action")}}getFilters(w){var M=this.getFilterData(w),A=this.highlightFilters&&t.yl.merge(this.highlightFilters.map(R=>R.filter));return{dataFilter:M?t.yl.merge(_.map(M,R=>R.filter)):void 0,dataFiltersUnmerged:this.visualTopNFilter?(M||[]).concat(this.visualTopNFilter):M,highlightFilter:A,highlightFiltersUnmerged:this.highlightFilters,filterMetadata:this.metadata}}getFilterData(w){if(a.f.assert(()=>!this.selectorFilter,"selectorFilter should only be set when building a cross-highlight filter"),this.pruneUnnecessaryFilters(),w||this.ensurePrecedence(),this.drillFilters||this.sectionFilters||this.reportFilters||this.visualFilters||this.crossFilters||this.drillthroughFilters){var R=this.sectionFilters||[],B=this.drillthroughFilters||[],N=this.reportFilters||[],W=this.crossFilters||[];return(this.drillFilters||[]).concat(this.visualFilters||[]).concat(W).concat(R).concat(B).concat(N)}}getCrossHighlightFilters(){if(this.pruneUnnecessaryFilters(),this.ensurePrecedence(),this.selectorFilter||this.visualFilters)return(this.selectorFilter?[this.selectorFilter]:[]).concat(this.visualFilters||[])}getHighlightFilters(){return this.highlightFilters}clearHighlightFilters(){this.highlightFilters=void 0}getUnmergedDrillCrossFilter(){return this.pruneUnnecessaryFilters(),this.ensurePrecedence(),this.drillFilters}getCrossFilters(){return this.crossFilters}ensurePrecedence(){this.needToEnsurePrecedence&&(this.visualFilters&&(this.visualFilters=function(D){if(a.f.assertValue(D,"filterScope"),a.f.assert(()=>!u(D.sectionFilters),"Page filters are not expected to have the subqueries."),a.f.assert(()=>!u(D.reportFilters),"Report filters are not expected to have the subqueries."),_.isEmpty(D.visualFilters))return D.visualFilters;var w=!1,M=[];for(var A of D.visualFilters){var B=A.filter.where().filter(O=>(0,S._)(O.condition)===h.Ld.Column);w=w||u([A]),M.push(...B.map(O=>t.yl.fromSQExpr(O.condition)))}if(!w)return D.visualFilters;var N=[];for(var W of D.visualFilters){var F=W;if(u([W])){var U=W.filter;_.isEmpty(M)||(U=(0,t.RD)(U,M)),_.isEmpty(D.crossFilters)||(U=(0,t.RD)(U,D.crossFilters.map(O=>O.filter))),_.isEmpty(D.sectionFilters)||(U=(0,t.RD)(U,D.sectionFilters.map(O=>O.filter))),_.isEmpty(D.drillThroughFilters)||(U=(0,t.RD)(U,D.drillThroughFilters.map(O=>O.filter))),_.isEmpty(D.reportFilters)||(U=(0,t.RD)(U,D.reportFilters.map(O=>O.filter))),F={filter:U}}N.push(F)}return N}({visualFilters:this.visualFilters,crossFilters:this.crossFilters,reportFilters:this.reportFilters,drillThroughFilters:this.drillthroughFilters,sectionFilters:this.sectionFilters})),this.needToEnsurePrecedence=!1)}pruneUnnecessaryFilters(){this.shouldPruneUnnecessaryFilters&&(this.visualFilters&&this.selectorFilter&&this.visualFilters&&this.selectorFilter&&(this.visualFilters=(0,i.Rl)(this.visualFilters,(w,M)=>(w.filter=function(D,w){if(!w||!D)return D;var M=w.conditions();if(!M||1!==M.length)return D;var A=new d;if(!A.visitCondition(M[0]))return D;for(var W,R=A.fieldsBeingFiltered,B=D.from(),N=D.where(),F=function(){var x=N[U],I=(0,n.J_)(x,B);I&&_.find(R,L=>(0,l.fS)(I.fieldBeingFiltered,L))?W||(W=_.take(N,U)):W&&W.push(x)},U=0,O=N.length;U<O;U++)F();return W?t.yl.fromSQFromAndSQFilters(B,W):D}(w.filter,this.selectorFilter.filter),w.filter.where().length>0))),this.shouldPruneUnnecessaryFilters=!1)}}},187075:function(ve,j,e){e.d(j,{C:function(){return S},Rw:function(){return C},S6:function(){return v}});var r=e(60978),i=e(650543),a=e(719242),t=e(559698),l=e(214492),g=e(636038),n=e(475507),p=e(555254),s=function(h){return h.group="group",h.visualContainer="visualContainer",h}({});function d(h){return h.canvasItemType===s.visualContainer}function o(h){return h.canvasItemType===s.group}function v(h,E,u,f){var b=p.UP.getSelectedCanvasItem(h);if(b){if((0,n.Vz)(b)){var V=b,T=V.config.singleVisual.visualType;if(E.isCustomVisual(T))return;var P=V.config.singleVisual,D=P.vcObjects,w=(0,a.NA)(D,{objectName:"stylePreset",propertyName:"name"},void 0),M=f.getVisualObjects(u,T,w&&(0,r.VC)(w)&&w.value,l.XW);return M&&(D=(0,a.d9)(D||{}),(0,a.l7)(D,M,!0)),{canvasItemType:s.visualContainer,visualType:P.visualType,objects:P.objects,vcObjects:D}}return{canvasItemType:s.group,objects:b.objects}}}var m=l.XW,c=g.C7;function C(h,E,u){var f=p.UP.getSelectedCanvasItem(h);if(f&&u){if((0,n.Vz)(f)){if(d(u))y(E,u,f);else if(o(u)){var b=f.config.singleVisual;b.vcObjects=S(m,c,u.objects,b.objects)}}else d(u)?(0,n.Iw)([f],V=>{(0,n.Vz)(V)&&y(E,u,V)}):o(u)&&(f.objects=S(c,c,u.objects,f.objects));return f}}function y(h,E,u){var f=u.config.singleVisual,b=h.capabilities(f.visualType),V=h.capabilities(E.visualType);b&&V&&(f.objects=S(b.objects,V.objects,E.objects,f.objects)),f.vcObjects=S(m,m,E.vcObjects,f.vcObjects)}function S(h,E,u,f){if(i.f.assertValue(h,"formatPainter.copyFormatObjects - sourceDescriptors should exist"),i.f.assertValue(E,"formatPainter.copyFormatObjects - destinationDescriptors should exist"),i.f.assertAnyValue(u,"formatPainter.copyFormatObjects - sourceObjects can be undefined"),i.f.assertAnyValue(f,"formatPainter.copyFormatObjects - destinationObjects can be undefined"),u===f)return f;for(var b in f=f||{},h){var V=h[b],T=E[b];if(T&&!V.suppressFormatPainterCopy&&!T.suppressFormatPainterCopy){var P=u&&u[b],D=f&&f[b];for(var w in V.properties){var M=V.properties[w],A=T.properties[w];if(A&&!M.suppressFormatPainterCopy&&!A.suppressFormatPainterCopy&&_.isEqual(M.type,A.type)){if(D)for(var R of D)(0,t.Ow)(R,w);if(P)for(var B of P)B.properties[w]&&((0,a.zx)(f,b,B.selector).properties[w]=B.properties[w])}}}}return(0,a.u4)(f)}},895841:function(ve,j,e){e.d(j,{Q:function(){return v}});var r=e(349672),i=e(252205),a=e(269710),t=e(863035),l=e(143747),g=e(76395),n=e(594959),p=e(399026),s=e(110024),d=e(274493),o="apr_error_notification_bar";function v(C,y,S,h,E,u,f,b,V,T,P,D){return new c(C,y,S,h,E,u,f,b,V,T,P,D)}var m={autoRefreshEnabled:!0,refreshIntervalSeconds:1};class c{constructor(y,S,h,E,u,f,b,V,T,P,D,w){this.telemetryService=y,this.eventBridge=S,this.explorationNavigation=h,this.dataSourcesService=E,this.conceptualSchemaProxy=u,this.globalEventBridge=f,this.visualTimeSynchronizationService=b,this.notificationBarService=V,this.localizationService=T,this.errorService=P,this.reportRefreshCacheService=D,this.reportRefreshConfigProxy=w,this.visualsLoaded=!1,this.timerExpired=!1,this.isRunning=!1,this.refreshDelayedCount=0,this.refreshPaused=!1,this.subscriptionManager=S.createChannelSubscriptionManager()}subscribeEvents(){null==this.subscriptionManager&&(this.subscriptionManager=this.eventBridge.createChannelSubscriptionManager()),this.subscriptionManager.subscribe(d.yVh,()=>this.onSectionChanged()).subscribe(t.dm,()=>this.onVisualsLoaded()).subscribe(d.jsX,()=>this.onSectionsObjectsEvaluated()).subscribe(d.CCe,()=>this.onModelChanged())}init(y=!0){var S=this;return(0,r.Z)(function*(){S.triggerNotifications=y,yield S.loadPageSettings(),yield S.updateRefreshState(),S.subscribeEvents()})()}destroy(){this.stopRefresh(),this.subscriptionManager?.unsubscribeAll(),this.subscriptionManager=void 0}refreshData(){this.reportRefreshCacheService.tryClearDSRCache()&&this.eventBridge.publishToChannel(d.jCS,{affectContainer:()=>!0})}setRefreshPaused(y){this.refreshPaused=y}getRefreshStats(){return{adminConfig:this.adminConfig,effectiveRefreshInterval:this.effectiveRefreshInterval,lastRefreshTimestamp:this.lastUpdateDate?this.lastUpdateDate.toLocaleTimeString():void 0}}loadAdminSettings(){var y=this;return(0,r.Z)(function*(){if(yield y.isPageRefreshSupported()){if(!y.reportRefreshConfigProxy)return void(y.adminConfig=m);var S=y.explorationNavigation.getCurrentExploration()?.report?.modelId;try{y.adminConfig=yield y.reportRefreshConfigProxy.getAPRConfig(S)}catch(h){return y.telemetryService.logEvent(p.Hl,{modelId:S}),y.sendNotification(y.localizationService.get("AutoPageRefresh_Error_GetAdminConfigErrorTryAgain"),!0,h,"FailedToGetAPRAdminConfig"),void(y.adminConfig=void 0)}y.adminConfig?y.adminConfig.autoRefreshEnabled||y.sendNotification(y.localizationService.get("AutoPageRefresh_Error_AdminDisabled")):y.sendNotification(y.localizationService.get("AutoPageRefresh_Error_GetAdminConfigErrorTryAgain"),!0)}})()}loadPageSettings(){var y=this;return(0,r.Z)(function*(){var S,h=y.explorationNavigation.getCurrentSection();if(yield y.isAPREnabledInSection(h)){S=y.refreshIntervalInMilliseconds;var E=(0,s.bW)(h.evaluatedObjects.pageRefresh.duration||g.oK);y.refreshIntervalInMilliseconds=(0,s.A9)(E)}else y.refreshIntervalInMilliseconds=void 0;return y.refreshIntervalInMilliseconds!==S})()}onSectionsObjectsEvaluated(){var y=this;return(0,r.Z)(function*(){var S=yield y.loadPageSettings();y.refreshIntervalInMilliseconds&&S?y.updateRefreshState():!y.refreshIntervalInMilliseconds&&y.isRunning&&y.stopRefresh()})()}onModelChanged(){var y=this;return(0,r.Z)(function*(){var S=yield y.getRefreshInterval();S&&!y.isRunning?y.updateRefreshState():!S&&y.isRunning&&y.stopRefresh()})()}getRefreshInterval(){var y=this;return(0,r.Z)(function*(){if(!(yield y.isPageRefreshSupported()))return null;if(y.refreshIntervalInMilliseconds&&y.adminConfig&&y.adminConfig.autoRefreshEnabled){var S=_.max([y.refreshIntervalInMilliseconds,1e3*y.adminConfig.refreshIntervalSeconds]);return _.min([l.c41,S])}})()}isPageRefreshSupported(){var y=this;return(0,r.Z)(function*(){var S;try{S=yield y.conceptualSchemaProxy.get(y.dataSourcesService.get())}catch{return!1}return _.some(S.schemas,h=>h.capabilities&&h.capabilities.supportsFastRefresh)})()}updateRefreshState(){var y=this;return(0,r.Z)(function*(){y.stopRefresh(),y.isRunning=!0,!y.adminConfig&&null!=y.refreshIntervalInMilliseconds&&(yield y.loadAdminSettings());var S=yield y.getRefreshInterval();null!=S?y.runTimer(S):y.isRunning=!1})()}triggerRefreshUponSectionChange(){var y=this;return(0,r.Z)(function*(){var S=y.explorationNavigation.getCurrentSection();(yield y.isAPREnabledInSection(S))&&y.triggerRefresh()})()}onSectionChanged(){var y=this;return(0,r.Z)(function*(){yield y.triggerRefreshUponSectionChange(),y.lastUpdateDate=void 0,yield y.loadPageSettings(),yield y.updateRefreshState()})()}onVisualsLoaded(){this.visualsLoaded=!0,this.timerExpired&&this.isRunning&&this.onTimerExpired()}stopRefresh(){this.nextUpdateDate=void 0,this.isRunning=!1,this.timerExpired=!1,this.clearTimeoutAndAnimationFrame(),this.notifyReportRefreshStateChanged(),this.notificationBarService.hide(o)}clearTimeoutAndAnimationFrame(){clearTimeout(this.timeoutId),this.timeoutId=void 0,cancelAnimationFrame(this.animationFrameId),this.animationFrameId=void 0}runTimer(y){this.clearTimeoutAndAnimationFrame(),this.nextUpdateDate=new Date(Date.now()+y),this.notifyReportRefreshStateChanged(),this.timeoutId=window.setTimeout(()=>{this.timeoutId=void 0,this.animationFrameId=requestAnimationFrame(()=>{this.animationFrameId=void 0,this.onTimerTriggered()})},y)}onTimerTriggered(){var y=this;return(0,r.Z)(function*(){y.timerExpired=!0,y.visualsLoaded?y.onTimerExpired():y.refreshDelayedCount+=1,yield y.loadAdminSettings();var S=yield y.getRefreshInterval();null!=S?y.runTimer(S):y.stopRefresh()})()}triggerRefresh(){var y=this.explorationNavigation.getCurrentSection();this.reportRefreshCacheService.clearClientCache(y),this.visualTimeSynchronizationService.setAnchorTimeToNow(),this.eventBridge.publishToChannel(d.tYc)}calculateEffectiveInterval(){this.effectiveRefreshInterval=this.lastUpdateDate?(new Date).getTime()-this.lastUpdateDate.getTime():void 0}onTimerExpired(){this.refreshPaused||(this.logTriggerRefresh(this.refreshDelayedCount),this.calculateEffectiveInterval(),this.lastUpdateDate=new Date,this.triggerRefresh(),this.timerExpired=!1,this.visualsLoaded=!1,this.refreshDelayedCount=0,this.notifyReportRefreshStateChanged())}logTriggerRefresh(y){var S=this;return(0,r.Z)(function*(){var h=S.explorationNavigation.getCurrentSection(),E=S.explorationNavigation.getCurrentExploration().report,u=S.explorationNavigation.getExplorationTelemetryData(),f="",b=-1,V="",T="-1",P="-1";if(E&&E.model){var D=E.model;f=D.dbName,V=E.objectId,b=D.id}var w=h.objectId,M=yield S.getRefreshInterval();u&&(T=u.exid,P=u.exsid),S.telemetryService.logEvent(a._3,{reportId:V,pageId:w,dbName:f,modelId:b,interval:M,delayCount:y,exid:T,exsid:P})})()}notifyReportRefreshStateChanged(){if(this.triggerNotifications){var y,S=this.explorationNavigation.getCurrentExploration().report;S&&(y=S.objectId),this.globalEventBridge.publishToChannel(t.VF,{reportId:y,nextUpdateDate:this.nextUpdateDate,lastUpdateDate:this.lastUpdateDate})}}sendNotification(y,S=!1,h,E){var u={id:o,message:y,notificationType:i.L1.Error,actions:[]};h&&(u.secondaryLink={action:()=>{this.errorService.error(y,E,{requestId:h.requestId,statusCode:h.status&&h.status.toString()})},displayText:this.localizationService.get("Generic_ShowDetails")}),S&&u.actions.push({action:()=>{this.notificationBarService.hide(o),this.updateRefreshState()},displayText:this.localizationService.get("TryAgain")}),this.notificationBarService.notify(u)}isAPREnabledInSection(y){var S=this;return(0,r.Z)(function*(){return!!(yield S.isPageRefreshSupported())&&y&&y.evaluatedObjects&&y.evaluatedObjects.pageRefresh&&y.evaluatedObjects.pageRefresh.show&&(null==y.evaluatedObjects.pageRefresh.refreshType||y.evaluatedObjects.pageRefresh.refreshType===n.wO)})()}}},169437:function(ve,j,e){e.d(j,{e:function(){return i}});var r=e(650543);function i(){return new a}class a{constructor(){this.runningVisuals={}}getVisual(l){r.f.assertValue(l&&l.name,"contract");var g=this.runningVisuals[l.name];if(null!=g&&g.contract===l)return g.visual}setVisual(l,g){r.f.assertValue(l&&l.name,"contract"),r.f.assertValue(g,"visual"),this.runningVisuals[l.name]={contract:l,visual:g}}removeVisual(l){r.f.assertValue(l&&l.name,"contract"),delete this.runningVisuals[l.name]}}},366120:function(ve,j,e){e.d(j,{s:function(){return g}});var r=e(104816),i=e(650543),a=e(877542),t=e(67471),l=e(461251);function g(p,s,d,o,v,m){return new n(p,s,d,o,v,m)}class n{constructor(s,d,o,v,m,c){i.f.assertValue(s,"visualPluginService"),i.f.assertValue(d,"featureSwitchService"),i.f.assertValue(o,"localizationService"),i.f.assertAnyValue(v,"userInfo"),i.f.assertValue(c,"licenseEnforcementServiceExtend"),this.services={visualPlugin:s,featureSwitchService:d,localizationService:o,userInfo:v,embedModeService:m,licenseServiceExtend:c}}addScriptVisualInfo(s,d){var o=(0,l.s)(s);if(this.services.visualPlugin.isScriptVisual(o)&&s.id){var v={id:s.id,scriptType:(0,t.lX)(o)};d.push(v)}}showEnableScriptVisualDialogIfRequiredAsync(s,d,o){return i.f.assertFail("Function not implemented for Service - users don't need to approve script visuals on the service"),null}getScriptVisualErrorDetails(s,d){var o,v=this.services.localizationService,m=this.services.featureSwitchService.featureSwitches;if(s!==r.dE.RScript||m.scriptVisualEnabled){if(this.services.embedModeService&&this.services.embedModeService.isAnonymousLiveEmbed())return m.scriptVisualAnonymousEmbeddingEnabled||(o=this.buildErrorDetails(v.get(this.getLocalizationKey("Error_VisualsNotSupportedInEmbedReports",s)))),o;var y=this.getUserInfoForErrorDetails();if(y&&y.isViralTenant)o=this.buildErrorDetails(v.get(this.getLocalizationKey("Error_VisualsNotSupportedForViralTenant",s)));else if(!1===m.rScriptVisualEnabled)o=this.buildErrorDetails(v.get(this.getLocalizationKey("Error_VisualsDisabledByAdmin",s)));else{var S=!1,h=this.services.embedModeService&&this.services.embedModeService.isReportEmbedScenario();this.services.licenseServiceExtend&&!Array.isArray(this.services.licenseServiceExtend)&&!h&&(S=d&&this.services.licenseServiceExtend.isReportInPremiumCapacity(d)),y&&!1===y.isPremiumUser&&!S?o=this.buildErrorDetails(v.get(this.getLocalizationKey("Error_VisualsIsProFeature",s))):y&&void 0===y.isPremiumUser&&void 0===y.isViralTenant&&void 0===d&&(o=this.buildErrorDetails(v.get(this.getLocalizationKey("Error_VisualsNotSupportedWithThisOperation",s))))}}else o=this.buildErrorDetails(v.get(this.getLocalizationKey("Error_VisualsNotSupported",s)));return o}overrideEmbeddedErrorDetails(s,d){var o=this.services.embedModeService&&(this.services.embedModeService.isSaasOrPaasEmbed()||this.services.embedModeService.isSecurePublishToWeb()),v=this.services&&this.services.localizationService;if(o&&d){var m=d;return m.helpLink="",m.message=v.get(this.getLocalizationKey("Error_VisualsEmbeddedText",s)),m.displayableErrorInfo=[{errorInfoKey:v.get(this.getLocalizationKey("Error_VisualsEmbeddedText",s)),errorInfoValue:v.get(this.getLocalizationKey("Error_VisualsErrorInEmbedReports",s))}],m}}getLocalizationKey(s,d){var o;switch(d){case r.dE.RScript:o="R";break;case r.dE.PythonScript:o="Py";break;default:o=""}return o+s}shouldBlockScriptVisual(s,d){var o=this.services.featureSwitchService.featureSwitches,v=this.getUserInfoForErrorDetails(),m=this.services.embedModeService&&this.services.embedModeService.isAnonymousLiveEmbed(),c=this.services.embedModeService&&this.services.embedModeService.isReportEmbedScenario();switch(s){case r.dE.RScript:if(m)return!o.scriptVisualAnonymousEmbeddingEnabled||!o.scriptVisualEnabled;var C=!1;return this.services.licenseServiceExtend&&!Array.isArray(this.services.licenseServiceExtend)&&!c&&(C=d&&this.services.licenseServiceExtend.isReportInPremiumCapacity(d)),!C&&(!o.scriptVisualEnabled||v&&v.isViralTenant||!o.rScriptVisualEnabled||v&&!v.isPremiumUser);case r.dE.PythonScript:return m?!o.scriptVisualAnonymousEmbeddingEnabled:(this.services.licenseServiceExtend&&!Array.isArray(this.services.licenseServiceExtend)&&!c&&(C=d&&this.services.licenseServiceExtend.isReportInPremiumCapacity(d)),!C&&(v&&v.isViralTenant||v&&!v.isPremiumUser))}}canLaunchExternalIDE(){return!1}launchExternalIDE(s){return null}openOptionsDialogAsync(){return null}refreshScriptCustomVisuals(s){i.f.assertFail("Function not implemented for Service")}triggerDataRefresh(){var s="Visual_Error_RefreshFailed",d=this.services.localizationService.get(s),o=this.services.localizationService.get("Visual_Warning_AutoRefreshNotSupported");return{message:o,displayableErrorInfo:[{errorInfoKey:d,errorInfoValue:o}],helpLink:"https://go.microsoft.com/fwlink/?linkid=2188979",helpLinkType:a.U.LearnMore,hideDebugInfo:!0,resourceKey:s}}buildErrorDetails(s){return{message:s,displayableErrorInfo:[],helpLink:"https://go.microsoft.com/fwlink/?linkid=829101",errorType:a.NI.VisualNotSupported}}getUserInfoForErrorDetails(){var s=this.services.userInfo,d=this.services.embedModeService&&this.services.embedModeService.isReportEmbedScenario();if(s&&!Array.isArray(s)&&!d)return{isViralTenant:s.userMetadata&&s.userMetadata.tenantMetadata&&0===s.userMetadata.tenantMetadata.tenantType,isPremiumUser:s.isPremiumUser}}}},555254:function(ve,j,e){e.d(j,{Oz:function(){return s},UP:function(){return g},_g:function(){return p}});var r=e(650543),i=e(246626),a=e(475507),t=e(461251),l=e(555315);class g{constructor(){}static getSelectedVisualContainer$(o){return o.selectedElements$.pipe((0,l.U)(v=>{if(1===_.size(v)){var c=v[0].canvasItem;return c&&(0,a.Vz)(c)?c:void 0}}))}static selectCanvasItem(o,v,m=i.i.Single,c){var C=n.createSelectableCanvasItem(o);v.selectElement(C,m,c)}static unselectCanvasItem(o,v){var m=g.getSelectedCanvasItems(v);_.includes(m,o)&&g.selectCanvasItems(_.without(m,o),v)}static selectSubSelection(o,v,m,c){var C=n.createSubSelectableCanvasItem(v,m);o.selectElement(C,c)}static selectCanvasItems(o,v,m){var c=_.map(o,C=>n.createSelectableCanvasItem(C));v.selectElements(c,i.i.Single,m)}static isCanvasItemSelected(o,v){var m=g.getSelectedCanvasItems(v);return _.includes(m,o)}static getSelectedCanvasItem(o){return _.first(g.getSelectedCanvasItems(o))}static getSelectedCanvasItems(o){return _.chain(o.getSelectedElements()).map(v=>v.canvasItem).compact().value()}static getSelectedVisualContainers(o){return _.chain(g.getSelectedCanvasItems(o)).filter(v=>(0,a.Vz)(v)).compact().value()}static getSelectedVisualContainerGroups(o){return _.chain(g.getSelectedCanvasItems(o)).filter(v=>(0,a.q4)(v)).compact().value()}static hasMultipleVisualContainerSelection(o){return g.getSelectedCanvasItems(o).length>1}static getSelectedVisual(o){var v=g.getSelectedCanvasItems(o);if(1===v.length){var m=v[0];return(0,a.Vz)(m)?m:void 0}}static getDefaultSelectedVisualInSingleOrMultiCase(o){var v=_.isArray(o)?o:g.getSelectedCanvasItems(o),m=v[0];if(m){var c=(0,t.s)(m);return _.every(v,C=>(0,t.s)(C)===c)?m:void 0}}static clearSubSelections(o){var v=o.getSelectedElements();if(v){var m=g.getSelectedVisualContainers(o),c=[],C=!1;for(var y of v)_.isEmpty(y.subSelections)?c.push(y):(C=!0,c.push(n.createSubSelectableCanvasItem(y.canvasItem,[])));C&&o.selectElements(c,m.length>1?i.i.Union:i.i.Single)}return v}}class n{constructor(){}static createSelectableCanvasItem(o){return s.createFromCanvasItem(o)}static createSubSelectableCanvasItem(o,v){return s.createFromSubSelections(o,v)}}class p{constructor(){}static equals(o,v){if(o.length!==v.length)return!1;for(var m=0,c=o.length;m<c;m++)if(!s.equals(o[m],v[m]))return!1;return!0}}class s{get id(){if(this._canvasItem)return this._canvasItem.id}get canvasItem(){return this._canvasItem}get subSelections(){return this._subSelections}static createFromCanvasItem(o){var v=new s;return v._canvasItem=o,v}static createFromSubSelections(o,v){var m=s.createFromCanvasItem(o);return m._subSelections=v,m}static equals(o,v){return(o=o||null)===(v=v||null)||!(!o!=!v||(r.f.assertValue(o,"left"),r.f.assertValue(v,"right"),o.id!==v.id||o.canvasItem!==v.canvasItem||!_.isEqual(o.subSelections,v.subSelections)))}}},299185:function(ve,j,e){e.d(j,{F:function(){return t}});var r=e(893910),i=e(122186),a=e(667012);function t(g){return new l(g)}class l{constructor(n){this.downgraders=n,this.objectsDowngrader=(0,i.x)(this.downgraders)}getFinalExplorationVersion(n,p){for(var s of(p=(0,r.Fp)(p,this.getFinalExplorationForObjectsVersion(n,p)),this.downgraders))p=(0,r.Fp)(p,s.getMinDowngradeVersionForContract(n));return p}downgrade(n,p){for(var s of(this.downgradeVisualObjects(n,p),this.downgraders))s.downgrade(n,p)}downgradeVisualObjects(n,p){var s=n&&n.sections;if(s)for(var d of s){var o=d&&d.visualContainers;if(!o)return;for(var v of o){var m=v&&v.config&&v.config.singleVisual;if(m){var c=m.visualType,C=m.vcObjects;C&&this.objectsDowngrader.downgrade(a.U.VisualContainer,C,c,p);var y=m.objects;y&&this.objectsDowngrader.downgrade(a.U.Visual,y,c,p)}}}}getFinalExplorationForObjectsVersion(n,p){var s=n&&n.sections;if(s){for(var d of s){var o=d&&d.visualContainers;if(!o)return;for(var v of o){var m=v&&v.config&&v.config.singleVisual;if(m){var c=m.visualType,C=m.vcObjects;C&&(p=(0,r.Fp)(p,this.objectsDowngrader.getFinalVisualObjectsVersion(a.U.VisualContainer,C,p,c)));var y=m.objects;y&&(p=(0,r.Fp)(p,this.objectsDowngrader.getFinalVisualObjectsVersion(a.U.Visual,y,p,c)))}}}return p}}}},150864:function(ve,j,e){e.d(j,{l:function(){return r},u:function(){return i}});var r=function(a){return a[a.UnknownExplorationVersion=0]="UnknownExplorationVersion",a[a.MissingExploration=1]="MissingExploration",a}({}),i=function(a){return a[a.JSONSerialization=0]="JSONSerialization",a[a.ExplorationStateSerialization=1]="ExplorationStateSerialization",a}({})},76663:function(ve,j,e){e.d(j,{bZ:function(){return Je}});var r=e(638198),i=e(160860),a=e(882924),t=e(167165),l=e(996302),g=e(771197),n=e(367311),p=e(607244),s=e(128451),d=e(11864),o=e(364419),v=e(661248),m=e(424092),c=e(893910),C=e(655641),y=e(737865),S=e(322543),h=e(147818),E=e(159601),u=e(990297),f=e(650543),b=e(896286),V=e(84838),T=e(301336),P=e(734531),D=e(128735),w=e(481785),M=e(719242),A=e(442407),R=e(216070),B=e(119322),N=e(76395),W=e(176992),F=e(412182),U=e(906927),O=e(813805),x=e(561415),I=e(324569),L=e(861661),K=e(214492),z=e(636038),H=e(475507),J=e(636685),k=e(399026),G=e(891135),q=e(270305),Q=e(791520),Z=e(661214),X=e(109673),re=e(299185),te=e(316109),se=e(691519),Ve=e(803605),ke=e(280346),Ue=e(572599),ot=e(271267),ft=e(60978),Ct=e(509247),Ke=e(741714),Ae=e(536461),we=e(972394),Ne=e(704251),Se=e(553962),Ie=e(903165),me=e(550888),Oe="Gradient",Ee="Size";function xe(Dt,ne){var Fe=void 0,$e=!0;if(!_.isEmpty(Dt)){var qe=new Map;for(var dt of Dt){var rt=ne(dt),ce=qe.get(rt);null!=ce?($e=!1,qe.set(rt,ce+1)):qe.set(rt,1)}$e||(Fe=Object.fromEntries(qe.entries()))}return{allUnique:$e,itemCounts:Fe}}function ye(Dt,ne,Fe,$e){var qe=Object.keys($e),dt=0,rt=0,ce=0,be=0;for(var ae of qe){var de=$e[ae];dt+=de,de>1?(rt++,be=Math.max(be,de)):ce++}Dt.logEvent(k.mY,{type:ne,deserializationId:Fe,totalCount:dt,duplicateCount:rt,uniqueCount:ce,maxDuplicateCount:be})}function Je(Dt,ne,Fe,$e,qe,dt,rt){return new he(Dt,ne,Fe,$e,qe,dt,rt)}class he{constructor(ne,Fe,$e,qe,dt,rt,ce){this.visualPlugins=ne,this.telemetryService=Fe,this.featureSwitchService=$e,this.canvasListOrderNormalizeService=qe,this.contextActivityService=dt,this.userState=rt,this.explorationUpgrader=(0,ke.$)($e),this.explorationDowngrader=(0,re.F)(ce)}deepCopyExploration(ne,Fe){return this.deserializeExploration(this.serializeExploration(ne,Fe),[],!0)}ensureInitialized(){return this.visualPlugins.ensureBuiltInPlugins()}deserializeExploration(ne,Fe,$e,qe){var dt;if(ne){var ee,{model:rt,counters:ce,getExplorationActivity:be,logDuplicateTelemetry:ae}=qe??{},de=ae?C.q.generateId():void 0;be&&(ee=be.createChildActivity({name:a.R.UpgradeExploration}));var Pe=this.explorationUpgrader.upgrade(ne,Fe,$e,ce);if(ee&&(ee.setProperty("upgraderCount",ce?.upgraderCount),ee.resolve()),!Pe)return;f.f.assertValue(Pe.config,"ExplorationSerializer.deserializeExploration - explorationConfig should exist");var We=Pe.config;if(f.f.assertValue(We,"ExplorationSerializer.deserializeExploration - explorationConfig couldn't be parsed"),dt={id:Pe.id,sections:void 0,dataSources:void 0,reportId:Pe.reportId,themeCollection:B.P.cloneThemeCollection(We.themeCollection),bookmarks:[],mwcToken:Pe.mwcToken,capacityUri:Pe.capacityUri,publicCustomVisuals:Pe.publicCustomVisuals,isStoredInBlob:Pe.isStoredInBlob},We.tags&&(dt.tags=_.cloneDeep(We.tags)),We.slowDataSourceSettings&&(dt.slowDataSourceSettings=_.cloneDeep(We.slowDataSourceSettings)),We.settings&&(dt.settings=_.cloneDeep(We.settings)),We.objects&&(dt.objects=(0,l.wN)(We.objects,U.W)),We.bookmarks){var it=(0,T.zb)(()=>{var kt=this.deserializeBookmarks(We.bookmarks);if(ae){var{allUnique:Gt,itemCounts:Ht}=xe(kt,tr=>tr.name);Gt||(f.f.assertFail("bookmark names must be unique"),ye(this.telemetryService,k.Ou.BookmarkNames,de,Ht))}dt.bookmarks=kt});be&&be.setProperty("bookmarkDeserializationDuration",it)}this.contextActivityService.upsertExplorationProperties({bookmarkCount:dt.bookmarks?dt.bookmarks.length:0}),Pe.userState&&(dt.userState=(0,ot.U6)(Pe.userState,this.userState,this.visualPlugins,this.featureSwitchService,this.telemetryService)),Pe.activeWebBookmark&&(dt.activeWebBookmark=(0,ot.a5)(Pe.activeWebBookmark,$e,this.visualPlugins,this.featureSwitchService,this.telemetryService));var yt=Pe.activeBookmark;if(yt){var et=dt.bookmarks??[];for(var mt of et)if(!W.J.isBookmarkGroup(mt)&&mt.name===yt.name){dt.activeBookmark=mt;break}}if(Pe.sections){var ie=_.sortBy(Pe.sections,kt=>void 0!==kt.ordinal?kt.ordinal:0),Y=dt.settings&&dt.settings.useStylableVisualContainerHeader;if(dt.sections=_.map(ie,kt=>this.deserializePage(kt,{...qe,enableVisualContainerGrouping:Y})),ae){var{allUnique:fe,itemCounts:Be}=xe(dt.sections,kt=>kt.name);fe||(f.f.assertFail("page names must be unique"),ye(this.telemetryService,k.Ou.PageNames,de,Be))}if(dt.filters=this.deserializeFilterContainers(Pe.filters),dt.dataSources=(0,F.yd)(),Pe.resourcePackages&&(dt.resourcePackages=this.deserializeResourcePackages(Pe.resourcePackages)),Pe.pods&&(dt.pods=_.map(Pe.pods,kt=>this.deserializePod(kt)),ae)){var{allUnique:Ze,itemCounts:ct}=xe(dt.pods,kt=>kt.name);Ze||(f.f.assertFail("pod names must be unique"),ye(this.telemetryService,k.Ou.PodNames,de,ct))}if(_.isNumber(We.activeSectionIndex)&&We.activeSectionIndex<Pe.sections.length&&(dt.activeSectionIndex=We.activeSectionIndex),We.modelExtensions&&(dt.modelExtensions=this.deserializeModelExtensions(We.modelExtensions)),rt)if(rt.lastTimeAModelChangeWasDetectedInTheCluster&&!_.isEmpty(rt.onPremModelConnectionString)){var St=(0,o.cN)(rt.lastTimeAModelChangeWasDetectedInTheCluster);this.updateVisualContainerCachingOptions(dt,St,kt=>{kt.useInitialCachedQuery=!0},kt=>{kt.useInitialCachedQuery=!1})}else if(_.isEmpty(rt.onPremModelConnectionString)&&rt.dataCacheMode===y.Vv.Import&&rt.lastRefreshTime){var Rt=(0,o.cN)(rt.lastRefreshTime);this.updateVisualContainerCachingOptions(dt,Rt,kt=>{kt.disableCacheOnServerForInitialLoad=!0},kt=>{kt.disableCacheOnServerForInitialLoad=!1})}}Pe.report&&(dt.report=(0,b.ED)(Pe.report),Pe.report.linguisticSchemaId&&(dt.reportHasLinguisticSchema=!0)),null!=We.defaultDrillFilterOtherVisuals&&(dt.defaultDrillFilterOtherVisuals=We.defaultDrillFilterOtherVisuals),We.filterSortOrder&&(dt.filterSortOrder=We.filterSortOrder),We.dataSourceVariables&&(dt.dataSourceVariables=We.dataSourceVariables),We.creationSource&&(dt.creationSource=We.creationSource),dt.linguisticSchemaSyncVersion=this.deserializeLinguisticSchemaSyncVersion(We.linguisticSchemaSyncVersion)}return dt}deserializeLinguisticSchemaSyncVersion(ne){return null==ne?U.u.Unspecified:(f.f.assert(()=>ne in U.u,"unexpected linguisticSchemaSyncVersion"),ne)}updateVisualContainerCachingOptions(ne,Fe,$e,qe){for(var dt of ne.sections)for(var rt of dt.visualContainers)rt.cachedData&&rt.cachedData.dataUpdatedTime&&rt.cachedData.data&&+rt.cachedData.dataUpdatedTime-+Fe>=0?$e(rt):qe(rt)}deserializeResourcePackages(ne){return f.f.assertValue(ne,"contract"),(0,ot.K9)(ne)}deserializeLinkField(ne){f.f.assertValue(ne,"linkField");var Fe=d.ib.deserializeExpr(ne.fieldExpr);return f.f.assert(()=>(0,ft.kb)(Fe)&&!1===ne.asAggregation||(0,ft.t3)(Fe)||(0,ft.ez)(Fe),"invalid linkField"),{asAggregation:ne.asAggregation,fieldExpr:Fe}}deserializePage(ne,Fe){if(ne){var $e={id:ne.id,objectId:ne.objectId,name:ne.name,displayName:ne.displayName,visualContainers:void 0,visualContainerGroups:void 0,size:{displayOption:void 0!==ne.displayOption?ne.displayOption:I.tr.Dynamic,height:ne.height||N.LU,width:ne.width||N.Z9},filters:this.deserializeFilterContainers(ne.filters)};(ne.originalHeight||ne.originalWidth||ne.originalDisplayOption)&&($e.originalSize={displayOption:ne.originalDisplayOption,height:ne.originalHeight,width:ne.originalWidth}),ne.transient&&($e.transient=ne.transient);var qe=ne.config;if($e.acceptsAllFiltersWhenLinked=qe.acceptsAllFiltersWhenLinked,qe.objects&&($e.objects=(0,l.wN)(qe.objects,L.C)),null!=qe.visibility&&($e.visibility=qe.visibility),null!=qe.type&&($e.type=qe.type),null!=qe.filterSortOrder&&($e.filterSortOrder=qe.filterSortOrder),_.isEmpty(qe.linkFields)||($e.linkFields=_.map(qe.linkFields,ee=>this.deserializeLinkField(ee))),qe.dynamicConfig&&($e.dynamicConfig=this.deserializeDynamicConfig(qe.dynamicConfig)),ne.visualContainers){var{enableVisualContainerGrouping:dt,deserializationId:rt,logDuplicateTelemetry:ce=C.q.generateId()}=Fe??{},be=this.deserializeCanvasItems(ne.visualContainers,null,dt);if(be){if($e.visualContainers=be.visualContainers,$e.visualContainerGroups=be.visualContainerGroups,ce){var{allUnique:ae,itemCounts:de}=xe(be.visualContainers,ee=>ee.name);ae||(f.f.assertFail("VisualContainer names must be unique within a section."),ye(this.telemetryService,k.Ou.VisualsNamePerPage,rt,de))}}else $e.visualContainers=[],$e.visualContainerGroups=[];qe.relationships&&($e.relationships=this.deserializeRelationships(qe.relationships,$e.visualContainers))}return qe.howCreated&&($e.howCreated=qe.howCreated),$e}}deserializePod(ne){if(ne)return{id:ne.id,name:ne.name,boundSection:ne.boundSection,parameters:this.deserializePodParameters(ne.parameters),cortanaEnabled:ne.cortanaEnabled,type:void 0===ne.type?I.yi.Default:ne.type,referenceScope:void 0===ne.referenceScope?I.zm.Default:ne.referenceScope,config:this.deserializePodConfig(ne.config)}}deserializeRelationships(ne,Fe){if(!_.isEmpty(ne)){var $e;for(var qe of ne){var dt=this.deserializeRelationship(qe,Fe);dt&&($e||($e=[])).push(dt)}return $e}}deserializeBookmarks(ne){if(ne)return _.map(ne,Fe=>{if(this.isBookmarkGroup(Fe)){var $e={displayName:Fe.displayName,name:Fe.name,children:this.deserializeBookmarks(Fe.children)};return _.each($e.children,rt=>rt.parentGroup=$e),$e}var dt={displayName:Fe.displayName,name:Fe.name,explorationState:(0,te.vB)(Fe.explorationState,this.visualPlugins,this.featureSwitchService)};return Fe.options&&(dt.options=this.deserializeBookmarkOptions(Fe.options)),dt})}deserializeBookmarkOptions(ne){return ne}deserializeModelExtensions(ne){return f.f.assertAnyValue(ne,"model extension wireContracts"),(0,u.z8)(_.map(ne,Fe=>{var $e={name:Fe.name,extends:Fe.extends};return Fe.entities&&($e.entities=this.deserializeModelExtensionEntities(Fe.entities)),$e}))}deserializeModelExtensionEntities(ne){return f.f.assertAnyValue(ne,"model extension entities wireContracts"),(0,u.z8)(_.map(ne,Fe=>{var $e;return $e=Fe.extends?{name:Fe.name,extends:Fe.extends}:{name:Fe.name},Fe.measures&&($e.measures=this.deserializeModelExtensionMeasures(Fe.measures)),$e}))}deserializeModelExtensionMeasures(ne){return f.f.assertAnyValue(ne,"model extension measures wireContracts"),(0,u.z8)(_.map(ne,Fe=>{var $e={name:Fe.name,dataCategory:Fe.dataCategory,dataType:Fe.dataType,expression:Fe.expression,errorMessage:Fe.errorMessage,hidden:Fe.hidden,references:this.deserializeExpressionReferences(Fe.references),formulaOverride:Fe.formulaOverride,formatInformation:Fe.formatInformation,displayFolder:Fe.displayFolder};return Fe.annotations&&($e.annotations=this.deserializeModelExtensionAnnotations(Fe.annotations)),Fe.measureTemplate&&($e.measureTemplate={daxTemplateName:Fe.measureTemplate.daxTemplateName,version:Fe.measureTemplate.version}),Fe.description&&($e.description=Fe.description),$e}))}deserializeExpressionReferences(ne){return ne?{unrecognizedReferences:!!ne.unrecognizedReferences,measures:ne.measures||[]}:{unrecognizedReferences:!1,measures:[]}}deserializeModelExtensionAnnotations(ne){return f.f.assertAnyValue(ne,"model extension annotations wireContracts"),(0,u.z8)(_.map(ne,Fe=>({name:Fe.name,value:Fe.value})))}deserializeDynamicConfig(ne){var Fe;if(ne.quickExplore){var qe=ne.quickExplore.visualContainerConfigurations,dt=ne.quickExplore.layout;Fe||(Fe={}),Fe.quickExplore={selectedFields:_.map(ne.quickExplore.selectedFields,rt=>d.ib.deserializeExpr(rt)),visualContainerConfigurations:_.map(qe,rt=>({name:rt.name,fields:_.map(rt.fields,ce=>d.ib.deserializeExpr(ce))}))},dt&&(Fe.quickExplore.layout=this.deserializeQuickExploreLayout(dt))}return Fe}deserializeQuickExploreLayout(ne){if(ne.combination){var Fe={version:ne.combination.version};return ne.combination.dataTableName&&(Fe.dataTableName=ne.combination.dataTableName),{combination:Fe}}if(ne.related){var $e={version:ne.related.version};return ne.related.dataTableName&&($e.dataTableName=ne.related.dataTableName),{related:$e}}}deserializeFilterCollection(ne,Fe,$e){if(ne){var qe=this.explorationUpgrader.upgradeFilterCollection(ne,Fe,$e);if(qe)return this.deserializeFilterContainers(qe.filters)}}deserializeFilterContainer(ne){return{name:ne.name,type:x.vA[ne.type],expression:ne.expression?d.ib.deserializeExpr(ne.expression):void 0,filter:ne.filter&&ne.filter.Where?d.ib.deserializeFilter(ne.filter):void 0,restatement:ne.restatement,cachedValueItems:(0,n.kE)(ne.cachedDisplayNames),howCreated:ne.howCreated,isLinkedAsAggregation:ne.isLinkedAsAggregation,isTransient:ne.isTransient,isHiddenInViewMode:ne.isHiddenInViewMode,objects:ne.objects?(0,l.wN)(ne.objects,x.XW):void 0,isLockedInViewMode:ne.isLockedInViewMode,filterExpressionMetadata:ne.filterExpressionMetadata?(0,s.hE)(ne.filterExpressionMetadata):void 0,displayName:ne.displayName,ordinal:ne.ordinal}}deserializeCanvasItems(ne,Fe,$e,qe){if(!_.isEmpty(ne)){var dt=[],rt=[],ce={},be={};for(var ae of ne){f.f.assertValue(ae&&ae.config,"explorationSerializer.deserializePage - vc config should exist");var de=ae.config,ee=de.name,Pe=qe&&qe(ae),We=this.deserializeCanvasItem(ae,Fe,Pe);be[ee]=We.name,(0,H.Vz)(We)&&dt.push(We),void 0===de.parentGroupName?rt.push(We):(ce[de.parentGroupName]||(ce[de.parentGroupName]=[]),ce[de.parentGroupName].push(We))}var yt={};for(var et in ce){var mt=be[et];mt?yt[mt]=ce[et]:rt.push(...ce[et]||[])}return this.ensureVisualContainerGrouping(rt,yt,$e),this.ensureNames(dt),$e?(this.ensureGroupZIndexNormalized(rt),this.featureSwitchService.featureSwitches.accessibilityTopLevelNav?this.ensureGroupTabOrderNormalized(rt,dt):this.ensureListOrderNormalized(dt,!1)):(rt=[...dt||[]],this.ensureListOrderNormalized(dt)),{visualContainerGroups:rt,visualContainers:dt}}}deserializeCanvasItem(ne,Fe,$e){f.f.assertValue(ne&&ne.config,"explorationSerializer.deserializeCanvasItem - vc config should exist");var qe=ne.config;return qe.singleVisual?this.deserializeVisualContainer(ne,Fe,$e):qe.singleVisualGroup?this.deserializeVisualContainerGroup(ne,Fe,$e):(f.f.assertFail("explorationSerializer.deserializePage - singleVisual or singleVisualGroup should exist"),void this.telemetryService.logEvent(k.M))}deserializeVisualContainer(ne,Fe,$e){f.f.assertValue(ne,"input");var qe=ne.config,dt={name:$e||qe.name,id:Fe?void 0:ne.id,layouts:(0,u.UR)(),config:{singleVisual:this.deserializeSingleVisual(qe.singleVisual,ne.prototypeQuery)}};null!=ne.visibility&&(dt.visibility=ne.visibility),null!=ne.detailVisualLayout&&(dt.detailVisualLayout=ne.detailVisualLayout),qe.name&&(dt.prevName=qe.name),qe.howCreated&&(dt.howCreated=qe.howCreated),(void 0!==ne.dataBinaryBase64Encoded||void 0!==ne.query||void 0!==ne.dataTransforms)&&(dt.cachedData={data:ne.dataBinaryBase64Encoded,query:ne.query,transforms:ne.dataTransforms,dataUpdatedTime:ne.dataUpdatedTime?(0,o.jC)(ne.dataUpdatedTime):void 0}),dt.filters=this.deserializeFilterContainers(ne.filters);var rt=qe.singleVisual.drillFilterOtherVisuals;null!=rt&&(dt.drillFilterOtherVisuals=rt);var ce=qe.singleVisual.filterSortOrder;return null!=ce&&(dt.filterSortOrder=ce),dt.layouts.push(..._.cloneDeep(qe.layouts)||[]),_.forEach(dt.layouts,be=>{be.position&&Et(be.position)}),dt}deserializeVisualContainerGroup(ne,Fe,$e){f.f.assertValue(ne,"input");var qe=ne.config,dt=qe.singleVisualGroup,rt={name:$e||qe.name,id:Fe?void 0:ne.id,children:[],displayName:dt.displayName,groupMode:dt.groupMode,layouts:(0,u.UR)(),isHidden:dt.isHidden};return qe.name&&(rt.prevName=qe.name),rt.layouts.push(..._.cloneDeep(qe.layouts)||[]),dt.objects&&(rt.objects=(0,l.wN)(dt.objects,z.C7)),rt}deserializeRelationship(ne,Fe){f.f.assertValue(ne,"input"),f.f.assertValue(Fe,"visualContainers");var $e=(0,u.rC)(Fe,ne.source),qe=(0,u.rC)(Fe,ne.target);if(f.f.assertValue($e,"source"),f.f.assertValue(qe,"target"),ne.type!==I.tX.Default&&$e&&qe)return{source:$e,target:qe,type:ne.type}}deserializeFilterContainers(ne){if(!(0,P.g)(ne)){var Fe=[],$e=(0,v.K)(ne);return $e&&(Fe=$e.map(qe=>this.deserializeFilterContainer(qe))),Fe}}deserializePodParameters(ne){var Fe=[];if(!(0,P.g)(ne)){var $e=(0,v.K)(ne);$e&&(Fe=$e.map(qe=>this.deserializePodParameter(qe)))}return Fe}deserializePodParameter(ne){return{name:ne.name,boundFilter:ne.boundFilter,fieldExpr:ne.fieldExpr?d.ib.deserializeExpr(ne.fieldExpr):void 0,asAggregation:ne.asAggregation,isLegacySingleSelection:ne.isLegacySingleSelection}}deserializePodConfig(ne){if((0,P.g)(ne))return{acceptsFilterContext:I.PD.Default};var Fe=(0,v.K)(ne);return f.f.assert(()=>void 0!==Fe,"Incorrect PodConfig contents"),void 0===Fe.acceptsFilterContext&&(Fe.acceptsFilterContext=I.PD.Default),Fe}deserializeVisualQuery(ne,Fe,$e,qe,dt,rt,ce){var be=this.visualPlugins.capabilities(ne.visualType),ae=be&&be.expandCollapse&&be.expandCollapse.supportsMerge,de=be&&be.expandCollapse&&be.expandCollapse.collapseParentAfterRemovingChildLevel,ee=be&&be.noDefaultProjections,Pe=Fe.select(),We=_.keyBy(Pe,yt=>yt.name),it=new J.g(Fe,this.convertProjections(ne.visualType,$e,Pe,We,dt,rt),(0,p.bX)(qe,{supportsMerge:ae,canCollapseRoot:ee,collapseParentAfterRemovingChildLevel:de}),ce);this.upgradeVisualQuery(it,ne.visualType),ne.query=it}deserializeSingleVisual(ne,Fe){var $e={visualType:ne.visualType||ne.visualConfig.visualType};f.f.assertValue($e.visualType,"explorationSerializer.deserializeSingleVisual - visualType should exist"),null!=ne.autoSelectVisualType&&($e.autoSelectVisualType=ne.autoSelectVisualType);var qe=ne.visualConfig?ne.visualConfig.projections:void 0,dt=ne.projections||{};if(qe)for(var rt of qe){var ce=dt[rt.role];ce||(dt[rt.role]=ce=[]),ce.push(rt)}else if(dt&&dt.length>0)for(var be of(qe=dt,dt={},qe)){var ae=dt[be.role];ae||(dt[be.role]=ae=[]),ae.push(be)}var de=ne.prototypeQuery?ne.prototypeQuery:Fe?(0,v.K)(Fe):null;if(de){var ee=d.ib.deserializeQuery(de);this.deserializeVisualQuery($e,ee,dt,ne.expansionStates,ne.showAllRoles,ne.queryFieldParametersByRole,ne.isDrillDisabled)}null!=ne.display&&($e.display=ne.display),ne.columnProperties&&($e.columnProperties=_.cloneDeep(ne.columnProperties));var We=ne.queryOptions;We&&($e.queryOptions=_.cloneDeep(We));var it=ne.syncGroup;null!=it&&($e.syncGroup=_.cloneDeep(it));var yt=ne.hasDefaultSort;return null!=yt&&($e.hasDefaultSort=yt),ne.objects&&this.addItemLocationObjects($e.visualType,ne.objects),(0,l.kO)(ne.objects,()=>this.visualPlugins.capabilities($e.visualType)?.objects,$e),ne.vcObjects&&($e.vcObjects=(0,l.wN)(ne.vcObjects,K.XW)),this.deserializeMobileState($e,ne),ne.cachedFilterDisplayItems&&($e.cachedFilterDisplayItems=(0,n.kE)(ne.cachedFilterDisplayItems)),ne.filterExpressionMetadata&&($e.filterExpressionMetadata=(0,s.hE)(ne.filterExpressionMetadata)),$e}addItemLocationObjects(ne,Fe){var mt,$e=(et,mt)=>{var ie=et[mt.objectName];if(null!=ie&&1===ie.length)return ie[0].properties[mt.propertyName]};if(ne===Ke.D.scorecard){var dt=Ae.A.scorecard.scorecardReference,rt=Ae.A.scorecard.scorecardId,ce=$e(Fe,rt);if(null==ce)return;var ae=d.ib.deserializeExpr(ce.expr).value,de=(mt=_.toLower(_.trim(ae)),((0,Ne.HH)(mt,!1)?mt.split("/scorecards/")[1]:mt)??ae);Fe[dt.objectName][0].properties[dt.propertyName]={kind:Se.q.ItemLocation,byReference:{itemId:{expr:d.ib.serializeExpr((0,A.fL)(de))}}},delete Fe[rt.objectName][0].properties[rt.propertyName]}if(ne===Ke.D.rdlVisual){var ee=we.eH.reportInfo.reference,Pe=we.eH.reportInfo.reportId,We=we.eH.reportInfo.workspaceId,it=$e(Fe,Pe),yt=$e(Fe,We);if(null==it||null==yt)return;Fe[ee.objectName][0].properties[ee.propertyName]={kind:Se.q.ItemLocation,byReference:{itemId:it,workspaceId:yt}},delete Fe[Pe.objectName][0].properties[Pe.propertyName],delete Fe[We.objectName][0].properties[We.propertyName]}}deserializeMobileState(ne,Fe){Fe.mobileVcObjects&&(ne.mobileVcObjects=(0,l.wN)(Fe.mobileVcObjects,K.XW)),Fe.mobileObjects&&(0,l.kO)(Fe.mobileObjects,()=>this.visualPlugins.capabilities(ne.visualType)?.objects,ne,"mobileObjects")}isBookmarkGroup(ne){return void 0!==ne.children}ensureVisualContainerGrouping(ne,Fe,$e,qe){for(var dt of ne){if(qe&&(dt.parentGroup=qe),!$e&&(0,H.Vz)(dt)&&dt.parentGroup){var rt=dt.layouts.withId(r.D.Master),ce=(0,Z.hP)(rt.position,r.D.Master,dt.parentGroup);rt.position=ce,dt.parentGroup=void 0}(0,H.q4)(dt)&&(f.f.assertValue(Fe[dt.name],"deserializePage - visual container group must have children"),dt.children=Fe[dt.name]||[],this.ensureVisualContainerGrouping(dt.children,Fe,$e,dt))}}ensureGroupZIndexNormalized(ne){if(f.f.assertValue(ne,"visualContainerGroups"),!_.isEmpty(ne))for(var Fe of(this.ensureListOrderNormalizedInternal(ne,!0,"z"),ne))(0,H.q4)(Fe)&&this.ensureGroupZIndexNormalized(Fe.children)}ensureGroupTabOrderNormalized(ne,Fe){if(f.f.assertValue(ne,"visualContainerGroups"),!_.isEmpty(ne)){if(_.every(Fe,$e=>{var qe=$e.layouts.withId(r.D.Master);return qe&&qe.position&&null==qe.position.tabOrder}))return;this.ensureGroupsHaveTabOrders(ne)||this.upgradeTabOrderToHierarchy(ne),this.ensureGroupTabOrderNormalizedHelper(ne)}}upgradeTabOrderToHierarchy(ne){_.map(ne,Fe=>{if((0,H.q4)(Fe)&&void 0===Fe.layouts?.withId(r.D.Master).position?.tabOrder){this.upgradeTabOrderToHierarchy(Fe.children);var $e=Number.NEGATIVE_INFINITY;(0,H.Iw)([Fe],qe=>{var dt=qe.layouts?.withId(r.D.Master).position?.tabOrder;dt&&($e=_.max([$e,dt])),$e!==Number.NEGATIVE_INFINITY&&(Fe.layouts.withId(r.D.Master).position.tabOrder=$e)})}})}ensureGroupsHaveTabOrders(ne){for(var Fe of ne)if((0,H.q4)(Fe)){var $e=Fe.layouts.withId(r.D.Master);if(void 0===$e?.position?.tabOrder||!this.ensureGroupsHaveTabOrders(Fe.children))return!1}return!0}ensureGroupTabOrderNormalizedHelper(ne){for(var Fe of(this.ensureTabOrderNormalized(ne,!0),this.ensureTabOrderNormalized(ne,!1),ne))(0,H.q4)(Fe)&&this.ensureGroupTabOrderNormalizedHelper(Fe.children)}ensureListOrderNormalized(ne,Fe=!0){f.f.assertValue(ne,"visualContainers"),!_.isEmpty(ne)&&(Fe&&this.ensureListOrderNormalizedInternal(ne,!0,"z"),!_.every(ne,$e=>{var qe=$e.layouts.withId(r.D.Master);return qe&&qe.position&&null==qe.position.tabOrder})&&(this.ensureTabOrderNormalized(ne,!0),this.ensureTabOrderNormalized(ne,!1)))}ensureTabOrderNormalized(ne,Fe){var $e=_.filter(ne,qe=>{var dt=this.getListOrderPropertyFunction(qe,"tabOrder");return Fe?dt>=0||void 0===dt:dt&&dt<0});this.ensureListOrderNormalizedInternal($e,Fe,"tabOrder")}getListOrderPropertyFunction(ne,Fe){var $e=ne.layouts.withId(r.D.Master);return $e&&$e.position&&$e.position[Fe]}setListOrderPropertyFunction(ne,Fe,$e){var qe=ne.layouts.withId(r.D.Master);qe&&qe.position&&(qe.position[Fe]=$e)}ensureListOrderNormalizedInternal(ne,Fe,$e){var qe=this.canvasListOrderNormalizeService.getContainerListOrders(ne,dt=>this.getListOrderPropertyFunction(dt,$e));this.canvasListOrderNormalizeService.shouldNormalizeListOrder(qe,Fe)&&(qe=this.canvasListOrderNormalizeService.normalizeListOrder(qe,Fe,dt=>this.getListOrderPropertyFunction(dt,$e)),this.updateListOrders(ne,qe,$e))}updateListOrders(ne,Fe,$e){for(var qe of ne){var dt=Fe[qe.name];null!=dt&&dt!==this.getListOrderPropertyFunction(qe,$e)&&this.setListOrderPropertyFunction(qe,$e,dt)}}ensureNames(ne){f.f.assertValue(ne,"items");for(var qe,Fe=ne.length,$e={},dt=0;dt<Fe;dt++){var rt=ne[dt].name;_.isEmpty(rt)?qe=!0:$e[rt]=!0}if(qe)for(var ce=0;ce<Fe;ce++){var be=ne[ce];_.isEmpty(be.name)&&(be.name=(0,Z.vr)($e),$e[be.name]=!0)}}convertProjections(ne,Fe,$e,qe,dt,rt){f.f.assertValue(Fe,"contract"),f.f.assertValue($e,"select");var ce={},be=_.keys(rt),ae=_.keys(Fe),de=_.union(be,ae);for(var ee of de){var Pe=_.includes(dt,ee);ce[ee]=this.convertProjectionArray(ne,Fe[ee],$e,ee,qe,Pe,rt?rt[ee]:void 0)}return ce}convertProjectionArray(ne,Fe,$e,qe,dt,rt,ce){var ae,be=[];if(!_.isEmpty(Fe))for(var de of Fe){var ee=this.convertProjection(de,$e,dt);ee?(de.active&&(ae=ae||[]).push(ee.queryRef),be.push(ee)):this.telemetryService.logTrace(new Ie.X("Projection without a select detected in deserialization",me.U.Error,void 0,void 0,{visualType:ne,role:qe}))}var Pe=[];if(!_.isEmpty(ce))for(var We of ce){var it={index:We.index,length:We.length,expr:d.ib.deserializeExpr(We.expr)};Pe.push(it)}return new w.NQ(be,ae,rt,Pe)}convertProjection(ne,Fe,$e){f.f.assertValue(ne,"contract");var qe=ne.queryRef;if(_.isNumber(ne.queryRef)&&(qe=Fe[ne.queryRef].name),$e[qe]){var dt={queryRef:qe};return ne.hidden&&(dt.hidden=!0),dt}}serializeExploration(ne,Fe){return this.createSerializer().serializeExploration(ne,Fe)}serializeModelExtensions(ne){return this.createSerializer().serializeModelExtensions(ne)}serializePage(ne,Fe,$e){return this.createSerializer().serializePage(ne,Fe,$e)}serializePageShallow(ne,Fe,$e){return this.createSerializer().serializePageShallow(ne,Fe,$e)}serializeVisualContainer(ne,Fe){return this.createSerializer().serializeVisualContainer(ne,Fe)}serializeVisualContainerGroup(ne){return this.createSerializer().serializeVisualContainerGroup(ne)}serializePod(ne){return this.createSerializer().serializePod(ne)}serializeFilterCollection(ne){return this.createSerializer().serializeFilterCollection(ne)}serializeResourcePackages(ne){return this.createSerializer().serializeResourcePackages(ne)}createSerializer(){return new Qe(this.visualPlugins,this.explorationDowngrader,this.telemetryService,this.featureSwitchService)}upgradeVisualQuery(ne,Fe){if(Fe===Ke.D.filledMap&&ne.projections[Oe]){var $e=ne.projections[Oe],qe=ne.projections[Ee];if(qe&&qe.all.length>0)for(var rt=qe.all().length-1;rt>=0;rt--)ne.removeProjection(Ee,{fieldIndex:rt});ne.projections[Ee]=$e,delete ne.projections[Oe]}var ce=this.visualPlugins.capabilities(Fe);if(ce){var be=(0,G.WO)(ce,ne.isDrillDisabled),ae=ne.ensureDrillableRoles(be);if(!_.isEmpty(ae)){var de={};for(var ee of ae){var Pe=ne.projections[ee],We=0;Pe&&(We=_.size(Pe.all())),de[ee]=We}this.telemetryService.logEvent(k.Zk,{visualType:Fe,fixedRoleByProjectionCount:JSON.stringify(de)})}}}upgradeResourcePackage(ne){void 0===ne.type&&(ne.type=t.v.CustomVisual)}getReferencedStaticResources(ne){var Fe={},$e=ne.themeCollection.customTheme,qe=ne.themeCollection.baseTheme;if(this.addItemReference(Fe,ne.resourcePackages,$e&&$e.type,$e&&$e.name),this.addItemReference(Fe,ne.resourcePackages,qe&&qe.type,qe&&qe.name),!_.isEmpty(ne.sections))for(var dt of ne.sections)if((0,X.WP)(dt.objects,L.C,ne.resourcePackages,Fe),!_.isEmpty(dt.visualContainers))for(var rt of dt.visualContainers){var ce=rt.config.singleVisual,be=ce.objects,ae=this.visualPlugins.capabilities(ce.visualType);(0,X.WP)(be,ae&&ae.objects,ne.resourcePackages,Fe)}return Fe}addItemReference(ne,Fe,$e,qe){if(qe&&$e){var dt=(0,R.Yu)(Fe,$e,qe);if(dt){var rt=(0,R.RJ)($e);(0,X.be)(ne,rt,$e,qe,dt.type)}}}parseExplorationConfigs(ne){if(ne){var Fe=this.parseConfig(ne);return Fe.sections=_.map(ne.sections,$e=>this.parsePageConfigs($e)),Fe}}parseConfig(ne){var Fe=_.clone(ne);return Fe.config=(0,v.K)(ne.config)||{},Fe}parsePageConfigs(ne){var Fe=this.parseConfig(ne);return Fe.visualContainers=_.map(ne.visualContainers,$e=>this.parseConfig($e)),Fe}stringifyExplorationConfigs(ne){var Fe=this.stringifyConfig(ne);return Fe.sections=_.map(ne.sections,$e=>this.stringifyPageConfigs($e)),Fe}stringifyConfig(ne){var Fe=_.clone(ne);return Fe.config=JSON.stringify(ne.config),Fe}stringifyPageConfigs(ne){var Fe=this.stringifyConfig(ne);return Fe.visualContainers=_.map(ne.visualContainers,$e=>this.stringifyConfig($e)),Fe}parseFilterCollectionConfig(ne){if(ne)return this.parseConfig(ne)}stringifyFilterCollectionConfig(ne){if(ne)return this.stringifyConfig(ne)}}var Ce=Ue.H3n.v5_37;class Qe{constructor(ne,Fe,$e,qe){this.visualPlugins=ne,this.explorationDowngrader=Fe,this.telemetryService=$e,this.featureSwitchService=qe,this.version=Ce}serializeExploration(ne,Fe){var $e=ne.sections;(!Fe||!Fe.withTransientPages)&&($e=(0,L.y)($e));var dt,qe=_.map($e,(de,ee)=>this.serializePage(de,ee,Fe));_.isEmpty(ne.pods)||(this.removeInvalidPods(ne.sections,ne.pods,this.telemetryService),dt=_.map(ne.pods,de=>this.serializePod(de)),f.f.assert(()=>xe(ne.pods,de=>de.name).allUnique,"pod names must be unique"));var rt=this.serializeExplorationShallowWithResourcePackages(ne,Fe);if(rt.sections=qe,rt.pods=dt,!Fe||!Fe.forSave){var ce=ne.activeBookmark;if(ce){var be=rt.config.bookmarks??[];for(var ae of be)if(void 0===ae.children&&ae.name===ce.name){rt.activeBookmark=ae;break}}}return Fe&&Fe.forSave&&this.explorationDowngrader.downgrade(rt,this.version),f.f.assert(()=>this.version===rt.config.version,"explorationSerializer.serializeExploration - Version in serializer state should be exactly the same that returned wireContract version."),this.featureSwitchService.featureSwitches.reportSerializationSizeCountTelemetry&&Fe?.forSave&&this.logSizeAndCountInfo(rt),rt}logSizeAndCountInfo(ne){setTimeout(()=>{var Fe=ne.sections,$e=Fe.flatMap(be=>be.visualContainers),qe=ne.pods,dt=ne.config.bookmarks,rt=ne.resourcePackages,ce={reportSize:this.getMaxStringifiedSize([ne]),maxSizeVisual:this.getMaxStringifiedSize($e),maxSizePod:qe?this.getMaxStringifiedSize(qe):0,maxSizeBookmark:dt?this.getMaxStringifiedSize(dt):0,maxSizeResourcePackage:rt?this.getMaxStringifiedSize(rt):0,totalVisualCount:$e.length,totalPageCount:Fe.length,totalPodCount:qe?.length??0,totalBookmarkCount:dt?.length??0,totalResourcePackageCount:rt?.length??0};this.telemetryService.logEvent(k.Hn,{reportDefinitionVersion:"1.0.0",...ce})})}getMaxStringifiedSize(ne){var Fe=ne.map(qe=>JSON.stringify(qe).length);return Fe.length>0?Math.max(...Fe):0}serializeBookmarks(ne,Fe){if(ne){var $e=Ve.Zh,qe=_.map(ne,dt=>{if(W.J.isBookmarkGroup(dt)){var rt={displayName:dt.displayName,name:dt.name,children:this.serializeBookmarks(dt.children,Fe)};return this.version=(0,c.Fp)(this.version,Ue.VSH),rt}(0,te.oJ)(dt.explorationState,Fe);var ce={displayName:dt.displayName,name:dt.name,explorationState:(0,te.qC)(dt.explorationState,this.featureSwitchService)};return $e=(0,c.Fp)(ce.explorationState.version,$e),dt.options&&(ce.options=this.serializeBookmarkOptions(dt.options),this.version=(0,c.Fp)(this.version,Ue.q4D)),ce});switch($e){case Ve.Zh:this.version=(0,c.Fp)(this.version,Ue.hGr);break;case Ve.U1:this.version=(0,c.Fp)(this.version,Ue.rAF);break;case Ve.aN:this.version=(0,c.Fp)(this.version,Ue.htK);break;case Ve.Aq:this.version=(0,c.Fp)(this.version,Ue.$tC);break;case Ve.Zl:this.version=(0,c.Fp)(this.version,Ue.fke);break;case Ve.XX:this.version=(0,c.Fp)(this.version,Ue.vqL);break;case Ve.uZ:this.version=(0,c.Fp)(this.version,Ue.UCJ);break;case Ve.rb:this.version=(0,c.Fp)(this.version,Ue.dKN);break;case Ve.C7:this.version=(0,c.Fp)(this.version,Ue.C7j);break;default:f.f.assertFail("Unknown exploration state version.")}return qe}}serializeBookmarkOptions(ne){return ne}serializeExplorationShallowWithResourcePackages(ne,Fe){var $e=ne.activeSectionIndex,qe=this.createVersionedElementConfig(Ce);if(this.version=(0,c.Fp)(this.version,qe.version),qe.themeCollection=B.P.cloneThemeCollection(ne.themeCollection),_.isNumber($e)&&(qe.activeSectionIndex=$e),_.isEmpty(ne.modelExtensions)||(this.version=(0,c.Fp)(this.version,Ue.H3n.v3_0),qe.modelExtensions=this.serializeModelExtensions(ne.modelExtensions)),!_.isEmpty(ne.bookmarks)){var dt=this.serializeBookmarks(ne.bookmarks,ne);qe.bookmarks=dt}Fe&&Fe.excludeHighContrastTheme&&delete qe.themeCollection.highContrastTheme,Fe&&Fe.forSave&&delete qe.themeCollection.transientUserSetTheme;var rt=ne.themeCollection.baseTheme;if(rt&&(this.version=(0,c.Fp)(this.version,(0,Q.TO)(rt.name))),(0,P.g)(ne.dataSourceVariables)||(this.version=(0,c.Fp)(this.version,Ue.H3n.v4_2),qe.dataSourceVariables=ne.dataSourceVariables),ne.tags&&(qe.tags=ne.tags),null!=ne.defaultDrillFilterOtherVisuals&&(qe.defaultDrillFilterOtherVisuals=ne.defaultDrillFilterOtherVisuals,ne.defaultDrillFilterOtherVisuals&&(this.version=(0,c.Fp)(this.version,Ue.U$u))),null!=ne.filterSortOrder&&(qe.filterSortOrder=ne.filterSortOrder,ne.filterSortOrder&&(this.version=(0,c.Fp)(this.version,Ue.faH))),ne.slowDataSourceSettings){var ce=_.cloneDeep(ne.slowDataSourceSettings);(ce.isCrossHighlightingDisabled||ce.isFieldWellButtonEnabled||ce.isFilterSelectionsButtonEnabled||ce.isSlicerSelectionsButtonEnabled||ce.isApplyAllButtonEnabled)&&(this.version=(0,c.Fp)(this.version,ce.isApplyAllButtonEnabled?Ue.m5F:Ue.qq3)),qe.slowDataSourceSettings=ce}if(null!=ne.linguisticSchemaSyncVersion&&(qe.linguisticSchemaSyncVersion=ne.linguisticSchemaSyncVersion,ne.linguisticSchemaSyncVersion!==U.u.Unspecified&&(this.version=(0,c.Fp)(this.version,Ue.ugh))),ne.settings){var be=_.cloneDeep(ne.settings);(be.isPersistentUserStateDisabled||be.hideVisualContainerHeader)&&(this.version=(0,c.Fp)(this.version,Ue.Awj)),be.useStylableVisualContainerHeader&&(this.version=(0,c.Fp)(this.version,Ue.qdh)),void 0!==be.exportDataMode&&be.exportDataMode!==O.m7.AllowSummarizedAndUnderlying&&(this.version=(0,c.Fp)(this.version,Ue.m7e)),be.useNewFilterPaneExperience&&(this.version=(0,c.Fp)(this.version,Ue.z1y)),be.isReportAnnotationsDisabled&&(this.version=(0,c.Fp)(this.version,Ue.sE2)),!0===be.defaultFilterActionIsDataFilter&&(this.version=(0,c.Fp)(this.version,Ue.iXZ)),be.useCrossReportDrillthrough&&(this.version=(0,c.Fp)(this.version,Ue.xSu)),be.allowChangeFilterTypes&&(this.version=(0,c.Fp)(this.version,Ue.kdg)),be.allowInlineExploration&&(this.version=(0,c.Fp)(this.version,Ue.UCJ)),be.optOutNewFilterPaneExperience&&(this.version=(0,c.Fp)(this.version,Ue.YA8)),be.filterPaneHiddenInEditMode&&(this.version=(0,c.Fp)(this.version,Ue.UAC)),be.disableFilterPaneSearch&&(this.version=(0,c.Fp)(this.version,Ue.np7)),be.pagesPosition&&(this.version=(0,c.Fp)(this.version,Ue.IwG)),be.useEnhancedTooltips&&(this.version=(0,c.Fp)(this.version,Ue.TQL)),be.useScaledTooltips&&(this.version=(0,c.Fp)(this.version,Ue.elY)),be.allowAutomatedInsightsNotification&&(this.version=(0,c.Fp)(this.version,Ue.VTu)),be.useDefaultAggregateDisplayName&&(this.version=(0,c.Fp)(this.version,Ue.GwY)),be.pauseQueries&&(this.version=(0,c.Fp)(this.version,Ue.tCF)),(be.queryLimitOption||be.customMemoryLimit||be.customTimeoutLimit)&&(this.version=(0,c.Fp)(this.version,Ue.ckf)),qe.settings=be}ne.objects&&(qe.objects=this.serializeObjects(ne.objects,U.W,"report",Fe)),Fe&&Fe.forSave?(this.version=this.explorationDowngrader.getFinalExplorationVersion(ne,this.version),f.f.assert(()=>!(0,c.lt)(this.version,qe.version),"explorationSerializer.serializeExplorationShallowWithResourcePackages - Version should be at least as high as version config")):this.version=se.L;var ae=this.serializeFilterContainers(ne.filters,Fe);return ne.creationSource&&(qe.creationSource=ne.creationSource,this.version=(0,c.Fp)(this.version,Ue.Eo9)),qe.version=this.version,{id:ne.id,report:ne.report,reportId:ne.reportId,theme:ne.themeCollection.customTheme&&ne.themeCollection.customTheme.name,filters:ae,resourcePackages:this.serializeResourcePackages(ne.resourcePackages,Fe),sections:void 0,config:qe,layoutOptimization:this.getLayoutOptimizations(ne),publicCustomVisuals:ne.publicCustomVisuals,isStoredInBlob:ne.isStoredInBlob}}serializeLinkField(ne){f.f.assertValue(ne,"linkfield");var Fe=ne.fieldExpr;return f.f.assert(()=>(0,ft.kb)(Fe)&&!1===ne.asAggregation||(0,ft.t3)(Fe)||(0,ft.ez)(Fe),"invalid linkField"),{asAggregation:ne.asAggregation,fieldExpr:d.ib.serializeExpr(Fe)}}serializeFilterCollection(ne){if(!_.isEmpty(ne)){var Fe=this.createVersionedElementConfig(Ce);return{filters:this.serializeFilterContainers(ne),config:Fe}}}serializePage(ne,Fe,$e){var qe=this.serializePageShallow(ne,Fe,$e);if(qe.visualContainers=[],ne.visualContainerGroups)this.serializeVisualContainerTreeToList(ne.visualContainerGroups,qe.visualContainers,$e);else for(var dt of ne.visualContainers)qe.visualContainers.push(this.serializeVisualContainer(dt,$e));return qe}serializeVisualContainerTreeToList(ne,Fe,$e){var qe=!1;for(var dt of ne)(0,H.q4)(dt)?(qe||(this.version=(0,c.Fp)(Ue.F1S.getVersionForVisualContainerGroup(dt),this.version),qe=!0),Fe.push(this.serializeVisualContainerGroup(dt)),this.serializeVisualContainerTreeToList(dt.children,Fe,$e)):Fe.push(this.serializeVisualContainer(dt,$e))}isRegularPageUsingMeasureDrillthrough(ne){var Fe=!1,$e=!1;return(null==ne.type||ne.type===I.bA.Regular)&&(Fe=!0===ne.acceptsAllFiltersWhenLinked,$e=_.some(ne.filters,qe=>qe&&qe.howCreated===I.OO.Drillthrough&&!qe.isTransient&&(qe.isLinkedAsAggregation||qe.expression&&(0,ft.kb)(qe.expression)))),Fe||$e}isMeasureDrillthroughPod(ne){var Fe=!1,$e=!1;return ne.type===I.yi.Drillthrough&&(Fe=ne.config&&ne.config.acceptsFilterContext===I.PD.Default,$e=_.some(ne.parameters,qe=>qe.asAggregation||qe.fieldExpr&&(0,ft.kb)(qe.fieldExpr))),Fe||$e}serializePageShallow(ne,Fe,$e){f.f.assert(()=>xe(ne.visualContainers,rt=>rt.name).allUnique,"VisualContainer names must be unique within a section.");var qe={id:ne.id,name:ne.name,displayName:ne.displayName,filters:this.serializeFilterContainers(ne.filters,$e),ordinal:Fe,visualContainers:void 0,transient:ne.transient,objectId:ne.objectId,config:{}};ne.size&&(qe.displayOption=ne.size.displayOption,qe.width=ne.size.width,qe.height=ne.size.height),$e&&$e.forSave&&(ne.isNew=void 0),!$e?.forSave&&ne.originalSize&&(qe.originalDisplayOption=ne.originalSize.displayOption,qe.originalWidth=ne.originalSize.width,qe.originalHeight=ne.originalSize.height);var dt=qe.config;return _.isEmpty(ne.relationships)||(dt.relationships=this.serializeRelationships(ne.relationships),$e&&$e.featureUsage&&($e.featureUsage.hasVisualRelationships=!0)),ne.objects&&(dt.objects=this.serializeObjects(ne.objects,L.C,"page",$e)),null!=ne.visibility&&(dt.visibility=ne.visibility,this.version=(0,c.Fp)(this.version,Ue.ftA)),null!=ne.type&&(dt.type=ne.type,this.version=(0,c.Fp)(this.version,Ue.x7c)),null!=ne.filterSortOrder&&(dt.filterSortOrder=ne.filterSortOrder,this.version=(0,c.Fp)(this.version,Ue.faH)),dt.acceptsAllFiltersWhenLinked=ne.acceptsAllFiltersWhenLinked,this.isRegularPageUsingMeasureDrillthrough(ne)&&(this.version=(0,c.Fp)(this.version,Ue.oq_)),_.isEmpty(ne.linkFields)||(dt.linkFields=_.map(ne.linkFields,rt=>this.serializeLinkField(rt)),this.version=(0,c.Fp)(this.version,Ue.x7c)),ne.dynamicConfig&&(dt.dynamicConfig=this.serializePageDynamicConfig(ne.dynamicConfig),this.version=(0,c.Fp)(this.version,Ue.Eo9),dt.dynamicConfig.quickExplore?.layout&&(this.version=(0,c.Fp)(this.version,Ue.KQG))),ne.howCreated&&ne.howCreated!==I.RT.Default&&(dt.howCreated=ne.howCreated,this.version=(0,c.Fp)(this.version,Ue.q0O)),qe}serializePod(ne){var Fe=this.serializePodParameters(ne.parameters);return this.isMeasureDrillthroughPod(ne)&&(this.version=(0,c.Fp)(this.version,Ue.oq_)),ne.referenceScope===I.zm.CrossReport&&(this.version=(0,c.Fp)(this.version,Ue.xSu)),{id:ne.id,name:ne.name,boundSection:ne.boundSection,parameters:_.isEmpty(Fe)?void 0:JSON.stringify(Fe),cortanaEnabled:ne.cortanaEnabled?ne.cortanaEnabled:void 0,type:ne.type!==I.yi.Default?ne.type:void 0,referenceScope:ne.referenceScope!==I.zm.Default?ne.referenceScope:void 0,config:this.serializePodConfig(ne.config)}}serializeVisualContainer(ne,Fe){_.forEach(ne.layouts,ce=>{ce.position&&Et(ce.position)});var $e,qe=this.serializeVisualContainerConfig(ne,Fe),dt=ne.layouts&&ne.layouts.withId(r.D.Master);if(dt?(f.f.assertValue(dt.position,"Master layout should contain a position"),$e={id:ne.id,x:dt.position.x,y:dt.position.y,z:dt.position.z,width:dt.position.width,height:dt.position.height,config:qe,filters:this.serializeFilterContainers(ne.filters)},dt.position.tabOrder&&($e.tabOrder=dt.position.tabOrder)):$e={id:ne.id,config:qe,filters:this.serializeFilterContainers(ne.filters)},!_.isEmpty(ne.filters)){var rt=this.visualPlugins.capabilities(ne.config.singleVisual.visualType);q.l.supportsFilterOutput(rt)&&(this.version=(0,c.Fp)(this.version,Ue.NsA))}return Fe&&Fe.forSave&&(ne.isNew=void 0),Fe&&Fe.withVisibility&&(null!=ne.visibility&&($e.visibility=ne.visibility),null!=ne.detailVisualLayout&&($e.detailVisualLayout=ne.detailVisualLayout)),Fe&&ne.cachedData&&((Fe.withQuery||Fe.withData)&&($e.query=ne.cachedData.queryObject?JSON.stringify(ne.cachedData.queryObject):ne.cachedData.query,$e.dataTransforms=ne.cachedData.transformsObject?g.F.serializeTransformActions(ne.cachedData.transformsObject):ne.cachedData.transforms,$e.dataUpdatedTime=ne.cachedData.dataUpdatedTime?ne.cachedData.dataUpdatedTime.toISOString():void 0),Fe.withData&&($e.dataBinaryBase64Encoded=ne.cachedData.dataObject?(0,m.nN)(JSON.stringify(ne.cachedData.dataObject)):ne.cachedData.data)),$e}serializeVisualContainerGroup(ne,Fe){this.version=(0,c.Fp)(this.version,Ue.bFC);var $e={name:ne.name,layouts:_.cloneDeep(ne.layouts),singleVisualGroup:{displayName:ne.displayName,groupMode:ne.groupMode,isHidden:ne.isHidden}};ne.parentGroup&&($e.parentGroupName=ne.parentGroup.name),ne.objects&&($e.singleVisualGroup.objects=this.serializeObjects(ne.objects,z.C7,z.$m,Fe));var qe,dt=ne.layouts&&ne.layouts.withId(r.D.Master);return dt?(f.f.assertValue(dt.position,"Master layout should contain a position"),qe={id:ne.id,x:dt.position.x,y:dt.position.y,z:dt.position.z,width:dt.position.width,height:dt.position.height,config:$e},this.featureSwitchService.featureSwitches.accessibilityTopLevelNav&&dt.position.tabOrder&&(qe.tabOrder=dt.position.tabOrder)):qe={id:ne.id,config:$e},qe}serializeModelExtensions(ne){if(ne)return _.map(ne,Fe=>({name:Fe.name,extends:Fe.extends,entities:this.serializeModelExtensionEntities(Fe.entities)}))}serializeRelationship(ne){return f.f.assertValue(ne,"relationship"),f.f.assertValue(ne.source.name,"relationship.source.name"),f.f.assertValue(ne.target.name,"relationship.target.name"),{source:ne.source.name,target:ne.target.name,type:ne.type}}serializeVisualContainerConfig(ne,Fe){var $e=ne.config&&ne.config.singleVisual;f.f.assertValue(ne.name,"VisualContainer name is missing."),f.f.assertValue($e,"explorationSerializer.serializeVisualContainerConfig - singleVisual should exist"),f.f.assertValue($e.visualType,"explorationSerializer.serializeVisualContainerConfig - visualType should exist");var qe=$e.query,dt=qe?.defn?_.keyBy(qe.defn.select(),St=>St.name):void 0,rt=qe?qe.projections:void 0,ce={name:ne.name,layouts:_.cloneDeep(ne.layouts),singleVisual:{visualType:$e.visualType,projections:this.serializeQueryProjections(rt,dt,ne.name,$e.visualType),prototypeQuery:qe?d.ib.serializeQuery(qe.defn):void 0}};qe&&qe.isDrillDisabled&&(this.version=(0,c.Fp)(this.version,Ue.hCh),ce.singleVisual.isDrillDisabled=qe.isDrillDisabled),null!=$e.autoSelectVisualType&&(this.version=(0,c.Fp)(this.version,Ue.C7j),ce.singleVisual.autoSelectVisualType=$e.autoSelectVisualType);var be=this.serializeQueryFieldParameters(rt);if(_.isEmpty(be)||(this.version=(0,c.Fp)(this.version,Ue.dKN),ce.singleVisual.queryFieldParametersByRole=be),_.some(ne.layouts,St=>St.position&&void 0!==St.position.tabOrder)&&(this.version=(0,c.Fp)(this.version,Ue.$gq)),qe&&(0,D.if)(qe.expansionStates)){var ae=(0,p.hI)(qe.expansionStates);_.isEmpty(ae)||(ce.singleVisual.expansionStates=ae,this.version=(0,c.Fp)(this.version,Ue.RrR))}var de=$e.columnProperties;if(de&&!_.isEmpty(de)){this.version=(0,c.Fp)(this.version,Ue.H3n.v3_4);var ee=_.cloneDeep(de),Pe=_.pickBy(ee,St=>null!=St.formatString);if(!_.isEmpty(Pe))for(var We in Pe)null==dt?.[We]&&(ee[We].formatString=null);_.some(ee,St=>null!=St.formatString)&&(this.version=(0,c.Fp)(this.version,Ue.h07)),ce.singleVisual.columnProperties=ee}if($e.queryOptions&&(null!=$e.queryOptions.allowBinnedLineSample&&(this.version=(0,c.Fp)(this.version,Ue.H3n.v3_3)),null!=$e.queryOptions.allowOverlappingPointsSample&&(this.version=(0,c.Fp)(this.version,Ue.H3n.v3_5)),null!=$e.queryOptions.keepProjectionOrder&&(this.version=(0,c.Fp)(this.version,Ue.H3n.v4_1)),ce.singleVisual.queryOptions=_.cloneDeep($e.queryOptions)),$e.display&&(this.version=(0,c.Fp)(this.version,Ue.g3O),ce.singleVisual.display=_.cloneDeep($e.display)),qe&&qe.defn){if($e.visualType===Ke.D.slicer){var it=qe.projections;it&&it[E.CT.value]&&it[E.CT.value].all().length>1&&(this.version=(0,c.Fp)(this.version,Ue.XVx))}(0,Z.J6)($e)&&(this.version=_.some(Ue.WWC,St=>St===$e.visualType)?(0,c.Fp)(this.version,Ue.Xfb):(0,c.Fp)(this.version,Ue.XRk));var yt=qe.defn.select();for(var et of yt)this.version=(0,c.Fp)(this.version,Ue.F1S.getVersionForSQExpr(et.expr));this.version=(0,c.Fp)(this.version,Ue.F1S.getVersionForSortDefinitions(qe.defn.orderBy()))}var mt=this.serializeShowAllRoles(qe?qe.projections:void 0);_.isEmpty(mt)||(ce.singleVisual.showAllRoles=mt,Fe&&Fe.featureUsage&&(Fe.featureUsage.hasShowAllEnabled=!0)),$e.visualType===Ke.D.ribbonChart&&(this.version=(0,c.Fp)(this.version,Ue.H3n.v3_5)),$e.visualType===Ke.D.actionButton&&(this.version=(0,c.Fp)(this.version,Ue.Kkx)),$e.visualType===Ke.D.pythonVisual&&(this.version=(0,c.Fp)(this.version,Ue.H3n.v3_17)),$e.visualType===Ke.D.keyDriversVisual&&(this.version=(0,c.Fp)(this.version,Ue.H3n.v4_1),$e.query&&!_.isEmpty($e.query.tryGetExprs(S.qG.details))&&(this.version=(0,c.Fp)(this.version,Ue.ukM))),$e.visualType===Ke.D.qnaVisual&&(this.version=(0,c.Fp)(this.version,Ue.H3n.v5_4)),$e.visualType===Ke.D.decompositionTreeVisual&&(this.version=(0,c.Fp)(this.version,Ue.H3n.v5_5)),$e.visualType===Ke.D.azureMap&&(this.version=(0,c.Fp)(this.version,Ue.H3n.v5_13)),$e.visualType===Ke.D.cardVisual&&(this.version=(0,c.Fp)(this.version,Ue.VRY)),$e.visualType===Ke.D.shape&&(this.version=(0,c.Fp)(this.version,Ue.$qz)),$e.visualType===Ke.D.pageNavigator&&(this.version=(0,c.Fp)(this.version,Ue.aWu)),$e.visualType===Ke.D.bookmarkNavigator&&(this.version=(0,c.Fp)(this.version,Ue.aWu)),$e.visualType===Ke.D.rdlVisual&&(this.version=(0,c.Fp)(this.version,Ue.iuU)),$e.visualType===Ke.D.scorecard&&(this.version=(0,c.Fp)(this.version,Ue.pj3)),$e.visualType===Ke.D.aiNarratives&&(this.version=(0,c.Fp)(this.version,Ue.LlV)),$e.visualType===Ke.D.advancedSlicerVisual&&(this.version=(0,c.Fp)(this.version,Ue.tji)),$e.visualType===Ke.D.hundredPercentStackedAreaChart&&(this.version=(0,c.Fp)(this.version,Ue.Hg9)),$e.visualType===Ke.D.listSlicer&&(this.version=(0,c.Fp)(this.version,Ue.pWD)),$e.visualType===Ke.D.textSlicer&&(this.version=(0,c.Fp)(this.version,Ue.pXM)),$e.syncGroup&&(ce.singleVisual.syncGroup=_.cloneDeep($e.syncGroup),this.version=(0,c.Fp)(this.version,Ue.$IK)),null!=ne.drillFilterOtherVisuals&&(ce.singleVisual.drillFilterOtherVisuals=ne.drillFilterOtherVisuals,this.version=(0,c.Fp)(this.version,Ue.U$u)),null!=ne.filterSortOrder&&(ce.singleVisual.filterSortOrder=ne.filterSortOrder,this.version=(0,c.Fp)(this.version,Ue.faH)),ne.parentGroup&&(ce.parentGroupName=ne.parentGroup.name,this.version=(0,c.Fp)(this.version,Ue.bFC)),ne.howCreated&&ne.howCreated!==I.Iv.Default&&(ce.howCreated=ne.howCreated,this.version=(0,c.Fp)(this.version,Ue.q0O)),$e.hasDefaultSort&&(ce.singleVisual.hasDefaultSort=$e.hasDefaultSort);var Dt,ie=qe?$e.query.defn.select():(0,u.bv)();if($e.objects){var Y=this.visualPlugins.capabilities($e.visualType),fe=Y&&Y.objects;if(ce.singleVisual.objects=this.serializeObjects($e.objects,fe,$e.visualType,Fe,ie),(Dt=$e).visualType===Ke.D.scatterChart&&Dt.query&&Dt.query.projections.Play&&!_.isEmpty(Dt.query.projections.Play.all())){var Be=!1;(0,M.rQ)($e.objects,fe,(St,Rt,kt,Gt,Ht)=>{"fill"===Rt&&"dataPoint"===Gt&&null!=kt&&(Be=!0)}),Be&&(this.version=(0,c.Fp)(this.version,Ue.H3n.v5_1))}this.supportsScalarMarkers($e)&&(0,c.lt)(this.version,Ue.Cc1)&&this.upgradeIfScalarMarkersAreSet($e.objects)}var ct=$e.vcObjects;return ct&&(ce.singleVisual.vcObjects=this.serializeObjects(ct,K.XW,$e.visualType,Fe,ie)),this.serializeMobileState($e,ce.singleVisual,Fe?.forSave),$e.cachedFilterDisplayItems&&(ce.singleVisual.cachedFilterDisplayItems=(0,n.vX)($e.cachedFilterDisplayItems)),$e.filterExpressionMetadata&&(ce.singleVisual.filterExpressionMetadata=(0,s.Qe)($e.filterExpressionMetadata,this.featureSwitchService.featureSwitches.serializeSpaceOptimization),this.version=(0,c.Fp)(this.version,Ue.vqL)),this.version<Ue.jJX&&function(Dt){if(Dt.visualType!==Ke.D.scatterChart)return!1;var ne=h.TL.x,Fe=Dt.query,$e=Fe?Fe.getRolesProjectionRefs([ne]):void 0,qe=_.size($e);if(qe>1)return!0;if(1===qe){var dt=Fe.tryGetExpr(ne,0);if(dt&&!(0,Ct.k)(dt))return!0}return!1}($e)&&(this.version=Ue.jJX),function(Dt){return!!Dt&&Dt.defn.select().some(ne=>(0,ft.jX)(ne.expr))}(qe)&&(this.version=(0,c.Fp)(this.version,Ue.H_y),$e&&($e.visualType===Ke.D.scatterChart||$e.visualType===Ke.D.azureMap||$e.visualType===Ke.D.map||$e.visualType===Ke.D.filledMap||$e.visualType===Ke.D.shapeMap)&&(this.version=(0,c.Fp)(this.version,Ue.FOi)),$e&&($e.visualType===Ke.D.lineStackedColumnComboChart||$e.visualType===Ke.D.lineClusteredColumnComboChart)&&(this.version=(0,c.Fp)(this.version,Ue.OY7)),_.some(qe.getVisualCalcExpressions(),St=>(0,ft.jX)(St.expr)&&null!=St.expr.dataType)&&(this.version=(0,c.Fp)(this.version,Ue.BGf))),ce}serializeMobileState(ne,Fe,$e){$e||(ne.mobileVcObjects&&(Fe.mobileVcObjects=(0,l.xF)(ne.mobileVcObjects,K.XW,this.featureSwitchService.featureSwitches.serializeSpaceOptimization,$e)),ne.mobileObjects&&(Fe.mobileObjects=(0,l.xF)(ne.mobileObjects,this.visualPlugins.capabilities(ne.visualType)?.objects,this.featureSwitchService.featureSwitches.serializeSpaceOptimization,$e)))}serializeObjects(ne,Fe,$e,qe,dt){f.f.assertValue(ne,"explorationSerializer.serializeObjects - objects should exist"),f.f.assertValue($e,"explorationSerializer.serializeObjects - visual type, 'page', or 'report' should exist");var rt=(0,l.xF)(ne,Fe,this.featureSwitchService.featureSwitches.serializeSpaceOptimization,qe?.forSave);return rt&&this.removeItemLocationObjects($e,rt),this.isAtLatestVersion()||(this.version=(0,c.Fp)(this.version,(0,Ue.P_5)(ne,Fe,$e,this.version,dt))),rt}removeItemLocationObjects(ne,Fe){var $e=(ee,Pe)=>{var We=ee[Pe.objectName];if(null!=We&&1===We.length)return We[0].properties[Pe.propertyName]};if(ne===Ke.D.scorecard){var qe=Ae.A.scorecard.scorecardReference,dt=Ae.A.scorecard.scorecardId,rt=$e(Fe,Ae.A.scorecard.scorecardReference);null!=rt&&(delete Fe[qe.objectName][0].properties[qe.propertyName],Fe[dt.objectName][0].properties[dt.propertyName]=rt.byReference.itemId)}if(ne===Ke.D.rdlVisual){var ce=we.eH.reportInfo.reference,be=we.eH.reportInfo.reportId,ae=we.eH.reportInfo.workspaceId,de=$e(Fe,ce);null!=de&&(delete Fe[ce.objectName][0].properties[ce.propertyName],Fe[be.objectName][0].properties[be.propertyName]=de.byReference.itemId,Fe[ae.objectName][0].properties[ae.propertyName]=de.byReference.workspaceId)}}isAtLatestVersion(){return this.version===se.L}serializeShowAllRoles(ne){if(f.f.assertAnyValue(ne,"projections"),ne){var Fe=_.pickBy(ne,$e=>!0===$e.showAll);return _.keys(Fe)}}serializeQueryProjections(ne,Fe,$e,qe){if(f.f.assertAnyValue(ne,"projections"),ne){var dt={};for(var rt in ne){var ce=ne[rt].all(),be=ne[rt].activeProjectionRefs;if(ce.length>0){dt[rt]=[];for(var ae=0;ae<ce.length;++ae){var de=ce[ae],ee=de.queryRef,Pe=_.includes(be,ee);if(!Fe||Fe[ee]){var We={queryRef:ee};Pe&&(We.active=!0),de.hidden&&(We.hidden=de.hidden,this.version=(0,c.Fp)(this.version,Ue.H_y)),dt[rt].push(We)}else this.telemetryService.logTrace(new Ie.X("Projection without a select detected in serialization",me.U.Error,void 0,void 0,{name:$e,visualType:qe,role:rt})),ne[rt].removeProjection({fieldIndex:ae}),Pe&&(be=_.clone(be),_.pull(be,ee),ne[rt].activeProjectionRefs=be),--ae}dt[rt].length||delete dt[rt]}}return dt}}serializeQueryFieldParameters(ne){if(f.f.assertAnyValue(ne,"projections"),ne){var Fe={};for(var $e in ne){var qe=ne[$e].getFieldParameters();if(qe.length>0)for(var dt of(Fe[$e]=[],qe)){var rt={index:dt.index,length:dt.length,expr:d.ib.serializeExpr(dt.expr)};Fe[$e].push(rt)}}return Fe}}serializeModelExtensionEntities(ne){if(ne)return _.map(ne,Fe=>{var $e={name:Fe.name};return Fe.extends&&($e.extends=Fe.extends),Fe.measures&&($e.measures=this.serializeModelExtensionMeasures(Fe.measures)),$e})}serializeExpressionReferences(ne){if(ne&&(ne.unrecognizedReferences||!_.isEmpty(ne.measures))){var Fe={unrecognizedReferences:ne.unrecognizedReferences};return _.isEmpty(ne.measures)||(Fe.measures=ne.measures),Fe}}serializeModelExtensionAnnotations(ne){if(ne)return _.map(ne,Fe=>({name:Fe.name,value:Fe.value}))}serializeModelExtensionMeasures(ne){if(ne)return _.map(ne,Fe=>{var $e={name:Fe.name,dataType:Fe.dataType,dataCategory:Fe.dataCategory,expression:Fe.expression,errorMessage:Fe.errorMessage,hidden:Fe.hidden,references:this.serializeExpressionReferences(Fe.references),formulaOverride:Fe.formulaOverride,formatInformation:Fe.formatInformation,displayFolder:Fe.displayFolder};return Fe.annotations&&($e.annotations=this.serializeModelExtensionAnnotations(Fe.annotations)),Fe.measureTemplate&&($e.measureTemplate={daxTemplateName:Fe.measureTemplate.daxTemplateName,version:Fe.measureTemplate.version}),Fe.description&&($e.description=Fe.description,this.version=(0,c.Fp)(this.version,Ue.WL3)),$e})}serializeFilterContainers(ne,Fe){if(ne){var $e=[];for(var qe of ne)if(qe&&(qe.howCreated!==I.OO.Auto||q.l.isFilterModified(qe))&&(!qe.isTransient||Fe&&Fe.withTransientFilters)){qe.howCreated===I.OO.URL&&Fe&&Fe.forSave&&(qe.howCreated=I.OO.User),qe.howCreated===I.OO.Drillthrough&&(this.version=(0,c.Fp)(this.version,Ue.H3n.v3_5)),qe.isHiddenInViewMode&&(this.version=(0,c.Fp)(this.version,Ue.yfQ)),qe.isLockedInViewMode&&(this.version=(0,c.Fp)(this.version,Ue.yfQ)),qe.displayName&&(this.version=(0,c.Fp)(this.version,Ue.$Tv)),qe.ordinal&&(this.version=(0,c.Fp)(this.version,Ue.faH)),qe.type===x.vA.RelativeTime&&(this.version=(0,c.Fp)(this.version,Ue.nue)),qe.type===x.vA.Advanced&&qe.filter?.conditions().some(rt=>{var ce=(0,ft.Ym)(rt)?rt.arg:rt;return(0,ft.$Q)(ce)&&(0,ft.AW)(ce.right)&&""===ce.right.value})&&(this.version=(0,c.Fp)(this.version,Ue.VFg)),qe.type===x.vA.VisualTopN&&(this.version=(0,c.Fp)(this.version,Ue._P0)),qe.filterExpressionMetadata&&!_.isEmpty(qe.filterExpressionMetadata.expressions)&&!_.isEmpty(qe.filterExpressionMetadata.cachedValueItems)&&(this.version=_.isEmpty(qe.filterExpressionMetadata.jsonFilter)?(0,c.Fp)(this.version,Ue.Upn):(0,c.Fp)(this.version,Ue.kJo));var dt=qe.filterExpressionMetadata?(0,s.Qe)(qe.filterExpressionMetadata,this.featureSwitchService.featureSwitches.serializeSpaceOptimization):void 0;$e.push({name:qe.name,expression:qe.expression?d.ib.serializeExpr(qe.expression):void 0,filter:qe.filter?d.ib.serializeFilter(qe.filter):void 0,type:x.vA[qe.type],restatement:qe.restatement,cachedDisplayNames:(0,n.vX)(qe.cachedValueItems),howCreated:qe.howCreated,isLinkedAsAggregation:qe.isLinkedAsAggregation,isTransient:qe.isTransient,objects:qe.objects?this.serializeObjects(qe.objects,x.XW,x.LP,Fe):void 0,isHiddenInViewMode:qe.isHiddenInViewMode,isLockedInViewMode:qe.isLockedInViewMode,filterExpressionMetadata:dt,displayName:qe.displayName,ordinal:qe.ordinal})}return JSON.stringify($e)}}createVersionedElementConfig(ne){return{version:ne}}serializeResourcePackages(ne,Fe){if(!_.isEmpty(ne))return(0,ot.pz)(ne,Fe).map($e=>({resourcePackage:$e}))}getLayoutOptimizations(ne){var Fe=this.getDistinctLayouts(ne);return this.getLayoutOptimizationFromLayouts(Fe)}getLayoutOptimizationFromLayouts(ne){var Fe=i.vj.None;for(var $e of ne)$e.id===r.D.PhonePortrait&&(Fe|=i.vj.PhonePortrait);return Fe}getDistinctLayouts(ne){var Fe=ne.sections,$e=(0,u.UR)();for(var qe of Fe)for(var dt of qe.visualContainers)for(var rt of dt.layouts)$e.withId(rt.id)||$e.push(rt);return $e}serializePodParameters(ne){if(!_.isEmpty(ne)){var Fe=[];for(var $e of ne)Fe.push({name:$e.name,boundFilter:$e.boundFilter,fieldExpr:$e.fieldExpr?d.ib.serializeExpr($e.fieldExpr):void 0,asAggregation:$e.asAggregation?$e.asAggregation:void 0,isLegacySingleSelection:$e.isLegacySingleSelection?$e.isLegacySingleSelection:void 0});return Fe}}serializePodConfig(ne){return _.isEmpty(ne)||ne.acceptsFilterContext===I.PD.Default?"{}":JSON.stringify(ne)}serializeRelationships(ne){if(!_.isEmpty(ne)){var Fe;for(var $e of ne){var qe=this.serializeRelationship($e);qe&&(Fe||(Fe=[])).push(qe)}return Fe}}removeInvalidPods(ne,Fe,$e){var qe=_.map(ne,de=>de.name),dt=_.remove(Fe,de=>!_.includes(qe,de.boundSection)),rt=_.size(dt);if(rt>0&&$e.logEvent(k.Jw,{errorType:k.bM.NonExistingBoundSection,count:rt}),!(_.size(Fe)<=_.size(ne))){var ce=_.groupBy(Fe,de=>de.boundSection),be=0;_.forEach(ce,de=>{var ee=de.length;if(ee>1){be++;for(var Pe=de[0].boundSection,We=_.findLastIndex(Fe,yt=>yt.boundSection===Pe),it=ee-1;it>0&&We>=0;)Fe.splice(We,1),it--,We=_.findLastIndex(Fe,yt=>yt.boundSection===Pe,We-1)}}),be>0&&$e.logEvent(k.Jw,{errorType:k.bM.DuplicateBoundSection,count:be});var ae=_.size(Fe)-_.size(ne);ae>0&&(f.f.assertFail("Expect the number of pods <= the number of sections after removing pods with NonExistingBoundSection and DuplicateBoundSection"),Fe=Fe.slice(0,_.size(ne)),$e.logEvent(k.Jw,{errorType:k.bM.ExceedingPodsNumberAfterInitialFix,count:ae}))}}supportsScalarMarkers(ne){return _.some([Ke.D.lineChart,Ke.D.areaChart,Ke.D.stackedAreaChart,Ke.D.hundredPercentStackedAreaChart],$e=>$e===ne.visualType)}upgradeIfScalarMarkersAreSet(ne){var Fe=(0,M.NA)(ne,{objectName:"categoryAxis",propertyName:"axisType"},null);if(Fe&&"Scalar"===A.jz.getTextValue(Fe)){var $e=(0,M.NA)(ne,{objectName:"lineStyles",propertyName:"showMarker"},null);$e&&A.jz.getBooleanValue($e)&&(this.version=(0,c.Fp)(this.version,Ue.Cc1))}}serializePageDynamicConfig(ne){var Fe;if(ne.quickExplore){var qe=ne.quickExplore.visualContainerConfigurations,dt=ne.quickExplore.layout;Fe||(Fe={}),Fe.quickExplore={selectedFields:_.map(ne.quickExplore.selectedFields,rt=>d.ib.serializeExpr(rt)),visualContainerConfigurations:_.map(qe,rt=>({name:rt.name,fields:_.map(rt.fields,ce=>d.ib.serializeExpr(ce))}))},dt&&(Fe.quickExplore.layout=this.serializeQuickExploreLayout(dt),this.version=(0,c.Fp)(this.version,Ue.KQG))}return Fe}serializeQuickExploreLayout(ne){if(ne.combination){var Fe={version:ne.combination.version};return ne.combination.dataTableName&&(Fe.dataTableName=ne.combination.dataTableName),{combination:Fe}}if(ne.related){var $e={version:ne.related.version};return ne.related.dataTableName&&($e.dataTableName=ne.related.dataTableName),{related:$e}}}}function Et(Dt){null!=Dt.x&&null!=Dt.y&&null!=Dt.width&&null!=Dt.height||(V.fM.error("deserializeVisualContainer found null in layout position: "+JSON.stringify({x:Dt.x,y:Dt.y,width:Dt.width,height:Dt.height})),null==Dt.x&&(Dt.x=0),null==Dt.y&&(Dt.y=0),null==Dt.width&&(Dt.width=0),null==Dt.height&&(Dt.height=0))}},271267:function(ve,j,e){e.d(j,{K9:function(){return d},U6:function(){return s},a5:function(){return p},pz:function(){return m},sQ:function(){return o}});var r=e(399026),i=e(557134),a=e(167165),t=e(650543),l=e(613856),g=e(734531),n=e(661248);function p(c,C,y,S,h){t.f.assertValue(c,"webBookmark");var E=(0,l.v)(c,y,S);if(E.errors&&!C)for(var u of E.errors)h.logEvent(r.TH,{type:"WebBookmark",errorCode:u.code,stack:u.stack,message:u.message});return E.contract}function s(c,C,y,S,h){if(!(0,g.g)(c)){var E=(0,n.K)(c);if(E)try{return C.deserialize(E,y,S)}catch(u){return u&&h.logEvent(r.rj,{stack:u.stack,message:u.message}),{explorationState:null}}}}function d(c){return o(c.map(C=>C.resourcePackage))}function o(c){t.f.assertValue(c,"resourcePackageWireContracts");var C=[];for(var y of c)v(y),C.push(y);for(var S=0;S<C.length;++S)if(C[S])for(var h=C.length;--h>S;)C[h]&&C[S].name===C[h].name&&(C[h].id>C[S].id&&(C[S]=C[h]),C.splice(h,1));return C}function v(c){void 0===c.type&&(c.type=a.v.CustomVisual)}function m(c,C){if(!_.isEmpty(c)){var y=[],S=function(){var E=_.find(h.items,V=>V.type===i.Ut.CustomVisualMetadata);if(E&&void 0!==E.content){var u=_.isString(E.content)?(0,n.K)(E.content):E.content;u&&(u.content=void 0,E.content=JSON.stringify(u))}var f=h.items;if(f){var b=["contentBlob","contentBlobUrl","promise"];C&&C.excludeResourceItemContent&&b.push("content"),f=_.map(f,V=>_.omit(V,b))}y.push({id:h.id,name:h.name,type:h.type,items:f,disabled:!!h.disabled})};for(var h of c)S();return y}}},316109:function(ve,j,e){e.d(j,{oJ:function(){return D},Ay:function(){return w},vB:function(){return M},qC:function(){return z},jp:function(){return k}});var r=e(596595),i=e(996302),a=e(367311),t=e(607244),l=e(128451),g=e(11864),n=e(893910),p=e(990297),s=e(650543),d=e(906927),o=e(561415),v=e(214492),m=e(324569),c=e(122186),C=e(667012),y=e(299185);class h{constructor(Z){var X=(0,y.F)(Z).downgraders;this.objectsDowngrader=(0,c.x)(X)}getFinalExplorationVersion(Z,X){var re=Z&&Z.sections;if(re){for(var te of Object.keys(re)){var se=re[te];for(var Ve of Object.keys(se.visualContainers)){var ke=se.visualContainers[Ve],Ue=ke.singleVisual;if(Ue){var ot=Ue.visualType,ft=ke.singleVisual?.mobileVcObjects;ft&&(X=(0,n.Fp)(X,this.objectsDowngrader.getFinalVisualObjectsVersion(C.U.VisualContainer,ft,X,ot)));var Ct=ke.singleVisual?.mobileObjects;Ct&&(X=(0,n.Fp)(X,this.objectsDowngrader.getFinalVisualObjectsVersion(C.U.Visual,Ct,X,ot)))}}}return X}}downgrade(Z,X){var re=Z&&Z.sections;if(re)for(var te of Object.keys(re)){var se=re[te];for(var Ve of Object.keys(se.visualContainers)){var Ue=se.visualContainers[Ve].singleVisual;if(Ue){var ot=Ue.visualType,ft=Ue.mobileVcObjects;ft&&this.objectsDowngrader.downgrade(C.U.VisualContainer,ft,ot,X);var Ct=Ue.mobileObjects;Ct&&this.objectsDowngrader.downgrade(C.U.Visual,Ct,ot,X)}}}}}var E=e(334467),u=e(858556),f=e(280346);class V{constructor(Z){this.objectsUpgrader=(0,u.U)((0,f.$)(Z).getVersionUpgraders())}upgrade(Z,X){var re=Z&&Z.sections;if(re){for(var te of Object.keys(re)){var se=re[te];for(var Ve of Object.keys(se.visualContainers)){var Ue=se.visualContainers[Ve].singleVisual;if(Ue){var ot=Ue.visualType,ft=Ue.mobileVcObjects;ft&&this.objectsUpgrader.upgrade(C.v.VisualContainer,ft,ot,X);var Ct=Ue.mobileObjects;Ct&&this.objectsUpgrader.upgrade(C.v.Visual,Ct,ot,X)}}}return Z}}}var T=e(803605),P=e(572599);function D(Q,Z){var X={};for(var re of Z.sections)for(var te of re.visualContainers)X[te.name]=!0;for(var se in Q.sections){var Ve=Q.sections[se];for(var ke in Ve.visualContainers)X[ke]||delete Ve.visualContainers[ke]}}function w(Q,Z,X){return F(k(Q,null,X,Z),Z)}function M(Q,Z,X,re){if(s.f.assertValue(Q,"input"),re?.runUpgraders){var te=(0,P.KQq)(Q.version),se=function(Q){return new V(Q)}(X);Q=se.upgrade(Q,te)}var Ve={activeSection:Q.activeSection,filters:A(Q.filters),sections:_.mapValues(Q.sections,ke=>function(Q,Z){return s.f.assertValue(Q,"input"),{filters:A(Q.filters),visualContainers:_.mapValues(Q.visualContainers,X=>function(Q,Z){s.f.assertValue(Q,"input");var X=F(Q.singleVisual,Z);return{filters:A(Q.filters),singleVisual:X,visibility:Q.singleVisual?K(Q.singleVisual.display):void 0,highlight:Q.highlight?L(Q.highlight):void 0}}(X,Z)),visualContainerGroups:Q.visualContainerGroups&&_.mapValues(Q.visualContainerGroups,W)}}(ke,Z))};return Q.objects&&(Ve.objects=x(Q.objects,()=>d.W)),Q.dataSourceVariables&&(Ve.dataSourceVariables=Q.dataSourceVariables),Ve}function A(Q){if(s.f.assertAnyValue(Q,"input"),Q){var Z={};return Q.byName&&(Z.nameIdentifiedMerges=_.mapValues(Q.byName,R)),Q.byExpr&&(Z.exprIdentifiedMerges=_.map(Q.byExpr,R)),Q.byType&&(Z.typeIdentifiedMerges=_.map(Q.byType,R)),Q.byTransientState&&(Z.transientFilters=_.map(Q.byTransientState,R)),Z}}function R(Q){return s.f.assertValue(Q,"input"),{name:Q.name,type:o.vA[Q.type],filter:Q.filter?g.ib.deserializeFilter(Q.filter):void 0,expression:Q.expression?g.ib.deserializeExpr(Q.expression):void 0,restatement:Q.restatement,howCreated:Q.howCreated,precedence:Q.precedence,isTransient:Q.isTransient,cachedValueItems:(0,a.kE)(Q.cachedDisplayNames),filterExpressionMetadata:Q.filterExpressionMetadata?(0,l.hE)(Q.filterExpressionMetadata):void 0}}function W(Q){return s.f.assertValue(Q,"input"),{isHidden:Q.isHidden,children:Q.children&&_.mapValues(Q.children,Z=>W(Z))}}function F(Q,Z){if(s.f.assertAnyValue(Q,"input"),Q){var X={visualType:Q.visualType};if(null!=Q.isDrillDisabled&&(X.isDrillDisabled=Q.isDrillDisabled),null!=Q.autoSelectVisualType&&(X.autoSelectVisualType=Q.autoSelectVisualType),Q.objects&&(X.objects=x(Q.objects,()=>Q.visualType&&Z.capabilities(Q.visualType)?.objects)),Q.orderBy&&(X.orderBy=g.ib.deserializeSortDefinitions(Q.orderBy,null)),Q.targetType&&(X.targetType=Q.targetType),null!=Q.targetAutoSelectVisualType&&(X.targetAutoSelectVisualType=Q.targetAutoSelectVisualType),Q.activeProjections&&(X.activeProjections=U(Q.activeProjections)),_.isEmpty(Q.parameters)||(X.parameters=function(Q){var Z;for(var X in Q){var re=Q[X];_.isEmpty(re)||(Z||(Z={}),Z[X]=_.map(re,te=>({expr:g.ib.deserializeExpr(te.expr),index:te.index,length:te.length})))}return Z}(Q.parameters)),Q.projections&&(X.projections=U(Q.projections)),Q.display&&Q.display.mode===m.D8.Hidden&&(X.hidden=!0),Q.cachedFilterDisplayItems&&(X.cachedFilterDisplayItems=(0,a.kE)(Q.cachedFilterDisplayItems)),Q.filterExpressionMetadata&&(X.filterExpressionMetadata=(0,l.hE)(Q.filterExpressionMetadata)),Q.expansionStates){var re=Z.capabilities(Q.visualType);X.expansionStates=(0,t.bX)(Q.expansionStates,{supportsMerge:re&&re.expandCollapse&&re.expandCollapse.supportsMerge,canCollapseRoot:re&&re.noDefaultProjections,collapseParentAfterRemovingChildLevel:re&&re.expandCollapse&&re.expandCollapse.collapseParentAfterRemovingChildLevel})}if(Q.mobileVcObjects&&(X.mobileVcObjects=(0,i.wN)(Q.mobileVcObjects,v.XW)),Q.mobileObjects){var ke=Z.capabilities(Q.visualType);X.mobileObjects=(0,i.wN)(Q.mobileObjects,ke&&ke.objects)}return X}}function U(Q){var Z;for(var X in Q){var re=Q[X];_.isEmpty(re)||(Z||(Z={}),Z[X]=_.map(re,te=>null===te?null:g.ib.deserializeExpr(te)))}return Z}function x(Q,Z){s.f.assertValue(Q,"input");var X={};return Q.merge&&(0,i.kO)(Q.merge,Z,X,"merge"),Q.remove&&(X.remove=_.map(Q.remove,I)),X}function I(Q){return s.f.assertValue(Q,"input"),{object:Q.object,property:Q.property,selector:(0,i.L1)(Q.selector)}}function L(Q){return s.f.assertValue(Q,"input"),{selection:(0,i.OT)(Q.selection),filterExpressionMetadata:Q.filterExpressionMetadata?(0,l.hE)(Q.filterExpressionMetadata):void 0}}function K(Q){if(s.f.assertAnyValue(Q,"display"),Q&&Q.mode)switch(Q.mode){case m.D8.Maximize:switch(Q.maximizedOptions&&Q.maximizedOptions.dataTable){case r.F.accessible:return m.sB.MaximizeWithDataAccessible;case r.F.normal:return m.sB.MaximizeWithData;default:return m.sB.Maximize}case m.D8.Spotlight:return m.sB.Spotlight}}function z(Q,Z,X,re,te){s.f.assertValue(Q,"input");var se=new G(Z),Ve={version:void 0,activeSection:Q.activeSection,filters:se.serializeFilters(Q.filters),sections:_.mapValues(Q.sections,ot=>se.serializeSection(ot,X))};if(Q.objects&&(Ve.objects=se.serializeObjects(Q.objects,d.W),se.version=(0,n.Fp)(se.version,T.Aq)),Q.dataSourceVariables&&(Ve.dataSourceVariables=Q.dataSourceVariables,se.version=(0,n.Fp)(se.version,T.Zl)),re?.runDowngraders&&se.version!==E.w){var ke=function(Q){return new h(Q)}(te),Ue=(0,P.KQq)(se.version);Ue=ke.getFinalExplorationVersion(Q,Ue),ke.downgrade(Ve,Ue),Ve.version=(0,P.eGA)(Ue),s.f.assertValue(Ve.version,"exploration state version should exist")}return Ve.version=Ve.version||se.version,Ve}function k(Q,Z,X,re){return new G(X).serializeSingleVisual(Q,Z,re)}class G{constructor(Z){this.featureSwitchService=Z,this.version=T.Zh}serializeFilters(Z){if(s.f.assertAnyValue(Z,"input"),Z){var X={};return Z.nameIdentifiedMerges&&(X.byName=_.mapValues(Z.nameIdentifiedMerges,re=>this.serializeFilterContainer(re))),Z.exprIdentifiedMerges&&(X.byExpr=_.map(Z.exprIdentifiedMerges,re=>this.serializeFilterContainer(re))),Z.typeIdentifiedMerges&&(X.byType=_.map(Z.typeIdentifiedMerges,re=>this.serializeFilterContainer(re))),Z.transientFilters&&(X.byTransientState=_.map(Z.transientFilters,re=>this.serializeFilterContainer(re))),X}}serializeFilterContainer(Z){s.f.assertValue(Z,"input");var X=Z.filterExpressionMetadata?(0,l.Qe)(Z.filterExpressionMetadata,this.featureSwitchService&&this.featureSwitchService.featureSwitches.serializeSpaceOptimization):void 0;return{name:Z.name,type:null!=Z.type?o.vA[Z.type]:void 0,filter:Z.filter?g.ib.serializeFilter(Z.filter):void 0,expression:Z.expression?g.ib.serializeExpr(Z.expression):void 0,restatement:Z.restatement,howCreated:Z.howCreated,isTransient:Z.isTransient,cachedDisplayNames:(0,a.vX)(Z.cachedValueItems),filterExpressionMetadata:X}}serializeSection(Z,X){return s.f.assertValue(Z,"input"),_.chain(Z.visualContainers).values().sumBy(re=>null==re.highlight?0:1).value()>1&&(this.version=(0,n.Fp)(this.version,T.aN)),{filters:this.serializeFilters(Z.filters),visualContainers:_.mapValues(Z.visualContainers,re=>this.serializeVisualContainer(re,X)),visualContainerGroups:Z.visualContainerGroups&&_.mapValues(Z.visualContainerGroups,re=>this.serializeVisualContainerGroup(re))}}serializeVisualContainer(Z,X){return s.f.assertValue(Z,"input"),Z.highlight&&(this.version=(0,n.Fp)(this.version,T.U1)),{filters:this.serializeFilters(Z.filters),singleVisual:this.serializeSingleVisual(Z.singleVisual,Z.visibility,X),highlight:Z.highlight?this.serializeHighlightState(Z.highlight):void 0}}serializeVisualContainerGroup(Z){return s.f.assertValue(Z,"input"),{isHidden:Z.isHidden,children:Z.children&&_.mapValues(Z.children,X=>this.serializeVisualContainerGroup(X))}}serializeSingleVisual(Z,X,re){if(s.f.assertAnyValue(Z,"input"),Z||null!=X){var te={};if(Z){if(te.visualType=Z.visualType,Z.isDrillDisabled&&(te.isDrillDisabled=Z.isDrillDisabled,this.version=(0,n.Fp)(this.version,T.hC)),null!=Z.autoSelectVisualType&&(te.autoSelectVisualType=Z.autoSelectVisualType,this.version=(0,n.Fp)(this.version,T.C7)),Z.objects&&(te.objects=this.serializeObjects(Z.objects,re?.capabilities(Z.visualType)?.objects)),Z.orderBy&&(te.orderBy=g.ib.serializeSortDefinitions(Z.orderBy,!0)),Z.activeProjections&&(te.activeProjections=this.serializeActiveProjections(Z.activeProjections)),Z.targetType&&(te.targetType=Z.targetType,this.version=(0,n.Fp)(this.version,T.uZ)),null!=Z.targetAutoSelectVisualType&&(te.targetAutoSelectVisualType=Z.targetAutoSelectVisualType,this.version=(0,n.Fp)(this.version,T.C7)),Z.projections&&(te.projections=this.serializeActiveProjections(Z.projections),this.version=(0,n.Fp)(this.version,T.uZ)),_.isEmpty(Z.parameters)||(te.parameters=this.serializeParameters(Z.parameters),this.version=(0,n.Fp)(this.version,T.rb)),Z.cachedFilterDisplayItems&&(te.cachedFilterDisplayItems=(0,a.vX)(Z.cachedFilterDisplayItems)),Z.filterExpressionMetadata&&(te.filterExpressionMetadata=(0,l.Qe)(Z.filterExpressionMetadata,this.featureSwitchService&&this.featureSwitchService.featureSwitches.serializeSpaceOptimization),this.version=(0,n.Fp)(this.version,T.XX)),Z.mobileVcObjects&&(te.mobileVcObjects=this.serializeMobileObjects(Z.mobileVcObjects,v.XW,Z.visualType)),Z.mobileObjects&&re){var se=re.capabilities(Z.visualType);te.mobileObjects=this.serializeMobileObjects(Z.mobileObjects,se&&se.objects,Z.visualType)}_.isEmpty(Z.expansionStates)||(te.expansionStates=(0,t.hI)(Z.expansionStates))}return s.f.assert(()=>!(Z?.hidden&&X),"cannot mix hidden & visibility states"),Z?.hidden?te.display={mode:m.D8.Hidden}:X&&(te.display=function(Q){switch(s.f.assertAnyValue(Q,"mode"),Q){case m.sB.Maximize:return{mode:m.D8.Maximize};case m.sB.MaximizeWithData:return{mode:m.D8.Maximize,maximizedOptions:{dataTable:r.F.normal}};case m.sB.MaximizeWithDataAccessible:return{mode:m.D8.Maximize,maximizedOptions:{dataTable:r.F.accessible}};case m.sB.Spotlight:return{mode:m.D8.Spotlight}}}(X)),_.isEmpty(te)?void 0:te}}serializeMobileObjects(Z,X,re){this.version=(0,n.Fp)(this.version,T.DA);var te=(0,i.xF)(Z,X,this.featureSwitchService.featureSwitches.serializeSpaceOptimization,!0);if(this.version===E.w)return te;var se=(0,P.KQq)(this.version);se=(0,P.P_5)(Z,X,re,se,(0,p.bv)());var Ve=(0,P.eGA)(se);return this.version=(0,n.Fp)(this.version,Ve),te}serializeActiveProjections(Z){var X;for(var re in Z){var te=Z[re];_.isEmpty(te)||(X||(X={}),X[re]=_.map(te,se=>null===se?null:g.ib.serializeExpr(se)))}return X}serializeParameters(Z){var X;for(var re in Z){var te=Z[re];_.isEmpty(te)||(X||(X={}),X[re]=_.map(te,se=>({expr:g.ib.serializeExpr(se.expr),index:se.index,length:se.length})))}return X}serializeObjects(Z,X){s.f.assertValue(Z,"input");var re={};return Z.merge&&(re.merge=(0,i.xF)(Z.merge,X,this.featureSwitchService&&this.featureSwitchService.featureSwitches.serializeSpaceOptimization,!0)),Z.remove&&(re.remove=_.map(Z.remove,te=>this.serializeObjectPropSelector(te))),re}serializeObjectPropSelector(Z){return s.f.assertValue(Z,"input"),{object:Z.object,property:Z.property,selector:(0,i.UZ)(Z.selector)||null}}serializeHighlightState(Z){return s.f.assertValue(Z,"input"),Z.filterExpressionMetadata&&(this.version=(0,n.Fp)(this.version,T.Aq)),{selection:(0,i.Vg)(Z.selection,this.featureSwitchService&&this.featureSwitchService.featureSwitches.serializeSpaceOptimization),filterExpressionMetadata:Z.filterExpressionMetadata?(0,l.Qe)(Z.filterExpressionMetadata,this.featureSwitchService&&this.featureSwitchService.featureSwitches.serializeSpaceOptimization):void 0}}}},803605:function(ve,j,e){e.d(j,{$4:function(){return H},$K:function(){return T},$j:function(){return b},AS:function(){return B},Aq:function(){return t},C7:function(){return O},DA:function(){return F},DG:function(){return M},EZ:function(){return I},I8:function(){return S},LL:function(){return o},M5:function(){return m},Ny:function(){return v},RT:function(){return C},Sx:function(){return K},U1:function(){return i},Vb:function(){return V},X2:function(){return f},XS:function(){return u},XX:function(){return g},Zh:function(){return r},Zl:function(){return l},_b:function(){return P},aB:function(){return A},aN:function(){return a},cv:function(){return z},eA:function(){return E},gd:function(){return W},hC:function(){return x},lM:function(){return N},nx:function(){return h},rb:function(){return U},sZ:function(){return w},tl:function(){return J},uZ:function(){return n},ud:function(){return D},ur:function(){return y},ux:function(){return k},vH:function(){return R},wh:function(){return d},xm:function(){return s},z3:function(){return L},zW:function(){return c}});var r="1.0",i="1.1",a="1.2",t="1.3",l="1.4",g="1.5",n="1.6",s="1.8",d="1.9",o="1.10",v="1.11",m="1.12",c="1.13",C="1.14",y="1.15",S="1.16",h="1.17",E="1.18",u="1.19",f="1.20",b="1.21",V="1.22",T="1.23",P="1.24",D="1.25",w="1.26",M="1.27",A="1.28",R="1.29",B="1.30",N="1.31",W="1.32",F=s,U=v,O=y,x=w,I="1.33",L="1.34",K="1.35",z="1.36",H="1.37",J="1.38",k="1.39"},280346:function(ve,j,e){e.d(j,{$:function(){return rr}});var r=e(661248),i=e(893910),a=e(650543),t=e(150864),l=e(667012),g=e(858556),n=e(691519),p=e(996302),s=e(11864),d=e(214201),o=e(525350),v=e(544211),m=e(790443),c=e(442407),C=e(324569),y=e(572599),S=e(741714);class E{upgrade(Te,nt){if(a.f.assertValue(Te,"exploration"),Te&&(Te.filters=this.upgradeFilterContainers(Te.filters),Te.sections))for(var _t of Te.sections)if(_t.filters=this.upgradeFilterContainers(_t.filters),_t.visualContainers)for(var wt of _t.visualContainers){wt.filters=this.upgradeFilterContainers(wt.filters);var Ft=wt.config.singleVisual;Ft&&(Ft.objects=this.upgradeObjects(Ft.objects,Ft.visualType||Ft.visualConfig.visualType,nt))}}upgradeVisualObjects(Te,nt,_t,wt){}upgradeFilterCollection(Te){a.f.assertValue(Te,"filterCollection"),Te&&Te.filters&&(Te.filters=this.upgradeFilterContainers(Te.filters))}getVersion(){return y.H3n.v1_0}upgradeFilterContainers(Te){if(!_.isEmpty(Te)){var nt=(0,r.K)(Te);if(nt)for(var _t of nt)this.upgradeFilterContainer(_t);return JSON.stringify(nt)}}upgradeFilterContainer(Te){if(!Te.expression&&Te.field){var nt=function(Ut){var Te=Ut.aggregate;if(void 0!==Te){var nt=b(Ut)||T(Ut);if(nt)return(0,c.m_)(nt,Te)}}(Ut=Te.field)||b(Ut)||function(Ut){var Te=Ut.measure;if(Te){var nt=T(Ut);if(nt)return(0,c.mv)(nt,Te)}}(Ut)||T(Ut);nt&&(Te.expression=s.ib.serializeExpr(nt))}var Ut;void 0===Te.howCreated&&(Te.howCreated=Te.autoGenerated?C.OO.Auto:C.OO.User)}upgradeObjects(Te,nt,_t){switch(a.f.assertAnyValue(Te,"allObjectDefns"),this.dropMalformedSelectors(Te),nt){case S.D.filledMap:return this.upgradeObjectsFilledMap(Te);case S.D.card:return this.upgradeObjectsCard(Te);case S.D.donutChart:case S.D.pieChart:return _t&&(0,i.gt)(_t,"1.0")?Te:this.upgradeObjectsDonutChart(Te)}return Te}dropMalformedSelectors(Te){if(a.f.assertAnyValue(Te,"allObjectDefns"),Te)for(var nt in Te){var _t=Te[nt];if(_t)for(var wt=_t.length-1;wt>=0;wt--){var zt=_t[wt].selector;zt&&(zt.metadata||delete zt.metadata,_.isEmpty(Object.keys(zt))&&_t.splice(wt,1))}}}upgradeObjectsFilledMap(Te){a.f.assertAnyValue(Te,"allObjectDefns");var nt="dataPoint",_t="fillRule";Te||(Te={});var Ft,wt=Te[nt];for(var zt of(wt||(Te[nt]=wt=[]),wt))if(!zt.selector){Ft=zt;break}return Ft||wt.push(Ft={selector:null,properties:{}}),a.f.assertValue(Ft,"targetObjectDefn"),null==Ft.properties[_t]&&(Ft.properties[_t]=(0,p.W7)((0,v.yw)(),(0,o.XN)().objects[nt].properties[_t])),Te}upgradeObjectsCard(Te){a.f.assertAnyValue(Te,"allObjectDefns");var nt="cardTitle";if(Te){var wt=Te[nt];wt&&(Te.categoryLabels=wt,delete Te[nt])}return Te}upgradeObjectsDonutChart(Te){a.f.assertAnyValue(Te,"allObjectDefns");var nt="categoryLabels",_t="labels",wt="labelStyle",Ft="show";if(Te){var ur,zt=this.getMetadataOnceObjectDefn(Te,_t),er=this.getPropertyExpr(zt,Ft),or=!!er&&s.ib.deserializeExpr(er).value,Er=this.getMetadataOnceObjectDefn(Te,nt);if(Er){var Cr=this.getPropertyExpr(Er,Ft),br=!!Cr&&s.ib.deserializeExpr(Cr).value;or&&br?ur=m.f3:or&&!br?ur=m.aT:!or&&br&&(ur=m.W3),delete Te[nt]}else zt&&zt.properties[wt]||(ur=or?m.f3:m.W3);if(null!=ur){var Wr=(0,d.cw)().objects[_t].properties;if(!zt){var Pr=Te[_t];Pr||(Te[_t]=Pr=[]),(zt=_.find(Pr,Tr=>!Tr.selector))||Pr.push(zt={properties:{}})}zt.properties[Ft]=(0,p.W7)((0,c.O7)(!0),Wr[Ft]),zt.properties[wt]=(0,p.W7)((0,c.fL)(ur),Wr[wt])}return Te}}getMetadataOnceObjectDefn(Te,nt){if(Te){var _t=Te[nt];if(!_.isEmpty(_t))return _.find(_t,wt=>!wt.selector)}}getPropertyExpr(Te,nt){if(Te){var _t=Te.properties[nt];if(_t)return _t.expr}}}function b(Ut){var Te=Ut.column;if(Te){var nt=T(Ut);if(nt)return(0,c.Oh)(nt,Te)}}function T(Ut){return(0,c.nw)(Ut.schema,Ut.entity,Ut.entityVar)}var P=e(638198);class w{upgrade(Te){if(a.f.assertValue(Te,"exploration"),Te&&Te.sections)for(var nt of Te.sections)if(nt.visualContainers)for(var _t of nt.visualContainers){var wt=_t.config;wt.layouts||(wt.layouts=[{id:P.D.Master,position:{x:_t.x,y:_t.y,z:_t.z,width:_t.width,height:_t.height}}])}}upgradeFilterCollection(Te){}upgradeVisualObjects(Te,nt,_t,wt){}getVersion(){return y.H3n.v2_0}}class A{upgrade(Te){}upgradeFilterCollection(Te){a.f.assertValue(Te,"filterCollection"),Te&&Te.filters&&(Te.filters=this.upgradeFilterContainers(Te.filters))}upgradeFilterContainers(Te){if(!_.isEmpty(Te)){var nt=(0,r.K)(Te);if(nt)for(var _t of nt)this.upgradeFilterContainer(_t);return JSON.stringify(nt)}}upgradeFilterContainer(Te){Te.howCreated===C.OO.Drill&&!Te.precedence&&(Te.precedence=C.Pw.Drill)}upgradeVisualObjects(Te,nt,_t,wt){}getVersion(){return y.H3n.v2_2}}var R=e(159601),B=e(316517),N=e(719242);class F{upgrade(Te){if(a.f.assertValue(Te,"exploration"),Te&&Te.sections)for(var nt of Te.sections)if(nt.visualContainers)for(var _t of nt.visualContainers){var wt=_t.config.singleVisual;wt&&(wt.objects=this.upgradeObjects(wt.objects,wt.visualType||wt.visualConfig.visualType))}}upgradeFilterCollection(Te){}upgradeVisualObjects(Te,nt,_t,wt){}getVersion(){return y.H3n.v2_3}upgradeObjects(Te,nt){return a.f.assertAnyValue(Te,"allObjectDefns"),nt===S.D.slicer?this.upgradeSlicerObjects(Te):Te}upgradeSlicerObjects(Te){a.f.assertAnyValue(Te,"allObjectDefns");var _t="mode";Te||(Te={});var wt=(0,N.zx)(Te,"data",null),Ft=(0,R.st)().objects.data.properties;return null==wt.properties[_t]&&(wt.properties[_t]=(0,p.W7)((0,c.fL)(B.RB),Ft[_t])),Te}}class O{upgrade(Te){if(a.f.assertValue(Te,"exploration"),Te&&Te.sections)for(var nt of Te.sections)if(nt.visualContainers)for(var _t of nt.visualContainers){var wt=_t.config.singleVisual;wt&&(wt.objects=this.upgradeObjects(wt.objects,wt.visualType||wt.visualConfig.visualType))}}upgradeFilterCollection(Te){}upgradeVisualObjects(Te,nt,_t,wt){}getVersion(){return y.H3n.v2_5}upgradeObjects(Te,nt){return a.f.assertAnyValue(Te,"allObjectDefns"),nt===S.D.gauge?this.upgradeGaugeTarget(Te):Te}upgradeGaugeTarget(Te){a.f.assertAnyValue(Te,"allObjectDefns"),Te||(Te={});var Ft=(0,N.my)(Te,"labels",null);if(!Ft)return Te;var zt=(0,N.zx)(Te,"target",null);for(var er of["show","labelDisplayUnits","labelPrecision","color"])null!=Ft.properties[er]&&(zt.properties[er]=Ft.properties[er]);return Te}}var I=function(Ut){return Ut[Ut.Before=0]="Before",Ut[Ut.After=1]="After",Ut}({});class L{upgrade(Te){if(a.f.assertValue(Te,"exploration"),Te&&Te.sections)for(var nt of Te.sections)if(nt.visualContainers)for(var _t of nt.visualContainers){var wt=_t.config.singleVisual;wt&&(wt.objects=this.upgradeObjects(wt.objects,wt.visualType||wt.visualConfig.visualType))}}upgradeFilterCollection(Te){}upgradeVisualObjects(Te,nt,_t,wt){}getVersion(){return y.H3n.v3_12_1}upgradeObjects(Te,nt){return a.f.assertAnyValue(Te,"allObjectDefns"),nt===S.D.slicer?this.upgradeSlicerObjects(Te):Te}upgradeSlicerObjects(Te){a.f.assertAnyValue(Te,"allObjectDefns"),Te||(Te={});var wt=(0,N.my)(Te,"general",null),Ft=wt&&wt.properties.filter,zt=Ft&&Ft.filter;if(zt&&this.isAndFilter(zt)){var or=(0,N.my)(Te,"data",null);if(or){var ur=or.properties.startDate,Er=or.properties.endDate,Cr=or.properties.numericStart,br=or.properties.numericEnd;(ur&&!Er||Cr&&!br)&&this.BetweenToBeforeOrAfterFilter(zt,I.After),(Er&&!ur||br&&!Cr)&&this.BetweenToBeforeOrAfterFilter(zt,I.Before)}}return Te}isAndFilter(Te){if(1===Te.Where.length){var nt=Te.Where[0].Condition;if(nt&&nt.And)return!0}return!1}BetweenToBeforeOrAfterFilter(Te,nt){var _t=Te.Where[0].Condition;return a.f.assertValue(_t,"Filter condition cannot be null or undefined."),Te.Where[0].Condition=nt===I.Before?_t.And.Right:_t.And.Left,Te}}class z{upgrade(Te){if(a.f.assertValue(Te,"exploration"),Te&&Te.sections)for(var nt of Te.sections)if(nt.visualContainers)for(var _t of nt.visualContainers){var wt=_t.config.singleVisual;wt&&this.upgradeSQExprToInt(wt.objects)}}upgradeFilterCollection(){}getVersion(){return y.H3n.v3_14_1}upgradeVisualObjects(Te,nt,_t,wt){}upgradeSQExprToInt(Te){for(var nt in a.f.assertAnyValue(Te,""),Te)if("labels"===nt||"bubbles"===nt||"categoryLabels"===nt)for(var _t of Te[nt])for(var wt in _t.properties)if("bubbleSize"===wt||"labelDensity"===wt||"backgroundTransparency"===wt){var Ft=_t.properties[wt],zt=Ft&&Ft.expr&&Ft.expr.Literal;zt&&(a.f.assertValue(zt.Value,"Literal value should exist"),/^'\d+(\.\d+)?'$/.test(zt.Value)&&(zt.Value=this.convertLiteralSQTextIntoNumber(zt.Value)+"L"))}}convertLiteralSQTextIntoNumber(Te){return Math.floor(_.parseInt(Te.substr(1,Te.length-2)))}}class J{constructor(Te){}upgrade(Te){if(a.f.assertValue(Te,"exploration"),Te&&Te.sections)for(var nt of Te.sections){var _t=nt.config,wt=(0,r.K)(nt.filters)||[];_t.type===C.bA.Tooltip?this.upgradeTooltipPage(wt,_t):(_t.type===C.bA.Regular||null==_t.type)&&this.upgradeRegularPage(wt,_t),nt.filters=JSON.stringify(wt)}}upgradeFilterCollection(){}upgradeVisualObjects(Te,nt,_t,wt){}getVersion(){return y.H3n.v3_14}upgradeTooltipPageLinkFields(Te,nt){var _t=_.map(nt.linkFields,wt=>({howCreated:C.OO.Drillthrough,isTransient:!1,isLinkedAsAggregation:wt.asAggregation,expression:wt.fieldExpr}));Te.push(..._t||[]),nt.linkFields=[]}upgradeTooltipPage(Te,nt){nt.acceptsAllFiltersWhenLinked=!0,this.upgradeTooltipPageLinkFields(Te,nt)}upgradeRegularPage(Te,nt){if(nt.acceptsAllFiltersWhenLinked=!1,Te)for(var _t of Te)_t.isLinkedAsAggregation=!1}}class G{constructor(){}upgrade(Te){var nt=this;if(a.f.assertValue(Te,"exploration"),Te&&Te.sections)for(var _t of Te.sections)if(_t.visualContainers){var wt=function(){var zt=Ft.config.singleVisual;if(zt){a.f.assert(()=>void 0===zt.vcObjects,"VC Object can't exist if you are in this version");var er={};if(zt.altText&&(er.general=[{properties:{altText:nt.toExpr((0,c.fL)(zt.altText))}}],delete zt.altText),zt.aspectRatio){var or=zt.aspectRatio;er.lockAspect=[{properties:{show:null!=or.show?nt.toExpr((0,c.O7)(or.show)):void 0}}],delete zt.aspectRatio}if(zt.background){var ur=zt.background;er.background=[{properties:{color:null!=ur.color?{solid:{color:nt.toExpr((0,c.fL)(ur.color))}}:void 0,show:null!=ur.show?nt.toExpr((0,c.O7)(ur.show)):void 0,transparency:null!=ur.transparency?nt.toExpr((0,c.cA)(ur.transparency)):void 0}}],delete zt.background}if(zt.border){var Er=zt.border;er.border=[{properties:{color:null!=Er.color?{solid:{color:nt.toExpr((0,c.fL)(Er.color))}}:void 0,show:null!=Er.show?nt.toExpr((0,c.O7)(Er.show)):void 0}}],delete zt.border}if(zt.stylePresetName&&(er.stylePreset=[{properties:{name:nt.toExpr((0,c.fL)(zt.stylePresetName))}}],delete zt.stylePresetName),zt.title){var Cr=zt.title;Cr.show=null!=Cr.hidden?!Cr.hidden:Cr.show,er.title=[{properties:{alignment:null!=Cr.alignment?nt.toExpr((0,c.fL)(Cr.alignment)):void 0,background:null!=Cr.background?{solid:{color:nt.toExpr((0,c.fL)(Cr.background))}}:void 0,fontColor:null!=Cr.fontColor?{solid:{color:nt.toExpr((0,c.fL)(Cr.fontColor))}}:void 0,fontFamily:null!=Cr.fontFamily?nt.toExpr((0,c.fL)(Cr.fontFamily)):void 0,fontSize:null!=Cr.fontSize?nt.toExpr((0,c.cA)(Cr.fontSize)):void 0,show:null!=Cr.show?nt.toExpr((0,c.O7)(Cr.show)):void 0,text:null!=Cr.text?nt.toExpr((0,c.fL)(Cr.text)):void 0}}],delete zt.title}if(zt.visualLink){var br=zt.visualLink;er.visualLink=[{properties:{bookmark:null!=br.bookmark?nt.toExpr((0,c.fL)(br.bookmark)):void 0,qna:br.qna,show:null!=br.show?nt.toExpr((0,c.O7)(br.show)):void 0,type:null!=br.type?nt.toExpr((0,c.fL)(br.type)):void 0}}],delete zt.visualLink}if(zt.visualTooltip){var Dr=zt.visualTooltip;er.visualTooltip=[{properties:{section:null!=Dr.section?nt.toExpr((0,c.fL)(Dr.section)):void 0,type:null!=Dr.type?nt.toExpr((0,c.fL)(Dr.type)):void 0}}],delete zt.visualTooltip}nt.clearUndefinedPropertiesVCObjects(er),_.isEmpty(er)||(zt.vcObjects=er)}};for(var Ft of _t.visualContainers)wt()}}toExpr(Te){return{expr:s.ib.serializeExpr(Te)}}clearUndefinedPropertiesVCObjects(Te){for(var nt in Te){var _t=Te[nt][0].properties;for(var wt in _t)_t[wt]||delete _t[wt];_.isEmpty(_t)&&delete Te[nt]}}upgradeFilterCollection(){}upgradeVisualObjects(Te,nt,_t,wt){}getVersion(){return y.H3n.v3_15}}var q=e(167165),Q=e(791520);class X{constructor(){}upgrade(Te){if(a.f.assertValue(Te,"exploration"),Te){var nt={},_t=Te.config;_t.themeCollection=nt,Te.theme&&(nt.customTheme=(0,Q.Mi)(Te.theme,q.v.RegisteredResources,this.getVersion()),delete Te.theme),_t.baseTheme&&(nt.baseTheme=(0,Q.Mi)(_t.baseTheme,q.v.SharedResources,this.getVersion()),delete _t.baseTheme)}}upgradeFilterCollection(){}upgradeVisualObjects(Te,nt,_t,wt){}getVersion(){return y.H3n.v3_18}}var re=e(481749),te=e(925115),se=e(990297),Ve=e(734531),ke=e(301336);class ot{constructor(){this.podNamePrefix="Pod"}upgrade(Te){if(a.f.assertValue(Te,"exploration"),Te&&!_.isEmpty(Te.sections)){for(var nt of Te.sections)this.upgradeSectionAcceptsAllFiltersWhenLinked(nt);var _t=Te.pods||[],wt={};for(var Ft of _t)wt[Ft.name]=!0;for(var zt of Te.sections)this.upgradeSection(zt,_t,wt);_.isEmpty(_t)||(Te.pods=_t)}}upgradeFilterCollection(){}upgradeVisualObjects(Te,nt,_t,wt){}getVersion(){return y.H3n.v3_24}upgradeSectionAcceptsAllFiltersWhenLinked(Te){Te.config||(Te.config={}),null==Te.config.acceptsAllFiltersWhenLinked&&(Te.config.type===C.bA.Tooltip?Te.config.acceptsAllFiltersWhenLinked=!0:Te.config.type===C.bA.Regular||null==Te.config.type?Te.config.acceptsAllFiltersWhenLinked=!1:a.f.assertFail("v3_24 VersionUpgrader: Unrecognized section type "+Te.config.type))}upgradeSection(Te,nt,_t){if(Te&&Te.name){var wt=(0,r.K)(Te.filters)||[],Ft=_.some(wt,er=>er.howCreated===C.OO.Drillthrough),zt=this.findPodForSectionName(nt,Te.name);zt?this.upgradeExistingPod(zt,Te.config,Ft):Ft&&(zt=this.createPod(nt,Te.name,Te.config,_t)),Te.config&&(Te.config.acceptsAllFiltersWhenLinked=void 0),zt&&(this.upgradeFilters(zt,wt),Te.filters=JSON.stringify(wt))}}upgradeFilters(Te,nt){var _t=[];for(var wt of((0,Ve.g)(Te.parameters)||(_t=(0,r.K)(Te.parameters)),nt))if(wt.name&&!wt.isTransient){var Ft=wt.howCreated===C.OO.Drillthrough,zt=this.findParamForFilterName(_t,wt.name);zt?(zt.fieldExpr=wt.expression,zt.asAggregation=wt.isLinkedAsAggregation,Ft||(zt.isLegacySingleSelection=!0)):Ft&&_t.push({name:"Param_"+wt.name,boundFilter:wt.name,fieldExpr:wt.expression,asAggregation:wt.isLinkedAsAggregation}),wt.isLinkedAsAggregation=void 0}Te.parameters=JSON.stringify(_t)}upgradeExistingPod(Te,nt,_t){Te.config=this.createPodConfig(nt),Te.referenceScope=C.zm.Default,Te.type=_t?this.determineType(nt):C.yi.Default}findParamForFilterName(Te,nt){if(a.f.assertValue(nt,"filterName"),!_.isEmpty(Te))return _.find(Te,_t=>_t.boundFilter===nt)}findPodForSectionName(Te,nt){if(a.f.assertValue(nt,"sectionName"),!_.isEmpty(Te))return _.find(Te,_t=>_t.boundSection===nt)}createPod(Te,nt,_t,wt){a.f.assertValue(Te,"pods"),a.f.assertValue(nt,"sectionName");var Ft={name:(0,ke.zE)(wt,this.podNamePrefix),boundSection:nt,type:this.determineType(_t),referenceScope:C.zm.Default,config:this.createPodConfig(_t)};return Te.push(Ft),wt[Ft.name]=!0,a.f.assert(()=>(0,se.iv)(Te),"pod names must be unique"),Ft}createPodConfig(Te){return JSON.stringify({acceptsFilterContext:!Te||Te.acceptsAllFiltersWhenLinked?C.PD.Default:C.PD.None})}determineType(Te){return Te&&Te.type!==C.bA.Regular&&void 0!==Te.type?Te&&Te.type===C.bA.Tooltip?C.yi.Tooltip:void 0:C.yi.Drillthrough}}var ft=e(231418),Ct=e(557134),Ke=e(216070);class we{upgrade(Te){if(a.f.assertValue(Te,"exploration"),Te){var nt=Te.resourcePackages||[],_t=_.find(nt,Er=>Er.resourcePackage.type===q.v.SharedResources),wt=!_t,Ft=(_t=_t||{resourcePackage:{id:void 0,items:[],name:(0,Ke.RJ)(q.v.SharedResources),type:q.v.SharedResources}}).resourcePackage.items;if(Te.sections)for(var zt of Te.sections)if(zt.visualContainers)for(var er of zt.visualContainers){var or=er.config.singleVisual;or&&this.upgradeSharedResourcePackages(or.objects,Ft)}var ur=Te.config&&Te.config.baseTheme;ur&&(_.find(Ft,Er=>Er.name===ur)||Ft.push({name:ur,type:Ct.Ut.BaseTheme,path:`BaseThemes/${ur}.json`})),wt&&_t.resourcePackage.items.length>0&&(nt.push(_t),Te.resourcePackages||(Te.resourcePackages=nt))}}upgradeFilterCollection(){}upgradeVisualObjects(Te,nt,_t,wt){}getVersion(){return y.H3n.v3_6_1}upgradeSharedResourcePackages(Te,nt){var _t=this;for(var wt in a.f.assertAnyValue(Te,""),a.f.assertValue(nt,"items should exist while upgrading shared resources"),Te)for(var Ft of Te[wt]){var zt=function(){var or=Ft.properties[er],ur=or&&or.geoJson;if(ur){var Er=ur.type.expr,Cr=Er.Literal&&Er.Literal.Value;if(Cr&&_t.removeQuotes(Cr)===ft.c1){var br=_t.removeQuotes(ur.name.expr.Literal.Value);_.find(nt,Dr=>Dr.name===br)||nt.push({name:br,type:Ct.Ut.ShapeMap,path:`Shapemaps/${br}.json`})}}};for(var er in Ft.properties)zt()}}removeQuotes(Te){return Te.substr(1,Te.length-2)}}var Ne=e(369503);class Ie{constructor(){this.keyDriverObjectName="keyDrivers",this.selectedNumericAnalysisPropertyName="selectedNumericAnalysis"}upgrade(Te){if(a.f.assertValue(Te,"exploration"),Te&&!_.isEmpty(Te.sections))for(var nt of Te.sections)for(var _t of nt.visualContainers){var wt=_t.config&&_t.config.singleVisual;wt&&wt.visualType===S.D.keyDriversVisual&&(wt.objects=this.upgradeKeyDriversVisualObjects(wt.objects))}}upgradeFilterCollection(){}upgradeVisualObjects(Te,nt,_t,wt){}getVersion(){return y.H3n.v4_1}upgradeKeyDriversVisualObjects(Te){Te||(Te={});var nt=Te[this.keyDriverObjectName];if(nt||(nt=Te[this.keyDriverObjectName]=[{properties:{}}]),a.f.assert(()=>1===nt.length,"only one keyDrivers object should exist"),!nt[0].properties[this.selectedNumericAnalysisPropertyName]){var wt={enumeration:Ne.dt},Ft=(0,c.kQ)(Ne.Pf,wt);nt[0].properties[this.selectedNumericAnalysisPropertyName]=(0,p.W7)(Ft,{type:wt})}return Te}}var me=e(471702);class Ee{constructor(){}upgrade(Te){if(a.f.assertValue(Te,"exploration"),Te&&!_.isEmpty(Te.sections))for(var nt of Te.sections)for(var _t of nt.visualContainers)(0,me.jF)(_t.config&&_t.config.singleVisual)}upgradeFilterCollection(){}upgradeVisualObjects(Te,nt,_t,wt){}getVersion(){return y.H3n.v4_2}}class ye{constructor(){}upgrade(Te){if(a.f.assertValue(Te,"exploration"),Te&&!_.isEmpty(Te.sections))for(var nt of Te.sections)he(nt),Ce(nt)}upgradeFilterCollection(){}upgradeVisualObjects(Te,nt,_t,wt){}getVersion(){return y.H3n.v5_1}}var Je=[{objectName:"outspacePane",propertyName:"titleSize"},{objectName:"outspacePane",propertyName:"headerSize"}];function he(Ut){if(Ut&&Ut.config&&Ut.config.objects)for(var Te of Je)(0,me.pr)(Ut.config.objects,Te)}function Ce(Ut){if(Ut&&Ut.config&&Ut.config.objects&&Ut.config.objects.filterCard){var Te=Ut.config.objects.filterCard;for(var nt of Te){var _t=nt&&nt.properties;if(_t){var wt=_t.textSize;if(wt){var Ft=s.ib.deserializeExpr(wt.expr);_t.textSize=(0,me.Mi)((0,me.nc)(Ft))}}}}}class pe{constructor(){}upgrade(Te){if(a.f.assertValue(Te,"exploration"),Te&&!_.isEmpty(Te.sections))for(var nt of Te.sections)for(var _t of nt.visualContainers)(0,me.Rd)(_t.config&&_t.config.singleVisual)}upgradeFilterCollection(){}upgradeVisualObjects(Te,nt,_t,wt){}getVersion(){return y.H3n.v5_3}}var Qe=e(824282);function ut(Ut){return new lt(Ut)}class lt{constructor(Te){}upgrade(Te){if(a.f.assertValue(Te,"exploration"),Te&&!_.isEmpty(Te.sections))for(var nt of Te.sections)for(var _t of nt.visualContainers){var wt=_t.config&&_t.config.singleVisual;if(wt&&wt.objects){var Ft=wt&&wt.visualType;"pivotTable"!==Ft&&"tableEx"!==Ft||this.upgradeTablixProperties(wt.objects,Ft)}}}upgradeVisualObjects(Te,nt,_t,wt){}upgradeTablixProperties(Te,nt){a.f.assertValue(Te,"objects");var _t=Te.values;if(_t)for(var wt of _t)this.isValidRoleWildcard(wt.selector,nt)&&(!wt.properties||!wt.properties.backColor&&!wt.properties.fontColor||(wt.selector.data=[{dataViewWildcard:{matchingOption:Qe.v.InstancesOnly}}]))}isValidRoleWildcard(Te,nt){return!(!Te||_.isEmpty(Te.data)||1!==Te.data.length||_.isEmpty(Te.data[0].roles))&&("tableEx"===nt&&_.isEqual(Te.data[0].roles,["Values"])||"pivotTable"===nt&&_.isEqual(Te.data[0].roles,["Rows","Columns"]))}upgradeFilterCollection(){}getVersion(){return y.H3n.v5_9}}class bt{constructor(){}upgrade(Te){this.forAllSectionsAllContainers(Te,[S.D.lineChart,S.D.areaChart,S.D.stackedAreaChart],this.upgradeLineChartDotProperties)}forAllSectionsAllContainers(Te,nt,_t){if(a.f.assertValue(Te,"exploration"),Te&&!_.isEmpty(Te.sections))for(var wt of Te.sections){var Ft=function(){var or=er.config&&er.config.singleVisual;if(!or||!or.objects)return 0;var ur=or&&or.visualType;if(_.findIndex(nt,Er=>Er===ur)<0)return 0;_t(or.objects,or.projections)};for(var er of wt.visualContainers)Ft()}}upgradeLineChartDotProperties(Te,nt){a.f.assertValue(Te,"objects");var _t=Te.categoryAxis,wt=Te.dataPoint,Ft=Te.lineStyles;if(_t&&0!==_t.length){var zt,or=_t[0].properties;if(or&&or.axisType){if(zt=or.axisType.expr.Literal.Value.replace(/['"]+/g,""),wt&&"Categorical"===zt&&nt&&nt.Category&&1===nt.Category.length&&nt.Category[0]){var Er=nt.Category[0].queryRef;if(Er)for(var Cr=function(Tr){var Kr=wt[Tr].properties;if(a.f.assert(()=>_.keys(Kr).length<=1,"expected data point object to only have one or no properties"),!Kr||!Kr.fill||_.keys(Kr).length>1)return br=Tr,1;var aa=wt[Tr].selector;if(aa&&aa.data&&1===aa.data.length&&aa.data[0]){var sa=aa.data[0];if(sa.scopeId&&sa.scopeId.Comparison&&sa.scopeId.Comparison.Left&&sa.scopeId.Comparison.Left.Column){var la=sa.scopeId.Comparison.Left.Column,ua=la.Property;if(ua&&la.Expression&&la.Expression.SourceRef){var va=la.Expression.SourceRef.Entity;va&&`${va}.${ua}`===Er&&(wt.splice(Tr,1),Tr--)}}}br=Tr},br=0;br<wt.length;br++)Cr(br)}if(Ft&&Ft.length>0&&"Scalar"===zt)for(var Dr of Ft)if(!Dr.selector){var Wr=Dr.properties;if(Wr&&Wr.showMarker){var Pr=Wr.showMarker;"true"===Pr.expr.Literal.Value&&(Pr.expr.Literal.Value="false")}}}}}upgradeFilterCollection(){}upgradeVisualObjects(Te,nt,_t,wt){}getVersion(){return y.H3n.v5_11}}var Ot=e(128451),Dt=e(755529),ne=e(537830);function Fe(Ut){return new $e(Ut)}class $e{constructor(Te){this.featureSwitchService=Te}upgrade(Te){if(this.featureSwitchService&&this.featureSwitchService.featureSwitches&&this.featureSwitchService.featureSwitches.serializeSpaceOptimization&&(a.f.assertValue(Te,"exploration"),Te&&!(_.isEmpty(Te.config.bookmarks)&&_.isEmpty(Te.filters)&&_.isEmpty(Te.sections))))for(var nt of(_.isEmpty(Te.config.bookmarks)||this.upgradeBookmarks(Te.config.bookmarks),Te.filters&&(Te.filters=this.upgradeFilterContainers(Te.filters)),Te.sections))for(var _t of nt.visualContainers){var wt=_t.config&&_t.config.singleVisual;wt&&wt.filterExpressionMetadata&&(0,Ot.R6)(wt.filterExpressionMetadata)&&(wt.filterExpressionMetadata=this.upgradeFilterExpressionMetadata(wt.filterExpressionMetadata)),_t.filters&&(_t.filters=this.upgradeFilterContainers(_t.filters)),!wt||!wt.objects||(wt&&wt.visualType)!==S.D.textbox||this.upgradeFilterContextProperties(wt.objects)}}upgradeFilterContextProperties(Te){for(var nt in a.f.assertValue(Te,"objects"),Te){var _t=Te[nt];for(var wt of _t)for(var Ft in wt.properties){var zt=wt.properties[Ft];if((0,p.CA)(zt)){var er=zt.context,or=er&&er.filterContext;_.isEmpty(or)||_.forEach(or,ur=>{ur.metadata&&(0,Ot.R6)(ur.metadata)&&(ur.metadata=this.upgradeFilterExpressionMetadata(ur.metadata))})}}}}upgradeBookmarks(Te){for(var nt of Te)if(void 0!==nt.children)this.upgradeBookmarks(nt.children);else{this.upgradeSectionState(nt.explorationState.sections);var wt=nt.explorationState.filters;wt&&this.upgradeFilters(wt)}}upgradeSectionState(Te){_.forEach(Te,nt=>{_.forEach(nt.visualContainers,_t=>{var wt=_t.highlight;wt&&wt.selection&&(0,p.kS)(wt.selection)&&(wt.selection=this.upgradeSelectorsByColumn(wt.selection)),wt&&wt.filterExpressionMetadata&&(0,Ot.R6)(wt.filterExpressionMetadata)&&(wt.filterExpressionMetadata=this.upgradeFilterExpressionMetadata(wt.filterExpressionMetadata));var Ft=_t.singleVisual;Ft.filterExpressionMetadata&&(0,Ot.R6)(Ft.filterExpressionMetadata)&&(Ft.filterExpressionMetadata=this.upgradeFilterExpressionMetadata(Ft.filterExpressionMetadata))}),nt.filters&&this.upgradeFilters(nt.filters)})}upgradeFilters(Te){Te.byName&&_.forEach(Te.byName,nt=>{nt.filterExpressionMetadata&&(0,Ot.R6)(nt.filterExpressionMetadata)&&(nt.filterExpressionMetadata=this.upgradeFilterExpressionMetadata(nt.filterExpressionMetadata))}),Te.byExpr&&this.upgradeFilterContainerState(Te.byExpr),Te.byTransientState&&this.upgradeFilterContainerState(Te.byTransientState),Te.byType&&this.upgradeFilterContainerState(Te.byType)}upgradeFilterContainerState(Te){_.forEach(Te,nt=>{nt.filterExpressionMetadata&&(0,Ot.R6)(nt.filterExpressionMetadata)&&(nt.filterExpressionMetadata=this.upgradeFilterExpressionMetadata(nt.filterExpressionMetadata))})}upgradeSelectorsByColumn(Te){var nt=_.map(Te,wt=>(0,p.JF)(wt)),_t=(0,ne.od)(nt);return(0,p.B6)(_t)}upgradeFilterExpressionMetadata(Te){var nt=(0,Ot._q)(Te),_t=(0,ne.s0)(nt);return(0,Dt.LF)(_t)}upgradeFilterCollection(Te){a.f.assertValue(Te,"filterCollection"),Te&&Te.filters&&(Te.filters=this.upgradeFilterContainers(Te.filters))}upgradeVisualObjects(Te,nt,_t,wt){}upgradeFilterContainers(Te){if(!_.isEmpty(Te)){var nt=(0,r.K)(Te);if(nt)for(var _t of nt)this.upgradeFilterContainer(_t);return JSON.stringify(nt)}}upgradeFilterContainer(Te){Te.filterExpressionMetadata&&(0,Ot.R6)(Te.filterExpressionMetadata)&&(Te.filterExpressionMetadata=this.upgradeFilterExpressionMetadata(Te.filterExpressionMetadata))}getVersion(){return y.H3n.v5_16}}var rt=e(265081);function ce(Ut){return new be(Ut)}class be{constructor(Te){this.featureSwitchService=Te}upgrade(Te){if(this.featureSwitchService&&this.featureSwitchService.featureSwitches&&this.featureSwitchService.featureSwitches.buttonTileFormatting&&(a.f.assertValue(Te,"exploration"),Te&&Te.sections))for(var nt of Te.sections)for(var _t of nt.visualContainers){var wt=_t.config&&_t.config.singleVisual;if(wt&&"actionButton"===wt.visualType&&wt.objects){var Ft=wt.objects;if(Ft.text)for(var zt of Ft.text){var er=zt?.properties;if(er){var or=er.padding;if(or){var ur,Er;ur=er.horizontalAlignment?ae(er.horizontalAlignment):rt.D.right,Er=er.verticalAlignment?ae(er.verticalAlignment):"middle","left"===ur?zt.properties.leftMargin=or:"right"===ur&&(zt.properties.rightMargin=or),"top"===Er?zt.properties.topMargin=or:"bottom"===Er&&(zt.properties.bottomMargin=or),delete zt.properties.padding}}}if(Ft.icon)for(var Cr of Ft.icon){var br=Cr?.properties;if(br){var Dr=br.padding;Dr&&(Cr.properties.leftMargin=Dr,Cr.properties.rightMargin=Dr,Cr.properties.topMargin=Dr,Cr.properties.bottomMargin=Dr,delete Cr.properties.padding)}}if(Ft.outline)for(var Wr of Ft.outline){var Pr=Wr?.properties.roundEdge;Pr&&(Ft.shape=Ft.shape||[],Ft.shape.push({properties:{roundEdge:Pr},selector:Wr.selector}),delete Wr.properties.roundEdge)}}}}upgradeVisualObjects(Te,nt,_t,wt){}upgradeFilterCollection(){}getVersion(){return y.H3n.v5_25}}function ae(Ut){return s.ib.deserializeExpr(Ut.expr).value}class ee{constructor(){}upgrade(Te){if(a.f.assertValue(Te,"exploration"),Te&&!_.isEmpty(Te.sections))for(var nt of Te.sections)for(var _t of nt.visualContainers){var wt=_t.config&&_t.config.singleVisual;wt&&wt.objects&&(wt&&wt.visualType)===S.D.azureMap&&this.upgradeAzureMapProperties(wt.objects)}}upgradeVisualObjects(Te,nt,_t,wt){}upgradeAzureMapProperties(Te){a.f.assertValue(Te,"objects");var nt=Te.heatMapLayer;if(nt&&0!==nt.length)for(var _t of nt)if(!_t.selector){var wt=_t.properties;if(wt&&wt.heatMapOpacity){var zt=Number(s.ib.deserializeExpr(wt.heatMapOpacity.expr).value),er=isNaN(zt)?0:100-100*zt;delete wt.heatMapOpacity,wt.mapTransparency=(0,me.Mi)((0,c.cA)(er))}}}upgradeFilterCollection(){}getVersion(){return y.H3n.v5_28}}var We=e(420766),it=e(501327);function yt(Ut){return new Be(Ut)}var et=[S.D.tableEx,S.D.pivotTable,S.D.slicer,S.D.filterSlicer,S.D.multiRowCard],mt=[S.D.barChart,S.D.clusteredBarChart,S.D.clusteredColumnChart,S.D.columnChart,S.D.hundredPercentStackedBarChart,S.D.hundredPercentStackedColumnChart,S.D.ribbonChart],ie=[S.D.areaChart,S.D.barChart,S.D.clusteredBarChart,S.D.clusteredColumnChart,S.D.columnChart,S.D.hundredPercentStackedBarChart,S.D.hundredPercentStackedColumnChart,S.D.lineChart,S.D.lineClusteredColumnComboChart,S.D.lineStackedColumnComboChart,S.D.ribbonChart,S.D.scatterChart,S.D.stackedAreaChart,S.D.waterfallChart],Y=[S.D.lineClusteredColumnComboChart,S.D.lineStackedColumnComboChart],fe=[S.D.lineChart,S.D.areaChart,S.D.stackedAreaChart,S.D.lineStackedColumnComboChart,S.D.lineClusteredColumnComboChart];class Be{constructor(Te){this.featureSwitchService=Te}upgrade(Te){}upgradeVisualObjects(Te,nt,_t,wt){Te===l.v.Visual&&(_.some(mt,Ft=>Ft===_t)&&(this.upgradeCartesianAxisScale(nt,"categoryAxis"),this.upgradeCartesianAxisPosition(nt,"categoryAxis")),_.some(ie,Ft=>Ft===_t)&&(this.upgradeCartesianAxisScale(nt,"valueAxis"),this.upgradeCartesianAxisPosition(nt,"valueAxis")),_.some(Y,Ft=>Ft===_t)&&this.upgradeCartesianSecAxisScale(nt,"valueAxis"),_.some(fe,Ft=>Ft===_t)&&(this.upgradeCartesianSecAxisScale(nt,"y2Axis"),this.upgradeDefaultToCircle(nt,"legend")),_.some(et,Ft=>Ft===_t)&&this.upgradeOutlineProperties(nt,_t),_t===S.D.pivotTable&&this.upgradeSubTotalsProperties(nt),_t===S.D.pivotTable&&this.upgradeTotalProperties(nt),_t===S.D.scatterChart&&this.upgradeScatterChartFillPoint(nt)),Te===l.v.VisualContainer&&(this.upgradeVisualHeaderTooltip(nt),this.featureSwitchService.featureSwitches.showDefaultTooltip&&this.upgradeVisualLink(nt))}upgradeCartesianAxisScale(Te,nt){this.upgradeAxisScale(Te,nt,"axisScale","logAxisScale")}upgradeCartesianSecAxisScale(Te,nt){this.upgradeAxisScale(Te,nt,"secAxisScale","secLogAxisScale")}upgradeVisualHeaderTooltip(Te){a.f.assertValue(Te,"objects");var nt=Te[kt];if(nt&&nt.length>0)for(var _t of nt){var wt=_t.properties;if(wt&&wt[Ht]&&!wt[Gt]){var Ft=wt[Ht],zt=Ft&&Ze(Ft);zt&&zt!==Rt&&(wt[Gt]=(0,me.Mi)((0,c.fL)(St)))}}}upgradeSubTotalsProperties(Te){a.f.assertValue(Te,"objects");var nt=Te.subTotals;if(nt&&nt.length>0)for(var _t=nt.length,wt=0;wt<_t;wt++){var Ft=nt[wt],zt=Ft.properties,er={properties:{}};if(zt&&!Ft.selector){for(var or of ct){var ur=zt[or.propertyName];ur&&(er.properties[or.propertyName]=ur,delete zt[or.propertyName])}_.isEmpty(er.properties)||(nt.push({...er,selector:{id:We.E.Column}}),nt.push({...er,selector:{id:We.E.Row}}))}}}upgradeVisualLink(Te){if(this.featureSwitchService.featureSwitches.useModernFormatPane){a.f.assertValue(Te,"objects");var nt=Te[tr];if(nt&&nt.length>0)for(var _t of nt){var wt=_t.properties;if(wt&&wt[ar]){var Ft=wt[ar],zt=Ft&&Ze(Ft),er=(0,me.Xv)(zt);wt[He]=(0,me.Mi)((0,c.O7)(er)),delete wt[ar]}}}}upgradeOutlineProperties(Te,nt){a.f.assertValue(Te,"objects");var _t=this.getPropertiesToUpgrade(nt);for(var wt of _t){var{objectName:Ft,propertyName:zt}=wt,er=Te[Ft];if(er&&0!==er.length)for(var or of er){var ur=or.properties;if(ur&&ur[zt]){var Cr=Ze(ur[zt]),br=(0,me.s8)(Cr);ur[Mt]=(0,me.Mi)((0,c.cA)(br)),delete ur[zt]}}}}upgradeTotalProperties(Te){a.f.assertValue(Te,"objects");var nt=Te.total;nt&&nt.length>0&&(Te.rowTotal=_.cloneDeep(nt),Te.columnTotal=_.cloneDeep(nt),delete Te.total)}getPropertiesToUpgrade(Te){switch(Te){case S.D.tableEx:return Bt;case S.D.pivotTable:return ze;case S.D.slicer:return st;case S.D.filterSlicer:return Lt;case S.D.multiRowCard:return Qt;default:return a.f.assertFail("unexpected visual type"),[]}}upgradeDefaultToCircle(Te,nt){var _t=Te[nt],wt="defaultToCircle",Ft="legendMarkerRendering";if(_t&&_t.length>0){var zt=_t[0].properties;if(zt&&zt[wt]){var er;zt[Ft]&&(er=Ze(zt[Ft]));var or=Ze(zt[wt]);er!==it._.markerOnly&&er||or?er===it._.markerOnly&&or&&(zt[Ft]=(0,me.Mi)((0,c.fL)(it._.markerCircleDefault))):zt[Ft]=(0,me.Mi)((0,c.fL)(it._.markerOnly)),delete zt[wt]}}}upgradeAxisScale(Te,nt,_t,wt){var Ft=Te[nt];if(Ft&&Ft.length>0){var zt=Ft[0].properties;if(zt&&zt[_t]){var er=Ze(zt[_t]),or=(0,me.Dq)(er);zt[wt]=(0,me.Mi)((0,c.O7)(or)),delete zt[_t]}}}upgradeCartesianAxisPosition(Te,nt){a.f.assertValue(Te,"objects");var _t=Te[nt],wt="position";if(_t&&_t.length>0){var zt=_t[0].properties;if(zt&&zt[wt]){var er=Ze(zt[wt]),or=(0,me.QK)(er);zt.switchAxisPosition=(0,me.Mi)((0,c.O7)(or)),delete zt[wt]}}}upgradeScatterChartFillPoint(Te){a.f.assertValue(Te,"objects");var nt=Te.fillPoint;if(nt&&nt.length>0)for(var _t of nt)if(!_t.selector){var wt=_t.properties;if(wt&&wt.show){var Ft=Ze(wt.show),zt=(0,me.fw)(Ft);wt.style=(0,me.Mi)((0,c.fL)(zt)),delete wt.show}}}upgradeFilterCollection(){}getVersion(){return y.H3n.v5_31}}function Ze(Ut){return s.ib.deserializeExpr(Ut.expr).value}var ct=[{objectName:"subTotals",propertyName:"fontColor"},{objectName:"subTotals",propertyName:"fontFamily"},{objectName:"subTotals",propertyName:"fontSize"},{objectName:"subTotals",propertyName:"bold"},{objectName:"subTotals",propertyName:"italic"},{objectName:"subTotals",propertyName:"underline"},{objectName:"subTotals",propertyName:"backColor"},{objectName:"subTotals",propertyName:"applyToHeaders"}],St="Canvas",Rt="none",kt="visualHeaderTooltip",Gt="type",Ht="section",tr="visualLink",ar="suppressDefaultTooltip",He="showDefaultTooltip",Mt="outlineStyle",Bt=[{objectName:"grid",propertyName:"outline"},{objectName:"columnHeaders",propertyName:"outline"},{objectName:"values",propertyName:"outline"},{objectName:"total",propertyName:"outline"}],ze=[{objectName:"grid",propertyName:"outline"},{objectName:"columnHeaders",propertyName:"outline"},{objectName:"values",propertyName:"outline"},{objectName:"rowHeaders",propertyName:"outline"}],st=[{objectName:"searchBox",propertyName:"outline"},{objectName:"items",propertyName:"outline"},{objectName:"header",propertyName:"outline"}],Lt=[{objectName:"searchBox",propertyName:"outline"},{objectName:"items",propertyName:"outline"},{objectName:"header",propertyName:"outline"}],Qt=[{objectName:"card",propertyName:"outline"}];function $t(Ut){return new gr(Ut)}var lr=[S.D.areaChart,S.D.lineChart,S.D.lineClusteredColumnComboChart,S.D.lineStackedColumnComboChart,S.D.scatterChart,S.D.stackedAreaChart];class gr{constructor(Te){this.featureSwitchService=Te}upgrade(Te){}upgradeVisualObjects(Te,nt,_t,wt){!this.featureSwitchService||!this.featureSwitchService.featureSwitches||!this.featureSwitchService.featureSwitches.remainingCartesianCategoryLogAxisScale||Te===l.v.Visual&&_.some(lr,Ft=>Ft===_t)&&this.upgradeCartesianAxisScale(nt,"categoryAxis")}upgradeCartesianAxisScale(Te,nt){this.upgradeAxisScale(Te,nt,"axisScale","logAxisScale")}upgradeAxisScale(Te,nt,_t,wt){var Ft=Te[nt];if(Ft&&Ft.length>0){var zt=Ft[0].properties;if(zt)if(zt[wt]&&zt[_t])delete zt[_t];else if(zt[_t]){var er=s.ib.deserializeExpr(zt[_t].expr).value,or=(0,me.Dq)(er);zt[wt]=(0,me.Mi)((0,c.O7)(or)),delete zt[_t]}}}upgradeFilterCollection(){}getVersion(){return y.H3n.v5_33}}function Mr(Ut){return new Vr(Ut)}class Vr{constructor(Te){this.featureSwitchService=Te}upgrade(Te){this.featureSwitchService.featureSwitches.onObject&&this.upgradeDrillthroughTargetRegularSections(Te)}upgradeVisualObjects(Te,nt,_t,wt){}upgradeFilterCollection(){}getVersion(){return y.H3n.v5_38}upgradeDrillthroughTargetRegularSections(Te){if(!_.isEmpty(Te?.sections)&&!_.isEmpty(Te.pods)){var nt={};for(var _t of Te.pods){var wt=_t.boundSection;if(!_.isEmpty(wt)&&!nt[wt]&&_t.type===C.yi.Drillthrough&&!(0,Ve.g)(_t.parameters)){var Ft=(0,r.K)(_t.parameters);_.some(Ft,ur=>!!ur.fieldExpr)&&(nt[_t.boundSection]=!0)}}for(var zt of Te.sections){var er=zt.config?.type;(null==er||er===C.bA.Regular)&&nt[zt.name]&&(zt.config||(zt.config={}),zt.config.type=C.bA.Drillthrough)}}}}var Lr=[S.D.barChart,S.D.clusteredBarChart,S.D.hundredPercentStackedBarChart];class Ur{constructor(){}upgrade(Te){}upgradeVisualObjects(Te,nt,_t,wt){if(Te===l.v.Visual&&_.some(Lr,or=>or===_t)){var Ft=nt.categoryAxis;_.isEmpty(Ft)&&(nt.categoryAxis=[{properties:{}}],Ft=nt.categoryAxis);var zt=Ft[0].properties,er=zt.concatenateLabels;er&&er.expr?er.expr.Literal.Value="true":zt.concatenateLabels=(0,me.Mi)((0,c.O7)(!0))}}upgradeFilterCollection(){}getVersion(){return y.H3n.v5_42}}var Br=[S.D.lineChart,S.D.areaChart,S.D.stackedAreaChart,S.D.lineStackedColumnComboChart,S.D.lineClusteredColumnComboChart];class Gr{constructor(){}upgrade(Te){}upgradeVisualObjects(Te,nt,_t,wt){if(Te===l.v.Visual&&_.some(Br,or=>or===_t)){var Ft=nt.lineStyles;if(Ft&&!_.isEmpty(Ft))for(var zt of Ft)if(zt){var er=zt.properties.stepped;er&&er.expr&&"true"===er.expr.Literal.Value&&(zt.properties.lineChartType=(0,me.Mi)((0,c.fL)("step")),delete zt.properties.stepped)}}}upgradeFilterCollection(){}getVersion(){return y.H3n.v5_46}}var mr=e(582166),jr=e(124374);function Rr(Ut){return new ea(Ut)}class ea{constructor(Te){this.featureSwitchService=Te}upgrade(Te){}upgradeVisualObjects(Te,nt,_t,wt){nt&&Te===l.v.Visual&&_t===S.D.azureMap&&this.upgradeAzureMapsVisual(nt)}upgradeAzureMapsVisual(Te){var{objectName:nt,propertyName:_t}=mr.azureMapProps.bubbleLayer.markerRangeType,wt=Te[nt];for(var Ft of(_.isEmpty(wt)&&(Te[nt]=[{properties:{}}],wt=Te[nt]),wt))Ft?.properties&&(Ft.properties[_t]=(0,me.Mi)((0,c.fL)(jr.Dl.deprecated)))}upgradeFilterCollection(){}getVersion(){return y.H3n.v5_48}}class Ir{constructor(){}upgrade(Te){}upgradeVisualObjects(Te,nt,_t,wt){nt&&Te===l.v.Visual&&([S.D.barChart,S.D.columnChart,S.D.hundredPercentStackedBarChart,S.D.hundredPercentStackedColumnChart,S.D.ribbonChart,S.D.stackedAreaChart,S.D.lineStackedColumnComboChart,S.D.lineClusteredColumnComboChart].includes(_t)&&Ir.updatePropertyName({objectName:"categoryAxis",propertyName:"reverseStackOrder"},{objectName:"layout",propertyName:"seriesOrderReversed"},nt),[S.D.ribbonChart].includes(_t)&&(Ir.updatePropertyName({objectName:"ribbonChart",propertyName:"seriesGapRatio"},{objectName:"layout",propertyName:"stackedGapSize"},nt),Ir.updatePropertyName({objectName:"ribbonChart",propertyName:"colorBands"},{objectName:"ribbonBands",propertyName:"fillMatchColor"},nt),Ir.updatePropertyName({objectName:"ribbonChart",propertyName:"bandsTransparency"},{objectName:"ribbonBands",propertyName:"fillTransparency"},nt),Ir.updatePropertyName({objectName:"ribbonChart",propertyName:"showBorder"},{objectName:"ribbonBands",propertyName:"borderShow"},nt)))}static updatePropertyName(Te,nt,_t){var wt=_t[Te.objectName];if(wt&&0!==wt.length)for(var Ft of wt){var zt=Ft.properties[Te.propertyName];if(zt)return void(Ir.getObject(_t,nt.objectName)[0].properties[nt.propertyName]=zt)}}static getObject(Te,nt){var _t=Te[nt];return _.isEmpty(_t)&&(Te[nt]=[{properties:{}}],_t=Te[nt]),_t}upgradeFilterCollection(){}getVersion(){return y.H3n.v5_49}}var hr=e(60978),zr=e(181780),Pt_propertyName="dynamicLabelValue";function _e(Ut){return new Ge(Ut)}class Ge{constructor(Te){this.featureSwitchService=Te}upgrade(Te){}upgradeVisualObjects(Te,nt,_t,wt){nt&&Te===l.v.Visual&&this.featureSwitchService.featureSwitches.labelEnhancementsM0&&([zr.L.hundredPercentStackedBarChart.name,zr.L.hundredPercentStackedColumnChart.name].includes(_t)&&this.update100StackedProperties(nt),y.M58.includes(_t)&&this.updateDynamicLabelProperties(nt))}updateDynamicLabelProperties(Te){var nt=Te.labels;if(!_.isEmpty(nt)&&nt.some(Te=>Te.properties.showDynamicLabels||Te.properties[Pt_propertyName])){var _t=nt.find(or=>or.properties.showDynamicLabels&&!or.selector),wt=Me(_t?.properties.showDynamicLabels),Ft=nt.find(or=>or.properties[Pt_propertyName]&&or.selector&&!or.selector.metadata),zt=at(Ft?.properties[Pt_propertyName]);wt&&!zt&&_t&&(_t.properties.enableValueDataLabel=(0,me.Mi)((0,c.O7)(!1))),!wt&&zt&&delete Ft?.properties[Pt_propertyName],nt.some(or=>or.selector&&or.selector.metadata)&&this.updatePropertiesForMultiStaticSeries(nt,wt,zt),this.deleteInvalidProperties(nt),Te.labels=nt.filter(or=>!_.isEmpty(or.properties))}}upgradeFilterCollection(){}getVersion(){return y.H3n.v5_50}update100StackedProperties(Te){var nt=Te.labels;if(nt){var _t=nt.find(or=>!or.selector&&Me(or?.properties.showDynamicLabels)),wt=nt.find(or=>or.selector&&!or.selector.metadata&&at(or?.properties[Pt_propertyName]));if(_t&&wt)_t.properties.enableValueDataLabel=(0,me.Mi)((0,c.O7)(!0)),_t.properties.enableDetailDataLabel=(0,me.Mi)((0,c.O7)(!1));else for(var Ft of nt){Ft.properties.enableValueDataLabel=(0,me.Mi)((0,c.O7)(!1)),Ft.properties.enableDetailDataLabel=(0,me.Mi)((0,c.O7)(!0)),Ft.properties.detailContentType=(0,me.Mi)((0,c.fL)("Percent of total"));var zt={bold:"detailBold",color:"detailColor",fontFamily:"detailFontFamily",fontSize:"detailFontSize",italic:"detailItalic",labelDisplayUnits:"detailLabelDisplayUnits",labelPrecision:"detailLabelPrecision",transparency:"detailTransparency",underline:"detailUnderline"};for(var er in zt)Ft.properties[er]&&(Ft.properties[zt[er]]=Ft.properties[er],delete Ft.properties[er])}}}updatePropertiesForMultiStaticSeries(Te,nt,_t){var wt=this,Ft=function(er){if(!er.selector?.metadata||_.isEmpty(er.properties))return 1;var or;if(er.properties.showDynamicLabels){var ur=Me(er.properties.showDynamicLabels),Er=Te.find(Cr=>Cr.selector?.metadata&&Cr.selector.metadata===er.selector?.metadata&&Cr.properties[Pt_propertyName]);Er&&(or=at(Er.properties[Pt_propertyName])),ur?wt.updatePropertiesIfSeriesDynamicLabelEnabled(er,or,_t):!1===ur&&wt.updatePropertiesIfSeriesDynamicLabelDisabled(er,Er,or,ur,_t)}};for(var zt of Te)Ft(zt)}updatePropertiesIfSeriesDynamicLabelEnabled(Te,nt,_t){nt&&(Te.properties.enableValueDataLabel=(0,me.Mi)((0,c.O7)(!0))),(!1===nt||!nt&&!_t)&&(Te.properties.enableValueDataLabel=(0,me.Mi)((0,c.O7)(!1)))}updatePropertiesIfSeriesDynamicLabelDisabled(Te,nt,_t,wt,Ft){_t&&nt&&delete nt.properties[Pt_propertyName],!_t&&!Ft&&(Te.properties.enableValueDataLabel=(0,me.Mi)((0,c.O7)(!0)))}deleteInvalidProperties(Te){if(!_.isEmpty(Te))for(var nt of Te)nt.properties.showDynamicLabels&&delete nt.properties.showDynamicLabels,nt.properties[Pt_propertyName]&&Xe(nt.properties[Pt_propertyName])&&delete nt.properties[Pt_propertyName]}}function Me(Ut){if(Ut?.expr)return s.ib.deserializeExpr(Ut.expr).value}function at(Ut){if(!Ut?.expr)return!1;var Te=s.ib.deserializeExpr(Ut.expr);return(0,hr.kb)(Te)||(0,hr.iV)(Te)}function Xe(Ut){if(!Ut?.expr)return!1;var Te=s.ib.deserializeExpr(Ut.expr);return(0,hr.VC)(Te)}function pt(Ut){return new Kt(Ut)}class Kt{constructor(Te){this.featureSwitchService=Te}upgrade(Te){}upgradeVisualObjects(Te,nt,_t,wt){var Ft=this;if(nt&&Te===l.v.Visual){if(this.featureSwitchService.featureSwitches.cardVisualRefUpdate&&_t===zr.L.cardVisual.name){var zt=nt.referenceLabelDetail;if(_.isEmpty(zt))return;for(var er=function(ur){var Er=zt[ur];if(_.isEmpty(Er))return or=ur,1;if(Ft.isValidMetadataOnlySelector(Er.selector)){var Cr=Er.properties?.detailValue;if(Cr){var br={...Er.selector,data:[{dataViewWildcard:{matchingOption:Qe.v.InstancesAndTotals}}]},Dr=_.find(zt,Wr=>_.isEqual(Wr.selector,br));Dr&&Dr.properties?Dr.properties.detailValue=Cr:zt.push({properties:{detailValue:Cr},selector:br}),delete Er.properties.detailValue,_.isEmpty(Er.properties)&&(zt.splice(ur,1),ur--)}}or=ur},or=0;or<zt.length;or++)er(or)}this.featureSwitchService.featureSwitches.labelEnhancementsM0&&y.M58.includes(_t)&&this.updateDynamicLabelProperties(nt)}}isValidMetadataOnlySelector(Te){return Te&&!_.isEmpty(Te.id)&&!_.isEmpty(Te.metadata)&&_.isEmpty(Te.data)}updateDynamicLabelProperties(Te){var nt=Te.labels;if(!_.isEmpty(nt)&&nt.some(Te=>Te.properties.dynamicLabelValue)){var _t=nt.filter(Ft=>Ft.properties.dynamicLabelValue&&!Ft?.selector?.data);if(!_.isEmpty(_t))for(var wt of _t)delete wt?.properties.dynamicLabelValue;Te.labels=nt.filter(Ft=>!_.isEmpty(Ft.properties))}}upgradeFilterCollection(){}getVersion(){return y.H3n.v5_51}}class Xt{constructor(){}upgrade(Te){this.resolveShadeArea(Te)}upgradeVisualObjects(Te,nt,_t,wt){}resolveShadeArea(Te){var nt;if(Te&&!_.isEmpty(Te.sections))for(var _t of Te.sections){var wt=function(){var er=zt?.config?.singleVisual;if(!er)return 0;if(![S.D.lineStackedColumnComboChart,S.D.lineClusteredColumnComboChart].includes(er?.visualType))return 0;var ur=er.projections?.Y2;if(_.isEmpty(ur))return 0;var Er=er.objects?.lineStyles;if(_.isEmpty(Er))return 0;var Cr,br={};ur.forEach(ua=>{br[ua.queryRef]=void 0});var Dr=!1,Wr=!1;for(var Pr of Er){var Tr=Pr.properties?.shadeArea;Tr&&(Pr.properties.areaShow=_.cloneDeep(Tr)),Pr.selector?Tr&&(br[Pr.selector.metadata]=Tr,Dr||(Dr="true"===Tr?.expr?.Literal?.Value)):(Wr=!0,Tr&&(Cr=Tr))}if("true"===Cr?.expr?.Literal?.Value||!Dr)return 0;for(var aa of(Wr||Er.push({properties:{}}),Er))aa.selector?(aa.properties||(aa.properties={}),aa.properties.areaShow||(aa.properties.areaShow={expr:{Literal:{Value:"false"}}},br[aa.selector.metadata]=aa.properties.areaShow)):((nt=aa.properties).areaShow||(nt.areaShow={}),aa.properties.areaShow.expr={Literal:{Value:"true"}});for(var[sa,la]of Object.entries(br))la||Er.push({properties:{areaShow:{expr:{Literal:{Value:"false"}}}},selector:{metadata:sa}})};for(var zt of _t.visualContainers)wt()}}upgradeFilterCollection(){}getVersion(){return a.f.assert(()=>y.H3n.v5_53===y.Hg9,"This upgrader covers both features. If features get different release versions, we should get an error."),y.H3n.v5_53}}function Sr(Ut){return new Le(Ut)}class Le{constructor(Te){this.featureSwitchService=Te}upgrade(Te){}upgradeVisualObjects(Te,nt,_t,wt){if(nt&&Te===l.v.Visual){if(this.featureSwitchService.featureSwitches.matrixLayouts&&_t===zr.L.pivotTable.name&&(0,me.NN)(nt),this.featureSwitchService.featureSwitches.cardVisualCFSelector&&_t===zr.L.cardVisual.name){var Ft={divider:["dividerColor"],referenceLabel:["backgroundColor"],referenceLabelDetail:["detailFontColor","detailBackgroundColor","customFormatString","detailPrecision","showBlankAs"],referenceLabelValue:["valueFontColor","customFormatString","valuePrecision","showBlankAs"],referenceLabelTitle:["titleText","titleFontColor"]};for(var zt of Object.keys(Ft)){var er=nt[zt];if(!_.isEmpty(er))for(var or=0;or<er.length;or++){var ur=er[or];if(!_.isEmpty(ur)&&(Ut=ur.selector)&&!_.isEmpty(Ut.metadata)&&_.isEmpty(Ut.data)&&ur.properties){var Er=function(){var br=ur.properties[Cr];if(br&&ht(br)){var Dr={...ur.selector,data:[{dataViewWildcard:{matchingOption:Qe.v.InstancesAndTotals}}]},Wr=_.find(er,Pr=>_.isEqual(Pr.selector,Dr));Wr&&Wr.properties?Wr.properties[Cr]=br:er.push({properties:{[Cr]:br},selector:Dr}),delete ur.properties[Cr],_.isEmpty(ur.properties)&&(er.splice(or,1),or--)}};for(var Cr of Ft[zt])Er()}}}}_t===zr.L.lineChart.name&&Le.upgradeForecastStyles(nt)}var Ut}static upgradeForecastStyles(Te){var nt,_t,wt,Ft,zt=Te.forecast;if(!_.isEmpty(zt))for(var er of zt)if(er&&er.properties){var or=Number((0,me.v)(er.properties.transparency));null!=or&&!isNaN(or)&&((nt=er.properties).bandAreaTransparency??(nt.bandAreaTransparency=(0,me.Mi)((0,c.tx)(or))),(_t=er.properties).bandLineTransparency??(_t.bandLineTransparency=(0,me.Mi)((0,c.tx)(or))),delete er.properties.transparency);var ur=(0,me.v)(er.properties.confidenceBandStyle);null!=ur&&((wt=er.properties).bandAreaShow??(wt.bandAreaShow=(0,me.Mi)((0,c.O7)("fill"===ur||"fillLine"===ur))),(Ft=er.properties).bandLineShow??(Ft.bandLineShow=(0,me.Mi)((0,c.O7)("line"===ur||"fillLine"===ur))),delete er.properties.confidenceBandStyle)}}upgradeFilterCollection(){}getVersion(){return y.H3n.v5_54}}function ht(Ut){var Te=Ut?.expr||Ut?.solid?.color?.expr;if(!Te)return!1;var nt=s.ib.deserializeExpr(Te);return null!=nt&&!(0,hr.VC)(nt)&&!(0,hr.wt)(nt)}function gt(Ut){return new Vt(Ut)}class Vt{constructor(Te){this.featureSwitchService=Te}upgrade(Te){if(Te&&!_.isEmpty(Te.sections))for(var nt of Te.sections)for(var _t of nt.visualContainers){var wt=_t.config?.singleVisual;wt&&(0,me.Pq)(wt,!0,this.featureSwitchService.featureSwitches.tablixRenderUpgrade)}}upgradeVisualObjects(){}upgradeFilterCollection(){}getVersion(){return y.H3n.v5_56}}var xt=e(759162);class jt{upgrade(Te,nt){}upgradeVisualObjects(Te,nt,_t,wt){if(nt&&Te===l.v.Visual&&_t===S.D.advancedSlicerVisual){var Ft=_.find(nt.image,ur=>_.has(ur.properties,"image")&&_.isEmpty(ur.selector?.id));if(!Ft)return;var zt=(0,p.UZ)({id:"default",data:[(0,xt.Ue)(Qe.v.InstancesOnly)]}),er=_.find(nt.image,ur=>_.isEqual(ur.selector,zt));if(er||(nt.image.push({properties:{},selector:zt}),er=_.last(nt.image)),er.properties.image=Ft.properties.image,delete Ft.properties.image,_.isEmpty(Ft.properties)){var or=_.findIndex(nt.image,Ft);nt.image.splice(or,1)}}}upgradeFilterCollection(Te){}getVersion(){return y.H3n.v5_58}}class Yt{constructor(){}upgrade(Te){}upgradeVisualObjects(Te,nt,_t,wt){nt&&Te===l.v.Visual&&_t===S.D.azureMap&&this.upgradeAzureMapsVisual(nt)}upgradeAzureMapsVisual(Te){var{objectName:nt,propertyName:_t}=mr.azureMapProps.mapControls.autoZoomIncludesReferenceLayer,wt=Te[nt];for(var Ft of(_.isEmpty(wt)&&(Te[nt]=[{properties:{}}],wt=Te[nt]),wt))Ft?.properties&&(Ft.properties[_t]=(0,me.Mi)((0,c.O7)(!1)))}upgradeFilterCollection(){}getVersion(){return y.H3n.v5_63}}function rr(Ut){return new dr(Ut)}class dr{constructor(Te){var Ut;this.versionUpgraders=[new E,new w,new A,new F,new O,new we,new L,(Ut=Te,new J(Ut)),new z,new G,new X,(0,re.ps)(),(0,te.ps)(Te),new ot,new Ie,new Ee,new ye,new pe,ut(Te),new bt,Fe(Te),ce(Te),new ee,yt(Te),$t(Te),Mr(Te),new Ur,new Gr,Rr(Te),new Ir,_e(Te),pt(Te),new Xt,Sr(Te),gt(Te),new jt,new Yt],this.objectsUpgrader=(0,g.U)(this.versionUpgraders)}upgrade(Te,nt,_t,wt){if(this.upgradeElement(Te,nt,_t,(zt,er,or)=>zt.upgrade(er,or),wt)){var Ft=Te;return this.upgradeVisualObjects(Ft,Te.config.version),Te.config.version=n.L,Ft}}upgradeFilterCollection(Te,nt,_t){if(this.upgradeElement(Te,nt,_t,(wt,Ft)=>wt.upgradeFilterCollection(Ft)))return Te.config.version=n.L,Te}getVersionUpgraders(){return this.versionUpgraders}upgradeElement(Te,nt,_t,wt,Ft){a.f.assertValue(Te,"element"),a.f.assert(()=>nt&&_.isEmpty(nt),"errors should be defined and empty"),a.f.assertValue(wt,"runUpgrade");var zt=this.getVersionedElementConfig(Te),er=zt.version&&_.isString(zt.version)?zt.version:i.aD;if((0,i.gt)(er,n.L)){if(nt.push({errorType:t.l.UnknownExplorationVersion}),!_t)return}else for(var or of this.versionUpgraders){var ur=or.getVersion();((0,i.lt)(ur,"2.2")||(0,i.gt)(ur,er))&&(wt(or,Te,er),Ft&&Ft.upgraderCount++)}return Te}upgradeVisualObjects(Te,nt){nt=nt||i.aD;var _t=Te&&Te.sections;if(_t)for(var wt of _t){var Ft=wt&&wt.visualContainers;if(!Ft)return;for(var zt of Ft){var er=zt&&zt.config&&zt.config.singleVisual;if(er){var or=er.visualType,ur=er.vcObjects;ur&&this.objectsUpgrader.upgrade(l.v.VisualContainer,ur,or,nt);var Er=er.objects;Er&&this.objectsUpgrader.upgrade(l.v.Visual,Er,or,nt)}}}}getVersionedElementConfig(Te){return _.isString(Te.config)&&(Te.config=(0,r.K)(Te.config),a.f.assertFail("explorationUpgrader.getVersionedElementConfig -\n                    The config shouldn't be a string, it should always be an object,\n                    If this code ever reaches it means that the exploration we are upgrading\n                    hasn't been parsed yet. Please find out where the exploration comes from\n                    and make sure it's parsed before getting sent here.")),Te.config||(Te.config={version:i.aD},a.f.assertFail("explorationUpgrader.getVersionedElementConfig -\n                    The config should exist by this point, we somehow persisted/serialized an invalid config.")),Te.config}}},572599:function(ve,j,e){e.d(j,{$IK:function(){return q},$Tv:function(){return Dt},$gq:function(){return Sr},$qz:function(){return Tt},$tC:function(){return Ie},Awj:function(){return Q},BGf:function(){return _i},C7j:function(){return ir},Cc1:function(){return Bt},Eo9:function(){return kr},F1S:function(){return U},FL3:function(){return we},FOi:function(){return Ua},GwY:function(){return ca},H3n:function(){return N},H_y:function(){return Na},Hg9:function(){return Ia},IwG:function(){return Ur},KQG:function(){return Kt},KQq:function(){return Yi},Kkx:function(){return X},LlV:function(){return Ri},M58:function(){return xr},NsA:function(){return $e},OY7:function(){return Ii},P_5:function(){return fn},RrR:function(){return Ae},TQL:function(){return _e},U$u:function(){return J},UAC:function(){return kt},UCJ:function(){return Gt},Upn:function(){return lt},VFg:function(){return Qr},VRY:function(){return Qi},VSH:function(){return Ue},VTu:function(){return xt},WL3:function(){return z},WWC:function(){return na},XRk:function(){return Rr},XVx:function(){return ct},Xfb:function(){return Pt},YA8:function(){return ee},_P0:function(){return wi},aWu:function(){return At},bFC:function(){return Pe},ckf:function(){return Xa},dKN:function(){return aa},eGA:function(){return qi},elY:function(){return Qa},faH:function(){return Et},fke:function(){return rt},ftA:function(){return k},g3O:function(){return I},gMq:function(){return Di},h07:function(){return mi},hCh:function(){return li},hGr:function(){return x},htK:function(){return G},iXZ:function(){return ye},iuU:function(){return Me},jJX:function(){return Ct},kJo:function(){return Le},kdg:function(){return Ot},m5F:function(){return He},m7e:function(){return Ke},np7:function(){return Be},nue:function(){return Ht},oq_:function(){return se},pWD:function(){return Ci},pXM:function(){return Xi},pj3:function(){return dr},q0O:function(){return Ya},q4D:function(){return H},qdh:function(){return ke},qq3:function(){return L},rAF:function(){return K},sE2:function(){return ce},tCF:function(){return Hi},tji:function(){return ui},ugh:function(){return tr},ukM:function(){return de},v0X:function(){return Li},vqL:function(){return fe},x7c:function(){return Z},xSu:function(){return bt},yfQ:function(){return Ne},z1y:function(){return me}});var r=e(60978),i=e(738071),a=e(893910),t=e(27663),l=e(536461),g=e(991827),n=e(741714),p=e(628582),s=e(850234),d=e(519908),o=e(74443),v=e(124374),m=e(316517),c=e(941745),C=e(650543),y=e(824282),S=e(296841),h=e(191282),E=e(5187),u=e(719242),f=e(442407),b=e(62396),V=e(962238),T=e(428776),P=e(436043),D=e(31249),w=e(473736),M=e(334467),A=e(691519),R=e(803605),B=e(471702),N={v1_0:"1.0",v2_0:"2.0",v2_2:"2.2",v2_3:"2.3",v2_5:"2.5",v3_0:"3.0",v3_1:"3.1",v3_2:"3.2",v3_3:"3.3",v3_4:"3.4",v3_5:"3.5",v3_6:"3.6",v3_6_1:"3.6.1",v3_7:"3.7",v3_8:"3.8",v3_9:"3.9",v3_10:"3.10",v3_11:"3.11",v3_12:"3.12",v3_12_1:"3.12.1",v3_13:"3.13",v3_14:"3.14",v3_14_1:"3.14.1",v3_15:"3.15",v3_16:"3.16",v3_17:"3.17",v3_18:"3.18",v3_19:"3.19",v3_20:"3.20",v3_21:"3.21",v3_22:"3.22",v3_23:"3.23",v3_24:"3.24",v4_0:"4.0",v4_1:"4.1",v4_2:"4.2",v5_0:"5.0",v5_1:"5.1",v5_2:"5.2",v5_3:"5.3",v5_4:"5.4",v5_5:"5.5",v5_6:"5.6",v5_7:"5.7",v5_8:"5.8",v5_9:"5.9",v5_10:"5.10",v5_11:"5.11",v5_12:"5.12",v5_13:"5.13",v5_14:"5.14",v5_15:"5.15",v5_16:"5.16",v5_17:"5.17",v5_18:"5.18",v5_19:"5.19",v5_20:"5.20",v5_21:"5.21",v5_22:"5.22",v5_23:"5.23",v5_24:"5.24",v5_25:"5.25",v5_26:"5.26",v5_27:"5.27",v5_28:"5.28",v5_29:"5.29",v5_30:"5.30",v5_31:"5.31",v5_32:"5.32",v5_33:"5.33",v5_34:"5.34",v5_35:"5.35",v5_36:"5.36",v5_37:"5.37",v5_38:"5.38",v5_39:"5.39",v5_40:"5.40",v5_41:"5.41",v5_42:"5.42",v5_43:"5.43",v5_44:"5.44",v5_45:"5.45",v5_46:"5.46",v5_47:"5.47",v5_48:"5.48",v5_49:"5.49",v5_50:"5.50",v5_51:"5.51",v5_52:"5.52",v5_53:"5.53",v5_54:"5.54",v5_55:"5.55",v5_56:"5.56",v5_57:"5.57",v5_58:"5.58",v5_59:"5.59",v5_60:"5.60",v5_61:"5.61",v5_62:"5.62",v5_63:"5.63"},W={};W[b.sc.FilteredEval]=N.v3_5,W[b.sc.Conditional]=N.v3_7,W[b.sc.ThemeDataColor]=N.v3_8;class F extends V.PA{constructor(nr){super(),this.highestVersion=nr}visitAllRolesRef(nr){this.highestVersion=(0,a.Fp)(this.highestVersion,N.v5_1),super.visitAllRolesRef(nr)}visitRangePercent(nr){this.highestVersion=(0,a.Fp)(this.highestVersion,N.v5_1),super.visitRangePercent(nr)}visitArithmetic(nr){(0,r.g5)(nr.right)||(this.highestVersion=(0,a.Fp)(this.highestVersion,N.v5_15)),super.visitArithmetic(nr)}visitSparklineData(nr){this.highestVersion=(0,a.Fp)(this.highestVersion,_t),super.visitSparklineData(nr)}}class U{static getVersionForSQExpr(nr){C.f.assertValue(nr,"expr should exist to get its version");var fr=W[nr.kind]||a.aD,yr=new F(fr);return nr.accept(yr),yr.highestVersion}static getVersionForSQExprWithDescriptor(nr,fr,yr){C.f.assertValue(nr,"expr should exist to get its version"),C.f.assertAnyValue(fr,"typeDescriptor can be undefined in an unloaded custom visual"),C.f.assertValue(yr,"visualVisualCalcInfo should be defined");var Zr=this.getVersionForSQExpr(nr);return fr?.misc?.webUrl&&Ui(nr,yr)&&(Zr=(0,a.Fp)(Wa,Zr)),Zr}static getConditionalFormattingVersion(nr,fr){if(C.f.assertValue(nr,"expr should exist to get its version"),(0,r.Tu)(nr)&&nr.input){if(!(0,r.NH)(nr.input))return te;if(Mi(nr.input,fr))return Wa}if((0,r.Gs)(nr)){if(_.some(nr.cases,ra=>ra.condition.isOrdinalEvaluation()))return Ga;var yr=fr.hasVisualCalc?(0,a.Fp)(te,Wa):te,Zr=ra=>{if(ra&&(0,r.$Q)(ra)){if(!(0,r.NH)(ra.left))return te;if(Mi(ra.left,fr))return Wa}},Yr=ra=>{var ia=Zr(ra)??a.aD;if(ia===yr)return ia;if((0,r.un)(ra))for(var ja of[ra.left,ra.right]){var fi=Zr(ja)??a.aD;if((ia=(0,a.Fp)(fi,ia))===yr)return ia}return ia!==a.aD?ia:void 0},$r=a.aD;for(var ta of nr.cases){var ma=Yr(ta.condition)??a.aD;if(($r=(0,a.Fp)(ma,$r))===yr)return yr}if($r!==a.aD)return $r}return(0,r.kb)(nr)||(0,r.iV)(nr)?ot:Ui(nr,fr)?Wa:a.aD}static getVersionForSortDefinitions(nr){if(!_.isEmpty(nr))for(var fr of nr)if((0,r.g5)(fr.expr))return N.v5_23;return a.aD}static getVersionForVisualContainerGroup(nr){return nr.objects&&void 0!==nr.objects.lockAspect?Or:Pe}}class O{constructor(nr){this.visualCalcInfo=nr}getVersion(){return this.version??a.aD}visitExpr(nr,fr){null!=nr&&(this.version=U.getConditionalFormattingVersion(nr,this.visualCalcInfo))}visitValueRef(nr,fr){}}var x=N.v3_6,I=N.v3_6,L=N.v3_7,K=N.v3_8,z=N.v3_8,H=N.v3_8,J=N.v3_8,k=N.v3_9,G=N.v3_10,q=N.v3_11,Q=N.v3_11,Z=N.v3_12,X=N.v3_13,re=N.v3_13,te=N.v3_14,se=N.v3_14,Ve=N.v3_15,ke=N.v3_15,Ue=N.v3_17,ot=N.v3_17,Ct=N.v3_18,Ke=N.v3_19,Ae=N.v3_20,we=N.v3_20,Ne=N.v3_20,Se=N.v3_20,Ie=N.v3_20,me=N.v3_20,Ee=N.v3_21,xe=N.v3_21,ye=N.v3_22,he=N.v3_22,Ce=N.v3_22,je=N.v3_23,pe=N.v3_23,Qe=N.v3_23,ut=N.v3_23,lt=N.v3_23,Et=N.v3_23,bt=N.v3_24,Ot=N.v3_24,Dt=N.v3_24,ne=N.v4_0,Fe=N.v4_2,$e=N.v4_2,qe=N.v4_2,dt=N.v4_2,rt=N.v4_2,ce=N.v4_2,be=N.v5_0,ae=N.v5_1,de=N.v5_2,ee=N.v5_2,Pe=N.v5_2,We=N.v5_3,it=N.v5_3,yt=N.v5_3,et=N.v5_4,mt=N.v5_5,ie=N.v5_6,Y=N.v5_7,fe=N.v5_8,Be=N.v5_8,Ze=N.v5_8,ct=N.v5_8,St=N.v5_8,Rt=N.v5_9,kt=N.v5_9,Gt=N.v5_9,Ht=N.v5_9,tr=N.v5_9,ar=N.v5_9,He=N.v5_10,Mt=N.v5_10,Bt=N.v5_11,ze=N.v5_11,st=N.v5_12,Lt=N.v5_12,Qt=N.v5_13,$t=N.v5_13,lr=N.v5_13,gr=N.v5_14,_r=N.v5_14,Mr=N.v5_14,Lr=N.v5_15,Fr=N.v5_15,Ur=N.v5_15,Br=N.v5_15,wr=N.v5_15,mr=N.v5_16,jr=N.v5_16,Rr=N.v5_16,ea=N.v5_16,Hr=N.v5_16,qr=N.v5_16,kr=N.v5_17,Qr=N.v5_18,Ir=N.v5_18,Jr=N.v5_18,hr=N.v5_19,zr=N.v5_19,Or=N.v5_19,Xr=N.v5_19,It=N.v5_20,Pt=N.v5_20,Tt=N.v5_20,tt=N.v5_20,_e=N.v5_21,Ge=N.v5_21,Me=N.v5_22,at=N.v5_22,Xe=N.v5_22,ue=N.v5_22,Re=N.v5_22,pt=N.v5_22,Kt=N.v5_23,Jt=N.v5_23,pr=N.v5_23,sr=N.v5_24,Xt=N.v5_24,Sr=N.v5_24,Le=N.v5_24,Ye=N.v5_25,ht=N.v5_25,gt=N.v5_25,Vt=N.v5_26,xt=N.v5_26,At=N.v5_27,jt=N.v5_27,Nt=N.v5_27,Yt=N.v5_27,rr=N.v5_27,dr=N.v5_27,Ut=N.v5_28,Te=N.v5_28,nt=N.v5_28,_t=N.v5_28,Ft=N.v5_30,zt=N.v5_30,er=N.v5_31,or=N.v5_31,ur=N.v5_31,Er=N.v5_31,Cr=N.v5_31,br=N.v5_31,Dr=N.v5_31,Wr=N.v5_31,Pr=N.v5_31,Kr=N.v5_31,aa=N.v5_32,sa=N.v5_33,la=N.v5_33,ua=N.v5_33,va=N.v5_33,ga=N.v5_34,oe=N.v5_34,De=N.v5_34,le=N.v5_34,vt=N.v5_34,Wt=N.v5_34,Zt=N.v5_35,ir=N.v5_36,ca=N.v5_36,fa=N.v5_37,hi=N.v5_39,ka=N.v5_39,za=N.v5_40,xa=N.v5_40,Ra=N.v5_40,Da=N.v5_41,Ka=N.v5_41,Oa=N.v5_41,Ga=N.v5_41,Ca=N.v5_41,Ha=N.v5_42,Ea=N.v5_42,Qa=N.v5_43,Ba=N.v5_44,Xa=N.v5_44,Pa=N.v5_44,$a=N.v5_44,La=N.v5_46,Aa=N.v5_46,Ja=N.v5_47,oi=N.v5_48,da=N.v5_49,Za=N.v5_49,Ar=N.v5_50,li=N.v5_50,Ya=N.v5_50,ya=N.v5_50,Na=N.v5_51,Fa=N.v5_51,_a=N.v5_51,qa=N.v5_52,ei=N.v5_52,Ia=N.v5_53,ti=N.v5_54,pa=N.v5_54,Ua=N.v5_55,ri=N.v5_55,ai=N.v5_56,ii=N.v5_56,cr=N.v5_56,vi=N.v5_56,wi=N.v5_57,mi=N.v5_57,Ai=N.v5_57,gi=N.v5_57,Ni=N.v5_57,yi=N.v5_58,_i=N.v5_58,Ci=N.v5_59,Ei=N.v5_59,Ii=N.v5_59,Si=N.v5_59,bi=N.v5_60,ni=N.v5_61,Wa=N.v5_61,zi=N.v5_62,si=N.v5_62,ui=N.v5_62,Ki=N.v5_63,xi=N.v5_63,Gi=A.L,Vi=A.L,Hi=A.L,Ma=A.L,Ri=A.L,Qi=A.L,Xi=A.L,$i=A.L,Ji=A.L,Zi=A.L,Oi=[[R.xm,N.v5_29],[R.wh,N.v5_30],[R.LL,N.v5_31],[R.Ny,N.v5_32],[R.M5,N.v5_33],[R.zW,N.v5_34],[R.RT,N.v5_35],[R.ur,N.v5_37],[R.I8,N.v5_39],[R.nx,N.v5_40],[R.eA,N.v5_41],[R.XS,N.v5_42],[R.X2,N.v5_43],[R.X2,N.v5_44],[R.$j,N.v5_45],[R.Vb,N.v5_46],[R.$K,N.v5_47],[R._b,N.v5_48],[R.ud,N.v5_49],[R.sZ,N.v5_50],[R.DG,N.v5_51],[R.aB,N.v5_52],[R.vH,N.v5_53],[R.AS,N.v5_54],[R.lM,N.v5_55],[R.gd,N.v5_56],[R.EZ,N.v5_57],[R.z3,N.v5_58],[R.Sx,N.v5_59],[R.cv,N.v5_60],[R.$4,N.v5_61],[R.tl,N.v5_62],[R.ux,N.v5_63]];function Yi(qt){for(var[nr,fr]of Oi)if(qt===nr)return fr;return C.f.assertFail(`No exploration version matching ${qt}`),A.L}function qi(qt){for(var[nr,fr]of Oi)if(qt===fr)return nr;return C.f.assertFail(`No exploration state version matching ${qt}`),M.w}var Di=["barChart","clusteredBarChart","clusteredColumnChart","columnChart","funnel","hundredPercentStackedBarChart","hundredPercentStackedColumnChart","lineStackedColumnComboChart","lineClusteredColumnComboChart","map","filledMap","shapeMap","scatterChart"],Sa=[n.D.barChart,n.D.columnChart,n.D.hundredPercentStackedBarChart,n.D.hundredPercentStackedColumnChart,n.D.ribbonChart],Ta=[n.D.clusteredBarChart,n.D.clusteredColumnChart],ci=[n.D.lineChart,n.D.areaChart,n.D.stackedAreaChart],ba=[n.D.lineClusteredColumnComboChart,n.D.lineStackedColumnComboChart],en=[n.D.hundredPercentStackedBarChart,n.D.hundredPercentStackedColumnChart],na=[...ba],oa=[...Ta,...Sa,...ci],ha=[...oa,...na],Nr=[...Ta,...Sa,...ci,...ba,n.D.realTimeLineChart,n.D.scatterChart,n.D.waterfallChart],tn=_.without(Nr,n.D.realTimeLineChart,n.D.scatterChart),Va=_.without(Nr,n.D.realTimeLineChart),rn=[n.D.stackedAreaChart,n.D.columnChart,n.D.clusteredColumnChart,n.D.barChart,n.D.clusteredBarChart,n.D.lineClusteredColumnComboChart,n.D.lineStackedColumnComboChart],Bi=[n.D.lineClusteredColumnComboChart,n.D.lineStackedColumnComboChart],an=[...Ta,...Sa,...ba,n.D.lineChart],nn=[n.D.azureMap,n.D.filledMap,n.D.heatMap,n.D.map],xr=[...Sa,...Ta,...ci,...ba],sn=[{property:{objectName:"general",propertyName:"altText"},version:N.v3_1},{property:{objectName:"visualLink",propertyName:"type"},version:N.v3_5},{property:{objectName:"visualLink",propertyName:"type",matchByContents:qt=>qt.value===w.rp},version:x},{property:{objectName:"labels",propertyName:"enableBackground"},version:N.v3_9},{property:{objectName:"labels",propertyName:"backgroundColor"},version:N.v3_9},{property:{objectName:"labels",propertyName:"backgroundTransparency"},version:N.v3_9},{property:{objectName:"categoryLabels",propertyName:"labelEnableBackground"},version:N.v3_9},{property:{objectName:"categoryLabels",propertyName:"labelBackgroundColor"},version:N.v3_9},{property:{objectName:"categoryLabels",propertyName:"labelBackgroundTransparency"},version:N.v3_9},{property:{objectName:"dateRange",propertyName:"anchorDate"},version:N.v3_9},{property:{objectName:"categoryAxis",propertyName:"maxMarginFactor"},version:N.v3_9},{property:{objectName:"categoryAxis",propertyName:"innerPadding"},version:N.v3_9},{property:{objectName:"columnFormatting",propertyName:"labelDisplayUnits"},version:N.v3_12},{property:{objectName:"columnFormatting",propertyName:"labelPrecision"},version:N.v3_12},{property:{objectName:"visualTooltip",propertyName:"type",matchByContents:qt=>qt.value===D.Xz},version:Z},{property:{objectName:"lineStyles",propertyName:"lineStyle"},version:N.v3_13,types:[n.D.lineClusteredColumnComboChart,n.D.lineStackedColumnComboChart]},{property:{objectName:"legend",propertyName:"legendMarkerRendering"},version:N.v3_13,types:[n.D.lineClusteredColumnComboChart,n.D.lineStackedColumnComboChart]},{property:{objectName:"legend",propertyName:"defaultToCircle"},version:N.v3_13,types:[n.D.lineClusteredColumnComboChart,n.D.lineStackedColumnComboChart]},{property:{objectName:"legend",propertyName:"matchLineColor"},version:N.v3_13,types:[n.D.lineClusteredColumnComboChart,n.D.lineStackedColumnComboChart]},{property:{objectName:"visualLink",propertyName:"type",matchByContents:qt=>qt.value===w.sv},version:re},{property:{objectName:"labels",propertyName:"funnelLabelStyle"},version:N.v3_14,types:[n.D.funnel]},{property:{objectName:"dataPoint",propertyName:"fillRule",matchByContents:pi},version:N.v3_15},{property:{objectName:"values",propertyName:"backColor",matchByContents:pi},version:N.v3_15},{property:{objectName:"values",propertyName:"fontColor",matchByContents:pi},version:N.v3_15},{property:{objectName:"outspace",propertyName:i.p5},version:Ve,types:["page"]},{property:{objectName:"visualHeader",propertyName:i.p5},version:ke},{property:{objectName:"visualTooltip",propertyName:"show"},version:N.v3_16},{property:{objectName:"categoryAxis",propertyName:"axisType",matchByContents:qt=>qt.value===s.w.categorical},version:Ct,types:[n.D.scatterChart]},{property:{objectName:"searchBox",propertyName:i.p5},version:N.v3_19,types:[n.D.slicer]},{property:{objectName:"rowHeaders",propertyName:"showExpandCollapseButtons"},version:Ae,types:[n.D.pivotTable]},{property:{objectName:"dataPoint",propertyName:"fill",matchByContents:(qt,nr)=>nr&&nr.data&&1===nr.data.length&&(0,h.qm)(nr.data[0])},version:we,types:Di},{property:{objectName:"filterCard",propertyName:i.p5},version:Se,types:["page"]},{property:{objectName:"outspacePane",propertyName:i.p5},version:Se,types:["page"]},{property:{objectName:"outspacePane",propertyName:"expanded"},version:Se,types:["report"]},{property:{objectName:"outspacePane",propertyName:"visible"},version:Se,types:["report"]},{property:{objectName:"visualLink",propertyName:"tooltip"},version:Ee},{property:{objectName:"general",propertyName:"requireSingleSelect"},version:xe,types:["filter"]},{property:{objectName:"title",propertyName:"titleWrap"},version:he},{property:{objectName:"border",propertyName:"radius"},version:Ce},{property:{objectName:"visualLink",propertyName:"webUrl"},version:je},{property:{objectName:"selection",propertyName:"strictSingleSelect"},version:pe,types:[n.D.slicer]},{property:{objectName:"visualTooltip",propertyName:"fontColor"},version:Qe},{property:{objectName:"visualTooltip",propertyName:"fontSize"},version:Qe},{property:{objectName:"visualTooltip",propertyName:"fontFamily"},version:Qe},{property:{objectName:"visualTooltip",propertyName:"background"},version:Qe},{property:{objectName:"visualTooltip",propertyName:"transparency"},version:Qe},{property:{objectName:"displayArea",propertyName:"verticalAlignment"},version:ut,types:["page"]},{property:{objectName:"section",propertyName:"verticalAlignment"},version:ut,types:["report"]},{property:{objectName:"title",propertyName:"text",isExprBound:!0},version:ne},{property:{objectName:"indicator",propertyName:"fontSize"},version:N.v4_1,types:[n.D.kpi]},{property:{objectName:"labels",propertyName:"labelPosition"},version:N.v4_1,types:[n.D.lineChart]},{property:{objectName:"title",propertyName:"fontColor",matchByContents:(qt,nr)=>{var yr=qt&&qt.solid&&qt.solid.color;return!((0,r.VC)(yr)||(0,r.wt)(yr))}},version:Fe},{property:{objectName:"title",propertyName:"background",matchByContents:(qt,nr)=>{var yr=qt&&qt.solid&&qt.solid.color;return!((0,r.VC)(yr)||(0,r.wt)(yr))}},version:Fe},{property:{objectName:"labels",propertyName:"color",matchByContents:(qt,nr)=>{var yr=qt&&qt.solid&&qt.solid.color;return!((0,r.VC)(yr)||(0,r.wt)(yr))}},version:Fe,types:[n.D.card]},{property:{objectName:"categoryLabels",propertyName:"color",matchByContents:(qt,nr)=>{var yr=qt&&qt.solid&&qt.solid.color;return!((0,r.VC)(yr)||(0,r.wt)(yr))}},version:Fe,types:[n.D.card]},{property:{objectName:"subTotals",propertyName:"rowSubtotalsLabel"},types:[n.D.pivotTable],version:N.v4_2},{property:{objectName:"subTotals",propertyName:"columnSubtotalsLabel"},types:[n.D.pivotTable],version:N.v4_2},{property:{objectName:"subTotals",propertyName:"levelSubtotalLabel"},types:[n.D.pivotTable],version:N.v4_2},{property:{objectName:"total",propertyName:"label"},types:[n.D.tableEx],version:N.v4_2},{property:{objectName:"visualHeader",propertyName:"showTooltipButton"},version:dt},{property:{objectName:"visualHeaderTooltip",propertyName:"section"},version:dt},{property:{objectName:"visualHeaderTooltip",propertyName:"text"},version:dt},{property:{objectName:"visualHeaderTooltip",propertyName:"titleFontColor"},version:dt},{property:{objectName:"visualHeaderTooltip",propertyName:"fontSize"},version:dt},{property:{objectName:"visualHeaderTooltip",propertyName:"fontFamily"},version:dt},{property:{objectName:"visualHeaderTooltip",propertyName:"background"},version:dt},{property:{objectName:"visualHeaderTooltip",propertyName:"transparency"},version:dt},{property:{objectName:"dataPoint",propertyName:"fill",matchByContents:(qt,nr)=>!(0,r.VC)(qt&&qt.solid&&qt.solid.color)},version:qe,types:[n.D.gauge]},{property:{objectName:"background",propertyName:"color",matchByContents:(qt,nr)=>{var yr=qt&&qt.solid&&qt.solid.color;return!((0,r.VC)(yr)||(0,r.wt)(yr))}},version:be},{property:{objectName:"keyDrivers",propertyName:"allowKeyDriversCounting",matchByContents:qt=>!0===qt.value},version:ae},{types:[n.D.pivotTable,n.D.tableEx],property:{objectName:"values",propertyName:"icon"},version:N.v5_1},{property:{objectName:"text",propertyName:"fontFamily"},types:[n.D.textbox],version:N.v5_3},{property:{objectName:"text",propertyName:"fontSize"},types:[n.D.textbox],version:N.v5_3},{property:{objectName:"text",propertyName:"color"},types:[n.D.textbox],version:N.v5_3},{property:{objectName:"general",propertyName:"altText",isExprBound:!0},version:it},{property:{objectName:"border",propertyName:"color",isExprBound:!0},version:We},{property:{objectName:"dataPoint",propertyName:"target",isExprBound:!0},version:yt,types:[n.D.gauge]},{property:{objectName:"labels",propertyName:"color",isExprBound:!0},version:yt,types:[n.D.gauge]},{property:{objectName:"target",propertyName:"color",isExprBound:!0},version:yt,types:[n.D.gauge]},{property:{objectName:"calloutValue",propertyName:"color",isExprBound:!0},version:yt,types:[n.D.gauge]},{property:{objectName:"pageRefresh",propertyName:"show"},version:et,types:["page"]},{property:{objectName:"pageRefresh",propertyName:"duration"},version:et,types:["page"]},{property:{objectName:"text",propertyName:"text",isExprBound:!0},version:mt,types:[n.D.actionButton]},{property:{objectName:"text",propertyName:"fontColor",isExprBound:!0},version:mt,types:[n.D.actionButton]},{property:{objectName:"icon",propertyName:"lineColor",isExprBound:!0},version:mt,types:[n.D.actionButton]},{property:{objectName:"outline",propertyName:"lineColor",isExprBound:!0},version:mt,types:[n.D.actionButton]},{property:{objectName:"fill",propertyName:"fillColor",isExprBound:!0},version:mt,types:[n.D.actionButton]},{property:{objectName:"visualLink",propertyName:"tooltip",isExprBound:!0},version:mt},{types:[n.D.kpi],property:{objectName:"indicator",propertyName:"fontFamily"},version:ie},{types:[n.D.kpi],property:{objectName:"indicator",propertyName:"fontColor"},version:ie},{types:[n.D.kpi],property:{objectName:"indicator",propertyName:"verticalAlignment"},version:ie},{types:[n.D.kpi],property:{objectName:"indicator",propertyName:"horizontalAlignment"},version:ie},{types:[n.D.kpi],property:{objectName:"trendline",propertyName:"transparency"},version:ie},{types:[n.D.kpi],property:{objectName:"goals",propertyName:"goalText"},version:ie},{types:[n.D.kpi],property:{objectName:"goals",propertyName:"fontSize"},version:ie},{types:[n.D.kpi],property:{objectName:"goals",propertyName:"goalFontFamily"},version:ie},{types:[n.D.kpi],property:{objectName:"goals",propertyName:"goalFontColor"},version:ie},{types:[n.D.kpi],property:{objectName:"goals",propertyName:"distanceLabel"},version:ie},{types:[n.D.kpi],property:{objectName:"goals",propertyName:"percentageLabelPrecision"},version:ie},{types:[n.D.kpi],property:{objectName:"goals",propertyName:"titleFontSize"},version:ie},{types:[n.D.kpi],property:{objectName:"goals",propertyName:"distanceFontFamily"},version:ie},{types:[n.D.kpi],property:{objectName:"goals",propertyName:"distanceFontColor"},version:ie},{types:[n.D.kpi],property:{objectName:"goals",propertyName:"direction"},version:ie},{types:[n.D.kpi],property:{objectName:"period",propertyName:"show"},version:ie},{types:[n.D.kpi],property:{objectName:"period",propertyName:"fontSize"},version:ie},{types:[n.D.kpi],property:{objectName:"period",propertyName:"periodFontFamily"},version:ie},{types:[n.D.kpi],property:{objectName:"period",propertyName:"periodFontColor"},version:ie},{types:[n.D.pivotTable,n.D.tableEx],property:{objectName:"values",propertyName:"webURL"},version:N.v5_6},{types:[n.D.decompositionTreeVisual],property:{objectName:t.I8.categoryLabels,propertyName:t.hq.categoryLabelFontColor},version:N.v5_6},{types:[n.D.decompositionTreeVisual],property:{objectName:t.I8.categoryLabels,propertyName:t.hq.categoryLabelFontFamily},version:N.v5_6},{types:[n.D.decompositionTreeVisual],property:{objectName:t.I8.categoryLabels,propertyName:t.hq.categoryLabelFontSize},version:N.v5_6},{types:[n.D.decompositionTreeVisual],property:{objectName:t.I8.dataLabels,propertyName:t.hq.dataLabelFontColor},version:N.v5_6},{types:[n.D.decompositionTreeVisual],property:{objectName:t.I8.dataLabels,propertyName:t.hq.dataLabelFontFamily},version:N.v5_6},{types:[n.D.decompositionTreeVisual],property:{objectName:t.I8.dataLabels,propertyName:t.hq.dataLabelFontSize},version:N.v5_6},{types:[n.D.decompositionTreeVisual],property:{objectName:t.I8.dataLabels,propertyName:t.hq.dataLabelDisplayUnits},version:N.v5_6},{types:[n.D.decompositionTreeVisual],property:{objectName:t.I8.dataLabels,propertyName:t.hq.dataLabelPrecision},version:N.v5_6},{types:[n.D.decompositionTreeVisual],property:{objectName:t.I8.dataBars,propertyName:t.hq.dataBarBackgroundColor},version:N.v5_6},{types:[n.D.decompositionTreeVisual],property:{objectName:t.I8.dataBars,propertyName:t.hq.dataBarWidthPercent},version:N.v5_6},{types:[n.D.decompositionTreeVisual],property:{objectName:t.I8.levelHeader,propertyName:t.hq.levelHeaderBackgroundColor},version:N.v5_6},{types:[n.D.decompositionTreeVisual],property:{objectName:t.I8.levelHeader,propertyName:t.hq.levelTitleFontColor},version:N.v5_6},{types:[n.D.decompositionTreeVisual],property:{objectName:t.I8.levelHeader,propertyName:t.hq.levelTitleFontFamily},version:N.v5_6},{types:[n.D.decompositionTreeVisual],property:{objectName:t.I8.levelHeader,propertyName:t.hq.levelTitleFontSize},version:N.v5_6},{types:[n.D.decompositionTreeVisual],property:{objectName:t.I8.levelHeader,propertyName:t.hq.levelSubtitleFontColor},version:N.v5_6},{types:[n.D.decompositionTreeVisual],property:{objectName:t.I8.levelHeader,propertyName:t.hq.levelSubtitleFontFamily},version:N.v5_6},{types:[n.D.decompositionTreeVisual],property:{objectName:t.I8.levelHeader,propertyName:t.hq.levelSubtitleFontSize},version:N.v5_6},{types:[n.D.decompositionTreeVisual],property:{objectName:t.I8.levelHeader,propertyName:t.hq.showSubtitles},version:N.v5_6},{types:[n.D.decompositionTreeVisual],property:{objectName:t.I8.tree,propertyName:t.hq.connectorDefaultColor},version:N.v5_6},{types:["page"],property:{objectName:"outspacePane",propertyName:"inputBoxColor"},version:Y},{types:["page"],property:{objectName:"outspacePane",propertyName:"searchTextSize"},version:Y},{types:[n.D.actionButton],property:{objectName:"visualLink",propertyName:"navigationSection"},version:N.v5_8},{types:[n.D.actionButton],property:{objectName:"visualLink",propertyName:"drillthroughSection"},version:N.v5_8},{property:{objectName:"y2Axis",propertyName:"show"},version:St},{property:{objectName:"y2Axis",propertyName:"secAxisLabel"},version:St},{property:{objectName:"y2Axis",propertyName:"secLogAxisScale"},version:St},{property:{objectName:"y2Axis",propertyName:"secStart"},version:St},{property:{objectName:"y2Axis",propertyName:"secEnd"},version:St},{property:{objectName:"y2Axis",propertyName:"secShowAxisTitle"},version:St},{property:{objectName:"y2Axis",propertyName:"secAxisStyle"},version:St},{property:{objectName:"y2Axis",propertyName:"secLabelColor"},version:St},{property:{objectName:"y2Axis",propertyName:"secFontFamily"},version:St},{property:{objectName:"y2Axis",propertyName:"secFontSize"},version:St},{property:{objectName:"y2Axis",propertyName:"secLabelDisplayUnits"},version:St},{property:{objectName:"y2Axis",propertyName:"secLabelPrecision"},version:St},{property:{objectName:"y2Axis",propertyName:"secTitleColor"},version:St},{property:{objectName:"y2Axis",propertyName:"secTitleFontFamily"},version:St},{property:{objectName:"y2Axis",propertyName:"secTitleFontSize"},version:St},{property:{objectName:"y2Axis",propertyName:"secTitleText"},version:St},{types:[n.D.decompositionTreeVisual],property:{objectName:t.I8.tree,propertyName:t.hq.barsPerLevel},version:Ze},{types:["page"],property:{objectName:"pageRefresh",propertyName:"refreshType"},version:Rt},{property:{objectName:"visualHeader",propertyName:"showPersonalizeVisualButton"},version:Gt},{property:{objectName:"general",propertyName:"isInvertedSelectionMode"},version:ar,types:["filter"]},{types:[n.D.slicer],property:{objectName:"data",propertyName:"mode",matchByContents:qt=>qt.value===m.GV},version:Ht},{types:["tableEx","pivotTable"],property:{objectName:"values",propertyName:"backColor",matchByContents:(qt,nr)=>void 0!==di(nr)},version:N.v5_9},{types:["tableEx","pivotTable"],property:{objectName:"values",propertyName:"fontColor",matchByContents:(qt,nr)=>void 0!==di(nr)},version:N.v5_9},{types:["tableEx","pivotTable"],property:{objectName:"values",propertyName:"icon",matchByContents:(qt,nr)=>{var fr=di(nr);return void 0!==fr&&fr!==y.v.InstancesOnly}},version:N.v5_9},{types:["tableEx","pivotTable"],property:{objectName:"values",propertyName:"webURL",matchByContents:(qt,nr)=>{var fr=di(nr);return void 0!==fr&&fr!==y.v.InstancesOnly}},version:N.v5_9},{types:[n.D.actionButton],property:{objectName:"fill",propertyName:"image"},version:N.v5_10},{types:[n.D.actionButton],property:{objectName:"visualLink",propertyName:"enabledTooltip",isExprBound:!0},version:N.v5_10},{types:[n.D.actionButton],property:{objectName:"visualLink",propertyName:"disabledTooltip",isExprBound:!0},version:N.v5_10},{types:[n.D.actionButton],property:{objectName:"visualLink",propertyName:"drillthroughSection",isExprBound:!0},version:N.v5_10},{types:[n.D.actionButton],property:{objectName:"visualLink",propertyName:"navigationSection",isExprBound:!0},version:N.v5_10},{types:[n.D.image,n.D.basicShape],property:{objectName:"visualLink",propertyName:"navigationSection"},version:N.v5_10},{types:[n.D.slicer,n.D.filterSlicer],property:{objectName:"items",propertyName:"steppedLayoutIndentation"},version:N.v5_10},{types:[n.D.slicer,n.D.filterSlicer],property:{objectName:"items",propertyName:"expandCollapseToggleType"},version:N.v5_10},{types:[n.D.kpi],property:{objectName:"indicator",propertyName:"iconSize"},version:Mt},{types:[n.D.kpi],property:{objectName:"indicator",propertyName:"showIcon"},version:Mt},{types:[n.D.lineChart,n.D.areaChart,n.D.stackedAreaChart],property:{objectName:"dataPoint",propertyName:"showAllDataPoints"},version:Bt},{types:[n.D.map,n.D.filledMap,n.D.heatMap],property:{objectName:"dataPoint",propertyName:"transparency"},version:ze},{types:[n.D.map,n.D.filledMap,n.D.heatMap],property:{objectName:"mapControls",propertyName:"minZoom"},version:ze},{types:[n.D.map,n.D.filledMap,n.D.heatMap],property:{objectName:"mapControls",propertyName:"maxZoom"},version:ze},{types:[n.D.map,n.D.filledMap,n.D.heatMap],property:{objectName:"mapStyles",propertyName:"showLabels"},version:ze},{types:[n.D.filledMap],property:{objectName:"stroke",propertyName:"show"},version:ze},{types:[n.D.filledMap],property:{objectName:"stroke",propertyName:"strokeColor"},version:ze},{types:[n.D.filledMap],property:{objectName:"stroke",propertyName:"strokeWidth"},version:ze},{types:[n.D.textbox],property:{...g.RL.general.paragraphs,matchByContents:(qt,nr)=>{if((0,P.Fq)(qt))for(var fr of qt)if(fr&&!_.isEmpty(fr.textRuns))for(var yr of fr.textRuns)if((0,T.Kt)(yr))return!0;return!1}},version:st},{types:[n.D.decompositionTreeVisual],property:{objectName:t.I8.tree,propertyName:t.hq.defaultClickAction},version:Lt},{types:[n.D.decompositionTreeVisual],property:{objectName:t.I8.tree,propertyName:t.hq.responsiveLayout},version:Lt},{types:[n.D.decompositionTreeVisual],property:{objectName:t.I8.tree,propertyName:t.hq.effectiveBarsPerLevel},version:Lt},{types:[n.D.decompositionTreeVisual],property:{objectName:t.I8.dataBars,propertyName:t.hq.dataBarColor},version:Lt},{types:[n.D.decompositionTreeVisual],property:{objectName:t.I8.dataBars,propertyName:t.hq.axisStart},version:Lt},{types:[n.D.decompositionTreeVisual],property:{objectName:t.I8.dataBars,propertyName:t.hq.axisEnd},version:Lt},{types:[n.D.decompositionTreeVisual],property:{objectName:"general",propertyName:"formatString"},version:Lt},{types:[n.D.qnaVisual],property:{objectName:"inputBox",propertyName:"warningColor"},version:$t},{types:[n.D.slicer,n.D.filterSlicer],property:{objectName:"header",propertyName:"text"},version:lr},{types:[n.D.barChart,n.D.columnChart,n.D.clusteredBarChart,n.D.clusteredColumnChart,n.D.hundredPercentStackedBarChart,n.D.hundredPercentStackedColumnChart,n.D.scatterChart],property:{objectName:"legend",propertyName:"showGradientLegend"},version:Qt},{types:[n.D.qnaVisual],property:{objectName:"inputBox",propertyName:"commitButtonBackgroundColor"},version:gr},{property:{objectName:"dropShadow",propertyName:"*"},version:_r},{types:["page"],property:{objectName:"personalizeVisual",propertyName:"perspectiveRef"},version:Mr},{types:["page"],property:{objectName:"personalizeVisual",propertyName:"show"},version:Lr},{property:{objectName:"general",propertyName:"keepLayerOrder"},version:Fr},{property:g.RL.values.expr,types:[n.D.textbox],version:Br},{property:g.RL.values.formatString,types:[n.D.textbox],version:Br},{types:[n.D.areaChart,n.D.barChart,n.D.columnChart,n.D.lineStackedColumnComboChart,n.D.hundredPercentStackedBarChart,n.D.hundredPercentStackedColumnChart,n.D.stackedAreaChart],property:{objectName:"totals",propertyName:"show"},version:wr},{types:[n.D.barChart,n.D.columnChart,n.D.lineStackedColumnComboChart,n.D.hundredPercentStackedBarChart,n.D.hundredPercentStackedColumnChart,n.D.stackedAreaChart],property:{objectName:"totals",propertyName:"color"},version:wr},{types:[n.D.barChart,n.D.columnChart,n.D.lineStackedColumnComboChart,n.D.hundredPercentStackedBarChart,n.D.hundredPercentStackedColumnChart,n.D.stackedAreaChart],property:{objectName:"totals",propertyName:"labelDisplayUnits"},version:wr},{types:[n.D.barChart,n.D.columnChart,n.D.lineStackedColumnComboChart,n.D.hundredPercentStackedBarChart,n.D.hundredPercentStackedColumnChart,n.D.stackedAreaChart],property:{objectName:"totals",propertyName:"labelPrecision"},version:wr},{types:[n.D.barChart,n.D.columnChart,n.D.lineStackedColumnComboChart,n.D.hundredPercentStackedBarChart,n.D.hundredPercentStackedColumnChart,n.D.stackedAreaChart],property:{objectName:"totals",propertyName:"enableBackground"},version:wr},{types:[n.D.barChart,n.D.columnChart,n.D.lineStackedColumnComboChart,n.D.hundredPercentStackedBarChart,n.D.hundredPercentStackedColumnChart,n.D.stackedAreaChart],property:{objectName:"totals",propertyName:"backgroundColor"},version:wr},{types:[n.D.barChart,n.D.columnChart,n.D.lineStackedColumnComboChart,n.D.hundredPercentStackedBarChart,n.D.hundredPercentStackedColumnChart,n.D.stackedAreaChart],property:{objectName:"totals",propertyName:"backgroundTransparency"},version:wr},{types:[n.D.barChart,n.D.columnChart,n.D.lineStackedColumnComboChart,n.D.hundredPercentStackedBarChart,n.D.hundredPercentStackedColumnChart,n.D.stackedAreaChart],property:{objectName:"totals",propertyName:"fontSize"},version:wr},{types:[n.D.barChart,n.D.columnChart,n.D.lineStackedColumnComboChart,n.D.hundredPercentStackedBarChart,n.D.hundredPercentStackedColumnChart,n.D.stackedAreaChart],property:{objectName:"totals",propertyName:"fontFamily"},version:wr},{types:[n.D.barChart,n.D.columnChart,n.D.lineStackedColumnComboChart,n.D.hundredPercentStackedBarChart,n.D.hundredPercentStackedColumnChart],property:{objectName:"totals",propertyName:"showPositiveAndNegative"},version:wr},{property:{objectName:"outspacePane",propertyName:"checkboxAndApplyColor"},types:["page"],version:mr},...["show","transform","displayName","markerShape","markerShapeSize","markerColor","confidenceBandStyle","confidenceBandColor","CategoryValue","Value","ExpectedValue","ExpectedLow","ExpectedHigh","BatchStart","BatchEnd","sensitivity","explainBy","isAnomalyHighlighted"].map(qt=>({types:[n.D.lineChart],property:{objectName:"anomalyDetection",propertyName:qt},version:jr})),{types:[n.D.decompositionTreeVisual],property:{objectName:t.I8.insights,propertyName:t.hq.isAINode},version:Hr},{types:[n.D.areaChart,n.D.barChart,n.D.clusteredBarChart,n.D.clusteredColumnChart,n.D.columnChart,n.D.hundredPercentStackedBarChart,n.D.hundredPercentStackedColumnChart,n.D.lineChart,n.D.lineClusteredColumnComboChart,n.D.lineStackedColumnComboChart,n.D.ribbonChart,n.D.scatterChart,n.D.stackedAreaChart],property:{objectName:"zoom",propertyName:"*"},version:ea},{types:oa,property:{objectName:"subheader",propertyName:"fontFamily"},version:Rr},{types:oa,property:{objectName:"subheader",propertyName:"fontSize"},version:Rr},{types:oa,property:{objectName:"subheader",propertyName:"fontColor",isExprBound:!1},version:Rr},{types:oa,property:{objectName:"subheader",propertyName:"alignment"},version:Rr},{types:oa,property:{objectName:"subheader",propertyName:"position"},version:Rr},{types:oa,property:{objectName:"smallMultiplesLayout",propertyName:"layoutType"},version:Rr},{types:oa,property:{objectName:"smallMultiplesLayout",propertyName:"rowCount"},version:Rr},{types:oa,property:{objectName:"smallMultiplesLayout",propertyName:"columnCount"},version:Rr},{property:{objectName:"dataPoint",propertyName:"fill",isExprBound:!0},version:qr,types:[n.D.azureMap]},{types:oa,property:{objectName:"smallMultiplesLayout",propertyName:"backgroundColor",isExprBound:!1},version:Ir},{types:oa,property:{objectName:"smallMultiplesLayout",propertyName:"backgroundTransparency"},version:Ir},{types:oa,property:{objectName:"smallMultiplesLayout",propertyName:"gridLineType"},version:Ir},{types:oa,property:{objectName:"smallMultiplesLayout",propertyName:"gridLineColor"},version:Ir},{types:oa,property:{objectName:"smallMultiplesLayout",propertyName:"gridLineWidth"},version:Ir},{types:oa,property:{objectName:"smallMultiplesLayout",propertyName:"gridLineStyle"},version:Ir},{types:[n.D.map,n.D.filledMap,n.D.heatMap],property:{objectName:"mapControls",propertyName:"geocodingCulture"},version:Jr},{types:[n.D.azureMap],property:{objectName:"mapControls",propertyName:"showSelectionControl"},version:zr},{types:oa,property:{objectName:"subheader",propertyName:"titleWrap"},version:hr},{types:["group"],property:{objectName:"lockAspect",propertyName:"show"},version:Or},{types:[n.D.lineChart],property:{objectName:"xAxisReferenceLine",propertyName:"*"},version:Xr},{types:ha,property:{objectName:"smallMultiplesLayout",propertyName:"gridPadding"},version:It},{types:ha,property:{objectName:"smallMultiplesLayout",propertyName:"advancedPaddingOptions"},version:It},{types:ha,property:{objectName:"smallMultiplesLayout",propertyName:"columnPaddingInner"},version:It},{types:ha,property:{objectName:"smallMultiplesLayout",propertyName:"columnPaddingOuter"},version:It},{types:ha,property:{objectName:"smallMultiplesLayout",propertyName:"rowPaddingInner"},version:It},{types:ha,property:{objectName:"smallMultiplesLayout",propertyName:"rowPaddingOuter"},version:It},{types:na,property:{objectName:"subheader",propertyName:"fontFamily"},version:Pt},{types:na,property:{objectName:"subheader",propertyName:"fontSize"},version:Pt},{types:na,property:{objectName:"subheader",propertyName:"fontColor",isExprBound:!1},version:Pt},{types:na,property:{objectName:"subheader",propertyName:"alignment"},version:Pt},{types:na,property:{objectName:"subheader",propertyName:"position"},version:Pt},{types:na,property:{objectName:"smallMultiplesLayout",propertyName:"layoutType"},version:Pt},{types:na,property:{objectName:"smallMultiplesLayout",propertyName:"rowCount"},version:Pt},{types:na,property:{objectName:"smallMultiplesLayout",propertyName:"columnCount"},version:Pt},{types:na,property:{objectName:"smallMultiplesLayout",propertyName:"backgroundColor",isExprBound:!1},version:Pt},{types:na,property:{objectName:"smallMultiplesLayout",propertyName:"backgroundTransparency"},version:Pt},{types:na,property:{objectName:"smallMultiplesLayout",propertyName:"gridLineType"},version:Pt},{types:na,property:{objectName:"smallMultiplesLayout",propertyName:"gridLineColor"},version:Pt},{types:na,property:{objectName:"smallMultiplesLayout",propertyName:"gridLineWidth"},version:Pt},{types:na,property:{objectName:"smallMultiplesLayout",propertyName:"gridLineStyle"},version:Pt},{types:na,property:{objectName:"subheader",propertyName:"titleWrap"},version:Pt},{types:[n.D.areaChart,n.D.barChart,n.D.clusteredBarChart,n.D.clusteredColumnChart,n.D.columnChart,n.D.hundredPercentStackedBarChart,n.D.hundredPercentStackedColumnChart,n.D.lineChart,n.D.lineClusteredColumnComboChart,n.D.lineStackedColumnComboChart,n.D.ribbonChart,n.D.scatterChart,n.D.stackedAreaChart],property:{objectName:"categoryAxis",propertyName:"invertAxis"},version:tt},{types:[n.D.areaChart,n.D.barChart,n.D.clusteredBarChart,n.D.clusteredColumnChart,n.D.columnChart,n.D.hundredPercentStackedBarChart,n.D.hundredPercentStackedColumnChart,n.D.lineChart,n.D.lineClusteredColumnComboChart,n.D.lineStackedColumnComboChart,n.D.ribbonChart,n.D.scatterChart,n.D.stackedAreaChart,n.D.waterfallChart],property:{objectName:"valueAxis",propertyName:"invertAxis"},version:tt},{types:[n.D.areaChart,n.D.barChart,n.D.clusteredBarChart,n.D.clusteredColumnChart,n.D.columnChart,n.D.hundredPercentStackedBarChart,n.D.hundredPercentStackedColumnChart,n.D.lineChart,n.D.lineClusteredColumnComboChart,n.D.lineStackedColumnComboChart,n.D.ribbonChart,n.D.scatterChart,n.D.stackedAreaChart],property:{objectName:"y2Axis",propertyName:"secInvertAxis"},version:tt},{types:[n.D.areaChart,n.D.barChart,n.D.clusteredBarChart,n.D.clusteredColumnChart,n.D.columnChart,n.D.hundredPercentStackedBarChart,n.D.hundredPercentStackedColumnChart,n.D.lineChart,n.D.lineClusteredColumnComboChart,n.D.lineStackedColumnComboChart,n.D.ribbonChart,n.D.scatterChart,n.D.stackedAreaChart],property:{objectName:"valueAxis",propertyName:"secInvertAxis"},version:tt},{property:{objectName:"visualTooltip",propertyName:"actionFontColor"},version:_e},{property:{objectName:"visualTooltip",propertyName:"themedTitleFontColor"},version:_e},{property:{objectName:"visualTooltip",propertyName:"themedValueFontColor"},version:_e},{property:{objectName:"visualTooltip",propertyName:"themedBackground"},version:_e},{property:{objectName:"fill",propertyName:"fillColor",isExprBound:!0},version:N.v5_21,types:[n.D.shape]},{property:{objectName:"outline",propertyName:"lineColor",isExprBound:!0},version:N.v5_21,types:[n.D.shape]},{property:{objectName:"text",propertyName:"text",isExprBound:!0},version:N.v5_21,types:[n.D.shape]},{property:{objectName:"text",propertyName:"fontColor",isExprBound:!0},version:N.v5_21,types:[n.D.shape]},{property:{objectName:"shadow",propertyName:"color",isExprBound:!0},version:N.v5_21,types:[n.D.shape]},{property:{objectName:"glow",propertyName:"color",isExprBound:!0},version:N.v5_21,types:[n.D.shape]},{types:[n.D.map,n.D.filledMap,n.D.heatMap],property:{objectName:"mapControls",propertyName:"showLassoButton"},version:Ge},{types:[n.D.lineChart,n.D.areaChart,n.D.stackedAreaChart],property:{objectName:"dataPoint",propertyName:"fill",matchByContents:(qt,nr)=>!nr||nr&&nr.data&&1===nr.data.length&&(0,h.qm)(nr.data[0])},version:Xe},{types:[n.D.shapeMap],property:{objectName:"shape",propertyName:"map",matchByContents:qt=>{if(qt){var fr=qt.name;if(fr)return fr.value===c.G}return!1}},version:at},{property:{objectName:"visualHeaderTooltip",propertyName:"themedTitleFontColor"},version:Re},{property:{objectName:"visualHeaderTooltip",propertyName:"themedBackground"},version:Re},{types:[n.D.lineChart,n.D.areaChart,n.D.stackedAreaChart],property:{objectName:"dataPoint",propertyName:"transparency"},version:pt},{types:ha,property:{objectName:"subheader",propertyName:"show"},version:ue},{types:ha,property:{objectName:"subheader",propertyName:"fontColor",isExprBound:!0},version:N.v5_22},{types:ha,property:{objectName:"smallMultiplesLayout",propertyName:"backgroundColor",isExprBound:!0},version:N.v5_22},{types:[n.D.azureMap,n.D.donutChart,n.D.pieChart,n.D.map,n.D.filledMap,n.D.shapeMap,n.D.treemap,...Nr],property:{objectName:"legend",propertyName:"labelColor",isExprBound:!0},version:Jt},{types:[n.D.azureMap,n.D.donutChart,n.D.pieChart,n.D.funnel,n.D.map,n.D.filledMap,n.D.shapeMap,...Va],property:{objectName:"dataPoint",propertyName:"fill",isExprBound:!0},version:Jt},{types:[n.D.donutChart,n.D.pieChart,n.D.funnel,n.D.map,n.D.filledMap,n.D.treemap,...tn],property:{objectName:"labels",propertyName:"color",isExprBound:!0},version:Jt},{types:rn,property:{objectName:"totals",propertyName:"color",isExprBound:!0},version:Jt},{types:[n.D.funnel],property:{objectName:"percentBarLabel",propertyName:"color",isExprBound:!0},version:Jt},{types:[n.D.funnel],property:{objectName:"categoryAxis",propertyName:"color",isExprBound:!0},version:Jt},{types:Va,property:{objectName:"categoryAxis",propertyName:"start",isExprBound:!0},version:Jt},{types:Va,property:{objectName:"categoryAxis",propertyName:"end",isExprBound:!0},version:Jt},{types:Va,property:{objectName:"categoryAxis",propertyName:"titleColor",isExprBound:!0},version:Jt},{types:Va,property:{objectName:"categoryAxis",propertyName:"gridlineColor",isExprBound:!0},version:Jt},{types:Nr,property:{objectName:"categoryAxis",propertyName:"labelColor",isExprBound:!0},version:Jt},{types:Va,property:{objectName:"valueAxis",propertyName:"start",isExprBound:!0},version:Jt},{types:Va,property:{objectName:"valueAxis",propertyName:"end",isExprBound:!0},version:Jt},{types:Va,property:{objectName:"valueAxis",propertyName:"titleColor",isExprBound:!0},version:Jt},{types:Va,property:{objectName:"valueAxis",propertyName:"gridlineColor",isExprBound:!0},version:Jt},{types:Nr,property:{objectName:"valueAxis",propertyName:"labelColor",isExprBound:!0},version:Jt},{types:Bi,property:{objectName:"valueAxis",propertyName:"secStart",isExprBound:!0},version:Jt},{types:Bi,property:{objectName:"valueAxis",propertyName:"secEnd",isExprBound:!0},version:Jt},{types:[n.D.areaChart,n.D.lineChart],property:{objectName:"y2Axis",propertyName:"secStart",isExprBound:!0},version:Jt},{types:[n.D.areaChart,n.D.lineChart],property:{objectName:"y2Axis",propertyName:"secEnd",isExprBound:!0},version:Jt},{types:[n.D.multiRowCard],property:{objectName:"cardTitle",propertyName:"color",isExprBound:!0},version:Jt},{types:[n.D.multiRowCard],property:{objectName:"dataLabels",propertyName:"color",isExprBound:!0},version:Jt},{types:[n.D.multiRowCard,n.D.treemap],property:{objectName:"categoryLabels",propertyName:"color",isExprBound:!0},version:Jt},{types:[n.D.gauge],property:{objectName:"axis",propertyName:"min",isExprBound:!0},version:Jt},{types:[n.D.gauge],property:{objectName:"axis",propertyName:"max",isExprBound:!0},version:Jt},{types:[n.D.gauge],property:{objectName:"axis",propertyName:"target",isExprBound:!0},version:Jt},{types:[n.D.slicer],property:{objectName:"slider",propertyName:"color",isExprBound:!0},version:Jt},{types:[n.D.slicer],property:{objectName:"header",propertyName:"fontColor",isExprBound:!0},version:Jt},{types:[n.D.slicer],property:{objectName:"header",propertyName:"background",isExprBound:!0},version:Jt},{property:{objectName:"visualLink",propertyName:"showDefaultTooltip"},version:pr},{property:{objectName:"shape",propertyName:"arrowheadSize"},version:sr,types:[n.D.shape,n.D.actionButton]},{property:{objectName:"shape",propertyName:"arrowStemWidth"},version:sr,types:[n.D.shape,n.D.actionButton]},{property:{objectName:"shape",propertyName:"chevronAngle"},version:sr,types:[n.D.shape,n.D.actionButton]},{property:{objectName:"shape",propertyName:"isocelesTriangleTipPosition"},version:sr,types:[n.D.shape,n.D.actionButton]},{property:{objectName:"shape",propertyName:"parallelogramSlant"},version:sr,types:[n.D.shape,n.D.actionButton]},{property:{objectName:"shape",propertyName:"trapezoidSlant"},version:sr,types:[n.D.shape,n.D.actionButton]},{property:{objectName:"shape",propertyName:"hexagonSlant"},version:sr,types:[n.D.shape,n.D.actionButton]},{property:{objectName:"shape",propertyName:"octagonSnipSize"},version:sr,types:[n.D.shape,n.D.actionButton]},{property:{objectName:"shape",propertyName:"speechBubbleHeight"},version:sr,types:[n.D.shape,n.D.actionButton]},{property:{objectName:"shape",propertyName:"speechBubbleTailPosition"},version:sr,types:[n.D.shape,n.D.actionButton]},{property:{objectName:"shape",propertyName:"speechBubbleTailAngle"},version:sr,types:[n.D.shape,n.D.actionButton]},{property:{objectName:"shape",propertyName:"rectangleRoundedCurve"},version:sr,types:[n.D.shape,n.D.actionButton]},{property:{objectName:"shape",propertyName:"tabCutCornerSnipSizeTopRight"},version:sr,types:[n.D.shape,n.D.actionButton]},{property:{objectName:"shape",propertyName:"tabCutCornerSnipSizeTop"},version:sr,types:[n.D.shape,n.D.actionButton]},{property:{objectName:"shape",propertyName:"tabCutCornerSnipSizeBottom"},version:sr,types:[n.D.shape,n.D.actionButton]},{property:{objectName:"shape",propertyName:"tabRoundCornerTopRight"},version:sr,types:[n.D.shape,n.D.actionButton]},{property:{objectName:"shape",propertyName:"tabRoundCornerTop"},version:sr,types:[n.D.shape,n.D.actionButton]},{property:{objectName:"shape",propertyName:"tabRoundCornerBottom"},version:sr,types:[n.D.shape,n.D.actionButton]},{property:{objectName:"xAxisReferenceLine",propertyName:"*"},version:Xt,types:[n.D.areaChart,n.D.columnChart,n.D.barChart,n.D.clusteredBarChart,n.D.clusteredColumnChart,n.D.hundredPercentStackedBarChart,n.D.hundredPercentStackedColumnChart,n.D.lineStackedColumnComboChart,n.D.lineClusteredColumnComboChart,n.D.ribbonChart,n.D.stackedAreaChart]},{property:{objectName:"xAxisReferenceLine",propertyName:"value",isExprBound:!0},version:Xt,types:[n.D.lineChart]},{property:{objectName:"xAxisReferenceLine",propertyName:"shadeRegion"},version:Xt,types:[n.D.lineChart]},{property:{objectName:"xAxisReferenceLine",propertyName:"shadeColor"},version:Xt,types:[n.D.lineChart]},{property:{objectName:"xAxisReferenceLine",propertyName:"shadeTransparency"},version:Xt,types:[n.D.lineChart]},{property:{objectName:"title",propertyName:"heading"},version:Sr},{property:{objectName:"text",propertyName:"leftMargin"},version:Ye,types:[n.D.actionButton]},{property:{objectName:"text",propertyName:"rightMargin"},version:Ye,types:[n.D.actionButton]},{property:{objectName:"text",propertyName:"topMargin"},version:Ye,types:[n.D.actionButton]},{property:{objectName:"text",propertyName:"bottomMargin"},version:Ye,types:[n.D.actionButton]},{property:{objectName:"icon",propertyName:"image"},version:Ye,types:[n.D.actionButton]},{property:{objectName:"icon",propertyName:"leftMargin"},version:Ye,types:[n.D.actionButton]},{property:{objectName:"icon",propertyName:"rightMargin"},version:Ye,types:[n.D.actionButton]},{property:{objectName:"icon",propertyName:"topMargin"},version:Ye,types:[n.D.actionButton]},{property:{objectName:"icon",propertyName:"bottomMargin"},version:Ye,types:[n.D.actionButton]},{property:{objectName:"icon",propertyName:"placement"},version:Ye,types:[n.D.actionButton]},{property:{objectName:"icon",propertyName:"iconSize"},version:Ye,types:[n.D.actionButton]},{property:{objectName:"shape",propertyName:"*"},version:Ye,types:[n.D.actionButton]},{property:{objectName:"shadow",propertyName:"*"},version:Ye,types:[n.D.actionButton]},{property:{objectName:"glow",propertyName:"*"},version:Ye,types:[n.D.actionButton]},{property:{objectName:"rotation",propertyName:"*"},version:Ye,types:[n.D.actionButton]},{property:{objectName:"seriesLabels",propertyName:"*"},version:ht,types:[n.D.lineChart,n.D.areaChart,n.D.stackedAreaChart,n.D.lineClusteredColumnComboChart,n.D.lineStackedColumnComboChart]},{types:[n.D.waterfallChart],property:{objectName:"valueAxis",propertyName:"totalsEnabled"},version:gt},{types:[n.D.azureMap],property:{objectName:"heatMapLayer",propertyName:"*"},version:Vt},{types:[n.D.pageNavigator,n.D.bookmarkNavigator],property:{objectName:"background",propertyName:"show"},version:At},{types:[n.D.pageNavigator,n.D.bookmarkNavigator],property:{objectName:"visualHeader",propertyName:"show"},version:At},{property:{objectName:"slices",propertyName:"startAngle"},version:Yt,types:[n.D.donutChart,n.D.pieChart]},{types:[n.D.pieChart],property:{objectName:"slices",propertyName:"innerRadiusRatio"},version:rr},{types:[n.D.azureMap,n.D.donutChart,n.D.pieChart,n.D.map,n.D.filledMap,n.D.shapeMap,n.D.treemap,n.D.heatMap,...Nr],property:{objectName:"legend",propertyName:"bold"},version:Nt},{types:[n.D.azureMap,n.D.donutChart,n.D.pieChart,n.D.map,n.D.filledMap,n.D.shapeMap,n.D.treemap,n.D.heatMap,...Nr],property:{objectName:"legend",propertyName:"italic"},version:Nt},{types:[n.D.azureMap,n.D.donutChart,n.D.pieChart,n.D.map,n.D.filledMap,n.D.shapeMap,n.D.treemap,n.D.heatMap,...Nr],property:{objectName:"legend",propertyName:"underline"},version:Nt},{types:[n.D.funnel,n.D.scatterChart,...Nr],property:{objectName:"categoryAxis",propertyName:"bold"},version:Nt},{types:[n.D.funnel,n.D.scatterChart,...Nr],property:{objectName:"categoryAxis",propertyName:"italic"},version:Nt},{types:[n.D.funnel,n.D.scatterChart,...Nr],property:{objectName:"categoryAxis",propertyName:"underline"},version:Nt},{types:[...Nr],property:{objectName:"categoryAxis",propertyName:"titleBold"},version:Nt},{types:[...Nr],property:{objectName:"categoryAxis",propertyName:"titleItalic"},version:Nt},{types:[...Nr],property:{objectName:"categoryAxis",propertyName:"titleUnderline"},version:Nt},{types:[n.D.scatterChart,...Nr],property:{objectName:"valueAxis",propertyName:"bold"},version:Nt},{types:[n.D.scatterChart,...Nr],property:{objectName:"valueAxis",propertyName:"italic"},version:Nt},{types:[n.D.scatterChart,...Nr],property:{objectName:"valueAxis",propertyName:"underline"},version:Nt},{types:[...Nr],property:{objectName:"valueAxis",propertyName:"titleBold"},version:Nt},{types:[...Nr],property:{objectName:"valueAxis",propertyName:"titleItalic"},version:Nt},{types:[...Nr],property:{objectName:"valueAxis",propertyName:"titleUnderline"},version:Nt},{types:[...Nr],property:{objectName:"valueAxis",propertyName:"secBold"},version:Nt},{types:[...Nr],property:{objectName:"valueAxis",propertyName:"secItalic"},version:Nt},{types:[...Nr],property:{objectName:"valueAxis",propertyName:"secUnderline"},version:Nt},{types:[...Nr],property:{objectName:"valueAxis",propertyName:"secTitleBold"},version:Nt},{types:[...Nr],property:{objectName:"valueAxis",propertyName:"secTitleItalic"},version:Nt},{types:[...Nr],property:{objectName:"valueAxis",propertyName:"secTitleUnderline"},version:Nt},{types:[...Nr],property:{objectName:"y2Axis",propertyName:"secBold"},version:Nt},{types:[...Nr],property:{objectName:"y2Axis",propertyName:"secItalic"},version:Nt},{types:[...Nr],property:{objectName:"y2Axis",propertyName:"secUnderline"},version:Nt},{types:[...Nr],property:{objectName:"y2Axis",propertyName:"secTitleBold"},version:Nt},{types:[...Nr],property:{objectName:"y2Axis",propertyName:"secTitleItalic"},version:Nt},{types:[...Nr],property:{objectName:"y2Axis",propertyName:"secTitleUnderline"},version:Nt},{types:[n.D.azureMap,n.D.card,n.D.donutChart,n.D.funnel,n.D.gauge,n.D.pieChart,n.D.map,n.D.filledMap,n.D.shapeMap,n.D.treemap,...Nr],property:{objectName:"labels",propertyName:"bold"},version:Nt},{types:[n.D.azureMap,n.D.card,n.D.donutChart,n.D.funnel,n.D.gauge,n.D.pieChart,n.D.map,n.D.filledMap,n.D.shapeMap,n.D.treemap,...Nr],property:{objectName:"labels",propertyName:"italic"},version:Nt},{types:[n.D.azureMap,n.D.card,n.D.donutChart,n.D.funnel,n.D.gauge,n.D.pieChart,n.D.map,n.D.filledMap,n.D.shapeMap,n.D.treemap,...Nr],property:{objectName:"labels",propertyName:"underline"},version:Nt},{types:[...Nr],property:{objectName:"seriesLabels",propertyName:"bold"},version:Nt},{types:[...Nr],property:{objectName:"seriesLabels",propertyName:"italic"},version:Nt},{types:[...Nr],property:{objectName:"seriesLabels",propertyName:"underline"},version:Nt},{types:[n.D.azureMap,n.D.card,n.D.multiRowCard,n.D.donutChart,n.D.scatterChart,n.D.pieChart,n.D.map,n.D.filledMap,n.D.shapeMap,n.D.treemap,n.D.heatMap],property:{objectName:"categoryLabels",propertyName:"bold"},version:Nt},{types:[n.D.azureMap,n.D.card,n.D.multiRowCard,n.D.donutChart,n.D.scatterChart,n.D.pieChart,n.D.map,n.D.filledMap,n.D.shapeMap,n.D.treemap,n.D.heatMap],property:{objectName:"categoryLabels",propertyName:"italic"},version:Nt},{types:[n.D.azureMap,n.D.card,n.D.multiRowCard,n.D.donutChart,n.D.scatterChart,n.D.pieChart,n.D.map,n.D.filledMap,n.D.shapeMap,n.D.treemap,n.D.heatMap],property:{objectName:"categoryLabels",propertyName:"underline"},version:Nt},{types:[n.D.multiRowCard],property:{objectName:"dataLabels",propertyName:"bold"},version:Nt},{types:[n.D.multiRowCard],property:{objectName:"dataLabels",propertyName:"italic"},version:Nt},{types:[n.D.multiRowCard],property:{objectName:"dataLabels",propertyName:"underline"},version:Nt},{types:[n.D.multiRowCard],property:{objectName:"cardTitle",propertyName:"bold"},version:Nt},{types:[n.D.multiRowCard],property:{objectName:"cardTitle",propertyName:"italic"},version:Nt},{types:[n.D.multiRowCard],property:{objectName:"cardTitle",propertyName:"underline"},version:Nt},{types:[n.D.funnel],property:{objectName:"percentBarLabel",propertyName:"bold"},version:Nt},{types:[n.D.funnel],property:{objectName:"percentBarLabel",propertyName:"italic"},version:Nt},{types:[n.D.funnel],property:{objectName:"percentBarLabel",propertyName:"underline"},version:Nt},{types:[n.D.gauge],property:{objectName:"target",propertyName:"bold"},version:Nt},{types:[n.D.gauge],property:{objectName:"target",propertyName:"italic"},version:Nt},{types:[n.D.gauge],property:{objectName:"target",propertyName:"underline"},version:Nt},{types:[n.D.gauge],property:{objectName:"calloutValue",propertyName:"bold"},version:Nt},{types:[n.D.gauge],property:{objectName:"calloutValue",propertyName:"italic"},version:Nt},{types:[n.D.gauge],property:{objectName:"calloutValue",propertyName:"underline"},version:Nt},{types:[n.D.kpi],property:{objectName:"goals",propertyName:"bold"},version:Nt},{types:[n.D.kpi],property:{objectName:"goals",propertyName:"italic"},version:Nt},{types:[n.D.kpi],property:{objectName:"goals",propertyName:"underline"},version:Nt},{types:[n.D.kpi],property:{objectName:"goals",propertyName:"titleBold"},version:Nt},{types:[n.D.kpi],property:{objectName:"goals",propertyName:"titleItalic"},version:Nt},{types:[n.D.kpi],property:{objectName:"goals",propertyName:"titleUnderline"},version:Nt},{types:[n.D.kpi],property:{objectName:"lastDate",propertyName:"bold"},version:Nt},{types:[n.D.kpi],property:{objectName:"lastDate",propertyName:"italic"},version:Nt},{types:[n.D.kpi],property:{objectName:"lastDate",propertyName:"underline"},version:Nt},{types:[n.D.kpi],property:{objectName:"indicator",propertyName:"bold"},version:Nt},{types:[n.D.kpi],property:{objectName:"indicator",propertyName:"italic"},version:Nt},{types:[n.D.kpi],property:{objectName:"indicator",propertyName:"underline"},version:Nt},{types:[n.D.decompositionTreeVisual],property:{objectName:"categoryLabels",propertyName:"categoryLabelBold"},version:Nt},{types:[n.D.decompositionTreeVisual],property:{objectName:"categoryLabels",propertyName:"categoryLabelItalic"},version:Nt},{types:[n.D.decompositionTreeVisual],property:{objectName:"categoryLabels",propertyName:"categoryLabelUnderline"},version:Nt},{types:[n.D.decompositionTreeVisual],property:{objectName:"dataLabels",propertyName:"dataLabelBold"},version:Nt},{types:[n.D.decompositionTreeVisual],property:{objectName:"dataLabels",propertyName:"dataLabelItalic"},version:Nt},{types:[n.D.decompositionTreeVisual],property:{objectName:"dataLabels",propertyName:"dataLabelUnderline"},version:Nt},{types:[n.D.decompositionTreeVisual],property:{objectName:"levelHeader",propertyName:"levelTitleBold"},version:Nt},{types:[n.D.decompositionTreeVisual],property:{objectName:"levelHeader",propertyName:"levelTitleItalic"},version:Nt},{types:[n.D.decompositionTreeVisual],property:{objectName:"levelHeader",propertyName:"levelTitleUnderline"},version:Nt},{types:[n.D.decompositionTreeVisual],property:{objectName:"levelHeader",propertyName:"levelSubtitleBold"},version:Nt},{types:[n.D.decompositionTreeVisual],property:{objectName:"levelHeader",propertyName:"levelSubtitleItalic"},version:Nt},{types:[n.D.decompositionTreeVisual],property:{objectName:"levelHeader",propertyName:"levelSubtitleUnderline"},version:Nt},{types:[...Nr],property:{objectName:"subheader",propertyName:"bold"},version:Nt},{types:[...Nr],property:{objectName:"subheader",propertyName:"italic"},version:Nt},{types:[...Nr],property:{objectName:"subheader",propertyName:"underline"},version:Nt},{types:[n.D.pivotTable,n.D.tableEx],property:{objectName:"columnHeaders",propertyName:"bold"},version:Nt},{types:[n.D.pivotTable,n.D.tableEx],property:{objectName:"columnHeaders",propertyName:"italic"},version:Nt},{types:[n.D.pivotTable,n.D.tableEx],property:{objectName:"columnHeaders",propertyName:"underline"},version:Nt},{types:[n.D.pivotTable,n.D.tableEx],property:{objectName:"values",propertyName:"bold"},version:Nt},{types:[n.D.pivotTable,n.D.tableEx],property:{objectName:"values",propertyName:"italic"},version:Nt},{types:[n.D.pivotTable,n.D.tableEx],property:{objectName:"values",propertyName:"underline"},version:Nt},{types:[n.D.tableEx],property:{objectName:"total",propertyName:"bold"},version:Nt},{types:[n.D.tableEx],property:{objectName:"total",propertyName:"italic"},version:Nt},{types:[n.D.tableEx],property:{objectName:"total",propertyName:"underline"},version:Nt},{types:[n.D.pivotTable],property:{objectName:"rowTotal",propertyName:"bold"},version:Nt},{types:[n.D.pivotTable],property:{objectName:"rowTotal",propertyName:"italic"},version:Nt},{types:[n.D.pivotTable],property:{objectName:"rowTotal",propertyName:"underline"},version:Nt},{types:[n.D.pivotTable],property:{objectName:"columnTotal",propertyName:"bold"},version:Nt},{types:[n.D.pivotTable],property:{objectName:"columnTotal",propertyName:"italic"},version:Nt},{types:[n.D.pivotTable],property:{objectName:"columnTotal",propertyName:"underline"},version:Nt},{types:[n.D.pivotTable],property:{objectName:"rowHeaders",propertyName:"bold"},version:Nt},{types:[n.D.pivotTable],property:{objectName:"rowHeaders",propertyName:"italic"},version:Nt},{types:[n.D.pivotTable],property:{objectName:"rowHeaders",propertyName:"underline"},version:Nt},{types:[n.D.pivotTable],property:{objectName:"subTotals",propertyName:"bold"},version:Nt},{types:[n.D.pivotTable],property:{objectName:"subTotals",propertyName:"italic"},version:Nt},{types:[n.D.pivotTable],property:{objectName:"subTotals",propertyName:"underline"},version:Nt},{types:[n.D.barChart,n.D.columnChart,n.D.lineStackedColumnComboChart,n.D.hundredPercentStackedBarChart,n.D.hundredPercentStackedColumnChart,n.D.stackedAreaChart],property:{objectName:"totals",propertyName:"bold"},version:Nt},{types:[n.D.barChart,n.D.columnChart,n.D.lineStackedColumnComboChart,n.D.hundredPercentStackedBarChart,n.D.hundredPercentStackedColumnChart,n.D.stackedAreaChart],property:{objectName:"totals",propertyName:"italic"},version:Nt},{types:[n.D.barChart,n.D.columnChart,n.D.lineStackedColumnComboChart,n.D.hundredPercentStackedBarChart,n.D.hundredPercentStackedColumnChart,n.D.stackedAreaChart],property:{objectName:"totals",propertyName:"underline"},version:Nt},{types:[n.D.qnaVisual],property:{objectName:"inputBox",propertyName:"questionBold"},version:Nt},{types:[n.D.qnaVisual],property:{objectName:"inputBox",propertyName:"questionItalic"},version:Nt},{types:[n.D.qnaVisual],property:{objectName:"inputBox",propertyName:"questionUnderline"},version:Nt},{types:[n.D.qnaVisual],property:{objectName:"suggestions",propertyName:"headerBold"},version:Nt},{types:[n.D.qnaVisual],property:{objectName:"suggestions",propertyName:"headerItalic"},version:Nt},{types:[n.D.qnaVisual],property:{objectName:"suggestions",propertyName:"headerUnderline"},version:Nt},{types:[n.D.qnaVisual],property:{objectName:"suggestions",propertyName:"cardBold"},version:Nt},{types:[n.D.qnaVisual],property:{objectName:"suggestions",propertyName:"cardItalic"},version:Nt},{types:[n.D.qnaVisual],property:{objectName:"suggestions",propertyName:"cardUnderline"},version:Nt},{types:[n.D.slicer,n.D.filterSlicer],property:{objectName:"header",propertyName:"bold"},version:Nt},{types:[n.D.slicer,n.D.filterSlicer],property:{objectName:"header",propertyName:"italic"},version:Nt},{types:[n.D.slicer,n.D.filterSlicer],property:{objectName:"header",propertyName:"underline"},version:Nt},{types:[n.D.slicer,n.D.filterSlicer],property:{objectName:"items",propertyName:"bold"},version:Nt},{types:[n.D.slicer,n.D.filterSlicer],property:{objectName:"items",propertyName:"italic"},version:Nt},{types:[n.D.slicer,n.D.filterSlicer],property:{objectName:"items",propertyName:"underline"},version:Nt},{types:[n.D.slicer,n.D.filterSlicer],property:{objectName:"date",propertyName:"bold"},version:Nt},{types:[n.D.slicer,n.D.filterSlicer],property:{objectName:"date",propertyName:"italic"},version:Nt},{types:[n.D.slicer,n.D.filterSlicer],property:{objectName:"date",propertyName:"underline"},version:Nt},{types:[n.D.slicer,n.D.filterSlicer],property:{objectName:"numericInputStyle",propertyName:"bold"},version:Nt},{types:[n.D.slicer,n.D.filterSlicer],property:{objectName:"numericInputStyle",propertyName:"italic"},version:Nt},{types:[n.D.slicer,n.D.filterSlicer],property:{objectName:"numericInputStyle",propertyName:"underline"},version:Nt},{property:{objectName:"title",propertyName:"bold"},version:Nt},{property:{objectName:"title",propertyName:"italic"},version:Nt},{property:{objectName:"title",propertyName:"underline"},version:Nt},{property:{objectName:"visualTooltip",propertyName:"bold"},version:Nt},{property:{objectName:"visualTooltip",propertyName:"italic"},version:Nt},{property:{objectName:"visualTooltip",propertyName:"underline"},version:Nt},{types:[n.D.textbox],property:{...g.RL.general.paragraphs,matchByContents:(qt,nr)=>{if((0,P.Fq)(qt))for(var fr of qt)if(fr&&!_.isEmpty(fr.listType))return!0;return!1}},version:jt},{types:[n.D.rdlVisual],property:{objectName:"toolbar",propertyName:"pageNavigation"},version:Te},{types:[n.D.rdlVisual],property:{objectName:"toolbar",propertyName:"useFloatingToolbar"},version:Te},{types:[n.D.rdlVisual],property:{objectName:"toolbar",propertyName:"openReportButton"},version:Te},{types:[n.D.rdlVisual],property:{objectName:"toolbar",propertyName:"position"},version:Te},{types:[n.D.rdlVisual],property:{objectName:"export",propertyName:"show"},version:Te},{types:[n.D.rdlVisual],property:{objectName:"export",propertyName:"exportExcel"},version:Te},{types:[n.D.rdlVisual],property:{objectName:"export",propertyName:"exportPDF"},version:Te},{types:[n.D.rdlVisual],property:{objectName:"export",propertyName:"exportAccessiblePDF"},version:Te},{types:[n.D.rdlVisual],property:{objectName:"export",propertyName:"exportCSV"},version:Te},{types:[n.D.rdlVisual],property:{objectName:"export",propertyName:"exportPPTX"},version:Te},{types:[n.D.rdlVisual],property:{objectName:"export",propertyName:"exportWord"},version:Te},{types:[n.D.rdlVisual],property:{objectName:"export",propertyName:"exportMHTML"},version:Te},{types:[n.D.rdlVisual],property:{objectName:"export",propertyName:"exportXML"},version:Te},{property:l.A.scorecard.showCommandBar,types:[n.D.scorecard],version:nt},{types:[n.D.azureMap],property:{objectName:"heatMapLayer",propertyName:"mapTransparency"},version:Ut},{types:[n.D.tableEx,n.D.pivotTable],property:{objectName:"sparklines",propertyName:"*"},version:_t},{types:[n.D.slicer,n.D.filterSlicer],property:{objectName:"date",propertyName:"hideDatePickerButton"},version:zt},{types:[n.D.slicer,n.D.filterSlicer],property:{objectName:"items",propertyName:"padding"},version:zt},{types:[n.D.slicer,n.D.filterSlicer],property:{objectName:"items",propertyName:"accessibilityContrastProperties"},version:zt},{types:[n.D.azureMap],property:{objectName:"mapControls",propertyName:"geocodingCulture"},version:Ft},{types:[n.D.lineClusteredColumnComboChart,n.D.lineStackedColumnComboChart],property:{objectName:"legend",propertyName:"legendMarkerRendering"},version:br},{types:[n.D.tableEx,n.D.pivotTable],property:{objectName:"grid",propertyName:"outlineStyle"},version:Kr},{types:[n.D.tableEx,n.D.pivotTable],property:{objectName:"columnHeaders",propertyName:"outlineWeight"},version:Kr},{types:[n.D.tableEx,n.D.pivotTable],property:{objectName:"columnHeaders",propertyName:"outlineColor"},version:Kr},{types:[n.D.pivotTable],property:{objectName:"rowHeaders",propertyName:"outlineWeight"},version:Kr},{types:[n.D.pivotTable],property:{objectName:"rowHeaders",propertyName:"outlineColor"},version:Kr},{types:[n.D.tableEx],property:{objectName:"total",propertyName:"outlineWeight"},version:Kr},{types:[n.D.tableEx],property:{objectName:"total",propertyName:"outlineColor"},version:Kr},{types:[n.D.tableEx,n.D.pivotTable],property:{objectName:"values",propertyName:"outlineWeight"},version:Kr},{types:[n.D.tableEx,n.D.pivotTable],property:{objectName:"values",propertyName:"outlineColor"},version:Kr},{property:{objectName:"visualHeaderTooltip",propertyName:"type"},version:Wr},{property:{objectName:"legend",propertyName:"position",matchByContents:(qt,nr)=>{var yr=qt&&qt.value;return yr===o.tV.TopRight||yr===o.tV.BottomRight}},version:ur,types:[n.D.areaChart,n.D.azureMap,n.D.barChart,n.D.clusteredBarChart,n.D.clusteredColumnChart,n.D.columnChart,n.D.donutChart,n.D.filledMap,n.D.hundredPercentStackedBarChart,n.D.hundredPercentStackedColumnChart,n.D.lineChart,n.D.lineClusteredColumnComboChart,n.D.lineStackedColumnComboChart,n.D.map,n.D.pieChart,n.D.ribbonChart,n.D.scatterChart,n.D.shapeMap,n.D.stackedAreaChart,n.D.treemap,n.D.waterfallChart]},{types:[n.D.pivotTable,n.D.tableEx],property:{objectName:"stylePreset",propertyName:"name",matchByContents:qt=>qt.value===p.pJ},version:la},{types:[n.D.tableEx],property:{objectName:"accessibility",propertyName:"altTextColumns"},version:ua},{types:[n.D.tableEx],property:{objectName:"accessibility",propertyName:"rowWithReferenceText"},version:va},{types:[n.D.lineChart,n.D.clusteredBarChart,n.D.clusteredColumnChart,n.D.lineStackedColumnComboChart,n.D.lineClusteredColumnComboChart,n.D.barChart,n.D.columnChart,n.D.hundredPercentStackedBarChart,n.D.hundredPercentStackedColumnChart,n.D.ribbonChart],property:{objectName:"error",propertyName:"*"},version:ga},{types:[n.D.gauge],property:{objectName:"calloutValue",propertyName:"fontFamily"},version:oe},{types:[n.D.gauge],property:{objectName:"calloutValue",propertyName:"bold"},version:oe},{types:[n.D.gauge],property:{objectName:"calloutValue",propertyName:"italic"},version:oe},{types:[n.D.gauge],property:{objectName:"calloutValue",propertyName:"underline"},version:oe},{types:[n.D.slicer,n.D.filterSlicer],property:{objectName:"slider",propertyName:"handleBorderColor",isExprBound:!0},version:De},{types:[n.D.slicer,n.D.filterSlicer],property:{objectName:"slider",propertyName:"handleFillColor",isExprBound:!0},version:De},{types:[n.D.slicer,n.D.filterSlicer],property:{objectName:"slider",propertyName:"secondaryLineColor",isExprBound:!0},version:De},{types:[n.D.actionButton,n.D.shape,n.D.pageNavigator,n.D.bookmarkNavigator],property:{objectName:"text",propertyName:"italic"},version:le},{types:[n.D.actionButton,n.D.shape,n.D.pageNavigator,n.D.bookmarkNavigator],property:{objectName:"text",propertyName:"bold"},version:le},{types:[n.D.actionButton,n.D.shape,n.D.pageNavigator,n.D.bookmarkNavigator],property:{objectName:"text",propertyName:"underline"},version:le},{property:{objectName:"visualHeaderTooltip",propertyName:"bold"},version:vt},{property:{objectName:"visualHeaderTooltip",propertyName:"italic"},version:vt},{property:{objectName:"visualHeaderTooltip",propertyName:"underline"},version:vt},{types:[n.D.azureMap],property:{objectName:"filledMap",propertyName:"*"},version:Wt},{types:[n.D.scatterChart,n.D.waterfallChart],property:{objectName:"categoryAxis",propertyName:"titleItalic"},version:Zt},{types:[n.D.scatterChart,n.D.waterfallChart],property:{objectName:"categoryAxis",propertyName:"titleBold"},version:Zt},{types:[n.D.scatterChart,n.D.waterfallChart],property:{objectName:"categoryAxis",propertyName:"titleUnderline"},version:Zt},{types:[n.D.scatterChart,n.D.waterfallChart],property:{objectName:"valueAxis",propertyName:"titleItalic"},version:Zt},{types:[n.D.scatterChart,n.D.waterfallChart],property:{objectName:"valueAxis",propertyName:"titleBold"},version:Zt},{types:[n.D.scatterChart,n.D.waterfallChart],property:{objectName:"valueAxis",propertyName:"titleUnderline"},version:Zt},{types:[n.D.waterfallChart,n.D.treemap,n.D.lineChart,n.D.areaChart,n.D.columnChart,n.D.barChart,n.D.pieChart,n.D.clusteredBarChart,n.D.clusteredColumnChart,n.D.donutChart,n.D.funnel,n.D.hundredPercentStackedBarChart,n.D.hundredPercentStackedColumnChart,n.D.lineStackedColumnComboChart,n.D.lineClusteredColumnComboChart,n.D.ribbonChart,n.D.stackedAreaChart],property:{objectName:"labels",propertyName:"color",matchByContents:(qt,nr)=>!_.isEmpty(nr?.data)},version:fa},{types:[n.D.treemap],property:{objectName:"categoryLabels",propertyName:"color",matchByContents:(qt,nr)=>!_.isEmpty(nr?.data)},version:fa},{types:[n.D.hundredPercentStackedBarChart,n.D.hundredPercentStackedColumnChart,n.D.lineStackedColumnComboChart,n.D.stackedAreaChart,n.D.barChart,n.D.columnChart],property:{objectName:"totals",propertyName:"color",matchByContents:(qt,nr)=>!_.isEmpty(nr?.data)},version:fa},{types:[n.D.barChart,n.D.columnChart,n.D.ribbonChart,n.D.hundredPercentStackedBarChart,n.D.hundredPercentStackedColumnChart,n.D.lineStackedColumnComboChart,n.D.lineClusteredColumnComboChart,n.D.stackedAreaChart],property:{objectName:"categoryAxis",propertyName:"reverseStackOrder"},version:hi},{types:[n.D.shapeMap],property:{objectName:"shape",propertyName:"map",matchByContents:qt=>{if(qt){var fr=qt.name;if(fr)return fr.value===c.sp}return!1}},version:ka},{types:[n.D.azureMap],property:{objectName:"categoryLabels",propertyName:"*"},version:za},{types:[n.D.azureMap],property:{objectName:"mapControls",propertyName:"showLabels"},version:xa},{types:ha,property:{objectName:"valueAxis",propertyName:"sharedAxis"},version:Ra},{types:ha,property:{objectName:"valueAxis",propertyName:"scaleToFit"},version:Ra},{property:{objectName:"visualHeader",propertyName:"showSmartNarrativeButton"},version:Ka},{types:[n.D.tableEx,n.D.pivotTable],property:{objectName:"grid",propertyName:"imageWidth"},version:Da},{types:[n.D.pageNavigator],property:{objectName:"pages",propertyName:"showByDefault"},version:Da},{types:[n.D.pageNavigator],property:{objectName:"pages",propertyName:"showPage"},version:Da},{types:[n.D.textbox],property:{...g.RL.general.paragraphs,matchByContents:(qt,nr)=>{if((0,P.Fq)(qt))for(var fr of qt)if(fr&&!_.isEmpty(fr.indent))return!0;return!1}},version:Oa},{types:[n.D.areaChart,n.D.barChart,n.D.clusteredBarChart,n.D.clusteredColumnChart,n.D.columnChart,n.D.hundredPercentStackedBarChart,n.D.hundredPercentStackedColumnChart,n.D.lineChart,n.D.lineClusteredColumnComboChart,n.D.lineStackedColumnComboChart,n.D.ribbonChart,n.D.stackedAreaChart],property:{objectName:"labels",propertyName:"showByDefault"},version:Ca},{types:[n.D.areaChart,n.D.lineChart,n.D.lineClusteredColumnComboChart,n.D.lineStackedColumnComboChart,n.D.stackedAreaChart],property:{objectName:"seriesLabels",propertyName:"showByDefault"},version:Ca},{types:[n.D.areaChart,n.D.lineChart,n.D.lineClusteredColumnComboChart,n.D.lineStackedColumnComboChart,n.D.stackedAreaChart],property:{objectName:"lineStyles",propertyName:"showMarkerByDefault"},version:Ca},{types:[n.D.lineChart,n.D.lineStackedColumnComboChart,n.D.lineClusteredColumnComboChart],property:{objectName:"error",propertyName:"showMarkerByDefault"},version:Ca},{types:[n.D.barChart,n.D.hundredPercentStackedBarChart,n.D.clusteredBarChart],property:{objectName:"categoryAxis",propertyName:"concatenateLabels"},version:Ha},{property:{objectName:"padding",propertyName:"*"},version:Ea},{property:{objectName:"subTitle",propertyName:"*"},version:Ea},{property:{objectName:"divider",propertyName:"*"},version:Ea},{property:{objectName:"spacing",propertyName:"*"},version:Ea},{types:nn,property:{objectName:"mapControls",propertyName:"geocodingCulture",matchByContents:qt=>(0,d.xF)(qt.value,d.ST.v2_0)},version:Ba},{types:[n.D.barChart,n.D.columnChart,n.D.clusteredBarChart,n.D.clusteredColumnChart,n.D.hundredPercentStackedBarChart,n.D.hundredPercentStackedColumnChart,n.D.ribbonChart,n.D.lineChart,n.D.lineClusteredColumnComboChart,n.D.lineStackedColumnComboChart,n.D.areaChart,n.D.stackedAreaChart],property:{objectName:"labels",propertyName:"showDynamicLabels"},version:Pa},{types:[n.D.gauge],property:{objectName:"calloutValue",propertyName:"showDynamicLabels"},version:Pa},{types:[n.D.gauge],property:{objectName:"calloutValue",propertyName:"dynamicLabelValue"},version:Pa},{property:{objectName:"visualLink",propertyName:"tooltipPlaceholderText"},version:$a},{types:[n.D.lineChart,n.D.areaChart,n.D.stackedAreaChart,n.D.lineStackedColumnComboChart,n.D.lineClusteredColumnComboChart],property:{objectName:"lineStyles",propertyName:"lineChartType"},version:La},{types:[n.D.lineChart,n.D.areaChart,n.D.stackedAreaChart],property:{objectName:"labels",propertyName:"leaderLines"},version:Aa},{types:[n.D.lineChart,n.D.areaChart,n.D.stackedAreaChart],property:{objectName:"labels",propertyName:"minimumOffset"},version:Aa},{types:[n.D.lineChart,n.D.areaChart,n.D.stackedAreaChart],property:{objectName:"labels",propertyName:"maximumOffset"},version:Aa},{types:[n.D.scatterChart,n.D.map,n.D.heatMap],property:{objectName:"bubbles",propertyName:"markerRangeType"},version:Ja},{types:[n.D.azureMap],property:{objectName:"bubbleLayer",propertyName:"markerRangeType",matchByContents:qt=>!(qt.value===v.Dl.deprecated)},version:oi},...["fillTransparency","borderShow","borderSize","borderColor","borderColorMatchFill","borderTransparency"].map(qt=>({types:[...Ta,...Sa,...ba],property:{objectName:"dataPoint",propertyName:qt},version:da})),{types:[...Ta,...Sa,...ba,n.D.stackedAreaChart],property:{objectName:"layout",propertyName:"seriesOrderReversed"},version:da},{types:[...Ta,...Sa,...ba],property:{objectName:"layout",propertyName:"seriesOrderSorted"},version:da},{types:[...Sa,n.D.lineStackedColumnComboChart],property:{objectName:"layout",propertyName:"stackedGapSize"},version:da},{types:[n.D.barChart,n.D.columnChart,n.D.ribbonChart,...en],property:{objectName:"layout",propertyName:"stackedGapExplodes"},version:da},{types:[n.D.ribbonChart],property:{objectName:"layout",propertyName:"ribbonGapSize"},version:da},{types:[n.D.ribbonChart],property:{objectName:"ribbonBands",propertyName:"*"},version:da},{types:[n.D.ribbonChart],property:{objectName:"valueAxis",propertyName:"showAxisTitle"},version:da},{types:[n.D.pivotTable],property:{objectName:"accessibility",propertyName:"altTextColumns"},version:Za},{types:xr,property:{objectName:"labels",propertyName:"dynamicLabelValue"},version:Ar},{types:xr,property:{objectName:"labels",propertyName:"titleBold"},version:Ar},{types:xr,property:{objectName:"labels",propertyName:"titleColor"},version:Ar},{types:xr,property:{objectName:"labels",propertyName:"titleShowBlankAs"},version:Ar},{types:xr,property:{objectName:"labels",propertyName:"titleContentType"},version:Ar},{types:xr,property:{objectName:"labels",propertyName:"enableTitleDataLabel"},version:Ar},{types:xr,property:{objectName:"labels",propertyName:"titleFontFamily"},version:Ar},{types:xr,property:{objectName:"labels",propertyName:"titleFontSize"},version:Ar},{types:xr,property:{objectName:"labels",propertyName:"titleItalic"},version:Ar},{types:xr,property:{objectName:"labels",propertyName:"dynamicLabelTitle"},version:Ar},{types:xr,property:{objectName:"labels",propertyName:"titleTransparency"},version:Ar},{types:xr,property:{objectName:"labels",propertyName:"titleLabelDisplayUnits"},version:Ar},{types:xr,property:{objectName:"labels",propertyName:"titleCustomFormatString"},version:Ar},{types:xr,property:{objectName:"labels",propertyName:"valueCustomFormatString"},version:Ar},{types:xr,property:{objectName:"labels",propertyName:"titleLabelPrecision"},version:Ar},{types:xr,property:{objectName:"labels",propertyName:"titleUnderline"},version:Ar},{types:xr,property:{objectName:"labels",propertyName:"detailBold"},version:Ar},{types:xr,property:{objectName:"labels",propertyName:"detailColor"},version:Ar},{types:xr,property:{objectName:"labels",propertyName:"dynamicLabelDetail"},version:Ar},{types:xr,property:{objectName:"labels",propertyName:"enableDetailDataLabel"},version:Ar},{types:xr,property:{objectName:"labels",propertyName:"detailFontFamily"},version:Ar},{types:xr,property:{objectName:"labels",propertyName:"detailFontSize"},version:Ar},{types:xr,property:{objectName:"labels",propertyName:"detailItalic"},version:Ar},{types:xr,property:{objectName:"labels",propertyName:"detailTransparency"},version:Ar},{types:xr,property:{objectName:"labels",propertyName:"detailUnderline"},version:Ar},{types:xr,property:{objectName:"labels",propertyName:"detailShowBlankAs"},version:Ar},{types:xr,property:{objectName:"labels",propertyName:"detailLabelDisplayUnits"},version:Ar},{types:xr,property:{objectName:"labels",propertyName:"detailCustomFormatString"},version:Ar},{types:xr,property:{objectName:"labels",propertyName:"detailLabelPrecision"},version:Ar},{types:xr,property:{objectName:"labels",propertyName:"detailContentType"},version:Ar},{types:xr,property:{objectName:"labels",propertyName:"enableValueDataLabel"},version:Ar},{types:xr,property:{objectName:"labels",propertyName:"showBlankAs"},version:Ar},{types:xr,property:{objectName:"labels",propertyName:"transparency"},version:Ar},{types:xr,property:{objectName:"labels",propertyName:"wordWrap"},version:Ar},{types:xr,property:{objectName:"labels",propertyName:"labelContentLayout"},version:Ar},{types:xr,property:{objectName:"labels",propertyName:"optimizeLabelDisplay"},version:Ar},{types:xr,property:{objectName:"labels",propertyName:"labelContainerMaxWidth"},version:Ar},{types:[n.D.azureMap],property:{objectName:"bubbleLayer",propertyName:"clusteringEnabled"},version:ya},{types:[n.D.azureMap],property:{objectName:"bubbleLayer",propertyName:"clusteredBubbleRadius"},version:ya},{types:[n.D.azureMap],property:{objectName:"bubbleLayer",propertyName:"clusteredBubbleFillColor"},version:ya},{types:[n.D.azureMap],property:{objectName:"bubbleLayer",propertyName:"clusteredBubbleFontColor"},version:ya},{types:[n.D.azureMap],property:{objectName:"bubbleLayer",propertyName:"clusteredBubbleFontSize"},version:ya},{types:[n.D.azureMap],property:{objectName:"bubbleLayer",propertyName:"clusteredBubbleStrokeWidth"},version:ya},{types:[n.D.azureMap],property:{objectName:"bubbleLayer",propertyName:"clusteredBubbleStrokeColor"},version:ya},{types:[n.D.azureMap],property:{objectName:"referenceLayer",propertyName:"referenceLayerUrl"},version:Fa},{types:[n.D.azureMap],property:{objectName:"referenceLayer",propertyName:"additionalDatasource",matchByContents:qt=>{if(qt){var fr=qt.name;if(fr)return fr.value.endsWith(".wkt")||fr.value.endsWith(".kml")}return!1}},version:Fa},{types:[n.D.pivotTable],property:{objectName:"rowHeaders",propertyName:"expandCompositeHierarchy"},version:Na},...["clusteredGapSize","clusteredGapOverlaps","clusteredGapOverlapReverse"].map(qt=>({types:[...Ta,n.D.lineClusteredColumnComboChart],property:{objectName:"layout",propertyName:qt},version:_a})),{types:[...Sa,n.D.lineStackedColumnComboChart],property:{objectName:"dataPoint",propertyName:"borderOutlineOnly"},version:_a},{types:[n.D.barChart,n.D.columnChart,n.D.hundredPercentStackedBarChart,n.D.hundredPercentStackedColumnChart],property:{objectName:"ribbonBands",propertyName:"*"},version:_a},{types:[n.D.barChart,n.D.columnChart,n.D.hundredPercentStackedBarChart,n.D.hundredPercentStackedColumnChart],property:{objectName:"layout",propertyName:"ribbonGapSize"},version:_a},{types:[n.D.ribbonChart],property:{objectName:"totals",propertyName:"*"},version:_a},{types:[n.D.ribbonChart],property:{objectName:"legend",propertyName:"showGradientLegend"},version:_a},{types:xr,property:{objectName:"labels",propertyName:"horizontalAlignment"},version:qa},...["leaderLineColor","leaderLineTransparency","leaderLineWidth"].map(qt=>({types:[n.D.lineChart,n.D.areaChart],property:{objectName:"labels",propertyName:qt},version:qa})),{types:[n.D.pivotTable,n.D.tableEx],property:{objectName:"columnFormatting",propertyName:"dataBars",matchByContents:(qt,nr)=>null!=(qt&&qt.totalMatchingOption)},version:ei},...["strokeTransparency","interpolationStep","interpolationSmooth","interpolationSmoothParam","areaShow","areaColor","areaMatchStrokeColor"].map(qt=>({types:[n.D.lineChart,n.D.areaChart,n.D.stackedAreaChart,n.D.lineClusteredColumnComboChart,n.D.lineStackedColumnComboChart],property:{objectName:"lineStyles",propertyName:qt},version:Ia})),{types:ba,property:{objectName:"dataPoint",propertyName:"transparency"},version:Ia},...[{objectName:"general",propertyName:"layout"},{objectName:"rowHeaders",propertyName:"repeatRowHeaders"},{objectName:"blankRows",propertyName:"showBlankRows"},{objectName:"blankRows",propertyName:"blankRowColor"},{objectName:"blankRows",propertyName:"blankRowTransparency"},{objectName:"blankRows",propertyName:"showBorder"},{objectName:"blankRows",propertyName:"borderPosition"},{objectName:"blankRows",propertyName:"borderColor"},{objectName:"blankRows",propertyName:"borderTransparency"},{objectName:"blankRows",propertyName:"borderWidth"}].map(qt=>({types:[n.D.pivotTable],property:{objectName:qt.objectName,propertyName:qt.propertyName},version:ti})),..._.flattenDeep([["width","dashArray","dashCap","autoScale"].map(qt=>({types:[n.D.scatterChart],property:{objectName:"ratioLine",propertyName:qt},version:pa})),["width","strokeTransparency","dashArray","dashCap","autoScale"].map(qt=>({types:[n.D.lineChart],property:{objectName:"forecast",propertyName:qt},version:pa})),["strokeShow","strokeDashArray","strokeDashCap","strokeAutoScale"].map(qt=>({types:[n.D.areaChart,n.D.lineChart,n.D.stackedAreaChart,n.D.lineStackedColumnComboChart,n.D.lineClusteredColumnComboChart,n.D.hundredPercentStackedAreaChart],property:{objectName:"lineStyles",propertyName:qt},version:pa})),["leaderLinePattern","leaderLineDashArray","leaderLineDashCap","leaderLineAutoScale"].map(qt=>({property:{objectName:"labels",propertyName:qt},types:[n.D.lineChart,n.D.areaChart],version:pa})),["gridLineTransparency","gridLineShow"].map(qt=>({types:[...ha,n.D.hundredPercentStackedAreaChart],property:{objectName:"smallMultiplesLayout",propertyName:qt},version:pa})),["width","dashArray","dashCap","autoScale"].map(qt=>({types:[n.D.clusteredBarChart,n.D.clusteredColumnChart,n.D.scatterChart,n.D.lineChart,n.D.areaChart],property:{objectName:"referenceLine",propertyName:qt},version:pa})),["categoryAxis","valueAxis"].map(qt=>[["gridlineTransparency","gridlineDashArray","gridlineDashCap","gridlineAutoScale"].map(nr=>({types:[n.D.lineChart,n.D.areaChart,n.D.stackedAreaChart,n.D.lineClusteredColumnComboChart,n.D.lineStackedColumnComboChart,n.D.barChart,n.D.clusteredBarChart,n.D.clusteredColumnChart,n.D.columnChart,n.D.hundredPercentStackedBarChart,n.D.hundredPercentStackedColumnChart,n.D.hundredPercentStackedAreaChart,n.D.ribbonChart,n.D.scatterChart,..."valueAxis"===qt?[n.D.waterfallChart]:[]],property:{objectName:qt,propertyName:nr},version:pa}))]),["trend","xAxisReferenceLine","y1AxisReferenceLine"].map(qt=>[["width","dashArray","dashCap","autoScale"].map(nr=>({types:[n.D.lineChart,n.D.areaChart,n.D.stackedAreaChart,n.D.lineClusteredColumnComboChart,n.D.lineStackedColumnComboChart,n.D.barChart,n.D.clusteredBarChart,n.D.clusteredColumnChart,n.D.columnChart,n.D.hundredPercentStackedBarChart,n.D.hundredPercentStackedColumnChart,n.D.hundredPercentStackedAreaChart,n.D.ribbonChart,n.D.scatterChart,...["y1AxisReferenceLine"].includes(qt)?[n.D.waterfallChart]:[]],property:{objectName:qt,propertyName:nr},version:pa}))]),["bandLineShow","bandLineColor","bandLineTransparency","bandLineWidth","bandLinePattern","bandLineDashArray","bandLineDashCap","bandLineAutoScale","bandLineMatchColor","bandAreaShow","bandAreaMatchColor","bandAreaColor","bandAreaTransparency","matchSeriesInterpolation","interpolation","interpolationStep","interpolationSmooth","interpolationSmoothParam"].map(qt=>({types:[n.D.lineChart],property:{objectName:"forecast",propertyName:qt},version:pa}))]),{property:{objectName:"border",propertyName:"width"},version:ri},{types:[n.D.azureMap],property:{objectName:"referenceLayer",propertyName:"additionalDatasource",matchByContents:qt=>{if(qt){var fr=qt.name;if(fr)return fr.value.endsWith(".csv")}return!1}},version:ai},{types:[n.D.azureMap],property:{objectName:"referenceLayer",propertyName:"referenceLayerUrl",matchByContents:qt=>!(0,r.VC)(qt)},version:ii},...["bubbleFillColor","bubbleStrokeColor","bubbleStrokeWidth","bubbleStrokeTransparency","polygonFillColor","polygonStrokeColor","polygonStrokeWidth","polygonStrokeTransparency","lineStrokeColor","lineStrokeWidth","lineStrokeTransparency"].map(qt=>({types:[n.D.azureMap],property:{objectName:"referenceLayer",propertyName:qt},version:cr})),...["show","position","color","transparency","width"].map(qt=>({types:[n.D.bookmarkNavigator,n.D.pageNavigator],property:{objectName:"accentBar",propertyName:qt},version:vi})),{types:an,property:{objectName:"error",propertyName:"markerShow"},version:Ai},{property:{objectName:"visualHeader",propertyName:"showSetAlertButton"},version:gi},{property:{objectName:"visualHeader",propertyName:"showFollowVisualButton"},version:Ni},{types:[n.D.advancedSlicerVisual],property:{objectName:"image",propertyName:"image",matchByContents:(qt,nr)=>!_.isEmpty(nr.id)},version:yi},{types:[n.D.advancedSlicerVisual],property:{objectName:"selectionIcon",propertyName:"*"},version:Ci},...["transparency","rotation","borderShow","borderColor","borderColorMatchFill","borderTransparency","borderWidth"].map(qt=>({types:[n.D.scatterChart,n.D.areaChart,n.D.lineChart,n.D.stackedAreaChart,n.D.hundredPercentStackedAreaChart],property:{objectName:"markers",propertyName:qt},version:Ei})),...["markerTransparency","markerRotation","markerBorderShow","markerBorderColor","markerBorderColorMatchFill","markerBorderTransparency","markerBorderWidth","confidenceBandShow"].map(qt=>({types:[n.D.lineChart],property:{objectName:"anomalyDetection",propertyName:qt},version:Ei})),...["bubbleFillOpacity","polygonFillOpacity","unmappedObjectVisibility","unmappedObjectUseCustomColors","unmappedObjectFillColor","unmappedObjectStrokeColor"].map(qt=>({types:[n.D.azureMap],property:{objectName:"referenceLayer",propertyName:qt},version:Si})),...["color","strokeWidth","strokeTransparency","minZoom","maxZoom"].map(qt=>({types:[n.D.azureMap],property:{objectName:"pathLayer",propertyName:qt},version:bi})),...["tilingMethod","innerPadding","outerPadding"].map(qt=>({types:[n.D.treemap],property:{objectName:"layout",propertyName:qt},version:ni})),...["transparency","rotation","borderShow","borderColor","borderColorMatchFill","borderTransparency","borderWidth"].map(qt=>({types:[n.D.lineStackedColumnComboChart,n.D.lineClusteredColumnComboChart],property:{objectName:"markers",propertyName:qt},version:zi})),...["shadeShow","shadeColorMatchStroke","shadeRegion","shadeColor","shadeTransparency"].map(qt=>({types:[n.D.clusteredBarChart,n.D.clusteredColumnChart,n.D.lineChart,n.D.areaChart,n.D.scatterChart],property:{objectName:"referenceLine",propertyName:qt},version:si})),...["shadeShow","shadeColorMatchStroke","shadeRegion","shadeColor","shadeTransparency"].map(qt=>({types:[n.D.clusteredBarChart,n.D.clusteredColumnChart,n.D.barChart,n.D.columnChart,n.D.hundredPercentStackedBarChart,n.D.hundredPercentStackedColumnChart,n.D.lineChart,n.D.areaChart,n.D.stackedAreaChart,n.D.ribbonChart,n.D.hundredPercentStackedAreaChart,n.D.scatterChart,n.D.waterfallChart],property:{objectName:"y1AxisReferenceLine",propertyName:qt},version:si})),...["shadeShow","shadeColorMatchStroke","shadeRegion","shadeColor","shadeTransparency"].map(qt=>({types:[n.D.scatterChart],property:{objectName:"xAxisReferenceLine",propertyName:qt},version:si})),...["shadeShow","shadeColorMatchStroke"].map(qt=>({types:[n.D.lineChart,n.D.areaChart,n.D.stackedAreaChart,n.D.barChart,n.D.columnChart,n.D.clusteredBarChart,n.D.clusteredColumnChart,n.D.lineClusteredColumnComboChart,n.D.lineStackedColumnComboChart,n.D.hundredPercentStackedColumnChart,n.D.hundredPercentStackedAreaChart,n.D.hundredPercentStackedBarChart,n.D.ribbonChart],property:{objectName:"xAxisReferenceLine",propertyName:qt},version:si})),..._.flattenDeep(["displayName","value","position","show","lineColor","transparency","width","style","dashArray","dashCap","autoScale","dataLabelShow","dataLabelText","dataLabelColor","dataLabelColor","dataLabelDecimalPoints","dataLabelHorizontalPosition","dataLabelVerticalPosition","dataLabelDisplayUnits","shadeShow","shadeRegion","shadeColor","shadeColorMatchStroke","shadeTransparency"].map(qt=>["y1AxisReferenceLine","referenceLine"].map(nr=>({types:"y1AxisReferenceLine"===nr?[n.D.lineClusteredColumnComboChart,n.D.lineStackedColumnComboChart]:[n.D.lineClusteredColumnComboChart],property:{objectName:nr,propertyName:qt},version:si})))),{types:[n.D.advancedSlicerVisual,n.D.listSlicer],property:{objectName:"value",propertyName:"verticalAlignment"},version:ui},{types:[n.D.advancedSlicerVisual,n.D.listSlicer],property:{objectName:"value",propertyName:"text"},version:ui},{types:[n.D.azureMap],property:{objectName:"mapControls",propertyName:"autoZoomIncludesReferenceLayer"},version:Ki},...["fillTransparency","borderShow","borderSize","borderColorMatchFill","borderColor","borderTransparency","borderOutlineOnly"].map(qt=>({types:[n.D.donutChart,n.D.pieChart],property:{objectName:"dataPoint",propertyName:qt},version:$i})),{types:[n.D.textbox],property:{...g.RL.general.paragraphs,matchByContents:(qt,nr)=>{if((0,P.Fq)(qt))for(var fr of qt)if(fr&&!_.isEmpty(fr.textRuns))for(var yr of fr.textRuns)if((0,T.IM)(yr)&&yr.mentionEmail)return!0;return!1}},version:Gi},{types:[n.D.scorecard],property:{objectName:"scorecard",propertyName:"displayMode"},version:Vi},{types:[n.D.scorecard],property:{objectName:"scorecard",propertyName:"goalIds"},version:Vi},{types:[n.D.scorecard],property:{objectName:"visualization",propertyName:i.p5},version:Vi},{types:[n.D.slicer,n.D.filterSlicer],property:{objectName:"pendingChangesIcon",propertyName:"show"},version:Ma},{types:[n.D.slicer,n.D.filterSlicer],property:{objectName:"pendingChangesIcon",propertyName:"color"},version:Ma},{types:[n.D.slicer,n.D.filterSlicer],property:{objectName:"pendingChangesIcon",propertyName:"transparency"},version:Ma},{types:[n.D.slicer,n.D.filterSlicer],property:{objectName:"pendingChangesIcon",propertyName:"position"},version:Ma},{types:[n.D.slicer,n.D.filterSlicer],property:{objectName:"pendingChangesIcon",propertyName:"size"},version:Ma},{types:[n.D.slicer,n.D.filterSlicer],property:{objectName:"pendingChangesIcon",propertyName:"showTooltip"},version:Ma},{types:[n.D.slicer,n.D.filterSlicer],property:{objectName:"pendingChangesIcon",propertyName:"tooltipText"},version:Ma},{types:[n.D.slicer,n.D.filterSlicer],property:{objectName:"pendingChangesIcon",propertyName:"tooltipLabel"},version:Ma},{property:{objectName:"visualLink",propertyName:"dataFunction"},version:Ji},...["callout","highlight"].map(qt=>({property:{objectName:"annotationTemplate",propertyName:qt},version:Zi})),{types:[n.D.aiNarratives],property:{objectName:"userPrompt",propertyName:"useCurrentLocale"},version:Ri},{types:[n.D.advancedSlicerVisual,n.D.listSlicer],property:{objectName:"actionState",propertyName:"*"},version:xi},{types:[n.D.advancedSlicerVisual,n.D.listSlicer],property:{objectName:"selection",propertyName:"restrictToLeafNodes"},version:xi}];function di(qt){if(qt&&!_.isEmpty(qt.data)&&1===qt.data.length&&(0,h.qm)(qt.data[0]))return qt.data[0].matchingOption}var on=["minColor","midColor","maxColor","nullColor"];function pi(qt){if(qt instanceof f.jz)return!!_.find(on,yr=>yr===qt.value);if(qt instanceof Object&&!(qt instanceof Function)){var nr=Object.keys(qt);for(var fr of nr)if(pi(qt[fr]))return!0}return!1}var qt,nr,fr,ln=[{currentId:{objectName:"dataPoint",propertyName:"fill"},previousId:{objectName:"dataPoint",propertyName:"defaultCategoryColor"},version:N.v3_19,types:Di},{currentId:{objectName:"columnTotal",propertyName:"fontColor"},previousId:{objectName:"total",propertyName:"fontColor"},types:[n.D.pivotTable],version:Pr},{currentId:{objectName:"rowTotal",propertyName:"fontColor"},previousId:{objectName:"total",propertyName:"fontColor"},types:[n.D.pivotTable],version:Pr},{currentId:{objectName:"columnTotal",propertyName:"fontFamily"},previousId:{objectName:"total",propertyName:"fontFamily"},types:[n.D.pivotTable],version:Pr},{currentId:{objectName:"rowTotal",propertyName:"fontFamily"},previousId:{objectName:"total",propertyName:"fontFamily"},types:[n.D.pivotTable],version:Pr},{currentId:{objectName:"columnTotal",propertyName:"fontSize"},previousId:{objectName:"total",propertyName:"fontSize"},types:[n.D.pivotTable],version:Pr},{currentId:{objectName:"rowTotal",propertyName:"fontSize"},previousId:{objectName:"total",propertyName:"fontSize"},types:[n.D.pivotTable],version:Pr},{currentId:{objectName:"columnTotal",propertyName:"bold"},previousId:{objectName:"total",propertyName:"bold"},types:[n.D.pivotTable],version:Pr},{currentId:{objectName:"rowTotal",propertyName:"bold"},previousId:{objectName:"total",propertyName:"bold"},types:[n.D.pivotTable],version:Pr},{currentId:{objectName:"columnTotal",propertyName:"italic"},previousId:{objectName:"total",propertyName:"italic"},types:[n.D.pivotTable],version:Pr},{currentId:{objectName:"rowTotal",propertyName:"italic"},previousId:{objectName:"total",propertyName:"italic"},types:[n.D.pivotTable],version:Pr},{currentId:{objectName:"columnTotal",propertyName:"underline"},previousId:{objectName:"total",propertyName:"underline"},types:[n.D.pivotTable],version:Pr},{currentId:{objectName:"rowTotal",propertyName:"underline"},previousId:{objectName:"total",propertyName:"underline"},types:[n.D.pivotTable],version:Pr},{currentId:{objectName:"columnTotal",propertyName:"backColor"},previousId:{objectName:"total",propertyName:"backColor"},types:[n.D.pivotTable],version:Pr},{currentId:{objectName:"rowTotal",propertyName:"backColor"},previousId:{objectName:"total",propertyName:"backColor"},types:[n.D.pivotTable],version:Pr},{currentId:{objectName:"columnTotal",propertyName:"applyToHeaders"},previousId:{objectName:"total",propertyName:"applyToHeaders"},types:[n.D.pivotTable],version:Pr},{currentId:{objectName:"rowTotal",propertyName:"applyToHeaders"},previousId:{objectName:"total",propertyName:"applyToHeaders"},types:[n.D.pivotTable],version:Pr},{currentId:{objectName:"visualLink",propertyName:"showDefaultTooltip"},previousId:{objectName:"visualLink",propertyName:"suppressDefaultTooltip"},types:[n.D.pivotTable],version:Cr,upgrader:B.Xv,featureSwitch:"showDefaultTooltip"},{currentId:{objectName:"fillPoint",propertyName:"style"},previousId:{objectName:"fillPoint",propertyName:"show"},types:[n.D.scatterChart],version:Er,upgrader:B.fw},{currentId:{objectName:"categoryAxis",propertyName:"switchAxisPosition"},previousId:{objectName:"categoryAxis",propertyName:"position"},types:[n.D.barChart,n.D.clusteredBarChart,n.D.clusteredColumnChart,n.D.columnChart,n.D.hundredPercentStackedBarChart,n.D.hundredPercentStackedColumnChart,n.D.ribbonChart],version:or,upgrader:B.QK},{currentId:{objectName:"valueAxis",propertyName:"switchAxisPosition"},previousId:{objectName:"valueAxis",propertyName:"position"},version:or,types:[n.D.areaChart,n.D.barChart,n.D.clusteredBarChart,n.D.clusteredColumnChart,n.D.columnChart,n.D.hundredPercentStackedBarChart,n.D.hundredPercentStackedColumnChart,n.D.lineChart,n.D.lineClusteredColumnComboChart,n.D.lineStackedColumnComboChart,n.D.ribbonChart,n.D.scatterChart,n.D.stackedAreaChart,n.D.waterfallChart],upgrader:B.QK},{currentId:{objectName:"categoryAxis",propertyName:"logAxisScale"},previousId:{objectName:"categoryAxis",propertyName:"axisScale"},version:er,types:[n.D.barChart,n.D.clusteredBarChart,n.D.clusteredColumnChart,n.D.columnChart,n.D.hundredPercentStackedBarChart,n.D.hundredPercentStackedColumnChart,n.D.ribbonChart,n.D.waterfallChart],upgrader:B.Dq},{currentId:{objectName:"valueAxis",propertyName:"logAxisScale"},previousId:{objectName:"valueAxis",propertyName:"axisScale"},version:er,types:[n.D.areaChart,n.D.barChart,n.D.clusteredBarChart,n.D.clusteredColumnChart,n.D.columnChart,n.D.hundredPercentStackedBarChart,n.D.hundredPercentStackedColumnChart,n.D.lineChart,n.D.lineClusteredColumnComboChart,n.D.lineStackedColumnComboChart,n.D.ribbonChart,n.D.scatterChart,n.D.stackedAreaChart,n.D.waterfallChart],upgrader:B.Dq},{currentId:{objectName:"y2Axis",propertyName:"secLogAxisScale"},previousId:{objectName:"y2Axis",propertyName:"secAxisScale"},version:er,types:[n.D.areaChart,n.D.lineChart,n.D.lineClusteredColumnComboChart,n.D.lineStackedColumnComboChart,n.D.stackedAreaChart],upgrader:B.Dq},{currentId:{objectName:"valueAxis",propertyName:"secLogAxisScale"},previousId:{objectName:"valueAxis",propertyName:"secAxisScale"},version:er,types:[n.D.lineClusteredColumnComboChart,n.D.lineStackedColumnComboChart],upgrader:B.Dq},{currentId:{objectName:"columnHeaders",propertyName:"outlineStyle"},previousId:{objectName:"columnHeaders",propertyName:"outline"},version:Dr,types:[n.D.pivotTable,n.D.tableEx],upgrader:B.s8},{currentId:{objectName:"rowHeaders",propertyName:"outlineStyle"},previousId:{objectName:"rowHeaders",propertyName:"outline"},version:Dr,types:[n.D.pivotTable,n.D.tableEx],upgrader:B.s8},{currentId:{objectName:"values",propertyName:"outlineStyle"},previousId:{objectName:"values",propertyName:"outline"},version:Dr,types:[n.D.pivotTable,n.D.tableEx],upgrader:B.s8},{currentId:{objectName:"total",propertyName:"outlineStyle"},previousId:{objectName:"total",propertyName:"outline"},version:Dr,types:[n.D.tableEx],upgrader:B.s8},{currentId:{objectName:"grid",propertyName:"outlineStyle"},previousId:{objectName:"grid",propertyName:"outline"},version:Dr,types:[n.D.pivotTable,n.D.tableEx],upgrader:B.s8},{currentId:{objectName:"header",propertyName:"outlineStyle"},previousId:{objectName:"header",propertyName:"outline"},version:Dr,types:[n.D.slicer,n.D.filterSlicer],upgrader:B.s8},{currentId:{objectName:"searchBox",propertyName:"outlineStyle"},previousId:{objectName:"searchBox",propertyName:"outline"},version:Dr,types:[n.D.slicer,n.D.filterSlicer],upgrader:B.s8},{currentId:{objectName:"items",propertyName:"outlineStyle"},previousId:{objectName:"items",propertyName:"outline"},version:Dr,types:[n.D.slicer,n.D.filterSlicer],upgrader:B.s8},{currentId:{objectName:"card",propertyName:"outlineStyle"},previousId:{objectName:"card",propertyName:"outline"},version:Dr,types:[n.D.multiRowCard],upgrader:B.s8},{currentId:{objectName:"categoryAxis",propertyName:"logAxisScale"},previousId:{objectName:"categoryAxis",propertyName:"axisScale"},version:sa,types:[n.D.areaChart,n.D.lineChart,n.D.lineClusteredColumnComboChart,n.D.lineStackedColumnComboChart,n.D.scatterChart,n.D.stackedAreaChart],upgrader:B.Dq,featureSwitch:"remainingCartesianCategoryLogAxisScale"},{currentId:{objectName:"lineStyle",propertyName:"stepped"},previousId:{objectName:"lineStyle",propertyName:"lineChartType"},version:N.v5_52,types:[...ci,...ba],upgrader:B.xx},{currentId:{objectName:"lineStyles",propertyName:"shadeArea"},previousId:{objectName:"lineStyles",propertyName:"areaShow"},version:Ia,types:[n.D.lineClusteredColumnComboChart,n.D.lineStackedColumnComboChart]}],Li=(qt=sn,nr=ln,fr=[{property:{objectName:"categoryAxis",propertyName:"fontSize"},version:N.v4_2,upgrader:B.KI},{property:{objectName:"categoryAxis",propertyName:"titleFontSize"},version:N.v4_2,upgrader:B.KI},{property:{objectName:"valueAxis",propertyName:"fontSize"},version:N.v4_2,upgrader:B.KI},{property:{objectName:"valueAxis",propertyName:"titleFontSize"},version:N.v4_2,upgrader:B.KI},{property:{objectName:"valueAxis",propertyName:"secFontSize"},version:N.v4_2,upgrader:B.KI},{property:{objectName:"valueAxis",propertyName:"secTitleFontSize"},version:N.v4_2,upgrader:B.KI},{property:{objectName:"visualTooltip",propertyName:"fontSize"},version:N.v4_2,upgrader:B.KI},{property:{objectName:"outspacePane",propertyName:"titleSize"},version:N.v5_1,upgrader:B.KI},{property:{objectName:"outspacePane",propertyName:"headerSize"},version:N.v5_1,upgrader:B.KI},{property:{objectName:"filterCard",propertyName:"textSize"},version:N.v5_1,upgrader:B.KI}],C.f.assert(()=>!_.find(nr,yr=>_.find(qt,Zr=>(!yr.types||!Zr.types||_.find(yr.types,$r=>_.find(Zr.types,ta=>ta===$r)))&&Zr.property.objectName===yr.previousId.objectName&&Zr.property.propertyName===yr.previousId.propertyName&&(0,a.lt)(Zr.version,yr.version))),"explorationVersions.generateObjectVersioning - There is a property being renamed which name didn't get updated in addedObjectPropertyVersions\n            This will cause an issue when versioning the added property, so make sure to update the name in addedArray to contain the new name instead of the old one."),{added:function(qt){for(var nr={},fr=function(Zr){var Yr=qt[Zr];if(C.f.assert(()=>!Zr||!(0,a.lt)(Yr.version,qt[Zr-1].version),"explorationVersions.generateAddedDictionaryFromObjectPropertyVersionArray -\n                We iterate through the visual object property versions in increasing order of version,\n                we do that to optimize when checking for match in the ObjectPropertyVersionDictionaries"),null!=Yr.types)for(var $r of Yr.types)Fi($r,Yr,nr);else Fi(i.p5,Yr,nr)},yr=0;yr<qt.length;yr++)fr(yr);return nr}(qt),renamed:function(qt){for(var nr={},fr=function(Yr){var $r=qt[Yr];if(C.f.assert(()=>$r.currentId.objectName!==$r.previousId.objectName||$r.currentId.propertyName!==$r.previousId.propertyName,"explorationVersions.generateRenamedDictionaryFromObjectPropertyVersionArray -\n                You can't rename a property to itself!!"),C.f.assert(()=>!Yr||!(0,a.lt)($r.version,qt[Yr-1].version),"explorationVersions.generateRenamedDictionaryFromObjectPropertyVersionArray -\n                We iterate through the renamed visual object property versions in increasing order of version,\n                we do that to create a linked list in case of multiple renames."),null!=$r.types)for(var ta of $r.types)Pi(ta,$r,nr);else for(var ma in Pi(i.p5,$r,nr),nr)Pi(ma,$r,nr)},yr=0,Zr=qt.length;yr<Zr;yr++)fr(yr);return nr}(nr),updated:fr});function Pi(qt,nr,fr){var yr=fr[qt];fr[qt]||(yr=fr[qt]={});var Zr=nr.currentId.objectName,Yr=yr[Zr];Yr||(Yr=yr[Zr]={});var $r=nr.previousId,ta=(ra,ia)=>{var ja=ra&&ra[ia.objectName];return ja&&ja[ia.propertyName]},ma=ta(yr,$r)||ta(fr[i.p5],$r);Yr[nr.currentId.propertyName]={...nr,previous:ma}}function Fi(qt,nr,fr){var yr=fr[qt];fr[qt]||(yr=fr[qt]={});var Zr=nr.property.objectName,Yr=yr[Zr];Yr||(Yr=yr[Zr]={});var $r=nr.property.propertyName,ta=Yr[$r];ta||(ta=Yr[$r]=[]),ta.push(nr),C.f.assert(()=>1===ta.length||!(0,a.lt)(ta[ta.length-1].version,ta[ta.length-2].version),"explorationVersions.setVersionInObjectPropertyVersionDictionary - objectVersionArray should be in increasing order")}function fn(qt,nr,fr,yr,Zr){var Yr=_.some(Zr,ta=>(0,r.jX)(ta.expr))?{hasVisualCalc:!0,allSelects:Zr}:{hasVisualCalc:!1},$r=new O(Yr);return(0,u.Vj)({definitions:qt,descriptors:nr,visitor:(ta,ma,ra,ia)=>{yr=(0,a.Fp)(U.getVersionForSQExprWithDescriptor(ta,ia,Yr),yr)},structuralObjectVisitor:(ta,ma,ra,ia,ja)=>{(Yr?.hasVisualCalc||ia?.fill?.solid?.color)&&((0,P.Jg)(ta,$r),yr=(0,a.Fp)($r.getVersion(),yr))}}),(0,u.rQ)(qt,nr,(ta,ma,ra,ia,ja)=>{var fi=()=>{var ki=(0,u.NA)(qt,{objectName:ia,propertyName:ma},ra);if(ki){var hn=(0,E.oA)(ki,ra,Zr);if(!_.isEmpty(hn))return!0}return!1},Wi=!_.isEmpty(ra?.metadata)&&Yr.hasVisualCalc&&Yr.allSelects.withName(ra.metadata);Wi&&(0,r.jX)(Wi.expr)&&fi()&&(yr=(0,a.Fp)(Wa,yr));var ji=ta[ma];yr=(0,a.Fp)(yr,(0,i.KB)(Li.added,ji,ra,fr,ia,ma,yr,fi)),(0,u.er)(ji)&&(yr=(0,a.Fp)(yr,Br)),ra&&ra.hierarchyMatching===S.e.Partial&&(yr=(0,a.Fp)(yr,ui))}),yr}function Mi(qt,nr){C.f.assertValue(qt,"selectRefExpr should be defined"),C.f.assertValue(nr,"visualCalcInfo should be defined");var fr=qt.expressionName,yr=nr?.hasVisualCalc?nr.allSelects.withName(fr):void 0;return yr?.expr&&(0,r.jX)(yr.expr)}function Ui(qt,nr){return C.f.assertValue(qt,"expr should be defined"),C.f.assertValue(nr,"visualCalcInfo should be defined"),nr.hasVisualCalc&&(0,r.NH)(qt)&&Mi(qt,nr)}},471702:function(ve,j,e){e.d(j,{Dq:function(){return c},KI:function(){return u},Mi:function(){return U},NN:function(){return N},Pq:function(){return W},QK:function(){return C},Rd:function(){return b},Xv:function(){return S},fw:function(){return y},jF:function(){return f},nc:function(){return O},pr:function(){return D},s8:function(){return E},v:function(){return L},xx:function(){return h}});var r=e(60978),i=e(11864),a=e(587233),t=e(41394),l=e(828087),g=e(650543),n=e(62414),p=e(442407),s=e(428776),d=e(741714),o=e(288497),v=e(613384);function m(z){return Math.round(100*n.FP.toPoint(z))/100}function c(z){return void 0!==z&&"log"===z}function C(z){return void 0!==z&&"Right"===z}function y(z){return z?a.ft.fillOnly:a.ft.borderOnly}function S(z){return!z}function h(z){return z?l.Fu.step:l.Fu.linear}function E(z){switch(z){case t.YP:return t.$m.Nil;case t.j0:return t.$m.Top;case t.wI:return t.$m.Bottom;case t.LI:return t.$m.Left;case t.RH:return t.$m.Right;case t.b_:return t.$m.Top|t.$m.Bottom;case t.v3:return t.$m.Left|t.$m.Right;case t.Wi:return t.$m.Top|t.$m.Right|t.$m.Bottom|t.$m.Left;default:return g.f.assertFail("unexpected outline type"),t.$m.Nil}}function u(z){switch(typeof z){case"string":z=+z;case"number":return g.f.assert(()=>!isNaN(z),"pxToPt upgrader encountered NaN"),m(z);default:return g.f.assertFail("pxToPt upgrader encountered non-numerical parameter"),z}}function f(z){z&&(z.objects&&function(z){if(z)for(var H of V)D(z,H)}(z.objects),z.vcObjects&&function(z){if(z){var H=z.visualTooltip&&z.visualTooltip[0]&&z.visualTooltip[0].properties;if(H){var J=H.fontSize;if(J)if(A(J))H.fontSize=O(J);else{var k=i.ib.deserializeExpr(J.expr);H.fontSize=U(O(k))}}}}(z.vcObjects))}function b(z){z&&z.objects&&z.visualType===d.D.textbox&&function(z){if(z){var H=M(z,"general");if(H){var J=H.paragraphs;for(var k of J)for(var G of k.textRuns)if((0,s.IM)(G)&&G.textStyle&&G.textStyle.fontSize){var q=G.textStyle.fontSize,Q=q.indexOf("px");if(-1!==Q){var Z=+q.substr(0,Q);G.textStyle.fontSize=m(Z)+"pt"}}}}}(z.objects)}var V=[{objectName:"valueAxis",propertyName:"fontSize"},{objectName:"valueAxis",propertyName:"titleFontSize"},{objectName:"valueAxis",propertyName:"secFontSize"},{objectName:"valueAxis",propertyName:"secTitleFontSize"},{objectName:"categoryAxis",propertyName:"fontSize"},{objectName:"categoryAxis",propertyName:"titleFontSize"}];function D(z,H){var J=M(z,H.objectName);if(J){var k=J[H.propertyName];if(k)if(A(k))J[H.propertyName]=O(k);else{var G=i.ib.deserializeExpr(k.expr);J[H.propertyName]=U(O(G))}}}function w(z,H){if(z)return z[H]||(z[H]=[]),-1===z[H].findIndex(k=>null==k.selector)&&z[H].push({properties:{}}),M(z,H)}function M(z,H){if(z){var J=z[H];if(J)for(var k of J)if(null==k.selector)return k.properties}}function A(z){return z instanceof p.Il&&(0,r.VC)(z)}function N(z){if(z&&!_.isEmpty(z.rowHeaders)){var k,G,H=M(z,"rowHeaders"),J=H?.stepped;J&&(A(J)?(k=p.jz.getBooleanValue(J),G=!1):(k=L(J),G=!0));var Z,q=M(z,"subTotals"),Q=q?.rowSubtotalsPosition;Q&&(Z=A(Q)?p.jz.getTextValue(Q):L(Q)),!0===k?K(z,o.t.Compact,G):!1===k&&(Z===v.we?K(z,o.t.Outline,G):(g.f.assert(()=>void 0===Z||Z===v.I,"Unexpected rowSubtotalsPosition value"),K(z,o.t.Tabular,G))),void 0!==k&&delete H.stepped,_.isEmpty(H)&&delete z.rowHeaders}}function W(z,H,J){if("table"===z.visualType||"matrix"===z.visualType){if(F(z.objects,"general","textSize","grid"),F(z.objects,"general","autoSizeColumnWidth","columnHeaders"),"table"===z.visualType&&(z.visualType="tableEx",F(z.objects,"general","totals","total")),"matrix"===z.visualType&&J)if(z.objects||(z.objects={}),z.visualType="pivotTable",F(z.objects,"general","columnSubtotals","subTotals"),F(z.objects,"general","rowSubtotals","subTotals"),K(z.objects,o.t.Tabular,H),H)z.projections?.Rows?.forEach(q=>q.active=!0);else{var k=z.query?.projections?.Rows?.all().length;null!=k&&z.query.setActiveProjections(["Rows"],k)}if(null!=z.objects?.general){var G=z.objects.general.findIndex(q=>null==q.selector);G>=0&&(_.isEmpty(z.objects.general[G].properties)&&z.objects.general.splice(G,1),_.isEmpty(z.objects.general)&&delete z.objects.general)}}}function F(z,H,J,k){var G=M(z,H);null!=G?.[J]&&(w(z,k)[J]=G[J],delete G[J])}function U(z){return{expr:i.ib.serializeExpr(z)}}function O(z){var J=m(z.value);return(0,p.gH)(J)}function L(z){if(z&&"expr"in z)return i.ib.deserializeExpr(z.expr).value}function K(z,H,J){g.f.assertValue(z,"setMatrixLayout requires object to be defined");var k=w(z,"general"),G=(0,p.fL)(H);k.layout=J?U(G):G}},481749:function(ve,j,e){e.d(j,{fm:function(){return g},ps:function(){return t},zW:function(){return n}});var r=e(661248),i=e(650543),a=e(572599);function t(){return new l}class l{constructor(){}upgrade(s){if(i.f.assertValue(s,"exploration"),s)for(var d of s.sections)for(var o of d.visualContainers){var v=o.config.singleVisual;if(v){var m=v.objects;if(!n(v.visualType))continue;g(m);var C=(0,r.K)(o.dataTransforms);C&&(g(C.objects),o.dataTransforms=JSON.stringify(C))}}}upgradeFilterCollection(){}upgradeVisualObjects(s,d,o,v){}getVersion(){return a.H3n.v3_19}}function g(p){var s="dataPoint",d="defaultCategoryColor";if(p&&p[s])for(var v of p[s])null==v.selector&&v.properties[d]&&(v.properties.fill=v.properties[d],delete v.properties[d])}function n(p){return _.includes(a.gMq,p)}},925115:function(ve,j,e){e.d(j,{Am:function(){return C},ps:function(){return s}});var r=e(996302),i=e(11864),a=e(661248),t=e(650543),l=e(824282),g=e(759162),n=e(442407),p=e(572599);function s(f){return new d(f)}class d{constructor(b){this.featureSwitchService=b}upgrade(b){if(t.f.assertValue(b,"exploration"),b)for(var V of b.sections)for(var T of V.visualContainers){var P=T.config.singleVisual;if(P){var D=P.visualType,w=P.projections;this.featureSwitchService.featureSwitches.cartesianConditionalFormatting&&(P.objects=o(P.objects,w,D),y(P.objects,w,D,P.prototypeQuery));var M=(0,a.K)(T.dataTransforms);M&&(this.featureSwitchService.featureSwitches.cartesianConditionalFormatting&&(M.objects=o(M.objects,w,D),y(M.objects,w,D,P.prototypeQuery)),T.dataTransforms=JSON.stringify(M))}}}upgradeFilterCollection(){}upgradeVisualObjects(b,V,T,P){}getVersion(){return p.FL3}}function o(f,b,V){var T=v(V),P=b&&!_.isEmpty(b[T]);return"scatterChart"===V&&P&&null==(0,r.un)(f,"fillPoint")&&(f||(f={}),f.fillPoint=[{properties:{show:{expr:i.ib.serializeExpr((0,n.O7)(!0))}}}]),f}function v(f){switch(f){case"filledMap":return"Size";case"barChart":case"clusteredBarChart":case"clusteredColumnChart":case"columnChart":case"funnel":case"hundredPercentStackedBarChart":case"hundredPercentStackedColumnChart":case"map":case"treemap":case"scatterChart":return"Gradient"}}function m(f){switch(f){case"filledMap":case"barChart":case"clusteredBarChart":case"clusteredColumnChart":case"columnChart":case"funnel":case"hundredPercentStackedBarChart":case"hundredPercentStackedColumnChart":case"map":case"treemap":case"scatterChart":return"Tooltips"}}function c(f,b){return"filledMap"===f&&b&&!_.isEmpty(b.Series)&&!_.isEmpty(b.Size)}function C(f,b,V){var D=v(V);if(D){var w=b?.getQueryRef(D,{fieldIndex:0});if(w){t.f.assertValue(b.defn,"upgradeGradientOnObjectDef - semantic query should exist");var M=b.defn.select().withName(w);t.f.assertValue(M,"upgradeGradientOnObjectDef - query named expr should exist");var A=f&&f.dataPoint;if(!_.isEmpty(A))for(var R of A){var B=R.properties.fillRule;if(null==R.selector&&B){if(c(V,b.projections)||A.push({selector:{data:[(0,g.Ue)(l.v.InstancesOnly)]},properties:{fill:{solid:{color:(0,n.x5)(M.expr,B)}}}}),A.splice(A.indexOf(R),1),1===b.getUsageCount(w)){var N=b.tryGetExpr(D,0),W=m(V);t.f.assertValue(W,"tooltips role should exist for visuals with gradient upgrade."),b.add(N,W)}b.removeProjection(D,{fieldIndex:0});break}}}}}function y(f,b,V,T){var D="fillRule",M=v(V);if(M){var A=b&&b[M];if(!_.isEmpty(A)){var R=A[0].queryRef;if(R){var B=_.cloneDeep(_.find(T&&T.Select,L=>L.Name===R));if(B){delete B.Name;var N=B.Aggregation||B.Measure;if(N){var W=N.Expression.Column&&N.Expression.Column.Expression.SourceRef||N.Expression.SourceRef;if(W){var F=_.find(T.From,L=>L.Name===W.Source);if(F){W.Entity=F.Entity,delete W.Source;var U=f&&f.dataPoint;if(!_.isEmpty(U))for(var O of U)if(null==O.selector&&O.properties[D]){if(!c(V,b)){var x=_.cloneDeep(O.properties[D]);U.push({selector:{data:[{dataViewWildcard:{matchingOption:l.v.InstancesOnly}}]},properties:{fill:{solid:{color:{expr:{FillRule:{FillRule:u(x),Input:B}}}}}}})}if(U.splice(U.indexOf(O),1),delete b[M],!S(R,b)){var I=m(V);t.f.assertValue(I,"tooltips role should exist for visuals with gradient upgrade."),b[I]||(b[I]=[]),b[I].push(...A||[])}break}}}}}}}}}function S(f,b){for(var V in b)if(_.some(b[V],P=>P.queryRef===f))return!0;return!1}function h(f){f.color&&(f.color=f.color.expr),f.value&&(f.value=f.value.expr),f.strategy&&(f.strategy=f.strategy.expr)}function E(f){h(f.min),h(f.max),f.mid&&h(f.mid),f.nullColoringStrategy&&h(f.nullColoringStrategy)}function u(f){return f.linearGradient2&&E(f.linearGradient2),f.linearGradient3&&E(f.linearGradient3),f}},667012:function(ve,j,e){e.d(j,{U:function(){return i},v:function(){return r}});var r=function(a){return a[a.Visual=1]="Visual",a[a.VisualContainer=2]="VisualContainer",a}({}),i=function(a){return a[a.Visual=1]="Visual",a[a.VisualContainer=2]="VisualContainer",a}({})},122186:function(ve,j,e){e.d(j,{x:function(){return i}});var r=e(893910);function i(t){return new a(t)}class a{constructor(l){this.downgraders=l}getFinalVisualObjectsVersion(l,g,n,p){for(var s of this.downgraders)n=(0,r.Fp)(n,s.getMinDowngradeVersionForVisualObjects(l,g,p));return n}downgrade(l,g,n,p){for(var s of this.downgraders)s.downgradeVisualObjects(l,g,n,p)}}},858556:function(ve,j,e){e.d(j,{U:function(){return i}});var r=e(893910);function i(t){return new a(t)}class a{constructor(l){this.upgraders=l}upgrade(l,g,n,p){for(var s of this.upgraders){var d=s.getVersion();(0,r.gt)(d,p)&&s.upgradeVisualObjects(l,g,n,p)}}}},613856:function(ve,j,e){e.d(j,{q:function(){return g},v:function(){return l}});var r=e(150864),i=e(661248),a=e(650543),t=e(316109);function l(n,p,s,d){a.f.assertValue(n,"input");var o=[],v={objectId:n.objectId,name:n.objectId,type:n.type};n.creationTime&&(v.creationTime=new Date(Date.parse(n.creationTime))),n.expirationTime&&(v.expirationTime=new Date(Date.parse(n.expirationTime))),n.displayName&&(v.displayName=n.displayName),n.isDefault&&(v.isDefault=n.isDefault),null!=n.id&&(v.id=n.id);try{var m;n.explorationState&&((m=(0,i.K)(n.explorationState))||o.push({code:r.u.JSONSerialization})),m&&(v.explorationState=(0,t.vB)(m,p,s,d))}catch(C){o.push({code:r.u.ExplorationStateSerialization,message:C.message,stack:C.stack})}var c={contract:v};return _.isEmpty(o)||(c.errors=o),c}function g(n,p,s,d,o){a.f.assertValue(n,"input");var v={objectId:n.objectId,type:n.type};if(n.creationTime&&(v.creationTime=n.creationTime.toISOString()),n.expirationTime&&(v.expirationTime=n.expirationTime.toISOString()),n.displayName&&(v.displayName=n.displayName),n.isDefault&&(v.isDefault=n.isDefault),null!=n.id&&(v.id=n.id),n.explorationState){var m=(0,t.qC)(n.explorationState,p,d,o,s);v.explorationState=JSON.stringify(m)}return v}},671415:function(ve,j,e){e.d(j,{y:function(){return i}});var r=e(650543);function i(){return new a}class a{constructor(){this.isPaused=!1}register(l){for(var g=Object.create({}),n=l;n;)Object.getOwnPropertyNames(n).forEach(s=>{if("function"==typeof n[s]&&"constructor"!==s){if(void 0!==g[s])return;g[s]=n[s].bind(g)}}),n=Object.getPrototypeOf(n);return this.updateService(g),g}pause(){this.isPaused=!0}resume(){this.isPaused=!1}updateService(l){var g=this;r.f.assertAnyValue(l,"service");var n=function(){if(_.isFunction(l[p])){var s=l[p],d=g;l[p]=function(){if(!d.isPaused)return s.apply(l,arguments)}}};for(var p in l)n()}}},946017:function(ve,j,e){e.d(j,{I:function(){return C}});var r=e(318456),i=e(452566),a=e(336596),t=e(650543),l=e(630881),g=e(481785),n=e(66301),p=e(455235),s=e(442407),d=e(832573),o=e(76395),v=e(636685),m=e(661214),c=e(426313);function C(E,u,f){return new y(E,u,f)}var y=(()=>{class E{constructor(f,b,V){t.f.assertValue(f,"displayNameService"),t.f.assertValue(V,"visualPluginService"),this.displayNameService=f,this.featureSwitches=b,this.visualPluginService=V}getSortableFields(f){t.f.assertValue(f,"options");var b=f.visualType,V=this.visualPluginService.capabilities(b);if(!V||!this.isVisualSortable(V))return{sortableFields:[],sortGroups:[]};var T=this.createIsRoleSortableDelegate(b,f.compiledMappings);return this.getGroupedSortableFieldsFromProjections(f.query,f.schema,V,f.columnProperties,T)}createIsRoleSortableDelegate(f,b){var V=this.visualPluginService.getPlugin(f),T=this.visualPluginService.capabilities(f);if(!V.getSortableRoles||!T.sorting)return D=>!0;var P=V.getSortableRoles({dataViewMappings:b});return _.isEmpty(P)?D=>!1:D=>P.indexOf(D)>=0}addSort(f,b){f&&f.defn&&b&&(f.defn=f.defn.orderBy(b))}removeSort(f,b){if(f&&f.defn&&b)for(var V of b)f.defn=f.defn.removeOrderBy(V.expr)}resetSort(f){if(f&&f.defn){var b=f.defn.orderBy();this.removeSort(f,b)}}applyImplicitSort(f,b){if(t.f.assertValue(f,"query"),t.f.assertAnyValue(b,"implicitSort"),!b)return f;var V=f.defn;if(!V)return f;var T=b.clauses,P=V.select(),D=[];for(var w of T){var M=(0,g.cY)(f.projections,w.role);if(M){var A=w.direction;D.push(..._.map(M.all(),R=>({expr:P.withName(R.queryRef).expr,direction:A})))}}return _.isEmpty(D)?f:new v.g(V.orderBy(D),f.projections,f.expansionStates,f.isDrillDisabled)}shouldApplyDefaultSort(f,b){if(b.sorting?.custom||b.sorting?.implicit)return!1;var V=f.query;if(!V)return!1;var T=(0,m.i1)(V),P=(0,n.Lo)(V.projections,b.dataViewMappings,T,this.featureSwitches.featureSwitches),D=P?.supportedMappings?.[0];return!(D?.matrix&&(0,a.D4)(D))&&(f.hasDefaultSort||_.isEmpty(f.query.defn.orderBy()))}ensureValidSorting(f){t.f.assertValue(f,"options");var b=f.query,V=b.defn;if(!V)return b;var T=V.orderBy();if(_.isEmpty(T))return b;var P=this.getSortableFields(f).sortableFields,D=[];if(!_.isEmpty(P))for(var w of P)D.push(...this.createSortDefinitions(w));for(var M=!1,A=function(B){if(_.find(D,N=>(0,c.fS)(N.expr,T[B].expr)))return 1;T.splice(B,1),M=!0},R=T.length-1;R>=0;R--)A(R);return M?new v.g(V.orderBy(T),b.projections,b.expansionStates,b.isDrillDisabled):b}isVisualSortable(f){return _.some(f.dataRoles,b=>b.kind!==l.DW.Measure)}getGroupedSortableFieldsFromProjections(f,b,V,T,P){var D=f.defn.select(),w=f.defn.orderBy(),M=(0,m.i1)(f),A=(0,n.Lo)(f.projections,V.dataViewMappings,M,this.featureSwitches.featureSwitches),B=new h(P,(W,F,U,O)=>{var x=f.getRolesActiveProjectionsRefs([W],!1,!0);return _.isEmpty(x)?[]:this.createSortableFieldsForQueryRefs(b,D,x,w,V,T,U!==S.Independent,F,O)});if(A.supportedMappings)for(var N of A.supportedMappings)N.matrix&&(0,a.D4)(N)?(0,p.Jj)(N.matrix,B):N.categorical&&(0,p.aU)(N.categorical,B);return _.isEmpty(B.groups)?this.getDefaultGroupSortableFieldsFromProjections(f,A,b,V,T,P):{sortableFields:B.allSortableFields,sortGroups:B.groups}}getDefaultGroupSortableFieldsFromProjections(f,b,V,T,P,D){t.f.assertNonEmpty(T.dataRoles,"Unexpected empty dataRoles");var w=[],M=f.defn.select(),A=f.defn.orderBy(),R=_.some(b.supportedMappings,x=>x.categorical);for(var B of T.dataRoles){var N=B.name;if(D(N)){var W=f.getRolesActiveProjectionsRefs([N],!1,!0);if(!_.isEmpty(W)){var F=!_.isEmpty(f.projections[N].activeProjectionRefs),O=this.createSortableFieldsForQueryRefs(V,M,W,A,T,P,R&&F,E.DefaultSortGroupKey);w.push(...O)}}}return this.createResultWithSortGroup(w)}createSortableFieldsForQueryRefs(f,b,V,T,P,D,w,M,A){var N,R=this,B=!1,W=Number.MAX_VALUE,F=[],U=[],O=[],x=function(){var K=b.withName(I),z=K?.expr;if(!z||!d.m.isExprValidForSorting(z))return 1;var H=R.getDisplayNameFromQueryRef(f,b,I,P,D),J=R.applySortingScope(z,A),k=_.findIndex(T,G=>(0,c.fS)(G.expr,J));k!==o.bN&&(W=Math.min(W,k)),w?((B=B||k!==o.bN)&&!N&&(t.f.assert(()=>k!==o.bN,"invalidSortExprIndex"),N=T[k].direction),U.push({name:I,expr:z}),O.push(H)):F.push({displayName:H,exprs:[K],active:B=k!==o.bN,orderByIndex:B?k:void 0,sortDirection:N=B?T[k].direction:void 0,groupKey:M,scope:A})};for(var I of V)x();return w?_.isEmpty(U)?[]:[{displayName:O.join(" "),exprs:U,active:B,orderByIndex:B?W:void 0,sortDirection:B?N:void 0,groupKey:M,scope:A}]:F}getDisplayNameFromQueryRef(f,b,V,T,P){var D=b.withName(V)?.expr;return D?this.displayNameService.getDisplayName(D,f,T,V,P):""}createResultWithSortGroup(f){var b=[];return _.isEmpty(f)||b.push({key:E.DefaultSortGroupKey,displayName:null,fields:f,isDefaultGroup:!0}),{sortableFields:f,sortGroups:b}}createSortDefinitions(f){var b=[];for(var V of f.exprs)b.push({expr:this.applySortingScope(V.expr,f.scope),direction:f.sortDirection??r.S.Descending});return b}applySortingScope(f,b){return _.isEmpty(b)?f:(0,s.ed)(f,b)}}return E.DefaultSortGroupKey="Default",E})(),S=function(E){return E[E.Independent=0]="Independent",E[E.Combined=1]="Combined",E}({}),h=(()=>{class E{constructor(f,b){this.isRoleSortable=f,this.getSortableFieldsForRole=b,this.groups=[],this.allSortableFields=[],this.uniqueGroupKeys=[],this.uniqueRoles=[]}visitRole(f,b){if(this.isRoleSortable(f))switch(b){case p.Fk.MatrixColumnsGroup:case p.Fk.CategoricalSeries:this.addRole(f,i.I.Legend,S.Combined);break;case p.Fk.MatrixRowsGroup:return void this.addRole(f,f,S.Combined);case p.Fk.CategoricalCategory:return void this.addRole(f,i.I.Category,S.Combined);case p.Fk.MatrixIntersection:case p.Fk.MatrixRowsScopedValue:return void this.addRole(f,i.I.Rows,S.Independent,!0,[(0,s.Wu)("Rows")]);case p.Fk.CategoricalValue:case p.Fk.CategoricalValueGroup:return void this.addRole(f,i.I.Category,S.Independent,!0);default:return void t.f.assertFail("Unexpected context: "+b)}}addRole(f,b,V,T=!1,P){var D;if(T){if(!(D=_.find(this.groups,M=>M.key===b)))return}else D={key:b,displayName:E.RoleToSortGroupDisplayName[b],fields:[]};var w=this.getSortableFieldsForRole(f,b,V,P);_.isEmpty(w)||(_.includes(this.uniqueRoles,f)||(this.allSortableFields.push(...w),this.uniqueRoles.push(f)),D.fields.push(...w),!T&&!_.includes(this.uniqueGroupKeys,D.key)&&(this.groups.push(D),this.uniqueGroupKeys.push(D.key)))}visitReduction(){}enterComposite(){}exitComposite(){}}return E.RoleToSortGroupDisplayName={[i.I.Rows]:"Sort_Group_Small_multiples",[i.I.Category]:"Sort_Group_Axis",[i.I.Legend]:"Sort_Group_Legend"},E})()},109673:function(ve,j,e){e.d(j,{WP:function(){return s},be:function(){return o},nT:function(){return p}});var r=e(167165),i=e(650543),a=e(704251),t=e(719242),l=e(97964),g=e(216070),n=e(60978);function p(y,S,h,E,u){return new C(y,S,h,E,u)}function s(y,S,h,E){i.f.assertValue(E,"references"),i.f.assertAnyValue(S,"descriptors"),y&&(0,t.Vj)({definitions:y,descriptors:S,visitor:u=>{if((0,n.MI)(u)){var f=(0,g.pd)(h,u.packageType,u.packageName),b=(0,g.NW)(f,u.itemName);b&&o(E,f.name,f.type,b.name,b.type)}}})}function d(y,S,h){return i.f.assertValue(y,"references should exist."),y[S]||(y[S]={items:{},name:S,type:h}),y[S]}function o(y,S,h,E,u){i.f.assertValue(y,"references should exist.");var f=d(y,S,h).items;return f[E]=f[E]||{name:E,type:u}}function v(y,S,h){var E=y[S];return E&&E.items&&E.items[h]}function c(y,S){for(var h in y){var E=y[h];for(var u in E.items)S(E,E.items[u])}}class C{constructor(S,h,E,u,f){this.promiseFactory=S,this.resourceLoader=h,this.explorationNavigation=E,this.explorationSerializer=u,this.resourceRegistration=f,this.restorableReferenceSources=[],this.preservedReferences={}}addReferenceSource(S){this.restorableReferenceSources.push(S)}removeReferenceSource(S){_.pull(this.restorableReferenceSources,S)}garbageCollectUnreferencedStaticResources(){var S=this.explorationNavigation.getCurrentExploration(),h=S&&S.resourcePackages;if(h){for(var E=this.explorationSerializer.getReferencedStaticResources(S),u=this.getRestorableReferences(),f=[],b=h.length-1;b>=0;b--){var V=h[b];(0,g.In)(V)&&(this.garbageCollectItems(V,E,this.preservedReferences,u,f),_.isEmpty(V.items)&&_.pull(h,V))}return _.isEmpty(h)&&delete S.resourcePackages,this.cleanPreservedReferences(E,u),f}}cleanPreservedReferences(S,h){c(this.preservedReferences,(E,u)=>{(v(S,E.name,u.name)||!v(h,E.name,u.name))&&function(y,S,h){var E=y[S];if(E){var u=E.items;delete u[h],0===_.size(u)&&delete y[S]}}(this.preservedReferences,E.name,u.name)})}getRestorableReferences(){var S={};for(var h of this.restorableReferenceSources)c(h.getReferences(),(E,u)=>{o(S,E.name,E.type,u.name,u.type)});return S}garbageCollectItems(S,h,E,u,f){i.f.assertValue(S,"Resource package should exist in order to be garbage collected"),i.f.assertValue(h,"referencedResources should exist in order to garbage collect items"),i.f.assertValue(E,"perservedReferences should exist in order to garbage collect items"),i.f.assertValue(u,"restorableReferences should exist in order to garbage collect items"),i.f.assertValue(f,"unreferencedResources should exist in order to garbage collect items");for(var b=S.items,V=S.name,T=_.size(b)-1;T>=0;T--){var P=b[T],D=P.name;v(h,V,D)||(v(u,V,D)&&this.preserveItem(S,D,P.type),f.push(V+"/"+P.path),_.pull(b,P))}}preserveItem(S,h,E){var u=o(this.preservedReferences,S.name,S.type,h,E);u.uri||(u.uri=(0,l.dR)(S,h,this.resourceLoader,this.promiseFactory).then(f=>((0,a.pU)(f)||(f=(0,a.wo)(f)),f)))}loadItemsContent(S){var h=this,E=[],u=this.explorationNavigation.getCurrentExploration(),f=u&&u.resourcePackages;for(var b in S){var V=S[b];if(V.type===r.v.RegisteredResources){var T=V.items,P=function(){var w=T[D];E.push((0,l.k4)(h.promiseFactory,h.resourceLoader,f,w.name).then(M=>{w.content=M}))};for(var D in T)P()}}return this.promiseFactory.all(E).then(()=>{})}addItemsContent(S){var h=this.explorationNavigation.getCurrentExploration();for(var E in S){var u=S[E],f=u.items;for(var b in f){var V=f[b];this.addResource(h.resourcePackages,E,u.type,V.name,V.type,V.content)}}}needingRestore(S){if(!_.isEmpty(S)){var h=this.explorationNavigation.getCurrentExploration();if(h){var E=h&&h.resourcePackages;if(!_.isEmpty(E)){var u={};return c(S,(f,b)=>{var V=f.name,T=b.name,P=v(this.preservedReferences,V,T);P&&!(0,g.Yu)(E,f.type,b.name,V)&&(d(u,V,f.type).items[T]=P)}),u}}}}addResource(S,h,E,u,f,b){(0,g.Yu)(S,E,u,h)||this.resourceRegistration.add(u,E,f,{content:b,skipUniqueName:!0})}restoreReferences(S){var h=this.needingRestore(S),E=[];return c(h,(u,f)=>{E.push(f.uri.then(b=>{this.resourceRegistration.restore(f.name,u.type,f.type,b)}))}),this.promiseFactory.all(E).then(()=>{})}}},681678:function(ve,j,e){e.d(j,{Z:function(){return i}});var r=e(650543);class i{register(t,l,g){var n=l();return{actionResult:n,succeeded:!(_.isBoolean(n)&&!n)}}getTopUndoFrame(){r.f.assertFail("Can not get top undo frame")}canRedo(){return!1}canUndo(){return!1}canClear(){return!1}undo(){return r.f.assertFail("Undo is not supported"),!1}redo(){return r.f.assertFail("Redo is not supported"),!1}clear(){return r.f.assertFail("Clear is not supported"),!1}getReferences(){return{}}}},983522:function(ve,j,e){e.d(j,{T:function(){return t},x:function(){return l}});var r=e(650543),i=e(274493),a=e(681678);class t{constructor(p,s){this.visualContainerName=p,this.action=s}equals(p){return!!p&&this.action===p.action&&this.visualContainerName===p.visualContainerName}}function l(n,p,s="UndoRedo",d=new a.Z){return new g(n,p,s,d)}class g{constructor(p,s,d,o){this.eventBridge=p,this.loggerService=s,this.undoRedoLogEntryType=d,this.strategy=o}setStrategy(p){this.clear(),this.strategy=p}undo(){!this.verifyStrategy()||!this.canUndo()||setTimeout(()=>{this.strategy&&this.strategy.undo()&&(this.runSideEffects(),this.fireEvents())})}redo(){!this.verifyStrategy()||!this.canRedo()||setTimeout(()=>{this.strategy&&this.strategy.redo()&&(this.runSideEffects(),this.fireEvents())})}registerSideEffect(p){this.sideEffects||(this.sideEffects=[]),this.sideEffects.push(p)}clear(){this.verifyStrategy()&&(this.strategy.canClear()&&this.strategy.clear(),this.eventBridge.publishToChannel(i.WR7))}canRedo(){return this.verifyStrategy()&&this.strategy.canRedo()}canUndo(){return this.verifyStrategy()&&this.strategy.canUndo()}getTopUndoFrame(){return this.verifyStrategy()&&this.strategy.getTopUndoFrame()}undoRedoPostProcessing(p){this.loggerService.addUserAction({message:p,type:this.undoRedoLogEntryType}),setTimeout(_.noop)}register(p,s,d){var o,v=!1;if(this.verifyStrategy()){var m=this.strategy.register(p,s,d);o=m.actionResult,v=m.succeeded}else o=s(),v=!(_.isBoolean(o)&&!o);return v&&(this.runSideEffects(p),this.fireEvents()),this.undoRedoPostProcessing(p),o}fireEvents(){this.eventBridge.publishToChannel(i.t4l,{explorationContentChanged:!0}),this.eventBridge.publishToChannel(i.WR7)}runSideEffects(p){if(!_.isEmpty(this.sideEffects))for(var s of this.sideEffects)s.run(p)}verifyStrategy(){return r.f.assert(()=>!!this.strategy,"undoRedoService functions should not be called without a strategy"),!!this.strategy}}},256545:function(ve,j,e){e.d(j,{gp:function(){return l}});var r=e(650543);class i{constructor(s){this.count=0,this.top=-1,r.f.assert(()=>s>=1,"Size cant be less than 1"),this.size=s,this.data=new Array(s)}item(s){r.f.assert(()=>s>=0&&s<this.count,"index out of range");var d=this.top-(this.count-1);return d<0&&(d+=this.size),this.data[(s+d)%this.size]}push(s){this.count<this.size&&this.count++,this.top=++this.top%this.size,this.data[this.top]=s}pop(){if(0!==this.count){this.count--;var s=this.data[this.top];return delete this.data[this.top],-1==--this.top&&this.count>0&&(this.top=this.size-1),s}}peek(){return this.data[this.top]}clear(){this.count=0,this.top=-1,this.data=new Array(this.size)}get length(){return this.count}}var a=e(399026);class l{constructor(s,d,o,v){this.handler=s,this.staticResourceReferences=d,this.telemetry=o,this.visibilityService=v,this.undoStack=new i(10),this.redoStack=new i(10),this.staticResourceReferences.addReferenceSource(this)}register(s,d,o){var v=this.withTelemetry(()=>this.captureUndoFrame(this.handler),a.M1.Capture,s);v.recurringActionInfo=o;var m=this.canMergeWithTopFrame(o),c=this.startTransaction(v),C=d();r.f.assert(()=>!this.isIPromise(C),"UndoRedoService.register does not support promise types");var y=!(_.isBoolean(C)&&!C);return y?this.endTransaction(c,m):this.cancelTransaction(c),{succeeded:y,actionResult:C}}getReferences(){return this.addStackReferences(this.undoStack,this.addStackReferences(this.redoStack))}addStackReferences(s,d){d=d||{};for(var o=s.length;o-- >0;)_.merge(d,s.item(o).getReferences());return d}undo(){var s=!1;return this.canUndo()&&(s=this.withTelemetry(()=>this.rollbackTop(this.undoStack,this.redoStack),a.M1.Undo,""),this.telemetry.logEvent(a.s$,{times:this.redoStack.length})),s}redo(){var s=!1;return this.canRedo()&&(s=this.withTelemetry(()=>this.rollbackTop(this.redoStack,this.undoStack),a.M1.Redo,"")),s}clear(){return this.undoStack.clear(),this.redoStack.clear(),!0}canRedo(){return this.redoStack.length>0}canUndo(){return this.undoStack.length>0}canClear(){return!0}getTopUndoFrame(){var s=this.undoStack.peek();return s?s.getFrame():void 0}withTelemetry(s,d,o){var v=this.visibilityService.get(),m=v?.visibility,c=this.telemetry.startEvent(a.hs,{description:o,event:d,visibility:m}),C=s();return c.resolve(),C}canMergeWithTopFrame(s){if(!s)return!1;if(this.canUndo()){var d=this.getTopUndoFrame();if(d&&void 0!==d.recurringActionInfo&&d.recurringActionInfo.equals(s))return!0}return!1}rollbackTop(s,d){var o=s.pop();if(o){var v=o.rollbackFrame(),m=this.validTransactionCheck(v);return m&&d.push(v),m}r.f.assertFail("UndoRedoService.rollbackTop received an empty source")}isIPromise(s){return s&&s.finally}startTransaction(s){r.f.assertValue(s,"undoFrame");var d=new n;return this.currentTransaction||(this.currentTransaction=d,this.currentTransaction.addUndoFrame(s)),this.currentTransaction}endTransaction(s,d){r.f.assertValue(s,"transaction"),r.f.assert(()=>s===this.currentTransaction,"nested transactions are not allowed"),d||(this.redoStack.clear(),this.validTransactionCheck(this.currentTransaction)&&this.undoStack.push(this.currentTransaction)),this.currentTransaction=void 0}cancelTransaction(s){r.f.assertValue(s,"transaction"),r.f.assert(()=>s===this.currentTransaction,"nested transactions are not allowed"),this.currentTransaction=void 0}captureUndoFrame(s){return r.f.assertValue(s,"container"),new g(s)}validTransactionCheck(s){return r.f.assertValue(s,"null or undefined transaction values cannot be put on undo or redo stack."),!!s}}class g{constructor(s,d){r.f.assertValue(s,"handler"),this.handler=s,this.snapshot=this.handler.takeSnapshot(d)}rollbackFrame(){var s=new g(this.handler,this.snapshot);return this.handler.rollback(this.snapshot),s}getReferences(){return this.snapshot.getReferences&&this.snapshot.getReferences()}}class n{constructor(s){this.frames=s||[]}addUndoFrame(s){this.frames.push(s)}rollbackFrame(){var s=_.map(this.frames,d=>{if(r.f.assertValue(d,"frame"),d)return d.rollbackFrame()});return new n(s)}getFrame(){return r.f.assert(()=>1===this.frames.length,"frame length"),this.frames[0]}getReferences(){var s={};for(var d of this.frames)_.merge(s,d.getReferences());return s}}},530794:function(ve,j,e){e.d(j,{J:function(){return p}});var r=e(650543),i=e(324569),a=e(475507),t=e(399026),l=e(461251),g=e(274493),n=e(555254);function p(v,m,c,C){return new s(v,m,c,C)}class s{constructor(m,c,C,y){this.telemetryService=m,this.eventBridge=c,this.selectionService=C,this.explorationNavigation=y,r.f.assertValue(m,"telemetryService"),r.f.assertValue(c,"eventBridge"),r.f.assertValue(C,"selection"),this.selectionService=C,c.createChannelSubscriptionManager().subscribe(g.tRg,()=>this.updatePopOutMode()).subscribe(g.aco,(S,h)=>this.onFormFactorChanged(h.layout))}get(m){r.f.assert(()=>m!==i.sB.None,"mode !== VisualVisibility.None");var c=this.explorationNavigation.getCurrentSection(),C=c&&c.poppedOutElement;if(C&&(m||(m=i.sB.Maximize|i.sB.MaximizeWithData|i.sB.MaximizeWithDataAccessible|i.sB.VisualCalcEditing),m&C.visibility))return C.visualContainer}set(m,c,C=!0){if(r.f.assertValue(m,"visualContainer"),r.f.assertValue(c,"visibility"),c!==i.sB.None){var y={visualContainer:m,visibility:c},S=this.explorationNavigation.getAllSections(),h=_.find(S,u=>u.visualContainers.indexOf(m)>=0);h&&(function(v,m){return(v=v||null)===(m=m||null)||!(!v!=!m||(r.f.assertValue(v,"left"),r.f.assertValue(m,"right"),v.visualContainer!==m.visualContainer||v.visibility!==m.visibility))}(y,h&&h.poppedOutElement)||(this.clearInternal(!1,!1),!n.UP.isCanvasItemSelected(m,this.selectionService)&&c!==i.sB.Elevation&&n.UP.selectCanvasItem(m,this.selectionService),this.setMode(y,c,C),h.poppedOutElement=y,this.poppableItem=y,this.raiseEvent(this.generateVisibilityChangedEventArgs(c))))}else this.clearInternal(!0,C)}clear(){this.clearInternal()}clearForVisualContainers(m){var c=this.explorationNavigation.getCurrentSection(),C=c&&c.poppedOutElement;if(C)for(var y of m)if(C.visualContainer===y){this.clearInternal();break}}onFormFactorChanged(m){var c=this.explorationNavigation.getCurrentSection(),C=c?.poppedOutElement;C&&(C.visualContainer.layouts.withId(m)||this.clearInternal())}clearInternal(m=!0,c=!0){var C=this.explorationNavigation.getCurrentSection(),y=C&&C.poppedOutElement;if(y){var S=this.poppableItem.visibility;this.setMode(y,i.sB.None,c),C.poppedOutElement=void 0,m&&this.raiseEvent(this.poppableItem&&this.poppableItem.visualContainer===y.visualContainer?this.generateVisibilityChangedEventArgs(S):void 0),this.poppableItem=void 0}}isSeeDataMode(m){return m&&(m===i.sB.MaximizeWithData||m===i.sB.MaximizeWithDataAccessible||m===i.sB.VisualCalcEditing)}updatePopOutMode(){var m=n.UP.getDefaultSelectedVisualInSingleOrMultiCase(this.selectionService);m&&(0,a.Vz)(m)&&null!=m.visibility&&m.visibility!==i.sB.None?this.set(m,m.visibility,!1):this.clearInternal(!0,!1)}raiseEvent(m){this.eventBridge.publishToChannel(g.y5h,m)}setMode(m,c,C){var y=m.visualContainer;if(C){var S=function(v){switch(v){case i.sB.Maximize:return t.Yy.Maximized;case i.sB.MaximizeWithData:return t.Yy.MaximizedWithData;case i.sB.MaximizeWithDataAccessible:return t.Yy.MaximizedWithAccessibleData;case i.sB.Spotlight:return t.Yy.Spotlight;case i.sB.Elevation:return t.Yy.Elevation;case i.sB.VisualCalcEditing:return t.Yy.VisualCalcEditing;default:return t.Yy.Normal}}(c);this.telemetryService.logEvent(t.F,{visualType:(0,l.s)(y),displayType:S,visualName:m.visualContainer.name})}y.visibility=c}generateVisibilityChangedEventArgs(m){return{preserveScroll:m===i.sB.Spotlight||m===i.sB.Elevation}}}},486442:function(ve,j,e){e.d(j,{_6:function(){return Ue},Vz:function(){return te},hQ:function(){return ot}});var r=e(318456),i=e(479265),a=e(147818),t=e(322543),l=e(336596),g=e(544211),n=e(990297),p=e(650543),s=e(62414),d=e(734531),o=e(630881),v=e(387864),m=e(171150),c=e(481785),C=e(191282),y=e(66301),S=e(719242),h=e(559698),E=e(482693),u=e(123916),f=e(402623),b=e(140346),V=e(604481),T=e(810331),P=e(827161),D=e(914094),w=e(442407),M=e(6655),A=e(832573),R=e(619538),B=e(561415),N=e(31249),W=e(636685),F=e(891135),U=e(270305),O=e(122132),x=e(989831),I=e(661214),K=e(104816),z=e(324569),H=e(285886),J=e(734399),k=e(922181),G=e(247425);class q extends G.b{constructor(Ae,we,Ne){super(),this.visualCalcDaxParserServiceContext=Ne,this.oldNativeRefereName=Ae,this.newNativeReferenceName=we}visitNativeVisualCalc(Ae){if(Ae.name===this.newNativeReferenceName)return Ae;null==this.daxContext&&(this.daxContext=this.visualCalcDaxParserServiceContext.service.getContext(this.visualCalcDaxParserServiceContext.nativeReferences,this.visualCalcDaxParserServiceContext.reservedWords,this.visualCalcDaxParserServiceContext.daxCapabilities));var we=this.visualCalcDaxParserServiceContext.service.renameReference(this.daxContext,Ae.expression,this.oldNativeRefereName,this.newNativeReferenceName);return(0,w.YU)(Ae.name,we,Ae.dataType,Ae.getAnnotations())}}var Q=e(60978),Z=e(509247),X=e(426313),re=e(741714);function te(Ke,Ae,we,Ne,Se,Ie){return new Ct(Ke,Ae,we,Ne,Se,Ie)}var se=function(Ke){return Ke[Ke.none=0]="none",Ke[Ke.updateFilter=1]="updateFilter",Ke[Ke.clearFilter=2]="clearFilter",Ke}({});function Ue(Ke,Ae,we,Ne){if(!Ke)return!1;var Se=!1;function Ie(ne,Fe,$e,qe){Ne&&Ne(ne.objectName,ne.selector,Fe,$e,qe,qe&&ne.properties&&ne.properties[Fe])}if(Ke.replace)for(var me of Ke.replace){var Oe=(0,S.zx)(we,me.objectName,me.selector),Ee={};for(var xe in me.properties)(0,h.e4)(xe)?Ee[xe]=ft(me,xe,Ae):p.f.assertFail("Invalid property name");var ye=Oe.properties;if(!(0,S.Pg)(ye,Ee)){Se=!0;var Je=(0,S.hu)(ye,Ee);for(var he of Je)Ie(me,he,ye[he],Ee[he]);Oe.properties=Ee}}if(Ke.merge)for(var Ce of Ke.merge){var je=(0,S.zx)(we,Ce.objectName,Ce.selector);for(var pe in Ce.properties)if((0,h.e4)(pe)){var Qe=ft(Ce,pe,Ae);(0,S.ES)(je.properties[pe],Qe)||(Se=!0,Ie(Ce,pe,je.properties[pe],Qe),je.properties[pe]=Qe)}else p.f.assertFail("Invalid property name")}if(Ke.remove)for(var ut of Ke.remove){var lt=(0,S.my)(we,ut.objectName,ut.selector);if(lt)for(var Et in ut.properties)(0,h.e4)(Et)?lt.properties.hasOwnProperty(Et)&&(Se=!0,Ie(ut,Et,lt.properties[Et],void 0),delete lt.properties[Et]):p.f.assertFail("Invalid property name")}if(Ke.removeObject)for(var bt of Ke.removeObject){var Ot=(0,S.my)(we,bt.objectName,bt.selector);if(Ot){if(Ne)for(var Dt in Ot.properties)Ie(bt,Dt,Ot.properties[Dt],void 0);Se=(0,S.AV)(we,bt.objectName,bt.selector)||Se}}return Se}function ot(Ke,Ae,we){if(Ke.name!==a.xV.rows||!(0,l.qU)(we?.dataViewMappings))return!0;var Ne=Ae.query;if(!Ne||!Ne.defn)return!1;var Se=(0,c.cY)(Ne.projections,Ke.name);return!!Se&&_.size(Se.all())>0||Ae.hasUsedSmallMultiples}function ft(Ke,Ae,we){var Se;return p.f.assertValue(Ke,"instance"),we&&we[Ke.objectName]&&we[Ke.objectName].properties[Ae]&&(Se=we[Ke.objectName].properties[Ae].type),(0,S.Lo)(Ke.properties[Ae],Se||{})}class Ct{constructor(Ae,we,Ne,Se,Ie,me){this.visualPluginService=Ae,this.geoTaggingService=we,this.aggrOps=Ne,this.featureSwitchService=Se,this.visualAuthoringCustomizeOperations=Ie,this.displayNameService=me,this.updateFilterState=(Oe,Ee,xe,ye,Je,he,Ce,je)=>{var pe=Ee.config.singleVisual,Qe=this.visualPluginService.capabilities(pe.visualType),ut=Qe?Qe.objects:null;if(ye&&this.ensureDefaultFilterApplied(Oe,pe,xe))return{clearOrDefault:!0,updateAll:!1};var lt=!1;if(Je){var Et=this.updateFilterOutput(pe,ut,Oe);if(Et===se.clearFilter)return{clearOrDefault:!0,updateAll:!1};lt=Et===se.updateFilter}var bt=Ee.config.singleVisual;return!lt&&he&&bt&&bt.objects&&(0,S.NA)(bt.objects,he,null)&&(lt=!0),{clearOrDefault:!1,updateAll:lt}},p.f.assertValue(Ae,"visualPluginService"),p.f.assertValue(we,"geoTaggingService"),p.f.assertValue(Ne,"aggrOps"),this.visualPluginOps=(0,J.f)(Ae,Se)}create(Ae){p.f.assertValue(Ae,"options");var we=this.visualPluginService.capabilities(Ae.visualType),Ne=Ae.query||new W.g(D.vQ.create(),{},[]),Se=(0,H.F)().create(we,this.geoTaggingService,Ne.isDrillDisabled);if(Se){var Ie={visualType:Ae.visualType,query:Ne};for(var me in Ae.autoSelectVisualType&&(Ie.autoSelectVisualType=!0),this.visualAuthoringCustomizeOperations.customizeOptions(Ie,Ae.schema),Ie.query.projections)this.ensureDependentObjectDefn(Se.objectDescs,me,Ie);var Oe=Ae.expr,Ee=!Ae.inFilterVisualContainer&&Oe&&!_.isArray(Oe)&&A.m.shouldUseAsFieldParameter(this.featureSwitchService.featureSwitches.fieldParametersAuthoring,Ae.schema,Ae.expr,!U.l.supportsFilterOutput(we),this.visualPluginOps.isAnalysisVisual(Ae.visualType));if(_.isEmpty(Oe)||this.tryAdd(Se,Ie,Ee,Ae))return{singleVisual:Ie}}}add(Ae,we,Ne){p.f.assertValue(Ae,"options"),p.f.assertValue(we,"target");var Se=we.singleVisual;if(!Se)return!1;var Ie=this.visualPluginService.capabilities(Se.visualType),me=!!Se.query?.isDrillDisabled;Se.query||(me=!!this.featureSwitchService.featureSwitches.drillStateToggleable&&(0,F.dR)(Ie));var Oe=(0,H.F)().create(Ie,this.geoTaggingService,me);return!!Oe&&!!(Se.query?this.tryAdd(Oe,Se,Ne,Ae):this.tryAddWithUndefinedQuery(Oe,Se,Ne,Ae))&&(this.visualAuthoringCustomizeOperations.customizeOptions(Se,Ae.schema),Ct.clearConversionSourceContext(Se),!0)}toggleHidden(Ae,we,Ne){var Se=Ae.query;if(Se){var Ie=Se.getQueryRef(we,{fieldIndex:Ne});Se.toggleHidden(Ie),this.ensureCardinalityByHidingDifferentProjection(Ae,we,Ne)}}remove(Ae,we,Ne){p.f.assertValue(Ae,"options"),p.f.assertValue(we,"target");var Se=we.singleVisual;return!(!Se||!this.tryRemove(Se.query,Se.columnProperties,Ae,Ne)||(Ct.clearConversionSourceContext(Se),0))}removeAllParametersAndProjectionsFromRole(Ae,we,Ne,Se,Ie){var me=we&&we.config;if(me){var Oe=me&&me.singleVisual&&me.singleVisual.query;if(Oe){var Ee=Oe.getQueryFieldParametersByRole(Ae);if(Ee&&Ee.length>0){var xe={},ye=xe[Ae]=[];for(var Je of Ee)ye.push({parameter:Je,result:[]});this.resolveParameters(Ne,we,xe,Se,Ie,void 0);for(var he=Ee.length-1;he>=0;he--)this.remove({count:void 0,projOptions:{parameter:Ee[he]},role:Ae,shouldRemoveParameter:!0},me,Ne)}}}}move(Ae,we){p.f.assertValue(Ae,"options"),p.f.assertValue(we,"target"),p.f.assert(()=>_.isNumber(Ae.sourceIndex)&&_.isNumber(Ae.targetIndex)&&Ae.targetIndex>=0&&Ae.sourceIndex>=0,"Invalid replace index"),p.f.assert(()=>_.isNumber(Ae.sourceCount)&&Ae.sourceCount>0,"Invalid number of items to replace");var Ne=we.singleVisual;if(!Ne)return!1;if(Ae.sourceRole===Ae.targetRole&&!Ae.replacementExpressions)return!!Ne.query.moveProjection(Ae.targetRole,Ae.sourceIndex,Ae.targetIndex,Ae.sourceCount)&&(Ct.clearConversionSourceContext(Ne),!0);var Se=Ne.query?.getParameterByFieldIndex(Ae.sourceIndex,Ae.sourceRole),Ie=[];if(!Se){var me=Ne.query.tryGetFieldExprs(Ae.sourceRole);if(_.isEmpty(me)||me.length<Ae.sourceCount)return!1;for(var Oe=0;Oe<Ae.sourceCount;Oe++)if(Ie[Oe]=me[Ae.sourceIndex+Oe],!Ie[Oe])return!1}return this.moveProjectionCore(we,Ie,Ae)}convert(Ae){p.f.assertValue(Ae,"options");var we=Ae.source;if(!we)return!1;var Ne=we.conversionSourceContext;Ne||(Ne=we.conversionSourceContext=this.createConversionSourceContext(we.query,we.visualType,we.syncGroup));var Se=this.visualPluginService.capabilities(Ne.visualType),Ie=this.visualPluginService.capabilities(Ae.target);if(!Se||!Ie||_.isEmpty(Ie.dataRoles))return!1;if((0,s.fS)(Se,Ie)){var me=this.visualPluginService.capabilities(we.visualType);return this.convertRoleWildCardProperties(me,Ie,we.objects),we.query=Ne.query,we.visualType=Ae.target,we.visualType===Ae.target&&Ie.supportsSynchronizingFilterState&&(we.syncGroup=Ne.syncGroup),!0}if(Ae.skipRoleMapping)return we.query=Ne.query,we.visualType=Ae.target,!0;var Ee=Ae.schema,xe=this.convertDrillableRoles(Ne.query,Se,Ie,Ae.target,Ee),ye=xe.query,Je=(0,F.WO)(Ie,ye.isDrillDisabled),he=this.getUniqueQueryFields(Ne.query,Ae.target);he=_.differenceWith(he,xe.convertedFields,W.g.isEqualQueryFields);var Ce=(0,H.F)().create(Ie,this.geoTaggingService,ye.isDrillDisabled),je=(0,H.F)().create(Se,this.geoTaggingService,Ne.query.isDrillDisabled);Ce.orderByRolePreferences(Ee,he);var pe=(0,c.d9)(ye.projections),Qe=this.getExpressionRoleMappings(we.query,he),ut=this.getConversionExprRoleList(Qe,je,Ce,Ee,Ae.target,we,pe,Je);if(_.isEmpty(ut)&&_.isEmpty(ye.projections))return!1;for(var lt of ut)lt.isFieldParameter?ye.addParameter(lt.expr,lt.roleName):ye.add(lt.expr,lt.roleName,{nativeReferenceName:lt.nativeReferenceName,isHidden:lt.isHidden}),this.ensureDependentObjectDefn(Ce.objectDescs,lt.roleName,we);var bt,Ot,Et=(0,F.WO)(this.visualPluginService.capabilities(we.visualType),!!we.query?.isDrillDisabled);for(var Dt of(_.isEmpty(Et)?(bt=(0,F.WO)(Se,Ne.query.isDrillDisabled),Ot=Ne.query):(bt=Et,Ot=we.query),Je))if(ye.projections[Dt])for(var ne of(ye.ensureActiveItems(Dt),bt))Ot.projections[ne]&&(ye.projections[Dt].activeProjectionRefs=Ot.projections[ne].activeProjectionRefs);return this.updateTargetShowAllInfo(Ne,ye,Ce),ye.removeUnusedOrderBy(),ye.resetExpansionStates(),this.convertRoleWildCardProperties(Se,Ie,we.objects),this.upgradePivotTableProperties(we.objects,we.visualType,Ae.target),we.query=ye,we.visualType=Ae.target,this.visualAuthoringCustomizeOperations.customizeOptions(we,Ee),!0}resetToDefaultActiveProjections(Ae){var we=Ae.query;if(null!=we){var Ne=this.visualPluginService.capabilities(Ae.visualType),Se=(0,F.WO)(Ne,we.isDrillDisabled);if(!_.isEmpty(Se))for(var Ie of Se)we.ensureActiveItems(Ie,!0)}}convertRoleWildCardProperties(Ae,we,Ne){if(p.f.assertValue(Ae,"VisualAuthoringCore.convertRoleWildCardProperties: sourceVisualCapabilities"),p.f.assertValue(we,"VisualAuthoringCore.convertRoleWildCardProperties: targetVisualCapabilities"),!_.isEmpty(Ne)){var Se=_.chain(Ae.dataRoles).filter(Ce=>Ce.kind!==o.DW.Measure).map(Ce=>Ce.name).value(),Ie=_.chain(we.dataRoles).filter(Ce=>Ce.kind!==o.DW.Measure).map(Ce=>Ce.name).value();if(!_.isEmpty(Se)&&!_.isEmpty(Ie))for(var me in Ne){var Oe=Ne[me];if(!_.isEmpty(Oe))for(var Ee of Oe){var xe=Ee.selector;if(xe&&!_.isEmpty(xe.data))for(var ye=0,Je=xe.data.length;ye<Je;ye++){var he=xe.data[ye];(0,C.j9)(he)&&_.isEqual(_.sortBy(he.roles),_.sortBy(Se))&&(xe.data[ye]=(0,u.Yp)(Ie))}}}}}upgradePivotTableProperties(Ae,we,Ne){("matrix"===we||"table"===we)&&("pivotTable"===Ne||"tableEx"===Ne)&&((0,S.TX)(Ae,"general",void 0,"textSize","grid"),(0,S.TX)(Ae,"general",void 0,"autoSizeColumnWidth","columnHeaders")),"matrix"===we&&"pivotTable"===Ne&&((0,S.TX)(Ae,"general",void 0,"columnSubtotals","subTotals"),(0,S.TX)(Ae,"general",void 0,"rowSubtotals","subTotals")),"table"===we&&"tableEx"===Ne&&(0,S.TX)(Ae,"general",void 0,"totals","total")}setAggregate(Ae,we){if(!we.singleVisual.query.setAggregate(Ae.role,Ae.index,Ae.newAggregate))return!1;var Ne=this.generateNativeReferenceNameForOperation(Ae,we);return this.setNativeReferenceNameByRoleAndFieldIndex(we.singleVisual.query,Ae.index,Ae.role,Ne,Ae),Ct.clearConversionSourceContext(we.singleVisual),!0}removeAggregate(Ae,we){if(!we.singleVisual.query.removeAggregate(Ae.role,Ae.index))return!1;var Ne=this.generateNativeReferenceNameForOperation(Ae,we);return this.setNativeReferenceNameByRoleAndFieldIndex(we.singleVisual.query,Ae.index,Ae.role,Ne,Ae),Ct.clearConversionSourceContext(we.singleVisual),!0}setPercentOfGrandTotal(Ae,we){if(!we.singleVisual.query.setPercentOfGrandTotal(Ae.role,Ae.index))return!1;var Ne=this.generateNativeReferenceNameForOperation(Ae,we);return this.setNativeReferenceNameByRoleAndFieldIndex(we.singleVisual.query,Ae.index,Ae.role,Ne,Ae),Ct.clearConversionSourceContext(we.singleVisual),!0}removePercentOfGrandTotal(Ae,we){if(!we.singleVisual.query.removePercentOfGrandTotal(Ae.role,Ae.index))return!1;var Ne=this.generateNativeReferenceNameForOperation(Ae,we);return this.setNativeReferenceNameByRoleAndFieldIndex(we.singleVisual.query,Ae.index,Ae.role,Ne,Ae),Ct.clearConversionSourceContext(we.singleVisual),!0}setPercentOfRoleTotal(Ae,we){if(!we.singleVisual.query.setPercentOfRoleTotal(Ae.roleRefs,Ae.role,Ae.index))return!1;var Ne=this.generateNativeReferenceNameForOperation(Ae,we);return this.setNativeReferenceNameByRoleAndFieldIndex(we.singleVisual.query,Ae.index,Ae.role,Ne,Ae),Ct.clearConversionSourceContext(we.singleVisual),!0}removePercentOfRoleTotal(Ae,we){if(!we.singleVisual.query.removePercentOfRoleTotal(Ae.role,Ae.index))return!1;var Ne=this.generateNativeReferenceNameForOperation(Ae,we);return this.setNativeReferenceNameByRoleAndFieldIndex(we.singleVisual.query,Ae.index,Ae.role,Ne,Ae),Ct.clearConversionSourceContext(we.singleVisual),!0}updateVisualCalculation(Ae,we){var{visualContainer:Ne,fieldIndex:Se,role:Ie,name:me,expression:Oe,dataType:Ee,shouldUnhide:xe}=Ae,ye=Ne.config.singleVisual,Je=ye.query;if(!Je||!Je.updateVisualCalculation(Se,Ie,me,Oe,Ee))return!1;if(xe){var he=Je.getQueryRef(Ie,{fieldIndex:Se});Je.resetHiddenState(he),this.ensureCardinalityByHidingDifferentProjection(ye,Ie,Se)}return this.setNativeReferenceNameByRoleAndFieldIndex(Je,Se,Ie,me,we),Ct.clearConversionSourceContext(ye),!0}setNativeReferenceNameByRoleAndFieldIndex(Ae,we,Ne,Se,Ie){var me=Ae.getQueryRef(Ne,{fieldIndex:we});if(null!=me){var Oe=Ae.defn.select(),Ee=(0,n.g2)(Oe,me);this.setNativeReferenceNameAt(Ae,Ee,Se,Ie)}}setNativeReferenceNameAt(Ae,we,Ne,Se){var Ie=Ae.defn.getNativeReferenceNameAt(we);if(Ie!==Ne&&(Ae.defn.setNativeReferenceNameAt(we,Ne),!(0,d.g)(Ie)&&null!=Se?.visualCalcDaxParserServiceContext?.service)){var me=new q(Ie,Ne,Se.visualCalcDaxParserServiceContext);new k.$(me).rewriteQuery(Ae)}}toggleShowAll(Ae,we){we.singleVisual.query.toggleShowAll(Ae),Ct.clearConversionSourceContext(we.singleVisual)}changeDrillState(Ae,we,Ne){we.query.changeDrillStateValue(Ae,!Ne),Ct.clearConversionSourceContext(we)}changeActiveProjection(Ae,we,Ne){var Se=we.query.projections[Ae];if(Se){var Oe,Ie=_.uniqBy(Se.all(),xe=>xe.queryRef),me=_.uniq(Se.activeProjectionRefs);_.isEmpty(me)||(Oe=me.length);var Ee=Oe&&_.findIndex(Ie,xe=>xe.queryRef===me[Oe-1]);if(!(null==Ee||Ee<0)){if(Ne===K.Mf.Up){if(!(Ee>=1))return;me.pop(),(1===Oe||me[Oe-2]!==Ie[Ee-1].queryRef)&&me.push(Ie[Ee-1].queryRef)}else{if(Ne===K.Mf.DownWithoutCurrentGroup&&(me.length=0),p.f.assert(()=>Ie.length>=Ee+1,"visualAuthoringCore.changeActiveProjection -\n                    If we are drilling down there must be at least one more projection other than the lastActiveProjection"),!(Ie.length>Ee+1))return;me.push(Ie[Ee+1].queryRef)}return Ct.clearConversionSourceContext(we),Se.activeProjectionRefs=me,me}}}addDrillFilter(Ae,we,Ne,Se,Ie){this.addDrill(Ae,we,Ne,Se,Ie,z.OO.Drill,!0)}addDrillToDetailsFilter(Ae,we,Ne,Se,Ie){_.remove(we,me=>!!me.expression&&(0,Z.k)(me.expression)),this.addDrill(Ae,we,Ne,Se,Ie,z.OO.Auto,!1)}addDrill(Ae,we,Ne,Se,Ie,me,Oe){if(we&&Ne&&!_.isEmpty(Se)&&Ie){var Ee=function(){var ye=Ne.defn.select().withName(xe).expr,Je=Ie.expr,he=(0,Q.Ym)(Je);he&&(Je=Je.arg);var pe,Ce=(0,P.FD)(Je),je=[],Qe=ye.getKeyColumns(Ae);if(!_.isEmpty(Ce.values))for(var ut=function(Fe){var $e=Ce.args[Fe];if($e&&-1!==A.m.indexOfExpr(Qe,$e)){je.push($e);var qe=_.map(Ce.values,dt=>[dt[Fe]]);pe=_.isEmpty(pe)?qe:_.chain(pe).zip(qe).map(dt=>_.flatten(dt)).value()}},lt=0;lt<Ce.args.length;lt++)ut(lt);if(!_.isEmpty(je)&&!_.isEmpty(pe)){var Et=(0,w.Sh)(je,pe||[]);he&&(Et=(0,w.ff)(Et));var Dt,bt=(0,f.SN)([{kind:v.i.ScopeIdentity,expr:Et,key:Ie.key}]),Ot=_.filter(we,Fe=>(0,X.fS)(ye,Fe.expression));Oe&&(Dt=_.find(Ot,Fe=>Fe.howCreated===me)),Dt?(p.f.assert(()=>!Dt.filter||Dt.howCreated===me&&Oe,"The filter to overwrite should be empty or the specified kind we want to overwrite"),Dt.filter=bt,Dt.howCreated=me,Dt.precedence=z.Pw.Drill):we.push({name:null,expression:ye,filter:bt,type:B.vA.Categorical,howCreated:me,precedence:z.Pw.Drill})}};for(var xe of Se)Ee()}}removeDrillFilter(Ae,we){return this.removeDrillFilterCore(Ae,we)}removeAllDrillFilters(Ae){return this.removeDrillFilterCore(Ae)}removeDrillFilterCore(Ae,we){if(!Ae)return!1;this.ensureFiltersArrayIsValid(Ae);for(var Ne=[],Se=0,Ie=Ae.length;Se<Ie;Se++){var me=Ae[Se];if(me&&me.howCreated===z.OO.Drill)if(void 0===we)Ne.push(Se);else if((0,X.fS)(we,me.expression)){Ne.push(Se);break}}return _.forEachRight(Ne,Oe=>Ae.splice(Oe,1)),!!Ne.length}setMatchingFilterToAuto(Ae,we){if(we.filters){var Ne=_.find(we.filters,Se=>null!=Se&&(0,X.fS)(Se.expression,Ae));Ne&&(Ne.howCreated=z.OO.Auto)}}removeAutoFilterFromContract(Ae,we,Ne){if(Ae){var Se=Ae.filters;if(Se){var Ie=Ae.config.singleVisual.query,me=Ne??this.getRemoveOptionsQueryRefs(we,Ie);_.forEach(me,Oe=>{var Ee=Ie.defn.select().withName(Oe),xe=Ee?Ee.expr:void 0,ye=(0,n.Rl)(Se,he=>(p.f.assertValue(he,`removeAutoFilterFromContract: visualContainer with name ${Ae.name} contains blank value in .filters`),null!=he&&he.howCreated===z.OO.Auto&&(0,X.fS)(he.expression,xe)));if(ye.length>0){p.f.assertValue(1===ye.length,"More than one auto filter found");var Je=U.l.isFilterModified(ye[0]);Je?Je&&(ye[0].howCreated=z.OO.User):_.remove(Ae.filters,ye[0])}}),this.ensureFiltersArrayIsValid(Se)}}}ensureFiltersArrayIsValid(Ae){if(null!=Ae)for(var we=Ae.length-1;we>=0;we--)null==Ae[we]&&(p.f.assertFail("filters array contains null element"),Ae.splice(we,1))}getRemoveOptionsQueryRefs(Ae,we){var Ne=[],Se=Ae,Ie=Se.projOptions;if(Se.role&&null!==Ie.fieldIndex){var{fieldIndex:me,parameter:Oe}=Ie;if(Oe)for(var Ee=Oe.length??0,xe=0;xe<Ee;xe++){var ye=we.getQueryRef(Se.role,{parameter:Oe,indexInParameter:xe});Ne.push(ye)}else for(var Je=Se.count??1,he=0;he<Je;he++){var Ce=we.getQueryRef(Se.role,{fieldIndex:me+he});Ce&&Ne.push(Ce)}}else if(Ae.expr){var pe=(0,n.rY)(Ae.expr),Qe=we.defn.select();_.forEach(pe,ut=>{var lt=_.filter(Qe,Et=>{var bt=Et.expr;return(0,Q.iV)(bt)&&(bt=bt.arg),(0,X.fS)(bt,ut)});_.forEach(lt,Et=>{Et&&Et.name&&Ne.push(Et.name)})})}return Ne}isEmptyQueryVisual(Ae){var we=Ae.config.singleVisual;if(we&&this.visualPluginOps.isQueryVisual(we.visualType)&&we.query&&0===we.query.defn.select().length&&_.isEmpty(we.query.getQueryFieldParameters())){var Ne=this.visualPluginService.capabilities(we.visualType);if(Ne){var Se=(0,b.$T)(Ne.dataViewMappings,we.objects);return!(Se&&!(0,d.g)(Se.source))}return!1}return!1}setDefaultSort(Ae,we,Ne,Se){if(Ae.config&&Ae.config.singleVisual){var Ie=Ae.config.singleVisual,me=Se.capabilities(Ie.visualType);if(Ne.shouldApplyDefaultSort(Ie,me)){var Oe=Ie.query;if(Oe){var Ee=Oe.defn,xe=Oe.projections,ye=Ee.select(),Je=[],he=_.filter(me.dataRoles,dt=>!(_.has(dt,"joinPredicate")||dt.joinPredicate===o.ps.None));if(_.some(he,dt=>{var rt=(0,c.cY)(xe,dt.name);if(rt){var ce=_.map(rt.all(),be=>ye.withName(be.queryRef));return _.some(ce,be=>be&&be.expr&&!_.isEmpty(be.expr.getOrderByColumns(we)))}}))return void(Ie.hasDefaultSort&&(Ie.query=new W.g(Ee.orderBy([]),Oe.projections,Oe.expansionStates,Oe.isDrillDisabled),Ie.hasDefaultSort=!1));var je=!1;for(var pe of he){var Qe=(0,c.cY)(xe,pe.name);if(Qe){var ut=_.map(Qe.all(),dt=>dt.queryRef);if(ut){var lt=!1,Et=[],bt=this.shouldDefaultExpandSort(pe.name,me.expandAndSort,ut.length),Ot={direction:r.S.Ascending,expr:null};for(var Dt of ut){var ne=ye.withName(Dt),Fe=ne&&ne.expr;if(Fe&&A.m.isExprValidForSorting(Fe)){var $e=Fe.getMetadata(we);if($e){var qe=$e.kind===m.I.Measure&&$e.type.numeric;if(bt&&($e.type.text||$e.type.temporal||$e.type.numeric&&_.first(ut)!==Dt?Et.push({direction:r.S.Ascending,expr:Fe}):bt=!1),null==Ot.expr&&(Fe&&qe&&(Ot.direction=r.S.Descending),Ot.expr=Fe),$e.type.temporal&&(lt=je=!0,!bt)||qe&&(lt=!0,!bt))break}}}if(bt&&_.isEmpty(Je)){p.f.assertValue(_.isEmpty(Et),"hierarchical sort has no expr (setDefaultSort)"),Je=Et;break}if(lt&&(_.isEmpty(Je)||je)&&(p.f.assertValue(Ot.expr,"first projection sort has no expr (setDefaultSort)"),Je=[Ot]),je||bt)break}}}_.isEmpty(Je)||(Ie.hasDefaultSort=!0,Ie.query=new W.g(Ee.orderBy(Je),Oe.projections,Oe.expansionStates,Oe.isDrillDisabled))}}}}setDefaultExpandLevel(Ae,we,Ne,Se,Ie,me){var Oe=we.capabilities(Ae.config.singleVisual.visualType);if(Ne&&Oe.expandAndSort&&_.includes(Oe.expandAndSort,Ne)&&Ae.config&&Ae.config.singleVisual){var Ee=Ae.config.singleVisual.query;Ee&&Oe.expandAndSort.forEach(xe=>{var ye=(0,c.cY)(Ee.projections,xe);if(ye){var Je=ye.getQueryRefs();if(this.shouldDefaultExpandSort(xe,Oe.expandAndSort,Je.length)){var he=!1;if(Ie)if(me===K.C8.Move){var Ce=Je.indexOf(Ie[xe].projectionName);if(Ce<0)return;Ce===Je.length-2&&Je.length-1===Ie[xe].totalNumberOfProjections?he=!0:Ce<Je.length-1&&Je.splice(Ce+1),he=!0}else me===K.C8.Add&&(he=!!_.isEmpty(Ie)||Ie[xe].currentPosition===Ie[xe].totalNumberOfProjections);he&&(ye.activeProjectionRefs=_.map(Je,je=>je),this.setDrillMode(Ae,z.Mc.DrillToDetails,Se))}}})}}ensureValidDrillState(Ae,we,Ne){for(var Se of we){this.removeDrillFilter(Ae.filters,Se.expr);var Ie=Ae.config.singleVisual.query,me=Ie.projections[Se.roleName];if(me){var Oe=_.last(me.activeProjectionRefs);if(null!=Oe){var Ee=Ie.defn.select().withName(Oe).expr;this.removeDrillFilter(Ae.filters,Ee)}}}this.ensureValidDrillMode(Ae,Ne)}ensureValidDrillMode(Ae,we){var Ne=Ae.drillMode;(Ne===z.Mc.DrillDown&&we.getSupportedDrillDirections(Ae)===K.gT.None||Ne===z.Mc.DrillToDetails&&!we.canDrillToDetails(Ae))&&this.setDrillMode(Ae,z.Mc.None,we)}resolveParameters(Ae,we,Ne,Se,Ie,me){var Oe=this,Ee={queryChange:!1,aliasChange:!1,outputFilterChange:!1,totalAddAttemptCount:0,totalAddSuccessCount:0,totalRemoveAttemptCount:0,totalRemoveSuccessCount:0,totalSuccessColumnCount:0,totalSuccessDateHierarchyCount:0,totalSuccessMeasureCount:0},xe=we&&we.config&&we.config.singleVisual,ye=xe&&xe.query;if(!ye)return Ee;var Je=this.visualPluginService.capabilities(xe.visualType),he=(0,H.F)().create(Je,this.geoTaggingService,ye.isDrillDisabled),Ce=(0,F.WO)(Je,ye.isDrillDisabled),je=he.getNumberRangesForRoles(ye),pe=[],Qe=function(Et){var bt=ye.projections[Et],Ot=bt.getFieldParameters(),Dt=_.some(Ce,qe=>qe===Et)?void 0:je?.[Et],ne=function(){var{parameter:qe,result:dt}=$e,rt=_.find(Ot,He=>He.index===qe.index);if(!rt||!(0,X.fS)(qe.expr,rt.expr))return 0;var ce=bt.getParameterProjections(rt),be=_.map(ce,He=>ye.defn.select().withName(He.queryRef).expr),ae=_.map(dt,He=>He.expr);if(Dt&&Dt.max&&ae.length>Dt.max){var de=bt.all();ae=ae.slice(0,Dt.max-(de.length-ce.length))}for(var Pe=(0,n.f1)(ae,be,X.fS),We=Pe.length-1,it=[],yt=[],et=[],mt=be.length-1;mt>=0;mt--)We>=0&&(0,X.fS)(be[mt],Pe[We])?We--:(yt.push({role:Et,projOptions:{parameter:rt,indexInParameter:mt}}),it.push(ce[mt].queryRef),et.push({expr:be[mt],roleName:Et}));if(yt.length>0){var{removeSuccessCount:fe,removeAttemptCount:Be,outputFilterChange:Ze}=Oe.removeWithValidation(ye,it,yt,we,Ae,et,Se,Ie,void 0,!0);Ee.totalRemoveSuccessCount+=fe,Ee.totalRemoveAttemptCount+=Be,Ee.outputFilterChange||(Ee.outputFilterChange=Ze)}We=0;for(var ct=0,St=0,Rt=0;Rt<ae.length;Rt++){var kt=dt[Rt].alias,Gt={parameter:rt,indexInParameter:Rt-(ct-St)};if(Pe.length>0&&(0,X.fS)(ae[Rt],Pe[We]))We++,me&&(Ee.aliasChange=me(Ae,we,Gt,Et,kt)||Ee.aliasChange);else{var Ht=ae[Rt];ct++,Oe.add({expr:Ht,schema:Ae,targetRole:Et,projOptions:Gt},we.config,!1)&&(St++,(0,Q.t3)(Ht)?Ee.totalSuccessColumnCount++:(0,Q.kb)(Ht)?Ee.totalSuccessMeasureCount++:(0,Q.ez)(Ht)&&Ee.totalSuccessDateHierarchyCount++,pe.push(Ht),me&&(Ee.aliasChange=me(Ae,we,Gt,Et,kt)||Ee.aliasChange))}}Ee.totalAddAttemptCount+=ct};for(var $e of Ne[Et])ne()};for(var ut in Ne)Qe(ut);if(Ee.totalAddSuccessCount=pe.length,Ee.totalAddSuccessCount>0){var lt=this.runAddFieldValidation(we,Ae,pe,Se,Ie,void 0,!0);Ee.outputFilterChange||(Ee.outputFilterChange=lt)}return(Ee.totalAddSuccessCount>0||Ee.totalRemoveSuccessCount>0)&&(this.setDefaultSort(we,Ae,Ie,this.visualPluginService),(0,I.Hr)(we),Ee.queryChange=!0),Ee}runAddFieldValidation(Ae,we,Ne,Se,Ie,me,Oe,Ee,xe,ye,Je){this.ensureValidDrillMode(Ae,Se);var he=!1;if(!Oe||this.featureSwitchService.featureSwitches.fieldParameterDynamicSlicer){var je=(me||this.updateFilterState)(we,Ae,!1,!0,!0,void 0,ye,Je);he=je?.clearOrDefault||je?.updateAll}if(Oe||(this.setDefaultExpandLevel(Ae,this.visualPluginService,Ee,Se,xe,K.C8.Add),this.setDefaultSort(Ae,we,Ie,this.visualPluginService),(0,I.Hr)(Ae)),_.isArray(Ne)){var pe=Ne;for(var Qe of pe)this.setMatchingFilterToAuto(Qe,Ae)}else this.setMatchingFilterToAuto(Ne,Ae);return he}removeWithValidation(Ae,we,Ne,Se,Ie,me,Oe,Ee,xe,ye,Je){var he=0,Ce=[],je=!1;this.removeAutoFilterFromContract(Se,void 0,we);for(var pe=0;pe<Ne.length;pe++){var Qe=this.remove(Ne[pe],Se.config,Ie);he+=Qe?1:0,Qe||Ce.push(pe)}if(he>0){if(Ce.length>0){we=_.clone(we);for(var ut=Ce.length-1;ut>=0;ut--)we.splice(Ce[ut],1)}if(!ye){var lt=this.captureCurrentActiveProjectionsByRole(Se);this.setDefaultExpandLevel(Se,this.visualPluginService,_.first(Ne)?.role,Oe,lt,K.C8.Remove)}if(this.ensureValidDrillState(Se,me,Oe),this.isEmptyQueryVisual(Se)?Ae=Se.config.singleVisual.query=void 0:ye||(this.setDefaultSort(Se,Ie,Ee,this.visualPluginService),(0,I.Hr)(Se)),!ye||this.featureSwitchService.featureSwitches.fieldParameterDynamicSlicer){var bt=(xe||this.updateFilterState)(Ie,Se,!0,!0,!0,null,void 0,Je);je=bt?.clearOrDefault||bt?.updateAll}ye||this.clearUnusedObjectDefinitions(Se,Ae,we)}return{removeAttemptCount:Ne.length,removeSuccessCount:he,outputFilterChange:je}}clearUnusedObjectDefinitions(Ae,we,Ne){_.forEach(Ne,Se=>{if(!we||!we.isUsed(Se)){var Ie=Ae.config.singleVisual.objects;_.forEach(Ie,(me,Oe)=>{var Ee=[];_.forEach(me,xe=>{xe.selector&&xe.selector.metadata===Se&&Ee.push(xe.selector)}),_.forEach(Ee,xe=>{(0,S.AV)(Ie,Oe,xe)})})}})}ensureDefaultFilterApplied(Ae,we,Ne){var Se=this.visualPluginService.capabilities(we.visualType),Ie=Se?Se.objects:null,me=(0,E.Ln)(Ie),Oe=we.query&&we.query.getUniqueQueryRefs();if(!me||_.isEmpty(Oe))return this.clearDefaultFilterOutput(we,Ie);var Ee=we.query.defn.select(),xe=_.map(Oe,ut=>Ee.withName(ut).expr),ye=[],Je=[],he=!0;for(var Ce of xe)A.m.getDefaultValue(Ce,Ae)?he?ye.push(...this.getExprKeyColumns(Ce,Ae)):Je.push(...this.getExprKeyColumns(Ce,Ae)):he=!1;if(_.isEmpty(ye)&&_.isEmpty(Je)||Ne)return this.clearDefaultFilterOutput(we,Ie);we.objects||(we.objects={});var pe=(0,E.MD)(Ie),Qe=D.yl.getDefaultAnyValueFilter(ye,Je);return(0,S.sO)(we.objects,pe,null,Qe),!0}getExprKeyColumns(Ae,we){var Ne=(0,T.Q)(Ae);return Ne.column||Ne.groupingColumn||Ne.hierarchyLevel?Ae.getKeyColumns(we):[Ae]}clearDefaultFilterOutput(Ae,we){if(!Ae.objects)return!1;var Ne=(0,E.MD)(we);if(!Ne)return!1;var Se=(0,S.NA)(Ae.objects,Ne,null);return!(!Se||!D.yl.isDefaultFilter(Se)||((0,S.E2)(Ae.objects,Ne.objectName,null,Ne.propertyName),0))}updateFilterOutput(Ae,we,Ne){if(!Ae.objects)return se.none;var Se=(0,E.MD)(we);if(!Se)return se.none;var Ie=(0,S.NA)(Ae.objects,Se,null);if(Ie){if(!this.featureSwitchService.featureSwitches.fieldParameterDynamicSlicer||!Ae.query)return(0,S.E2)(Ae.objects,Se.objectName,null,Se.propertyName),se.clearFilter;var me=this.updateFilterOutputForVisual(Ae.query,Ie,Ne);return D.yl.isSameFilter(me,Ie)?se.none:me?((0,S.sO)(Ae.objects,Se,null,me),se.updateFilter):((0,S.E2)(Ae.objects,Se.objectName,null,Se.propertyName),se.clearFilter)}return se.none}updateFilterOutputForVisual(Ae,we,Ne){var Se=Ae.getUniqueQueryRefs();if(!_.isEmpty(Se)){var Ie=new i.H,me=Ae.defn.select(),Oe=_.map(Se,je=>me.withName(je).expr.accept(Ie,Ne)).reduce((je,pe)=>je.concat(pe),[]);if(!_.isEmpty(Oe)){var Ee,xe=we.where(),ye=[];for(var Je of xe){var he=A.m.syncSQExprWithFilterIdenities(Oe,Je.condition);he&&ye.push({target:Je.target,condition:he,annotations:Je.annotations})}return ye.length>0&&(Ee=new D.yl(we.from(),ye)),Ee}}}moveProjectionCore(Ae,we,Ne){var Se=Ae.singleVisual;if(!Se||!Se.query)return!1;var{sourceRole:Ie,targetRole:me,sourceIndex:Oe,targetIndex:Ee,replacementExpressions:xe,schema:ye,allowPartialReplace:Je}=Ne,he=(0,N.d9)(Se),Ce=he.query.getParameterByFieldIndex(Oe,Ie);p.f.assert(()=>!!Ce||we.length>0,"No items specified to replace");var je=he.query.defn.orderBy(),pe=we;_.isEmpty(xe)||(pe=_.map(xe,(ee,Pe)=>{var We=pe[Pe];return We?{expr:ee,isFieldParameter:We.isFieldParameter,isHidden:We.isHidden,nativeReferenceName:We.nativeReferenceName}:{expr:ee}}));var Qe_getColumnPropertiesForExprs=function(we,Ne){var Se=[];if(Ne.columnProperties)for(var Ie of we){var me=Ne.query.defn.selectNameOf(Ie),Oe=Ne.columnProperties[me];Oe&&Se.push({originalExpr:Ie,columnProperty:Oe})}return Se},Qe_applyColumnPropertiesByExpr=function(we,Ne,Se,Ie){var me=_.find(Ie,Ee=>Ee.originalExpr===we);if(me){var Oe=Se.query.defn.selectNameOf(Ne);Se.columnProperties[Oe]||(Se.columnProperties[Oe]=me.columnProperty)}},ut=Qe_getColumnPropertiesForExprs(_.map(pe,ee=>ee.expr),he);if(!this.tryRemoveProjections(he.query,he.columnProperties,{role:Ie,projOptions:{fieldIndex:Oe,parameter:Ce},count:we.length,shouldRemoveParameter:!0}))return!1;je.length>0&&he.query.orderBy(je);var Et=this.visualPluginService.capabilities(Se.visualType),bt=(0,H.F)().create(Et,this.geoTaggingService,!!Se.query?.isDrillDisabled);if(!bt)return!1;var Ot=bt.roles.withName(me);if(!Ot)return!1;var Dt=Ie===me&&Ee===Oe,ne=!1;if(Dt){if(1===pe.length&&A.m.shouldUseAsFieldParameter(this.featureSwitchService.featureSwitches.fieldParametersAuthoring,ye,pe[0].expr,this.featureSwitchService.featureSwitches.fieldParameterDynamicSlicer||!U.l.supportsFilterOutput(Et),this.visualPluginOps.isAnalysisVisual(he.visualType))&&!(ne=this.tryAdd(bt,he,!0,{expr:pe[0].expr,schema:ye,targetRole:me,projOptions:{fieldIndex:Ee}})))return!1}else if(Ce&&!(ne=this.tryAdd(bt,he,!0,{expr:Ce.expr,schema:ye,targetRole:me,projOptions:{fieldIndex:Ee},hideOnOverflow:Ne.hideOnOverflow})))return!1;if(!ne)for(var dt=0;dt<pe.length;dt++){var rt=pe[dt].expr,ce=pe[dt];if(ce.expr=this.aggregateIfNecessary(ce.expr,Ot,ye),ce.isHidden=ce.isHidden&&(0,Z.k)(ce.expr),!this.tryAdd(bt,he,!1,{expr:ce.expr,schema:ye,targetRole:me,projOptions:{fieldIndex:Ee+dt,nativeReferenceName:Dt?void 0:pe[dt].nativeReferenceName,isHidden:ce.isHidden},hideOnOverflow:Ne.hideOnOverflow})){if(dt>0&&Je)break;return!1}if(Se.query.projections[Ie].showAll){var de=pe[dt].expr.getMetadata(ye);this.isShowAllRole(Ot.kind)&&de&&de.kind!==m.I.Measure&&(he.query.projections[me].showAll=!0)}Qe_applyColumnPropertiesByExpr(rt,ce.expr,he,ut)}return Ae.singleVisual=he,this.visualAuthoringCustomizeOperations.customizeOptions(Ae.singleVisual,ye),Ct.clearConversionSourceContext(Ae.singleVisual),!0}aggregateIfNecessary(Ae,we,Ne){return null!=(0,V._L)((0,T.Q)(Ae,Ne))||we.kind!==o.DW.Measure||A.m.discourageAggregation(Ae,Ne)?we.kind===o.DW.Grouping?(0,M.n)(Ae,Ne):Ae:this.aggrOps.createExprWithAggregate(Ae,Ne,!0,we.requiredTypes)}static clearConversionSourceContext(Ae){Ae.conversionSourceContext=null}getConversionExprRoleList(Ae,we,Ne,Se,Ie,me,Oe,Ee){var xe=Je=>{var he=[];for(var Ce of Ae)if(Ce.isFieldParameter)he.push({expr:Ce.expr,isFieldParameter:Ce.isFieldParameter,roleName:Ce.roleName});else{var pe=Je(Ce.expr);pe&&he.push({expr:pe,nativeReferenceName:Ce.nativeReferenceName})}if(!_.isEmpty(he))return this.getCompatRolesForExprs(he,we,Ne,Se,Ie,me,!0,Oe,Ee)},ye=this.getCompatRolesForExprs(Ae,we,Ne,Se,Ie,me,!1,Oe,Ee);return _.isEmpty(ye)&&(ye=xe(Je=>(0,Z.k)(Je)?Je:this.aggrOps.createExprWithAggregate(Je,Se,!0,null))),_.isEmpty(ye)&&(ye=xe(Je=>(0,Z.k)(Je)?(0,M.n)(Je,Se):Je)),ye||[]}getCompatRolesForExprs(Ae,we,Ne,Se,Ie,me,Oe,Ee,xe){var ye=[],Je=Ee||{},he=new x.W(O.Sd),Ce=_.some(Ae,de=>(0,Q.jX)(de.expr));for(var je of Ae){var pe=void 0,{expr:Qe,isFieldParameter:ut,roleName:lt,nativeReferenceName:Et,isHidden:bt}=je;lt&&(pe=we.roles.withName(lt));var Ot=this.getTargetRoleForConversion(je,we,Ne),Dt=Ce&&(0,Z.k)(Qe),ne=Ne.findCompatibleRole({queryProjections:Je,schema:Se,expr:Qe,targetRole:Ot,preferDrillableRoles:!1,roleToExprMap:he,useStrict:!0,isFieldParameter:ut,sourceRole:ut&&pe,isHidden:bt,overflowIsWarning:Dt}),Fe=ne&&ne.role,$e=ne&&ne.error===y.zS.conditionRangeTooLarge;if(Fe&&(!$e||Dt)){var dt=!!$e||bt;Fe=this.ensureCorrectKeyInfluencersRole(Ie,Fe,void 0);var{name:rt}=this.ensureCorrectSmallMultiplesRole(me,Ne.capabilities,Fe,we.capabilities,lt);if(!ut){this.updateProjections(Je,rt,xe,dt);var ce=Ne.getNumberRangesForRoles(Je);if(this.shouldUseVariation(Qe,Se,rt,xe,ce[rt],_.size(Ae))){var ae=(0,R.ZB)(Qe);return ye.push({expr:ae,roleName:rt,nativeReferenceName:Et}),ye}}if(ye.push({expr:Qe,isFieldParameter:ut,roleName:rt,nativeReferenceName:Et,isHidden:dt}),Oe)return ye}}return ye}shouldUseVariation(Ae,we,Ne,Se,Ie,me){if(!_.includes(Se,Ne)&&Ie&&Ie.max<me){var Oe=(0,T.Q)(Ae,we);if(Oe&&Oe.columnHierarchyLevelVariation)return!0}return!1}getExpressionRoleMappings(Ae,we){return _.map(we,Ne=>({expr:Ne.expr,roleName:Ae.getRoleNameForExpr(Ne.expr),isFieldParameter:Ne.isFieldParameter,nativeReferenceName:Ne.nativeReferenceName,isHidden:Ne.isHidden}))}getTargetRoleForConversion(Ae,we,Ne){if(!Ne.hasPreferredTypes()){var{roleName:Se}=Ae,{roles:Ie,capabilities:me}=we,{roles:Oe,capabilities:Ee}=Ne,xe=Ie.withName(Se),ye=Oe.withName(Se);if(xe&&ye&&_.isEqual(xe.kind,ye.kind)){var Je=this.getDataViewMappingConditions(me),he=this.getDataViewMappingConditions(Ee);if(!Je&&!he||this.getDoesTargetRoleMatchSourceRole(Se,Je,he))return Se}}}getDoesTargetRoleMatchSourceRole(Ae,we,Ne){return we&&Ne&&!we.some((Se,Ie)=>{var me=_.get(Se,Ae,null),Oe=_.get(Ne[Ie],Ae,null);return me&&Oe&&!_.isEqual(me,Oe)})}getDataViewMappingConditions(Ae){var we=Ae.dataViewMappings&&Ae.dataViewMappings[0];return we&&we.conditions}updateProjections(Ae,we,Ne,Se){var Ie={queryRef:we,hidden:Se},me=(0,c.cY)(Ae,we);me||(Ae[we]=me=new c.NQ([])),me.addProjection(Ie),_.includes(Ne,we)&&me.addActiveQueryReference(me.all()[0].queryRef)}createConversionSourceContext(Ae,we,Ne){return{query:Ae,visualType:we,syncGroup:Ne}}convertDrillableRoles(Ae,we,Ne,Se,Ie){var me;this.featureSwitchService.featureSwitches.drillStateToggleable&&(0,F.S1)(Ne)&&(me=(0,F.S1)(we)?Ae.isDrillDisabled:(0,F.dR)(Ne));var Oe=new W.g(Ae.defn.select([]),{},[],me),Ee=(0,F.WO)(we,Ae.isDrillDisabled);return _.isEmpty(Ee)?{query:Oe,convertedFields:[]}:{query:Oe,convertedFields:this.convertDrillableProjections(Ne,Se,Ae,Ie,Ee,Oe)}}convertDrillableProjections(Ae,we,Ne,Se,Ie,me){var Oe=(0,F.WO)(Ae,me.isDrillDisabled),Ee=[];for(var xe of Ie){var ye=this.getQueryFieldsForRole(Ne,xe,we);if(ye=this.convertDrillableFields(ye,Se,Ae,me),Ee=_.unionWith(Ee,ye,W.g.isEqualQueryFields),_.isEmpty(Oe))break}return me.ensureDrillableRoles(Oe),Ee}getQueryFieldsForRole(Ae,we,Ne){return Ae.projections[we]?this.getQueryFields(Ne,()=>Ae.tryGetFieldExprs(we)):[]}getUniqueQueryFields(Ae,we){return this.getQueryFields(we,()=>Ae.getUniqueQueryFields())}getQueryFields(Ae,we){var Ne=we();if(this.visualPluginOps.isAnalysisVisual(Ae))for(var Se of Ne)Se.isFieldParameter=!1;return Ne}convertDrillableFields(Ae,we,Ne,Se){var je,Ie=this,me=(0,H.F)().create(Ne,this.geoTaggingService,Se.isDrillDisabled),Oe=me.getNumberRangesForRoles(Se),Ee=(0,F.WO)(Ne,Se.isDrillDisabled),xe=_.isEmpty(Ee),ye=new x.W(O.Sd),Je=[],he=[],Ce=function(){var ut=Qe.expr,lt=Qe.queryName,Et=Qe.nativeReferenceName,bt=Qe.isHidden;if((0,Q.ez)(ut)){var Ot=(0,R.ZB)(Qe.expr);if(Ot&&_.find(he,ce=>(0,X.fS)(ce,Ot)))return Je.push(Qe),0}var Dt=me.findCompatibleRole({queryProjections:Se.projections,schema:we,expr:ut,preferDrillableRoles:!0,roleToExprMap:ye,useStrict:!0,isFieldParameter:Qe.isFieldParameter}),ne=Dt&&Dt.role;if(ne){var Fe=ne.name,$e=Oe[Fe],qe=-1;if(Qe.isFieldParameter)qe=Se.addParameter(ut,ne.name),Je.push(Qe);else{var dt=Se.projections[Fe];if(xe&&dt&&(je=dt.all().length,$e&&$e.max&&$e.max<=je))return 0;if(Ie.shouldUseVariation(Qe.expr,we,ne.name,Ee,$e,_.size(Ae))){var rt=(0,R.ZB)(Qe.expr);return he.push(rt),qe=Se.add(rt,Fe,{exprName:lt,nativeReferenceName:Et}),0}qe=Se.add(ut,Fe,{exprName:lt,nativeReferenceName:Et,isHidden:bt})}qe>-1&&Je.push(Qe)}};for(var Qe of Ae)Ce();return Je}tryRemove(Ae,we,Ne,Se){return void 0!==Ne.role?this.tryRemoveProjections(Ae,we,Ne):!(void 0===Ne.expr)&&this.tryRemoveExpressions(Ae,Ne,Se)}tryRemoveExpressions(Ae,we,Ne){var Se=!1,Ie=we.fieldParameter;if(_.isArray(we.expr))for(var me of we.expr)Se=Ae.removeExpr(me,!!we.ignoreAggregates,Ne,Ie?.expr)||Se;else Se=Ae.removeExpr(we.expr,!!we.ignoreAggregates,Ne,Ie?.expr);return we.shouldRemoveParameter&&Ie&&0===(Ie.length??0)&&(Se=Ae.removeParameter(Ie)||Se),Se}tryRemoveProjections(Ae,we,Ne){var Se=Ne.role,Ie=Ne.projOptions.parameter,me=!1;if(Ie)me=this.removeParameterProjections(Ae,we,Ie,Se,Ne.shouldRemoveParameter,Ne.projOptions.indexInParameter);else for(var xe=Ne.projOptions.fieldIndex,Je=(Ne.count??1)-1;Je>=0;Je--)if(!(me=this.removeProjection(Ae,we,Se,{fieldIndex:xe})))return!1;return me}removeParameterProjections(Ae,we,Ne,Se,Ie,me){var Oe=!1;if(null!=me)Oe=this.removeProjection(Ae,we,Se,{parameter:Ne,indexInParameter:me});else for(var ye=(Ne.length??0)-1;ye>=0;ye--)if(!(Oe=this.removeProjection(Ae,we,Se,{parameter:Ne,indexInParameter:ye})))return!1;return Ie&&0===(Ne.length??0)&&(Oe=Ae.removeParameterByRoleName(Ne,Se)||Oe),Oe}removeProjection(Ae,we,Ne,Se){var Ie=Ae.getQueryRef(Ne,Se),me=Ae.getVisualCalcExpressions().some(Ee=>Ee.name===Ie),Oe=Ae.removeProjection(Ne,Se);return Ie&&!Ae.isUsed(Ie)&&we&&we[Ie]&&(me||null==we[Ie].formatString?delete we[Ie]:we[Ie]={formatString:we[Ie].formatString}),Oe}tryAddWithUndefinedQuery(Ae,we,Ne,Se){var Ie=!!this.featureSwitchService.featureSwitches.drillStateToggleable&&(0,F.dR)(Ae.capabilities);we.query=new W.g(D.vQ.create(),{},[],Ie);var me=this.tryAdd(Ae,we,Ne,Se);return me||(we.query=void 0),me}tryAdd(Ae,we,Ne,Se){p.f.assertValue(Ae,"capabilitiesHelper"),p.f.assertValue(we,"config"),p.f.assertValue(Se,"options");var Ie=Se.expr;p.f.assertValue(Ie,"expr");var me=new x.W(O.Sd),Oe=!1,Ee=Se.projOptions;if(_.isArray(Ie)){var xe=Ee&&Ee.fieldIndex;for(var ye of Ie)Oe=null!=this.tryAddQuery(Ae,we,Se,ye,Ee,me,Ne)||Oe,null!=xe&&Ee.fieldIndex++}else if(null==this.tryAddQuery(Ae,we,Se,Ie,Ee,me,Ne))return!1;if(!Ne){var Je=(0,F.WO)(Ae.capabilities,!!we.query?.isDrillDisabled);if(we.query.ensureDrillableRoles(Je),_.isArray(Ie))return Oe}return!0}tryAddQuery(Ae,we,Ne,Se,Ie,me,Oe){p.f.assertValue(Ae,"capabilities"),p.f.assertValue(we,"config"),p.f.assertValue(Se,"expr"),p.f.assertValue(we,"query");var Ee=Ie&&Ie.isHidden,xe=Ae.findCompatibleRole({queryProjections:we.query.projections,schema:Ne.schema,expr:Se,preferDrillableRoles:!1,roleToExprMap:me,targetRole:Ne.targetRole,isFieldParameter:Oe,overflowIsWarning:Ne.hideOnOverflow,isHidden:Ee});if(xe&&xe.role){var ye=xe.error;if(!(ye===y.zS.conditionRangeTooLarge&&Ee||this.tryHideOnOverflow(xe.role.name,we.query,ye)))return;var Je=this.ensureCorrectKeyInfluencersRole(we.visualType,xe.role,Ne.targetRole);if(!this.featureSwitchService.featureSwitches.cartesianMultiplesAuthoring&&!ot(Je,we,Ae.capabilities)&&(Je=this.ensureCorrectSmallMultiplesRole(we,Ae.capabilities,Je,void 0,void 0)),!Ae.validateDuplicateColumnsInRole(Je,Se,we.query,Oe))return;var Ce,he=Je.name;if(Oe)Ce=we.query.addParameter(Se,he,Ie&&Ie.fieldIndex);else{var je=null==Ie?{}:Object.assign({},Ie);null==je.nativeReferenceName&&(je.nativeReferenceName=this.displayNameService.createUniqueNativeReference(Se,Ne.schema,we.query,Ae.capabilities,void 0)),Ce=we.query.add(Se,he,je)}return this.ensureDependentObjectDefn(Ae.objectDescs,he,we),me.add(Se,Je),Ce}}ensureCardinalityByHidingDifferentProjection(Ae,we,Ne){var{query:Se,visualType:Ie}=Ae;if(Se){var Ee=(0,H.F)().create(this.visualPluginService.capabilities(Ie),this.geoTaggingService,Se.isDrillDisabled).getNumberRangesForRoles(Se)[we],xe=Se.projections[we].projected().length;Ee&&Ee.max<xe&&this.tryHideOnOverflow(we,Se,y.zS.conditionRangeTooLarge,Ne)}}tryHideOnOverflow(Ae,we,Ne,Se){if(!Ne)return!0;if(Ne===y.zS.conditionRangeTooLarge){var Ie=we.tryGetFieldExprs(Ae);if(_.isEmpty(Ie))return!1;for(var me=0;me<Ie.length;me++){var Oe=Ie[me];if((!_.isNumber(Se)||Se!==me)&&!Oe.isFieldParameter&&(0,Z.k)(Oe.expr)&&!Oe.isHidden)return we.toggleHidden(Oe.queryName),!0}}return!1}generateNativeReferenceNameForOperation(Ae,we){var Ne=we.singleVisual.query.getQueryRef(Ae.role,{fieldIndex:Ae.index});if(null==Ne)return p.f.assertFail(`queryRef does not exist while role ${Ae.role}, field index ${Ae.index}`),"";var Se=we.singleVisual.query.defn.select().withName(Ne),Ie=this.visualPluginService.capabilities(we.singleVisual.visualType);return this.displayNameService.createUniqueNativeReference(Se.expr,Ae.schema,we.singleVisual.query,Ie,Ne)}captureCurrentActiveProjectionsByRole(Ae){if(Ae){var we=this.visualPluginService.capabilities(Ae.config.singleVisual.visualType),Ne=Ae.config.singleVisual.query;if(Ne){var Se={};if(we&&we.expandAndSort)return we.expandAndSort.forEach(Ie=>{var me=(0,c.cY)(Ne.projections,Ie);!me||!me.activeProjectionRefs||(Se[Ie]={projectionName:_.last(me.activeProjectionRefs),currentPosition:me.activeProjectionRefs.length,totalNumberOfProjections:me.getQueryRefs().length})}),Se}}}ensureCorrectKeyInfluencersRole(Ae,we,Ne){return Ae!==re.D.keyDriversVisual||we.name!==t.qG.details||Ne?we:_.find((0,t.yM)().dataRoles,Se=>Se.name===t.qG.explainBy)}ensureCorrectSmallMultiplesRole(Ae,we,Ne,Se,Ie){return this.featureSwitchService.featureSwitches?.cartesianMultiplesAuthoring||!(0,l.qU)(we?.dataViewMappings)||Ne.name!==a.xV.rows||Se&&Ie===a.xV.rows&&(0,l.qU)(Se?.dataViewMappings)||Ae.hasUsedSmallMultiples?Ne:_.find(we.dataRoles,me=>me.name===a.xV.category)}ensureDependentObjectDefn(Ae,we,Ne){if(Ae)for(var Se in Ae){var Ie=Ae[Se];for(var me in Ie.properties){var Oe=Ie.properties[me];if(Oe.rule&&Oe.rule.inputRole===we){var Ee=Ne.objects;Ee||(Ee=Ne.objects={});var xe=(0,S.zx)(Ee,Se,null);xe.properties[me]||(xe.properties[me]=this.createDefaultDefinition(Oe.type))}}}}createDefaultDefinition(Ae){if(Ae.fillRule)return(0,g.yw)()}getSourceShowAllInfo(Ae){var we={};for(var Ne of _.values(Ae)){var Se=Ne.showAll;for(var Ie of Ne.all())we[Ie.queryRef]=Se}return we}updateTargetShowAllInfo(Ae,we,Ne){var Se=this.getSourceShowAllInfo(Ae.query.projections);for(var Ie of _.keys(we.projections)){var me=Ne.roles.withName(Ie).kind;if(this.isShowAllRole(me))for(var Oe of we.projections[Ie].all()){var Ee=Se[Oe.queryRef];Ee&&(we.projections[Ie].showAll=Ee)}}}isShowAllRole(Ae){return Ae===o.DW.Grouping||Ae===o.DW.GroupingOrMeasure}shouldDefaultExpandSort(Ae,we,Ne){return _.includes(we,Ae)&&Ne>1}setDrillMode(Ae,we,Ne){Ne.setDrillMode(Ae,we)}}},285886:function(ve,j,e){e.d(j,{F:function(){return S}});var r=e(60978),i=e(426313),a=e(315322);function t(h,E){return null==h||isNaN(h)?E:null==E||isNaN(E)?h:Math.min(h,E)}function l(h,E){return null==h||isNaN(h)?E:null==E||isNaN(E)?h:Math.max(h,E)}var g=e(990297),n=e(650543),p=e(630881),s=e(171150),d=e(66301),o=e(455235),v=e(810331),c=(e(442407),e(248505)),C=e(636685),y=e(891135);function S(){var E=C.g,u=c.Ge;function f(w){return w&&w.geography&&(w.geography.latitude||w.geography.longitude)}function b(w){return _.some(w.preferredTypes,M=>f(M)||M.numeric)}function V(w){return w.cartesianKind===p.Lv.X||w.cartesianKind===p.Lv.Y}class T{constructor(M,A,R,B){n.f.assertValue(M,"capabilities"),n.f.assertValue(A,"roles"),n.f.assertAnyValue(R,"objectDescs"),n.f.assertValue(B,"roleMappings"),this.capabilities=M,this.roles=A,this.objectDescs=R,this.roleMappings=B}findCompatibleRole(M){n.f.assertValue(M.queryProjections,"config"),n.f.assertValue(M.schema,"schema"),n.f.assertValue(M.expr,"expr"),n.f.assertAnyValue(M.targetRole,"targetRole"),n.f.assertAnyValue(M.roleToExprMap,"roleToExprMap");var A=M.expr,R=M.roleToExprMap,B=M.targetRole,N=M.preferDrillableRoles;if((0,r.ez)(A)){N=!0;var W=this.getExistingTargetRoleForHierarchyLevelIfAny(A,R);if(W){if(B&&B!==W.name)return;B=W.name}}var U,F=(0,v.Q)(A,M.schema);F&&(U=F.column||F.columnAggr||F.groupingColumn||F.groupingColumnAggr||F.measure);var O={projections:M.queryProjections,metadata:A.getMetadata(M.schema),columnName:U?U.name:void 0,preferDrillableRoles:N,targetRole:B,isFieldParameter:M.isFieldParameter,useStrict:M.useStrict,sourceRole:M.sourceRole,overflowIsWarning:M.overflowIsWarning,isHidden:M.isHidden},x=this.findRole(O);if(!x||!_.isEmpty(x?.error)){O.preferDrillableRoles=!M.preferDrillableRoles;var I=this.findRole(O);_.isEmpty(I?.error)&&(x=I)}return x&&R&&R.add(A,x.role),x}findRole(M){var R,A=this.roleMappings;if(!_.isEmpty(A)){var B=A[0].getValueType(M.metadata?M.metadata.type:void 0,M.columnName),N=this.roles.allRolesWithPreference(B?B.extendedType:void 0,M.projections,M.preferDrillableRoles,M.useStrict,M.sourceRole),W=M.targetRole?[M.targetRole]:N;for(var F of W)for(var U of A){var O=U.checkRoleCompatibility(M,F,N);if(O&&!O.error)return O;O&&(R=O)}return R}}getExistingTargetRoleForHierarchyLevelIfAny(M,A){return n.f.assertValue(A,"roleToExprMap"),A.get(M)}orderByRolePreferences(M,A){n.f.assertValue(M,"schema"),n.f.assertValue(A,".orderRoleByPreferences - fields is undefined");for(var R=this.roles.defns,B=0,N=A.length,W=0,F=R.length;W<F;W++){var U=R[W].preferredTypes;if(!_.isEmpty(U))for(var O=B;O<N;O++){var x=A[O],L=x.expr.getMetadata(M);if(L){var K=L.type;if(K)for(var z=0,H=U.length;z<H;z++)if(K.extendedType===u.fromDescriptor(U[z]).extendedType){A.splice(O,1),A.splice(B,0,x),B++;break}}}}}getNumberRangesForRoles(M){var R,A=_.map(this.roles.defns,z=>z.name);n.f.assertValue(R=M instanceof E?M.projections:M,"projectionsByRole");var B={};for(var N of A)B[N]={min:1/0,max:0};var W=_.filter(this.roleMappings,z=>void 0===z.verifyMappingConditions({projections:R,roleNames:A,preferDrillableRoles:!0,ignoreMin:!0}));for(var F of W){var U=F.getCondition();for(var O of A){var I,x=U&&U[O];I=x?{min:l(x.min,0),max:t(x.max,1/0)}:{min:0,max:1/0};var L=B[O];L.min=Math.min(I.min,L.min),L.max=Math.max(I.max,L.max)}}for(var K of _.values(B))K.min=Math.min(K.min,K.max);return B}getNonLatLongRoles(){var M=this.getLatLongRoleNames();return this.getFilteredRoleNames(M)}getFilteredRoleNames(M){var R=this.capabilities.dataViewMappings,B=[];for(var N of R)N.categorical&&(0,o.Sr)(N.categorical.categories,{visitRole:F=>{B.push(F)}}),N.matrix&&(0,o.Ay)(N.matrix.rows,{visitRole:F=>{B.push(F)}});return _.without(_.uniq(B),...M||[])}getLatLongRoleNames(){return this.getRoleNames(M=>b(M))}getCartesianGroupingOrMeasureRoleNames(){return this.getRoleNames(M=>V(M))}getRoleNames(M){return _.chain(this.capabilities.dataRoles).filter(M).map(A=>A.name).value()}hasPreferredTypes(){return _.some(this.capabilities.dataRoles,M=>!_.isEmpty(M.preferredTypes))}validateDuplicateColumnsInRole(M,A,R,B){if(n.f.assertValue(M,"targetRole"),n.f.assertValue(A,"expr"),n.f.assertValue(R,"VisualQuery"),!M.noDuplicates)return!0;var N=M.name,W=R.projections;if(W&&W[N]){var F;if(B){var L=W[N].getFieldParameters(),K=_.map(L,z=>z.expr);F=_.some(K,z=>(0,i.fS)(A,z))}else{var U=W[N].all(),O=_.map(U,z=>z.queryRef),x=R&&R.defn&&R.defn.select(),I=_.map(O,z=>x.withName(z).expr);F=_.some(I,z=>(0,i.fS)(A,z))}return!F}return!0}}class P{constructor(M,A,R,B){n.f.assertValue(M,"roles"),this.roles=M,this.geoTaggingService=A,this.condition=B,this.drillableRoles=R}getCondition(){return this.condition}checkRoleCompatibility(M,A,R){if(n.f.assertValue(M.projections,"projections"),n.f.assertAnyValue(M.metadata,"metadata"),M.metadata){var B=this.roles.withName(A);if(B){if(M.isFieldParameter)return{role:B};var N=(0,d.sw)(A,M.projections);M.isHidden||N++;var W=this.validateRoleCompatibility(B,M.metadata,N,M.preferDrillableRoles),F=W?{code:W,roleName:A}:void 0;if(!F&&!this.verifyMappingConditions({projections:M.projections,roleNames:_.without(R,A),preferDrillableRoles:M.preferDrillableRoles,ignoreMin:!1}))return{role:B};if(F&&F.roleName===A&&F.code===d.zS.conditionRangeTooLarge&&M.overflowIsWarning)return{role:B,error:F.code}}}}getValueType(M,A){if(M&&null==M.categoryString){var R=A&&this.geoTaggingService.getFieldType(A);null!=R&&(M=u.fromPrimitiveTypeAndCategory(M.primitiveType,R))}return M}verifyMappingConditions(M){for(var A of(n.f.assertValue(M.projections,"projections"),n.f.assertValue(M.roleNames,"roleNames"),M.roleNames)){var R=this.roles.withName(A);if(!R)return{code:a.B1.roleDoesNotExist,roleName:A};var B=(0,d.sw)(A,M.projections),N=this.validateRange({count:B,roleName:R.name,preferDrillableRoles:M.preferDrillableRoles,ignoreMin:M.ignoreMin});if(N)return{code:N,roleName:A}}}validateRoleCompatibility(M,A,R,B){n.f.assertValue(M,"roleInfo"),n.f.assertValue(A,"exprMetadata");var N=M.kind;if(A.kind===s.I.Measure){if(N===p.DW.Grouping)return d.zS.conditionKindExpectedGrouping}else if(N===p.DW.Measure)return d.zS.conditionKindExpectedMeasure;var W=M.requiredTypes;return W&&!u.isCompatibleTo(A.type,W)?a.B1.exprTypeMismatch:A.type?.misc?.sparkline&&!M.supportsSparklines?a.B1.sparklineSupportMismatch:this.validateRange({count:R,roleName:M.name,preferDrillableRoles:B,ignoreMin:!1})||void 0}isRoleDrillable(M){return _.includes(this.drillableRoles,M)&&(!this.condition[M]||void 0===this.condition[M].max||1===this.condition[M].max)}validateRange(M){if(this.condition&&(!M.preferDrillableRoles||!this.isRoleDrillable(M.roleName))){var A=this.condition[M.roleName];return A?(0,d.JU)(M.count,A,M.ignoreMin):void 0}}}class D{constructor(M){n.f.assertValue(M,"roles"),this.defns=M}withName(M){return(0,g.rC)(this.defns,M)}allRolesWithPreference(M,A,R,B,N){var W=_.map(this.defns,F=>F.name);return N?this.promoteAndPenalize(W,F=>this.getRoleWeight(N,F)):this.promoteAndPenalize(W,F=>this.getTypeWeightForRole(M,F.preferredTypes),B),this.promoteAndPenalize(W,F=>this.getProjectionWeightForRole(F,A,R)),W}promoteAndPenalize(M,A,R){var B=0;for(var N of this.defns){var W=A(N);if(null!=W){var F=M.splice(M.indexOf(N.name),1)[0];W!==D.penalize||R?W===D.promote&&M.splice(B++,0,F):M.push(F)}}}getRoleWeight(M,A){return M.kind===A.kind||this.hasCommonTypes(M.requiredTypes,A.requiredTypes)||this.hasCommonTypes(M.requiredTypes,A.preferredTypes)||this.hasCommonTypes(M.preferredTypes,A.requiredTypes)||this.hasCommonTypes(M.preferredTypes,A.preferredTypes)?D.promote:D.penalize}hasCommonTypes(M,A){return!_.isEmpty(M)&&!_.isEmpty(A)&&!_.isEmpty(_.intersectionWith(M,A,_.isEqual))}getTypeWeightForRole(M,A){if(A){var R=D.penalize;for(var B of A)if(M===u.fromDescriptor(B).extendedType){R=D.promote;break}return R}}getProjectionWeightForRole(M,A,R){var B=A[M.name],N=B&&B.projected();if(!R&&!_.isEmpty(N)&&M.kind!==p.DW.Measure||R&&M.kind===p.DW.Measure)return D.penalize}}return D.penalize=-1,D.promote=1,{create(w,M,A){if(n.f.assertAnyValue(w,"capabilities"),w&&!_.isEmpty(w.dataRoles)){var R=w.dataViewMappings,B=new D(w.dataRoles),N=[];for(var W of R){var F=W.conditions;if(_.isEmpty(F))N.push(new P(B,M,(0,y.WO)(w,A)));else for(var U of F)N.push(new P(B,M,(0,y.WO)(w,A),U))}return new T(w,B,w.objects,N)}},dataRoleWrapper:w=>new D(w),isValueTypeDescriptorLatLong:f,isRoleCompatibleWithLatLong:b,isRoleCompatibleWithScatterXY:V}}},721603:function(ve,j,e){e.d(j,{I:function(){return a}});var r=e(650543),i=e(482693);function a(l){return new t(l)}class t{constructor(g){this.visualPlugins=g,r.f.assertValue(this.visualPlugins,"visualPlugin")}hasFilterCapabilities(g){var n=this.visualPlugins.getPlugin(g);return!!(n&&n.capabilities&&n.capabilities.objects&&(0,i.MD)(n.capabilities.objects))}}},833595:function(ve,j,e){e.d(j,{w:function(){return T}});var r=e(349672),i=e(882924),a=e(167165),t=e(120075),l=e(771197),g=e(364419),n=e(43143),p=e(264431),s=e(650543),d=e(120694),o=e(202424),v=e(547353),m=e(97964),c=e(216070),C=e(399026),y=e(868258),S=e(661214),h=e(363241),E=e(274493),u=e(70082),f=e(827374),b=e(349451),V=e(158501);function T(D,w,M,A,R,B,N,W,F,U,O,x,I,L,K,z,H,J,k,G,q,Q,Z){return new P(D,w,M,A,R,B,N,W,F,U,O,x,I,L,K,z,H,Z,Q,J,k,G,q)}class P{constructor(w,M,A,R,B,N,W,F,U,O,x,I,L,K,z,H,J,k,G,q,Q,Z,X){this.queryExecutionServices=w,this.hostServices=M,this.promiseFactory=A,this.conceptualSchemaProxy=R,this.featureSwitchService=B,this.telemetryService=N,this.visualQueryGenerator=W,this.visualPlugin=F,this.visualPluginOps=U,this.filterGenerator=O,this.displayNameService=x,this.explorationNavigation=I,this.visualValidationService=L,this.resourceLoader=K,this.eventBridge=z,this.dataProxyService=H,this.dataSources=J,this.visualLifecycleService=k,this.resourceRegistration=G,this.cachePolicyProviderService=q,this.visualInsightsAnalysisHandler=Q,this.visualParameterService=Z,this.visualDataProxyExecutionService=X}attach(w){this.queryExecutionServices=w}cancelQuery(w){this.visualDataProxyExecutionService.cancelQuery(w),this.visualParameterService.cancelResolve(w)}generateApplicationContext(w,M){var A=this.explorationNavigation&&this.explorationNavigation.getCurrentExploration()&&this.explorationNavigation.getCurrentExploration().report,R=A&&A.objectId,B=this.dataSources.get(),N=B?.filter(W=>!!W.dsr)[0]?.dsr?.dbName;return{DatasetId:N,Sources:[{ReportId:R,Operation:w,VisualId:M&&M.name}]}}runQuery(w){var R,M=(0,h.O)(w.performanceActivity,C.V6,this.telemetryService),A=w.performanceActivity;this.featureSwitchService.featureSwitches.resolveParametersEvent&&(R=this.startResolveParametersPerformanceActivity(A));var B=this.startQueryPerformanceActivity(A),N=this.dataSources.get(),W=w.contract,F=W.config.singleVisual,U=F.query&&F.query.hasQueryFieldParameters();if(this.visualValidationService.shouldBlockVisualQuery&&this.visualValidationService.shouldBlockVisualQuery(W)||!(w.skipShouldRunQueryVerification||this.visualQueryGenerator.shouldExecute(F,N)||this.visualParameterService.shouldExecute(F,N)))return this.featureSwitchService.featureSwitches.resolveParametersEvent&&this.transitionResolveParametersToQuery(!1,R,B),B&&B.queryActivity.resolve(),M&&M.resolve(),!1;this.queryExecutionServices.notifyStart(B&&B.telemetryActivity),R&&R.setProperty("start",(0,d.z)());var I=this.resolveQueryParameters(w,R);return(this.visualInsightsAnalysisHandler.supportsInsights(W)?I.then(L=>{if((L.queryChange||L.aliasChange)&&this.queryExecutionServices.applyResolveParametersUpdate(),this.featureSwitchService.featureSwitches.resolveParametersEvent&&this.transitionResolveParametersToQuery(!0,R,B),!U||this.visualQueryGenerator.shouldExecute(F,N))return this.visualInsightsAnalysisHandler.runInsights(W).then(K=>{if(K){if(K.error)throw K.error;K.queryExecutionOptions&&_.merge(w,K.queryExecutionOptions)}return this.runQueryImpl(w,N,W,B,K&&K.warnings)});B?.queryActivity?.cancel(!0)}):I.then(L=>{if((L.queryChange||L.aliasChange)&&this.queryExecutionServices.applyResolveParametersUpdate(),this.featureSwitchService.featureSwitches.resolveParametersEvent&&this.transitionResolveParametersToQuery(!0,R,B),!U||this.visualQueryGenerator.shouldExecute(F,N))return this.runQueryImpl(w,N,W,B,void 0);B?.queryActivity?.cancel(!0)})).catch(L=>{this.queryExecutionServices.handleErrors(L,B)}).finally(()=>{this.queryExecutionServices.notifyEnd(),M&&M.resolve()}),!0}transitionResolveParametersToQuery(w,M,A){M&&M.isRunning()&&(A&&A.queryActivity.isRunning()&&A.queryActivity.setProperty("start",(0,d.z)()),w&&M.getProperty("metadataParameterCount")>0?M.resolve():M.cancel(!0))}resolveQueryParameters(w,M){var A=this.dataSources.get();return this.conceptualSchemaProxy.get(A).then(R=>{var B=this.generateApplicationContext(w.queryOperation,w.contract),N=this.getDatasetCacheOptions(w,A,!1),W={dataSources:A,schema:R,additionalFilters:this.hostServices.getFilters(this.filterGenerator,R),config:w.contract.config.singleVisual,cacheOptions:N,allowResultFromClientCache:w.allowResultFromClientCache,applicationContext:B,cacheResponseOnServer:w.cacheResponseOnServer,visual:w.contract,performanceActivity:M,metricsKind:w.executionMetricsKind};return this.visualParameterService.resolve(W)})}runQueryImpl(w,M,A,R,B){!w.initialLoad&&this.hostServices&&this.updateCachedData(w);var F,U,N=this.getDatasetCacheOptions(w,M,!0),W=w.initialLoad&&this.featureSwitchService.featureSwitches.verboseTelemetry;W&&(F=this.startVisualFirstLoadTelemetryEvent(N,M,A.name,R&&R.telemetryActivity)),U=this.generateApplicationContext(w.queryOperation,A);var O=this.visualDataProxyExecutionService.runQuery({dataSources:M,contract:A,viewport:w.viewport,hostServices:this.hostServices,initialLoad:w.initialLoad,useVisualContainerCache:w.useVisualContainerCache,preferCurrentData:w.preferCurrentData,allowResultFromClientCache:w.allowResultFromClientCache,cacheResponseOnServer:w.cacheResponseOnServer,cacheResponseOnContract:w.cacheResponseOnContract,cacheOptions:N,clientCacheOnly:w.clientCacheOnly,visualFirstLoadEvent:F,performanceActivity:R&&R.queryActivity,executionMetricsKind:w.executionMetricsKind,canDefer:w.canDefer,requestPriority:w.requestPriority,applicationContext:U,windowExpansionTransform:w.windowExpansionTransform,skipShouldRunQueryVerification:w.skipShouldRunQueryVerification,previewGate:w.previewGate,customizeQueryOverride:w.customizeQueryOverride}),x=A.config.singleVisual.visualType,L=this.loadResourcePackageReferences(x,A.config.singleVisual.objects);w.geocodingTracker&&w.geocodingTracker.newQuery(R&&R.rootActivity);var K=!1;return O.previewPromise.then(z=>{z&&!K&&this.resolveResourcePackageReferences(x,z.dataProxyQuery.transforms.objects,R&&R.rootActivity).then(H=>{this.handleQueryResult(A,z.result,z.dataProxyQuery,H,null,null,!0,R,B)})},z=>{s.f.assert(()=>z.ignorable,"Preview promise should be rejected with ignorable errors only")}),O.finalPromise.then(z=>{var H=z&&z.result&&z.result.dataReaderResult,J=!!(N&o.U.AllowCache);H&&J&&F&&(F.event.info.cacheResultFromServer=z.result.dataReaderResult.fromCache);var k=this.getLastRefreshTime(M);if(J&&H&&this.isResultStale(k,z.result.dataReaderResult.timestamp)){var q=o.U.AllowQuery|o.U.CacheResult;return q=N&o.U.PreventRefresh?q|o.U.PreventRefresh:q,F&&(F.event.info.staleCacheResultFromServer=!0),this.visualDataProxyExecutionService.runQuery({dataSources:M,contract:A,viewport:w.viewport,hostServices:this.hostServices,initialLoad:w.initialLoad,useVisualContainerCache:!1,preferCurrentData:w.preferCurrentData,allowResultFromClientCache:!1,cacheResponseOnServer:!1,cacheOptions:q,visualFirstLoadEvent:F,performanceActivity:R&&R.queryActivity,executionMetricsKind:w.executionMetricsKind,requestPriority:w.requestPriority,canDefer:w.canDefer}).finalPromise}return z}).then(z=>L.then(()=>{this.processQueryResult(w,z,R,B)})).finally(()=>{K=!0,W&&F&&F.resolve()})}startQueryPerformanceActivity(w){if(w&&w.isRunning())return{rootActivity:w,queryActivity:w.createChildActivity({name:i.R.Query}),telemetryActivity:this.telemetryService.getOpenActivityById(w&&w.getProperty("telemetryActivityId"))}}startResolveParametersPerformanceActivity(w){if(w)return w.createChildActivity({name:i.R.ResolveParameters})}startVisualFirstLoadTelemetryEvent(w,M,A,R){var W,B=!!(w&o.U.AllowCache),N=(0,S.L2)(M);return W=R?this.telemetryService.startChildEvent(R.event,C.II,{onPrem:N,isServerCacheEligible:B,visualName:A}):this.telemetryService.startEvent(C.II,{onPrem:N,isServerCacheEligible:B,visualName:A}),(0,u.TW)(W.event,this.explorationNavigation),W}getCachedQueryOrGenerate(w){var M=this;return(0,r.Z)(function*(){var A=(0,h.O)(w.performanceActivity,C.v$,M.telemetryService),R=M.dataProxyService.lastExecutedQuery();if(R)return M.cachedQueryResult=void 0,R;try{return M.cachedQueryResult||(yield M.generateQuery(w))}finally{A&&A.resolve()}})()}generateQuery(w){var M=this;return(0,r.Z)(function*(){var A=M.dataSources.get(),R=yield M.conceptualSchemaProxy.get(A),N=M.visualDataProxyExecutionService.generateQuery({dataSources:A,schema:R,config:w.contract.config.singleVisual,hostServices:M.hostServices,visualQueryGenerator:M.visualQueryGenerator,executionType:b.iA.Default,preferCurrentData:null==w.preferCurrentData||w.preferCurrentData,viewport:w.viewport,allowResultFromClientCache:null==w.allowResultFromClientCache||w.allowResultFromClientCache,cacheOptions:void 0,performanceActivity:w.performanceActivity,executionMetricsKind:w.executionMetricsKind});return M.cachedQueryResult=M.dataProxyService.lastExecutedQuery()?void 0:N,N})()}updateCachedData(w){var M=this;return(0,r.Z)(function*(){if(!1!==w.cacheResponseOnContract){var A=yield M.generateQuery({...w,performanceActivity:void 0}),R=w.contract;if(A&&!A.error&&R.cachedData){R.cachedData.dataUpdatedTime=void 0;var B=M.visualPlugin.capabilities(R.config.singleVisual.visualType);R.cachedData.transformsObject=l.F.serializeDataViewTransformActions(A.transforms,B.objects),R.cachedData.queryObject=A.options.query.command,R.cachedData.dataObject=void 0}}})()}loadMoreData(w){var M=this.startQueryPerformanceActivity(w.performanceActivity);this.queryExecutionServices.notifyStart(),this.getNextDataSegment(w,M).then(A=>{A&&this.mergeMoreData(A.result,A.dataProxyQuery,w.currentData,A.performanceActivityContext)}).catch(A=>{M&&M.queryActivity.reject(A)}).finally(()=>{this.queryExecutionServices.notifyEnd()})}canLoadMoreData(){return this.visualDataProxyExecutionService.canLoadMoreData()}loadWindow(w){var M=this.startQueryPerformanceActivity(w.performanceActivity);this.queryExecutionServices.notifyStart(),this.visualDataProxyExecutionService.loadWindow({dataSources:this.dataSources.get(),contract:w.contract,hostServices:this.hostServices,viewport:w.viewport,useVisualContainerCache:w.useVisualContainerCache,performanceActivity:M?.queryActivity,executionMetricsKind:w.executionMetricsKind,windowExpansionState:w.windowExpansionState}).then(A=>{this.handleLoadMoreDataWarnings(A&&A.result,A&&A.dataProxyQuery),this.processQueryResult(w,A,M,void 0)}).catch(A=>{this.queryExecutionServices.handleErrors(A),M&&M.queryActivity.reject(new p.HA(A))}).finally(()=>{this.queryExecutionServices.notifyEnd()})}getNextDataSegment(w,M){var A=M||this.startQueryPerformanceActivity(w.performanceActivity),R=this.promiseFactory.defer();return this.visualDataProxyExecutionService.canLoadMoreData()?this.visualDataProxyExecutionService.loadMoreData({dataSources:this.dataSources.get(),contract:w.contract,hostServices:this.hostServices,viewport:w.viewport,useVisualContainerCache:w.useVisualContainerCache,performanceActivity:A?.queryActivity,executionMetricsKind:w.executionMetricsKind}).then(B=>{this.handleLoadMoreDataWarnings(B&&B.result,B&&B.dataProxyQuery);var N=B;A&&(N={...N,performanceActivityContext:A}),R.resolve(N)},B=>{this.queryExecutionServices.handleErrors(B),A&&A.queryActivity.reject(new p.HA(B)),R.reject(B)}):(A&&A.queryActivity.reject(new V.fl("Cannot load more data","User")),R.reject("Cannot load more data")),R.promise}reloadDataSegment(w,M){var A=w.currentData&&w.currentData.dataView&&w.currentData.dataView.matrix&&w.currentData.dataView.matrix.rows&&w.currentData.dataView.matrix.rows.root;if(A){var R=this.dataProxyService.getNodeSegment(M);if(R&&0!==R.index){this.dataProxyService.discardSegmentsFrom(R.index);var B=this.dataProxyService.getLastNodeIndex();(0,v.dp)(A,B)?this.loadMoreData(w):this.runQuery(w)}else this.runQuery(w)}else this.runQuery(w)}mergeMoreData(w,M,A,R){var B=P.getDataProxyQueryExecutionResultWarnings(w,M),N=w&&w.dataReaderResult?w.dataReaderResult.dataView:null;if(N){s.f.assert(()=>null!=A&&null!=A.dataView,"Expected to have previous segment already");var W=A.dataView;(0,v.$n)(W,N);var F={dataView:W,dataViewSource:w&&w.dataViewSource,performanceActivities:w&&w.dataReaderResult&&w.dataReaderResult.performanceActivities,isFirstSegment:!1};_.isEmpty(B)||(F.warnings=B),this.queryExecutionServices.loadMergedData(F,R)}else R&&R.queryActivity.resolve()}visualizeDataViewSource(w,M,A,R){s.f.assertValue(M,"dataViewSource");var B=this.startQueryPerformanceActivity(R),N=w.config.singleVisual,W=this.visualPluginOps.targetedDataViewKinds(N.visualType,N.query),F=(0,t.ij)(W,M.data,(0,n.u)(this.featureSwitchService.featureSwitches)),U=F.error;if(U)this.queryExecutionServices.handleErrors(U);else{var O=this.dataSources.get();s.f.assertValue(O,"dataSources");var x=w&&w.config&&w.config.singleVisual;!O||!x||this.conceptualSchemaProxy.get(O).then(I=>{var L=this.visualQueryGenerator.execute({config:x,dataSources:O,schema:I,additionalFilters:this.hostServices.getFilters(this.filterGenerator,I),restartToken:F.restartToken,dataWindow:A,dataSourceVariables:this.hostServices.getDataSourceVariables(),disableAnchorTime:!!this.hostServices.disableAnchorTime||this.visualPluginOps.isQnaVisual(x.visualType)});if(L){var K=this.promiseFactory.defer();K.resolve(L.options),this.handleQueryResult(w,{dataViewSource:M,dataReaderResult:F},{transforms:L.transforms,error:L.error,warnings:L.warnings,options:K.promise},null,{updateContractCache:!0},null,!1,B)}})}}updateNonQueryVisual(w,M,A){var R=this.startQueryPerformanceActivity(A),B={dataView:null,dataViewSource:null};if(M){var N=w.config.singleVisual.visualType,W=w.config.singleVisual.objects;this.queryExecutionServices.notifyStart(),this.resolveResourcePackageReferences(N,W,A).then(F=>{this.queryExecutionServices.applyUpdate(B,M,F,R)}).finally(()=>{this.queryExecutionServices.notifyEnd()})}else this.queryExecutionServices.applyUpdate(B,M,null,R)}updateContractCache(w,M,A){if(s.f.assertAnyValue(M,"result"),!w)return this.promiseFactory.reject(new Error("VisualContainerQueryHandler.updateContractCache() contract is undefined"));var R=this.dataSources.get();if(!R)return this.promiseFactory.reject(new Error("VisualContainerQueryHandler.updateContractCache() dataSources is undefined"));s.f.assertValue(A,"dataProxyQuery is expected to be defined when there is a dataSource");var B=w.cachedData&&w.cachedData.dataUpdatedTime?w.cachedData.dataUpdatedTime:null,N=M&&M.dataViewSource?M.dataViewSource.data:void 0,W=A&&A.error;return M&&M.dataReaderResult&&M.dataReaderResult.disallowPersisting&&(B=null,N=null,W=new p.qw("VisualContainerQueryHandler.updateContractCache() cachingError")),this.conceptualSchemaProxy.get(R).then(F=>A.options.then(U=>{w.cachedData=(0,S.s9)(this.visualPlugin,this.displayNameService,N,{transforms:A.transforms,error:W,warnings:A.warnings,options:U,compiledMappings:A.compiledMappings},F,w.config.singleVisual,this.featureSwitchService.featureSwitches,(0,f.i3)(w.filters),B)}))}getLastRefreshTime(w){for(var M of w)if(M&&M.dsr&&M.dsr.lastRefreshTime)return M.dsr.lastRefreshTime}processQueryResult(w,M,A,R){var B;M&&(B={updateContractCache:w.cacheResponseOnContract??!0,updateServerCache:M.updateServerVisualContainerCache},this.resolveResourcePackageReferences(w.contract.config.singleVisual.visualType,M.dataProxyQuery.transforms.objects,A&&A.rootActivity).then(N=>{this.handleQueryResult(w.contract,M&&M.result,M.dataProxyQuery,N,B,w.currentData,!1,A,R)}))}isResultStale(w,M){var R=(0,g.TX)(w),B=(0,g.Kk)(M);return s.f.assert(()=>!!B,"A result date should be returned -- this is needed to check for freshness."),!(!R||!B)&&R.getTime()-12e4>B.getTime()}getDatasetCacheOptions(w,M,A){var B=w.initialLoad,N=this.visualLifecycleService&&this.visualLifecycleService.has(w.contract.id,A);if(this.featureSwitchService.featureSwitches.expandQueryCaching){if(this.isQueryCachingEnabledForAnyDataset(M))return this.cachePolicyProviderService.getInteractiveQueryPolicy(B&&N,w.interactiveQueryCachingSetting)}else if(B&&N&&this.isQueryCachingEnabledForAnyDataset(M))return o.U.AllowCache|o.U.AllowQuery|o.U.CacheResult}isQueryCachingEnabledForAnyDataset(w){return!!_.some(w,M=>M.dsr&&M.dsr.isQueryCachingEnabled)}handleQueryResult(w,M,A,R,B={},N,W=!1,F,U){var O,x;if(this.queryExecutionServices.clearErrors(),M){O={dataView:M.dataReaderResult?M.dataReaderResult.dataView:null,dataViewSource:M.dataViewSource?M.dataViewSource:null,performanceActivities:M.dataReaderResult?M.dataReaderResult.performanceActivities:null},x=P.getDataProxyQueryExecutionResultWarnings(M,A)||[],U&&(x=_.concat(x,U)),_.isEmpty(x)||(O.warnings=x);var I=(0,S.A8)(O.dataView);if(I&&(O.isFirstSegment=I),this.featureSwitchService?.featureSwitches?.queryContext){var L=M.dataReaderResult?.queryContext;L&&(O.queryContext=L)}}else if(O={dataView:N&&N.dataView,dataViewSource:N&&N.dataViewSource,isFirstSegment:N&&N.isFirstSegment},x=N&&N.warnings||[],U&&(x=_.concat(x,U)),_.isEmpty(x)||(O.warnings=x),this.featureSwitchService?.featureSwitches?.queryContext){var K=N?.queryContext;K&&(O.queryContext=K)}if(this.queryExecutionServices.handleWarnings(x,A&&A.transforms),this.queryExecutionServices.applyUpdate(O,A.transforms,R,F,W),B&&B.updateContractCache){var H=this.updateContractCache(w,M&&M.dataViewSource?M.dataViewSource.data:void 0,A);B.updateServerCache&&H.then(()=>{A.options.then(J=>{if(!_.isEmpty(J.query.command)){var G={visualContainerId:w.id,query:JSON.stringify(J.query.command),dataTransforms:this.getCachedTransformsString(w)};this.eventBridge.publishToChannel(E.BmV,G)}})})}}handleLoadMoreDataWarnings(w,M){this.queryExecutionServices.clearErrors();var A=P.getDataProxyQueryExecutionResultWarnings(w,M)||[];this.queryExecutionServices.handleWarnings(A,M&&M.transforms)}getCachedTransformsString(w){var M=w.cachedData;if(M){var A=M.transformsObject;if(A)return l.F.serializeTransformActions(A)}}loadResourcePackageReferences(w,M){var A=this.visualPlugin.capabilities(w),R=A&&A.objects,B=this.explorationNavigation.getCurrentExploration();return s.f.assert(()=>!!B||!(0,m.z_)(M,R),"currentExploration"),(0,m.CJ)(M,R,()=>B?B.resourcePackages:null,this.resourceLoader,this.promiseFactory,(N,W)=>this.ensureSharedResource(B,N,W))}ensureSharedResource(w,M,A){if(this.resourceRegistration){var R=(0,y.Hg)(w,a.v.SharedResources);(0,c.NW)(R,M)||this.resourceRegistration.add(M,a.v.SharedResources,A)}}resolveResourcePackageReferences(w,M,A){var R=this.visualPlugin.capabilities(w),B=R&&R.objects,N=this.explorationNavigation.getCurrentExploration();return s.f.assert(()=>!!N||!(0,m.z_)(M,B),"currentExploration"),(0,m.sQ)(M,B,N?N.resourcePackages:null,this.resourceLoader,this.promiseFactory,void 0,A)}static getDataProxyQueryExecutionResultWarnings(w,M){var A;return M&&!_.isEmpty(M.warnings)&&(A=A||[]).push(...M.warnings||[]),w&&w.dataReaderResult&&!_.isEmpty(w.dataReaderResult.warnings)&&(A=A||[]).push(...w.dataReaderResult.warnings||[]),A}}},349451:function(ve,j,e){e.d(j,{iA:function(){return v},nW:function(){return c}});var r=e(882924),i=e(243148),a=e(516148),t=e(621244),l=e(158501),g=e(650543),n=e(301336),p=e(991765),s=e(461995),d=e(547353),o=e(741714),v=function(S){return S[S.Default=0]="Default",S[S.LoadMore=1]="LoadMore",S[S.EnsureData=2]="EnsureData",S[S.LoadWindow=3]="LoadWindow",S}({});class m{constructor(h,E,u){this.index=h,this.restartToken=E,u&&(this.hierarchyLastNodeIndex=u)}endsBeforeNode(h){g.f.assertValue(this.hierarchyLastNodeIndex,"this.hierarchyLastNodeIndex");for(var E=this.hierarchyLastNodeIndex,u=Math.min(E.length,h.length),f=0;f<u;f++){var b=E[f],V=h[f];if(b<V)return!0;if(b>V)return!1}return h.length>E.length}}function c(S,h,E,u,f=!1){return new C(S,h,E,u,f)}class C{constructor(h,E,u,f,b){this.hasExecutedQuery=!0,this.dataProxy=h,this.promiseFactory=u,this.filterGenerator=E,this.dataSegments=[],this.telemetryV2Enabled=b,this.visualPluginService=f}generateQuery(h){var E=(0,n.BL)(`visualQueryGenerator(${h.config.visualType})`),u=h.visualQueryGenerator.execute({config:h.config,dataSources:h.dataSources,schema:h.schema,additionalFilters:h.hostServices.getFilters(this.filterGenerator,h.schema),restartToken:this.getRestartToken(h),cacheResponseOnServer:!(!h.isInitialLoad&&!h.cacheResponseOnServer),allowResultFromClientCache:h.allowResultFromClientCache,dataWindow:h.viewport,cacheOptions:h.cacheOptions,clientCacheOnly:h.clientCacheOnly,dataSourceVariables:h.hostServices.getDataSourceVariables(),performanceActivity:h.performanceActivity,executionMetricsKind:h.executionMetricsKind,telemetryV2Enabled:this.telemetryV2Enabled,requestPriority:h.requestPriority,applicationContext:h.applicationContext,windowExpansion:this.getWindowExpansion(h),disableAnchorTime:!!h.hostServices.disableAnchorTime||h.config.visualType===o.D.qnaVisual,drillableRoles:h.drillableRoles,projectVisualCalculationContext:h.projectVisualCalculationContext,customizeQueryOverride:h.customizeQueryOverride,isPivoted:h.isPivoted,dataViewMappingsOverride:h.dataViewMappingsOverride});return E(),u}getSegmentRestartToken(h){if(!(h<=0))return g.f.assert(()=>h<=this.dataSegments.length,"SegmentIndex out of bounds"),this.dataSegments[h-1].restartToken}runQuery(h){g.f.assertValue(h.config,"config"),g.f.assert(()=>h.executionType!==v.LoadMore||!0!==h.preferCurrentData,"PreferCurrentData true cannot be combined with QueryExecutionType.LoadMore.");var E=this.promiseFactory.defer(this.telemetryV2Enabled),u=_.last(this.dataSegments);if(h.executionType!==v.LoadMore||u&&u.restartToken){var b=h.generatedQuery||this.generateQuery(h);if(b)if(h.additionalDataViewKinds&&b.options&&(b.options.kinds|=h.additionalDataViewKinds),b.error)E.reject(b.error),this.generatedQuery=void 0;else{if(!(this.generatedQuery&&this.hasExecutedQuery&&h.preferCurrentData&&(0,a.Fu)(b.options,this.generatedQuery.options))){if(b=this.ensureRestartToken(h,b),this.shouldDelayExecution(h,b))return this.resolveEmptyResult(b,E),(0,t.U)(E);if(h.performanceActivity){b.options.isColdLoad=function(S){var h=(0,l.sV)(E=>E.name===r.R.OpenReport,S);return h&&h.includesBootstrap}(h.performanceActivity);var V=h.performanceActivity.getProperty("parent");V&&V.name===r.R.VisualContainerLifecycle&&(V.lifecycleFlags|=i.Lu.ranQuery)}var T=this.dataProxy.execute(b.options);return T.then(P=>this.handleQueryResult(P,b,T,h.config.query),P=>{throw this.generatedQuery=void 0,P})}this.generatedQuery=b,E.resolve(null)}else this.generatedQuery=void 0,E.reject()}else E.reject();return(0,t.U)(E)}cancelQuery(h){this.dataProxy.cancelQuery(h)}ensureRestartToken(h,E){return h.executionType!==v.LoadMore&&(this.dataSegments=[],h.preferCurrentData&&(E=this.generateQuery(h),h.additionalDataViewKinds&&(E.options.kinds|=h.additionalDataViewKinds))),E}getRestartToken(h){var E=this.dataSegments.length-1;return h.preferCurrentData?this.getSegmentRestartToken(E):h.executionType===v.LoadMore?this.getSegmentRestartToken(E+1):void 0}getWindowExpansion(h){if(h.config&&h.config.query&&h.config.query.expansionStates){var E=h.config.visualType;g.f.assertValue(E,"Visual type must be defined");var u=this.visualPluginService.capabilities(E);if(!_.some(u.dataViewMappings,b=>b&&b.matrix&&b.matrix.rows&&b.matrix.rows.dataReductionAlgorithm&&b.matrix.rows.dataReductionAlgorithm.topNPerLevel))return void g.f.assert(()=>h.executionType!==v.LoadWindow,"LoadWindow is only supported when data reduction is topNPerLevel");var f=this.windowExpansionState;return h.executionType===v.LoadWindow&&(g.f.assertValue(h.windowExpansionState,"Missing window information"),f=h.windowExpansionState),h.windowExpansionTransform?h.windowExpansionTransform(f):(g.f.assert(()=>_.size(h.config.query.expansionStates)<=1,"Expected at most one expansion state"),(0,p.W7)(_.first(h.config.query.expansionStates),f,h.config.query.defn.select(),h.schema))}}shouldDelayExecution(h,E){return!E.options.query.command||E.deferred&&h.executionType!==v.LoadMore&&h.executionType!==v.EnsureData}resolveEmptyResult(h,E){this.generatedQuery=h,this.hasExecutedQuery=!1,E.resolve({dataReaderResult:{dataView:{metadata:{columns:[]}}}})}handleQueryResult(h,E,u,f){return this.hasExecutedQuery=!0,this.generatedQuery=E,u.matchesLastExecuteQuery&&(h=this.rewriteQueryResultWithoutPerformanceActivities(h)),this.addNewDataSegment(h&&h.dataReaderResult),this.addWindowExpansionState(E,f,h&&h.dataReaderResult),null!=h&&(h.isPivoted=E.isPivoted),h}addWindowExpansionState(h,E,u){1===_.size(h.compiledMappings)&&h.compiledMappings[0].matrix&&h.compiledMappings[0].matrix.rows&&h.compiledMappings[0].matrix.rows.dataReductionAlgorithm&&h.compiledMappings[0].matrix.rows.dataReductionAlgorithm.topNPerLevel?(g.f.assert(()=>_.size(E.expansionStates)<=1,"Expected at most one expansion state"),this.windowExpansionState=(0,s.x9)(u.dataView)):this.windowExpansionState=null}addNewDataSegment(h){var V,E=h&&h.restartToken,u=h&&h.dataView,f=u&&u.matrix&&u.matrix.rows&&u.matrix.rows.root,b=this.dataSegments.length;if(_.isEmpty(f&&f.children))V=new m(b,E);else{var P,T=_.last(this.dataSegments);T?(g.f.assertValue(T.hierarchyLastNodeIndex,"LoadMore is not allowed between segments of different DataViewKinds"),P=_.clone(T.hierarchyLastNodeIndex)):P=[],(0,d.Iu)(f,P),g.f.assert(()=>!T||T.endsBeforeNode(P),"Segment lastNodeIndex must be incremental"),V=new m(b,E,P)}this.dataSegments.push(V)}rewriteQueryResultWithoutPerformanceActivities(h){if(h&&h.dataReaderResult&&h.dataReaderResult.performanceActivities){var E={...h.dataReaderResult};return delete E.performanceActivities,{...h,dataReaderResult:E}}return h}canLoadMore(){var h=_.last(this.dataSegments);return null!=h&&null!=h.restartToken}lastExecutedQuery(){return this.generatedQuery}getNodeSegment(h){return g.f.assert(()=>!_.some(this.dataSegments,E=>_.isEmpty(E.hierarchyLastNodeIndex)),"discardSegmentsFrom is only allowed with Segments of Matrix DataView"),_.find(this.dataSegments,E=>!E.endsBeforeNode(h))}discardSegmentsFrom(h){g.f.assert(()=>h<this.dataSegments.length,"segmentIndex out of bounds"),this.dataSegments.length=h}getLastNodeIndex(){if(!_.isEmpty(this.dataSegments))return _.last(this.dataSegments).hierarchyLastNodeIndex}getSecondToLastNodeIndex(){if(this.dataSegments&&!(this.dataSegments.length<2))return[...this.dataSegments[this.dataSegments.length-2].hierarchyLastNodeIndex]}}},700765:function(ve,j,e){function r(){return new i}e.d(j,{B:function(){return r}});class i{constructor(){this.visualIds={}}add(t){this.visualIds[t]=1}delete(t){delete this.visualIds[t]}has(t,l=!0){var g=1===this.visualIds[t];return g&&l&&this.delete(t),g}}},734399:function(ve,j,e){e.d(j,{f:function(){return c}});var r=e(929248),i=e(399669),a=e(650543),t=e(630881),l=e(66301),g=e(87072),n=e(482693),p=e(140346),s=e(12135),d=e(952363),o=e(661214),v=e(461251),m=e(741714);function c(y,S){return new C(y,S)}class C{constructor(S,h){this.plugins=S,this.featureSwitchService=h,a.f.assertValue(S,"VisualUtil - plugins"),a.f.assertValue(h,"VisualUtil - featureSwitchService")}canEdit(S,h){var E=this.plugins.capabilities(S);switch(E&&E.advancedEditModeSupport){case t.OI.SupportedNoAction:return!0;case t.OI.SupportedInFocus:return h;default:return!1}}dataViewKinds(S,h){if(S){var E=this.plugins.capabilities(S);if(E){var u=E.dataViewMappings,f=(0,g._1)(u);if(h){var b=(0,o.i1)(h),V=(0,l.Lo)(h.projections,u,b,this.featureSwitchService.featureSwitches);f=(0,g._1)(V.supportedMappings),"map"===S&&f&r.m.Categorical&&(0,i.eT)(h.projections,V.supportedMappings)&&(f|=r.m.Matrix)}if(f)return f}}}targetedDataViewKinds(S,h){var E=this.plugins.getPlugin(S);return(0,s.vh)(E,S)&&!(0,d.fA)(E)?r.m.All:this.dataViewKinds(S,h)||r.m.All}supportsFocusMode(S){var h=this.plugins.capabilities(S);return h&&h.dataViewMappings&&!h.disableFocusMode}isSupportedVisual(S){var h=(0,v.s)(S);return!!h&&!!this.plugins.getPlugin(h)}canConvertVisual(S){if(!S)return!1;var h=(0,v.s)(S);if(!h)return!1;var E=this.plugins.capabilities(h);return(this.isQueryVisual(h)||!(!E||!E.isConvertible))&&!(0,o.EL)(S)}canFormatVisual(S){return!!S&&!(0,o.EL)(S)}canSummarizeVisual(S){var h=this.plugins.getPlugin(S);return!!h&&(this.isAnalysisVisualPlugin(h)?!!h.getAnalysisVisualNarrativeSummaryConfiguration:!!h.getNarrativeSummaryBindings)}isAnalysisVisualPlugin(S){return this.isAnalysisVisual(S.name)}isQueryVisual(S){var h=this.plugins.capabilities(S);return!h||!this.isQueryDisabled(S,h)&&null!=h.dataViewMappings}isQueryDisabled(S,h){if(a.f.assertValue(S,"visualType"),a.f.assertAnyValue(h,"capabilities"),h&&(0,p.oy)(h.dataViewMappings))return!this.plugins.isScriptVisualQueryable(S)}supportVisualSearch(S){var h=this.plugins.capabilities(S);return!(!h||!this.isQueryVisual(S)||!(0,n.Cr)(h.objects))}isAnalysisVisual(S){return S===m.D.keyDriversVisual}isQnaVisual(S){return S===m.D.qnaVisual}isTableVisual(S){return S===m.D.tableEx}isMatrixVisual(S){return S===m.D.pivotTable}}},148990:function(ve,j,e){e.d(j,{E:function(){return s}});var r=e(782310),i=e(807661),a=e(650543),t=e(324569),l=e(270305),g=e(461251),n=e(661214),p=e(741714);function s(o,v,m,c,C){return new d(o,v,m,c,C)}class d{constructor(v,m,c,C,y){this.visualPluginService=v,this.pluginOps=m,this.explorationNavigationService=c,this.featureSwitchService=C,this.visualCapabilitiesService=y}relationship(v,m,c){return a.f.assertValue(v,"section"),this.getRelationship(v.relationships,m,c)}drillRelationship(v,m,c){a.f.assertValue(v,"section");var C=this.getRelationship(v.relationships,m,c);if(C){var y=C;return C.type===t.tX.HighlightFilter&&(y={source:C.source,target:C.target,type:t.tX.DataFilter}),y}}getRelationship(v,m,c){return a.f.assertValue(m,"sourceVisual"),a.f.assertValue(c,"targetVisual"),a.f.assertAnyValue(v,"relationships"),_.find(v,C=>C.source.name===m.name&&C.target.name===c.name)}getIsCrossHighlightingDisabled(){var v=this.explorationNavigationService&&this.explorationNavigationService.getCurrentExploration(),m=v&&v.slowDataSourceSettings;return m&&m.isCrossHighlightingDisabled}relationshipFilterAction(v,m,c,C,y){var S=this.relationship(v,m,c);return this.getRelationshipFilterAction(S,m,c,C,y)}drillRelationshipFilterAction(v,m,c,C){if(!m.drillFilterOtherVisuals)return t.tX.NoFilter;var y=this.drillRelationship(v,m,c);a.f.assert(()=>!y||y.type!==t.tX.HighlightFilter,"Expect drill relationship NOT to be HighlightFilter.");var S=this.getRelationshipFilterAction(y,m,c,C,!1);return a.f.assert(()=>S!==t.tX.HighlightFilter,"Expect drill relationship filter action NOT to be HighlightFilter."),S}shouldApplyCrossDrill(v,m,c,C){if(m===c||(0,g.s)(c)===p.D.slicer)return!1;var y=this.drillRelationshipFilterAction(v,m,c,C);return y===t.tX.DataFilter||y===t.tX.Default&&this.defaultDrillFilterAction(m,c)===t.tX.DataFilter}getRelationshipFilterAction(v,m,c,C,y){if(v&&this.supportsFilterActionTarget(m,c,v.type))return v.type;var S=c&&c.config&&c.config.singleVisual,h=S&&c.config.singleVisual.visualType,E=this.visualPluginService.capabilities(h),u=t.tX.Default;if(v&&v.type===t.tX.HighlightFilter&&(0,n.iv)(c)&&(u=t.tX.DataFilter),this.getIsCrossHighlightingDisabled()&&!this.isSlicer(E,h)){var b=m&&m.config&&m.config.singleVisual,V=b&&m.config.singleVisual.visualType,T=this.visualPluginService.capabilities(V);if(!this.isFilter(T,V,b&&b.objects))return t.tX.NoFilter}if(E){var P=S.query;if(P){var D=this.visualPluginService.getPlugin(h);if(D&&D.shouldIgnoreCrossFilter){var M={mappings:E.dataViewMappings,queryDefn:P.defn,queryProjections:P.projections,schema:C,objectDescriptors:E.objects,objectDefinitions:S.objects,roles:E.dataRoles,featureSwitches:this.featureSwitchService.featureSwitches,transformPluginService:(0,i.S)()},A=(0,r.y)(M);if(D.shouldIgnoreCrossFilter({dataViewMappings:A,filterForFieldParameter:y}))return t.tX.NoFilter}}}return u}isSlicer(v,m){return!!l.l.tryGetFilterPropertyIdentifier(v,m,this.visualPluginService)}isFilter(v,m,c){return v?this.isSlicer(v,m):null!=l.l.tryGetFilterProperty(v,m,this.visualPluginService,c)}supportsFilterActionTarget(v,m,c){a.f.assertValue(v,"sourceVisual"),a.f.assertValue(m,"targetVisual"),a.f.assertValue(c,"visualRelationshipFilterAction");var C=(0,g.s)(m),y=(0,g.s)(v);if(!_.isEmpty(y)&&!_.isEmpty(C))switch(c){case t.tX.DataFilter:case t.tX.NoFilter:return!0;case t.tX.HighlightFilter:if((0,n.iv)(m))return!1;var S=this.visualPluginService.capabilities(C);return(!S||S.supportsHighlight)&&!this.visualCapabilitiesService.hasFilterCapabilities(y)}return!1}supportsAnyFilterAction(v){a.f.assertValue(v,"visualContainer");var m=(0,g.s)(v);if(_.isEmpty(m)||!this.pluginOps.isQueryVisual(m)&&!this.pluginOps.isQnaVisual(m))return!1;var c=this.visualPluginService.capabilities(m);return!c||!1!==c.supportsSelection}defaultFilterAction(v,m){a.f.assertValue(v,"sourceVisualContainer"),a.f.assertValue(m,"targetVisualContainer");var c=this.explorationNavigationService&&this.explorationNavigationService.getCurrentExploration(),C=c&&c.settings;return C&&C.defaultFilterActionIsDataFilter||!this.supportsFilterActionTarget(v,m,t.tX.HighlightFilter)?this.supportsFilterActionTarget(v,m,t.tX.DataFilter)?t.tX.DataFilter:void 0:t.tX.HighlightFilter}defaultDrillFilterAction(v,m){a.f.assertValue(v,"sourceVisualContainer"),a.f.assertValue(m,"targetVisualContainer");var c=this.defaultFilterAction(v,m);return c===t.tX.HighlightFilter&&(c=t.tX.DataFilter),a.f.assert(()=>!c||c===t.tX.DataFilter||c===t.tX.NoFilter,"The returned value of has to be one of these values undefined/DataFilter/NoFilter"),c}}},399026:function(ve,j,e){e.d(j,{$A:function(){return Mt},Bq:function(){return Ae},Ed:function(){return h},Ef:function(){return U},F:function(){return T},Fp:function(){return O},GD:function(){return A},Gh:function(){return H},Hl:function(){return mt},Hn:function(){return ar},II:function(){return b},JL:function(){return Y},Jr:function(){return xe},Jw:function(){return ut},Kh:function(){return c},L9:function(){return n},M:function(){return Ot},M1:function(){return g},MF:function(){return Ie},Mr:function(){return ke},Mz:function(){return be},OX:function(){return L},Ou:function(){return Gt},Ql:function(){return yt},R6:function(){return i},SO:function(){return Oe},Sm:function(){return D},TH:function(){return Et},U0:function(){return v},Ul:function(){return Je},Um:function(){return q},V6:function(){return y},WD:function(){return He},YT:function(){return l},Yy:function(){return d},Zk:function(){return Ce},Zv:function(){return w},bM:function(){return s},b_:function(){return F},bt:function(){return N},dy:function(){return Be},fp:function(){return M},hg:function(){return R},hs:function(){return ct},jn:function(){return z},kk:function(){return o},mY:function(){return Ht},p4:function(){return P},pV:function(){return K},qc:function(){return ee},rj:function(){return pe},s$:function(){return Rt},s5:function(){return k},sw:function(){return $e},u1:function(){return ne},u3:function(){return Ct},uX:function(){return We},v$:function(){return u},wQ:function(){return Ne},z6:function(){return x},zs:function(){return I}});var r=e(641409),i=function(Bt){return Bt.Create="Create",Bt.Update="Update",Bt.Delete="Delete",Bt.Other="Other",Bt}({}),l=function(Bt){return Bt.List="List",Bt.Bin="Bin",Bt}({}),g=function(Bt){return Bt.Capture="Capture",Bt.Undo="Undo",Bt.Redo="Redo",Bt}({}),n=function(Bt){return Bt.Normal="Normal",Bt.EmailSubscription="EmailSubscription",Bt.ReportInvitation="ReportInvitation",Bt.SubscribeOthers="SubscribeOthers",Bt.Commenting="Commenting",Bt.Invalid="Invalid",Bt}({}),s=function(Bt){return Bt.NonExistingBoundSection="NonExistingBoundSection",Bt.DuplicateBoundSection="DuplicateBoundSection",Bt.ExceedingPodsNumberAfterInitialFix="ExceedingPodsNumberAfterInitialFix",Bt}({}),d=function(Bt){return Bt.Normal="Normal",Bt.Maximized="Maximized",Bt.MaximizedWithData="MaximizedWithData",Bt.MaximizedWithAccessibleData="MaximizedWithAccessibleData",Bt.Spotlight="Spotlight",Bt.Elevation="Elevation",Bt.VisualCalcEditing="VisualCalcEditing",Bt}({}),o=function(Bt){return Bt.NoCache="NoCache",Bt.Cache="Cache",Bt.StaleCache="StaleCache",Bt}({}),v=function(Bt){return Bt.None="None",Bt.CacheMissing="CacheMissing",Bt.JsonParseFailed="JsonParseFailed",Bt.DsrReadFailed="DsrReadFailed",Bt.DataObjectNull="DataObjectNull",Bt.DsrHasOdataError="DsrHasOdataError",Bt.DataTransformsMissing="DataTransformsMissing",Bt}({}),m="PBI.EX.RetrieveFromVisualContainerCache",c=r.cx[m]=(0,r.b1)(m),C="PBI.EX.RunQuery",y=r.cx[C]=(0,r.b1)(C,{logRatio:0}),S="PBI.EX.RunQueryImpl",h=r.cx[S]=(0,r.b1)(S,{logRatio:0}),E="PBI.EX.GetCachedQueryOrGenerate",u=r.cx[E]=(0,r.b1)(E,{logRatio:0}),f="PBI.EX.VisualFirstLoad",b=r.cx[f]=(0,r.b1)(f),V="PBI.EX.ToggleVisualDisplay",T=r.cx[V]=(0,r.b1)(V,{logExpAssignment:!0}),P="PBI.EX.GetExploration",D=r.cx[P]=(0,r.b1)(P),w="PBI.EX.DeserializeExploration",M=r.cx[w]=(0,r.b1)(w),A="PBI.EX.OpenExploration",R=r.cx[A]=(0,r.b1)(A,{shouldLogStartEnd:!0,logExpAssignment:!0}),B="PBI.EX.ExplorationStateApplyImpact",N=r.cx[B]=(0,r.b1)(B),W="PBI.EX.ExplorationStateApplyImpactIssues",F=r.cx[W]=(0,r.b1)(W),U="PBI.EX.SwitchSection",O=r.cx[U]=(0,r.b1)(U),x="PBI.EX.SwitchToAdjacentSection",I=r.cx[x]=(0,r.b1)(x),L="PBI.EX.NavigateBack",K=r.cx[L]=(0,r.b1)(L,{logExpAssignment:!0}),z="PBI.EX.NavigationButtonClicked",H=r.cx[z]=(0,r.b1)(z,{logExpAssignment:!0}),J="PBI.EX.VisualQueryGeneratorWarning",k=r.cx[J]=(0,r.b1)(J),G="PBI.EX.VisualQueryGeneratorError",q=r.cx[G]=(0,r.b1)(G),Q="PBI.EX.Groups.GroupsAction",X=(r.cx[Q]=(0,r.b1)(Q),"PBI.EX.Groups.BinBySizeAction"),te=(r.cx[X]=(0,r.b1)(X),"PBI.EX.Groups.BinByCountAction"),Ve=(r.cx[te]=(0,r.b1)(te),"PBI.EX.Groups.Usage"),ke=r.cx[Ve]=(0,r.b1)(Ve),Ue="PBI.EX.Groups.Error",ft=(r.cx[Ue]=(0,r.b1)(Ue),"PBI.EX.ModelChange"),Ct=r.cx[ft]=(0,r.b1)(ft),Ke="PBI.EX.Measures",Ae=r.cx[Ke]=(0,r.b1)(Ke),we="PBI.EX.ReportMeasureDataTypeChange",Ne=r.cx[we]=(0,r.b1)(we),Se="PBI.EX.ReportMeasureDataCategoryChange",Ie=r.cx[Se]=(0,r.b1)(Se),me="PBI.EX.ReportMeasureMoveRoleKind",Oe=r.cx[me]=(0,r.b1)(me),Ee="PBI.EX.QuickCalcMeasureEdited",xe=r.cx[Ee]=(0,r.b1)(Ee),ye="PBI.EX.QuickCalcMeasureDeleted",Je=r.cx[ye]=(0,r.b1)(ye),he="PBI.EX.VisualDrillableRoleActiveItemsFixed",Ce=r.cx[he]=(0,r.b1)(he),je="PBI.PersistentState.SerializationError",pe=r.cx[je]=(0,r.b1)(je),Qe="PBI.Pod.SerializationErrorFixed",ut=r.cx[Qe]=(0,r.b1)(Qe),lt="PBI.SerializationError",Et=r.cx[lt]=(0,r.b1)(lt),bt="PBI.EX.EmptyVisualContainerConfig",Ot=r.cx[bt]=(0,r.b1)(bt),Dt="PBI.ClipboardService.Paste",ne=r.cx[Dt]=(0,r.b1)(Dt),Fe="PBI.ClipboardService.UnsupportedVersion",$e=r.cx[Fe]=(0,r.b1)(Fe),qe="PBI.DataPointLassoSelect.PreviewSerialized",rt=(r.cx[qe]=(0,r.b1)(qe),"PBI.EX.LoopingSQExpr"),be=(r.cx[rt]=(0,r.b1)(rt),"PBI.EX.GetLinguisticSchema"),de=(r.cx[be]=(0,r.b1)(be),"PBI.EX.GetAutoRefreshAdminConfig"),ee=r.cx[de]=(0,r.b1)(de),Pe="PBI.EX.GetChangeDetectionAdminConfig",We=r.cx[Pe]=(0,r.b1)(Pe),it="PBI.EX.AnchorTimeUndefined",yt=r.cx[it]=(0,r.b1)(it),et="PBI.EX.GetAPRConfigFailure",mt=r.cx[et]=(0,r.b1)(et),ie="PBI.EX.DefnsDuplicateSelector",Y=r.cx[ie]=(0,r.b1)(ie),fe="PBI.EX.CertifiedTelemetryChildrenCountMismatch",Be=r.cx[fe]=(0,r.b1)(fe),Ze="PBI.EX.UndoEventTime",ct=r.cx[Ze]=(0,r.b1)(Ze),St="PBI.EX.ConsecutiveUndoCount",Rt=r.cx[St]=(0,r.b1)(St),kt="PBI.EX.DeserializeNonUniqueIdentifier",Gt=function(Bt){return Bt.VisualsNamePerPage="VisualsNamePerPage",Bt.PageNames="PageNames",Bt.BookmarkNames="BookmarkNames",Bt.PodNames="PodNames",Bt}({}),Ht=r.cx[kt]=(0,r.b1)(kt),tr="PBI.EX.SerializeSizeAndCount",ar=r.cx[tr]=(0,r.b1)(tr),He="scriptVisuals",Mt=function(Bt){return Bt.AddToCanvas="AddToCanvas",Bt.VisualLoad="VisualLoad",Bt}({})},928423:function(ve,j,e){e.d(j,{AJ:function(){return c},Vl:function(){return o},gP:function(){return s},pQ:function(){return d},wd:function(){return v}});var r=e(348433),i=e(650543),a=e(16990),t=e(734531),l=e(762329),g=e(765959),n=e(600843),p=e(370918);class s{constructor(h,E,u){this.op=h,this.onOperatorChanged(),this.isCalendarShown=!1,this.value=new d(E,u)}get operator(){return this.op}set operator(h){this.op!==h&&(this.op=h,this.onOperatorChanged())}get operatorLabel(){return this.opLabel}set operatorLabel(h){this.opLabel=h}get valueRequired(){return this.valRequired}accept(h){return h.visit(this)}static empty(){return new s(g.pg.None)}static equals(h,E){return(h=h||null)===(E=E||null)||!h==!E&&(i.f.assertValue(h,"x"),i.f.assertValue(E,"y"),h.operator===E.operator&&d.equals(h.value,E.value))}onOperatorChanged(){this.valRequired=c(this.operator),this.valRequired?this.cachedValue&&(this.value=this.cachedValue,this.cachedValue=void 0):this.value&&(this.cachedValue=this.value,this.value=void 0)}}class d{constructor(h,E){null!=h&&(h instanceof Date&&(this.dateValue=h),this.value=h,this.formatter=E,this.stringValue=this.formatter?this.formatter.format(this.value):this.value.toString()),this.dateValue?this.timeValue=new Date(this.dateValue.getTime()):(this.timeValue=new Date,this.timeValue.setHours(0,0,0,0))}get isDate(){return null!=this.dateValue}get hasValue(){return null!=this.dateValue||!(0,t.g)(this.stringValue)}isValidDate(){return this.isDate&&(!_.isString(this.value)||null!==p.dx.parseDate(this.value))}static equals(h,E){return(h=h||null)===(E=E||null)||!h==!E&&(i.f.assertValue(h,"left"),i.f.assertValue(E,"right"),d.compareDateTimeValue(h,E)&&h.stringValue===E.stringValue)}static compareDateTimeValue(h,E){return(h.dateValue?h.dateValue.valueOf():0)===(E.dateValue?E.dateValue.valueOf():0)}}class o{constructor(h){this.localizationService=h,this.isOperator=new a.o(()=>({value:g.pg.Is,label:this.getLocalize().get("FilterOperator_Is"),tooltip:this.getLocalize().get("FilterOperator_IsTooltip")})),this.isNotOperator=new a.o(()=>({value:g.pg.IsNot,label:this.getLocalize().get("FilterOperator_IsNot"),tooltip:this.getLocalize().get("FilterOperator_IsNotTooltip")})),this.isBlankOperator=new a.o(()=>({value:g.pg.IsBlank,label:this.getLocalize().get("FilterOperator_IsBlank"),tooltip:this.getLocalize().get("FilterOperator_IsBlankTooltip")})),this.isNotBlankOperator=new a.o(()=>({value:g.pg.IsNotBlank,label:this.getLocalize().get("FilterOperator_IsNotBlank"),tooltip:this.getLocalize().get("FilterOperator_IsNotBlankTooltip")})),this.containsOperator=new a.o(()=>({value:g.pg.Contains,label:this.getLocalize().get("FilterOperator_Contains"),tooltip:this.getLocalize().get("FilterOperator_ContainsTooltip")})),this.doesNotContainOperator=new a.o(()=>({value:g.pg.DoesNotContain,label:this.getLocalize().get("FilterOperator_DoesNotContain"),tooltip:this.getLocalize().get("FilterOperator_DoesNotContainTooltip")})),this.startsWithOperator=new a.o(()=>({value:g.pg.StartWith,label:this.getLocalize().get("FilterOperator_StartsWith"),tooltip:this.getLocalize().get("FilterOperator_StartsWithTooltip")})),this.doesNotStartWithOperator=new a.o(()=>({value:g.pg.DoesNotStartWith,label:this.getLocalize().get("FilterOperator_DoesNotStartWith"),tooltip:this.getLocalize().get("FilterOperator_DoesNotStartWithTooltip")})),this.isEmptyString=new a.o(()=>({value:g.pg.IsEmptyString,label:this.getLocalize().get("FilterOperator_IsEmptyString"),tooltip:this.getLocalize().get("FilterOperator_IsEmptyStringTooltip")})),this.isNotEmptyString=new a.o(()=>({value:g.pg.IsNotEmptyString,label:this.getLocalize().get("FilterOperator_IsNotEmptyString"),tooltip:this.getLocalize().get("FilterOperator_IsNotEmptyStringTooltip")})),this.greaterThanOperator_ForDateTime=new a.o(()=>({value:g.pg.GreaterThan,label:this.getLocalize().get("FilterOperator_GreaterThan_DT"),tooltip:this.getLocalize().get("FilterOperator_GreaterThan_DT")})),this.greaterThanOrEqualToOperator_ForDateTime=new a.o(()=>({value:g.pg.GreaterThanOrEqual,label:this.getLocalize().get("FilterOperator_GreaterThanOrEqual_DT"),tooltip:this.getLocalize().get("FilterOperator_GreaterThanOrEqual_DT")})),this.isLessThanOperator_ForDateTime=new a.o(()=>({value:g.pg.LessThan,label:this.getLocalize().get("FilterOperator_LessThan_DT"),tooltip:this.getLocalize().get("FilterOperator_LessThan_DT")})),this.isLessThanOrEqualToOperator_ForDateTime=new a.o(()=>({value:g.pg.LessThanOrEqual,label:this.getLocalize().get("FilterOperator_LessThanOrEqual_DT"),tooltip:this.getLocalize().get("FilterOperator_LessThanOrEqual_DT")})),this.greaterThanOperator=new a.o(()=>({value:g.pg.GreaterThan,label:this.getLocalize().get("FilterOperator_GreaterThan"),tooltip:this.getLocalize().get("FilterOperator_GreaterThan")})),this.greaterThanOrEqualToOperator=new a.o(()=>({value:g.pg.GreaterThanOrEqual,label:this.getLocalize().get("FilterOperator_GreaterThanOrEqual"),tooltip:this.getLocalize().get("FilterOperator_GreaterThanOrEqual")})),this.isLessThanOperator=new a.o(()=>({value:g.pg.LessThan,label:this.getLocalize().get("FilterOperator_LessThan"),tooltip:this.getLocalize().get("FilterOperator_LessThan")})),this.isLessThanOrEqualToOperator=new a.o(()=>({value:g.pg.LessThanOrEqual,label:this.getLocalize().get("FilterOperator_LessThanOrEqual"),tooltip:this.getLocalize().get("FilterOperator_LessThanOrEqual")}))}getLocalize(){return(0,r.h1)(this.localizationService)}operatorsForColumnMappedToMParameter(){var h=[];return h.push(this.isOperator.getValue()),h}dateTimeOperator(){var h=[];return h.push(this.isOperator.getValue()),h.push(this.isNotOperator.getValue()),h.push(this.greaterThanOperator_ForDateTime.getValue()),h.push(this.greaterThanOrEqualToOperator_ForDateTime.getValue()),h.push(this.isLessThanOperator_ForDateTime.getValue()),h.push(this.isLessThanOrEqualToOperator_ForDateTime.getValue()),h.push(this.isBlankOperator.getValue()),h.push(this.isNotBlankOperator.getValue()),h}stringTypeOperator(){var h=[];return h.push(this.containsOperator.getValue()),h.push(this.doesNotContainOperator.getValue()),h.push(this.startsWithOperator.getValue()),h.push(this.doesNotStartWithOperator.getValue()),h.push(this.isOperator.getValue()),h.push(this.isNotOperator.getValue()),h.push(this.isBlankOperator.getValue()),h.push(this.isNotBlankOperator.getValue()),h.push(this.isEmptyString.getValue()),h.push(this.isNotEmptyString.getValue()),h}numericOperator(){var h=[];return h.push(this.isLessThanOperator.getValue()),h.push(this.isLessThanOrEqualToOperator.getValue()),h.push(this.greaterThanOperator.getValue()),h.push(this.greaterThanOrEqualToOperator.getValue()),h.push(this.isOperator.getValue()),h.push(this.isNotOperator.getValue()),h.push(this.isBlankOperator.getValue()),h.push(this.isNotBlankOperator.getValue()),h}tryGetExprFilterOperators(h,E,u,f){if(!_.isEmpty(h.validate(E,u)))return{hasError:!0,operators:void 0};var b=h.getMetadata(E);return i.f.assertValue(b,"metadata"),{hasError:!1,operators:this.getFilterOperators(b.type,f)}}getFilterOperators(h,E){return E?this.operatorsForColumnMappedToMParameter():h.text?this.stringTypeOperator():h.integer||h.numeric?this.numericOperator():h.dateTime?this.dateTimeOperator():void 0}isOperatorForColumnMappedToMParameter(h){return this.operatorsForColumnMappedToMParameter().some(E=>E.value===h)}}class v{constructor(h){this.localizationService=h}fromCondition(h,E,u){var b,f=new y(E,u,this.localizationService);for(var V of h)null==V.operator||V.operator===g.pg.None||(b=V.accept(f));return b}fromLabels(h,E){var u;if(h.length>0){var b=[];for(var V of h)b.push(C(V));u=(0,l.KF)(b),u=(0,t.W)(E?(0,r.h1)(this.localizationService).get("FilterRestatement_NotEqual"):(0,r.h1)(this.localizationService).get("FilterRestatement_Equal"),u)}return u}fromDataViewScopeIdentities(h,E,u){var f=[];for(var b of h)f.push(m(b,u));return this.fromLabels(f,E)}fromDefault(h){if(null!=h)return(0,t.W)((0,r.h1)(this.localizationService).get("FilterRestatement_IsDefault"),C(h))}}function m(S,h){var E=(0,n.Xz)(S);return h?h.format(E):E}function c(S){return S!==g.pg.IsBlank&&S!==g.pg.IsNotBlank&&S!==g.pg.None&&S!==g.pg.IsEmptyString&&S!==g.pg.IsNotEmptyString}function C(S){return null===S?null:_.isString(S)?S:S.displayName?S.displayName:"function"!=typeof S||"object"!=typeof S?S:void 0}class y{constructor(h,E,u){this.localizationService=u,this.localizationService=(0,r.h1)(this.localizationService),h===g.Fn.And?this.logicalOperatorResourceId=this.localizationService.get("FilterRestatement_CompoundAnd"):h===g.Fn.Or&&(this.logicalOperatorResourceId=this.localizationService.get("Generic_Or")),this.formatter=E}visit(h){var E=this.conditionToString(h);if(E)return _.isEmpty(this.result)?this.result=E:(i.f.assert(()=>!_.isEmpty(this.logicalOperatorResourceId),"Logical operator is not set"),this.result=(0,t.W)(this.logicalOperatorResourceId,this.result,E)),this.result}conditionToString(h){var u,E=h.value;if(!c(h.operator)||E&&E.hasValue)switch(E&&(u=this.formatter?this.formatter.format(E.value||E.stringValue):E.stringValue),h.operator){case g.pg.Is:return(0,t.W)(this.localizationService.get("FilterRestatement_Equal"),u);case g.pg.IsNot:return(0,t.W)(this.localizationService.get("FilterRestatement_NotEqual"),u);case g.pg.GreaterThan:return(0,t.W)(this.localizationService.get(E.isDate?"FilterRestatement_GreaterThan_DT":"FilterRestatement_GreaterThan"),u);case g.pg.GreaterThanOrEqual:return(0,t.W)(this.localizationService.get(E.isDate?"FilterRestatement_GreaterThanOrEqual_DT":"FilterRestatement_GreaterThanOrEqual"),u);case g.pg.LessThan:return(0,t.W)(this.localizationService.get(E.isDate?"FilterRestatement_LessThan_DT":"FilterRestatement_LessThan"),u);case g.pg.LessThanOrEqual:return(0,t.W)(this.localizationService.get(E.isDate?"FilterRestatement_LessThanOrEqual_DT":"FilterRestatement_LessThanOrEqual"),u);case g.pg.Contains:return(0,t.W)(this.localizationService.get("FilterRestatement_Contains"),u);case g.pg.DoesNotContain:return(0,t.W)(this.localizationService.get("FilterRestatement_DoesNotContain"),u);case g.pg.StartWith:return(0,t.W)(this.localizationService.get("FilterRestatement_StartWith"),u);case g.pg.DoesNotStartWith:return(0,t.W)(this.localizationService.get("FilterRestatement_DoesNotStartWith"),u);case g.pg.IsBlank:return this.localizationService.get("FilterOperator_IsBlank");case g.pg.IsNotBlank:return this.localizationService.get("FilterOperator_IsNotBlank");case g.pg.IsEmptyString:return this.localizationService.get("FilterOperator_IsEmptyString");case g.pg.IsNotEmptyString:return this.localizationService.get("FilterOperator_IsNotEmptyString");default:return i.f.assertFail("Not supported filter operator"),""}}}},327392:function(ve,j,e){e.d(j,{Go:function(){return z},p0:function(){return I}});var r=e(999787),i=e(875090),a=e(782310),t=e(996302),l=e(641409),g=e(147818),n=e(796071),p=e(650543),s=e(734531),d=e(149356),o=e(179658),v=e(481785),m=e(191282),c=e(951202),C=e(66301),y=e(719242),S=e(806982),h=e(281210),E=e(762329),u=e(726988),f=e(850111),b=e(765959),V=e(914094),T=e(442407),P=e(832573),D=e(636685),w=e(399026),M=e(270305),A=e(373751),R=e(661214),B=e(60978),N=e(426313),W=e(164528),F=e(810331),U=e(782235),O=e(741714),x=function(Je){return Je[Je.TopN=0]="TopN",Je[Je.Exist=1]="Exist",Je}({});function I(Je,he,Ce,je,pe,Qe,ut,lt,Et){if(p.f.assertValue(Je,"visualConfig"),p.f.assertValue(he,"visualType"),p.f.assertValue(Ce,"schema"),Je&&he&&Ce){var bt=pe.visualPluginService.getPlugin(he);if(bt){var qe,Ot=bt.capabilities,Dt=ut||Ot.dataViewMappings,ne=Je.query,Fe=Ot.sorting?Ot.sorting.implicit:null,$e=ne?(0,R.i1)(ne):{};if(Dt&&ne){var rt=(0,C.Lo)(ne.projections,Dt,$e,pe.featureSwitchService.featureSwitches,Ot.objects,Je.objects,ne.defn.select(),Ce);if(!rt.supportedMappings)return function(Je,he,Ce,je,pe,Qe){var ut=function(Je,he,Ce,je,pe){var Qe,ut=[];switch(Je.name){case O.D.map:case O.D.azureMap:Qe=function(Je){var he=_.some(Je,pe=>"Category"===pe.roleName&&pe.code===C.zS.conditionRangeTooLarge),Ce=_.some(Je,pe=>"X"===pe.roleName&&pe.code===C.zS.conditionKindExpectedGrouping),je=_.some(Je,pe=>"Y"===pe.roleName&&pe.code===C.zS.conditionKindExpectedGrouping);return he?"DataViewMappingError_LocationAndLatLongGroup":Ce||je?"DataViewMappingError_LatLongAggregateWithNoLocation":void 0}(he);break;case O.D.scatterChart:Qe=function(Je,he){var Ce=_.some(Je,Qe=>Qe.roleName===g.TL.category&&Qe.code===C.zS.conditionRangeTooLarge),je=_.some(Je,Qe=>Qe.roleName===g.TL.play&&Qe.code===C.zS.conditionRangeTooLarge),pe=_.some(Je,Qe=>Qe.roleName===g.TL.x&&(Qe.code===C.zS.conditionKindExpectedGrouping||Qe.code===C.zS.conditionKindExpectedMeasure));return Ce?he.featureSwitches.useModernFormatPane?"DataViewMappingError_ScatterGroupingValues":"DataViewMappingError_ScatterGroupingDetails":je?"DataViewMappingError_ScatterGroupingPlayAxis":pe?"DataViewMappingError_ScatterXMismatchType":void 0}(he,je);break;case O.D.slicer:_.find(he,bt=>bt.code===C.zS.conditionNotHierarchicallyRelated)&&(Qe="DataViewMappingError_ConditionNotHierarchicallyRelated")}if(!Qe&&!_.isEmpty(he)){var lt=function(Je){if(_.isEmpty(Je))return null;var he=[];for(var Ce of Je)if(void 0!==Ce.conditionIndex&&void 0!==Ce.mappingIndex){var je=Ce.conditionIndex,pe=Ce.mappingIndex;he[je]||(he[je]=[]),he[je][pe]?he[je][pe]++:he[je][pe]=1}for(var ut,lt,Qe=Je.length+1,Et=0;Et<he.length;Et++)for(var bt=0;bt<he[Et].length;bt++)void 0!==he[Et][bt]&&Qe>he[Et][bt]&&(ut=Et,Qe=he[Et][bt],lt=bt);var Ot=Je[0];return void 0!==ut&&(Ot=_.find(Je,Dt=>Dt.conditionIndex===ut&&Dt.mappingIndex===lt)),Ot}(he);switch(lt.code){case C.zS.conditionRangeTooLarge:Qe="DataViewMappingError_ConditionRangeTooLarge";break;case C.zS.conditionRangeTooSmall:Qe="DataViewMappingError_ConditionRangeTooSmall";break;case C.zS.conditionKindExpectedMeasure:Qe="DataViewMappingError_ConditionKindExpectedMeasure";break;case C.zS.conditionKindExpectedGrouping:Qe="DataViewMappingError_ConditionKindExpectedGrouping";break;case C.zS.conditionNotHierarchicallyRelated:return new W.k(Qe="DataViewMappingError_ConditionNotHierarchicallyRelated",Ce);case C.zS.conditionSchemaCapabilities_TupleFilters_InstanceFilters:Qe="DataViewMappingError_ConditionSchemaCapabilities_TupleFilters";break;case C.zS.conditionKindExpectedGroupingOrMeasure:break;default:p.f.assertNever(lt.code)}ut=[Se(lt,pe,Ce)]}if(Qe)return Ne(Ce.format(Qe,ut),Qe)}(Je,je,pe.localizationService,pe.featureSwitchService,Qe);if(ut)return{error:ut,compiled:null};var lt=(0,v.d9)(he.projections);for(var Et in lt){var bt=lt[Et];bt.activeProjectionRefs=_.map(bt.activeProjectionRefs,Fe=>"select"+(0,l.H6)(Fe));for(var Ot=0,Dt=bt.all();Ot<Dt.length;Ot++)bt.assignProjection(Dt[Ot]?{queryRef:"select"+(0,l.H6)(Dt[Ot].queryRef)}:null,Ot)}var ne=new W.k("ClientError_NoSupportedDataViewMappingFound",pe.localizationService);return ne.addDebugInfo("VisualType",Ce),ne.addDebugInfo("QueryProjectionsByRole",JSON.stringify(lt)),pe.telemetryService.logEvent(w.Um,{code:Ce,debugInfo:JSON.stringify(ne.getDetails(pe.localizationService).debugErrorInfo)}),{error:ne,compiled:null}}(bt,ne,he,rt.mappingErrors,pe,Ot.dataRoles);var ce=ne.hasHiddenProjections()?(0,C.Lo)(ne.projections,Dt,$e,pe.featureSwitchService.featureSwitches,Ot.objects,Je.objects,ne.defn.select(),Ce,!0):void 0,be=function(Je,he,Ce,je,pe,Qe){var ut=Je?.query;if(_.isEmpty(Qe)&&!_.isEmpty(je.visualShapeDataViewMappings)&&ut.hasVisualCalcExpressions()){var lt=_.some(je.visualShapeDataViewMappings,bt=>!_.isEmpty(bt.conditions)&&!_.isEmpty(bt.matrix)&&_.isEmpty(bt.table)&&_.isEmpty(bt.categorical)&&_.isEmpty(bt.tree)&&_.isEmpty(bt.usage)&&_.isEmpty(bt.single)&&_.isEmpty(bt.scriptResult)&&_.isEmpty(bt.requiredProperties));p.f.assert(()=>lt,"visualShapeDataViewMappings should only have conditions and matrix");var Et=(0,C.Lo)(ut.projections,je.visualShapeDataViewMappings,pe,Ce.featureSwitchService.featureSwitches,je.objects,Je.objects,ut.defn.select(),he);if(!_.isEmpty(Et.supportedMappings))return Et.supportedMappings}}(Je,Ce,pe,Ot,$e,ut);qe=function(Je,he,Ce,je,pe,Qe,ut,lt,Et,bt,Ot,Dt,ne,Fe,$e,qe,dt,rt,ce,be){p.f.assertValue(Je,"visualType"),p.f.assertValue(he,"schema"),p.f.assertAnyValue(Ce,"query"),p.f.assertNonEmpty(je,"supportedMappings"),p.f.assertAnyValue(Qe,"dataRoles"),p.f.assertAnyValue(Ot,"additionalFilters"),p.f.assertAnyValue(rt,"queryGeneratorCapabilities"),Ce=(0,A.OB)(bt.visual.objects,je,Ce,Dt,ut);var ae=(0,a.y)({mappings:je,queryDefn:Ce.defn,queryProjections:Ce.projections,schema:he,objectDescriptors:bt.visual.descriptors,objectDefinitions:bt.visual.objects,roles:Qe,featureSwitches:ne.featureSwitches,transformPluginService:Dt});if(!_.isEmpty(be)&&(Je===O.D.lineStackedColumnComboChart||Je===O.D.lineClusteredColumnComboChart)){var de=(0,a.y)({mappings:be,queryDefn:Ce.defn,queryProjections:Ce.projections,schema:he,objectDescriptors:bt.visual.descriptors,objectDefinitions:bt.visual.objects,roles:Qe,featureSwitches:ne.featureSwitches,transformPluginService:Dt});1===ae.length&&2===de.length&&ae.push(de[1])}if(function(Je,he){if(Je!==O.D.slicer)return!1;for(var Ce of he){var je=Ce?.metadata?.columns;if(1!==je?.length&&_.some(je,pe=>pe?.parameter?.kind===o.DG.MParameters))return!0}return!1}(Je,ae))return{error:new W.k("DQP_No_MappedColumns_In_HierarchySlicers",Fe),query:void 0,mappings:void 0,additionalProjections:void 0,objectDefinitions:void 0};if(qe){var ee=re(ae),We=qe({dataViewMappings:ae,scopedAggregates:ne.featureSwitches.scopedAggregates,queryProperties:{hasVisualCalculations:Ce.hasVisualCalcExpressions()}});if(We&&We.error){var it=We.error.code;return{error:Ne(Fe.get(it),it),query:void 0,mappings:void 0,additionalProjections:void 0,objectDefinitions:void 0}}if(!_.isEmpty(Ce.expansionStates)){var yt=[];p.f.assert(()=>1===ae.length,"visualQueryGenerator.compileMappingsWithProperties - compiledMappings should only have 1 mapping");var et=!_.isEmpty(ae)&&ae[0].matrix;if(et){var mt=et.rows;mt.for?yt=_.map(mt.for.in.items,Bt=>Bt):p.f.assertFail("visualQueryGenerator.compileMappingsWithProperties - invalid row mapping type")}for(var ie of Ce.expansionStates)if(!_.isEmpty(ie.root.children)&&!_.isEmpty(ie.levels))for(var Y of ie.levels)for(var fe of yt)_.isEmpty(Y.queryRefs)||fe.queryName!==Y.queryRefs[0]||fe.subtotalType!==d.F.After&&(fe.subtotalType=d.F.Before)}Ce=function(Je,he,Ce){if(_.isEqual(he,Ce))return Je;var je=[],pe=Je.defn.select();for(var Qe of Ce){var ut=_.sortBy(Qe,bt=>bt.sortOrder);for(var lt of ut){var Et=pe.withName(lt.queryName);je.push({direction:lt.sort,expr:Et.expr})}}return new D.g(Je.defn.orderBy(je),Je.projections,Je.expansionStates,Je.isDrillDisabled)}(Ce,ee,re(ae))}(function(Je,he,Ce){for(var je of Je)he&&!1===he.allowBinnedLineSample&&ke(je),he&&!1===he.allowOverlappingPointsSample&&Ue(je),Ve(Ce)||ot(je)})(ae,lt,he),Ce=(0,A.hQ)(Dt,Ce,ae),Ce=$e.applyImplicitSort(Ce,dt),Ce=$e.ensureValidSorting({query:Ce,schema:he,visualType:Je,columnProperties:Et,compiledMappings:ae});var{modifiedObjectDefinitions:Ze,addedScalarKeys:ct}=function(Je,he,Ce,je,pe){var Qe,ut=[];for(var lt of he)(0,c.oF)(lt,{visitRole:Et=>{if(Et.items)for(var bt of Et.items)if(bt.scalarKeyInfo&&bt.scalarKeyInfo.scalarKeyMinProperty){if(!Qe)if(je){var Ot=(0,t.xF)(je,pe,void 0,!1);Qe=(0,t.wN)(Ot,pe)}else Qe={};ut.push(Ct(Je,Ce,bt,Qe))}}});return{modifiedObjectDefinitions:Qe||je,addedScalarKeys:ut}}(he,ae,Ce,bt.visual.objects,bt.visual.descriptors);Ze=function(Je,he,Ce,je,pe,Qe){if(!Je||!Je.dataFilter)return Qe;var bt,ut=pe.defn.select(),lt=Je.dataFilter.where(),Et=Je.queryRefsForSingleItemDrillFilters;for(var Ot of je)!Ot||!Ot.categorical||!Ot.categorical.categories||(0,c.Sr)(Ot.categorical.categories,{visitRole:Dt=>{if(!_.isEmpty(Dt.items))for(var ne of Dt.items){var Fe=ne.queryName;if(ne.filteredToUniqueValueProperty&&_.includes(Et,Fe)){var qe=Ae(ut.withName(Fe).expr,lt,Ce,he);qe&&(bt||(bt=Qe?(0,y.d9)(Qe):{}),we(qe,ne,bt))}}}});return bt||Qe}(Ot,rt,he,ae,Ce,Ze),bt.visual.objects=Ze;var St=(0,U.S)(Ce,Qe),Rt=[bt.visual];bt.visualContainer&&Rt.push(bt.visualContainer);var Gt,Ht,tr,kt=(0,i.l7)(Ce.defn,he,Rt,St,Ce.projections,pe,Ot&&Ot.dataFilter,!0,ne.featureSwitches);if(kt){for(var ar of(Gt=new D.g(kt.queryDefn,Ce.projections,Ce.expansionStates,Ce.isDrillDisabled),Ht=kt.additionalProjections,tr=kt.warnings,ct)){var He=Gt.defn.selectNameOf(ar.expr);p.f.assertValue(He,"scalar key select name"),ar.roleItem.scalarKeyInfo||(ar.roleItem.scalarKeyInfo={}),ar.roleItem.scalarKeyInfo.scalarKeyQueryName=He}bt.visual=G(bt.visual,he,P.m.buildExprEvaluationContext(Ce.defn.from())),bt.visual=q(kt.objectDefinitionRewrites,bt.visual)}var Mt=_.isEmpty(ce)?void 0:(0,a.y)({mappings:ce,queryDefn:Ce.defn,queryProjections:Ce.projections,schema:he,objectDescriptors:bt.visual.descriptors,objectDefinitions:bt.visual.objects,roles:Qe,featureSwitches:ne.featureSwitches,transformPluginService:Dt});return{query:Gt||Ce,mappings:ae,visualShapeMapping:Mt,additionalProjections:Ht,warnings:tr,objectDefinitions:bt.visual.objects}}(he,Ce,ne,rt.supportedMappings,$e,Ot.dataRoles,Ot,Je.queryOptions,Je.columnProperties,(0,R.kT)(Je,Ot),Qe,pe.transformPluginService,pe.featureSwitchService,pe.localizationService,pe.sortService,Et??bt.customizeQuery,Fe,je,be,ce?.supportedMappings)}else{var dt=(0,R.kT)(Je,Ot);qe=function(Je,he,Ce,je,pe,Qe,ut,lt,Et){if(p.f.assertAnyValue(Je,"schema"),p.f.assertAnyValue(he,"query"),p.f.assertAnyValue(je,"roleMapping"),p.f.assertAnyValue(pe,"dataRoles"),p.f.assertAnyValue(ut,"additionalFilters"),!he&&_.isEmpty(je)){he=new D.g(V.vQ.create(),{},[]);var bt=(0,U.S)(he,pe),Ot=[Qe.visual];Ot.push(Qe.visualContainer);var Dt=(0,i.l7)(he.defn,Je,Ot,bt,he.projections,Ce,ut&&ut.dataFilter,!0,lt.featureSwitches);if(Dt){var ne=new D.g(Dt.queryDefn,he.projections,he.expansionStates,he.isDrillDisabled),Fe=Dt.additionalProjections,$e=(0,a.y)({mappings:[{table:{rows:{for:{in:"*"}}}}],queryDefn:he.defn,queryProjections:he.projections,schema:Je,objectDescriptors:Qe.visual.descriptors,objectDefinitions:Qe.visual.objects,roles:pe,featureSwitches:lt.featureSwitches,transformPluginService:Et});return Qe.visual=G(Qe.visual,Je,P.m.buildExprEvaluationContext(he.defn.from())),Qe.visual=q(Dt.objectDefinitionRewrites,Qe.visual),{query:ne||he,mappings:$e,additionalProjections:Fe,warnings:Dt.warnings,objectDefinitions:Qe.visual.objects}}}}(Ce,ne,$e,Dt,Ot.dataRoles,dt,Qe,pe.featureSwitchService,pe.transformPluginService)}var ae=[];if(qe){if(qe.error)return{error:qe.error,compiled:null};ae.push(...function(Je,he,Ce,je,pe){var Qe=new ye(he.defn,Ce,je,pe);for(var ut of Je)(0,c.oF)(ut,Qe);return Qe.warnings}(qe.mappings,qe.query,Ce,pe.displayNameService,Ot)||[]),ae.push(...function(Je){if(Je&&Je.highlightFilter){var he=Je.highlightFilter.where(),Ce=_.find(he,pe=>(0,f._)(pe.condition)===b.Ld.Subquery),je=_.find(he,pe=>(0,B.hV)(pe.condition));if(Ce||je)return Je.dataFilter=Je.dataFilter?V.yl.merge([Je.dataFilter,Je.highlightFilter]):Je.highlightFilter,Je.highlightFilter=void 0,[new xe(Ce?x.TopN:x.Exist)]}}(Qe)||[]),qe.warnings&&ae.push(...qe.warnings||[]);var de=pe.telemetryService.getOpenActivityById(lt&&lt.getProperty("telemetryActivityId"));for(var ee of ae)pe.telemetryService.logChildEvent(de&&de.event,w.s5,{code:ee.code})}return{compiled:qe,warnings:ae}}}}function z(Je){return p.f.assertValue(Je,"compiledMappings"),_.filter(Je,Ce=>!Ce.usage||!Ce.usage.regression)}function G(Je,he,Ce){var je={};for(var pe in Je.objects){var Qe=Je.descriptors[pe];if(Qe)for(var ut of Je.objects[pe])for(var lt in ut.properties){var Et=Qe.properties[lt];if(Et&&Et.formatStringProperty){var bt=ut.properties[lt],Ot=void 0;if((0,y.Rc)(bt))Ot=bt;else{if(!(0,y.er)(bt))continue;Ot=bt.value}if(!(0,y.NA)(Je.objects,Et.formatStringProperty,ut.selector)){var ne=Ot.getMetadata(he,Ce);if(ne&&(ne.type||ne.format)){var Fe=ne.format??(0,E.v1)(ne.type);Fe&&(0,y.sO)(je,Et.formatStringProperty,ut.selector,(0,T.fL)(Fe))}}}}}if(!_.isEmpty(je))for(var $e in Je.objects=(0,y.d9)(Je.objects),je)for(var qe of je[$e])for(var dt in qe.properties)(0,y.sO)(Je.objects,{objectName:$e,propertyName:dt},qe.selector,qe.properties[dt]);return Je}function q(Je,he){if(!_.isEmpty(Je))for(var Ce of(he.objects=(0,y.d9)(he.objects),Je))for(var je in he.objects)for(var pe of he.objects[je])if((0,m.fS)(pe.selector,Ce.selector))for(var Qe in pe.properties){var ut=pe.properties[Qe],lt=void 0;if((0,y.Rc)(ut))lt=ut;else{if(!(0,y.er)(ut))continue;lt=ut.value}(0,N.fS)(lt,Ce.from)&&(pe.properties[Qe]=Ce.to)}return he}function re(Je){var he=[];for(var Ce of Je){var je=[];for(var pe of Ce.metadata.columns)pe.sort&&je.push({queryName:pe.queryName,sort:pe.sort,sortOrder:pe.sortOrder});he.push(je)}return he}function Ve(Je){return _.every(Je.schemas,he=>he.capabilities&&he.capabilities.supportsTopNPerLevel)}function ke(Je){var he=Je.categorical;if(he&&he.dataReductionAlgorithm&&he.dataReductionAlgorithm.binnedLineSample&&(he.dataReductionAlgorithm=void 0,he.categories&&(he.categories.dataReductionAlgorithm={sample:{}}),he.values)){var Ce=he.values;Ce.group&&(Ce.group.dataReductionAlgorithm={top:{}})}}function Ue(Je){var he=Je.categorical,Ce=Je.matrix;if(he&&he.dataReductionAlgorithm&&he.dataReductionAlgorithm.overlappingPointsSample){var je=he.dataReductionAlgorithm.overlappingPointsSample.count;he.dataReductionAlgorithm={sample:{}},je&&(he.dataReductionAlgorithm.sample.count=je)}else if(Ce&&Ce.rows&&Ce.rows.dataReductionAlgorithm&&Ce.rows.dataReductionAlgorithm.overlappingPointsSample){var pe=Ce.rows.dataReductionAlgorithm.overlappingPointsSample.count;Ce.rows.dataReductionAlgorithm={sample:{}},pe&&(Ce.rows.dataReductionAlgorithm.sample.count=pe)}}function ot(Je){var he=Je.matrix;if(he&&he.rows&&he.rows.dataReductionAlgorithm&&he.rows.dataReductionAlgorithm.topNPerLevel){var Ce=he.rows.dataReductionAlgorithm.topNPerLevel.fallbackTopCount;he.rows.dataReductionAlgorithm={top:{}},Ce&&(he.rows.dataReductionAlgorithm.top.count=Ce)}}function Ct(Je,he,Ce,je){var pe=Ce.scalarKeyInfo.scalarKeyMinProperty;p.f.assertValue(pe,"scalarKeyMinProperty"),(0,n.BF)(Ce.scalarKeyInfo.hasScalarKey,"Scalar key requested when not available");var Qe=he.defn.select().withName(Ce.queryName).expr,ut=(0,T.m_)((0,S.YN)(Qe,Je),r.B8.Min);return(0,y.sO)(je,pe,Ce.scalarKeyInfo.selector,ut),{roleItem:Ce,expr:ut}}function Ae(Je,he,Ce,je){if(!je||!je.hasAmbiguousEqualitySemantics)return!0;var pe=Je.getKeyColumns(Ce);return _.every(pe,Qe=>_.some(he,ut=>{var lt=M.l.getFilterValuesForColumn(Qe,ut);if(1===_.size(lt)){var bt=lt[0];if((0,B.VC)(bt)&&!je.hasAmbiguousEqualitySemantics(bt))return!0}return!1}))}function we(Je,he,Ce){var je=he.filteredToUniqueValueProperty;p.f.assertValue(je,"filteredToUniqueValueProperty");var pe=(0,T.O7)(Je);(0,y.sO)(Ce,je,{metadata:he.queryName},pe)}function Ne(Je,he){return{code:he,getDetails:()=>({displayableErrorInfo:[],message:Je})}}function Se(Je,he,Ce){var je=Je.roleName;if(!_.isEmpty(he)){var pe=_.find(he,Qe=>Qe.name===Je.roleName);pe&&pe.displayName&&(je=(0,h.G)(pe.displayName,Ce))}return je}class Ee{constructor(he){this.errorInfos=he}get code(){return"ShowAllDiabledWarning"}getDetails(he){var Ce=he.get("ShowAllDisabledWarning_Value"),je=_.map(this.errorInfos,Qe=>Qe.fieldDisplayName).join(", ");return{message:he.get("ShowAllDisabledWarning_Message"),displayableErrorInfo:[{errorInfoKey:he.get("ShowAllDiabledWarning_ErrorInfoKey"),errorInfoValue:(0,s.W)(Ce,je)}]}}}class xe{constructor(he){this.highlightDisableType=he}get code(){switch(this.highlightDisableType){case x.TopN:return"HighlightWithTOPNDisabledWarning";case x.Exist:return"HighlightWithExistsFiltersDisabledWarning"}}getDetails(he){var Ce=this.highlightDisableType===x.TopN,pe=Ce?"HighlightWithTOPNDisabledWarning_ErrorInfoKey":"HighlightWithExistFiltersDisabledWarning_ErrorInfoKey",Qe=Ce?"HighlightWithTOPNDisabledWarning_Value":"HighlightWithExistFiltersDisabledWarning_Value";return{message:he.get(Ce?"HighlightWithTOPNDisabledWarning_Message":"HighlightWithExistFiltersDisabledWarning_Message"),displayableErrorInfo:[{errorInfoKey:he.get(pe),errorInfoValue:he.get(Qe)}]}}}class ye{constructor(he,Ce,je,pe){for(var Qe of(p.f.assertValue(he,"query"),p.f.assertValue(Ce,"schema"),p.f.assertValue(je,"displayNameService"),this.displayNameService=je,this.incompatibleExprInfo=[],he.select())){var ut=(0,F.Q)(Qe.expr);ut&&ut.percentOfGrandTotal&&this.incompatibleExprInfo.push({basePropertyName:(0,u.Hp)(ut),fieldDisplayName:this.displayNameService.getQualifiedDisplayName(Qe.expr,Ce,pe)})}this.warnings=[]}visitRole(he){he.showAll&&this.incompatibleExprInfo.length>0&&(he.showAll=!1,this.warnings.push(new Ee(this.incompatibleExprInfo)))}}},524426:function(ve,j,e){e.d(j,{j:function(){return t}});var a,r=e(324569),i=e(270305);class t{}a=t,t.DetailVisualBorder=10,t.supportsVisualDetails=(l,g,n)=>{var p=g.capabilities(l);return!(!p||!n.isQueryVisual(l)||n.isAnalysisVisual(l)||p.disableVisualDetails)&&_.some(p.dataViewMappings,s=>s.categorical||s.matrix||s.table||s.tree)},t.supportsMatrixView=(l,g,n)=>a.supportsVisualDetails(l,g,n)&&!n.isTableVisual(l)&&!n.isMatrixVisual(l)&&!i.l.supportsFilterOutput(g.capabilities(l)),t.getDetailVisualViewport=(l,g)=>{var p,s;return(g||r.Yo.Horizontal)===r.Yo.Horizontal?(p=l.width-2*a.DetailVisualBorder,s=l.height-a.DetailVisualBorder):(p=l.width-a.DetailVisualBorder,s=l.height-2*a.DetailVisualBorder),{width:Math.max(p,0),height:Math.max(s,0),scale:l.scale}},t.adjustViewport=(l,g,n)=>{var s=l||r.Yo.Horizontal,d=a.getDetailVisualViewport(g,s);return n&&s===r.Yo.Horizontal&&(d={width:d.width,height:Math.max(d.height-33,0),scale:d.scale}),d}},214716:function(ve,j,e){e.d(j,{g:function(){return l},z:function(){return g}});var r=e(124271),i=e(734531),a=e(999787),t=e(650543);function l(n,p,s,d,o){if(!_.isEmpty(n)){if(1===n.length)return n[0];var v=o?.limit;if(null!=v&&v<=0&&(t.f.assertFail("The given displayIndividualValuesLimitInfo.limit value cannot be a number that is <= 0."),v=null),null!=v&&_.size(n)>v+1){var m=_.take(n,v);return 1===_.size(m)?(0,i.W)(s.stringResourceProvider.get(o.limitedValueShownResourceKey),m[0]):(0,i.W)(s.stringResourceProvider.get(o.multiLimitedValuesShownResourceKey??o.limitedValueShownResourceKey),m.join(s.stringResourceProvider.get("ListJoin_Separator")))}var C=n.pop();return 1===_.size(n)?(0,i.W)(s.stringResourceProvider.get(p),n[0],C):(0,i.W)(s.stringResourceProvider.get(d??p),n.join(s.stringResourceProvider.get("ListJoin_Separator")),C)}}function g(n,p){var s=(0,r.b)(n);return(n===a.B8.Min||n===a.B8.Max)&&p&&p.type&&(p.type.dateTime?s="Date"+s:p.type.text&&(s="String"+s)),s}},891135:function(ve,j,e){e.d(j,{LG:function(){return p},S1:function(){return l},WO:function(){return t},dR:function(){return g}});var r=e(990297),i=e(650543),a=e(104816);function t(m,c){if(i.f.assertAnyValue(m,"capabilities"),c)return[];var C=m.drilldown;return null!=C&&C.roles?C.roles:[]}function l(m){return i.f.assertValue(m,"capabilities"),!!m.drilldown?.canDisableDrill}function g(m){return i.f.assertValue(m,"capabilities"),l(m)&&!!m.drilldown.canDisableDrill.disabledByDefault}function n(m,c,C){i.f.assert(()=>null!=c,"queryRef should exist while removing drill filters");var y=m.defn.select().withName(c);return i.f.assertValue(y,"did not find queryRef in query.select while removing drill filter"),y?{expr:y.expr,roleName:C}:void 0}function p(m,c,C){if(c){var y;switch(C){case a.C8.Move:y=function(m,c){var C=[],y=m.projections,S=c.sourceCount,h=c.sourceIndex,E=c.sourceRole,u=c.targetRole;if(y[u]){var f=y[u],b=f.all(),V=c.targetIndex;V>=h&&E===u&&(V+=S);for(var P=f.convertFieldIndexToProjectionIndex(V),D=b.length;P<D;P++){var w=f.getProjectionsByProjectionIndex(P);for(var M of w)C.push(n(m,M.queryRef,u));P+=w.length-1}}if(y[E])for(var A=y[E],R=S-1;R>=0;R--){var B=A.getProjectionsByFieldIndex(h+R);for(var N of B)C.push(n(m,N.queryRef,E))}return C}(m,c);break;case a.C8.Remove:if(c.expr){var h=(0,r.rY)(c.expr);for(var E of(y=[],h))y.push(d(m,E))}else y=function(m,c){var C=[],y=c.count??1,S=c.role,h=m.projections[S];if(h)for(var E=c.projOptions.fieldIndex+y-1,u=y-1;u>=0;u--,E--){var f=h.getProjectionsByFieldIndex(E);for(var b of f)C.push(n(m,b.queryRef,S))}return C}(m,c);break;case a.C8.Add:break;default:return void i.f.assertNever(C)}return _.compact(y)}}function d(m,c){var C=m.defn.selectNameOf(c),y=function(m,c){for(var C in m){var y=m[C].all();if(_.findIndex(y,h=>h.queryRef===c)>=0)return C}}(m.projections,C);return{expr:c,roleName:y}}},62120:function(ve,j,e){e.d(j,{i:function(){return a}});var r=e(60978),i=e(324569);function a(t,l){return(t===i.yi.Drillthrough||t===i.yi.Tooltip)&&_.some(l,g=>g.asAggregation||g.fieldExpr&&(0,r.kb)(g.fieldExpr))}},455238:function(ve,j,e){e.d(j,{it:function(){return t},mb:function(){return n},qL:function(){return a},qt:function(){return d},tn:function(){return g},u6:function(){return o}});var r=e(650543),i=e(110024);function a(v,m,c){var C=p(v,m);return(c&&""!==c?(0,i.A9)((0,i.bW)(c)):-Number.MAX_VALUE)>C}function t(v,m,c){var C=p(v,m);return(c&&""!==c?(0,i.A9)((0,i.bW)(c)):Number.MAX_VALUE)<C}function g(v,m){var c=(0,i.bW)(v),C=(0,i.ei)(c);if(C.length<=0)return r.f.assertFail("Unable to parse the value and units"),"";var y=C[0].value,S=function(v,m){var c=v.value,C=v.unit,y=v.isTimeUnit;switch(C){case"S":return m.get(1===c?"TimeUnit_Second":"TimeUnit_Seconds");case"M":return m.get(y?1===c?"TimeUnit_Minute":"TimeUnit_Minutes":1===c?"TimeUnit_Month":"TimeUnit_Months");case"H":return m.get(1===c?"TimeUnit_Hour":"TimeUnit_Hours");case"D":return m.get(1===c?"TimeUnit_Day":"TimeUnit_Days");case"W":return m.get(1===c?"TimeUnit_Week":"TimeUnit_Weeks");case"Y":return m.get(1===c?"TimeUnit_Year":"TimeUnit_Years");default:return r.f.assertNever(C),""}}(C[0],m);return`${y} ${S}`}function n(v){switch(v){case"S":case"M":case"H":return!0;default:return!1}}function p(v,m){var c=[{value:v,unit:m,isTimeUnit:n(m)}],C=(0,i.Gk)(c);return(0,i.A9)(C)}function s(v,m){var c=Math.pow(10,m||0);return Math.round(v*c)/c}function d(v,m){return isNaN(v)?m.get("TwoDashes"):v<60?1===v?m.get("TimeUnit_One_second"):m.format("TimeUnit_seconds_with_value",[s(v,1)]):(v/=60)<60?1===v?m.get("TimeUnit_One_minute"):m.format("TimeUnit_minutes_with_value",[s(v,1)]):1==(v/=60)?m.get("SettingsDataset_ScheduleRefresh_RefreshFrequency_OneHour"):m.format("TimeUnit_hours_with_value",[s(v,1)])}function o(v,m){var c=v.value,C=v.unit,y=v.isTimeUnit;switch(C){case"S":return 1===c?m.get("TimeUnit_One_second"):m.format("TimeUnit_seconds_with_value",c);case"M":return y?1===c?m.get("TimeUnit_One_minute"):m.format("CdsaAuthoring_Iframe_TheNumberOfHowManyMinutes",c):1===c?m.get("TimeUnit_One_month"):m.format("TimeUnit_months_with_value",c);case"H":return 1===c?m.get("SettingsDataset_ScheduleRefresh_RefreshFrequency_OneHour"):m.format("TimeUnit_hours_with_value",c);case"D":return 1===c?m.get("TimeUnit_One_day"):m.format("TimeUnit_days_with_value",c);case"W":return 1===c?m.get("TimeUnit_One_week"):m.format("TimeUnit_weeks_with_value",c);case"Y":return 1===c?m.get("TimeUnit_One_year"):m.format("TimeUnit_years_with_value",c);default:return r.f.assertNever(C),""}}},661564:function(ve,j,e){e.d(j,{v:function(){return t}});var r=e(650543),i=e(746375);class a{constructor(g){this.visualContainerStateVisitor=g}visitFilterContainer(g){}visitSectionState(g){}}class t extends a{constructor(g,n){super(n),this.rewriters=g,r.f.assertValue(g,"rewriters")}visitFilterContainer(g){(0,i.Oe)(g,this.rewriters)}}},629769:function(ve,j,e){e.d(j,{Jh:function(){return d},wD:function(){return l}});var r=e(650543),i=e(176992),a=e(214492),t=e(661214);function l(E,u,f){r.f.assertValue(u,"visitor"),r.f.assertValue(E,"exploration"),u.visitExploration(E),c(E.filters,u);var b=E.bookmarks;if(!_.isEmpty(b))for(var V of b)g(V,E.sections,f,u);var T=E.sections;if(!_.isEmpty(T))for(var P of T)p(P,u,f);!function(E,u){if(!_.isEmpty(E))for(var f of E)u.visitPod(f)}(E.pods,u)}function g(E,u,f,b){if(b.visitBookmark(E),i.J.isBookmarkGroup(E))for(var V of E.children)g(V,u,f,b);else!function(E,u,f,b){E&&(C(E.filters,b),_.forOwn(E.sections,(V,T)=>{!function(E,u,f,b){if(E&&u){b.visitSectionState(E),C(E.filters,b);var V=b.visualContainerStateVisitor;if(V){var T=u.visualContainers;_.forOwn(E.visualContainers,(P,D)=>{!function(E,u,f,b){!E||!u||(b.visitVisualContainerState(E),C(E.filters,b),function(E,u){if(E){if(!_.isEmpty(E.selection))for(var f of E.selection)u.visitSelectorsByColumn(f);E.filterExpressionMetadata&&u.visitFilterExpressionMetadata(E.filterExpressionMetadata)}}(E.highlight,b),function(E,u,f,b){if(E){b.visitSingleVisualState(E);var V=E.orderBy;V&&b.visitOrderByStates(V);var T=E.objects;if(T){var P=(0,t.cj)(u,f);if(P){var D=P.objects;D&&b.visitDataViewObjectDefinitionUpdates(T,D)}var w=T.merge;w&&y(w,b);var M=T.remove;if(!_.isEmpty(M))for(var A of M){var R=A.selector;R&&b.visitSelector(R)}}var B=E.activeProjections;B&&b.visitActiveProjectionStates(B)}}(E&&E.singleVisual,u,f,b))}(P,_.find(T,M=>M.name===D),f,V)})}}}(V,_.find(u,D=>D.name===T),f,b)}))}(E.explorationState,u,f,b.explorationStateVisitor)}function p(E,u,f){r.f.assertValue(E,"section"),u.visitSection(E),c(E.filters,u),function(E,u){if(!_.isEmpty(E))for(var f of E)u.visitLinkField(f)}(E.linkFields,u);var b=E.visualContainers;if(!_.isEmpty(b))for(var V=0,T=b.length;V<T;V++)d(b[V],u.visualContainerVisitor,f)}function d(E,u,f){var b;if(u.visitVisualContainer(E),E.config&&(b=E.config.singleVisual)){u.visitSingleVisualConfig(b);var V=b.query;V&&u.visitQuery(V);var T=function(B,N){N&&u.visitDataViewObjects(B,N),y(B,u)},P=b.objects;if(P){var D,w=(0,t.cj)(E,f);w&&(D=w.objects),T(P,D)}var M=b.vcObjects;if(M){T(M,a.XW);var R=b.vcObjects.visualLink;R&&u.visitVisualLinks(R)}}c(E.filters,u)}function c(E,u){if(!_.isEmpty(E))for(var f of E)r.f.assertValue(f,"traverseFilters: collection contains null filterContainer"),null!=f&&u.visitFilterContainer(f)}function C(E,u){if(E){_.forOwn(E.nameIdentifiedMerges,T=>{u.visitFilterContainer(T)});var b=E.exprIdentifiedMerges;if(!_.isEmpty(b))for(var V of b)u.visitFilterContainer(V)}}function y(E,u){_.forOwn(E,f=>{if(!_.isEmpty(f))for(var b of f){var V=b.selector;V&&u.visitSelector(V)}})}},215218:function(ve,j,e){e.d(j,{b:function(){return r}});class r{constructor(a,t){this.explorationStateVisitor=a,this.visualContainerVisitor=t}visitBookmark(a){}visitFilterContainer(a){}visitExploration(a){}visitSection(a){}visitLinkField(a){}visitPod(a){}}},42197:function(ve,j,e){e.d(j,{HD:function(){return v},Kz:function(){return c},Pb:function(){return V},XV:function(){return C},ac:function(){return u},cr:function(){return h},k:function(){return o},kr:function(){return m}});var r=e(171599),i=e(990297),a=e(650543),t=e(387864),l=e(191282),g=e(402623),n=e(827161),p=e(442407),s=e(60978),d=e(426313);function o(T,P,D,w=!1){if(!_.isEmpty(T)&&function(T,P){if(!_.isEmpty(T)){var D=_.map(T,w=>(0,l.tV)(w));return u(D,P)}}(T,P))return _.some(T,R=>R.valueDetails)&&w?function(T,P){if(!_.isEmpty(T)){var D={expressions:[],cachedValueItems:[]};for(var w of T){var M={identities:[],valueMap:{}};if(!w.valueDetails){var A=r.Om.getDataViewKind(P);w.valueDetails=r.Om.query([P],w,A,[],!0)}for(var R of w.valueDetails)if(R.expr&&((0,s.t3)(R.expr)||(0,s.ez)(R.expr))){var B=_.indexOf(D.expressions,R.expr);B<0&&(D.expressions.push(R.expr),B=D.expressions.length-1),M.valueMap[B]=R.formattedValue}if(!_.isEmpty(M.valueMap)){for(var N in w.dataMap){var W=(0,i.rY)(w.dataMap[N]);for(var F of W)F.kind===t.i.ScopeIdentity?M.identities.push(F):a.f.assertFail("Unexpected item.kind")}D.cachedValueItems.push(M)}}return D}}(T,D):function(T){if(!_.isEmpty(T)){var P={expressions:[],cachedValueItems:[]};for(var D of T){var w={identities:[],valueMap:{}};for(var M of D.selector.data)M.kind===t.i.ScopeIdentity?w.identities.push(M):a.f.assertFail("Unexpected item.kind");for(var A of D.values)if(A.expr instanceof p.Wh||(0,s.ez)(A.expr)){var R=_.indexOf(P.expressions,A.expr);R<0&&(P.expressions.push(A.expr),R=P.expressions.length-1),w.valueMap[R]=A.formattedValue}_.isEmpty(w.valueMap)||P.cachedValueItems.push(w)}return P}}(r.Om.getDataPointsDescription(D,T))}function v(T,P){if(!T||!P)return T||P;for(var D={expressions:P.expressions.slice(),cachedValueItems:_.isEmpty(P.cachedValueItems)?[]:P.cachedValueItems.slice()},w={},M=function(){var W=T.expressions[A],F=_.findIndex(D.expressions,U=>U===W||(0,d.fS)(U,W));-1===F&&(F=P.expressions.length,D.expressions.push(W)),w[A]=F},A=0;A<T.expressions.length;A++)M();if(!_.isEmpty(T.cachedValueItems))for(var R of T.cachedValueItems){var B={};for(var N in R.valueMap)B[w[N]]=R.valueMap[N];D.cachedValueItems.push({identities:R.identities,valueMap:B})}return D}function m(T){var P=null;for(var D of T)P=v(D,P);return P}function c(T,P){if(!_.isEmpty(P)&&T){var D=[];for(var w of P){var M={identities:[w.identity],valueMap:{}};M.valueMap[0]=w.displayName,D.push(M)}return{expressions:[T],cachedValueItems:D}}}function C(T,P){if(T.length&&P.cachedValueItems&&P.cachedValueItems.length)for(var D=function(){var M=T[w],A=M.dataMap,R=w,B=P.cachedValueItems[R].identities,N=!0,W=0;for(var F in A){var U=(0,i.rY)(A[F]);for(var O of U){if(!B[W]||!(0,g.fS)(O,B[W])){N=!1;break}W++}}if(N||(R=_.findIndex(P.cachedValueItems,K=>{var z=0;for(var H in A){var J=(0,i.rY)(A[H]);for(var k of J){if(!K.identities[z]||!(0,g.fS)(k,K.identities[z]))return!1;z++}}return!0})),R<0)return a.f.assertFail("cannot find matching cacheMap with same set of identities in selectorsByColumn in filterExpressionMetadata"),1;var x=[],I=P.cachedValueItems[R].valueMap;for(var L in I)x.push({identity:P.cachedValueItems[R].identities[0],expr:P.expressions[L],formattedValue:I[L],value:I[L]});M.valueDetails=x},w=0;w<T.length;w++)D()}function h(T){if(T&&!(_.isEmpty(T.expressions)||T.expressions.length>1)){var P=[];for(var D of T.cachedValueItems){if(_.isEmpty(D.identities)||D.identities.length>1)return;a.f.assertAnyValue(D.valueMap[0],".tryGetDisplayNameIdentityPairs cache should always have value set"),P.push({identity:D.identities[0],displayName:D.valueMap[0]})}return P}}function u(T,P){if(!_.isEmpty(T)&&P&&P.query){var D=P.query.defn.select();for(var w of T){var M=(0,l.CT)(w);if(_.isEmpty(M))return;for(var A of M){var B=(0,n.RR)(A.expr);for(var N of(a.f.assertNonEmpty(B,"identityFields are expected"),B))for(var W of D)if(!(0,d.fS)(N,W.expr))return!0}}}}function V(T,P){if(!T)return null;for(var D,w=0;w<T.length;w++){var M=(0,p.Dg)(T[w],P[w]);D=D?(0,p.xD)(D,M):M}return(0,g.TZ)(D)}},270305:function(ve,j,e){e.d(j,{l:function(){return L}});var r=e(243148),i=e(882924),a=e(999787),t=e(11864),l=e(688467),g=e(655641),n=e(650543),p=e(562832),s=e(719242),d=e(482693),o=e(402623),v=e(762329),m=e(726988),c=e(810331),C=e(850111),y=e(827161),S=e(914094),h=e(833059),E=e(765959),u=e(832573),f=e(962238),b=e(774452),V=e(952363),T=e(76395),P=e(561415),D=e(324569),w=e(104816),M=e(214492),A=e(274493),R=e(555254),B=e(661214),N=e(476590),W=e(60978),F=e(509247),U=e(890486),O=e(426313),x=e(475507),I=e(630881);class L{static getFormatter(k,G){var q=k.getMetadata(G);if(q)return(0,v.Ue)({format:q.format,allowFormatBeautification:!0})}static getFilterType(k,G){return(0,F.k)(k)||!G?P.vA.Advanced:P.vA.Categorical}static canAdd(k,G,q,Q,Z,X,re){if(n.f.assertValue(Q,"scope"),Q.scopeType===w.Gy.Visual){var te=Q.container;if(!te||!(0,N.zr)(te,re))return!1}if(X)return!0;if(!G||!q)return!1;if(!(0,N.Xz)(k,re)&&(0,F.k)(G))return!1;var Ve=(0,c.Q)(G,q),ke=(0,m.Um)(Ve),Ue=q.schema(ke.schema);if(!Ue)return!1;var ft,Ct,ot=Ue.findProperty(ke.entity,(0,m.Hp)(Ve));if(ot||(Ve.hierarchyLevel?(ft=Ue.findHierarchy(ke.entity,Ve.hierarchyLevel.name))&&(Ct=ft.levels.withName(Ve.hierarchyLevel.level)):Ve.columnHierarchyLevelVariation&&(ft=Ue.findHierarchy(Ve.columnHierarchyLevelVariation.level.entity,Ve.columnHierarchyLevelVariation.level.name))&&(Ct=ft.levels.withName(Ve.columnHierarchyLevelVariation.level.level))),!ot&&!Ct||!Q||!Q.container||ot&&ot.kind===h.NT.Measure&&(Q.scopeType!==w.Gy.Visual||Ue.capabilities.limitMultiColumnFiltersToQueryGroupColumns)&&!Z)return!1;if(Z){var Ke=ot&&ot.kind;if(!Ct&&Ke!==h.NT.Column&&Ke!==h.NT.Measure)return!1;var we=!1;if(Q.scopeType===w.Gy.Section){var Ne=Q.container;Ne&&!Ne.transient&&(we=!0)}if(!we)return!1}return!0}static supportsFilterOutput(k){return null!=this.tryGetFilterPropertyIdentifier(k,null,null)}static tryGetFilterPropertyIdentifier(k,G,q){return G&&q&&q.isCustomVisual(G)?V.Ro:k?(0,d.MD)(k.objects):void 0}static tryGetFilterProperty(k,G,q,Q){var Z=this.tryGetFilterPropertyIdentifier(k,G,q);if(Z)return(0,s.NA)(Q,Z,void 0)}static add(k,G){k.filters||(k.filters=[]),k.filters.push(G)}static getFiltersContainer(k,G,q){switch(k){case w.Gy.Visual:return R.UP.getSelectedVisual(G);case w.Gy.Section:return q.getCurrentSection();case w.Gy.Exploration:return q.getCurrentExploration();default:n.f.assertNever(k)}}static getMatchingReportFilterContainers(k,G){if(G)return this.getMatchingFilterContainers(k,G.filters)}static getMatchingSectionFilterContainers(k,G){if(G)return this.getMatchingFilterContainers(k,G.filters)}static getMatchingVisualsFilterContainers(k,G){var q=[];for(var Q of G)if((0,x.Vz)(Q)&&Q.filters){var Z=this.getMatchingFilterContainers(k,Q.filters);Z&&q.push(...Z)}return _.isEmpty(q)?void 0:q}static getMatchingFilterContainers(k,G){if(G){var q=G.filter(Q=>(0,O.fS)(Q.expression,k,!1,!0,!0));return _.isEmpty(q)?void 0:q}}static getMatchingFilterVisuals(k,G,q){var Q=[],Z=this.getFilteringSupportedVisuals(G,q);if(Z){var X=function(){var se=q.capabilities(re.config.singleVisual.visualType),Ve=(0,B.Xf)(re),ke=L.getSupportedQueryRefs(se,Ve);if(!Ve.defn.select().filter(ft=>ke.some(Ct=>ft.name===Ct)).map(ft=>ft.expr).some(ft=>(0,O.fS)(ft,k,!1,!0,!0)))return 1;Q.push(re)};for(var re of Z)X();return _.isEmpty(Q)?void 0:Q}}static getFilteringSupportedVisuals(k,G){var q=[];for(var Q of k){var Z=Q.config.singleVisual,X=Z.visualType;if(!(0,M.xj)(Z)){var re=G.capabilities(X),te=L.supportsFilterOutput(re),se=(0,B.Xf)(Q),Ve=G.getPlugin(X);if(te&&!_.isEmpty(se)&&Ve&&Ve.tryCreateFilterObjectsToPersist){var ke=L.getSupportedQueryRefs(re,se);_.isEmpty(ke)||q.push(Q)}}}return _.isEmpty(q)?void 0:q}static getSupportedQueryRefs(k,G){if(!k||!G)return[];var Z=k.dataRoles.filter(Ve=>Ve.kind===I.DW.Grouping).map(Ve=>Ve.name),X=G.projections;if(_.isEmpty(X))return[];var re=[];for(var te of Z){var se=X[te].getQueryRefs();re.push(...se)}return re}static convertFilterData(k,G,q){if(k){var Q={filter:k.filter,name:this.getNextFilterName(G),type:k.type,restatement:k.restatement,howCreated:q};if(k.type===P.vA.Categorical||k.filterExpressionMetadata&&1===k.filterExpressionMetadata.expressions.length){Q.expression=k.filterExpressionMetadata.expressions[0];var Z=[];if(!_.isEmpty(k.filterExpressionMetadata.cachedValueItems)){for(var X of k.filterExpressionMetadata.cachedValueItems)1===X.identities.length&&Z.push({identity:X.identities[0],displayName:X.valueMap[0]});Q.cachedValueItems=Z}}else k.filterExpressionMetadata&&(Q.filterExpressionMetadata=k.filterExpressionMetadata);return Q}}static shouldDisableFilter(k,G,q,Q,Z){if(!q)return!1;var X=k.expression;if(!X)return!1;var re=(0,F.k)(X),te=!_.isEmpty(this.validate(k,G,Q)),se=(0,B.e4)(q,G);if(re){if(!se&&!te)return!0;var Ve=X.getTargetEntity();if(!Ve)return!0;if(G.schema(Ve.schema).capabilities.limitMultiColumnFiltersToQueryGroupColumns||(0,B.jW)(q,G,Z)||(0,B.EL)(q))return!0}return!1}static getValueType(k,G){var q=k.getMetadata(G);if(q)return q.type}static getDefaultRetainedValue(k,G){var q=u.m.getDefaultValues(k,G);if(!_.isEmpty(q))return{isNot:!1,scopeIds:[[(0,o.TZ)((0,U.R)(k,q))]]}}static validate(k,G,q){n.f.assertValue(k,"filterContainer");var Z=k.filter,X=u.m.validate(k.expression,G,q);if(Z&&(X=Z.validate(G,q,X)),!_.isEmpty(X))return X}static getNextFilterName(k){null==k&&(k=[]);var G={};for(var q of k)n.f.assertValue(q,"getNextFilterName: collection contains null filter"),null!=q&&(G[q.name]=!0);return g.q.generateUniqueId(G)}static isCategoricalFilter(k){return k===P.vA.Categorical||k===P.vA.Visual}static getQueryRefsForSingleItemDrillFilters(k,G,q){var Q=k.filters,Z=[];if(Q)for(var X of Q){var re=X&&X.filter;if(re&&_.isEmpty(re.validate(G,q))&&X.howCreated===D.OO.Drill&&this.areDrillFiltersSingleValue(re.where())){var te=this.getQueryRefFromFilter(k,X.expression);te&&Z.push(te)}}return Z}static areDrillFiltersSingleValue(k){return!_.isEmpty(k)&&_.every(k,G=>{if(null==G)return!1;var q=G.condition;return(0,W.Hi)(q)?q.values&&1===q.values.length:!!(0,W.Pe)(q)&&q.comparison===a.uu.Equal})}static getQueryRefFromFilter(k,G){var q=(0,B.Xf)(k);if(q)return q.defn.selectNameOf(G)}static getFilterValuesForColumn(k,G){if(n.f.assertAnyValue(G,"filters"),n.f.assertValue(k,"column"),G){var q=G.condition,Q=new H(k);return q.accept(Q),Q.values}}static deriveFromSQFilters(k,G,q){var Q=[],Z=q&&q.Filters&&0!==q.Filters.length?q.Filters:null;Z&&Z.length!==G.length&&(Z=null);for(var X=0,re=G.length;X<re;X++){var te=G[X],se=Z&&Z[X],Ve=se&&se.expression&&t.ib.deserializeExpr(se.expression);Q.push({name:this.getNextFilterName(Q),filter:new S.yl(k,[te]),restatement:se&&se.Restatement,expression:Ve,howCreated:D.OO.Auto,type:se&&se.type})}return Q}static extractParameterFilters(k,G){n.f.assertValue(k,"queryDefn"),n.f.assertAnyValue(G,"queryMetadata");var q=_.filter(k.From,re=>re.Type!==a.SM.Pod),Z={RemovedIndexes:[]},X=t.ib.deserializeFilter({Version:k.Version,From:q,Where:k.Where},Z);if(G&&!_.isEmpty(Z.RemovedIndexes)&&(G.Filters=_.filter(G.Filters,(re,te)=>!_.includes(Z.RemovedIndexes,te))),X)return this.deriveFromSQFilters(X.from(),X.where(),G)}static mergeExplorationSectionFilters(k,G){n.f.assertValue(k,"exploration"),n.f.assertValue(G,"section"),_.isEmpty(k.filters)||(G.filters=this.mergeFilters(G.filters,k.filters,"explore"),k.filters=[])}static isFilterModified(k){var X=!0===k.isHiddenInViewMode||!0===k.isLockedInViewMode||!!k.displayName||void 0!==k.ordinal;return!!k.filter||!(0,s.xb)(k.objects)||X}static ensureFilterHasName(k,G){null==k.name&&this.isFilterModified(k)&&(k.name=this.getNextFilterName(G.container&&G.container.filters))}static applySectionParameterFilters(k,G,q,Q,Z){n.f.assertValue(k,"section"),n.f.assertAnyValue(G,"pod"),n.f.assertAnyValue(Q,"parameterFilters"),n.f.assertAnyValue(q,"additionalSourceFilters");var X=Z;if(k.filters=this.getSectionParameterFiltersToApply(G,k.filters,q,Q),(!_.isEmpty(Q)||!_.isEmpty(q))&&(X=!0),X)for(var re of k.visualContainers)re.cachedData=null}static getFiltersToApplyFromVisualQueryFilterContext(k){if(k){var G=k.dataFilters?k.dataFilters.slice():[];k.highlightFiltersUnmerged&&(G=G.concat(k.highlightFiltersUnmerged));var q=k.query,Q=[],Z=[],X=!1;for(var re of G){var te=re.filter.where();if(_.find(te,Ae=>(0,C._)(Ae.condition)===E.Ld.VisualTopN))X=!0;else if(!_.isEmpty(te)){var se=_.filter(te,Ae=>(0,C._)(Ae.condition)===E.Ld.Measure);if(Z.push(...se||[]),!_.isEmpty(se)){var Ve=_.filter(te,Ae=>(0,C._)(Ae.condition)!==E.Ld.Measure&&(0,C._)(Ae.condition)!==E.Ld.VisualTopN);if(_.isEmpty(Ve))continue;re={filter:S.yl.fromSQFromAndSQFilters(re.filter.from(),Ve)}}Q.push(re)}}if(!_.isEmpty(Z)){var ke=S.yl.fromMeasureFilters(q,Z);ke&&Q.push({filter:ke})}if(X){var Ue=q.from().getSubquerySources(),ot=_.findKey(Ue,Ae=>Ae.inheritsSorting),ft=Ue[ot],Ct=_.find(q.where(),Ae=>{var we=new z;return Ae.condition.accept(we),we.source===ot});if(Ct){var Ke=new b.cL({[ot]:ft});Q.push({filter:S.yl.fromSQFromAndSQFilters(Ke,[Ct])})}}return Q}}static findValuesInFilterCache(k,G,q){if(n.f.assert(()=>k.length===G.length,".extractValuesFromMetadata the columns length should be equal to values length"),q&&!_.isEmpty(q.cachedValueItems)){var Q=this.findIdentityMapInFilterCache(k,G,q);if(Q){var Z=[],X=[];for(var re in Q.valueMap)Z.push(Q.valueMap[re]),X.push(q.expressions[re]);return{values:Z,columns:X}}}}static removeEntryFromFilterCache(k,G,q){if(n.f.assert(()=>k.length===G.length,".removeEntryFromFilterCache the columns length should be equal to values length"),q&&!_.isEmpty(q.cachedValueItems)){var Q=this.findIdentityMapInFilterCache(k,G,q);Q&&_.remove(q.cachedValueItems,Z=>Z===Q)}}static findIdentityMapInFilterCache(k,G,q){if(n.f.assert(()=>k.length===G.length,".findIdentityMapInFilterCache the columns length should be equal to values length"),q&&!_.isEmpty(q.cachedValueItems))for(var Q of q.cachedValueItems){var Z=new y.aL;for(var X of Q.identities)X.expr.accept(Z);if(Z.keys.length===k.length){for(var re=!0,te=function(){var Ve=Z.keys[se];if(_.findIndex(k,Ue=>(0,O.fS)(Ue,Ve))<0||G[se].value!==Z.values[se].value)return re=!1,1},se=0;se<Z.keys.length&&!te();se++);if(re)return Q}}}static fillMissingValuesFromCache(k,G){if(!G||_.isEmpty(G.cachedValueItems))return k;var q=new Map,Q=function(te){te.identities.forEach((se,Ve)=>q.set(se.key,te.valueMap[Ve]))};for(var Z of G.cachedValueItems)Q(Z);var X=function(te){te.identities.forEach((se,Ve)=>{var ke;return(ke=te.valueMap)[Ve]??(ke[Ve]=q.get(se.key))})};for(var re of k)X(re);return k}static getSectionParameterFiltersToApply(k,G,q,Q){n.f.assertAnyValue(k,"pod"),n.f.assertAnyValue(G,"sectionFilters"),n.f.assertAnyValue(Q,"parameterFilters"),n.f.assertAnyValue(q,"additionalSourceFilters");var Z=[...G||[]];if(_.isEmpty(Q)||k&&!_.isEmpty(k.parameters)&&_.remove(Z,re=>_.some(k.parameters,te=>te.boundFilter===re.name)),!_.isEmpty(Q)||!_.isEmpty(q)){var X=this.getUnOverriddenAndMergedFilters(Q,q);return this.getUnOverriddenAndMergedFilters(X,Z)}return Z}static getUnOverriddenAndMergedFilters(k,G){if(n.f.assertAnyValue(k,"higherPrecedenceFilters"),n.f.assertAnyValue(G,"lowerPrecedenceFilters"),_.isEmpty(k))return G;if(_.isEmpty(G))return k;var q=this.getNonoverriddenFilters(k,G);return this.mergeFilters(q||[],k||[],"param")}static getNonoverriddenFilters(k,G){if(n.f.assertAnyValue(k,"higherPrecedenceFilters"),n.f.assertAnyValue(G,"lowerPrecedenceFilters"),_.isEmpty(k)||_.isEmpty(G))return G;var q=this.extractAllReferencedFields(k);return _.filter(G,Z=>{var X=this.extractReferencedFields(Z);return!_.some(X,re=>_.some(q,te=>(0,O.fS)(te,re,!1,!0)))})}static extractParameterFiltersFromSection(k,G){n.f.assertAnyValue(k,"sectionFilters"),n.f.assertAnyValue(G,"originalFilters"),k=k||[],G=G||[];var q={},Q=[];for(var Z of G)q[Z.name]=Z;for(var X of k){var re=q[X.name];(!re||!_.isEqual(re,X))&&Q.push(X)}return Q}static mergeFilters(k,G,q){var Q={};for(var Z of k=k||[])Q[Z.name]=!0;for(var X of G)X.name=q+"_"+X.name,Q[X.name]?n.f.assertFail("Filter name conflict: "+X.name):Q[X.name]=!0;return k.concat(G)}static canExpandManually(k,G,q,Q,Z){return k!==D.OO.CrossDrill&&!(k===D.OO.Drillthrough&&!G&&Z!==P.vA.Exclude&&Z!==P.vA.Include&&q&&(0,W.kb)(q)||!Q)}static hasMeasureOrAsAggregationLinkField(k){return n.f.assertValue(k,"section"),_.some(k.filters,G=>G.howCreated===D.OO.Drillthrough&&!G.isTransient&&(G.isLinkedAsAggregation||G.expression&&(0,W.kb)(G.expression)))}static notifyFilterContainerChangedByUser(k,G){k.publishToChannel(A.d8V,{source:r.uy.FilterChange}),k.publishToChannel(A.Tuj,G)}static createChangeFilterActivity(k,G,q){var Q={name:i.R.ChangeFilter,operationType:G};return q?q.createChildActivity(Q):k.createActivity(Q)}static notifyBufferedFilterChanges(k,G,q,Q,Z,X){k.publishToChannel(A.Oij,{filterScopeType:G,filterType:q,id:Q,canApply:Z,wasDeleted:X})}static isApplyAllEnabled(k,G){var q=G.getCurrentExploration();return!!(k&&q&&q.slowDataSourceSettings)&&q.slowDataSourceSettings.isApplyAllButtonEnabled}static getFilterCardStyle(k,G,q,Q){var X,re,Z=k&&k.filterCard;G?(X=Z&&Z.$instances&&Z.$instances[T.ZF],re=T.Hd):(X=Z&&Z.$instances&&Z.$instances[T.Kc],re=T.$V);var te=this.getDefaultFilterCardStyle(k,G,q,Q);return Q?.forceApplyDefaultStyleOverride?te:{checkboxAndApplyColor:this.getCheckboxAndApplyColor(k&&k.outspacePane,te.checkboxAndApplyColor),borderColor:this.getBorderColor(X,te.borderColor,Q?.alwaysEnableBorder),backgroundColor:this.getBackgroundColor(X,te.backgroundColor,re,G,te.backgroundColorApplied),foregroundColor:this.getColor(X,"foregroundColor",te.foregroundColor),inputBoxBorderColor:this.getBorderColor(X,te.inputBoxBorderColor,!0),inputBoxBackgroundColor:this.getColor(X,"inputBoxColor",te.inputBoxBackgroundColor),inputBoxForegroundColor:this.getColor(X,"foregroundColor",te.inputBoxForegroundColor),fontSize:Q?.ignoreFontSizeAndFamily?null:te.fontSize,fontFamily:Q?.ignoreFontSizeAndFamily?null:te.fontFamily}}static getDefaultFilterCardStyle(k,G,q,Q){var X,re,Z=k&&k.filterCard;G?(X=Z&&Z.$instances&&Z.$instances[T.ZF],re=q.colorPalette.backgroundLight.value):(X=Z&&Z.$instances&&Z.$instances[T.Kc],re=q.colorPalette.background.value);var te=G?Q?.defaultStyleOverride?.backgroundColorApplied:Q?.defaultStyleOverride?.backgroundColorAvailable,se=Q?.defaultStyleOverride,Ve=te||se?.backgroundColor;return se?{...se,backgroundColor:Ve}:{checkboxAndApplyColor:T.mC,borderColor:T.bm,backgroundColor:re,foregroundColor:q.colorPalette.foreground.value,inputBoxBorderColor:T.bm,inputBoxBackgroundColor:T.NC,inputBoxForegroundColor:T.yJ,fontSize:this.getFontSize(X),fontFamily:this.getFontFamily(X)}}static determineIsLinkedAsAggregation(k,G,q){if(k.howCreated===D.OO.Drillthrough)return null!=q.defaultAggregate(k.expression,G)}static getDisplayNameForIncludeExcludeFilters(k,G,q){return k.get(G===P.vA.Include?"Include_Label":"FilterPane_Exclude")+" ("+q+")"}static getCheckboxAndApplyColor(k,G=T.mC){var q=(0,p.y)(k,"checkboxAndApplyColor",G);return(0,l.cD)(q)}static getBorderColor(k,G,q){var Q=(0,p.y)(k,"borderColor",G),X=0;return(!0===(0,p.N)(k,"border",T.HX)||q)&&(X=1),(0,l.cD)(Q,X)}static getBackgroundColor(k,G,q,Q,Z){var re=(0,p.y)(k,"backgroundColor",Q&&Z?Z:G),te=(0,l.TD)((0,p.N)(k,"transparency",q));return(0,l.cD)(re,te)}static getColor(k,G,q){var Q=(0,p.y)(k,G,q);return(0,l.cD)(Q)}static getFontSize(k){return`${(0,p.N)(k,"textSize",T.JM)}pt`}static getFontFamily(k){return(0,p.N)(k,"fontFamily",T.h9)}static extractAllReferencedFields(k){return _.flatten(_.map(k,G=>this.extractReferencedFields(G)))}static extractReferencedFields(k){var G=[];if(k.expression&&G.push(k.expression),k.filter)for(var q of k.filter.conditions()){var Q=new K;q.accept(Q),G=G.concat(Q.fields)}return G}static getFilterCapabilities(k){return{canClear:this.canClearManually(k),canDelete:this.canDeleteManually(k),canEdit:this.canEditManually(k),canHide:this.canHideManually(k),canLock:this.canLockManually(k),canRename:this.canRenameManually(k),canSort:this.canSortManually(k)}}static canClearManually(k){return!(k.howCreated!==D.OO.Auto&&k.howCreated!==D.OO.User&&k.howCreated!==D.OO.Drill&&k.howCreated!==D.OO.Drillthrough&&k.howCreated!==D.OO.URL||k.type===P.vA.Passthrough||k.howCreated===D.OO.Drillthrough&&(k.type===P.vA.Exclude||k.type===P.vA.Include))}static canDeleteManually(k){return k.howCreated===D.OO.User||k.howCreated===D.OO.Drillthrough||k.howCreated===D.OO.URL||k.type===P.vA.Passthrough||k.howCreated===D.OO.Include||k.howCreated===D.OO.Exclude}static canEditManually(k){return(k.howCreated===D.OO.Auto||k.howCreated===D.OO.User||k.howCreated===D.OO.Drill||k.howCreated===D.OO.Drillthrough||k.howCreated===D.OO.URL||k.howCreated===D.OO.Include||k.howCreated===D.OO.Exclude)&&k.type!==P.vA.Passthrough}static canHideManually(k){return k.howCreated===D.OO.Auto||k.howCreated===D.OO.User||k.howCreated===D.OO.Drillthrough&&!k.isTransient||k.type===P.vA.Passthrough||k.howCreated===D.OO.Include||k.howCreated===D.OO.Exclude}static canLockManually(k){return(k.howCreated===D.OO.Auto||k.howCreated===D.OO.User||k.howCreated===D.OO.Drillthrough&&!k.isTransient||k.howCreated===D.OO.Include||k.howCreated===D.OO.Exclude)&&k.type!==P.vA.Passthrough}static canRenameManually(k){return(k.howCreated===D.OO.Auto||k.howCreated===D.OO.User)&&k.type!==P.vA.Passthrough&&k.type!==P.vA.VisualTopN}static canSortManually(k){return k.howCreated===D.OO.Auto||k.howCreated===D.OO.User||k.type===P.vA.Passthrough||k.howCreated===D.OO.Include||k.howCreated===D.OO.Exclude}}class K extends f.PA{constructor(){super(...arguments),this.fields=[]}visitColumnRef(k){this.fields.push(k)}visitHierarchyLevel(k){this.fields.push(k)}visitMeasureRef(k){this.fields.push(k)}visitEntity(k){this.fields.push(k)}visitAggr(){}}class z extends f.PA{visitSubqueryRef(k){this.source=k.variable}}class H extends f.vq{constructor(k){super(),this.comparisonColumn=k,this.values=[]}visitCompare(k){k.comparison===a.uu.Equal&&(0,W.VC)(k.right)&&(0,O.fS)(k.left,this.comparisonColumn)&&this.values.push(k.right)}visitIn(k){if(!_.isEmpty(k.values)){var q=_.findIndex(k.args,Z=>(0,O.fS)(Z,this.comparisonColumn,void 0,!0));if(!(q<0))for(var Q of k.values)this.values.push(Q[q])}}}},476590:function(ve,j,e){e.d(j,{NV:function(){return p},Xz:function(){return n},zr:function(){return g}});var r=e(426313),i=e(561415),a=e(324569),t=e(461251),l=e(509247);function g(s,d){var o=(0,t.s)(s);return d.isQueryVisual(o)}function n(s,d){var o=(0,t.s)(s);return!d.isAnalysisVisual(o)}function p(s,d,o,v){var m=s.getMetadata(d);if(m){if(o===a.OO.Drillthrough)return i.vA.Categorical;var c=m.type,C=c&&(c.text||c.bool||c.dateTime),y=m.idOnEntityKey&&v&&(0,r.fS)(s,v);return!C||(0,l.k)(s)||y?i.vA.Advanced:i.vA.Categorical}}},758304:function(ve,j,e){e.d(j,{DX:function(){return D},Ee:function(){return d},P2:function(){return v},RV:function(){return m},X0:function(){return c},ZP:function(){return T},yl:function(){return o}});var r=e(60978),i=e(290477),a=e(650543),t=e(833059),l=e(726988),g=e(810331),n=e(442407),p=e(832573);function d(O,x,I){if(a.f.assertValue(O,"entity"),!x||!x.column||!x.column.groupingMetadata)return i.L.None;if(I){var L=I.getGroupingDesignState(O,x.name);if(!L)return i.L.Basic;if(L.partitionTable)return i.L.Clustering;if(L.binItem)return i.L.Binning}return i.L.Basic}function o(O,x,I){var L=d(O,x,I);return L===i.L.Basic||L===i.L.Binning}function v(O,x,I){return d(O,x,I)===i.L.Clustering}function m(O,x,I){if(!x||!x.column||!x.column.groupingMetadata)return!1;var L=I.getGroupingDesignState(O,x.name);return!(!L||!L.groupItems&&!L.partitionTable)}function c(O,x){return!(!x||!function(O,x){return function(O,x){var I=(0,l.J1)((0,g.Q)(x));return O.schema(I)}(O,x).capabilities.canEdit}(O,x)||!(0,r.t3)(x)&&!(0,r.wD)(x))&&function(O){return O&&!!(O.type.dateTime||O.type.integer||O.type.numeric||O.type.text)}(x.getConceptualProperty(O))}function T(O,x){return _.chain(O.groupedColumns).map(I=>{if(function(O){return O.kind===t.NT.Column}(I))return(0,n.Oh)(x,I.name)}).filter(I=>null!=I).value()}function D(O,x){var I=x&&x.defn.select();if(!_.isEmpty(I)&&!_.isEmpty(O)){for(var L of O){if(!L||!L.dataMap)return!1;var K=Object.keys(L.dataMap),z=_.size(L.dataMap);if(z>2)return!1;if(2===z){var H=I.withName(K[0]),J=I.withName(K[1]);if(H&&J&&!W(H.expr,J.expr))return!1}else if(1===z){var k=I.withName(K[0]);if(k&&!(0,r.t3)(k.expr)&&!(0,r.wD)(k.expr))return!1}}return!0}return!1}function W(O,x){return!!function(O,x){if((0,r.wD)(O)&&(0,r.t3)(x)&&U(O,x))return O;if((0,r.wD)(x)&&(0,r.t3)(O)&&U(x,O))return x;if((0,r.wD)(O)&&(0,r.wD)(x)){if(U(O,x))return O;if(U(x,O))return x}}(O,x)}function U(O,x){return p.m.sequenceEqual(O.groupedExprs,[x])}},122132:function(ve,j,e){e.d(j,{Sd:function(){return o},gp:function(){return d},wK:function(){return p}});var r=e(60978),i=e(426313),t=(e(650543),e(630881)),l=e(442407),g=e(658531),n=e(619538);function p(C,y,S,h){if(S&&y&&(0,r.ez)(h)){var E=h,u=E.arg,f=(0,n.wA)(C,u),b=[],V=function(){var D,P=S.tryGetExprs(T.name);if(!P)return 1;if((0,r.y3)(u)&&(0,r.jc)(u.arg)){var w=u.arg;D=_((0,g.q)(C,P,{})).filter(R=>R.isHierarchyLevelsGroup&&(0,r.t3)(R.expr)&&(0,i.fS)(R.expr.source,w.arg)&&R.expr.ref===w.property).reverse().value()}else D=_((0,g.q)(C,P,{})).filter(R=>(0,i.fS)(R.expr,u)).reverse().value();for(var M of D){var A=(0,n.u8)(f,M.children,E);b.push({expr:E,schema:C,targetRole:T.name,projOptions:{fieldIndex:M.selectQueryIndex+A}})}};for(var T of y.dataRoles)V();return b}}function d(C,y,S,h,E,u){var b=(C.singleVisual.query.tryGetExprs(y)||[]).slice(S,S+h);if(!_.isEmpty(b)){var V;if(V=_.isEmpty(u)?b[0]:u[0],(0,r.ez)(V)){var T=function(C,y){if(C&&C.kind===t.DW.Measure){var S=(0,n.cH)(y);if(S)return(0,l.Oh)(S.arg,S.property)}}(E,V);if(T)return[T]}return _.isEmpty(u)?b:u}}function o(C,y){return(0,r.ez)(C)&&(0,r.ez)(y)&&(0,i.fS)(C.arg,y.arg)}},151444:function(ve,j,e){e.d(j,{q:function(){return g}});var r=e(543922),i=e(650543),a=e(313750),t=e(315815),l=e(509247);class g{static generate(p,s,d,o,v,m,c,C){if(i.f.assertValue(p,"dataView"),i.f.assertValue(s,"originalSelects"),i.f.assertValue(o,"originalDataRoleNames"),i.f.assertAnyValue(v,"originalProjectionOrdering"),p.matrix){var y=[],S=[],h=[],E=[],u=p.matrix;for(var f of s){var b={...f};b.roles={},y.push(b)}var V=B=>{if(m&&m.featureSwitches.showGeneratedColumnsInDetailView)return!0;var N=s[B.index];return!N||!_.isEmpty(N.roles)||!_.isEmpty(N.relatedSelects)},T=this.getSelectsGroupedByRowHierarchy(d,s,p.matrix,V),D=(c&&C?this.tryProcessDataViewHierarchy(u.rows,y,h,r.r.columns,T,B=>!B.isMeasure):this.tryProcessDataViewHierarchy(u.rows,y,S,r.r.rows,T)&&this.tryProcessDataViewHierarchy(u.columns,y,h,r.r.columns,T,B=>!B.isMeasure))&&this.tryUpdateReferencedSelects(u.valueSources,y,E,r.r.values,T,V),w=_.last(u.rows.levels);if(w&&(D=D&&this.tryUpdateReferencedSelects((0,t.vC)(w),y,E,r.r.values,T,V)),D){var M=p;this.sortMatrixRoleProjectionOrders(o,v,S,h,E,y),_.isEmpty(T)||(M=this.fixMeasuresGroupedByRowHierarchy(p,T));var A={};return S.length>0&&(A[r.r.rows]=S),h.length>0&&(A[r.r.columns]=h),E.length>0&&(A[r.r.values]=E),{transformActions:{selects:y,roles:{ordering:A}},dataView:M}}}}static getSelectsGroupedByRowHierarchyFromMatrix(p,s){var d={},o=p?.rows?.levels;if(!_.isEmpty(o)){var v=_.last(o),m=(0,t.vC)(v);if(!_.isEmpty(m))for(var c of m)_.isNumber(c.index)&&s(c)&&(d[c.index]=!0)}return d}static tryProcessDataViewHierarchy(p,s,d,o,v,m){if(!p||_.isEmpty(p.levels))return!0;for(var c of p.levels)if(!this.tryUpdateReferencedSelects(c.sources,s,d,o,v,m))return!1;return!0}static tryUpdateReferencedSelects(p,s,d,o,v,m){if(_.isEmpty(p))return!0;var C,c=function(S){if(!m||m(S)){if(null==S.index&&_.some(p,u=>u.formatSource&&u.formatSource.formatString===S))return 0;if(v[S.index]){if(!_.isEmpty(s[S.index].relatedSelects)){var h=function(u){var f=_.findIndex(s,b=>b.queryName===u.queryName);v[f]||d.push(S.index)};for(var E of s[S.index].relatedSelects)h(E)}}else d.push(S.index);if(!s[S.index])return{v:!1};s[S.index].roles[o]=!0}};for(var y of p)if(0!==(C=c(y))&&C)return C.v;return!0}static sortMatrixRoleProjectionOrders(p,s,d,o,v,m){if(i.f.assertValue(p,"originalDataRoleNames"),i.f.assertAnyValue(s,"originalProjectionOrdering"),i.f.assertValue(d,"matrixRowsOrdering"),i.f.assertValue(o,"matrixColumnsOrdering"),i.f.assertValue(v,"matrixValuesOrdering"),!_.isEmpty(p)&&s){var c=d.length>=2,C=o.length>=2,y=v.length>=2;if(c||C||y){var S=this.createSelectIndexToSortOrderMappings(p,s);S&&(c&&this.applySortOrder(d,S),C&&this.applySortOrder(o,S),y)&&(this.applySortOrder(v,S),(0,a.f_)(m,{[r.r.values]:v}))}}}static createSelectIndexToSortOrderMappings(p,s){i.f.assertNonEmpty(p,"originalDataRoleNames"),i.f.assertValue(s,"originalProjectionOrdering");var d=_.chain(p).map(v=>s[v]).flatten().filter(v=>_.isNumber(v)).value(),o=_.reduce(d,(v,m,c)=>(void 0===v[m]&&(v[m]=c),v),{});return Object.keys(o).length>=2?o:void 0}static applySortOrder(p,s){i.f.assertNonEmpty(p,"matrixRoleSelectIndices"),i.f.assertValue(s,"selectIndexToSortOrderMapping"),p.sort((d,o)=>this.getSortOrderOrDefault(d,s)-this.getSortOrderOrDefault(o,s))}static getSortOrderOrDefault(p,s,d=Number.MAX_VALUE){return i.f.assertValue(p,"selectIndex"),i.f.assertValue(s,"selectIndexToSortOrderMapping"),_.isNumber(s[p])?s[p]:d}static fixMeasuresGroupedByRowHierarchy(p,s){if(i.f.assertValue(p,"dataView"),i.f.assertValue(p.matrix,"matrix"),i.f.assertValue(p.matrix.columns,"matrix.columns"),this.nothingToFix(s,p.matrix))return p;var o=_.cloneDeep(p);return this.addMeasureValuesGroupedByRowHierarchy(o,s),o}static nothingToFix(p,s){return _.isEmpty(Object.keys(p))||_.isEmpty(s.columns.root.children)||_.isEmpty(s.rows.root.children)}static getSelectsGroupedByRowHierarchy(p,s,d,o){if(p&&p.length>1){i.f.assertValue(p[0]?.selects&&p[1]?.selects,"Split transforms should be defined");var v=this.categorizeSplitSelects(p[0],s);if(_.isEmpty(v.measureSelectIndices))return{};var m=this.categorizeSplitSelects(p[1],s);if(_.isEqual(v.groupingSelectIndices,m.groupingSelectIndices))return{};if(!_.isEmpty(m.measureSelectIndices))for(var c=_.map(_.keys(m.measureSelectIndices),E=>s[parseInt(E,10)].queryName),C=0;C<s.length;C++){var y=s[C];if(!_.isEmpty(y.relatedSelects)){var S=function(E){null!=_.find(c,u=>E.queryName===u)&&(m.measureSelectIndices[C]=!0)};for(var h of y.relatedSelects)S(h)}}return m.measureSelectIndices}return g.getSelectsGroupedByRowHierarchyFromMatrix(d,o)}static categorizeSplitSelects(p,s){var d={groupingSelectIndices:{},measureSelectIndices:{}};for(var o in p.selects){var v=s[o];v.expr&&((0,l.k)(v.expr)?d.measureSelectIndices[o]=!0:d.groupingSelectIndices[o]=!0)}return d}static addMeasureValuesGroupedByRowHierarchy(p,s){i.f.assertNonEmpty(p.matrix.columns.root.children,"A Matrix with no ColumnHierarchy is already fixed"),i.f.assertValue(s,"addMeasureValuesGroupedByRowHierarchy called for no Scoped Values");var d=p.matrix,o=d.columns.levels[0],v=[],m=_.last(d.rows.levels),c=d.valueSources.length;i.f.assertAnyValue(m.valueSources,"When either Primary or Secondary are missing, Line Values appear on the Intersections");var C=(0,t.vC)(m);if(C){for(var y=d.columns.root,S=this.getColumnLeavesCount(y),h=0;h<C.length;h++){var E=C[h];s[E.index]&&(E.formatSource&&delete E.formatSource,d.valueSources.push(E),this.addStaticMeasureColumnHeader(o,E,y),v.push(h))}(0,t.y9)(p.matrix.rows.root,u=>{var f=S,b=(0,t.Lr)(u);if(!_.isEmpty(b))for(var V=0;V<v.length;V++)u.values[f++]={value:b[v[V]].value,valueSourceIndex:c+V}})}}static getColumnLeavesCount(p){var s=0;return(0,t.y9)(p,()=>s++),s}static addStaticMeasureColumnHeader(p,s,d){p.sources.push(s),d.children.push({level:0,levelSourceIndex:p.sources.length-1})}}},104370:function(ve,j,e){e.d(j,{$:function(){return i}});var r=e(2772);class i{constructor(t){this.modelExtension=t,this.visited={}}visitReference(t){if(t.schema===this.modelExtension.name){var l=(0,r.rc)(this.modelExtension,t.entity);if(l){var g=(0,r.ef)(l,t.name);if(g){var n=this.toVisitedKey(t);if(!this.visited[n])for(var p of(this.visitMeasure(this.modelExtension,l,g),this.visited[n]=!0,g.references.measures))this.visitReference(p)}}}}visitMeasure(t,l,g){}toVisitedKey(t){return JSON.stringify(t)}}},2772:function(ve,j,e){e.d(j,{MZ:function(){return s},Mt:function(){return n},Pw:function(){return g},QL:function(){return m},Rx:function(){return h},ZB:function(){return C},bY:function(){return c},ef:function(){return y},fi:function(){return D},ni:function(){return E},qH:function(){return d},rc:function(){return o}});var r=e(333107),i=e(803205),a=e(138334),t=e(990297),l=e(650543);function g(A,R){return A.modelExtensions&&A.modelExtensions.withName(R)}function n(A,R){var B=g(A,R);if(!B)throw new Error("Unable to find expected model extension: "+R);return B}function s(A,R){return{name:A,extends:R,entities:(0,t.bv)()}}function d(A,R,B){var N=function(A,R,B){A.modelExtensions||(A.modelExtensions=(0,t.bv)());var N=A.modelExtensions.withName(R);return N||(N=s(R,B),A.modelExtensions.push(N)),l.f.assert(()=>N.extends===B,"Found model extension with incompatible extends field"),N}(A,R,a.N8);return m(N,B)}function o(A,R){return A.entities.withName(R)}function v(A,R,B){var W=o(n(A,R),B);if(!W)throw new Error("Unable to find expected entity: "+B);return W}function m(A,R){A.entities||(A.entities=(0,t.bv)());var B=A.entities.withName(R);return B||(B={name:R,extends:R,measures:(0,t.bv)()},A.entities.push(B)),l.f.assert(()=>B.extends===R,"Found model extension entity with incompatible extends field"),B}function c(A,R){if(A.measures||(A.measures=(0,t.bv)()),A.measures.withName(R.name))throw new Error(`Measure ${R.name} already exists and cannot be added`);A.measures.push(R)}function C(A,R,B,N){return S(v(A,R,B),N)}function y(A,R){return A.measures.withName(R)}function S(A,R){var B=y(A,R);if(!B)throw new Error("Unable to find expected measure:"+R);return B}function h(A,R,B,N){var W=v(A,R,B),F=S(W,N),U=W.measures.indexOf(F);W.measures.splice(U,1),0===W.measures.length&&(delete W.measures,function(A,R,B){if(!P(B)){var N=n(A,R),W=N.entities.indexOf(B);N.entities.splice(W,1),0===N.entities.length&&(delete N.entities,function(A,R){if(!P(R)){var B=A.modelExtensions.indexOf(R);A.modelExtensions.splice(B,1),0===A.modelExtensions.length&&delete A.modelExtensions}}(A,N))}}(A,R,W))}function E(A,R,B){null==B?function(A,R){var B=A.annotations&&A.annotations.withName(R);if(B){var N=A.annotations.indexOf(B);A.annotations.splice(N,1),A.annotations&&0===A.annotations.length&&delete A.annotations}}(A,R):function(A,R,B){A.annotations||(A.annotations=(0,t.bv)());var N=A.annotations.withName(R);N?N.value=B:A.annotations.push(N={name:R,value:B})}(A,R,B)}function P(A){var R=Object.keys(A),B=_.chain(R).filter(N=>"name"!==N&&"extends"!==N).filter(N=>!(_.isArray(A[N])&&_.isEmpty(A[N]))).value();return _.some(B)}function D(A){if(A){var R={Version:i.Ku.Version0,Name:A.name,Extends:A.extends};return A.entities&&(R.Entities=_.map(A.entities,B=>function(A){var R={Extends:A.extends,Name:A.name};return A.measures&&(R.Measures=_.map(A.measures,B=>function(A){var R=A.dataType;return(R===r.M.Date||R===r.M.Time)&&(R=r.M.DateTime),{Name:A.name,Expression:A.expression,DataType:R}}(B))),R}(B))),R}}},110024:function(ve,j,e){e.d(j,{A9:function(){return d},FY:function(){return v},Gk:function(){return o},bW:function(){return s},ei:function(){return m}});var r=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/,i=1e3,a=60*i,t=60*a,l=24*t,g=7*l,n=30*l,p=365*l;function s(y){return function(y){var S=r.exec(y)||new Array(9),h="-"===S[1]?-1:1;return{years:c(S[2],h),months:c(S[3],h),weeks:c(S[4],h),days:c(S[5],h),hours:c(S[6],h),minutes:c(S[7],h),seconds:c(S[8],h)}}(y)}function d(y){return y.years*p+y.months*n+y.weeks*g+y.days*l+y.hours*t+y.minutes*a+y.seconds*i}function o(y){var S={years:0,months:0,weeks:0,days:0,hours:0,minutes:0,seconds:0};for(var h of y){var E=h.value;h.isTimeUnit&&"S"===h.unit?S.seconds=E:h.isTimeUnit&&"M"===h.unit?S.minutes=E:h.isTimeUnit&&"H"===h.unit?S.hours=E:"D"===h.unit?S.days=E:"W"===h.unit?S.weeks=E:"M"===h.unit?S.months=E:"Y"===h.unit&&(S.years=E)}return S}function v(y){var S="P";return y.years>0&&(S+=`${y.years}Y`),y.months>0&&(S+=`${y.months}M`),y.weeks>0&&(S+=`${y.weeks}W`),y.days>0&&(S+=`${y.days}D`),0===y.hours&&0===y.minutes&&0===y.seconds||(S+="T",y.hours>0&&(S+=`${y.hours}H`),y.minutes>0&&(S+=`${y.minutes}M`),y.seconds>0&&(S+=`${y.seconds}S`)),S}function m(y){var S=[];return y.seconds&&S.push({value:y.seconds,unit:"S",isTimeUnit:!0}),y.minutes&&S.push({value:y.minutes,unit:"M",isTimeUnit:!0}),y.hours&&S.push({value:y.hours,unit:"H",isTimeUnit:!0}),y.days&&S.push({value:y.days,unit:"D",isTimeUnit:!1}),y.weeks&&S.push({value:y.weeks,unit:"W",isTimeUnit:!1}),y.months&&S.push({value:y.months,unit:"M",isTimeUnit:!1}),y.years&&S.push({value:y.years,unit:"Y",isTimeUnit:!1}),S}function c(y,S){var h=y&&parseFloat(y.replace(",","."));return(isNaN(h)?0:h)*S}},628391:function(ve,j,e){e.d(j,{Ae:function(){return w},D6:function(){return y},Dt:function(){return N},EA:function(){return I},Iv:function(){return M},Iz:function(){return T},Js:function(){return U},LM:function(){return B},Og:function(){return v},QU:function(){return d},SV:function(){return P},TJ:function(){return L},XY:function(){return h},_3:function(){return s},_n:function(){return b},aQ:function(){return W},bM:function(){return u},bx:function(){return D},fF:function(){return x},k9:function(){return c},kt:function(){return R},rF:function(){return A},tD:function(){return f},u1:function(){return V},wj:function(){return O},zO:function(){return F}});var r=e(349672),i=e(990297),a=e(650543),t=e(655641),l=e(104816),g=e(324569),n=e(62120),p=e(270305);function s(Q,Z,X,re){a.f.assertValue(Z,"sectionName");var te=re.defer(),se=w(Q,Z);return-1===se?te.resolve(void 0):X.get(Q.reportId,Q.pods[se].name).then(Ve=>{var ke=Ve&&Ve.words.slice();_.isEmpty(ke)?te.resolve(void 0):(ke.shift(),te.resolve({altNames:ke}))}),te.promise}function d(Q,Z,X){return o.apply(this,arguments)}function o(){return(o=(0,r.Z)(function*(Q,Z,X){a.f.assertValue(Z,"sectionName");var re=w(Q,Z);re>-1&&(yield X.set(Q.reportId,Q.pods[re].name,[]),J(Q,re,X,!1))})).apply(this,arguments)}function v(Q,Z,X){return m.apply(this,arguments)}function m(){return(m=(0,r.Z)(function*(Q,Z,X){a.f.assertValue(Z,"sectionName");var re=w(Q,Z);re>-1&&(yield X.set(Q.reportId,Q.pods[re].name,[]),k(Q,re))})).apply(this,arguments)}function c(Q,Z,X){return C.apply(this,arguments)}function C(){return(C=(0,r.Z)(function*(Q,Z,X){a.f.assertValue(Q,"exploration"),a.f.assertValue(Z,"section"),yield y(Q,Z.name,Z.displayName,X,!0)})).apply(this,arguments)}function y(Q,Z,X,re,te){return S.apply(this,arguments)}function S(){return(S=(0,r.Z)(function*(Q,Z,X,re,te){a.f.assertValue(Q,"exploration"),a.f.assertValue(Z,"sectionName"),a.f.assertValue(X,"newSectionDisplayName");var se=te?z(Q,Z,g.zm.Default,g.PD.Default):M(Q,Z);if(te||se){var Ve=yield re.get(Q.reportId,se.name),ke=Ve&&Ve.words;_.isEmpty(ke)?ke=[X]:ke[0]=X,yield re.set(Q.reportId,se.name,ke)}})).apply(this,arguments)}function h(Q,Z,X,re){return E.apply(this,arguments)}function E(){return(E=(0,r.Z)(function*(Q,Z,X,re){a.f.assertValue(Q,"exploration"),a.f.assertValue(Z,"section");var te=z(Q,Z.name,g.zm.Default,g.PD.Default);X.unshift(Z.displayName),yield re.set(Q.reportId,te.name,X)})).apply(this,arguments)}function u(Q,Z,X,re,te,se,Ve){a.f.assertValue(Q,"exploration"),a.f.assertValue(Z,"sectionName"),a.f.assertValue(X,"filterName"),a.f.assertValue(Ve,"podType");var ke=z(Q,Z,g.zm.Default,g.PD.Default);ke.parameters||(ke.parameters=[]);var Ue={name:t.q.generateUniqueId(_.zipObject(_.map(ke.parameters,ot=>ot.name),_.map(ke.parameters,()=>!0))),boundFilter:X,fieldExpr:re,asAggregation:te,isLegacySingleSelection:se};ke.parameters.push(Ue),(null==ke.type||ke.type===g.yi.Default)&&Ve!==g.yi.Default&&(ke.type=Ve)}function f(Q,Z,X,re){a.f.assertValue(Z,"sectionName"),a.f.assertValue(X,"filterName");var te=w(Q,Z);if(te>-1){var se=Q.pods[te],Ve=K(se,X);Ve>-1&&(se.parameters.splice(Ve,1),J(Q,te,re,!0))}}function b(Q,Z,X,re){a.f.assertValue(Q,"exploration"),a.f.assertValue(Z,"sectionName"),a.f.assertValue(X,"filterName");var te=w(Q,Z);if(te>-1){var se=Q.pods[te],Ve=K(se,X);Ve>-1&&(se.parameters[Ve].asAggregation=re)}}function V(Q,Z,X){a.f.assertValue(Z,"sectionName"),a.f.assertValue(X,"filterName");var re=w(Q,Z);return-1!==re&&-1!==K(Q.pods[re],X)}function T(Q,Z,X,re){a.f.assertValue(Z,"sectionName");var te,se=w(Q,Z);(-1!==se||X)&&(-1===se?(te=H(Q,Z,g.zm.Default,g.PD.Default),se=Q.pods.length-1):te=Q.pods[se],te.cortanaEnabled=X,J(Q,se,re,!0))}function P(Q,Z){if(Q&&Q.pods){var re=_.findIndex(Q.pods,te=>te.name===Z);if(-1!==re)return re}}function D(Q,Z,X,re,te){a.f.assertValue(Q,"exploration"),a.f.assertValue(Z,"newSection"),a.f.assertValue(re,"linguisticSchemaProxy"),a.f.assert(()=>X<=Q.sections.length,"Expected target index should be less than or equals sections length.");var se=w(Q,Q.sections[X].name);if(-1===se)return te.resolve();var Ve=Q.pods[se],Ue=H(Q,Z.name,Ve.referenceScope,void 0!==Ve.config?Ve.config.acceptsFilterContext:g.PD.Default);return Ue.cortanaEnabled=Ve.cortanaEnabled,Ue.parameters=_.cloneDeep(Ve.parameters),Ue.type=Ve.type,function(Q,Z,X,re,te){return te.get(Q,re.name).then(se=>{var Ve=se&&se.words.slice();_.isEmpty(Ve)||(Ve.shift(),Ve.unshift(Z.displayName),te.set(Q,X.name,Ve))})}(Q.reportId,Z,Ue,Ve,re)}function w(Q,Z){return a.f.assertValue(Z,"sectionName"),Q&&Q.pods?_.findIndex(Q.pods,X=>X.boundSection===Z):-1}function M(Q,Z){var X=w(Q,Z);if(-1!==X)return Q.pods[X]}function A(Q,Z,X){a.f.assertValue(Q,"exploration"),a.f.assertValue(Z,"sectionName"),a.f.assertValue(X,"acceptsFilterContextKind");var re=M(Q,Z);if(!re&&X!==g.PD.Default&&(re=H(Q,Z,g.zm.Default,X)),re){if(null==re.config)return void(re.config={acceptsFilterContext:X});re.config.acceptsFilterContext!==X&&(re.config.acceptsFilterContext=X)}}function R(Q,Z,X){a.f.assertValue(Q,"exploration"),a.f.assertValue(Z,"sectionName"),a.f.assertValue(X,"referenceScope");var re=M(Q,Z);!re&&X!==g.zm.Default&&(re=H(Q,Z,X,g.PD.Default)),re&&null!=X&&re.referenceScope!==X&&(re.referenceScope=X)}function B(Q,Z){if(!Q||!Z)return!0;var X=M(Q,Z.name);return!X||!X.config||X.config.acceptsFilterContext===g.PD.Default}function N(Q,Z){if(!Q||!Z)return!1;var X=M(Q,Z.name);return!(!X||!X.config)&&(0,n.i)(X.type,X.parameters)}function W(Q,Z){if(!Q||!Z)return!1;var X=M(Q,Z.name);return!!X&&X.referenceScope===g.zm.CrossReport}function F(Q){return Q?g.zm.CrossReport:g.zm.Default}function U(Q){return Q?g.PD.Default:g.PD.None}function O(Q,Z){return a.f.assertValue(Q,"section"),!Z&&(Q.type===g.bA.Regular||null==Q.type)||Z&&Q.type===g.bA.Drillthrough?g.yi.Drillthrough:Q.type===g.bA.Tooltip?g.yi.Tooltip:g.yi.Default}function x(Q,Z,X){if(!Q||!Z)return!1;var re=M(Q,Z.name);if(!re||_.isEmpty(re.parameters))return!1;var te=K(re,X.name);return-1!==te&&re.parameters[te].asAggregation}function I(Q,Z){return Z&&Z.scopeType===l.Gy.Section&&p.l.isCategoricalFilter(Q.type)&&!Q.isTransient}function L(Q,Z,X){a.f.assertValue(Q,"exploration"),a.f.assertValue(Z,"sectionName");var re=w(Q,Z);if(-1!==re){var te=Q.pods[re];_.isEmpty(te.parameters)&&(te.type=g.yi.Default),te.type=X}}function K(Q,Z){return a.f.assertValue(Z,"filterName"),Q&&Q.parameters?_.findIndex(Q.parameters,X=>X.boundFilter===Z):-1}function z(Q,Z,X,re){return a.f.assertValue(re,"acceptsFilterContextKind"),M(Q,Z)||H(Q,Z,X,re)}function H(Q,Z,X,re){a.f.assertValue(Q,"exploration"),a.f.assertValue(Z,"sectionName"),Q.pods||(Q.pods=[]);var te={name:G(Q.pods),boundSection:Z,parameters:[],type:g.yi.Default,referenceScope:X,config:{acceptsFilterContext:re}};return Q.pods.push(te),a.f.assert(()=>(0,i.iv)(Q.pods),"pod names must be unique"),te}function J(Q,Z,X,re){var te=Q.pods[Z];_.isEmpty(te.parameters)&&(te.type=g.yi.Default),!te.cortanaEnabled&&_.isEmpty(te.parameters)&&te.config.acceptsFilterContext===g.PD.Default&&te.referenceScope===g.zm.Default&&(re?X.get(Q.reportId,te.name).then(se=>{(!se||_.isEmpty(se.words))&&k(Q,Z)}):k(Q,Z))}function k(Q,Z){Q.pods.splice(Z,1),0===Q.pods.length&&(Q.pods=void 0)}function G(Q){var Z=_.map(Q,re=>re.name),X=_.zipObject(Z,_.map(Z,()=>!0));return t.q.generateUniqueId(X)}},747563:function(ve,j,e){function r(t){var l={};for(var g of t.sections)for(var n of(l[g.name]={},g.visualContainers))if(n.config.singleVisual){var p=n.config.singleVisual;l[g.name][n.name]={visualType:p.visualType,autoSelectVisualType:p.autoSelectVisualType,projections:p.query?i(p.query,!0):void 0}}return l}function i(t,l){var g={},n=t.defn.select();if(!n)return g;for(var p in t.projections){var s=t.projections[p];if(s){g[p]=[];for(var d=s.all(),o=0;o<d.length;o++){var v=s.convertProjectionIndexToFieldIndex(o),m=n.withName(d[o].queryRef);m&&(s.doesParameterExist(v)||l)?g[p].push(m.expr):g[p].push(null)}}}return g}function a(t){var g;if(!t.defn.select())return g;for(var n in t.projections){var p=t.projections[n];if(p){var s=_.sortBy(p.getFieldParameters(),c=>c.index);if(!_.isEmpty(s))for(var d of(g||(g={}),g[n]=[],s)){var{expr:o,index:v,length:m}=d;g[n].push({expr:o,index:v,length:m})}}}return g}e.d(j,{Jc:function(){return r},rl:function(){return i},xF:function(){return a}})},30797:function(ve,j,e){e.d(j,{o:function(){return a}});var r=e(882924),i=e(650543);class a{constructor(l){this.container=l,this.context={pendingGeocodingCount:0}}newQuery(l){var g=0!==this.context.pendingGeocodingCount,n=this.context.geocodingActivity;this.context={pendingGeocodingCount:0,rootActivity:l},g&&(n&&n.cancel(!0),this.container.onStopGeocoding())}hasPendingGeocoding(){return this.context.pendingGeocodingCount>0}wrapGeocoder(l){return{geocode:this.wrapAsyncGeocoderMethod(l,l.geocode),geocodeBoundary:this.wrapAsyncGeocoderMethod(l,l.geocodeBoundary),geocodePoint:this.wrapAsyncGeocoderMethod(l,l.geocodePoint),geolocation:this.wrapAsyncGeocoderMethod(l,l.geolocation),tryGeocodeImmediate:(g,n,p,s,d,o)=>l.tryGeocodeImmediate(g,n,p,s,d,o),tryGeocodeBoundaryImmediate:(g,n,p,s,d)=>l.tryGeocodeBoundaryImmediate(g,n,p,s,d),getResolvedIsoCode:()=>l.getResolvedIsoCode()}}wrapAsyncGeocoderMethod(l,g){return(...n)=>{var p=this.context,s=g.apply(l,n);1==++p.pendingGeocodingCount&&(this.context.rootActivity&&(this.context.geocodingActivity=this.context.rootActivity.createChildActivity({name:r.R.Geocoding})),this.container.onStartGeocoding());var d=()=>{p===this.context&&--p.pendingGeocodingCount<=0&&(i.f.assert(()=>0===p.pendingGeocodingCount,"requestContext.pendingGeocodingCount underflow"),this.context.geocodingActivity&&this.context.geocodingActivity.resolve(),this.container.onStopGeocoding())};return s.then(d,d),s}}}},724452:function(ve,j,e){e.d(j,{KI:function(){return i},cI:function(){return a},pp:function(){return r}});var r=function(t){return t.AlertCreationRequested="AlertCreationRequested",t.AlertCreationInProgress="AlertCreationInProgress",t.AlertCreationCompleted="AlertCreationCompleted",t}({}),i=function(t){return t[t.PBIToolbar=0]="PBIToolbar",t[t.VisualContextMenu=1]="VisualContextMenu",t[t.VisualRightClickMenu=2]="VisualRightClickMenu",t[t.VisualAlertButton=3]="VisualAlertButton",t[t.VisualFollowButton=4]="VisualFollowButton",t[t.PBIToolbarV2=5]="PBIToolbarV2",t[t.VisualContextMenuV2=6]="VisualContextMenuV2",t[t.VisualRightClickMenuV2=7]="VisualRightClickMenuV2",t[t.VisualAlertButtonV2=8]="VisualAlertButtonV2",t[t.TrialProvisioningV2=9]="TrialProvisioningV2",t}({});class a{static getReflexPaneState(){return this.reflexPaneState}static setReflexPaneState(l=void 0){this.reflexPaneState=l}static getReflexPaneEntryPoint(){return this.reflexPaneEntryPoint}static setReflexPaneEntryPoint(l=void 0){this.reflexPaneEntryPoint=l}static getSelectedArtifactId(){return this.selectedArtifactId}static setSelectedWorkspaceId(l=void 0){this.selectedWorkspaceId=l}static getSelectedWorkspaceId(){return this.selectedWorkspaceId}static setSelectedArtifactId(l=void 0){this.selectedArtifactId=l}static isAlertSupportedVisual(l){return["columnChart","dataDotStackedColumnComboChart","hundredPercentStackedColumnChart","lineStackedColumnComboChart","clusteredColumnChart","dataDotClusteredColumnComboChart","lineClusteredColumnComboChart","barChart","hundredPercentStackedBarChart","clusteredBarChart","ribbonChart","lineChart","realTimeLineChart","areaChart","stackedAreaChart","hundredPercentStackedAreaChart","pieChart","donutChart","gauge","card","kpi","map","filledMap","azureMap","tableEx","pivotTable","treemap","funnel","decompositionTreeVisual","multiRowCard","cardVisual"].includes(l)}}},868258:function(ve,j,e){e.d(j,{Hg:function(){return t},Wt:function(){return p},eI:function(){return g},oo:function(){return l},x_:function(){return a},yf:function(){return n}});var r=e(650543),i=e(216070);function a(s,d,o){return(0,i.x_)(s,d,o)}function t(s,d,o){var v=g(s);return(0,i.NM)(v,d,o)}function l(s){var d=s.publicCustomVisuals;return d||(s.publicCustomVisuals=d=[]),d}function g(s){var d=s.resourcePackages;return d||(s.resourcePackages=d=[]),d}function n(s,d){if(!_.isEmpty(d)&&!_.isEmpty(s))for(var o of d){var v=(0,i.pd)(s,o.type,o.name);if(v)for(var m of(r.f.assertValue(v.id,"ID should exist in new resource package"),o.id=v.id,o.items)){var c=(0,i.NW)(v,m.name);c&&(r.f.assertValue(c.id,"ID should exist in new resource package item"),m.id=c.id)}}}function p(s,d){r.f.assert(()=>!!s,"synchronizeExplorationV2Packages - newPackages should be defined"),d.resourcePackages=[...s]}},922181:function(ve,j,e){e.d(j,{$:function(){return o},v:function(){return p}});var r=e(60978),i=e(426313),a=e(984375),t=e(650543),l=e(810331),g=e(442407),n=e(247425);function p(m){t.f.assertValue(m,"changes");var c=[],C=function(S){S.measureMove&&c.push(new o((0,a.dq)(S.measureMove))),S.entityRename&&c.push(new o((0,a.Db)(S.entityRename))),S.propertyRename&&c.push(new o((0,a.Tq)(S.propertyRename))),S.hierarchyLevelRename&&c.push(new o((0,a.Ui)(S.hierarchyLevelRename))),S.removeVariation&&c.push(new v(new d(S.removeVariation),S.removeVariation)),S.newMeasureCreated&&_.find(m,function(h){return h.itemDelete&&h.itemDelete.property===S.newMeasureCreated.name&&h.itemDelete.entity===S.newMeasureCreated.entity&&h.itemDelete.schema!==S.newMeasureCreated.schema})&&c.push(new o((0,a.if)(S.newMeasureCreated)))};for(var y of m)C(y);return c}function s(m,c){t.f.assertValue(m,"expr");var C=(0,l.Q)(m);return C.columnHierarchyLevelVariation&&C.columnHierarchyLevelVariation.source.entity===c.entity&&C.columnHierarchyLevelVariation.source.schema===c.schema&&C.columnHierarchyLevelVariation.source.name===c.property&&C.columnHierarchyLevelVariation.variationName===c.name}class d extends n.b{constructor(c){t.f.assertValue(c,"change"),super(),this.change=c}visitHierarchyLevel(c){return s(c,this.change)?new g.Wh(new g.PN(this.change.schema,this.change.entity),this.change.property):c}}class o{constructor(c){this.exprRewriter=c}rewriteQuery(c){var C=c.defn;C=C.rewrite(this.exprRewriter),c.defn=C,c.expansionStates=_.map(c.expansionStates,h=>h.rewrite(this.exprRewriter));var y=c.getQueryFieldParameters();if(!_.isEmpty(y))for(var S of y)S.expr=S.expr.accept(this.exprRewriter);return c}rewriteFilter(c){return c.rewrite(this.exprRewriter)}rewriteExpr(c){return c.accept(this.exprRewriter)}}class v{constructor(c,C){this.exprRewriter=c,this.change=C}rewriteQuery(c){this.removeDuplicateSQHierarchyLevelExpr(c);var C=c.defn;return C=C.rewrite(this.exprRewriter),c.defn=C,c.expansionStates=_.map(c.expansionStates,y=>y.rewrite(this.exprRewriter)),c}rewriteFilter(c){return c.rewrite(this.exprRewriter)}rewriteExpr(c){return c.accept(this.exprRewriter)}removeDuplicateSQHierarchyLevelExpr(c){for(var C=c.defn.select(),y=0;y<C.length;){var S=C[y];if(y++,(0,r.ez)(S.expr)&&s(S.expr,this.change))for(;y<C.length&&(0,r.ez)(C[y].expr)&&(0,i.fS)(S.expr.arg,C[y].expr.arg);)c.removeExpr(C[y].expr,!1),y++}}}},67471:function(ve,j,e){e.d(j,{OV:function(){return g},R2:function(){return l},aG:function(){return a},kV:function(){return t},lX:function(){return n}});var r=e(104816);function a(s,d){var o=[];if(!s||!s.visualContainers)return o;for(var v of s.visualContainers)d.addScriptVisualInfo(v,o);return o}function t(s,d){var o={totalVisualsCount:0,info:[]};if(!s||!s.sections)return o;for(var v of s.sections)if(v.visualContainers){var m=a(v,d);o.info=o.info.concat(m),o.totalVisualsCount+=v.visualContainers.length}return o}function l(s,d,o,v,m){var c=[];switch(s){case r.Gy.Visual:if(!v)return c;m.addScriptVisualInfo(v,c);break;case r.Gy.Section:c=a(o,m);break;case r.Gy.Exploration:if(!d)return c;for(var C of d.sections){var y=a(C,m);c=c.concat(y)}break;default:return c}return c}function g(s,d){for(var o of s)if(o&&o.config&&o.config.singleVisual){var v=o.config.singleVisual.visualType;if(v&&d.isScriptVisual(v))return!0}return!1}function n(s){switch(s){case"scriptVisual":return r.dE.RScript;case"pythonVisual":return r.dE.PythonScript;default:return null}}},866646:function(ve,j,e){e.d(j,{X:function(){return s},eN:function(){return l},gs:function(){return p},sk:function(){return g},x8:function(){return n}});var r=e(650543),i=e(324569),a=e(475507),t=e(661214);function l(d){return r.f.assertValue(d,"section"),!!d.dynamicConfig?.quickExplore}function g(d){return _.some(d,o=>l(o))}function n(d){var o=d?.dynamicConfig?.quickExplore?.layout;if(o){if(o.combination)return`Combination.${o.combination.version}`;if(o.related)return`Related.${o.related.version}`}}function p(d,o){var v=_.flatMap(o,m=>m.visualContainerGroups);_.isEmpty(v)||(0,a.Iw)(d.visualContainerGroups,m=>{var c=(0,t.yZ)(v);m.name=c,v.push(m)})}function s(d){function o(m,c){var C=c.howCreated??i.RT.Default;m[C]||(m[C]=0),m[C]++}return r.f.assertValue(d,"sections"),function(){var m={};for(var c of d)o(m,c);return m}()}},989831:function(ve,j,e){e.d(j,{W:function(){return i}});var r=e(60978);class i{constructor(t){this.key=[],this.value=[],this.comparer=t}add(t,l){this.key.push(t),this.value.push(l)}get(t){if((0,r.ez)(t))for(var l=0;l<this.key.length;l++)if(this.comparer(this.key[l],t))return this.value[l]}}},791520:function(ve,j,e){e.d(j,{DC:function(){return P},Mi:function(){return T},TO:function(){return b},Ts:function(){return A},Xf:function(){return M},hJ:function(){return N}});var r=e(167165),i=e(574633),a=e(650543),t=e(719242),l=e(461361),g=e(76395),n=e(906927),p=e(691519),s=e(572599),d=e(119322),o=e(557134),v=e(861661),m=e(230343),c={AccessibleDefault:"BuiltInReportThemeAccessibleDefault",AccessibleCityPark:"BuiltInReportThemeAccessibleCityPark",AccessibleTidal:"BuiltInReportThemeAccessibleTidal",AccessibleNeutral:"BuiltInReportThemeAccessibleNeutral",AccessibleOrchid:"BuiltInReportThemeAccessibleOrchid",Default:"Default",Bloom:"BuiltInReportThemeBloom",CityPark:"BuiltInReportThemeCityPark",Classic:"BuiltInReportThemeClassic",Classroom:"BuiltInReportThemeClassroom",ColorblindSafe:"BuiltInReportThemeColorblindSafe",Divergent:"BuiltInReportThemeDivergent",Electric:"BuiltInReportThemeElectric",NewExecutive:"BuiltInReportThemeExecutive",Frontier:"BuiltInReportThemeFrontier",HighContrast:"BuiltInReportThemeHighContrast",Highrise:"BuiltInReportThemeHighrise",Innovate:"BuiltInReportThemeInnovate",Solar:"BuiltInReportThemeSolar",Storm:"BuiltInReportThemeStorm",Sunset:"BuiltInReportThemeSunset",Temperature:"BuiltInReportThemeTemperature",Tidal:"BuiltInReportThemeTidal",Twilight:"BuiltInReportThemeTwilight"},C="CY18SU07",y="CY24SU10",S={CY17SU10:s.H3n.v3_6,CY17SU12:s.H3n.v3_7,CY18SU04:s.H3n.v3_12,CY18SU07:s.H3n.v3_15,CY19SU06:s.H3n.v5_3,CY19SU12:s.H3n.v5_6,CY20SU07:s.H3n.v5_13,CY20SU09:s.H3n.v5_15,CY21SU02:s.H3n.v5_18,CY21SU03:s.H3n.v5_19,CY21SU04:s.H3n.v5_20,CY21SU07:s.H3n.v5_24,CY21SU11:s.H3n.v5_27,CY22SU03:s.H3n.v5_30,CY22SU08:s.H3n.v5_35,CY22SU09:s.H3n.v5_37,CY22SU11:s.H3n.v5_40,CY23SU04:s.H3n.v5_43,CY23SU08:s.H3n.v5_47,CY23SU11:s.H3n.v5_49,CY24SU02:s.H3n.v5_51,CY24SU05:s.H3n.v5_54,CY24SU06:s.H3n.v5_55,CY24SU08:s.H3n.v5_57,CY24SU10:s.H3n.v5_59},h="Classic",E="Default",f=["Classic","CityPark","Classroom","ColorblindSafe","Electric","HighContrast","Sunset","Twilight"];function b(W){return a.f.assertValue(W,"baseThemeName should exist to get its version"),S[W]||s.H3n.v3_6}function T(W,F,U,O){return(0,i.M)(W,F,U||p.L,O)}function P(W){return{name:W&&W.featureSwitches&&W.featureSwitches.useNewCY19SU06BaseTheme?y:C,version:p.L,type:r.v.SharedResources}}function M(W,F,U){var O=W.themeCollection,I=W.objects,L=F.getVisualObjects(O,g.rw,void 0,n.W);L&&(I=(0,t.d9)(I||{}),(0,t.l7)(I,L));var K=F.getVisualStyle(O),z=(0,l.G3)(I,n.W,K,U);W.evaluatedObjects=z.dataViewObjects}function A(W,F,U,O,x,I=!1){I&&x.transientUserSetTheme&&((x=_.cloneDeep(x)).customTheme=x.transientUserSetTheme);var L=W.getVisualStyle(x),K=W.getVisualObjects(x,g.HI,void 0,v.C),z={};K&&(0,t.l7)(z,K),U[O]&&URL.revokeObjectURL(U[O]);var H=(0,l.G3)(z,v.C,L,F.featureSwitches),J=(0,m.NA)(H.dataViewObjects,{objectName:"outspace",propertyName:"image"}),k=(0,m.NA)(H.dataViewObjects,{objectName:"background",propertyName:"image"}),G=k&&k.url||J&&J.url;if(G&&_.startsWith(G,"data:")&&(G=U[O]=function(W){for(var[F,U]=W.split(","),O=F.split(":")[1].split(";")[0],x=atob(U),I=[],L=0;L<x.length;L++)I.push(x.charCodeAt(L));return URL.createObjectURL(new Blob([new Uint8Array(I)],{type:O}))}(G)),x.highContrastTheme){var q=x.highContrastTheme;delete x.highContrastTheme,L=W.getVisualStyle(x),x.highContrastTheme=q}return function(W){var F=W.palette,U=W.backgroundUrl&&`url(${W.backgroundUrl})`,O=U?F.background.value:F.foreground.value;return{root:["highContrastDisabled",{...U&&{backgroundImage:U,backgroundClip:"content-box"},selectors:{".BackgroundFill":U?{fillOpacity:0}:{fill:F.background.value},".BackgroundStroke":{fill:F.foreground.value},".Letter_1":{fill:O},".Letter_2":{fill:O},".Bar_1":{fill:F.dataColors.getColorByIndex(0).value},".Bar_2":{fill:F.dataColors.getColorByIndex(1).value},".Bar_3":{fill:F.dataColors.getColorByIndex(2).value},".Bar_4":{fill:F.dataColors.getColorByIndex(3).value},".Bar_5":{fill:F.dataColors.getColorByIndex(4).value},".Bar_6":{fill:F.dataColors.getColorByIndex(5).value},".Bar_7":{fill:F.dataColors.getColorByIndex(6).value},".Bar_8":{fill:F.dataColors.getColorByIndex(7).value}}}]}}({id:O,palette:L.colorPalette,backgroundUrl:G})}function N(W,F,U,O,x,I){var L=F.getCurrentExploration();if(!L)return Promise.resolve([]);var K=P(W),z={name:C,version:S[C],type:r.v.SharedResources},H={};f.forEach(G=>H[G]=!0);var J=Object.keys(c).map(G=>{if(G===E)return U.add(K.name,r.v.SharedResources,o.Ut.BaseTheme),{themeName:G,metadata:K,themeCollection:{baseTheme:K}};if(G===h)return U.add(z.name,r.v.SharedResources,o.Ut.BaseTheme),{themeName:G,metadata:z,themeCollection:{baseTheme:z}};var q=T(G,r.v.SharedResources);return U.add(q.name,r.v.SharedResources,o.Ut.CustomTheme),{themeName:G,metadata:q,themeCollection:{baseTheme:H[G]?z:K,customTheme:q}}}),k=J.map(G=>d.P.loadTheme(r.v.SharedResources,I,O,x,L.resourcePackages,G.metadata.name));return Promise.all(k).then(()=>J)}},373751:function(ve,j,e){e.d(j,{L7:function(){return S},OB:function(){return m},hQ:function(){return c},mZ:function(){return h}});var r=e(60978),i=e(426313),a=e(138620),t=e(490881),l=e(650543),g=e(301336),n=e(630881),p=e(951202),s=e(87072),d=e(719242),o=e(442407),v=e(509247);function m(w,M,A,R,B){if(l.f.assertAnyValue(M,"mappings"),l.f.assertValue(A,"query"),l.f.assertValue(R,"transformPluginService"),l.f.assertValue(B,"visualCapabilities"),!w)return A;var N=[],W=B.objects,F=function(K){var z=W[K],H=function(k){if(z.properties[k].type.queryTransform){var G=_.filter(w[K],q=>function(w,M){if(!w.selector||!_.isString(w.selector.metadata))return!0;var A=M.projections;if(!A)return!1;for(var R in A){var B=A[R];if(B){var N=B.all();if(N)for(var W of N)if(W.queryRef===w.selector.metadata)return!0}}return!1}(q,A));N.push(..._.map(G,q=>({objectName:K,propertyName:k,object:q})))}};for(var J in z.properties)H(J)};for(var U in W)F(U);if(_.isEmpty(N))return A;var O=A.clone();for(var x of N){var I=(0,d.NA)(w,{objectName:x.objectName,propertyName:x.propertyName},x.object.selector);if(I&&C(I.algorithm,M)){var L=R.getTransformPlugin(I.algorithm);O.addTransform(L,I.parameters,B)}}return O}function c(w,M,A){l.f.assertValue(w,"transformPluginService"),l.f.assertValue(M,"query"),l.f.assertAnyValue(A,"compiledMappings");var R=M.defn.transforms();if(_.isEmpty(R))return M;var B=M.clone();for(var N of R)if(!C(N.algorithm,A)){var W=w.getTransformPlugin(N.algorithm);B.removeTransform(W,N.name)}return B}function C(w,M){switch(w){case a.Gr.Forecast.name:return M.some(A=>(0,s.ZZ)(A));case a.Gr.SampleAndDetectAnomaly.name:return M.some(A=>(0,s.VO)(A));default:return!0}}function S(w,M,A,R,B,N,W){l.f.assertValue(M,"query"),l.f.assertAnyValue(R,"dataRoles"),l.f.assertValue(B,"queryRefsByRole"),l.f.assertAnyValue(N,"additionalProjections"),l.f.assertValue(W,"compiledMappings");var F=M.transforms();if(_.isEmpty(F))return M;var U=M.select();if(_.isEmpty(U))return M;for(var{transformSelects:O,topLevelSelects:x}=function(w,M,A,R,B){l.f.assertValue(w,"query"),l.f.assertValue(M,"projections"),l.f.assertAnyValue(A,"dataRoles"),l.f.assertValue(R,"queryRefsByRole"),l.f.assertAnyValue(B,"additionalProjections");var N=[],W=[],F=w.select(),U=function(I){if((0,r.Im)(I.expr))return N.push(I),0;var L=Object.keys(R),K=_.filter(L,k=>_.includes(R[k],I.name));if(!_.isEmpty(K)){var z=!1;for(var H of K)if(!M[H].activeProjectionRefs||_.includes(M[H].activeProjectionRefs,I.name)){N.push(I),z=!0;break}return z||W.push(I),0}if(!_.isEmpty(B)){var J=_.find(B,k=>k.queryName===I.name);J&&J.selector&&J.selector.data?N.push(I):W.push(I)}};for(var x of F)U(x);return{transformSelects:N,topLevelSelects:W}}(M,A,R,B,N),I=[],L=0;L<F.length;L++){var K=F[L],z=w.getTransformPlugin(K.algorithm),H="input"+L,J="output"+L;K.input.parameters=D(K.input.parameters,W);var k={algorithm:K.algorithm,name:K.name,input:{parameters:K.input.parameters,table:{name:H,columns:u(O,B,R,z,W)}},output:{table:{name:J,columns:b(O,H,A)}}};O=_.map(k.output.table.columns,te=>{var se=(0,o.Oh)((0,o.GB)(J),te.expression.name);return{name:te.expression.name,expr:se}}),I.push(k)}var Q,G=_.last(I),q=M.orderBy();G&&!_.isEmpty(q)&&(Q=_.map(q,te=>{var se=_.find(U,ke=>(0,i.fS)(ke.expr,te.expr));l.f.assertValue(se,"orderby clause not found in selects");var Ve=(0,o.Oh)((0,o.GB)(G.output.table.name),se.name);return{direction:te.direction,expr:Ve}}));var Z=M.transforms(I);if(!_.isEmpty(x)){var X=function(te){var se=_.findIndex(U,Ve=>Ve.name===te.name);l.f.assert(()=>se>=0,"Should be able to find the select in topLevelSelects"),O.splice(se,0,te)};for(var re of x)X(re)}return Z=Z.select(O),Q&&(Z=Z.orderBy(Q)),Z}function h(w,M){if(l.f.assertValue(w,"query"),_.isEmpty(w.transforms())||_.isEmpty(w.select()))return w;var A=[];return _.map(w.select().slice(0,M),R=>{if((0,r.t3)(R.expr)&&(0,r.PA)(R.expr.source)){var B=R.expr.source.source,N=_.find(w.transforms(),F=>F.output.table?.name===B);if(N){var W=function(w,M){l.f.assertValue(w,"sqTransform"),l.f.assertValue(w.output.table,"sqTransform.output.table"),l.f.assertValue(M,"refToOutputColumn");var A=_.find(w.output.table.columns,N=>N.expression.name===M.ref);if(A){var R=A.expression.expr;if((0,r.t3)(R)){var B=_.find(w.input.table?.columns,N=>N.expression?.name===R.ref);return B?.expression.expr}}}(N,R.expr);W&&!(0,r.Im)(W)&&A.push({name:R.name,expr:W})}}else A.push(R)}),w.createModified({select:A,transforms:null})}function u(w,M,A,R,B){l.f.assertValue(w,"selects"),l.f.assertValue(M,"queryRefsByRole"),l.f.assertAnyValue(A,"dataRoles"),l.f.assertValue(R,"transformPlugin"),l.f.assertValue(B,"compiledMappings");var N=_.filter(w,F=>!(0,r.Im)(F.expr)),W=function(w){var M,A;for(var R of w){if(R.categorical){var N=R.categorical.categories;_.isEmpty(N)||(0,p.Sr)(N,{visitRole:W=>{var F=_.find(W.items,U=>U.scalarKeyInfo?.scalarKeyMinProperty);F&&(M=W.role,A=F.scalarKeyInfo.scalarKeyQueryName)}})}if(M&&A)return{roleName:M,queryName:A}}}(B);return _.map(N,F=>function(w,M,A,R,B){var N=Object.keys(A),W=w.name===M?.queryName,F=W?M.roleName:_.find(N,x=>_.includes(A[x],w.name)),U=_.find(R,x=>x.name===F);return{role:(null==M?null!=U:W||null!=F&&F!==M.roleName)?P(w.expr,B,U):void 0,expression:w}}(F,W,M,A,R))}function b(w,M,A){l.f.assertValue(w,"selects"),l.f.assertValue(M,"inputTableName"),l.f.assertValue(A,"projections");var R={};for(var B of w)(0,r.Im)(B.expr)||(R[B.name]=!0);return _.map(w,N=>{var W,F,U;if((0,r.Im)(N.expr)){var O;for(var x in A){var I=A[x].all();_.some(I,L=>L.queryRef===N.name)&&(O=x)}l.f.assertValue(O,"should be able to find the role in projections"),W=O,F=N.expr,U=(0,g.zE)(R,N.name)}else F=(0,o.Oh)((0,o.GB)(M),N.name),U=N.name;return{role:W,expression:{name:U,expr:F}}})}function P(w,M,A){l.f.assertValue(M,"transform"),l.f.assertAnyValue(A,"visualDataRole");var R=_.find(M.inputRoles,B=>{l.f.assertValue(B,"transform.inputRoles should not contain undefined/null roles");var N=B.visualDataRoleMatching;return!N||!(void 0!==N.cartesianKind&&N.cartesianKind!==A.cartesianKind||void 0!==N.matchGrouping&&N.matchGrouping===(0,v.k)(w)||void 0!==N.matchMeasure&&N.matchMeasure!==(0,v.k)(w)||N.skipJoinPredicateNone&&A.joinPredicate===n.ps.None)});if(R)return R.name}function D(w,M){l.f.assertValue(w,"parameters"),l.f.assertValue(M,"compiledMappings");var A=_.find(M,N=>(0,s.VO)(N));if(A){var R=A.categorical.dataReductionAlgorithm.binnedLineSample.warningCount,B=t.oN;R&&!_.find(w,N=>N.name===B)&&w.push({name:B,expr:(0,o.cA)(R)})}return w}},883984:function(ve,j,e){e.d(j,{L:function(){return a}});var r=e(442407),i=e(247425);class a extends i.b{constructor(l){super(),this.schema=l}visitEntity(l){var g=this.getVariationMapping(l);return g?new r.PN(l.schema,g.sourceEntity.name):l}visitColumnRef(l){var g=l.source.accept(this);if(g!==l.source){var n=this.getVariationMapping(l.source);if(n){var p=_.find(n.variation.defaultHierarchy.levels,s=>s.column.name===l.ref);if(p)return new r.vD(new r.jE(new r.c7(g,n.variation.name,n.sourceProperty.name),n.variation.defaultHierarchy.name),p.name)}}return l}getVariationMapping(l){var g=this.schema.schema(l.schema).findVariationToHierarchyMappings(l.entity);if(g)return _.last(g)}}},746375:function(ve,j,e){e.d(j,{MF:function(){return A},Me:function(){return u},Nu:function(){return R},Oe:function(){return E},SZ:function(){return B},V:function(){return h},Vd:function(){return S},YN:function(){return f},cf:function(){return w},sS:function(){return m},vw:function(){return W}});var r=e(990297),i=e(650543),a=e(553962),t=e(191282),l=e(719242),g=e(482693),n=e(402623),p=e(532370),s=e(29706),d=e(442407),o=e(428776),v=e(436043);function m(F,U){if(i.f.assertAnyValue(F,"dataSelectors"),_.isEmpty(F))return F;var O=(0,r.UU)(F,x=>(0,t.yN)(x)?c(x,U):(0,t.QV)(x)?function(F,U){i.f.assertValue(F,"scopeWildcard");var O=(0,r.UU)(F.exprs,x=>A(x,U));return O!==F.exprs?(0,s.ms)(O):F}(x,U):(0,t.j9)(x)||(0,t.qm)(x)?x:(0,t.tQ)(x)?function(F,U){i.f.assertValue(F,"scopeTotal");var O=(0,r.UU)(F.exprs,x=>A(x,U));return O!==F.exprs?(0,p.ms)(O):F}(x,U):(i.f.assertFail("Unknown selector type"),x));return O}function c(F,U){i.f.assertValue(F,"scopeIdentity");var O=A(F.expr,U);return O!==F.expr?(0,n.TZ)(O):F}function S(F,U){}function h(F,U){D(F,U)}function E(F,U){D(F,U)}function u(F,U,O){i.f.assertValue(F,"objects"),i.f.assertValue(U,"descriptors");var x=(0,g.MD)(U);if(x){var I=(0,l.ug)(F,x,null);if(I){var L=x.propertyName,K=I[L];if(K){for(var z of O)K=z.rewriteFilter(K);I[L]=K}}}}function f(F,U,O){function x(H){var J=I(H.value);return{textStyle:H.textStyle,url:H.url,value:J,mentionEmail:H.mentionEmail}}function I(H){var J=H;return J instanceof d.Il&&(J=z(J,O)),J}function K(H){return{textRuns:_.map(H.textRuns,k=>x(k))}}function z(H,J){for(var k of(i.f.assertNonEmpty(J,"rewriters"),i.f.assertValue(H,"rewriters"),J))H=k.rewriteExpr(H);return H}F&&U&&!_.isEmpty(O)&&(0,l.rQ)(F,U,(H,J,k,G,q)=>{var Q=q&&q.properties[J],Z=H[J];if(Z instanceof d.Il)for(var X of O)Z=X.rewriteExpr(Z);else if((0,l.er)(Z))for(var re of O){if(!_.isEmpty(Z.context?.filterContext))for(var te of Z.context.filterContext)te.filter=re.rewriteFilter(te.filter);Z.value=re.rewriteExpr(Z.value)}else{var se=Q.type;if(se.fill&&se.fill.solid&&se.fill.solid.color){if(!(0,v.X2)(Z))return;var Ve=Z.solid.color;if(!Ve)return;var ke=Ve;(Ve=z(Ve,O))!==ke&&(Z={solid:{color:Ve}})}else if(se.paragraphs){if(!(0,v.Fq)(Z)||!function(F,U){for(var O of F){var x=O.textRuns;for(var I of x)if((0,o.IM)(I)){if(V(I.value,U))return!0}else if((0,o.Kt)(I)){for(var L of I.cases)if(T(L,U))return!0;if(P(I.defaultCase,U)||V(I.expression,U))return!0}else i.f.assertNever(I)}return!1}(Z,O))return;Z=_.map(Z,Ne=>({horizontalTextAlignment:Ne.horizontalTextAlignment,textRuns:_.map(Ne.textRuns,Se=>{if((0,o.IM)(Se))return x(Se);if((0,o.Kt)(Se)){var Ie=_.map(Se.cases,Ee=>function(H){var J=H.pattern;return J instanceof d.Il&&(J=z(J,O)),{pattern:J,...K(H)}}(Ee));return{cases:Ie,defaultCase:K(Se.defaultCase),expression:I(Se.expression)}}i.f.assertNever(Se)})}))}else if(se.icon){if(!(0,v.r)(Z))return;var Ue={kind:a.q.Icon,value:Z.value?z(Z.value,O):Z.value,layout:Z.layout?z(Z.layout,O):Z.layout,verticalAlignment:Z.verticalAlignment?z(Z.verticalAlignment,O):Z.verticalAlignment};(Z.value!==Ue.value||Z.layout!==Ue.layout||Z.layout!==Ue.layout)&&(Z=Ue)}else if(se.errorRange){if(!(0,v.ZG)(Z))return;var ot={kind:a.q.ErrorRange};if(Z.explicit){var ft=Z.explicit,Ct=ot.explicit={isRelative:z(ft.isRelative,O)};ft.lowerBound&&(Ct.lowerBound=z(ft.lowerBound,O)),ft.upperBound&&(Ct.upperBound=z(ft.upperBound,O))}else if(Z.symmetricalExplicit)ot.symmetricalExplicit={delta:z(Z.symmetricalExplicit.delta,O)};else if(Z.standardDeviation){var Ke=Z.standardDeviation;ot.standardDeviation={value:z(Ke.value,O),multiplier:z(Ke.multiplier,O)}}else if(Z.percentage){var Ae=Z.percentage;ot.percentage={lowerBoundDelta:z(Ae.lowerBoundDelta,O),upperBoundDelta:z(Ae.upperBoundDelta,O)}}else if(Z.percentile){var we=Z.percentile;ot.percentile={lowerBound:z(we.lowerBound,O),upperBound:z(we.upperBound,O)}}Z=ot}}H[J]=Z})}function V(F,U){if(F instanceof d.Il){var O=F;for(var x of U)if((O=x.rewriteExpr(O))!==F)return!0}}function T(F,U){if(P(F,U)||V(F.pattern,U))return!0}function P(F,U){for(var O of F.textRuns)if(V(O.value,U))return!0}function D(F,U){var O=F.expression,x=F.filter,I=F.cachedValueItems;O&&(F.expression=A(O,U)),x&&(F.filter=function(F,U){return _.reduce(U,(O,x)=>x.rewriteFilter(O),F)}(x,U)),I&&w(I,U)}function w(F,U){for(var O of F){var x=c(O.identity,U);x!==O.identity&&(O.identity=x)}}function A(F,U){return _.reduce(U,(O,x)=>x.rewriteExpr(O),F)}function R(F,U){var O=F.fieldExpr;i.f.assertValue(O,"link field expression should always exist"),F.fieldExpr=A(O,U)}function B(F,U){if(!_.isEmpty(F.parameters))for(var O of F.parameters)O.fieldExpr&&(O.fieldExpr=A(O.fieldExpr,U))}function W(F,U){F.expressions=(0,r.UU)(F.expressions,O=>A(O,U)),F.cachedValueItems&&function(F,U){for(var O of F)O.identities=(0,r.UU)(O.identities,x=>c(x,U))}(F.cachedValueItems,U)}},403634:function(ve,j,e){e.d(j,{A:function(){return l}});var r=e(990297),i=e(650543),a=e(746375);class t{visitActiveProjectionStates(n){}visitDataViewObjectDefinitionUpdates(n,p){}visitFilterContainer(n){}visitOrderByStates(n){}visitSelector(n){}visitSelectorsByColumn(n){}visitSingleVisualState(n){}visitVisualContainerState(n){}visitFilterExpressionMetadata(n){}}class l extends t{constructor(n){super(),this.rewriters=n,i.f.assertValue(n,"rewriters")}visitActiveProjectionStates(n){_.forOwn(n,(p,s)=>{var d=p.map(o=>(0,a.MF)(o,this.rewriters));n[s]=d})}visitFilterContainer(n){(0,a.Oe)(n,this.rewriters)}visitDataViewObjectDefinitionUpdates(n,p){var s=n.merge;s&&((0,a.Me)(s,p,this.rewriters),(0,a.YN)(s,p,this.rewriters))}visitOrderByStates(n){for(var p of n)p.expr=(0,a.MF)(p.expr,this.rewriters)}visitSelector(n){var p=(0,a.sS)(n.data,this.rewriters);p!==n.data&&(n.data=p)}visitSelectorsByColumn(n){var p=(0,r.X_)(n.dataMap,(s,d)=>(0,a.sS)(d,this.rewriters));p!==n.dataMap&&(n.dataMap=p)}visitFilterExpressionMetadata(n){(0,a.vw)(n,this.rewriters)}}},661214:function(ve,j,e){e.d(j,{$Z:function(){return ut},A8:function(){return Lt},AS:function(){return ot},As:function(){return lt},DB:function(){return Hr},Dl:function(){return Vr},EL:function(){return $t},Fk:function(){return zr},GQ:function(){return pe},Hf:function(){return Z},Hr:function(){return ye},II:function(){return Ae},J6:function(){return je},L2:function(){return Ze},LW:function(){return kt},M2:function(){return Y},Ml:function(){return Ne},Mo:function(){return ar},NY:function(){return ze},O$:function(){return Ht},OQ:function(){return rt},P4:function(){return mt},PQ:function(){return Ke},PY:function(){return Ue},Pb:function(){return ce},Pu:function(){return yt},QG:function(){return lr},Qg:function(){return Qe},Rr:function(){return ie},S5:function(){return Be},VH:function(){return Rt},Wu:function(){return Xr},X:function(){return St},Xf:function(){return Ct},Z2:function(){return Mt},Z6:function(){return be},ZB:function(){return Fe},Zq:function(){return te},_9:function(){return Qt},_L:function(){return tr},a8:function(){return Ur},cj:function(){return me},d$:function(){return Oe},dw:function(){return qr},e4:function(){return ne},fo:function(){return dt},gj:function(){return jr},h4:function(){return st},hP:function(){return et},hp:function(){return Bt},hs:function(){return ft},i1:function(){return _r},i4:function(){return Br},iv:function(){return $e},jW:function(){return gr},jt:function(){return Or},kK:function(){return ae},kT:function(){return tt},lX:function(){return hr},lt:function(){return Ir},o3:function(){return Fr},o8:function(){return ke},oE:function(){return Ie},oJ:function(){return we},oU:function(){return Mr},pf:function(){return kr},ps:function(){return he},qd:function(){return fe},ql:function(){return Qr},r:function(){return He},rC:function(){return It},s9:function(){return de},tL:function(){return qe},uQ:function(){return Ee},uo:function(){return Pt},uy:function(){return wr},uz:function(){return se},vr:function(){return Pe},vz:function(){return Gt},ww:function(){return Ce},x3:function(){return Je},y3:function(){return xe},y9:function(){return We},yZ:function(){return ee}});var r=e(349672),i=e(638198),a=e(243148),t=e(882924),l=e(333107),g=e(999787),n=e(996302),p=e(771197),s=e(863035),d=e(688467),o=e(655641),v=e(143747),m=e(147818),c=e(82372),C=e(963694),y=e(990297),S=e(759167),h=e(650543),E=e(837515),u=e(84838),f=e(62414),b=e(630881),V=e(171150),T=e(32077),P=e(702730),D=e(833059),w=e(545738),M=e(202424),A=e(66301),R=e(719242),B=e(461361),N=e(832573),W=e(324569),F=e(214492),U=e(636038),O=e(475507),x=e(274493),I=e(285886),L=e(461251),K=e(60978),z=e(509247),H=e(741714),J=e(782235),k=e(476590),G=12,q="'Segoe UI', wf_segoe-ui_normal, helvetica, arial, sans-serif",Z="largeTitle",te="lightLabel",se="foreground",Ve=f.FP.toPoint(G),ke={size:c.B.createFromPt(Ve),family:q,color:"#C8C8C8"},Ue=F.wv,ot=F.k8,ft=function(Me){return Me[Me.Title=0]="Title",Me[Me.SubTitle=1]="SubTitle",Me[Me.Divider=2]="Divider",Me}({});function Ct(Me){return Me&&Me.config&&Me.config.singleVisual?Me.config.singleVisual.query:null}function Ke(Me){return Me&&Me.config&&Me.config.singleVisual}function Ae(Me){return Me?.config?.singleVisual?.autoSelectVisualType}function we(Me){var at=Ct(Me);if(at)return at.defn.select()}function Ne(Me){var at=Ct(Me);if(at)return at.projections}function Se(Me,at){if(Me&&at){var Xe=at.getPlugin(Me);if(Xe)return Xe.capabilities}}function Ie(Me,at){return Se(Me&&Me.config&&Me.config.singleVisual?Me.config.singleVisual.visualType:null,at)}function me(Me,at){return Se((0,L.s)(Me),at)}function Oe(Me,at){var Xe=me(Me,at);if(Xe&&!_.isEmpty(Xe.dataRoles))return Xe.dataRoles}function Ee(Me,at,Xe){if(Me)return Xe||at===a.uy.ModelChange||at===a.uy.Refresh?M.P.BypassCache:M.P.Default}function xe(Me,at){return(0,J.p)(Me.config.singleVisual.query,at)}function ye(Me){if(Me.config&&Me.config.singleVisual){var at=Me.config.singleVisual;at&&at.query&&at.query.hasShowAll()&&(at.queryOptions=at.queryOptions||{},at.queryOptions.keepProjectionOrder=!0)}}function Je(Me){if(Me){var at=Me.capabilities;if(at&&!_.isEmpty(at.dataRoles))return at.dataRoles}}function he(Me,at,Xe){var ue=me(Me,at);if(ue){var Re=Ct(Me);if(Re)return(0,I.F)().create(ue,Xe,Re.isDrillDisabled).getNumberRangesForRoles(Re)}}function Ce(Me,at){var Xe=(0,L.s)(Me);return at&&at.isScriptVisual(Xe)}function je(Me){if([H.D.lineChart,H.D.areaChart,H.D.stackedAreaChart,H.D.hundredPercentStackedAreaChart,H.D.barChart,H.D.clusteredBarChart,H.D.hundredPercentStackedBarChart,H.D.columnChart,H.D.clusteredColumnChart,H.D.hundredPercentStackedColumnChart,H.D.lineClusteredColumnComboChart,H.D.lineStackedColumnComboChart].indexOf(Me.visualType)>=0){var Xe=Me.query?.projections;if(Xe&&Xe[m.xV.rows]&&Xe[m.xV.rows].all().length>0)return!0}return!1}function pe(Me){return Me.config?.singleVisual?.objects}function Qe(Me){return Me.config&&Me.config.singleVisual&&Me.config.singleVisual.vcObjects}function ut(Me,at,Xe){var ue=Me.config.singleVisual.query.projections[at],Re=ue.convertFieldIndexToProjectionIndex(Xe),Kt=ue.all()[Re];return h.f.assertValue(Kt,"items[projectionIndex]"),Kt.queryRef}function lt(Me,at,Xe,ue,Re,pt,Kt){if(Xe){var Jt=Xe.defn.select(),pr=Xe.projections,sr=[],Xt=[],Sr=_r(Xe),Ye=(0,A.Lo)(Xe.projections,Re.dataViewMappings,Sr,pt).supportedMappings;if(Ye){for(var ht of Ye){var gt=Ye.length>1?bt(ht):null,Vt=[];for(var xt in pr)if(null==gt||_.includes(gt,xt)){var At=pr[xt];for(var jt of At.all()){var Nt=(0,y.g2)(Jt,jt.queryRef);if(-1!==Nt){var Yt=Jt[Nt];if(!(0,K.Im)(Yt.expr)){var rr=Yt.expr.getMetadata(at,N.m.buildExprEvaluationContext(Xe.defn.from()));h.f.assertValue(rr,"exprMetadata");var dr={Restatement:Me.getDisplayName(Yt.expr,at,Re,Yt.name,ue),Name:jt.queryRef,Type:Ot(rr.type)},Ut=N.m.getKpiMetadata(Yt.expr,at);Ut&&(dr.kpi=Ut);var Te,nt=ue?.[jt.queryRef]?.formatString;(Te=pt.visualLevelFormatStringConsumption&&null!=nt?nt:rr.format)&&(dr.Format=Te);var _t=Dt(rr.type);_t&&(dr.DataCategory=_t),sr[Nt]=dr,Vt.push({Name:xt,Projection:Nt,isActive:_.includes(At.activeProjectionRefs,jt.queryRef)})}}}}Xt.push({DataRoles:Vt})}return{queryMetadata:{Select:sr,Filters:Kt},visualElements:Xt}}}}function Et(Me,at){if(Me.role)at.push(Me.role);else if(Me.bind)Me.bind.to&&at.push(Me.bind.to);else if(Me.for)Me.for.in&&at.push(Me.for.in);else{var pt=Me;if(pt.group){if(pt.group.by&&at.push(pt.group.by),pt.group.select)for(var Kt of pt.group.select)Et(Kt,at)}else{var Jt=Me;if(Jt.composite)for(var pr of Jt.composite)Et(pr,at);else{var sr=Me;if(sr.select)for(var Xt of sr.select)Et(Xt,at)}}}}function bt(Me){var at=[];return Me&&(Me.categorical&&(Me.categorical.categories&&Et(Me.categorical.categories,at),Me.categorical.values&&Et(Me.categorical.values,at)),Me.table&&Me.table.rows&&Et(Me.table.rows,at),Me.single&&Et(Me.single,at),Me.tree&&(Me.tree.nodes&&Et(Me.tree.nodes,at),Me.tree.values&&Et(Me.tree.values,at)),Me.matrix&&(Me.matrix.columns&&Et(Me.matrix.columns,at),Me.matrix.rows&&Et(Me.matrix.rows,at),Me.matrix.values&&Et(Me.matrix.values,at))),_.uniq(at)}function Ot(Me){switch(h.f.assertValue(Me,"type"),Me.extendedType){case T.o.Years:return g.TR.Year;case T.o.Months:return g.TR.Month}switch(Me.primitiveType){case l.M.Text:return g.TR.String;case l.M.Decimal:case l.M.Double:return g.TR.Number;case l.M.Integer:return g.TR.Integer;case l.M.Boolean:return g.TR.Boolean;case l.M.Date:return g.TR.Date;case l.M.DateTime:return g.TR.DateTime;case l.M.Time:return g.TR.Time}}function Dt(Me){return h.f.assertValue(Me,"type"),(0,P.Wt)(Me.categoryString)}function ne(Me,at){if(Me&&Me.config&&Me.config.singleVisual&&Me.config.singleVisual.query&&Me.config.singleVisual.query.defn){var Xe=Me.config.singleVisual.query.projections,ue=Me.config.singleVisual.query.defn.select();if(Xe&&ue.length>0)for(var Re in Xe){var pt=Xe[Re];for(var Kt of pt.all()){var Jt=(0,y.rC)(ue,Kt.queryRef);if(Jt){var sr=Jt.expr.getMetadata(at);if(sr&&sr.kind===V.I.Column&&null==sr.aggregate)return!0}}}return!1}}function Fe(Me){return Me.some(at=>$e(at)||qe(at))}function $e(Me){var at=we(Me);return _.some(at,Xe=>(0,K.jX)(Xe.expr))}function qe(Me){var at=Ct(Me);return null!=at&&at.hasHiddenProjections()}function dt(Me){var at=Ct(Me);return null!=at&&at.hasVisibleProjections()}function rt(Me){return at=>Me===at}function ce(Me){return at=>Me!==at}function be(Me,at,Xe,ue,Re){return pt=>Me===pt||(Xe&&Xe.relationshipFilterAction(at,Me,pt,ue,Re))!==W.tX.NoFilter}function ae(Me,at){Me.publishToChannel(x.$cv,{affectContainer:Xe=>Xe===at})}function de(Me,at,Xe,ue,Re,pt,Kt,Jt,pr){if(h.f.assertAnyValue(Xe,"dataAsObject"),pt){var Xt,sr=Me.capabilities(pt.visualType);if(sr){var Sr=lt(at,Re,pt.query,pt.columnProperties,sr,Kt,Jt);if(Sr){var Le=(0,n.xF)(pt.objects,sr.objects,Kt.serializeSpaceOptimization,!1);(Xt=ue.transforms&&sr&&sr.objects?p.F.serializeDataViewTransformActions(ue.transforms,sr.objects):{objects:Le}).objects=Xt.objects||Le,Xt.visualElements=Sr.visualElements,Xt.queryMetadata=Sr.queryMetadata}}return{queryObject:ue.options.query.command,dataObject:Xe,transformsObject:Xt,dataUpdatedTime:pr}}}function ee(Me){h.f.assertValue(Me,"visualContainerGroups");var at={};return(0,O.Iw)(Me,Xe=>{h.f.assertValue(Xe.name,"visualContainer.name"),at[Xe.name]=!0}),Pe(at)}function Pe(Me){return h.f.assertValue(Me,"existingNames"),o.q.generateUniqueId(Me)}function We(Me){var at=[];return(0,O.Iw)(Me,Xe=>{(0,O.q4)(Xe)&&at.push(Xe)}),at}function yt(Me){return(0,F.xj)(Me.config.singleVisual)||function(Me){for(var at=Me.parentGroup;at;){if((0,U.xj)(at))return!0;at=at.parentGroup}return!1}(Me)}function et(Me,at=i.D.Master,Xe){var ue=_.cloneDeep(Me),Re=Xe;if(at===i.D.PhonePortrait)return ue;for(;Re;){if(!Re.layouts.withId(at))return h.f.assertFail(`must provide a layout for groups for layout${at}`),ue;var pt=Re.layouts.withId(at).position;ue.x+=pt.x,ue.y+=pt.y,Re=Re.parentGroup}return ue}function mt(Me,at,Xe=i.D.Master){for(var ue=_.cloneDeep(Me),Re=at.parentGroup;Re;){var pt=Re.layouts.withId(Xe).position;ue.x-=pt.x,ue.y-=pt.y,Re=Re.parentGroup}return ue}function ie(Me,at,Xe,ue,Re){Me.publishToChannel(x.jCS,{affectContainer:pt=>pt!==at,sourceLabelKey:Xe,parentActivity:ue,parentContextActivity:Re})}function Y(Me,at,Xe,ue,Re){_.isEmpty(at)||Me.publishToChannel(x.jCS,{affectContainer:pt=>_.includes(at,pt),sourceLabelKey:Xe,parentActivity:ue,parentContextActivity:Re})}function fe(Me,at){return Me.createActivity({name:t.R.CrossHighlight,operationType:at})}function Be(Me){return Me.createActivity({name:t.R.ChangeSlicer})}function Ze(Me){return _.some(Me,at=>at.dsr&&at.dsr.vsName===v.ly2)}function St(Me){var at=function(Me){return Me&&null!=Me.size?f.FP.fromPoint(Me.size.pt):f.FP.toString(G)}(Me);return E.b.estimateSvgTextHeight({fontFamily:Me&&Me.family||q,fontSize:at})}function Rt(Me,at,Xe,ue,Re,pt,Kt){var Jt=Xe.config.singleVisual.visualType,pr=Xe.config.singleVisual.vcObjects,sr=(0,R.NA)(pr,{objectName:"stylePreset",propertyName:"name"},void 0),Xt=at.getVisualObjects(Me,Jt,sr&&(0,K.VC)(sr)&&sr.value,F.XW);Xt&&(pr=(0,R.d9)(pr||{}),(0,R.l7)(pr,Xt,!0));var Sr=at.getVisualStyle(Me);return(0,B.G3)(pr,F.XW,Sr,ue,Re,pt,Kt)}function kt(Me,at){at.toggleClass("showHover",Me)}function Gt(Me,at,Xe){Xe.publishToChannel(Me?s.t1:s.i5,{containerName:at})}function Ht(Me,at,Xe,ue,Re){var pt={};return pt[S.mA]=at||"",pt[S.zo]=ue||"",pt[S.wu]=Xe||"",pt[S.CB]=Me||"",pt[S.rb]=Re||"",pt}function tr(Me,at){var Xe={};return Xe[S.py]=null!=at?"scale("+at+")":"scale(1)",Xe[S.kP]=Me.width,Xe[S.ei]=Me.height,Xe}function ar(Me){if(Me&&Me.show){var at=(0,C.O4)();return(Me.transparency||0===Me.transparency)&&(at.transparency=Me.transparency),Me.color&&Me.color.solid.color&&(at.color=Me.color),(0,d.Et)(at.color.solid.color,(100-at.transparency)/100)}}function He(Me,at){return{show:Me?Me.show:at.show,color:Me&&Me.color&&Me.color.solid&&Me.color.solid.color?Me.color:at.color,radius:Me&&Me.radius||at.radius,width:Me&&Me.width}}function Mt(Me,at){return{show:Me?Me.show:at.show,preset:Me&&Me.preset?Me.preset:at.preset,position:Me&&Me.position?Me.position:at.position,color:Me&&Me.color&&Me.color.solid&&Me.color.solid.color?Me.color:at.color,transparency:Me&&void 0!==Me.transparency?Me.transparency:at.transparency,shadowBlur:Me&&void 0!==Me.shadowBlur?Me.shadowBlur:at.shadowBlur,shadowSpread:Me&&void 0!==Me.shadowSpread?Me.shadowSpread:at.shadowSpread,angle:Me&&void 0!==Me.angle?Me.angle:at.angle,shadowDistance:Me&&void 0!==Me.shadowDistance?Me.shadowDistance:at.shadowDistance}}function Bt(Me,at,Xe=!1){Me=Me||{};var ue=at?.suppressDefaultPadding?0:5;return{top:Me.top??(Xe?0:ue),bottom:Me.bottom??ue,left:Me.left??ue,right:Me.right??ue}}function ze(Me,at,Xe){return _.isEmpty(at)&&Xe&&((isNaN(Xe)||Xe<0)&&(Xe=0),0!==Xe)?{left:Me.left+Xe,right:Me.right+Xe,top:Me.top+Xe,bottom:Me.bottom+Xe}:Me}function st(Me,at){if(!at?.customizeSpacing)return at?.verticalSpacing??5;switch(Me){case ft.Title:return void 0!==at?.verticalSpacing&&void 0===at?.spaceBelowTitle?at?.verticalSpacing:void 0!==at?.spaceBelowTitle?at?.spaceBelowTitle:5;case ft.SubTitle:return void 0!==at?.verticalSpacing&&void 0===at?.spaceBelowSubTitle?at.verticalSpacing:void 0!==at?.spaceBelowSubTitle?at.spaceBelowSubTitle:5;case ft.Divider:return void 0!==at?.verticalSpacing&&void 0===at?.spaceBelowTitleArea?at?.verticalSpacing:void 0!==at?.spaceBelowTitleArea?at?.spaceBelowTitleArea:5;default:return h.f.assertNever(Me),5}}function Lt(Me){return null!=Me&&null!=Me.metadata&&null!=Me.metadata.segment}function Qt(Me){if(Me&&Me.defn){var at=Me.defn.groupBy();return!_.isEmpty(at)}return!1}function $t(Me){return Qt(Ct(Me))}function lr(Me,at,Xe){var ue=Oe(Me,at),Re=Ct(Me);if(Re&&!_.isEmpty(ue)){var Kt=Re.tryGetExprs(ue[0].name);return!_.isEmpty(Kt)&&!_.some(Kt,Jt=>{var pr=Jt.getMetadata(Xe);if(pr)return!pr.type.text})}}function gr(Me,at,Xe){var ue=function(Me,at){var Xe=Ct(Me);if(Xe){var ue=me(Me,at);if(ue&&ue.filterMappings&&ue.filterMappings.measureFilter&&ue.filterMappings.measureFilter.targetRoles){var Re=ue.filterMappings.measureFilter.targetRoles,pt=_.chain(ue.dataRoles).filter(sr=>sr.kind===b.DW.Grouping).map(sr=>sr.name).difference(Re).value(),Kt=[];for(var Jt of pt)Xe.projections[Jt]&&Kt.push.apply(Kt,Xe.projections[Jt].all());var pr=we(Me);if(!_.isEmpty(Kt))return _.chain(pr).filter(sr=>_.some(Kt,Xt=>Xt.queryRef===sr.name)).map(sr=>sr.expr).value()}}}(Me,Xe);if(_.isEmpty(ue))return!1;for(var Re of ue)if(N.m.getAggregateBehavior(Re,at)===D.H5.DiscourageAcrossGroups)return!0;return!1}function _r(Me){var at={},Xe=Me.defn.select();for(var ue of Xe){var Re;Re=(0,z.k)(ue.expr)?b.DW.Measure:b.DW.Grouping,at[ue.name]=Re}return at}function Mr(Me){for(var at of(h.f.assertValue(Me,"exploration"),Me.sections))Vr(at)}function Vr(Me){for(var at of(h.f.assertValue(Me,"section"),Me.visualContainers))delete at.cachedData,at.disableCacheOnServerForInitialLoad=!0}function Fr(Me){function at(ue,Re){var pt=Re.howCreated??W.Iv.Default;ue[pt]||(ue[pt]=0),ue[pt]++}return h.f.assertValue(Me,"section"),function(){var ue=Me&&Me.visualContainers||[],Re={};for(var pt of ue=_.reject(ue,Kt=>(0,F.xj)(Kt.config.singleVisual)))at(Re,pt);return Re}()}function Ur(Me){function at(Re,pt){var Kt=pt.config.singleVisual.visualType;Re[Kt]||(Re[Kt]=0),Re[Kt]++}function Xe(){var Re=Me&&Me.visualContainers||[],pt={};for(var Kt of Re=_.reject(Re,Jt=>(0,F.xj)(Jt.config.singleVisual)))at(pt,Kt);return pt}h.f.assertValue(Me,"section");try{return function(){if(_.isEmpty(Me&&Me.visualContainerGroups))return Xe();var pt={},Kt={__hidden:pt};return(0,O.Iw)(Me.visualContainerGroups,(Jt,pr)=>{(0,O.Vz)(Jt)&&at(pr?pt:Kt,Jt)}),Kt}()}catch(Re){return u.fM.error(`Error getting visuals from groups ${Re&&Re.message}: ${Re&&Re.stack}`),Xe()}}function Br(Me,at,Xe,ue){if((0,k.zr)(Me,at)){var Kt=(0,k.Xz)(Me,at),Jt=we(Me);if(Kt||(Jt=_.filter(Jt,sr=>!(0,z.k)(sr.expr))),Jt=_.filter(Jt,sr=>!(0,K.jX)(sr.expr)))return _.chain(Jt).map(sr=>sr.expr).filter(sr=>N.m.isExprValidForFiltering(sr)&&_.isEmpty(sr.validate(Xe,ue))).map(sr=>(sr=>{var Xt=W.OO.Auto;return{name:void 0,expression:sr,expanded:!1,howCreated:Xt,type:(0,k.NV)(sr,Xe,Xt),isHiddenInViewMode:!1}})(sr)).value()}}function wr(Me,at,Xe,ue){var Re=Xe.getDrillCrossFiltersToApply(Me,at,ue);return _.map(Re,Kt=>(Kt=>({name:void 0,type:Kt.type,filter:Kt.filter,expression:Kt.expression,expanded:!1,howCreated:W.OO.CrossDrill,precedence:Kt.precedence}))(Kt))}function jr(Me){var at=Me.resourcePackages,Xe=Me.publicCustomVisuals??[];if(!at&&0===Xe.length)return!1;for(var ue of Me.sections)if(ue.visualContainers){var Kt,Re=ue.visualContainers,pt=function(){if(Jt.config&&Jt.config.singleVisual&&Jt.config.singleVisual.visualType){var pr=Jt.config.singleVisual.visualType;if(_(at).find(sr=>sr.name===pr))return{v:!0};if(_(Xe).includes(pr))return{v:!0}}};for(var Jt of Re)if(Kt=pt())return Kt.v}return!1}function Hr(Me,at){var Xe={usingImprovedFilterExperience:!0,viewMode:at===b.wO.View},ue=function(Me){var at=Me.objects;if(at&&at.outspacePane){var Xe=(0,R.NA)(at,{objectName:"outspacePane",propertyName:"expanded"},null);return Xe&&Xe.value}}(Me);_.isUndefined(ue)||(Xe.isOutspacePaneExpanded=ue);var Re=function(Me){var at=Me.objects;if(at&&at.outspacePane){var Xe=(0,R.NA)(at,{objectName:"outspacePane",propertyName:"visible"},null);return Xe&&Xe.value}}(Me);return _.isUndefined(Re)||(Xe.isOutspacePaneVisible=Re),Xe}function qr(Me,at){return Me.id&&!at}function kr(Me){return Me?w.Ps.Basic|w.Ps.QueryText:w.Ps.Basic}function Qr(Me,at,Xe){var ue;at&&(ue=at.createChildActivity(Me));var Re=Xe();return ue&&ue.resolve(),Re}function Ir(Me,at,Xe){return Jr.apply(this,arguments)}function Jr(){return(Jr=(0,r.Z)(function*(Me,at,Xe){var ue;at&&(ue=at.createChildActivity(Me));var Re=yield Xe();return ue&&ue.resolve(),Re})).apply(this,arguments)}function hr(Me){var at=Ke(Me);return at&&at.columnProperties}function zr(Me){if(_.isEmpty(Me))return!1;for(var at of Me)if((0,O.Vz)(at)){var Xe=hr(at);if(Xe)for(var ue in Xe)if(Xe[ue].displayName)return!0}return!1}function Or(Me){if(_.isEmpty(Me))return!1;for(var at of Me)if(null!=at&&(0,O.Vz)(at)){var Xe=hr(at);if(Xe)for(var ue in Xe)if(Xe[ue].formatString)return!0}return!1}function Xr(Me){if(_.isEmpty(Me))return!1;for(var at of Me)if((0,O.Vz)(at)){var Xe=we(at);if(Xe)for(var ue of Xe){var Re=ue.expr;if((0,K.jX)(Re)&&null!=Re.dataType)return!0}}return!1}function It(Me,at){var Xe=(0,L.s)(at);return Me.isQnaVisual(Xe)||Me.isQueryVisual(Xe)}function Pt(Me,at){return Tt.apply(this,arguments)}function Tt(){return(Tt=(0,r.Z)(function*(Me,at){var Xe=Ke(Me),ue=at.dataSources.get(),Re=yield at.conceptualSchemaProxy.get(ue),pt=me(Me,at.visualPlugin);return at.displayNameService.getVisualTitle(Xe,Re,pt,void 0,void 0,!0)?.text})).apply(this,arguments)}function tt(Me,at){return{visual:{objects:Me.objects,descriptors:at.objects},visualContainer:{objects:Me.vcObjects,descriptors:F.XW}}}},461251:function(ve,j,e){e.d(j,{s:function(){return a}});var r=e(76395),i=e(475507);function a(t){if(t){if((0,i.q4)(t))return r.SY;if(t.config&&t.config.singleVisual)return t.config.singleVisual.visualType}}},226779:function(ve,j,e){e.d(j,{b:function(){return t}});var r=e(650543),i=e(746375);class a{visitVisualContainer(g){}visitSingleVisualConfig(g){}visitQuery(g){}visitDataViewObjects(g,n){}visitSelector(g){}visitFilterContainer(g){}visitVisualLinks(g){}}class t extends a{constructor(g){super(),this.rewriters=g,r.f.assertValue(g,"rewriters")}visitSingleVisualConfig(g){g.cachedFilterDisplayItems&&(0,i.cf)(g.cachedFilterDisplayItems,this.rewriters)}visitQuery(g){if(r.f.assertValue(g,"query"),g.defn){var p=this.rewriters;for(var s of p)g=s.rewriteQuery(g)}}visitDataViewObjects(g,n){(0,i.Me)(g,n,this.rewriters),(0,i.YN)(g,n,this.rewriters)}visitFilterContainer(g){r.f.assertValue(g,"filter"),(0,i.V)(g,this.rewriters)}visitVisualLinks(g){for(var n of(r.f.assertValue(g,"visualLink"),g))(0,i.Vd)(n,this.rewriters)}visitSelector(g){var n=(0,i.sS)(g.data,this.rewriters);n!==g.data&&(g.data=n)}}},58332:function(ve,j,e){e.d(j,{O4:function(){return o},X2:function(){return m}});var r=e(365813),i=!1,a=r.Jn,t=r.XQ,l=70,g=3,n=10,p=45,s=10,d="#000";function o(c,C){var y=c&&c.preset?c.preset:a,S=c&&c.position?c.position:t,h=m(y,S);return{show:i,preset:y,position:S,color:{solid:{color:C?C.colorPalette.foreground.value:d}},shadowSpread:h?h.shadowSpread:g,shadowBlur:h?h.shadowBlur:n,angle:h?h.angle:p,shadowDistance:h?h.shadowDistance:s,transparency:h?h.transparency:l}}function m(c,C){var y=function(c){var C=c===r.$S,y=10,S=C?15:10,h=C?0:3;return{[r.Jn]:{angle:C?225:45,shadowDistance:y,shadowBlur:S,shadowSpread:h,transparency:l},[r.qf]:{angle:C?270:90,shadowDistance:y,shadowBlur:S,shadowSpread:h,transparency:l},[r.C2]:{angle:C?315:135,shadowDistance:y,shadowBlur:S,shadowSpread:h,transparency:l},[r.PE]:{angle:C?180:0,shadowDistance:y,shadowBlur:S,shadowSpread:h,transparency:l},[r.uf]:{angle:0,shadowDistance:0,shadowBlur:C?20:15,shadowSpread:h,transparency:l},[r.cS]:{angle:C?0:180,shadowDistance:y,shadowBlur:S,shadowSpread:h,transparency:l},[r.Fi]:{angle:C?135:315,shadowDistance:y,shadowBlur:S,shadowSpread:h,transparency:l},[r.tF]:{angle:C?90:270,shadowDistance:y,shadowBlur:S,shadowSpread:h,transparency:l},[r.f]:{angle:C?45:225,shadowDistance:y,shadowBlur:S,shadowSpread:h,transparency:l}}}(C||t);return y.hasOwnProperty(c)?y[c]:null}},363241:function(ve,j,e){e.d(j,{O:function(){return i}});var r=e(650543);function i(a,t,l){if(a&&a.getProperty("telemetryActivityId")){var g=l.getOpenActivityById(a&&a.getProperty("telemetryActivityId"));if(r.f.assert(()=>g&&g.isActive(),"parentActivity stored in performanceActivity not found or not active. The parent/child relationships are broken due to a parent activity resolved before a child could start."),g&&g.isActive()){var n=l.startChildActivity(g.event,t);return a.setProperty("telemetryActivityId",n.event.id),n}}}},164528:function(ve,j,e){e.d(j,{k:function(){return n}});var r=e(810331),i=e(264431),a=e(877542),t=e(650543),l=e(726988),g=e(734531);class n{constructor(s,d,o){this.messageId="VisualContainer_FailedToLoadVisual",this.displayableErrorInfo=[{errorInfoKey:"",errorInfoValue:""}],this.errorCode=s,this.hideErrorHelperText=!1,"Missing_References"===s?(this.displayableErrorInfo[0].errorInfoKey="Missing_References_Details_Title",this.displayableErrorInfo[0].errorInfoValue=o,this.detailsMessageFormat="Missing_References_Details_Message",this.messageId="Missing_References_Message",this.errorSource=a.zH.User):"Broken_Filters"===s?(this.displayableErrorInfo[0].errorInfoKey="ServiceError_CannotLoadVisual",this.displayableErrorInfo[0].errorInfoValue=d.get("Broken_Filters_Details_Message"),this.messageId="Broken_Filters_Message"):"ClientError_NoSupportedDataViewMappingFound"===s?(this.displayableErrorInfo[0].errorInfoKey="VisualDisplayError_Title",this.displayableErrorInfo[0].errorInfoValue=d.get("ClientError_NoSupportedDataViewMappingFound_Message"),this.messageId="ClientError_NoSupportedDataViewMappingFound_Message"):"NoSupportRTS_PublishToWeb"===s?(this.displayableErrorInfo[0].errorInfoKey="VisualContainer_UnableToFindVisualKey",this.displayableErrorInfo[0].errorInfoValue=d.get("NoSupportRTS_PublishToWeb_Message"),this.messageId="NoSupportRTS_PublishToWeb_Title",this.errorSource=a.zH.User,this.hideErrorHelperText=!0):"DQP_No_MappedColumns_In_HierarchySlicers"===s?(this.displayableErrorInfo[0].errorInfoKey="VisualContainer_FailedToLoadVisual",this.displayableErrorInfo[0].errorInfoValue=d.get("DQP_No_MappedColumns_In_HierarchySlicers"),this.errorSource=a.zH.User,this.hideErrorHelperText=!0,this.hideDebugInfo=!0,this.helperLink="https://go.microsoft.com/fwlink/?linkid=2139315"):"DataViewMappingError_ConditionNotHierarchicallyRelated"===s?(this.messageId="DataViewMappingError_ConditionNotHierarchicallyRelated",this.displayableErrorInfo[0].errorInfoKey="VisualContainer_FailedToLoadVisual",this.displayableErrorInfo[0].errorInfoValue=d.get("DataViewMappingError_ConditionNotHierarchicallyRelated_Details"),this.errorSource=a.zH.User,this.hideErrorHelperText=!0,this.hideDebugInfo=!0,this.helperLink="https://go.microsoft.com/fwlink/?linkid=2114278"):"NoSupportSpecificRolesWithVC_Hidden"===s?(this.displayableErrorInfo[0].errorInfoKey="VisualContainer_FailedToLoadVisual",this.displayableErrorInfo[0].errorInfoValue=o,this.errorSource=a.zH.User,this.hideErrorHelperText=!0,this.hideDebugInfo=!0,this.helperLink="https://go.microsoft.com/fwlink/?linkid=2249857"):"Data_Limit_Disabled_VisualCalc_Hidden"===s&&(this.displayableErrorInfo[0].errorInfoKey="VisualContainer_FailedToLoadVisual",this.displayableErrorInfo[0].errorInfoValue=d.get("Data_Limit_Disabled_VisualCalc_Hidden"),this.errorSource=a.zH.User,this.hideErrorHelperText=!0,this.hideDebugInfo=!0,this.helperLink="https://go.microsoft.com/fwlink/?linkid=2249857")}static create(s,d,o){if(!_.isEmpty(s)){var v=[],m=(y,S)=>y.hierarchy?y.hierarchy.name:y.hierarchyLevel?y.hierarchyLevel.name+"."+y.hierarchyLevel.level:S,c=function(){var S,y=(0,r.Q)(C);if(y.sparklineData){var h=y.sparklineData.measure;t.f.assert(()=>1===_.size(y.sparklineData.grouping),"expect 1 field in grouping for sparklines");var E=_.first(y.sparklineData.grouping),u=m(h,(0,l.Hp)(h)),f=m(E,(0,l.Hp)(E));S=o.format("VisualTitle_By_Template",u,f)}else{var b=(0,l.Um)(y);if(!b)return 1;var V=m(y,(0,l.Hp)(y));S="("+b.entity+") "+V;var T=d.schema(b.schema),P=T&&T.findProperty(b.entity,V);P&&P.errorMessage&&(S+=": "+P.errorMessage)}v.push(S)};for(var C of s)c();return new n("Missing_References",o,v.join(", "))}}get code(){return this.errorCode}get source(){return this.errorSource}addDebugInfo(s,d){this.debugErrorInfo||(this.debugErrorInfo=[]),this.debugErrorInfo.push({errorInfoKey:s,errorInfoValue:d})}getDetails(s){var d=s.get(this.displayableErrorInfo[0].errorInfoKey),o=this.displayableErrorInfo[0].errorInfoValue;return this.detailsMessageFormat&&(o=(0,g.W)(s.get(this.detailsMessageFormat),o)),{message:s.get(this.messageId),displayableErrorInfo:[{errorInfoKey:d,errorInfoValue:o}],debugErrorInfo:[{errorInfoKey:i.zd,errorInfoValue:this.code}].concat(...this.debugErrorInfo||[]),hideErrorHelperText:this.hideErrorHelperText,hideDebugInfo:this.hideDebugInfo,helpLink:this.helperLink}}}},782235:function(ve,j,e){function r(a,t){var l={};if(_.isEmpty(t))return l;for(var g of t){var n=a.tryGetExprs(g.name);l[g.name]=_.map(n,p=>a.defn.selectNameOf(p))}return l}function i(a,t){return!(!a?.projections||!a.projections[t])&&a.projections[t].all().some(l=>void 0!==l.queryRef)}e.d(j,{S:function(){return r},p:function(){return i}})},45713:function(ve){ve.exports=function(j){var e={};function r(i){if(e[i])return e[i].exports;var a=e[i]={exports:{},id:i,loaded:!1};return j[i].call(a.exports,a,a.exports,r),a.loaded=!0,a.exports}return r.m=j,r.c=e,r.p="",r(0)}([function(j,e){var r=function(){function i(a,t,l){void 0===t&&(t={}),this.defaultHeaders=t,this.defaultTargetWindow=l,this.windowPostMessageProxy=a}return i.addTrackingProperties=function(a,t){return a.headers=a.headers||{},t&&t.id&&(a.headers.id=t.id),a},i.getTrackingProperties=function(a){return{id:a.headers&&a.headers.id}},i.isErrorMessage=function(a){return"number"==typeof(a&&a.statusCode)&&!(200<=a.statusCode&&a.statusCode<300)},i.prototype.get=function(a,t,l){return void 0===t&&(t={}),void 0===l&&(l=this.defaultTargetWindow),this.send({method:"GET",url:a,headers:t},l)},i.prototype.post=function(a,t,l,g){return void 0===l&&(l={}),void 0===g&&(g=this.defaultTargetWindow),this.send({method:"POST",url:a,headers:l,body:t},g)},i.prototype.put=function(a,t,l,g){return void 0===l&&(l={}),void 0===g&&(g=this.defaultTargetWindow),this.send({method:"PUT",url:a,headers:l,body:t},g)},i.prototype.patch=function(a,t,l,g){return void 0===l&&(l={}),void 0===g&&(g=this.defaultTargetWindow),this.send({method:"PATCH",url:a,headers:l,body:t},g)},i.prototype.delete=function(a,t,l,g){return void 0===t&&(t=null),void 0===l&&(l={}),void 0===g&&(g=this.defaultTargetWindow),this.send({method:"DELETE",url:a,headers:l,body:t},g)},i.prototype.send=function(a,t){if(void 0===t&&(t=this.defaultTargetWindow),a.headers=this.assign({},this.defaultHeaders,a.headers),!t)throw new Error("target window is not provided.  You must either provide the target window explicitly as argument to request, or specify default target window when constructing instance of this class.");return this.windowPostMessageProxy.postMessage(t,a)},i.prototype.assign=function(a){for(var t=[],l=1;l<arguments.length;l++)t[l-1]=arguments[l];if(null==a)throw new TypeError("Cannot convert undefined or null to object");var g=Object(a);return t.forEach(function(n){if(null!=n)for(var p in n)Object.prototype.hasOwnProperty.call(n,p)&&(g[p]=n[p])}),g},i}();e.HttpPostMessage=r}])},594849:function(ve){var r;r=()=>{return j=[function(a,t,l){var He,g=this&&this.__extends||(He=function(Mt,Bt){return(He=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ze,st){ze.__proto__=st}||function(ze,st){for(var Lt in st)Object.prototype.hasOwnProperty.call(st,Lt)&&(ze[Lt]=st[Lt])})(Mt,Bt)},function(Mt,Bt){if("function"!=typeof Bt&&null!==Bt)throw new TypeError("Class extends value "+String(Bt)+" is not a constructor or null");function ze(){this.constructor=Mt}He(Mt,Bt),Mt.prototype=null===Bt?Object.create(Bt):(ze.prototype=Bt.prototype,new ze)});Object.defineProperty(t,"__esModule",{value:!0}),t.CommonErrorCodes=t.BookmarksPlayMode=t.ExportDataType=t.QnaMode=t.PageNavigationPosition=t.BrowserPrintAdjustmentsMode=t.AggregateFunction=t.DataCacheMode=t.CredentialType=t.isPercentOfGrandTotal=t.isColumnAggr=t.isHierarchyLevelAggr=t.isHierarchyLevel=t.isColumn=t.isMeasure=t.getFilterType=t.isBasicFilterWithKeys=t.isFilterKeyColumnsTarget=t.HierarchyIdentityFilter=t.HierarchyFilter=t.AdvancedFilter=t.TupleFilter=t.IdentityFilter=t.BasicFilterWithKeys=t.BasicFilter=t.RelativeTimeFilter=t.RelativeDateFilter=t.TopNFilter=t.IncludeExcludeFilter=t.NotSupportedFilter=t.Filter=t.RelativeDateOperators=t.RelativeDateFilterTimeUnit=t.FilterType=t.FiltersLevel=t.FiltersOperations=t.MenuLocation=t.ContrastMode=t.TokenType=t.ViewMode=t.Permissions=t.SectionVisibility=t.ReportAlignment=t.HyperlinkClickBehavior=t.LayoutType=t.VisualContainerDisplayMode=t.BackgroundType=t.DisplayOption=t.PageSizeType=t.TraceType=void 0,t.validateExportDataRequest=t.validateQnaInterpretInputData=t.validateLoadQnaConfiguration=t.validateSaveAsParameters=t.validateUpdateFiltersRequest=t.validateFilter=t.validatePage=t.validateTileLoad=t.validateDashboardLoad=t.validateQuickCreate=t.validateCreateReport=t.validatePaginatedReportLoad=t.validateReportLoad=t.validateMenuGroupExtension=t.validateExtension=t.validateCustomPageSize=t.validateVisualizationsPane=t.validateSyncSlicersPane=t.validateSelectionPane=t.validatePageNavigationPane=t.validateFieldsPane=t.validateFiltersPane=t.validateBookmarksPane=t.validatePanes=t.validateSettings=t.validateCaptureBookmarkRequest=t.validateApplyBookmarkStateRequest=t.validateApplyBookmarkByNameRequest=t.validateAddBookmarkRequest=t.validatePlayBookmarkRequest=t.validateSlicerState=t.validateSlicer=t.validateVisualSelector=t.isIExtensionArray=t.isIExtensions=t.isGroupedMenuExtension=t.isFlatMenuExtension=t.isReportFiltersArray=t.isOnLoadFilters=t.VisualDataRoleKindPreference=t.VisualDataRoleKind=t.CommandDisplayOption=t.SlicerTargetSelector=t.VisualTypeSelector=t.VisualSelector=t.PageSelector=t.Selector=t.SortDirection=t.LegendPosition=t.TextAlignment=void 0,t.validatePrintSettings=t.validateZoomLevel=t.validateCustomTheme=t.validateCommandsSettings=t.validateVisualSettings=t.validateVisualHeader=void 0;var T,n=l(1);!function(He){He[He.Information=0]="Information",He[He.Verbose=1]="Verbose",He[He.Warning=2]="Warning",He[He.Error=3]="Error",He[He.ExpectedError=4]="ExpectedError",He[He.UnexpectedError=5]="UnexpectedError",He[He.Fatal=6]="Fatal"}(t.TraceType||(t.TraceType={})),function(He){He[He.Widescreen=0]="Widescreen",He[He.Standard=1]="Standard",He[He.Cortana=2]="Cortana",He[He.Letter=3]="Letter",He[He.Custom=4]="Custom",He[He.Mobile=5]="Mobile"}(t.PageSizeType||(t.PageSizeType={})),function(He){He[He.FitToPage=0]="FitToPage",He[He.FitToWidth=1]="FitToWidth",He[He.ActualSize=2]="ActualSize"}(t.DisplayOption||(t.DisplayOption={})),function(He){He[He.Default=0]="Default",He[He.Transparent=1]="Transparent"}(t.BackgroundType||(t.BackgroundType={})),function(He){He[He.Visible=0]="Visible",He[He.Hidden=1]="Hidden"}(t.VisualContainerDisplayMode||(t.VisualContainerDisplayMode={})),function(He){He[He.Master=0]="Master",He[He.Custom=1]="Custom",He[He.MobilePortrait=2]="MobilePortrait",He[He.MobileLandscape=3]="MobileLandscape"}(t.LayoutType||(t.LayoutType={})),function(He){He[He.Navigate=0]="Navigate",He[He.NavigateAndRaiseEvent=1]="NavigateAndRaiseEvent",He[He.RaiseEvent=2]="RaiseEvent"}(t.HyperlinkClickBehavior||(t.HyperlinkClickBehavior={})),function(He){He[He.Left=0]="Left",He[He.Center=1]="Center",He[He.Right=2]="Right",He[He.None=3]="None"}(t.ReportAlignment||(t.ReportAlignment={})),function(He){He[He.AlwaysVisible=0]="AlwaysVisible",He[He.HiddenInViewMode=1]="HiddenInViewMode"}(t.SectionVisibility||(t.SectionVisibility={})),function(He){He[He.Read=0]="Read",He[He.ReadWrite=1]="ReadWrite",He[He.Copy=2]="Copy",He[He.Create=4]="Create",He[He.All=7]="All"}(t.Permissions||(t.Permissions={})),function(He){He[He.View=0]="View",He[He.Edit=1]="Edit"}(t.ViewMode||(t.ViewMode={})),function(He){He[He.Aad=0]="Aad",He[He.Embed=1]="Embed"}(t.TokenType||(t.TokenType={})),function(He){He[He.None=0]="None",He[He.HighContrast1=1]="HighContrast1",He[He.HighContrast2=2]="HighContrast2",He[He.HighContrastBlack=3]="HighContrastBlack",He[He.HighContrastWhite=4]="HighContrastWhite"}(t.ContrastMode||(t.ContrastMode={})),function(He){He[He.Bottom=0]="Bottom",He[He.Top=1]="Top"}(t.MenuLocation||(t.MenuLocation={})),function(He){He[He.RemoveAll=0]="RemoveAll",He[He.ReplaceAll=1]="ReplaceAll",He[He.Add=2]="Add",He[He.Replace=3]="Replace"}(t.FiltersOperations||(t.FiltersOperations={})),function(He){He[He.Report=0]="Report",He[He.Page=1]="Page",He[He.Visual=2]="Visual"}(t.FiltersLevel||(t.FiltersLevel={})),function(He){He[He.Advanced=0]="Advanced",He[He.Basic=1]="Basic",He[He.Unknown=2]="Unknown",He[He.IncludeExclude=3]="IncludeExclude",He[He.RelativeDate=4]="RelativeDate",He[He.TopN=5]="TopN",He[He.Tuple=6]="Tuple",He[He.RelativeTime=7]="RelativeTime",He[He.Identity=8]="Identity",He[He.Hierarchy=9]="Hierarchy",He[He.HierarchyIdentity=10]="HierarchyIdentity"}(T=t.FilterType||(t.FilterType={})),function(He){He[He.Days=0]="Days",He[He.Weeks=1]="Weeks",He[He.CalendarWeeks=2]="CalendarWeeks",He[He.Months=3]="Months",He[He.CalendarMonths=4]="CalendarMonths",He[He.Years=5]="Years",He[He.CalendarYears=6]="CalendarYears",He[He.Minutes=7]="Minutes",He[He.Hours=8]="Hours"}(t.RelativeDateFilterTimeUnit||(t.RelativeDateFilterTimeUnit={})),function(He){He[He.InLast=0]="InLast",He[He.InThis=1]="InThis",He[He.InNext=2]="InNext"}(t.RelativeDateOperators||(t.RelativeDateOperators={}));var w=function(){function He(Mt,Bt){this.target=Mt,this.filterType=Bt}return He.prototype.toJSON=function(){var Mt={$schema:this.schemaUrl,target:this.target,filterType:this.filterType};return void 0!==this.displaySettings&&(Mt.displaySettings=this.displaySettings),Mt},He}();t.Filter=w;var M=function(He){function Mt(Bt,ze,st){var Lt=He.call(this,Bt,T.Unknown)||this;return Lt.message=ze,Lt.notSupportedTypeName=st,Lt.schemaUrl=Mt.schemaUrl,Lt}return g(Mt,He),Mt.prototype.toJSON=function(){var Bt=He.prototype.toJSON.call(this);return Bt.message=this.message,Bt.notSupportedTypeName=this.notSupportedTypeName,Bt},Mt.schemaUrl="http://powerbi.com/product/schema#notSupported",Mt}(w);t.NotSupportedFilter=M;var A=function(He){function Mt(Bt,ze,st){var Lt=He.call(this,Bt,T.IncludeExclude)||this;return Lt.target=Bt,Lt.values=st,Lt.isExclude=ze,Lt.schemaUrl=Mt.schemaUrl,Lt}return g(Mt,He),Mt.prototype.toJSON=function(){var Bt=He.prototype.toJSON.call(this);return Bt.isExclude=this.isExclude,Bt.values=this.values,Bt},Mt.schemaUrl="http://powerbi.com/product/schema#includeExclude",Mt}(w);t.IncludeExcludeFilter=A;var R=function(He){function Mt(Bt,ze,st,Lt){var Qt=He.call(this,Bt,T.TopN)||this;return Qt.operator=ze,Qt.itemCount=st,Qt.schemaUrl=Mt.schemaUrl,Qt.orderBy=Lt,Qt}return g(Mt,He),Mt.prototype.toJSON=function(){var Bt=He.prototype.toJSON.call(this);return Bt.operator=this.operator,Bt.itemCount=this.itemCount,Bt.orderBy=this.orderBy,Bt},Mt.schemaUrl="http://powerbi.com/product/schema#topN",Mt}(w);t.TopNFilter=R;var B=function(He){function Mt(Bt,ze,st,Lt,Qt){var $t=He.call(this,Bt,T.RelativeDate)||this;return $t.operator=ze,$t.timeUnitsCount=st,$t.timeUnitType=Lt,$t.includeToday=Qt,$t.schemaUrl=Mt.schemaUrl,$t}return g(Mt,He),Mt.prototype.toJSON=function(){var Bt=He.prototype.toJSON.call(this);return Bt.operator=this.operator,Bt.timeUnitsCount=this.timeUnitsCount,Bt.timeUnitType=this.timeUnitType,Bt.includeToday=this.includeToday,Bt},Mt.schemaUrl="http://powerbi.com/product/schema#relativeDate",Mt}(w);t.RelativeDateFilter=B;var N=function(He){function Mt(Bt,ze,st,Lt){var Qt=He.call(this,Bt,T.RelativeTime)||this;return Qt.operator=ze,Qt.timeUnitsCount=st,Qt.timeUnitType=Lt,Qt.schemaUrl=Mt.schemaUrl,Qt}return g(Mt,He),Mt.prototype.toJSON=function(){var Bt=He.prototype.toJSON.call(this);return Bt.operator=this.operator,Bt.timeUnitsCount=this.timeUnitsCount,Bt.timeUnitType=this.timeUnitType,Bt},Mt.schemaUrl="http://powerbi.com/product/schema#relativeTime",Mt}(w);t.RelativeTimeFilter=N;var W=function(He){function Mt(Bt,ze){for(var st=[],Lt=2;Lt<arguments.length;Lt++)st[Lt-2]=arguments[Lt];var Qt=He.call(this,Bt,T.Basic)||this;if(Qt.operator=ze,Qt.schemaUrl=Mt.schemaUrl,0===st.length&&"All"!==ze)throw new Error('values must be a non-empty array unless your operator is "All".');return Qt.values=Array.isArray(st[0])?st[0]:st,Qt}return g(Mt,He),Mt.prototype.toJSON=function(){var Bt=He.prototype.toJSON.call(this);return Bt.operator=this.operator,Bt.values=this.values,Bt.requireSingleSelection=!!this.requireSingleSelection,Bt},Mt.schemaUrl="http://powerbi.com/product/schema#basic",Mt}(w);t.BasicFilter=W;var F=function(He){function Mt(Bt,ze,st,Lt){var Qt=He.call(this,Bt,ze,st)||this;Qt.keyValues=Lt,Qt.target=Bt;var $t=Bt.keys?Bt.keys.length:0;if($t>0&&!Lt)throw new Error("You should pass the values to be filtered for each key. You passed: no values and ".concat($t," keys"));if(0===$t&&Lt&&Lt.length>0)throw new Error("You passed key values but your target object doesn't contain the keys to be filtered");for(var lr=0,gr=Qt.keyValues;lr<gr.length;lr++){var _r=gr[lr];if(_r){var Mr=_r.length;if(Mr!==$t)throw new Error("Each tuple of key values should contain a value for each of the keys. You passed: ".concat(Mr," values and ").concat($t," keys"))}}return Qt}return g(Mt,He),Mt.prototype.toJSON=function(){var Bt=He.prototype.toJSON.call(this);return Bt.keyValues=this.keyValues,Bt},Mt}(W);t.BasicFilterWithKeys=F;var U=function(He){function Mt(Bt,ze){var st=He.call(this,Bt,T.Identity)||this;return st.operator=ze,st.schemaUrl=Mt.schemaUrl,st}return g(Mt,He),Mt.prototype.toJSON=function(){var Bt=He.prototype.toJSON.call(this);return Bt.operator=this.operator,Bt.target=this.target,Bt},Mt.schemaUrl="http://powerbi.com/product/schema#identity",Mt}(w);t.IdentityFilter=U;var O=function(He){function Mt(Bt,ze,st){var Lt=He.call(this,Bt,T.Tuple)||this;return Lt.operator=ze,Lt.schemaUrl=Mt.schemaUrl,Lt.values=st,Lt}return g(Mt,He),Mt.prototype.toJSON=function(){var Bt=He.prototype.toJSON.call(this);return Bt.operator=this.operator,Bt.values=this.values,Bt.target=this.target,Bt},Mt.schemaUrl="http://powerbi.com/product/schema#tuple",Mt}(w);t.TupleFilter=O;var x=function(He){function Mt(Bt,ze){for(var st=[],Lt=2;Lt<arguments.length;Lt++)st[Lt-2]=arguments[Lt];var $t,Qt=He.call(this,Bt,T.Advanced)||this;if(Qt.schemaUrl=Mt.schemaUrl,"string"!=typeof ze||0===ze.length)throw new Error("logicalOperator must be a valid operator, You passed: ".concat(ze));if(Qt.logicalOperator=ze,($t=Array.isArray(st[0])?st[0]:st).length>2)throw new Error("AdvancedFilters may not have more than two conditions. You passed: ".concat(st.length));if(1===$t.length&&"And"!==ze)throw new Error('Logical Operator must be "And" when there is only one condition provided');return Qt.conditions=$t,Qt}return g(Mt,He),Mt.prototype.toJSON=function(){var Bt=He.prototype.toJSON.call(this);return Bt.logicalOperator=this.logicalOperator,Bt.conditions=this.conditions,Bt},Mt.schemaUrl="http://powerbi.com/product/schema#advanced",Mt}(w);t.AdvancedFilter=x;var I=function(He){function Mt(Bt,ze){var st=He.call(this,Bt,T.Hierarchy)||this;return st.schemaUrl=Mt.schemaUrl,st.hierarchyData=ze,st}return g(Mt,He),Mt.prototype.toJSON=function(){var Bt=He.prototype.toJSON.call(this);return Bt.hierarchyData=this.hierarchyData,Bt.target=this.target,Bt},Mt.schemaUrl="http://powerbi.com/product/schema#hierarchy",Mt}(w);t.HierarchyFilter=I;var L=function(He){function Mt(Bt,ze){var st=He.call(this,Bt,T.HierarchyIdentity)||this;return st.schemaUrl=Mt.schemaUrl,st.hierarchyData=ze,st}return g(Mt,He),Mt.prototype.toJSON=function(){var Bt=He.prototype.toJSON.call(this);return Bt.hierarchyData=this.hierarchyData,Bt.target=this.target,Bt},Mt.schemaUrl="http://powerbi.com/product/schema#hierarchyIdentity",Mt}(w);function H(He){if(He.filterType)return He.filterType;var Bt=He;return"string"==typeof He.operator&&Array.isArray(He.values)?T.Basic:"string"==typeof Bt.logicalOperator&&Array.isArray(Bt.conditions)?T.Advanced:T.Unknown}function k(He){return!(!He.table||!He.column||He.aggregationFunction)}t.HierarchyIdentityFilter=L,t.isFilterKeyColumnsTarget=function(He){return k(He)&&!!He.keys},t.isBasicFilterWithKeys=function(He){return H(He)===T.Basic&&!!He.keyValues},t.getFilterType=H,t.isMeasure=function(He){return void 0!==He.table&&void 0!==He.measure},t.isColumn=k,t.isHierarchyLevel=function(He){return!(!(He.table&&He.hierarchy&&He.hierarchyLevel)||He.aggregationFunction)},t.isHierarchyLevelAggr=function(He){return!!(He.table&&He.hierarchy&&He.hierarchyLevel&&He.aggregationFunction)},t.isColumnAggr=function(He){return!!(He.table&&He.column&&He.aggregationFunction)},t.isPercentOfGrandTotal=function(He){return!!He.percentOfGrandTotal},function(He){He[He.NoConnection=0]="NoConnection",He[He.OnBehalfOf=1]="OnBehalfOf",He[He.Anonymous=2]="Anonymous"}(t.CredentialType||(t.CredentialType={})),function(He){He[He.Import=0]="Import",He[He.DirectQuery=1]="DirectQuery"}(t.DataCacheMode||(t.DataCacheMode={})),function(He){He[He.Default=1]="Default",He[He.None=2]="None",He[He.Sum=3]="Sum",He[He.Min=4]="Min",He[He.Max=5]="Max",He[He.Count=6]="Count",He[He.Average=7]="Average",He[He.DistinctCount=8]="DistinctCount"}(t.AggregateFunction||(t.AggregateFunction={})),function(He){He[He.Default=0]="Default",He[He.NoAdjustments=1]="NoAdjustments"}(t.BrowserPrintAdjustmentsMode||(t.BrowserPrintAdjustmentsMode={})),function(He){He[He.Bottom=0]="Bottom",He[He.Left=1]="Left"}(t.PageNavigationPosition||(t.PageNavigationPosition={})),function(He){He[He.Interactive=0]="Interactive",He[He.ResultOnly=1]="ResultOnly"}(t.QnaMode||(t.QnaMode={})),function(He){He[He.Summarized=0]="Summarized",He[He.Underlying=1]="Underlying"}(t.ExportDataType||(t.ExportDataType={})),function(He){He[He.Off=0]="Off",He[He.Presentation=1]="Presentation"}(t.BookmarksPlayMode||(t.BookmarksPlayMode={})),t.CommonErrorCodes={TokenExpired:"TokenExpired",NotFound:"PowerBIEntityNotFound",InvalidParameters:"Invalid parameters",LoadReportFailed:"LoadReportFailed",NotAuthorized:"PowerBINotAuthorizedException",FailedToLoadModel:"ExplorationContainer_FailedToLoadModel_DefaultDetails"},t.TextAlignment={Left:"left",Center:"center",Right:"right"},t.LegendPosition={Top:"Top",Bottom:"Bottom",Right:"Right",Left:"Left",TopCenter:"TopCenter",BottomCenter:"BottomCenter",RightCenter:"RightCenter",LeftCenter:"LeftCenter"},function(He){He[He.Ascending=1]="Ascending",He[He.Descending=2]="Descending"}(t.SortDirection||(t.SortDirection={}));var Ct=function(){function He(Mt){this.$schema=Mt}return He.prototype.toJSON=function(){return{$schema:this.$schema}},He}();t.Selector=Ct;var Ke=function(He){function Mt(Bt){var ze=He.call(this,Mt.schemaUrl)||this;return ze.pageName=Bt,ze}return g(Mt,He),Mt.prototype.toJSON=function(){var Bt=He.prototype.toJSON.call(this);return Bt.pageName=this.pageName,Bt},Mt.schemaUrl="http://powerbi.com/product/schema#pageSelector",Mt}(Ct);t.PageSelector=Ke;var Ae=function(He){function Mt(Bt){var ze=He.call(this,Mt.schemaUrl)||this;return ze.visualName=Bt,ze}return g(Mt,He),Mt.prototype.toJSON=function(){var Bt=He.prototype.toJSON.call(this);return Bt.visualName=this.visualName,Bt},Mt.schemaUrl="http://powerbi.com/product/schema#visualSelector",Mt}(Ct);t.VisualSelector=Ae;var we=function(He){function Mt(Bt){var ze=He.call(this,Ae.schemaUrl)||this;return ze.visualType=Bt,ze}return g(Mt,He),Mt.prototype.toJSON=function(){var Bt=He.prototype.toJSON.call(this);return Bt.visualType=this.visualType,Bt},Mt.schemaUrl="http://powerbi.com/product/schema#visualTypeSelector",Mt}(Ct);t.VisualTypeSelector=we;var Ne=function(He){function Mt(Bt){var ze=He.call(this,Ae.schemaUrl)||this;return ze.target=Bt,ze}return g(Mt,He),Mt.prototype.toJSON=function(){var Bt=He.prototype.toJSON.call(this);return Bt.target=this.target,Bt},Mt.schemaUrl="http://powerbi.com/product/schema#slicerTargetSelector",Mt}(Ct);function Ee(He){return Array.isArray(He)}function ye(He){return He&&!!He.groupName}function he(He){return Array.isArray(He)}function Ce(He){var Mt=He.message;return Mt||(Mt="".concat(He.path," is invalid. Not meeting ").concat(He.keyword," constraint")),{message:Mt}}t.SlicerTargetSelector=Ne,function(He){He[He.Enabled=0]="Enabled",He[He.Disabled=1]="Disabled",He[He.Hidden=2]="Hidden"}(t.CommandDisplayOption||(t.CommandDisplayOption={})),function(He){He[He.Grouping=0]="Grouping",He[He.Measure=1]="Measure",He[He.GroupingOrMeasure=2]="GroupingOrMeasure"}(t.VisualDataRoleKind||(t.VisualDataRoleKind={})),function(He){He[He.Measure=0]="Measure",He[He.Grouping=1]="Grouping"}(t.VisualDataRoleKindPreference||(t.VisualDataRoleKindPreference={})),t.isOnLoadFilters=function(He){return He&&!Ee(He)},t.isReportFiltersArray=Ee,t.isFlatMenuExtension=function(He){return He&&!ye(He)},t.isGroupedMenuExtension=ye,t.isIExtensions=function(He){return He&&!he(He)},t.isIExtensionArray=he,t.validateVisualSelector=function(He){var Mt=n.Validators.visualSelectorValidator.validate(He);return Mt?Mt.map(Ce):void 0},t.validateSlicer=function(He){var Mt=n.Validators.slicerValidator.validate(He);return Mt?Mt.map(Ce):void 0},t.validateSlicerState=function(He){var Mt=n.Validators.slicerStateValidator.validate(He);return Mt?Mt.map(Ce):void 0},t.validatePlayBookmarkRequest=function(He){var Mt=n.Validators.playBookmarkRequestValidator.validate(He);return Mt?Mt.map(Ce):void 0},t.validateAddBookmarkRequest=function(He){var Mt=n.Validators.addBookmarkRequestValidator.validate(He);return Mt?Mt.map(Ce):void 0},t.validateApplyBookmarkByNameRequest=function(He){var Mt=n.Validators.applyBookmarkByNameRequestValidator.validate(He);return Mt?Mt.map(Ce):void 0},t.validateApplyBookmarkStateRequest=function(He){var Mt=n.Validators.applyBookmarkStateRequestValidator.validate(He);return Mt?Mt.map(Ce):void 0},t.validateCaptureBookmarkRequest=function(He){var Mt=n.Validators.captureBookmarkRequestValidator.validate(He);return Mt?Mt.map(Ce):void 0},t.validateSettings=function(He){var Mt=n.Validators.settingsValidator.validate(He);return Mt?Mt.map(Ce):void 0},t.validatePanes=function(He){var Mt=n.Validators.reportPanesValidator.validate(He);return Mt?Mt.map(Ce):void 0},t.validateBookmarksPane=function(He){var Mt=n.Validators.bookmarksPaneValidator.validate(He);return Mt?Mt.map(Ce):void 0},t.validateFiltersPane=function(He){var Mt=n.Validators.filtersPaneValidator.validate(He);return Mt?Mt.map(Ce):void 0},t.validateFieldsPane=function(He){var Mt=n.Validators.fieldsPaneValidator.validate(He);return Mt?Mt.map(Ce):void 0},t.validatePageNavigationPane=function(He){var Mt=n.Validators.pageNavigationPaneValidator.validate(He);return Mt?Mt.map(Ce):void 0},t.validateSelectionPane=function(He){var Mt=n.Validators.selectionPaneValidator.validate(He);return Mt?Mt.map(Ce):void 0},t.validateSyncSlicersPane=function(He){var Mt=n.Validators.syncSlicersPaneValidator.validate(He);return Mt?Mt.map(Ce):void 0},t.validateVisualizationsPane=function(He){var Mt=n.Validators.visualizationsPaneValidator.validate(He);return Mt?Mt.map(Ce):void 0},t.validateCustomPageSize=function(He){var Mt=n.Validators.customPageSizeValidator.validate(He);return Mt?Mt.map(Ce):void 0},t.validateExtension=function(He){var Mt=n.Validators.extensionValidator.validate(He);return Mt?Mt.map(Ce):void 0},t.validateMenuGroupExtension=function(He){var Mt=n.Validators.menuGroupExtensionValidator.validate(He);return Mt?Mt.map(Ce):void 0},t.validateReportLoad=function(He){var Mt=n.Validators.reportLoadValidator.validate(He);return Mt?Mt.map(Ce):void 0},t.validatePaginatedReportLoad=function(He){var Mt=n.Validators.paginatedReportLoadValidator.validate(He);return Mt?Mt.map(Ce):void 0},t.validateCreateReport=function(He){var Mt=n.Validators.reportCreateValidator.validate(He);return Mt?Mt.map(Ce):void 0},t.validateQuickCreate=function(He){var Mt=n.Validators.quickCreateValidator.validate(He);return Mt?Mt.map(Ce):void 0},t.validateDashboardLoad=function(He){var Mt=n.Validators.dashboardLoadValidator.validate(He);return Mt?Mt.map(Ce):void 0},t.validateTileLoad=function(He){var Mt=n.Validators.tileLoadValidator.validate(He);return Mt?Mt.map(Ce):void 0},t.validatePage=function(He){var Mt=n.Validators.pageValidator.validate(He);return Mt?Mt.map(Ce):void 0},t.validateFilter=function(He){var Mt=n.Validators.filterValidator.validate(He);return Mt?Mt.map(Ce):void 0},t.validateUpdateFiltersRequest=function(He){var Mt=n.Validators.updateFiltersRequestValidator.validate(He);return Mt?Mt.map(Ce):void 0},t.validateSaveAsParameters=function(He){var Mt=n.Validators.saveAsParametersValidator.validate(He);return Mt?Mt.map(Ce):void 0},t.validateLoadQnaConfiguration=function(He){var Mt=n.Validators.loadQnaValidator.validate(He);return Mt?Mt.map(Ce):void 0},t.validateQnaInterpretInputData=function(He){var Mt=n.Validators.qnaInterpretInputDataValidator.validate(He);return Mt?Mt.map(Ce):void 0},t.validateExportDataRequest=function(He){var Mt=n.Validators.exportDataRequestValidator.validate(He);return Mt?Mt.map(Ce):void 0},t.validateVisualHeader=function(He){var Mt=n.Validators.visualHeaderValidator.validate(He);return Mt?Mt.map(Ce):void 0},t.validateVisualSettings=function(He){var Mt=n.Validators.visualSettingsValidator.validate(He);return Mt?Mt.map(Ce):void 0},t.validateCommandsSettings=function(He){var Mt=n.Validators.commandsSettingsValidator.validate(He);return Mt?Mt.map(Ce):void 0},t.validateCustomTheme=function(He){var Mt=n.Validators.customThemeValidator.validate(He);return Mt?Mt.map(Ce):void 0},t.validateZoomLevel=function(He){var Mt=n.Validators.zoomLevelValidator.validate(He);return Mt?Mt.map(Ce):void 0},t.validatePrintSettings=function(He){var Mt=n.Validators.printSettingsValidator.validate(He);return Mt?Mt.map(Ce):void 0}},(a,t,l)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Validators=void 0;var g=l(2),n=l(5),p=l(6),s=l(7),d=l(8),o=l(9),v=l(10),m=l(11),c=l(12),C=l(13),y=l(14),S=l(15),h=l(16),E=l(17),u=l(18),f=l(19),b=l(20),V=l(21),T=l(22),P=l(23),D=l(24),w=l(25),M=l(26),A=l(27),R=l(28),B=l(29),N=l(4),W=l(30),F=l(31),U=l(32),O=l(33),x=l(34);t.Validators={addBookmarkRequestValidator:new n.AddBookmarkRequestValidator,advancedFilterTypeValidator:new N.EnumValidator([0]),advancedFilterValidator:new c.AdvancedFilterValidator,anyArrayValidator:new N.ArrayValidator([new M.AnyOfValidator([new N.StringValidator,new N.NumberValidator,new N.BooleanValidator])]),anyFilterValidator:new M.AnyOfValidator([new c.BasicFilterValidator,new c.AdvancedFilterValidator,new c.IncludeExcludeFilterValidator,new c.NotSupportedFilterValidator,new c.RelativeDateFilterValidator,new c.TopNFilterValidator,new c.RelativeTimeFilterValidator,new c.HierarchyFilterValidator]),anyValueValidator:new M.AnyOfValidator([new N.StringValidator,new N.NumberValidator,new N.BooleanValidator]),actionBarValidator:new g.ActionBarValidator,statusBarValidator:new g.StatusBarValidator,applyBookmarkByNameRequestValidator:new n.ApplyBookmarkByNameRequestValidator,applyBookmarkStateRequestValidator:new n.ApplyBookmarkStateRequestValidator,applyBookmarkValidator:new M.AnyOfValidator([new n.ApplyBookmarkByNameRequestValidator,new n.ApplyBookmarkStateRequestValidator]),backgroundValidator:new N.EnumValidator([0,1]),basicFilterTypeValidator:new N.EnumValidator([1]),basicFilterValidator:new c.BasicFilterValidator,booleanArrayValidator:new N.BooleanArrayValidator,booleanValidator:new N.BooleanValidator,bookmarksPaneValidator:new S.BookmarksPaneValidator,captureBookmarkOptionsValidator:new n.CaptureBookmarkOptionsValidator,captureBookmarkRequestValidator:new n.CaptureBookmarkRequestValidator,columnSchemaArrayValidator:new N.ArrayValidator([new F.ColumnSchemaValidator]),commandDisplayOptionValidator:new N.EnumValidator([0,1,2]),commandExtensionSelectorValidator:new M.AnyOfValidator([new V.VisualSelectorValidator,new V.VisualTypeSelectorValidator]),commandExtensionArrayValidator:new N.ArrayValidator([new m.CommandExtensionValidator]),commandExtensionValidator:new m.CommandExtensionValidator,commandsSettingsArrayValidator:new N.ArrayValidator([new p.CommandsSettingsValidator]),commandsSettingsValidator:new p.CommandsSettingsValidator,conditionItemValidator:new c.ConditionItemValidator,contrastModeValidator:new N.EnumValidator([0,1,2,3,4]),credentialDetailsValidator:new B.MapValidator([new N.StringValidator],[new N.StringValidator]),credentialsValidator:new F.CredentialsValidator,credentialTypeValidator:new N.EnumValidator([0,1,2]),customLayoutDisplayOptionValidator:new N.EnumValidator([0,1,2]),customLayoutValidator:new C.CustomLayoutValidator,customPageSizeValidator:new y.CustomPageSizeValidator,customThemeValidator:new s.CustomThemeValidator,dashboardLoadValidator:new d.DashboardLoadValidator,dataCacheModeValidator:new N.EnumValidator([0,1]),datasetBindingValidator:new o.DatasetBindingValidator,datasetCreateConfigValidator:new F.DatasetCreateConfigValidator,datasourceConnectionConfigValidator:new F.DatasourceConnectionConfigValidator,displayStateModeValidator:new N.EnumValidator([0,1]),displayStateValidator:new C.DisplayStateValidator,exportDataRequestValidator:new v.ExportDataRequestValidator,extensionArrayValidator:new N.ArrayValidator([new m.ExtensionValidator]),extensionsValidator:new M.AnyOfValidator([new N.ArrayValidator([new m.ExtensionValidator]),new m.ExtensionsValidator]),extensionPointsValidator:new m.ExtensionPointsValidator,extensionValidator:new m.ExtensionValidator,fieldForbiddenValidator:new A.FieldForbiddenValidator,fieldRequiredValidator:new R.FieldRequiredValidator,fieldsPaneValidator:new S.FieldsPaneValidator,filterColumnTargetValidator:new c.FilterColumnTargetValidator,filterDisplaySettingsValidator:new c.FilterDisplaySettingsValidator,filterConditionsValidator:new N.ArrayValidator([new c.ConditionItemValidator]),filterHierarchyTargetValidator:new c.FilterHierarchyTargetValidator,filterMeasureTargetValidator:new c.FilterMeasureTargetValidator,filterTargetValidator:new M.AnyOfValidator([new c.FilterColumnTargetValidator,new c.FilterHierarchyTargetValidator,new c.FilterMeasureTargetValidator,new N.ArrayValidator([new M.AnyOfValidator([new c.FilterColumnTargetValidator,new c.FilterHierarchyTargetValidator,new c.FilterMeasureTargetValidator,new c.FilterKeyColumnsTargetValidator,new c.FilterKeyHierarchyTargetValidator,new N.ArrayValidator([new M.AnyOfValidator([new c.FilterColumnTargetValidator,new c.FilterHierarchyTargetValidator,new c.FilterMeasureTargetValidator,new c.FilterKeyColumnsTargetValidator,new c.FilterKeyHierarchyTargetValidator])])])])]),filterValidator:new c.FilterValidator,filterTypeValidator:new N.EnumValidator([0,1,2,3,4,5,6,7,9]),filtersArrayValidator:new N.ArrayValidator([new c.FilterValidator]),filtersOperationsUpdateValidator:new N.EnumValidator([1,2,3]),filtersOperationsRemoveAllValidator:new N.EnumValidator([0]),filtersPaneValidator:new S.FiltersPaneValidator,hyperlinkClickBehaviorValidator:new N.EnumValidator([0,1,2]),includeExcludeFilterValidator:new c.IncludeExcludeFilterValidator,includeExludeFilterTypeValidator:new N.EnumValidator([3]),includeExcludeFilterValuesValidator:new N.ArrayValidator([new M.AnyOfValidator([new N.StringValidator,new N.NumberValidator,new N.BooleanValidator,new N.ArrayValidator([new N.ArrayValidator([new c.IncludeExcludePointValueValidator])])])]),hierarchyFilterTypeValidator:new N.EnumValidator([9]),hierarchyFilterValuesValidator:new N.ArrayValidator([new c.HierarchyFilterNodeValidator]),layoutTypeValidator:new N.EnumValidator([0,1,2,3]),loadQnaValidator:new h.LoadQnaValidator,menuExtensionValidator:new M.AnyOfValidator([new m.FlatMenuExtensionValidator,new m.GroupedMenuExtensionValidator]),menuGroupExtensionArrayValidator:new N.ArrayValidator([new m.MenuGroupExtensionValidator]),menuGroupExtensionValidator:new m.MenuGroupExtensionValidator,menuLocationValidator:new N.EnumValidator([0,1]),notSupportedFilterTypeValidator:new N.EnumValidator([2]),notSupportedFilterValidator:new c.NotSupportedFilterValidator,numberArrayValidator:new N.NumberArrayValidator,numberValidator:new N.NumberValidator,onLoadFiltersBaseValidator:new M.AnyOfValidator([new c.OnLoadFiltersBaseValidator,new c.OnLoadFiltersBaseRemoveOperationValidator]),pageLayoutValidator:new B.MapValidator([new N.StringValidator],[new C.VisualLayoutValidator]),pageNavigationPaneValidator:new S.PageNavigationPaneValidator,pageNavigationPositionValidator:new N.EnumValidator([0,1]),pageSizeTypeValidator:new N.EnumValidator([0,1,2,3,4,5]),pageSizeValidator:new y.PageSizeValidator,pageValidator:new y.PageValidator,pageViewFieldValidator:new y.PageViewFieldValidator,pagesLayoutValidator:new B.MapValidator([new N.StringValidator],[new C.PageLayoutValidator]),paginatedReportCommandsValidator:new p.PaginatedReportCommandsValidator,paginatedReportDatasetBindingArrayValidator:new N.ArrayValidator([new x.PaginatedReportDatasetBindingValidator]),paginatedReportLoadValidator:new f.PaginatedReportLoadValidator,paginatedReportsettingsValidator:new T.PaginatedReportSettingsValidator,parameterValuesArrayValidator:new N.ArrayValidator([new f.ReportParameterFieldsValidator]),parametersPanelValidator:new W.ParametersPanelValidator,permissionsValidator:new N.EnumValidator([0,1,2,4,7]),playBookmarkRequestValidator:new n.PlayBookmarkRequestValidator,printSettingsValidator:new O.PrintSettingsValidator,qnaInterpretInputDataValidator:new h.QnaInterpretInputDataValidator,qnaPanesValidator:new S.QnaPanesValidator,qnaSettingValidator:new h.QnaSettingsValidator,quickCreateValidator:new U.QuickCreateValidator,rawDataValidator:new N.ArrayValidator([new N.ArrayValidator([new N.StringValidator])]),relativeDateFilterOperatorValidator:new N.EnumValidator([0,1,2]),relativeDateFilterTimeUnitTypeValidator:new N.EnumValidator([0,1,2,3,4,5,6]),relativeDateFilterTypeValidator:new N.EnumValidator([4]),relativeDateFilterValidator:new c.RelativeDateFilterValidator,relativeDateTimeFilterTypeValidator:new N.EnumValidator([4,7]),relativeDateTimeFilterUnitTypeValidator:new N.EnumValidator([0,1,2,3,4,5,6,7,8]),relativeTimeFilterTimeUnitTypeValidator:new N.EnumValidator([7,8]),relativeTimeFilterTypeValidator:new N.EnumValidator([7]),relativeTimeFilterValidator:new c.RelativeTimeFilterValidator,reportBarsValidator:new g.ReportBarsValidator,reportCreateValidator:new E.ReportCreateValidator,reportLoadFiltersValidator:new M.AnyOfValidator([new N.ArrayValidator([new c.FilterValidator]),new c.OnLoadFiltersValidator]),reportLoadValidator:new u.ReportLoadValidator,reportPanesValidator:new S.ReportPanesValidator,saveAsParametersValidator:new b.SaveAsParametersValidator,selectionPaneValidator:new S.SelectionPaneValidator,settingsValidator:new T.SettingsValidator,singleCommandSettingsValidator:new p.SingleCommandSettingsValidator,slicerSelectorValidator:new M.AnyOfValidator([new V.VisualSelectorValidator,new V.SlicerTargetSelectorValidator]),slicerStateValidator:new P.SlicerStateValidator,slicerTargetValidator:new M.AnyOfValidator([new c.FilterColumnTargetValidator,new c.FilterHierarchyTargetValidator,new c.FilterMeasureTargetValidator,new c.FilterKeyColumnsTargetValidator,new c.FilterKeyHierarchyTargetValidator]),slicerValidator:new P.SlicerValidator,stringArrayValidator:new N.StringArrayValidator,stringValidator:new N.StringValidator,syncSlicersPaneValidator:new S.SyncSlicersPaneValidator,tableDataArrayValidator:new N.ArrayValidator([new F.TableDataValidator]),tableSchemaListValidator:new N.ArrayValidator([new F.TableSchemaValidator]),tileLoadValidator:new D.TileLoadValidator,tokenTypeValidator:new N.EnumValidator([0,1]),topNFilterTypeValidator:new N.EnumValidator([5]),topNFilterValidator:new c.TopNFilterValidator,updateFiltersRequestValidator:new M.AnyOfValidator([new c.UpdateFiltersRequestValidator,new c.RemoveFiltersRequestValidator]),viewModeValidator:new N.EnumValidator([0,1]),visualCommandSelectorValidator:new M.AnyOfValidator([new V.VisualSelectorValidator,new V.VisualTypeSelectorValidator]),visualHeaderSelectorValidator:new M.AnyOfValidator([new V.VisualSelectorValidator,new V.VisualTypeSelectorValidator]),visualHeaderSettingsValidator:new w.VisualHeaderSettingsValidator,visualHeaderValidator:new w.VisualHeaderValidator,visualHeadersValidator:new N.ArrayValidator([new w.VisualHeaderValidator]),visualizationsPaneValidator:new S.VisualizationsPaneValidator,visualLayoutValidator:new C.VisualLayoutValidator,visualSelectorValidator:new V.VisualSelectorValidator,visualSettingsValidator:new w.VisualSettingsValidator,visualTypeSelectorValidator:new V.VisualTypeSelectorValidator,zoomLevelValidator:new N.RangeValidator(.25,4)}},function(a,t,l){var m,g=this&&this.__extends||(m=function(c,C){return(m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,S){y.__proto__=S}||function(y,S){for(var h in S)Object.prototype.hasOwnProperty.call(S,h)&&(y[h]=S[h])})(c,C)},function(c,C){if("function"!=typeof C&&null!==C)throw new TypeError("Class extends value "+String(C)+" is not a constructor or null");function y(){this.constructor=c}m(c,C),c.prototype=null===C?Object.create(C):(y.prototype=C.prototype,new y)});Object.defineProperty(t,"__esModule",{value:!0}),t.StatusBarValidator=t.ActionBarValidator=t.ReportBarsValidator=void 0;var n=l(3),p=l(4),s=l(1),d=function(m){function c(){return null!==m&&m.apply(this,arguments)||this}return g(c,m),c.prototype.validate=function(C,y,S){return null==C?null:m.prototype.validate.call(this,C,y,S)||new n.MultipleFieldsValidator([{field:"actionBar",validators:[s.Validators.actionBarValidator]},{field:"statusBar",validators:[s.Validators.statusBarValidator]}]).validate(C,y,S)},c}(p.ObjectValidator);t.ReportBarsValidator=d;var o=function(m){function c(){return null!==m&&m.apply(this,arguments)||this}return g(c,m),c.prototype.validate=function(C,y,S){return null==C?null:m.prototype.validate.call(this,C,y,S)||new n.MultipleFieldsValidator([{field:"visible",validators:[s.Validators.booleanValidator]}]).validate(C,y,S)},c}(p.ObjectValidator);t.ActionBarValidator=o;var v=function(m){function c(){return null!==m&&m.apply(this,arguments)||this}return g(c,m),c.prototype.validate=function(C,y,S){return null==C?null:m.prototype.validate.call(this,C,y,S)||new n.MultipleFieldsValidator([{field:"visible",validators:[s.Validators.booleanValidator]}]).validate(C,y,S)},c}(p.ObjectValidator);t.StatusBarValidator=v},(a,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.MultipleFieldsValidator=void 0;var l=function(){function g(n){this.fieldValidatorsPairs=n}return g.prototype.validate=function(n,p,s){if(!this.fieldValidatorsPairs)return null;for(var d=p?p+"."+s:s,o=0,v=this.fieldValidatorsPairs;o<v.length;o++)for(var m=v[o],c=0,C=m.validators;c<C.length;c++){var S=C[c].validate(n[m.field],d,m.field);if(S)return S}return null},g}();t.MultipleFieldsValidator=l},function(a,t){var E,l=this&&this.__extends||(E=function(u,f){return(E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,V){b.__proto__=V}||function(b,V){for(var T in V)Object.prototype.hasOwnProperty.call(V,T)&&(b[T]=V[T])})(u,f)},function(u,f){if("function"!=typeof f&&null!==f)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");function b(){this.constructor=u}E(u,f),u.prototype=null===f?Object.create(f):(b.prototype=f.prototype,new b)});Object.defineProperty(t,"__esModule",{value:!0}),t.RangeValidator=t.NumberArrayValidator=t.BooleanArrayValidator=t.StringArrayValidator=t.EnumValidator=t.SchemaValidator=t.ValueValidator=t.NumberValidator=t.BooleanValidator=t.StringValidator=t.TypeValidator=t.ArrayValidator=t.ObjectValidator=void 0;var g=function(){function E(){}return E.prototype.validate=function(u,f,b){return null==u?null:"object"!=typeof u||Array.isArray(u)?[{message:void 0!==b?b+" must be an object":"input must be an object",path:f,keyword:"type"}]:null},E}();t.ObjectValidator=g;var n=function(){function E(u){this.itemValidators=u}return E.prototype.validate=function(u,f,b){if(null==u)return null;if(!Array.isArray(u))return[{message:b+" property is invalid",path:(f?f+".":"")+b,keyword:"type"}];for(var V=0;V<u.length;V++)for(var T=(f?f+".":"")+b+"."+V.toString(),P=0,D=this.itemValidators;P<D.length;P++)if(D[P].validate(u[V],T,b))return[{message:b+" property is invalid",path:(f?f+".":"")+b,keyword:"type"}];return null},E}();t.ArrayValidator=n;var p=function(){function E(u){this.expectedType=u}return E.prototype.validate=function(u,f,b){return null==u?null:typeof u!==this.expectedType?[{message:b+" must be a "+this.expectedType,path:(f?f+".":"")+b,keyword:"type"}]:null},E}();t.TypeValidator=p;var s=function(E){function u(){return E.call(this,"string")||this}return l(u,E),u}(p);t.StringValidator=s;var d=function(E){function u(){return E.call(this,"boolean")||this}return l(u,E),u}(p);t.BooleanValidator=d;var o=function(E){function u(){return E.call(this,"number")||this}return l(u,E),u}(p);t.NumberValidator=o;var v=function(){function E(u){this.possibleValues=u}return E.prototype.validate=function(u,f,b){return null==u?null:this.possibleValues.indexOf(u)<0?[{message:b+" property is invalid",path:(f?f+".":"")+b,keyword:"invalid"}]:null},E}();t.ValueValidator=v;var m=function(E){function u(f){var b=E.call(this,[f])||this;return b.schemaValue=f,b}return l(u,E),u.prototype.validate=function(f,b,V){return E.prototype.validate.call(this,f,b,V)},u}(v);t.SchemaValidator=m;var c=function(E){function u(f){var b=E.call(this)||this;return b.possibleValues=f,b}return l(u,E),u.prototype.validate=function(f,b,V){return null==f?null:E.prototype.validate.call(this,f,b,V)||new v(this.possibleValues).validate(f,b,V)},u}(o);t.EnumValidator=c;var C=function(E){function u(){return E.call(this,[new s])||this}return l(u,E),u.prototype.validate=function(f,b,V){return E.prototype.validate.call(this,f,b,V)?[{message:V+" must be an array of strings",path:(b?b+".":"")+V,keyword:"type"}]:null},u}(n);t.StringArrayValidator=C;var y=function(E){function u(){return E.call(this,[new d])||this}return l(u,E),u.prototype.validate=function(f,b,V){return E.prototype.validate.call(this,f,b,V)?[{message:V+" must be an array of booleans",path:(b?b+".":"")+V,keyword:"type"}]:null},u}(n);t.BooleanArrayValidator=y;var S=function(E){function u(){return E.call(this,[new o])||this}return l(u,E),u.prototype.validate=function(f,b,V){return E.prototype.validate.call(this,f,b,V)?[{message:V+" must be an array of numbers",path:(b?b+".":"")+V,keyword:"type"}]:null},u}(n);t.NumberArrayValidator=S;var h=function(E){function u(f,b){var V=E.call(this)||this;return V.minValue=f,V.maxValue=b,V}return l(u,E),u.prototype.validate=function(f,b,V){return null==f?null:E.prototype.validate.call(this,f,b,V)||(f>this.maxValue||f<this.minValue?[{message:V+" must be a number between "+this.minValue.toString()+" and "+this.maxValue.toString(),path:(b?b+".":"")+V,keyword:"range"}]:null)},u}(o);t.RangeValidator=h},function(a,t,l){var y,g=this&&this.__extends||(y=function(S,h){return(y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(E,u){E.__proto__=u}||function(E,u){for(var f in u)Object.prototype.hasOwnProperty.call(u,f)&&(E[f]=u[f])})(S,h)},function(S,h){if("function"!=typeof h&&null!==h)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");function E(){this.constructor=S}y(S,h),S.prototype=null===h?Object.create(h):(E.prototype=h.prototype,new E)});Object.defineProperty(t,"__esModule",{value:!0}),t.CaptureBookmarkRequestValidator=t.CaptureBookmarkOptionsValidator=t.ApplyBookmarkStateRequestValidator=t.ApplyBookmarkByNameRequestValidator=t.AddBookmarkRequestValidator=t.PlayBookmarkRequestValidator=void 0;var n=l(3),p=l(4),s=l(1),d=function(y){function S(){return null!==y&&y.apply(this,arguments)||this}return g(S,y),S.prototype.validate=function(h,E,u){if(null==h)return null;var f=y.prototype.validate.call(this,h,E,u);if(f)return f;var b=[{field:"playMode",validators:[s.Validators.fieldRequiredValidator,new p.EnumValidator([0,1])]}];return new n.MultipleFieldsValidator(b).validate(h,E,u)},S}(p.ObjectValidator);t.PlayBookmarkRequestValidator=d;var o=function(y){function S(){return null!==y&&y.apply(this,arguments)||this}return g(S,y),S.prototype.validate=function(h,E,u){return null==h?null:y.prototype.validate.call(this,h,E,u)||new n.MultipleFieldsValidator([{field:"state",validators:[s.Validators.stringValidator]},{field:"displayName",validators:[s.Validators.stringValidator]},{field:"apply",validators:[s.Validators.booleanValidator]}]).validate(h,E,u)},S}(p.ObjectValidator);t.AddBookmarkRequestValidator=o;var v=function(y){function S(){return null!==y&&y.apply(this,arguments)||this}return g(S,y),S.prototype.validate=function(h,E,u){return null==h?null:y.prototype.validate.call(this,h,E,u)||new n.MultipleFieldsValidator([{field:"name",validators:[s.Validators.fieldRequiredValidator,s.Validators.stringValidator]}]).validate(h,E,u)},S}(p.ObjectValidator);t.ApplyBookmarkByNameRequestValidator=v;var m=function(y){function S(){return null!==y&&y.apply(this,arguments)||this}return g(S,y),S.prototype.validate=function(h,E,u){return null==h?null:y.prototype.validate.call(this,h,E,u)||new n.MultipleFieldsValidator([{field:"state",validators:[s.Validators.fieldRequiredValidator,s.Validators.stringValidator]}]).validate(h,E,u)},S}(p.ObjectValidator);t.ApplyBookmarkStateRequestValidator=m;var c=function(y){function S(){return null!==y&&y.apply(this,arguments)||this}return g(S,y),S.prototype.validate=function(h,E,u){return null==h?null:y.prototype.validate.call(this,h,E,u)||new n.MultipleFieldsValidator([{field:"personalizeVisuals",validators:[s.Validators.booleanValidator]},{field:"allPages",validators:[s.Validators.booleanValidator]}]).validate(h,E,u)},S}(p.ObjectValidator);t.CaptureBookmarkOptionsValidator=c;var C=function(y){function S(){return null!==y&&y.apply(this,arguments)||this}return g(S,y),S.prototype.validate=function(h,E,u){return null==h?null:y.prototype.validate.call(this,h,E,u)||new n.MultipleFieldsValidator([{field:"options",validators:[s.Validators.fieldRequiredValidator,s.Validators.captureBookmarkOptionsValidator]}]).validate(h,E,u)},S}(p.ObjectValidator);t.CaptureBookmarkRequestValidator=C},function(a,t,l){var m,g=this&&this.__extends||(m=function(c,C){return(m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,S){y.__proto__=S}||function(y,S){for(var h in S)Object.prototype.hasOwnProperty.call(S,h)&&(y[h]=S[h])})(c,C)},function(c,C){if("function"!=typeof C&&null!==C)throw new TypeError("Class extends value "+String(C)+" is not a constructor or null");function y(){this.constructor=c}m(c,C),c.prototype=null===C?Object.create(C):(y.prototype=C.prototype,new y)});Object.defineProperty(t,"__esModule",{value:!0}),t.PaginatedReportCommandsValidator=t.SingleCommandSettingsValidator=t.CommandsSettingsValidator=void 0;var n=l(3),p=l(4),s=l(1),d=function(m){function c(){return null!==m&&m.apply(this,arguments)||this}return g(c,m),c.prototype.validate=function(C,y,S){return null==C?null:m.prototype.validate.call(this,C,y,S)||new n.MultipleFieldsValidator([{field:"copy",validators:[s.Validators.singleCommandSettingsValidator]},{field:"drill",validators:[s.Validators.singleCommandSettingsValidator]},{field:"drillthrough",validators:[s.Validators.singleCommandSettingsValidator]},{field:"expandCollapse",validators:[s.Validators.singleCommandSettingsValidator]},{field:"exportData",validators:[s.Validators.singleCommandSettingsValidator]},{field:"includeExclude",validators:[s.Validators.singleCommandSettingsValidator]},{field:"removeVisual",validators:[s.Validators.singleCommandSettingsValidator]},{field:"search",validators:[s.Validators.singleCommandSettingsValidator]},{field:"seeData",validators:[s.Validators.singleCommandSettingsValidator]},{field:"sort",validators:[s.Validators.singleCommandSettingsValidator]},{field:"spotlight",validators:[s.Validators.singleCommandSettingsValidator]},{field:"insightsAnalysis",validators:[s.Validators.singleCommandSettingsValidator]},{field:"addComment",validators:[s.Validators.singleCommandSettingsValidator]},{field:"groupVisualContainers",validators:[s.Validators.singleCommandSettingsValidator]},{field:"summarize",validators:[s.Validators.singleCommandSettingsValidator]},{field:"clearSelection",validators:[s.Validators.singleCommandSettingsValidator]}]).validate(C,y,S)},c}(p.ObjectValidator);t.CommandsSettingsValidator=d;var o=function(m){function c(){return null!==m&&m.apply(this,arguments)||this}return g(c,m),c.prototype.validate=function(C,y,S){return null==C?null:m.prototype.validate.call(this,C,y,S)||new n.MultipleFieldsValidator([{field:"displayOption",validators:[s.Validators.fieldRequiredValidator,s.Validators.commandDisplayOptionValidator]},{field:"selector",validators:[s.Validators.visualCommandSelectorValidator]}]).validate(C,y,S)},c}(p.ObjectValidator);t.SingleCommandSettingsValidator=o;var v=function(m){function c(){return null!==m&&m.apply(this,arguments)||this}return g(c,m),c.prototype.validate=function(C,y,S){return null==C?null:m.prototype.validate.call(this,C,y,S)||new n.MultipleFieldsValidator([{field:"parameterPanel",validators:[s.Validators.parametersPanelValidator]}]).validate(C,y,S)},c}(p.ObjectValidator);t.PaginatedReportCommandsValidator=v},function(a,t,l){var d,g=this&&this.__extends||(d=function(o,v){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,c){m.__proto__=c}||function(m,c){for(var C in c)Object.prototype.hasOwnProperty.call(c,C)&&(m[C]=c[C])})(o,v)},function(o,v){if("function"!=typeof v&&null!==v)throw new TypeError("Class extends value "+String(v)+" is not a constructor or null");function m(){this.constructor=o}d(o,v),o.prototype=null===v?Object.create(v):(m.prototype=v.prototype,new m)});Object.defineProperty(t,"__esModule",{value:!0}),t.CustomThemeValidator=void 0;var n=l(3),p=l(4),s=function(d){function o(){return null!==d&&d.apply(this,arguments)||this}return g(o,d),o.prototype.validate=function(v,m,c){if(null==v)return null;var C=d.prototype.validate.call(this,v,m,c);if(C)return C;var y=[{field:"themeJson",validators:[new p.ObjectValidator]}];return new n.MultipleFieldsValidator(y).validate(v,m,c)},o}(p.ObjectValidator);t.CustomThemeValidator=s},function(a,t,l){var o,g=this&&this.__extends||(o=function(v,m){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,C){c.__proto__=C}||function(c,C){for(var y in C)Object.prototype.hasOwnProperty.call(C,y)&&(c[y]=C[y])})(v,m)},function(v,m){if("function"!=typeof m&&null!==m)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");function c(){this.constructor=v}o(v,m),v.prototype=null===m?Object.create(m):(c.prototype=m.prototype,new c)});Object.defineProperty(t,"__esModule",{value:!0}),t.DashboardLoadValidator=void 0;var n=l(3),p=l(4),s=l(1),d=function(o){function v(){return null!==o&&o.apply(this,arguments)||this}return g(v,o),v.prototype.validate=function(m,c,C){return null==m?null:o.prototype.validate.call(this,m,c,C)||new n.MultipleFieldsValidator([{field:"accessToken",validators:[s.Validators.fieldRequiredValidator,s.Validators.stringValidator]},{field:"id",validators:[s.Validators.fieldRequiredValidator,s.Validators.stringValidator]},{field:"groupId",validators:[s.Validators.stringValidator]},{field:"pageView",validators:[s.Validators.pageViewFieldValidator]},{field:"tokenType",validators:[s.Validators.tokenTypeValidator]},{field:"embedUrl",validators:[s.Validators.stringValidator]}]).validate(m,c,C)},v}(p.ObjectValidator);t.DashboardLoadValidator=d},function(a,t,l){var o,g=this&&this.__extends||(o=function(v,m){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,C){c.__proto__=C}||function(c,C){for(var y in C)Object.prototype.hasOwnProperty.call(C,y)&&(c[y]=C[y])})(v,m)},function(v,m){if("function"!=typeof m&&null!==m)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");function c(){this.constructor=v}o(v,m),v.prototype=null===m?Object.create(m):(c.prototype=m.prototype,new c)});Object.defineProperty(t,"__esModule",{value:!0}),t.DatasetBindingValidator=void 0;var n=l(3),p=l(4),s=l(1),d=function(o){function v(){return null!==o&&o.apply(this,arguments)||this}return g(v,o),v.prototype.validate=function(m,c,C){return null==m?null:o.prototype.validate.call(this,m,c,C)||(m.datasetId||m.paginatedReportBindings?new n.MultipleFieldsValidator([{field:"datasetId",validators:[s.Validators.stringValidator]},{field:"paginatedReportBindings",validators:[s.Validators.paginatedReportDatasetBindingArrayValidator]}]).validate(m,c,C):[{message:"datasetBinding cannot be empty",path:(c?c+".":"")+C,keyword:"invalid"}])},v}(p.ObjectValidator);t.DatasetBindingValidator=d},function(a,t,l){var d,g=this&&this.__extends||(d=function(o,v){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,c){m.__proto__=c}||function(m,c){for(var C in c)Object.prototype.hasOwnProperty.call(c,C)&&(m[C]=c[C])})(o,v)},function(o,v){if("function"!=typeof v&&null!==v)throw new TypeError("Class extends value "+String(v)+" is not a constructor or null");function m(){this.constructor=o}d(o,v),o.prototype=null===v?Object.create(v):(m.prototype=v.prototype,new m)});Object.defineProperty(t,"__esModule",{value:!0}),t.ExportDataRequestValidator=void 0;var n=l(3),p=l(4),s=function(d){function o(){return null!==d&&d.apply(this,arguments)||this}return g(o,d),o.prototype.validate=function(v,m,c){if(null==v)return null;var C=d.prototype.validate.call(this,v,m,c);if(C)return C;var y=[{field:"rows",validators:[new p.NumberValidator]},{field:"exportDataType",validators:[new p.EnumValidator([0,1])]}];return new n.MultipleFieldsValidator(y).validate(v,m,c)},o}(p.ObjectValidator);t.ExportDataRequestValidator=s},function(a,t,l){var E,g=this&&this.__extends||(E=function(u,f){return(E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,V){b.__proto__=V}||function(b,V){for(var T in V)Object.prototype.hasOwnProperty.call(V,T)&&(b[T]=V[T])})(u,f)},function(u,f){if("function"!=typeof f&&null!==f)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");function b(){this.constructor=u}E(u,f),u.prototype=null===f?Object.create(f):(b.prototype=f.prototype,new b)});Object.defineProperty(t,"__esModule",{value:!0}),t.ExtensionsValidator=t.MenuGroupExtensionValidator=t.ExtensionValidator=t.CommandExtensionValidator=t.ExtensionItemValidator=t.ExtensionPointsValidator=t.GroupedMenuExtensionValidator=t.FlatMenuExtensionValidator=t.MenuExtensionBaseValidator=void 0;var n=l(3),p=l(4),s=l(1),d=function(E){function u(){return null!==E&&E.apply(this,arguments)||this}return g(u,E),u.prototype.validate=function(f,b,V){return null==f?null:E.prototype.validate.call(this,f,b,V)||new n.MultipleFieldsValidator([{field:"title",validators:[s.Validators.stringValidator]},{field:"icon",validators:[s.Validators.stringValidator]}]).validate(f,b,V)},u}(p.ObjectValidator);t.MenuExtensionBaseValidator=d;var o=function(E){function u(){return null!==E&&E.apply(this,arguments)||this}return g(u,E),u.prototype.validate=function(f,b,V){return null==f?null:E.prototype.validate.call(this,f,b,V)||new n.MultipleFieldsValidator([{field:"menuLocation",validators:[s.Validators.menuLocationValidator]},{field:"groupName",validators:[s.Validators.fieldForbiddenValidator]}]).validate(f,b,V)},u}(d);t.FlatMenuExtensionValidator=o;var v=function(E){function u(){return null!==E&&E.apply(this,arguments)||this}return g(u,E),u.prototype.validate=function(f,b,V){return null==f?null:E.prototype.validate.call(this,f,b,V)||new n.MultipleFieldsValidator([{field:"groupName",validators:[s.Validators.fieldRequiredValidator,s.Validators.stringValidator]},{field:"menuLocation",validators:[s.Validators.fieldForbiddenValidator]}]).validate(f,b,V)},u}(d);t.GroupedMenuExtensionValidator=v;var m=function(E){function u(){return null!==E&&E.apply(this,arguments)||this}return g(u,E),u.prototype.validate=function(f,b,V){return null==f?null:E.prototype.validate.call(this,f,b,V)||new n.MultipleFieldsValidator([{field:"visualContextMenu",validators:[s.Validators.menuExtensionValidator]},{field:"visualOptionsMenu",validators:[s.Validators.menuExtensionValidator]}]).validate(f,b,V)},u}(p.ObjectValidator);t.ExtensionPointsValidator=m;var c=function(E){function u(){return null!==E&&E.apply(this,arguments)||this}return g(u,E),u.prototype.validate=function(f,b,V){return null==f?null:E.prototype.validate.call(this,f,b,V)||new n.MultipleFieldsValidator([{field:"name",validators:[s.Validators.fieldRequiredValidator,s.Validators.stringValidator]},{field:"extend",validators:[s.Validators.fieldRequiredValidator,s.Validators.extensionPointsValidator]}]).validate(f,b,V)},u}(p.ObjectValidator);t.ExtensionItemValidator=c;var C=function(E){function u(){return null!==E&&E.apply(this,arguments)||this}return g(u,E),u.prototype.validate=function(f,b,V){return null==f?null:E.prototype.validate.call(this,f,b,V)||new n.MultipleFieldsValidator([{field:"title",validators:[s.Validators.fieldRequiredValidator,s.Validators.stringValidator]},{field:"icon",validators:[s.Validators.stringValidator]},{field:"selector",validators:[s.Validators.commandExtensionSelectorValidator]}]).validate(f,b,V)},u}(c);t.CommandExtensionValidator=C;var y=function(E){function u(){return null!==E&&E.apply(this,arguments)||this}return g(u,E),u.prototype.validate=function(f,b,V){return null==f?null:E.prototype.validate.call(this,f,b,V)||new n.MultipleFieldsValidator([{field:"command",validators:[s.Validators.commandExtensionValidator]}]).validate(f,b,V)},u}(p.ObjectValidator);t.ExtensionValidator=y;var S=function(E){function u(){return null!==E&&E.apply(this,arguments)||this}return g(u,E),u.prototype.validate=function(f,b,V){return null==f?null:E.prototype.validate.call(this,f,b,V)||new n.MultipleFieldsValidator([{field:"name",validators:[s.Validators.fieldRequiredValidator,s.Validators.stringValidator]},{field:"title",validators:[s.Validators.fieldRequiredValidator,s.Validators.stringValidator]},{field:"menuLocation",validators:[s.Validators.menuLocationValidator]}]).validate(f,b,V)},u}(p.ObjectValidator);t.MenuGroupExtensionValidator=S;var h=function(E){function u(){return null!==E&&E.apply(this,arguments)||this}return g(u,E),u.prototype.validate=function(f,b,V){return null==f?null:E.prototype.validate.call(this,f,b,V)||new n.MultipleFieldsValidator([{field:"commands",validators:[s.Validators.fieldRequiredValidator,s.Validators.commandExtensionArrayValidator]},{field:"groups",validators:[s.Validators.menuGroupExtensionArrayValidator]}]).validate(f,b,V)},u}(p.ObjectValidator);t.ExtensionsValidator=h},function(a,t,l){var U,g=this&&this.__extends||(U=function(O,x){return(U=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(I,L){I.__proto__=L}||function(I,L){for(var K in L)Object.prototype.hasOwnProperty.call(L,K)&&(I[K]=L[K])})(O,x)},function(O,x){if("function"!=typeof x&&null!==x)throw new TypeError("Class extends value "+String(x)+" is not a constructor or null");function I(){this.constructor=O}U(O,x),O.prototype=null===x?Object.create(x):(I.prototype=x.prototype,new I)});Object.defineProperty(t,"__esModule",{value:!0}),t.OnLoadFiltersValidator=t.OnLoadFiltersBaseRemoveOperationValidator=t.OnLoadFiltersBaseValidator=t.ConditionItemValidator=t.RemoveFiltersRequestValidator=t.UpdateFiltersRequestValidator=t.FilterValidator=t.IncludeExcludePointValueValidator=t.HierarchyFilterNodeValidator=t.HierarchyFilterValidator=t.IncludeExcludeFilterValidator=t.NotSupportedFilterValidator=t.TopNFilterValidator=t.RelativeTimeFilterValidator=t.RelativeDateFilterValidator=t.RelativeDateTimeFilterValidator=t.AdvancedFilterValidator=t.BasicFilterValidator=t.FilterValidatorBase=t.FilterDisplaySettingsValidator=t.FilterMeasureTargetValidator=t.FilterKeyHierarchyTargetValidator=t.FilterHierarchyTargetValidator=t.FilterKeyColumnsTargetValidator=t.FilterColumnTargetValidator=void 0;var n=l(3),p=l(4),s=l(1),d=function(U){function O(){return null!==U&&U.apply(this,arguments)||this}return g(O,U),O.prototype.validate=function(x,I,L){return null==x?null:U.prototype.validate.call(this,x,I,L)||new n.MultipleFieldsValidator([{field:"table",validators:[s.Validators.fieldRequiredValidator,s.Validators.stringValidator]},{field:"column",validators:[s.Validators.fieldRequiredValidator,s.Validators.stringValidator]}]).validate(x,I,L)},O}(p.ObjectValidator);t.FilterColumnTargetValidator=d;var o=function(U){function O(){return null!==U&&U.apply(this,arguments)||this}return g(O,U),O.prototype.validate=function(x,I,L){return null==x?null:U.prototype.validate.call(this,x,I,L)||new n.MultipleFieldsValidator([{field:"keys",validators:[s.Validators.fieldRequiredValidator,s.Validators.stringArrayValidator]}]).validate(x,I,L)},O}(d);t.FilterKeyColumnsTargetValidator=o;var v=function(U){function O(){return null!==U&&U.apply(this,arguments)||this}return g(O,U),O.prototype.validate=function(x,I,L){return null==x?null:U.prototype.validate.call(this,x,I,L)||new n.MultipleFieldsValidator([{field:"table",validators:[s.Validators.fieldRequiredValidator,s.Validators.stringValidator]},{field:"hierarchy",validators:[s.Validators.fieldRequiredValidator,s.Validators.stringValidator]},{field:"hierarchyLevel",validators:[s.Validators.fieldRequiredValidator,s.Validators.stringValidator]}]).validate(x,I,L)},O}(p.ObjectValidator);t.FilterHierarchyTargetValidator=v;var m=function(U){function O(){return null!==U&&U.apply(this,arguments)||this}return g(O,U),O.prototype.validate=function(x,I,L){return null==x?null:U.prototype.validate.call(this,x,I,L)||new n.MultipleFieldsValidator([{field:"keys",validators:[s.Validators.fieldRequiredValidator,s.Validators.stringArrayValidator]}]).validate(x,I,L)},O}(v);t.FilterKeyHierarchyTargetValidator=m;var c=function(U){function O(){return null!==U&&U.apply(this,arguments)||this}return g(O,U),O.prototype.validate=function(x,I,L){return null==x?null:U.prototype.validate.call(this,x,I,L)||new n.MultipleFieldsValidator([{field:"table",validators:[s.Validators.fieldRequiredValidator,s.Validators.stringValidator]},{field:"measure",validators:[s.Validators.fieldRequiredValidator,s.Validators.stringValidator]}]).validate(x,I,L)},O}(p.ObjectValidator);t.FilterMeasureTargetValidator=c;var C=function(U){function O(){return null!==U&&U.apply(this,arguments)||this}return g(O,U),O.prototype.validate=function(x,I,L){return null==x?null:U.prototype.validate.call(this,x,I,L)||new n.MultipleFieldsValidator([{field:"isLockedInViewMode",validators:[s.Validators.booleanValidator]},{field:"isHiddenInViewMode",validators:[s.Validators.booleanValidator]},{field:"displayName",validators:[s.Validators.stringValidator]}]).validate(x,I,L)},O}(p.ObjectValidator);t.FilterDisplaySettingsValidator=C;var y=function(U){function O(){return null!==U&&U.apply(this,arguments)||this}return g(O,U),O.prototype.validate=function(x,I,L){return null==x?null:U.prototype.validate.call(this,x,I,L)||new n.MultipleFieldsValidator([{field:"target",validators:[s.Validators.fieldRequiredValidator,s.Validators.filterTargetValidator]},{field:"$schema",validators:[s.Validators.stringValidator]},{field:"filterType",validators:[s.Validators.filterTypeValidator]},{field:"displaySettings",validators:[s.Validators.filterDisplaySettingsValidator]}]).validate(x,I,L)},O}(p.ObjectValidator);t.FilterValidatorBase=y;var S=function(U){function O(){return null!==U&&U.apply(this,arguments)||this}return g(O,U),O.prototype.validate=function(x,I,L){return null==x?null:U.prototype.validate.call(this,x,I,L)||new n.MultipleFieldsValidator([{field:"operator",validators:[s.Validators.fieldRequiredValidator,s.Validators.stringValidator]},{field:"values",validators:[s.Validators.fieldRequiredValidator,s.Validators.anyArrayValidator]},{field:"filterType",validators:[s.Validators.basicFilterTypeValidator]},{field:"requireSingleSelection",validators:[s.Validators.booleanValidator]}]).validate(x,I,L)},O}(y);t.BasicFilterValidator=S;var h=function(U){function O(){return null!==U&&U.apply(this,arguments)||this}return g(O,U),O.prototype.validate=function(x,I,L){return null==x?null:U.prototype.validate.call(this,x,I,L)||new n.MultipleFieldsValidator([{field:"logicalOperator",validators:[s.Validators.fieldRequiredValidator,s.Validators.stringValidator]},{field:"conditions",validators:[s.Validators.filterConditionsValidator]},{field:"filterType",validators:[s.Validators.advancedFilterTypeValidator]}]).validate(x,I,L)},O}(y);t.AdvancedFilterValidator=h;var E=function(U){function O(){return null!==U&&U.apply(this,arguments)||this}return g(O,U),O.prototype.validate=function(x,I,L){return null==x?null:U.prototype.validate.call(this,x,I,L)||new n.MultipleFieldsValidator([{field:"operator",validators:[s.Validators.fieldRequiredValidator,s.Validators.relativeDateFilterOperatorValidator]},{field:"timeUnitsCount",validators:[s.Validators.numberValidator]},{field:"timeUnitType",validators:[s.Validators.fieldRequiredValidator,s.Validators.relativeDateTimeFilterUnitTypeValidator]},{field:"filterType",validators:[s.Validators.relativeDateTimeFilterTypeValidator]}]).validate(x,I,L)},O}(y);t.RelativeDateTimeFilterValidator=E;var u=function(U){function O(){return null!==U&&U.apply(this,arguments)||this}return g(O,U),O.prototype.validate=function(x,I,L){return null==x?null:U.prototype.validate.call(this,x,I,L)||new n.MultipleFieldsValidator([{field:"includeToday",validators:[s.Validators.fieldRequiredValidator,s.Validators.booleanValidator]},{field:"timeUnitType",validators:[s.Validators.fieldRequiredValidator,s.Validators.relativeDateFilterTimeUnitTypeValidator]},{field:"filterType",validators:[s.Validators.relativeDateFilterTypeValidator]}]).validate(x,I,L)},O}(E);t.RelativeDateFilterValidator=u;var f=function(U){function O(){return null!==U&&U.apply(this,arguments)||this}return g(O,U),O.prototype.validate=function(x,I,L){return null==x?null:U.prototype.validate.call(this,x,I,L)||new n.MultipleFieldsValidator([{field:"timeUnitType",validators:[s.Validators.fieldRequiredValidator,s.Validators.relativeTimeFilterTimeUnitTypeValidator]},{field:"filterType",validators:[s.Validators.relativeTimeFilterTypeValidator]}]).validate(x,I,L)},O}(E);t.RelativeTimeFilterValidator=f;var b=function(U){function O(){return null!==U&&U.apply(this,arguments)||this}return g(O,U),O.prototype.validate=function(x,I,L){return null==x?null:U.prototype.validate.call(this,x,I,L)||new n.MultipleFieldsValidator([{field:"operator",validators:[s.Validators.fieldRequiredValidator,s.Validators.stringValidator]},{field:"itemCount",validators:[s.Validators.fieldRequiredValidator,s.Validators.numberValidator]},{field:"filterType",validators:[s.Validators.topNFilterTypeValidator]},{field:"orderBy",validators:[s.Validators.fieldRequiredValidator,s.Validators.filterTargetValidator]}]).validate(x,I,L)},O}(y);t.TopNFilterValidator=b;var V=function(U){function O(){return null!==U&&U.apply(this,arguments)||this}return g(O,U),O.prototype.validate=function(x,I,L){return null==x?null:U.prototype.validate.call(this,x,I,L)||new n.MultipleFieldsValidator([{field:"message",validators:[s.Validators.fieldRequiredValidator,s.Validators.stringValidator]},{field:"notSupportedTypeName",validators:[s.Validators.fieldRequiredValidator,s.Validators.stringValidator]},{field:"filterType",validators:[s.Validators.notSupportedFilterTypeValidator]}]).validate(x,I,L)},O}(y);t.NotSupportedFilterValidator=V;var T=function(U){function O(){return null!==U&&U.apply(this,arguments)||this}return g(O,U),O.prototype.validate=function(x,I,L){return null==x?null:U.prototype.validate.call(this,x,I,L)||new n.MultipleFieldsValidator([{field:"isExclude",validators:[s.Validators.fieldRequiredValidator,s.Validators.booleanValidator]},{field:"values",validators:[s.Validators.fieldRequiredValidator,s.Validators.includeExcludeFilterValuesValidator]},{field:"filterType",validators:[s.Validators.includeExludeFilterTypeValidator]}]).validate(x,I,L)},O}(y);t.IncludeExcludeFilterValidator=T;var P=function(U){function O(){return null!==U&&U.apply(this,arguments)||this}return g(O,U),O.prototype.validate=function(x,I,L){return null==x?null:U.prototype.validate.call(this,x,I,L)||new n.MultipleFieldsValidator([{field:"hierarchyData",validators:[s.Validators.fieldRequiredValidator,s.Validators.hierarchyFilterValuesValidator]},{field:"filterType",validators:[s.Validators.hierarchyFilterTypeValidator]}]).validate(x,I,L)},O}(y);t.HierarchyFilterValidator=P;var D=function(U){function O(){return null!==U&&U.apply(this,arguments)||this}return g(O,U),O.prototype.validate=function(x,I,L){return null==x?null:U.prototype.validate.call(this,x,I,L)||new n.MultipleFieldsValidator([{field:"value",validators:[s.Validators.anyValueValidator]},{field:"keyValues",validators:[s.Validators.anyArrayValidator]},{field:"children",validators:[s.Validators.hierarchyFilterValuesValidator]},{field:"operator",validators:[s.Validators.stringValidator]}]).validate(x,I,L)},O}(p.ObjectValidator);t.HierarchyFilterNodeValidator=D;var w=function(U){function O(){return null!==U&&U.apply(this,arguments)||this}return g(O,U),O.prototype.validate=function(x,I,L){return null==x?null:U.prototype.validate.call(this,x,I,L)||new n.MultipleFieldsValidator([{field:"value",validators:[s.Validators.fieldRequiredValidator,s.Validators.anyValueValidator]},{field:"keyValues",validators:[s.Validators.anyArrayValidator]}]).validate(x,I,L)},O}(p.ObjectValidator);t.IncludeExcludePointValueValidator=w;var M=function(U){function O(){return null!==U&&U.apply(this,arguments)||this}return g(O,U),O.prototype.validate=function(x,I,L){return null==x?null:U.prototype.validate.call(this,x,I,L)||s.Validators.anyFilterValidator.validate(x,I,L)},O}(p.ObjectValidator);t.FilterValidator=M;var A=function(U){function O(){return null!==U&&U.apply(this,arguments)||this}return g(O,U),O.prototype.validate=function(x,I,L){return null==x?null:U.prototype.validate.call(this,x,I,L)||new n.MultipleFieldsValidator([{field:"filtersOperation",validators:[s.Validators.fieldRequiredValidator,s.Validators.filtersOperationsUpdateValidator]},{field:"filters",validators:[s.Validators.fieldRequiredValidator,s.Validators.filtersArrayValidator]}]).validate(x,I,L)},O}(p.ObjectValidator);t.UpdateFiltersRequestValidator=A;var R=function(U){function O(){return null!==U&&U.apply(this,arguments)||this}return g(O,U),O.prototype.validate=function(x,I,L){return null==x?null:U.prototype.validate.call(this,x,I,L)||new n.MultipleFieldsValidator([{field:"filtersOperation",validators:[s.Validators.fieldRequiredValidator,s.Validators.filtersOperationsRemoveAllValidator]},{field:"filters",validators:[s.Validators.fieldForbiddenValidator,s.Validators.filtersArrayValidator]}]).validate(x,I,L)},O}(p.ObjectValidator);t.RemoveFiltersRequestValidator=R;var B=function(U){function O(){return null!==U&&U.apply(this,arguments)||this}return g(O,U),O.prototype.validate=function(x,I,L){return null==x?null:U.prototype.validate.call(this,x,I,L)||new n.MultipleFieldsValidator([{field:"value",validators:[s.Validators.anyValueValidator]},{field:"operator",validators:[s.Validators.fieldRequiredValidator,s.Validators.stringValidator]}]).validate(x,I,L)},O}(p.ObjectValidator);t.ConditionItemValidator=B;var N=function(U){function O(){return null!==U&&U.apply(this,arguments)||this}return g(O,U),O.prototype.validate=function(x,I,L){return null==x?null:U.prototype.validate.call(this,x,I,L)||new n.MultipleFieldsValidator([{field:"operation",validators:[s.Validators.fieldRequiredValidator,s.Validators.filtersOperationsUpdateValidator]},{field:"filters",validators:[s.Validators.fieldRequiredValidator,s.Validators.filtersArrayValidator]}]).validate(x,I,L)},O}(p.ObjectValidator);t.OnLoadFiltersBaseValidator=N;var W=function(U){function O(){return null!==U&&U.apply(this,arguments)||this}return g(O,U),O.prototype.validate=function(x,I,L){return null==x?null:U.prototype.validate.call(this,x,I,L)||new n.MultipleFieldsValidator([{field:"operation",validators:[s.Validators.fieldRequiredValidator,s.Validators.filtersOperationsRemoveAllValidator]},{field:"filters",validators:[s.Validators.fieldForbiddenValidator,s.Validators.filtersArrayValidator]}]).validate(x,I,L)},O}(p.ObjectValidator);t.OnLoadFiltersBaseRemoveOperationValidator=W;var F=function(U){function O(){return null!==U&&U.apply(this,arguments)||this}return g(O,U),O.prototype.validate=function(x,I,L){return null==x?null:U.prototype.validate.call(this,x,I,L)||new n.MultipleFieldsValidator([{field:"allPages",validators:[s.Validators.onLoadFiltersBaseValidator]},{field:"currentPage",validators:[s.Validators.onLoadFiltersBaseValidator]}]).validate(x,I,L)},O}(p.ObjectValidator);t.OnLoadFiltersValidator=F},function(a,t,l){var c,g=this&&this.__extends||(c=function(C,y){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(S,h){S.__proto__=h}||function(S,h){for(var E in h)Object.prototype.hasOwnProperty.call(h,E)&&(S[E]=h[E])})(C,y)},function(C,y){if("function"!=typeof y&&null!==y)throw new TypeError("Class extends value "+String(y)+" is not a constructor or null");function S(){this.constructor=C}c(C,y),C.prototype=null===y?Object.create(y):(S.prototype=y.prototype,new S)});Object.defineProperty(t,"__esModule",{value:!0}),t.PageLayoutValidator=t.DisplayStateValidator=t.VisualLayoutValidator=t.CustomLayoutValidator=void 0;var n=l(3),p=l(4),s=l(1),d=function(c){function C(){return null!==c&&c.apply(this,arguments)||this}return g(C,c),C.prototype.validate=function(y,S,h){return null==y?null:c.prototype.validate.call(this,y,S,h)||new n.MultipleFieldsValidator([{field:"pageSize",validators:[s.Validators.pageSizeValidator]},{field:"displayOption",validators:[s.Validators.customLayoutDisplayOptionValidator]},{field:"pagesLayout",validators:[s.Validators.pagesLayoutValidator]}]).validate(y,S,h)},C}(p.ObjectValidator);t.CustomLayoutValidator=d;var o=function(c){function C(){return null!==c&&c.apply(this,arguments)||this}return g(C,c),C.prototype.validate=function(y,S,h){return null==y?null:c.prototype.validate.call(this,y,S,h)||new n.MultipleFieldsValidator([{field:"x",validators:[s.Validators.numberValidator]},{field:"y",validators:[s.Validators.numberValidator]},{field:"z",validators:[s.Validators.numberValidator]},{field:"width",validators:[s.Validators.numberValidator]},{field:"height",validators:[s.Validators.numberValidator]},{field:"displayState",validators:[s.Validators.displayStateValidator]}]).validate(y,S,h)},C}(p.ObjectValidator);t.VisualLayoutValidator=o;var v=function(c){function C(){return null!==c&&c.apply(this,arguments)||this}return g(C,c),C.prototype.validate=function(y,S,h){return null==y?null:c.prototype.validate.call(this,y,S,h)||new n.MultipleFieldsValidator([{field:"mode",validators:[s.Validators.displayStateModeValidator]}]).validate(y,S,h)},C}(p.ObjectValidator);t.DisplayStateValidator=v;var m=function(c){function C(){return null!==c&&c.apply(this,arguments)||this}return g(C,c),C.prototype.validate=function(y,S,h){return null==y?null:c.prototype.validate.call(this,y,S,h)||new n.MultipleFieldsValidator([{field:"visualsLayout",validators:[s.Validators.fieldRequiredValidator,s.Validators.pageLayoutValidator]},{field:"defaultLayout",validators:[s.Validators.visualLayoutValidator]}]).validate(y,S,h)},C}(p.ObjectValidator);t.PageLayoutValidator=m},function(a,t,l){var c,g=this&&this.__extends||(c=function(C,y){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(S,h){S.__proto__=h}||function(S,h){for(var E in h)Object.prototype.hasOwnProperty.call(h,E)&&(S[E]=h[E])})(C,y)},function(C,y){if("function"!=typeof y&&null!==y)throw new TypeError("Class extends value "+String(y)+" is not a constructor or null");function S(){this.constructor=C}c(C,y),C.prototype=null===y?Object.create(y):(S.prototype=y.prototype,new S)});Object.defineProperty(t,"__esModule",{value:!0}),t.PageViewFieldValidator=t.PageValidator=t.CustomPageSizeValidator=t.PageSizeValidator=void 0;var n=l(3),p=l(4),s=l(1),d=function(c){function C(){return null!==c&&c.apply(this,arguments)||this}return g(C,c),C.prototype.validate=function(y,S,h){return null==y?null:c.prototype.validate.call(this,y,S,h)||new n.MultipleFieldsValidator([{field:"type",validators:[s.Validators.fieldRequiredValidator,s.Validators.pageSizeTypeValidator]}]).validate(y,S,h)},C}(p.ObjectValidator);t.PageSizeValidator=d;var o=function(c){function C(){return null!==c&&c.apply(this,arguments)||this}return g(C,c),C.prototype.validate=function(y,S,h){return null==y?null:c.prototype.validate.call(this,y,S,h)||new n.MultipleFieldsValidator([{field:"width",validators:[s.Validators.numberValidator]},{field:"height",validators:[s.Validators.numberValidator]}]).validate(y,S,h)},C}(d);t.CustomPageSizeValidator=o;var v=function(c){function C(){return null!==c&&c.apply(this,arguments)||this}return g(C,c),C.prototype.validate=function(y,S,h){return null==y?null:c.prototype.validate.call(this,y,S,h)||new n.MultipleFieldsValidator([{field:"name",validators:[s.Validators.fieldRequiredValidator,s.Validators.stringValidator]}]).validate(y,S,h)},C}(p.ObjectValidator);t.PageValidator=v;var m=function(c){function C(){return null!==c&&c.apply(this,arguments)||this}return g(C,c),C.prototype.validate=function(y,S,h){return null==y?null:c.prototype.validate.call(this,y,S,h)||(["actualSize","fitToWidth","oneColumn"].indexOf(y)<0?[{message:'pageView must be a string with one of the following values: "actualSize", "fitToWidth", "oneColumn"'}]:null)},C}(p.StringValidator);t.PageViewFieldValidator=m},function(a,t,l){var E,g=this&&this.__extends||(E=function(u,f){return(E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,V){b.__proto__=V}||function(b,V){for(var T in V)Object.prototype.hasOwnProperty.call(V,T)&&(b[T]=V[T])})(u,f)},function(u,f){if("function"!=typeof f&&null!==f)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");function b(){this.constructor=u}E(u,f),u.prototype=null===f?Object.create(f):(b.prototype=f.prototype,new b)});Object.defineProperty(t,"__esModule",{value:!0}),t.VisualizationsPaneValidator=t.SyncSlicersPaneValidator=t.SelectionPaneValidator=t.PageNavigationPaneValidator=t.FiltersPaneValidator=t.FieldsPaneValidator=t.BookmarksPaneValidator=t.QnaPanesValidator=t.ReportPanesValidator=void 0;var n=l(3),p=l(4),s=l(1),d=function(E){function u(){return null!==E&&E.apply(this,arguments)||this}return g(u,E),u.prototype.validate=function(f,b,V){return null==f?null:E.prototype.validate.call(this,f,b,V)||new n.MultipleFieldsValidator([{field:"bookmarks",validators:[s.Validators.bookmarksPaneValidator]},{field:"fields",validators:[s.Validators.fieldsPaneValidator]},{field:"filters",validators:[s.Validators.filtersPaneValidator]},{field:"pageNavigation",validators:[s.Validators.pageNavigationPaneValidator]},{field:"selection",validators:[s.Validators.selectionPaneValidator]},{field:"syncSlicers",validators:[s.Validators.syncSlicersPaneValidator]},{field:"visualizations",validators:[s.Validators.visualizationsPaneValidator]}]).validate(f,b,V)},u}(p.ObjectValidator);t.ReportPanesValidator=d;var o=function(E){function u(){return null!==E&&E.apply(this,arguments)||this}return g(u,E),u.prototype.validate=function(f,b,V){return null==f?null:E.prototype.validate.call(this,f,b,V)||new n.MultipleFieldsValidator([{field:"filters",validators:[s.Validators.filtersPaneValidator]}]).validate(f,b,V)},u}(p.ObjectValidator);t.QnaPanesValidator=o;var v=function(E){function u(){return null!==E&&E.apply(this,arguments)||this}return g(u,E),u.prototype.validate=function(f,b,V){return null==f?null:E.prototype.validate.call(this,f,b,V)||new n.MultipleFieldsValidator([{field:"visible",validators:[s.Validators.booleanValidator]}]).validate(f,b,V)},u}(p.ObjectValidator);t.BookmarksPaneValidator=v;var m=function(E){function u(){return null!==E&&E.apply(this,arguments)||this}return g(u,E),u.prototype.validate=function(f,b,V){return null==f?null:E.prototype.validate.call(this,f,b,V)||new n.MultipleFieldsValidator([{field:"expanded",validators:[s.Validators.booleanValidator]}]).validate(f,b,V)},u}(p.ObjectValidator);t.FieldsPaneValidator=m;var c=function(E){function u(){return null!==E&&E.apply(this,arguments)||this}return g(u,E),u.prototype.validate=function(f,b,V){return null==f?null:E.prototype.validate.call(this,f,b,V)||new n.MultipleFieldsValidator([{field:"visible",validators:[s.Validators.booleanValidator]},{field:"expanded",validators:[s.Validators.booleanValidator]}]).validate(f,b,V)},u}(p.ObjectValidator);t.FiltersPaneValidator=c;var C=function(E){function u(){return null!==E&&E.apply(this,arguments)||this}return g(u,E),u.prototype.validate=function(f,b,V){return null==f?null:E.prototype.validate.call(this,f,b,V)||new n.MultipleFieldsValidator([{field:"visible",validators:[s.Validators.booleanValidator]},{field:"position",validators:[s.Validators.pageNavigationPositionValidator]}]).validate(f,b,V)},u}(p.ObjectValidator);t.PageNavigationPaneValidator=C;var y=function(E){function u(){return null!==E&&E.apply(this,arguments)||this}return g(u,E),u.prototype.validate=function(f,b,V){return null==f?null:E.prototype.validate.call(this,f,b,V)||new n.MultipleFieldsValidator([{field:"visible",validators:[s.Validators.booleanValidator]}]).validate(f,b,V)},u}(p.ObjectValidator);t.SelectionPaneValidator=y;var S=function(E){function u(){return null!==E&&E.apply(this,arguments)||this}return g(u,E),u.prototype.validate=function(f,b,V){return null==f?null:E.prototype.validate.call(this,f,b,V)||new n.MultipleFieldsValidator([{field:"visible",validators:[s.Validators.booleanValidator]}]).validate(f,b,V)},u}(p.ObjectValidator);t.SyncSlicersPaneValidator=S;var h=function(E){function u(){return null!==E&&E.apply(this,arguments)||this}return g(u,E),u.prototype.validate=function(f,b,V){return null==f?null:E.prototype.validate.call(this,f,b,V)||new n.MultipleFieldsValidator([{field:"expanded",validators:[s.Validators.booleanValidator]}]).validate(f,b,V)},u}(p.ObjectValidator);t.VisualizationsPaneValidator=h},function(a,t,l){var m,g=this&&this.__extends||(m=function(c,C){return(m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,S){y.__proto__=S}||function(y,S){for(var h in S)Object.prototype.hasOwnProperty.call(S,h)&&(y[h]=S[h])})(c,C)},function(c,C){if("function"!=typeof C&&null!==C)throw new TypeError("Class extends value "+String(C)+" is not a constructor or null");function y(){this.constructor=c}m(c,C),c.prototype=null===C?Object.create(C):(y.prototype=C.prototype,new y)});Object.defineProperty(t,"__esModule",{value:!0}),t.QnaInterpretInputDataValidator=t.QnaSettingsValidator=t.LoadQnaValidator=void 0;var n=l(3),p=l(4),s=l(1),d=function(m){function c(){return null!==m&&m.apply(this,arguments)||this}return g(c,m),c.prototype.validate=function(C,y,S){return null==C?null:m.prototype.validate.call(this,C,y,S)||new n.MultipleFieldsValidator([{field:"accessToken",validators:[s.Validators.fieldRequiredValidator,s.Validators.stringValidator]},{field:"datasetIds",validators:[s.Validators.fieldRequiredValidator,s.Validators.stringArrayValidator]},{field:"question",validators:[s.Validators.stringValidator]},{field:"viewMode",validators:[s.Validators.viewModeValidator]},{field:"settings",validators:[s.Validators.qnaSettingValidator]},{field:"tokenType",validators:[s.Validators.tokenTypeValidator]},{field:"groupId",validators:[s.Validators.stringValidator]}]).validate(C,y,S)},c}(p.ObjectValidator);t.LoadQnaValidator=d;var o=function(m){function c(){return null!==m&&m.apply(this,arguments)||this}return g(c,m),c.prototype.validate=function(C,y,S){return null==C?null:m.prototype.validate.call(this,C,y,S)||new n.MultipleFieldsValidator([{field:"filterPaneEnabled",validators:[s.Validators.booleanValidator]},{field:"hideErrors",validators:[s.Validators.booleanValidator]},{field:"panes",validators:[s.Validators.qnaPanesValidator]}]).validate(C,y,S)},c}(p.ObjectValidator);t.QnaSettingsValidator=o;var v=function(m){function c(){return null!==m&&m.apply(this,arguments)||this}return g(c,m),c.prototype.validate=function(C,y,S){return null==C?null:m.prototype.validate.call(this,C,y,S)||new n.MultipleFieldsValidator([{field:"datasetIds",validators:[s.Validators.stringArrayValidator]},{field:"question",validators:[s.Validators.fieldRequiredValidator,s.Validators.stringValidator]}]).validate(C,y,S)},c}(p.ObjectValidator);t.QnaInterpretInputDataValidator=v},function(a,t,l){var o,g=this&&this.__extends||(o=function(v,m){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,C){c.__proto__=C}||function(c,C){for(var y in C)Object.prototype.hasOwnProperty.call(C,y)&&(c[y]=C[y])})(v,m)},function(v,m){if("function"!=typeof m&&null!==m)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");function c(){this.constructor=v}o(v,m),v.prototype=null===m?Object.create(m):(c.prototype=m.prototype,new c)});Object.defineProperty(t,"__esModule",{value:!0}),t.ReportCreateValidator=void 0;var n=l(3),p=l(4),s=l(1),d=function(o){function v(){return null!==o&&o.apply(this,arguments)||this}return g(v,o),v.prototype.validate=function(m,c,C){return null==m?null:o.prototype.validate.call(this,m,c,C)||new n.MultipleFieldsValidator([{field:"accessToken",validators:[s.Validators.fieldRequiredValidator,s.Validators.stringValidator]},{field:"datasetId",validators:[s.Validators.fieldRequiredValidator,s.Validators.stringValidator]},{field:"groupId",validators:[s.Validators.stringValidator]},{field:"tokenType",validators:[s.Validators.tokenTypeValidator]},{field:"theme",validators:[s.Validators.customThemeValidator]}]).validate(m,c,C)},v}(p.ObjectValidator);t.ReportCreateValidator=d},function(a,t,l){var o,g=this&&this.__extends||(o=function(v,m){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,C){c.__proto__=C}||function(c,C){for(var y in C)Object.prototype.hasOwnProperty.call(C,y)&&(c[y]=C[y])})(v,m)},function(v,m){if("function"!=typeof m&&null!==m)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");function c(){this.constructor=v}o(v,m),v.prototype=null===m?Object.create(m):(c.prototype=m.prototype,new c)});Object.defineProperty(t,"__esModule",{value:!0}),t.ReportLoadValidator=void 0;var n=l(3),p=l(4),s=l(1),d=function(o){function v(){return null!==o&&o.apply(this,arguments)||this}return g(v,o),v.prototype.validate=function(m,c,C){return null==m?null:o.prototype.validate.call(this,m,c,C)||new n.MultipleFieldsValidator([{field:"accessToken",validators:[s.Validators.fieldRequiredValidator,s.Validators.stringValidator]},{field:"id",validators:[s.Validators.fieldRequiredValidator,s.Validators.stringValidator]},{field:"groupId",validators:[s.Validators.stringValidator]},{field:"settings",validators:[s.Validators.settingsValidator]},{field:"pageName",validators:[s.Validators.stringValidator]},{field:"filters",validators:[s.Validators.reportLoadFiltersValidator]},{field:"permissions",validators:[s.Validators.permissionsValidator]},{field:"viewMode",validators:[s.Validators.viewModeValidator]},{field:"tokenType",validators:[s.Validators.tokenTypeValidator]},{field:"bookmark",validators:[s.Validators.applyBookmarkValidator]},{field:"theme",validators:[s.Validators.customThemeValidator]},{field:"embedUrl",validators:[s.Validators.stringValidator]},{field:"datasetBinding",validators:[s.Validators.datasetBindingValidator]},{field:"contrastMode",validators:[s.Validators.contrastModeValidator]}]).validate(m,c,C)},v}(p.ObjectValidator);t.ReportLoadValidator=d},function(a,t,l){var v,g=this&&this.__extends||(v=function(m,c){return(v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(C,y){C.__proto__=y}||function(C,y){for(var S in y)Object.prototype.hasOwnProperty.call(y,S)&&(C[S]=y[S])})(m,c)},function(m,c){if("function"!=typeof c&&null!==c)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");function C(){this.constructor=m}v(m,c),m.prototype=null===c?Object.create(c):(C.prototype=c.prototype,new C)});Object.defineProperty(t,"__esModule",{value:!0}),t.ReportParameterFieldsValidator=t.PaginatedReportLoadValidator=void 0;var n=l(3),p=l(4),s=l(1),d=function(v){function m(){return null!==v&&v.apply(this,arguments)||this}return g(m,v),m.prototype.validate=function(c,C,y){return null==c?null:v.prototype.validate.call(this,c,C,y)||new n.MultipleFieldsValidator([{field:"accessToken",validators:[s.Validators.fieldRequiredValidator,s.Validators.stringValidator]},{field:"id",validators:[s.Validators.fieldRequiredValidator,s.Validators.stringValidator]},{field:"groupId",validators:[s.Validators.stringValidator]},{field:"settings",validators:[s.Validators.paginatedReportsettingsValidator]},{field:"tokenType",validators:[s.Validators.tokenTypeValidator]},{field:"embedUrl",validators:[s.Validators.stringValidator]},{field:"type",validators:[s.Validators.stringValidator]},{field:"parameterValues",validators:[s.Validators.parameterValuesArrayValidator]},{field:"datasetBindings",validators:[s.Validators.paginatedReportDatasetBindingArrayValidator]}]).validate(c,C,y)},m}(p.ObjectValidator);t.PaginatedReportLoadValidator=d;var o=function(){function v(){}return v.prototype.validate=function(m,c,C){return null==m?null:new n.MultipleFieldsValidator([{field:"name",validators:[s.Validators.fieldRequiredValidator,s.Validators.stringValidator]},{field:"value",validators:[s.Validators.stringValidator]}]).validate(m,c,C)},v}();t.ReportParameterFieldsValidator=o},function(a,t,l){var o,g=this&&this.__extends||(o=function(v,m){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,C){c.__proto__=C}||function(c,C){for(var y in C)Object.prototype.hasOwnProperty.call(C,y)&&(c[y]=C[y])})(v,m)},function(v,m){if("function"!=typeof m&&null!==m)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");function c(){this.constructor=v}o(v,m),v.prototype=null===m?Object.create(m):(c.prototype=m.prototype,new c)});Object.defineProperty(t,"__esModule",{value:!0}),t.SaveAsParametersValidator=void 0;var n=l(3),p=l(4),s=l(1),d=function(o){function v(){return null!==o&&o.apply(this,arguments)||this}return g(v,o),v.prototype.validate=function(m,c,C){return null==m?null:o.prototype.validate.call(this,m,c,C)||new n.MultipleFieldsValidator([{field:"name",validators:[s.Validators.fieldRequiredValidator,s.Validators.stringValidator]}]).validate(m,c,C)},v}(p.ObjectValidator);t.SaveAsParametersValidator=d},function(a,t,l){var c,g=this&&this.__extends||(c=function(C,y){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(S,h){S.__proto__=h}||function(S,h){for(var E in h)Object.prototype.hasOwnProperty.call(h,E)&&(S[E]=h[E])})(C,y)},function(C,y){if("function"!=typeof y&&null!==y)throw new TypeError("Class extends value "+String(y)+" is not a constructor or null");function S(){this.constructor=C}c(C,y),C.prototype=null===y?Object.create(y):(S.prototype=y.prototype,new S)});Object.defineProperty(t,"__esModule",{value:!0}),t.SlicerTargetSelectorValidator=t.VisualTypeSelectorValidator=t.VisualSelectorValidator=void 0;var n=l(3),p=l(4),s=l(4),d=l(1),o=function(c){function C(){return null!==c&&c.apply(this,arguments)||this}return g(C,c),C.prototype.validate=function(y,S,h){if(null==y)return null;var E=c.prototype.validate.call(this,y,S,h);if(E)return E;var u=[{field:"$schema",validators:[d.Validators.stringValidator,new s.SchemaValidator("http://powerbi.com/product/schema#visualSelector")]},{field:"visualName",validators:[d.Validators.fieldRequiredValidator,d.Validators.stringValidator]}];return new n.MultipleFieldsValidator(u).validate(y,S,h)},C}(p.ObjectValidator);t.VisualSelectorValidator=o;var v=function(c){function C(){return null!==c&&c.apply(this,arguments)||this}return g(C,c),C.prototype.validate=function(y,S,h){if(null==y)return null;var E=c.prototype.validate.call(this,y,S,h);if(E)return E;var u=[{field:"$schema",validators:[d.Validators.fieldRequiredValidator,d.Validators.stringValidator,new s.SchemaValidator("http://powerbi.com/product/schema#visualTypeSelector")]},{field:"visualType",validators:[d.Validators.fieldRequiredValidator,d.Validators.stringValidator]}];return new n.MultipleFieldsValidator(u).validate(y,S,h)},C}(p.ObjectValidator);t.VisualTypeSelectorValidator=v;var m=function(c){function C(){return null!==c&&c.apply(this,arguments)||this}return g(C,c),C.prototype.validate=function(y,S,h){if(null==y)return null;var E=c.prototype.validate.call(this,y,S,h);if(E)return E;var u=[{field:"$schema",validators:[d.Validators.fieldRequiredValidator,d.Validators.stringValidator,new s.SchemaValidator("http://powerbi.com/product/schema#slicerTargetSelector")]},{field:"target",validators:[d.Validators.fieldRequiredValidator,d.Validators.slicerTargetValidator]}];return new n.MultipleFieldsValidator(u).validate(y,S,h)},C}(p.ObjectValidator);t.SlicerTargetSelectorValidator=m},function(a,t,l){var v,g=this&&this.__extends||(v=function(m,c){return(v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(C,y){C.__proto__=y}||function(C,y){for(var S in y)Object.prototype.hasOwnProperty.call(y,S)&&(C[S]=y[S])})(m,c)},function(m,c){if("function"!=typeof c&&null!==c)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");function C(){this.constructor=m}v(m,c),m.prototype=null===c?Object.create(c):(C.prototype=c.prototype,new C)});Object.defineProperty(t,"__esModule",{value:!0}),t.PaginatedReportSettingsValidator=t.SettingsValidator=void 0;var n=l(3),p=l(4),s=l(1),d=function(v){function m(){return null!==v&&v.apply(this,arguments)||this}return g(m,v),m.prototype.validate=function(c,C,y){return null==c?null:v.prototype.validate.call(this,c,C,y)||new n.MultipleFieldsValidator([{field:"filterPaneEnabled",validators:[s.Validators.booleanValidator]},{field:"navContentPaneEnabled",validators:[s.Validators.booleanValidator]},{field:"bookmarksPaneEnabled",validators:[s.Validators.booleanValidator]},{field:"useCustomSaveAsDialog",validators:[s.Validators.booleanValidator]},{field:"extensions",validators:[s.Validators.extensionsValidator]},{field:"layoutType",validators:[s.Validators.layoutTypeValidator]},{field:"customLayout",validators:[s.Validators.customLayoutValidator]},{field:"background",validators:[s.Validators.backgroundValidator]},{field:"visualSettings",validators:[s.Validators.visualSettingsValidator]},{field:"hideErrors",validators:[s.Validators.booleanValidator]},{field:"commands",validators:[s.Validators.commandsSettingsArrayValidator]},{field:"hyperlinkClickBehavior",validators:[s.Validators.hyperlinkClickBehaviorValidator]},{field:"bars",validators:[s.Validators.reportBarsValidator]},{field:"panes",validators:[s.Validators.reportPanesValidator]},{field:"personalBookmarksEnabled",validators:[s.Validators.booleanValidator]},{field:"persistentFiltersEnabled",validators:[s.Validators.booleanValidator]},{field:"visualRenderedEvents",validators:[s.Validators.booleanValidator]},{field:"authoringHintsEnabled",validators:[s.Validators.booleanValidator]},{field:"printSettings",validators:[s.Validators.printSettingsValidator]}]).validate(c,C,y)},m}(p.ObjectValidator);t.SettingsValidator=d;var o=function(v){function m(){return null!==v&&v.apply(this,arguments)||this}return g(m,v),m.prototype.validate=function(c,C,y){return null==c?null:v.prototype.validate.call(this,c,C,y)||new n.MultipleFieldsValidator([{field:"commands",validators:[s.Validators.paginatedReportCommandsValidator]}]).validate(c,C,y)},m}(p.ObjectValidator);t.PaginatedReportSettingsValidator=o},function(a,t,l){var v,g=this&&this.__extends||(v=function(m,c){return(v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(C,y){C.__proto__=y}||function(C,y){for(var S in y)Object.prototype.hasOwnProperty.call(y,S)&&(C[S]=y[S])})(m,c)},function(m,c){if("function"!=typeof c&&null!==c)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");function C(){this.constructor=m}v(m,c),m.prototype=null===c?Object.create(c):(C.prototype=c.prototype,new C)});Object.defineProperty(t,"__esModule",{value:!0}),t.SlicerStateValidator=t.SlicerValidator=void 0;var n=l(3),p=l(4),s=l(1),d=function(v){function m(){return null!==v&&v.apply(this,arguments)||this}return g(m,v),m.prototype.validate=function(c,C,y){return null==c?null:v.prototype.validate.call(this,c,C,y)||new n.MultipleFieldsValidator([{field:"selector",validators:[s.Validators.fieldRequiredValidator,s.Validators.slicerSelectorValidator]},{field:"state",validators:[s.Validators.fieldRequiredValidator,s.Validators.slicerStateValidator]}]).validate(c,C,y)},m}(p.ObjectValidator);t.SlicerValidator=d;var o=function(v){function m(){return null!==v&&v.apply(this,arguments)||this}return g(m,v),m.prototype.validate=function(c,C,y){return null==c?null:v.prototype.validate.call(this,c,C,y)||new n.MultipleFieldsValidator([{field:"filters",validators:[s.Validators.filtersArrayValidator]}]).validate(c,C,y)},m}(p.ObjectValidator);t.SlicerStateValidator=o},function(a,t,l){var o,g=this&&this.__extends||(o=function(v,m){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,C){c.__proto__=C}||function(c,C){for(var y in C)Object.prototype.hasOwnProperty.call(C,y)&&(c[y]=C[y])})(v,m)},function(v,m){if("function"!=typeof m&&null!==m)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");function c(){this.constructor=v}o(v,m),v.prototype=null===m?Object.create(m):(c.prototype=m.prototype,new c)});Object.defineProperty(t,"__esModule",{value:!0}),t.TileLoadValidator=void 0;var n=l(3),p=l(4),s=l(1),d=function(o){function v(){return null!==o&&o.apply(this,arguments)||this}return g(v,o),v.prototype.validate=function(m,c,C){return null==m?null:o.prototype.validate.call(this,m,c,C)||new n.MultipleFieldsValidator([{field:"accessToken",validators:[s.Validators.fieldRequiredValidator,s.Validators.stringValidator]},{field:"id",validators:[s.Validators.fieldRequiredValidator,s.Validators.stringValidator]},{field:"dashboardId",validators:[s.Validators.fieldRequiredValidator,s.Validators.stringValidator]},{field:"groupId",validators:[s.Validators.stringValidator]},{field:"pageView",validators:[s.Validators.stringValidator]},{field:"tokenType",validators:[s.Validators.tokenTypeValidator]},{field:"width",validators:[s.Validators.numberValidator]},{field:"height",validators:[s.Validators.numberValidator]}]).validate(m,c,C)},v}(p.ObjectValidator);t.TileLoadValidator=d},function(a,t,l){var m,g=this&&this.__extends||(m=function(c,C){return(m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,S){y.__proto__=S}||function(y,S){for(var h in S)Object.prototype.hasOwnProperty.call(S,h)&&(y[h]=S[h])})(c,C)},function(c,C){if("function"!=typeof C&&null!==C)throw new TypeError("Class extends value "+String(C)+" is not a constructor or null");function y(){this.constructor=c}m(c,C),c.prototype=null===C?Object.create(C):(y.prototype=C.prototype,new y)});Object.defineProperty(t,"__esModule",{value:!0}),t.VisualHeaderValidator=t.VisualHeaderSettingsValidator=t.VisualSettingsValidator=void 0;var n=l(3),p=l(4),s=l(1),d=function(m){function c(){return null!==m&&m.apply(this,arguments)||this}return g(c,m),c.prototype.validate=function(C,y,S){return null==C?null:m.prototype.validate.call(this,C,y,S)||new n.MultipleFieldsValidator([{field:"visualHeaders",validators:[s.Validators.visualHeadersValidator]}]).validate(C,y,S)},c}(p.ObjectValidator);t.VisualSettingsValidator=d;var o=function(m){function c(){return null!==m&&m.apply(this,arguments)||this}return g(c,m),c.prototype.validate=function(C,y,S){return null==C?null:m.prototype.validate.call(this,C,y,S)||new n.MultipleFieldsValidator([{field:"visible",validators:[s.Validators.booleanValidator]}]).validate(C,y,S)},c}(p.ObjectValidator);t.VisualHeaderSettingsValidator=o;var v=function(m){function c(){return null!==m&&m.apply(this,arguments)||this}return g(c,m),c.prototype.validate=function(C,y,S){return null==C?null:m.prototype.validate.call(this,C,y,S)||new n.MultipleFieldsValidator([{field:"settings",validators:[s.Validators.fieldRequiredValidator,s.Validators.visualHeaderSettingsValidator]},{field:"selector",validators:[s.Validators.visualHeaderSelectorValidator]}]).validate(C,y,S)},c}(p.ObjectValidator);t.VisualHeaderValidator=v},(a,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.AnyOfValidator=void 0;var l=function(){function g(n){this.validators=n}return g.prototype.validate=function(n,p,s){if(null==n)return null;for(var d=!1,o=0,v=this.validators;o<v.length;o++)if(!v[o].validate(n,p,s)){d=!0;break}return d?null:[{message:s+" property is invalid",path:(p?p+".":"")+s,keyword:"invalid"}]},g}();t.AnyOfValidator=l},(a,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.FieldForbiddenValidator=void 0;var l=function(){function g(){}return g.prototype.validate=function(n,p,s){return void 0!==n?[{message:s+" is forbidden",path:(p?p+".":"")+s,keyword:"forbidden"}]:null},g}();t.FieldForbiddenValidator=l},(a,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.FieldRequiredValidator=void 0;var l=function(){function g(){}return g.prototype.validate=function(n,p,s){return null==n?[{message:s+" is required",path:(p?p+".":"")+s,keyword:"required"}]:null},g}();t.FieldRequiredValidator=l},function(a,t,l){var s,g=this&&this.__extends||(s=function(d,o){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,m){v.__proto__=m}||function(v,m){for(var c in m)Object.prototype.hasOwnProperty.call(m,c)&&(v[c]=m[c])})(d,o)},function(d,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function v(){this.constructor=d}s(d,o),d.prototype=null===o?Object.create(o):(v.prototype=o.prototype,new v)});Object.defineProperty(t,"__esModule",{value:!0}),t.MapValidator=void 0;var p=function(s){function d(o,v){var m=s.call(this)||this;return m.keyValidators=o,m.valueValidators=v,m}return g(d,s),d.prototype.validate=function(o,v,m){if(null==o)return null;var c=s.prototype.validate.call(this,o,v,m);if(c)return c;for(var C in o)if(o.hasOwnProperty(C)){for(var y=(v?v+".":"")+m+"."+C,S=0,h=this.keyValidators;S<h.length;S++)if(c=h[S].validate(C,y,m))return c;for(var u=0,f=this.valueValidators;u<f.length;u++)if(c=f[u].validate(o[C],y,m))return c}return null},d}(l(4).ObjectValidator);t.MapValidator=p},function(a,t,l){var o,g=this&&this.__extends||(o=function(v,m){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,C){c.__proto__=C}||function(c,C){for(var y in C)Object.prototype.hasOwnProperty.call(C,y)&&(c[y]=C[y])})(v,m)},function(v,m){if("function"!=typeof m&&null!==m)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");function c(){this.constructor=v}o(v,m),v.prototype=null===m?Object.create(m):(c.prototype=m.prototype,new c)});Object.defineProperty(t,"__esModule",{value:!0}),t.ParametersPanelValidator=void 0;var n=l(3),p=l(4),s=l(1),d=function(o){function v(){return null!==o&&o.apply(this,arguments)||this}return g(v,o),v.prototype.validate=function(m,c,C){return null==m?null:o.prototype.validate.call(this,m,c,C)||new n.MultipleFieldsValidator([{field:"expanded",validators:[s.Validators.booleanValidator]},{field:"enabled",validators:[s.Validators.booleanValidator]}]).validate(m,c,C)},v}(p.ObjectValidator);t.ParametersPanelValidator=d},function(a,t,l){var y,g=this&&this.__extends||(y=function(S,h){return(y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(E,u){E.__proto__=u}||function(E,u){for(var f in u)Object.prototype.hasOwnProperty.call(u,f)&&(E[f]=u[f])})(S,h)},function(S,h){if("function"!=typeof h&&null!==h)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");function E(){this.constructor=S}y(S,h),S.prototype=null===h?Object.create(h):(E.prototype=h.prototype,new E)});Object.defineProperty(t,"__esModule",{value:!0}),t.TableDataValidator=t.TableSchemaValidator=t.ColumnSchemaValidator=t.CredentialsValidator=t.DatasourceConnectionConfigValidator=t.DatasetCreateConfigValidator=void 0;var n=l(3),p=l(4),s=l(1),d=function(y){function S(){return null!==y&&y.apply(this,arguments)||this}return g(S,y),S.prototype.validate=function(h,E,u){if(null==h)return null;var f=y.prototype.validate.call(this,h,E,u);return f||((f=new n.MultipleFieldsValidator([{field:"locale",validators:[s.Validators.fieldRequiredValidator,s.Validators.stringValidator]},{field:"mashupDocument",validators:[s.Validators.stringValidator]},{field:"datasourceConnectionConfig",validators:[s.Validators.datasourceConnectionConfigValidator]},{field:"tableSchemaList",validators:[s.Validators.tableSchemaListValidator]},{field:"data",validators:[s.Validators.tableDataArrayValidator]}]).validate(h,E,u))?f:h.datasourceConnectionConfig&&null==h.mashupDocument?[{message:"mashupDocument cannot be empty when datasourceConnectionConfig is presented"}]:h.data&&null==h.tableSchemaList?[{message:"tableSchemaList cannot be empty when data is provided"}]:null==h.data&&null==h.mashupDocument?[{message:"At least one of data or mashupDocument must be provided"}]:void 0)},S}(p.ObjectValidator);t.DatasetCreateConfigValidator=d;var o=function(y){function S(){return null!==y&&y.apply(this,arguments)||this}return g(S,y),S.prototype.validate=function(h,E,u){return null==h?null:y.prototype.validate.call(this,h,E,u)||new n.MultipleFieldsValidator([{field:"dataCacheMode",validators:[s.Validators.dataCacheModeValidator]},{field:"credentials",validators:[s.Validators.credentialsValidator]}]).validate(h,E,u)},S}(p.ObjectValidator);t.DatasourceConnectionConfigValidator=o;var v=function(y){function S(){return null!==y&&y.apply(this,arguments)||this}return g(S,y),S.prototype.validate=function(h,E,u){return null==h?null:y.prototype.validate.call(this,h,E,u)||new n.MultipleFieldsValidator([{field:"credentialType",validators:[s.Validators.credentialTypeValidator]},{field:"credentialDetails",validators:[s.Validators.credentialDetailsValidator]}]).validate(h,E,u)},S}(p.ObjectValidator);t.CredentialsValidator=v;var m=function(y){function S(){return null!==y&&y.apply(this,arguments)||this}return g(S,y),S.prototype.validate=function(h,E,u){return null==h?null:y.prototype.validate.call(this,h,E,u)||new n.MultipleFieldsValidator([{field:"name",validators:[s.Validators.fieldRequiredValidator,s.Validators.stringValidator]},{field:"displayName",validators:[s.Validators.stringValidator]},{field:"dataType",validators:[s.Validators.fieldRequiredValidator,s.Validators.stringValidator]}]).validate(h,E,u)},S}(p.ObjectValidator);t.ColumnSchemaValidator=m;var c=function(y){function S(){return null!==y&&y.apply(this,arguments)||this}return g(S,y),S.prototype.validate=function(h,E,u){return null==h?null:y.prototype.validate.call(this,h,E,u)||new n.MultipleFieldsValidator([{field:"name",validators:[s.Validators.fieldRequiredValidator,s.Validators.stringValidator]},{field:"columns",validators:[s.Validators.fieldRequiredValidator,s.Validators.columnSchemaArrayValidator]}]).validate(h,E,u)},S}(p.ObjectValidator);t.TableSchemaValidator=c;var C=function(y){function S(){return null!==y&&y.apply(this,arguments)||this}return g(S,y),S.prototype.validate=function(h,E,u){return null==h?null:y.prototype.validate.call(this,h,E,u)||new n.MultipleFieldsValidator([{field:"name",validators:[s.Validators.fieldRequiredValidator,s.Validators.stringValidator]},{field:"rows",validators:[s.Validators.fieldRequiredValidator,s.Validators.rawDataValidator]}]).validate(h,E,u)},S}(p.ObjectValidator);t.TableDataValidator=C},function(a,t,l){var o,g=this&&this.__extends||(o=function(v,m){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,C){c.__proto__=C}||function(c,C){for(var y in C)Object.prototype.hasOwnProperty.call(C,y)&&(c[y]=C[y])})(v,m)},function(v,m){if("function"!=typeof m&&null!==m)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");function c(){this.constructor=v}o(v,m),v.prototype=null===m?Object.create(m):(c.prototype=m.prototype,new c)});Object.defineProperty(t,"__esModule",{value:!0}),t.QuickCreateValidator=void 0;var n=l(3),p=l(4),s=l(1),d=function(o){function v(){return null!==o&&o.apply(this,arguments)||this}return g(v,o),v.prototype.validate=function(m,c,C){return null==m?null:o.prototype.validate.call(this,m,c,C)||new n.MultipleFieldsValidator([{field:"accessToken",validators:[s.Validators.fieldRequiredValidator,s.Validators.stringValidator]},{field:"groupId",validators:[s.Validators.stringValidator]},{field:"tokenType",validators:[s.Validators.tokenTypeValidator]},{field:"theme",validators:[s.Validators.customThemeValidator]},{field:"datasetCreateConfig",validators:[s.Validators.fieldRequiredValidator,s.Validators.datasetCreateConfigValidator]}]).validate(m,c,C)},v}(p.ObjectValidator);t.QuickCreateValidator=d},function(a,t,l){var d,g=this&&this.__extends||(d=function(o,v){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,c){m.__proto__=c}||function(m,c){for(var C in c)Object.prototype.hasOwnProperty.call(c,C)&&(m[C]=c[C])})(o,v)},function(o,v){if("function"!=typeof v&&null!==v)throw new TypeError("Class extends value "+String(v)+" is not a constructor or null");function m(){this.constructor=o}d(o,v),o.prototype=null===v?Object.create(v):(m.prototype=v.prototype,new m)});Object.defineProperty(t,"__esModule",{value:!0}),t.PrintSettingsValidator=void 0;var n=l(3),p=l(4),s=function(d){function o(){return null!==d&&d.apply(this,arguments)||this}return g(o,d),o.prototype.validate=function(v,m,c){if(null==v)return null;var C=d.prototype.validate.call(this,v,m,c);if(C)return C;var y=[{field:"browserPrintAdjustmentsMode",validators:[new p.EnumValidator([0,1])]}];return new n.MultipleFieldsValidator(y).validate(v,m,c)},o}(p.ObjectValidator);t.PrintSettingsValidator=s},function(a,t,l){var o,g=this&&this.__extends||(o=function(v,m){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,C){c.__proto__=C}||function(c,C){for(var y in C)Object.prototype.hasOwnProperty.call(C,y)&&(c[y]=C[y])})(v,m)},function(v,m){if("function"!=typeof m&&null!==m)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");function c(){this.constructor=v}o(v,m),v.prototype=null===m?Object.create(m):(c.prototype=m.prototype,new c)});Object.defineProperty(t,"__esModule",{value:!0}),t.PaginatedReportDatasetBindingValidator=void 0;var n=l(3),p=l(4),s=l(1),d=function(o){function v(){return null!==o&&o.apply(this,arguments)||this}return g(v,o),v.prototype.validate=function(m,c,C){return null==m?null:o.prototype.validate.call(this,m,c,C)||new n.MultipleFieldsValidator([{field:"sourceDatasetId",validators:[s.Validators.fieldRequiredValidator,s.Validators.stringValidator]},{field:"targetDatasetId",validators:[s.Validators.fieldRequiredValidator,s.Validators.stringValidator]}]).validate(m,c,C)},v}(p.ObjectValidator);t.PaginatedReportDatasetBindingValidator=d}],e={},function r(a){var t=e[a];if(void 0!==t)return t.exports;var l=e[a]={exports:{}};return j[a].call(l.exports,l,l.exports,r),l.exports}(0);var j,e},ve.exports=r()},398073:function(ve){ve.exports=function(j){var e={};function r(i){if(e[i])return e[i].exports;var a=e[i]={exports:{},id:i,loaded:!1};return j[i].call(a.exports,a,a.exports,r),a.loaded=!0,a.exports}return r.m=j,r.c=e,r.p="",r(0)}([function(j,e,r){var i=r(1),a=function(){function l(g){this.handlers=g,this.getRouteRecognizer=new i,this.patchRouteRecognizer=new i,this.postRouteRecognizer=new i,this.putRouteRecognizer=new i,this.deleteRouteRecognizer=new i}return l.prototype.get=function(g,n){return this.registerHandler(this.getRouteRecognizer,"GET",g,n),this},l.prototype.patch=function(g,n){return this.registerHandler(this.patchRouteRecognizer,"PATCH",g,n),this},l.prototype.post=function(g,n){return this.registerHandler(this.postRouteRecognizer,"POST",g,n),this},l.prototype.put=function(g,n){return this.registerHandler(this.putRouteRecognizer,"PUT",g,n),this},l.prototype.delete=function(g,n){return this.registerHandler(this.deleteRouteRecognizer,"DELETE",g,n),this},l.prototype.registerHandler=function(g,n,p,s){g.add([{path:p,handler:function(v){var m=new t;return Promise.resolve(s(v,m)).then(function(c){return m})}}]),this.handlers.addHandler({test:function(v){if(v.method!==n)return!1;var m=g.recognize(v.url);if(void 0===m)return!1;var c=m[0];return v.params=c.params,v.queryParams=m.queryParams,v.handler=c.handler,!0},handle:function(v){return v.handler(v)}})},l}();e.Router=a;var t=function(){function l(){this.statusCode=200,this.headers={},this.body=null}return l.prototype.send=function(g,n){this.statusCode=g,this.body=n},l}();e.Response=t},function(j,e,r){var i;(function(a){(function(){function t(w,M,A){this.path=w,this.matcher=M,this.delegate=A}function l(w){this.routes={},this.children={},this.target=w}function g(w,M,A){return function(R,B){var N=w+R;if(!B)return new t(w+R,M,A);B(g(N,M,A))}}function n(w,M,A){for(var R=0,B=0;B<w.length;B++)R+=w[B].path.length;M=M.substr(R),w.push({path:M,handler:A})}function p(w,M,A,R){var B=M.routes;for(var N in B)if(B.hasOwnProperty(N)){var W=w.slice();n(W,N,B[N]),M.children[N]?p(W,M.children[N],A,R):A.call(R,W)}}t.prototype={to:function(w,M){var A=this.delegate;if(A&&A.willAddRoute&&(w=A.willAddRoute(this.matcher.target,w)),this.matcher.add(this.path,w),M){if(0===M.length)throw new Error("You must have an argument in the function passed to `to`");this.matcher.addChild(this.path,w,M,this.delegate)}return this}},l.prototype={add:function(w,M){this.routes[w]=M},addChild:function(w,M,A,R){var B=new l(M);this.children[w]=B;var N=g(w,B,R);R&&R.contextEntered&&R.contextEntered(M,N),A(N)}};var o=new RegExp("(\\"+["/",".","*","+","?","|","(",")","[","]","{","}","\\"].join("|\\")+")","g");function v(w){return"[object Array]"===Object.prototype.toString.call(w)}function m(w){this.string=w}function c(w){this.name=w}function C(w){this.name=w}function y(){}function S(w,M,A){"/"===w.charAt(0)&&(w=w.substr(1));var R=w.split("/"),B=new Array(R.length);A.val="";for(var N=0;N<R.length;N++){var F,W=R[N];(F=W.match(/^:([^\/]+)$/))?(B[N]=new c(F[1]),M.push(F[1]),A.val+="3"):(F=W.match(/^\*([^\/]+)$/))?(B[N]=new C(F[1]),A.val+="1",M.push(F[1])):""===W?(B[N]=new y,A.val+="2"):(B[N]=new m(W),A.val+="4")}return A.val=+A.val,B}function h(w){this.charSpec=w,this.nextStates=[],this.charSpecs={},this.regex=void 0,this.handlers=void 0,this.specificity=void 0}function u(w,M){for(var A=[],R=0,B=w.length;R<B;R++)A=A.concat(w[R].match(M));return A}function b(w){this.queryParams=w||{}}function T(w){var M;w=w.replace(/\+/gm,"%20");try{M=decodeURIComponent(w)}catch{M=""}return M}m.prototype={eachChar:function(w){for(var A,M=this.string,R=0;R<M.length;R++)A=M.charAt(R),w=w.put({invalidChars:void 0,repeat:!1,validChars:A});return w},regex:function(){return this.string.replace(o,"\\$1")},generate:function(){return this.string}},c.prototype={eachChar:function(w){return w.put({invalidChars:"/",repeat:!0,validChars:void 0})},regex:function(){return"([^/]+)"},generate:function(w){return w[this.name]}},C.prototype={eachChar:function(w){return w.put({invalidChars:"",repeat:!0,validChars:void 0})},regex:function(){return"(.+)"},generate:function(w){return w[this.name]}},y.prototype={eachChar:function(w){return w},regex:function(){return""},generate:function(){return""}},h.prototype={get:function(w){if(this.charSpecs[w.validChars])return this.charSpecs[w.validChars];for(var M=this.nextStates,A=0;A<M.length;A++){var R=M[A],B=R.charSpec.validChars===w.validChars;if(B=B&&R.charSpec.invalidChars===w.invalidChars)return this.charSpecs[w.validChars]=R,R}},put:function(w){var M;return(M=this.get(w))||(M=new h(w),this.nextStates.push(M),w.repeat&&M.nextStates.push(M)),M},match:function(w){for(var A,R,B,M=this.nextStates,N=[],W=0;W<M.length;W++)typeof(B=(R=(A=M[W]).charSpec).validChars)<"u"?-1!==B.indexOf(w)&&N.push(A):typeof(B=R.invalidChars)<"u"&&-1===B.indexOf(w)&&N.push(A);return N}},b.prototype=(Object.create||function(w){function M(){}return M.prototype=w,new M})({splice:Array.prototype.splice,slice:Array.prototype.slice,push:Array.prototype.push,length:0,queryParams:null});var P=function(){this.rootState=new h,this.names={}};(P.prototype={add:function(w,M){for(var F,A=this.rootState,R="^",B={},N=new Array(w.length),W=[],U=!0,O=0;O<w.length;O++){var x=w[O],I=[],L=S(x.path,I,B);W=W.concat(L);for(var K=0;K<L.length;K++){var z=L[K];z instanceof y||(U=!1,A=A.put({invalidChars:void 0,repeat:!1,validChars:"/"}),R+="/",A=z.eachChar(A),R+=z.regex())}N[O]={handler:x.handler,names:I}}U&&(A=A.put({invalidChars:void 0,repeat:!1,validChars:"/"}),R+="/"),A.handlers=N,A.regex=new RegExp(R+"$"),A.specificity=B,(F=M&&M.as)&&(this.names[F]={segments:W,handlers:N})},handlersFor:function(w){var M=this.names[w];if(!M)throw new Error("There is no route named "+w);for(var A=new Array(M.handlers.length),R=0;R<M.handlers.length;R++)A[R]=M.handlers[R];return A},hasRoute:function(w){return!!this.names[w]},generate:function(w,M){var A=this.names[w],R="";if(!A)throw new Error("There is no route named "+w);for(var B=A.segments,N=0;N<B.length;N++){var W=B[N];W instanceof y||(R+="/",R+=W.generate(M))}return"/"!==R.charAt(0)&&(R="/"+R),M&&M.queryParams&&(R+=this.generateQueryString(M.queryParams,A.handlers)),R},generateQueryString:function(w,M){var A=[],R=[];for(var B in w)w.hasOwnProperty(B)&&R.push(B);R.sort();for(var N=0;N<R.length;N++){var W=w[B=R[N]];if(null!=W){var F=encodeURIComponent(B);if(v(W))for(var U=0;U<W.length;U++){var O=B+"[]="+encodeURIComponent(W[U]);A.push(O)}else F+="="+encodeURIComponent(W),A.push(F)}}return 0===A.length?"":"?"+A.join("&")},parseQueryString:function(w){for(var M=w.split("&"),A={},R=0;R<M.length;R++){var U,B=M[R].split("="),N=T(B[0]),W=N.length,F=!1;1===B.length?U="true":(W>2&&"[]"===N.slice(W-2)&&(F=!0,A[N=N.slice(0,W-2)]||(A[N]=[])),U=B[1]?T(B[1]):""),F?A[N].push(U):A[N]=U}return A},recognize:function(w){var A,R,N,M=[this.rootState],W={},F=!1;if(-1!==(N=w.indexOf("?"))){var U=w.substr(N+1,w.length);w=w.substr(0,N),W=this.parseQueryString(U)}for("/"!==(w=decodeURI(w)).charAt(0)&&(w="/"+w),(A=w.length)>1&&"/"===w.charAt(A-1)&&(w=w.substr(0,A-1),F=!0),R=0;R<w.length&&(M=u(M,w.charAt(R))).length;R++);var O=[];for(R=0;R<M.length;R++)M[R].handlers&&O.push(M[R]);M=function(w){return w.sort(function(M,A){return A.specificity.val-M.specificity.val})}(O);var x=O[0];if(x&&x.handlers)return F&&"(.+)$"===x.regex.source.slice(-5)&&(w+="/"),function(w,M,A){var R=w.handlers,N=M.match(w.regex),W=1,F=new b(A);F.length=R.length;for(var U=0;U<R.length;U++){for(var O=R[U],x=O.names,I={},L=0;L<x.length;L++)I[x[L]]=N[W++];F[U]={handler:O.handler,params:I,isDynamic:!!x.length}}return F}(x,w,W)}}).map=function(w,M){var A=new l;w(g("",A,this.delegate)),p([],A,function(R){M?M(this,R):this.add(R)},this)},P.VERSION="0.1.11";var D=P;r(3).amd?void 0!==(i=function(){return D}.call(e,r,e,a))&&(a.exports=i):typeof a<"u"&&a.exports?a.exports=D:typeof this<"u"&&(this.RouteRecognizer=D)}).call(this)}).call(e,r(2)(j))},function(j,e){j.exports=function(r){return r.webpackPolyfill||(r.deprecate=function(){},r.paths=[],r.children=[],r.webpackPolyfill=1),r}},function(j,e){j.exports=function(){throw new Error("define cannot be used indirect")}}])},614428:function(ve){var j;self,ve.exports=(j={},(()=>{var e=j;Object.defineProperty(e,"__esModule",{value:!0}),e.WindowPostMessageProxy=void 0;var r=function(){function i(a){void 0===a&&(a={processTrackingProperties:{addTrackingProperties:i.defaultAddTrackingProperties,getTrackingProperties:i.defaultGetTrackingProperties},isErrorMessage:i.defaultIsErrorMessage,receiveWindow:window,name:i.createRandomString()});var t=this;this.pendingRequestPromises={},this.addTrackingProperties=a.processTrackingProperties&&a.processTrackingProperties.addTrackingProperties||i.defaultAddTrackingProperties,this.getTrackingProperties=a.processTrackingProperties&&a.processTrackingProperties.getTrackingProperties||i.defaultGetTrackingProperties,this.isErrorMessage=a.isErrorMessage||i.defaultIsErrorMessage,this.receiveWindow=a.receiveWindow||window,this.name=a.name||i.createRandomString(),this.logMessages=a.logMessages||!1,this.eventSourceOverrideWindow=a.eventSourceOverrideWindow,this.suppressWarnings=a.suppressWarnings||!1,this.receivedMessageValidation=a.receivedMessageValidation,this.handlers=[],this.windowMessageHandler=function(l){return t.onMessageReceived(l)},this.start()}return i.defaultAddTrackingProperties=function(a,t){return a[i.messagePropertyName]=t,a},i.defaultGetTrackingProperties=function(a){return a[i.messagePropertyName]},i.defaultIsErrorMessage=function(a){return!!a.error},i.createDeferred=function(){var a={resolve:null,reject:null,promise:null},t=new Promise(function(l,g){a.resolve=l,a.reject=g});return a.promise=t,a},i.createRandomString=function(){var a=window.crypto||window.msCrypto,t=new Uint32Array(1);return a.getRandomValues(t),t[0].toString(36).substring(1)},i.prototype.addHandler=function(a){this.handlers.push(a)},i.prototype.removeHandler=function(a){var t=this.handlers.indexOf(a);if(-1===t)throw new Error("You attempted to remove a handler but no matching handler was found.");this.handlers.splice(t,1)},i.prototype.start=function(){var a=this;this.receiveWindow.addEventListener("message",function(t){a.isReceivedMessageValid(t)&&a.windowMessageHandler(t)})},i.prototype.stop=function(){this.receiveWindow.removeEventListener("message",this.windowMessageHandler)},i.prototype.postMessage=function(a,t){var l={id:i.createRandomString()};this.addTrackingProperties(t,l),a.postMessage(t,"*");var g=i.createDeferred();return this.pendingRequestPromises[l.id]=g,g.promise},i.prototype.sendResponse=function(a,t,l){this.addTrackingProperties(t,l),a.postMessage(t,"*")},i.prototype.isReceivedMessageValid=function(a){if(this.receivedMessageValidation){var t=this.receivedMessageValidation.expectedMessageSource,l=this.receivedMessageValidation.expectedMessageOrigin;if(t&&a.source!==t)return!1;if(l&&a.origin!==l)return!1}return!0},i.prototype.onMessageReceived=function(a){var t=this,l=this.eventSourceOverrideWindow||a.source;if(l){var n,p,g=a.data;if("object"!=typeof g)return;try{n=this.getTrackingProperties(g)}catch(o){}if(n&&(p=this.pendingRequestPromises[n.id]),p){var d=!0;try{d=this.isErrorMessage(g)}catch(o){}d?p.reject(g):p.resolve(g),delete this.pendingRequestPromises[n.id]}else this.handlers.some(function(o){var v=!1;try{v=o.test(g)}catch(c){}if(v){var m=void 0;try{m=Promise.resolve(o.handle(g))}catch(c){m=Promise.resolve()}return m.then(function(c){c||(c={warning:"Handler for message: ".concat(JSON.stringify(g,null,"  ")," did not return a response message. The default response message will be returned instead.")}),t.sendResponse(l,c,n)}),!0}})}},i.messagePropertyName="windowPostMessageProxy",i}();e.WindowPostMessageProxy=r})(),j)},231882:function(ve,j,e){e.d(j,{G:function(){return r}});class r{constructor(){this.eimInformationProtectionEditEnabled=null,this.eimInformationProtectionMandatoryLabelSettingEnabled=null,this.cesTeamsGiveUsFeedbackButton=null,this.azureMapEnabled=null,this.azureMapsEnabled=null,this.azureMapsCrossRegionDataProcessingEnabled=null,this.azureMapsThirdPartyDataProcessingEnabled=null,this.adminCustomDisclaimerEnabled=null,this.bingMapEnabled=null,this.datamartTenantEnabled=null,this.deprovisionScdInstanceEnabled=null,this.externalDatasetSharingTenantEnabled=null,this.allowCVWebAccessTenantEnabled=null,this.liveChatWithSalesEnabled=null,this.enableDatasetInPlaceSharingEnabled=null,this.enableAOAIEnabled=null,this.EnableOpenAIAdminControl=null,this.RestrictAccessListsToGroupsSupport=null,this.allowCVLocalStorageV2TenantSwitch=null,this.disablePromotionalBanner=null,this.immersiveTenantAdminSwitchEnabled=null,this.microsoftOrgAppEnabled=null,this.withinDXT=null,this.liveWorkbookTiles=null,this.csvContentProviderEnabled=null,this.vsoVnextAppEnabled=null,this.excelWorkbooksInContentPackEnabled=null,this.ffxlChartSelectionEnabled=null,this.ffxlLocalFilesEnabled=null,this.sharePointDocumentLibrariesEnabled=null,this.sparkAppEnabled=null,this.psaPracticeManagerAppEnabled=null,this.anonymousEmbeddingEnabled=null,this.psaResourceManagerAppEnabled=null,this.psaAccountManagerAppEnabled=null,this.azureUsageAndBillingAppEnabled=null,this.bingAdsAppEnabled=null,this.salesforcePersonasEnabled=null,this.fullFidelityExcelEnabled=!0,this.disableAnimation=null,this.pseudoLocEnabled=null,this.includeFlightingContentProviders=null,this.exportallowed=null,this.ignoreGettingStartedPopups=null,this.insightsDevModeEnabled=null,this.snapshotEmbedEnabled=null,this.closeAccountEnabled=null,this.dataDotChartEnabled=null,this.enterpriseGatewayEnabled=null,this.enterpriseGatewayETLEnabled=null,this.quotaSmallLimitEnabled=null,this.forceFreeUserEnabled=null,this.salesforceAndOneDriveCredentialsEnabled=null,this.scriptVisualEnabled=null,this.embedFullFidelityWorkbooks=null,this.readOnlyGroupEnabled=null,this.sandboxVisualsEnabled=!0,this.pauseQueriesEnabled=null,this.sunburstVisualEnabled=null,this.cloudRlsImpersonationEnabled=null,this.cloudRlsRoleMembershipEnabled=null,this.filledMapDataLabelsEnabled=null,this.enableTableToTableRelationship=null,this.isLabelInteractivityEnabled=null,this.importPbiviz=null,this.analyzeInExcelEnabled=null,this.dataClassificationEnabled=null,this.scriptVisualAuthoringEnabled=null,this.devToolsVisualApiVersioning=null,this.insightsStoreEnabled=null,this.saasMarketplace=null,this.permissionCenterEnabled=null,this.oneGBUploadFileSizeEnabled=null,this.templatePublishFlightingWorkAroundEnabled=null,this.enableGroupAuthoring=null,this.exportVisualToExcelEnabled=null,this.showGeneratedColumnsInDetailView=null,this.alwaysPromptForContentProviderCreds=null,this.serviceAppsDisabled=null,this.builtInContentProvidersDisabled=null,this.shapeMapVisualEnabled=null,this.exportReportToPowerPointEnabled=null,this.adminAuditingEnabled=null,this.dynamicMessageEnabled=null,this.preloadLinkedDashboardEnabled=null,this.scriptVisualLaunchExternalIDEEnabled=null,this.esriEnabled=null,this.sharePointEmbedEnabled=null,this.emailSubscriptionEnabled=!0,this.downloadReportEnabled=null,this.socialSharingEnabled=!0,this.isSovereignCloud=null,this.scriptVisualAnonymousEmbeddingEnabled=null,this.analyzeInExcelSovereignFormatEnabled=null,this.appTemplatesEnabled=null,this.directQueryScheduledRefresh=null,this.previewDefaultOptIn=null,this.serviceAppsEnabled=null,this.templateAppUpgradeEnabled=null,this.useBackendFSEnabled=null,this.granularTenantControls=null,this.adminCapacityEnabled=null,this.clientUsageMetricsEnabled=null,this.pivotTableVisualEnabled=null,this.multipleODataPredicates=null,this.datasetDownloadPbix=null,this.dashboardEmailSubscription=null,this.approvedResourcesDisabled=null,this.groupCapacity=null,this.reportMeasures=null,this.customVisuals=null,this.showHiddenUsageMetricsModels=null,this.appStoreCdnOverride=null,this.onPremDirectQuerySingleSignOnForSql=null,this.onPremDirectQuerySingleSignOnForOracle=null,this.onPremDirectQuerySingleSignOnForSAP=null,this.onPremDirectQuerySingleSignOnForTeradata=null,this.cellLevelFormatting=null,this.canvasItemsPane=null,this.instantEmail=null,this.usageMetricsUpgrade=null,this.authoringCapabilitiesAdminControl=null,this.customVisualsPerformanceTelemetry=null,this.customCommands=null,this.loadBaseTheme=null,this.baseTheme=null,this.reportSharingUI=null,this.slowDataSourceModeEnabled=null,this.dsrV2=null,this.drillFilterOtherVisuals=null,this.CDSA=null,this.useBatchGeocoding=null,this.stickyUserStateUI=null,this.stickyUserStateUIThrottling=null,this.showIncrementalRefreshPolicy=null,this.cdsaFrontend=null,this.createAppWorkspaceSettingMigration=null,this.subscribeOthersUI=null,this.dashboardThemesUI=null,this.filtersInDataView=null,this.cdsaExternalStorageReferenceUI=null,this.notifyLegacyExternalUsers=null,this.insightApps=null,this.paginatedReports=null,this.annotationsUI=null,this.urlBookmarksUI=null,this.donutImprovements=null,this.dataClassification=null,this.editWorkspaceShowsRegion=null,this.comparisonODataPredicates=null,this.stickyUserStateCustomViz=null,this.multiGeoGatewaysCredentialsWarning=null,this.gatewayBasicLoadBalancing=null,this.showManageAggregations=null,this.dateODataType=null,this.nonAsciiODataNames=null,this.inODataPredicates=null,this.bookmarkGrouping=null,this.personalBookmarksUI=null,this.spoWithTutorialVisuals=null,this.securePublishToWeb=null,this.redlineAlignment=null,this.capacityWorkloads=null,this.rdlReportSharingUI=null,this.lessIntrusiveNpsDialog=null,this.cartesianConditionalFormatting=null,this.openExploreErrorDetails=null,this.onPremDirectQuerySingleSignOnForSapBw=null,this.cdsaUseMashupEditorClientLibrary=null,this.capacitySettingsTabs=null,this.copyBetweenPbix=null,this.datasetPropertiesSection=null,this.certifyDatasetsSetting=null,this.allowExploreDatasetOfApp=null,this.exportExcelExcludeMeasures=null,this.exportDataMode=null,this.capacityRestartButton=null,this.cdsaExperimentalConnectors=null,this.optimizePublishToWeb=null,this.sharedDatasetDiscovery=null,this.reportAnnotationsUI=null,this.autoShareAnnotatedArtifact=null,this.onPremDirectQuerySingleSignOnForSapBwMessageServer=null,this.scheduledSubscriptionUI=null,this.userStateBookmarkImprovements=null,this.cdsaCDMFolderReferenceUI=null,this.elevatedGuests=null,this.cdsaFolderStorageAccountUI=null,this.rdlReportJsonRplRenderer=null,this.localizationModern=null,this.workloadMetrics=null,this.removeAuthoringToolSaveButton=null,this.dashboardB2BSharingWithRegularHost=null,this.PbiDedicatedPublicXmlaEndpoint=null,this.keyDrivers=null,this.cdsaDatasetCopyUI=null,this.rolloutCapacitiesList=null,this.visualTabOrders=null,this.helpAndSupportSettings=null,this.servicePrincipalTenantAdminSettings=null,this.exportReportToPdfEnabled=null,this.newLookUI=null,this.httpServiceModern=null,this.cdsaExistingDatasetCopyUI=null,this.defaultTooltipFormatting=null,this.axisInteractivity=null,this.showDataflowsInGetData=null,this.cdsaFastCombineDefaultOffFrontend=null,this.workspacesV2GA=null,this.workspacesV2GAFeatures=null,this.cdsaStorageAccountDetachUI=null,this.dataSourceVariablesOverride=null,this.capacityBanner=null,this.workspaceCapacityManagement=null,this.userFavoriteResourcePackagesEnabled=null,this.performancePane=null,this.unreadAnnotationsBadge=null,this.paginatedReportsSubscriptions=null,this.cdsaStorageUpdateMissingParamsUI=null,this.scheduledRefreshCCNotifications=null,this.workspacesV2ViewerRole=null,this.exprBoundColorValidation=null,this.gatewayMultipleCredentials=null,this.gatewayMultipleCredentialsRDLReports=null,this.gatewayMultipleCredentialsDatapools=null,this.paneColorRefresh=null,this.dataSourceVariablesOverrideShared=null,this.disableExportDataOnVisualError=null,this.stagingRdlInApps=null,this.rdlReportInGlobalSearch=null,this.useNewCY19SU06BaseTheme=null,this.paginatedReportsSqlAzureSSO=null,this.appRepublishErrorHandlingUpdate=null,this.pbiMarketplace=null,this.tablixIcons=null,this.decompositionTree=null,this.tileEmbedHostEnvChange=null,this.dataBoundPropertiesUseThemeDefaults=null,this.contactsSettingsList=null,this.drillthroughText=null,this.keyDriversDetails=null,this.propertyEvaluationWarnings=null,this.qnaVisual=null,this.workspacesV2OptInUpgrade=null,this.workspacesV2OptInUpgradeButton=null,this.workspacesV2Downgrade=null,this.eimInformationProtectionUI=null,this.homeThumbnailUI=null,this.importJsonModel=null,this.allowCDNUrl=null,this.exprBoundAltText=null,this.disableServicePrincipalNotification=null,this.personalVisualizationPaneEnabled=null,this.newExportDataUI=null,this.newUsageMetrics=null,this.rdlGenerateLinkUI=null,this.queryApplicationContext=null,this.snapshotGenerateUI=null,this.lazyLoadAngularJS=null,this.exprBoundActions=null,this.externalSharingInvitationHostDeprecation=null,this.invitationHostDeprecation=null,this.visualMultiColumnFilterMetadata=null,this.deprecateArchivedContent=null,this.InsightsContinuationTokens=null,this.insightsContinuationTokensUX=null,this.conditionalTablixWebURL=null,this.addHostEnvHeader=null,this.kerberosDqRefresh=null,this.directToMwc=null,this.rdlBootstrapNotInDashboardService=null,this.themeDialog=null,this.subscriptionUpdatePreventionOnAnonymizedUsers=null,this.manageMarketplaceVisuals=null,this.refreshCenterHistory=null,this.refreshCenterTimetable=null,this.forceCapacityFolderAlmPipeline=null,this.adlsBasedModelTakeover=null,this.canvasZoom=null,this.pbiRSKey=null,this.umv2Upgrade=null,this.newAdminUsageMetrics=null,this.scopedAggregates=null,this.exportForPBIE=null,this.decompTreeBarsPerLevel=null,this.navAndDrillthroughActionTypes=null,this.allowSubscribingOnlyExternalUsers=null,this.modernPackageRefreshListener=null,this.emailSubscriptionV2=null,this.instantEmailSubscriptionV2=null,this.decompTreeTooltipMeasure=null,this.reusableFluentList=null,this.fluentAppListView=null,this.webNavigationMigration=null,this.saasReportIsAngular=null,this.saasReportIsAngularToThisPoint=null,this.allowGatewayForRDLWithCloudDS=null,this.decompositionTreeCoreVisual=null,this.visualInsights=null,this.useModernVisualTooltipManager=null,this.totalsConditionalFormatting=null,this.homeGettingStartedP2WSample=null,this.homeGettingStartedP2WSampleForceShow=null,this.homeGettingStartedPbixSample=null,this.updatedGetDataSamples=null,this.hideWorkspacesWidget=null,this.filteredFavoriteFrequent=null,this.discussInTeams=null,this.drillthroughButtonGA=null,this.decompositionTreeCrossHighlight=null,this.deleteSharedDatasetUi=null,this.rebindReportUi=null,this.decompositionTreeResponsiveLayout=null,this.externalTools=null,this.decompositionTreeConditionalFormat=null,this.exportReportWithExecuteScriptAsync=null,this.byoResourcesUI=null,this.byoResourcesStorageAccountUI=null,this.byoResourcesLogAnalyticsUI=null,this.discussInTeamsForDashboard=null,this.fluentTopLevelList=null,this.selfServicePurchase=null,this.fileExportPolling=null,this.openArtifactsInNewTab=null,this.d3v5=null,this.showDisableCommentingTenantSwitch=null,this.azureMapVisual=null,this.azureMapPreviewEnabled=null,this.singlePageExports=null,this.ShowQnaSettingForAllModels=null,this.qnaSupportCommitQuestionOnDemandForAll=null,this.spanishLinguisticsEnabled=null,this.qnaExportLanguageModelPackage=null,this.anomalyDetection=null,this.kustoSSO=null,this.cdpaSSO=null,this.templateAppsSimplifiedAuth=null,this.showThemeLoadError=null,this.interactivityServiceOptimization=null,this.gatewayVNets=null,this.eimInformationProtectionUsageRightsUI=null,this.eimInformationProtectionMandatoryLabelUI=null,this.allowPrivateLinksSecurityGroups=null,this.QnaInterpretVersion=null,this.reportPagePanePositionSetting=null,this.expFlightingTenantSetting=null,this.blankCanvasWatermark=null,this.decompositionAnalysisInsights=null,this.ppuTenantSettings=null,this.sendLocalDatesForSubscription=null,this.postNgMigrationCleanup=null,this.capacityGen2Create=null,this.capacityGen2Toggle=null,this.capacityGen2Notifications=null,this.autoScaleEmailNotifications=null,this.WorkspaceV1AdminUpgrade=null,this.proTrialToPPUTrialRollout=null,this.serializeSpaceOptimization=null,this.workspaceV1AdminUpgradeAll=null,this.databricksSSO=null,this.commonDataServiceSSO=null,this.capacityGen2UsageMetricsLink=null,this.disablePPUConfirmationDialog=null,this.allowSubscribeOthersWithRLS=null,this.premiumPerUserGA=null,this.qnaThumbsUpDown=null,this.cartesianMultiplesAuthoring=null,this.subscriptionOptionalPreviewImage=null,this.consolidateGroupDeleteState=null,this.analyticsRibbon=null,this.sharepointListLicensing=null,this.visualizeListInPowerBIUI=null,this.powerBIGoals=null,this.fluentListMigration=null,this.scorecardVisual=null,this.enhancedTooltips=null,this.MRUOptimizationFE=null,this.capacityAzureGen2Preview=null,this.cartesianMultiplesGridFormatting=null,this.newEmbedOnLoadFiltersFlow=null,this.teamsAnalyticsUI=null,this.automatedInsights=null,this.automatedInsightsBackgroundRefresh=null,this.sharedWithMeOptimizationFE=null,this.azureMapSelectionControl=null,this.promoteTeamsBanner=null,this.enterDataFooter=null,this.capacityGen2PaygUI=null,this.autoAssignTrial=null,this.cartesianMultiplesGridPadding=null,this.cancelTrial=null,this.accessibilityTopLevelNav=null,this.deprecateOldVisuals=null,this.hiddenContent=null,this.streamingDataflowQueryTest=null,this.useModernFormatPane=null,this.formatPaneGroups=null,this.teamsHomePivot=null,this.topLevelListsAreAngular=null,this.shapeVisual=null,this.showLiftChart=null,this.showAllGateways=null,this.daxTransformEnabled=null,this.cesNewUserDayZeroIntent=null,this.cesTest=null,this.smallMultiplesConditionalFormatting=null,this.enableSelectAllForDynamicQueryParameter=null,this.WorkplaceAnalyticsSSO=null,this.powerAutomateNativeVisual=null,this.capacityRegionalSpec=null,this.smallMultiplesSortByMeasure=null,this.teamsMobileFormatting=null,this.dataverseIntegrationUI=null,this.modernCodePaneContainer=null,this.servicePrincipalProfiles=null,this.m365DataSharingSetting=null,this.generateQesTokenPaas=null,this.SPLRegenerateModel=null,this.byolaSGWorkspacePermissionSwitch=null,this.buttonTileFormatting=null,this.visualTitleContainerPadding=null,this.capacityAzureGen2GA=null,this.learnPageSamples=null,this.capacityBannerGen2=null,this.gatewaysAdminCenterLink=null,this.azureMapHeatmapLayer=null,this.sparklines=null,this.accessibilitySlicerNav=null,this.modernGroupingDialog=null,this.textboxSuperSubScriptBulletedList=null,this.navigatorVisuals=null,this.adminPortalSurvey=null,this.eimInformationProtectionMandatoryLabelOnUploadRdlUI=null,this.EimInformationProtectionMandatoryLabelNewPaginatedReport=null,this.displayAdminInsights=null,this.adminInsightsOnTrident=null,this.NlToDax=null,this.EnableNLToDax=null,this.AllowSendNLToDaxDataToOtherRegions=null,this.showAllowPowerBIASDQOnTenant=null,this.useModernDatePickerSlicer=null,this.substrateDeprovisioningSetting=null,this.useCvSandboxHtmlPack=null,this.almDatamarts=null,this.allowDataMartModelAuthoringRLS=null,this.upgradeOutlineProperties=null,this.tridentCapacityUsageReport=null,this.outlineDropdownToCheckboxes=null,this.slicerAccessibility=null,this.cvAggregateUpdateMessages=null,this.showDefaultTooltip=null,this.azureMapsGeocoding=null,this.splitSubTotals=null,this.splitGrandTotals=null,this.removeDefaultToCircleToggle=null,this.bookmarkNavigatorSeparate=null,this.ProvideStaticOAuthOption=null,this.quickCreateSave=null,this.newWorkspaceTableCapacityPane=null,this.formattingPaneEnhancement=null,this.showEmbedPaasFreeTrialNotification=null,this.keyboardShortcutsLassoSelect=null,this.kustoExtension=null,this.datasetWritePermissions=null,this.MyFolderAdminAccess=null,this.MyFolderPreferredCapacity=null,this.remainingCartesianCategoryLogAxisScale=null,this.goalsDetailsUpdatedPeriodicity=null,this.visualFormattingTelemetry=null,this.myFolderPPU=null,this.slicerSliderColors=null,this.spinButtonControl=null,this.formattingPaneStoreUpdate=null,this.MyFolderConvertToAppFolder=null,this.azureMapsFilledMap=null,this.modernClipboard=null,this.interpretRequestGroupIdEnabled=null,this.subscriptionsWithFilters=null,this.categoricalSecondaryCF=null,this.a11yComplianceItaly=null,this.trackActivityLifecycle=null,this.visualSharingEntryPoint=null,this.visualSharingEntryPointFromApp=null,this.visualSharingEntryPointOptions=null,this.azureMapsShowLabels=null,this.azureMapsCategoryLabels=null,this.qnaToolingPhrasingEditor=null,this.flexibleDimensionsMenus=null,this.updateFormattingPaneObjects=null,this.moveSlicerTypeSelection=null,this.tealTheme=null,this.useCvSandboxDynamicHtml=null,this.sjdOptimizationRetryPolicy=null,this.useAppArtifactId=null,this.azureMapsProgressiveLoading=null,this.baseThemeUpdate=null,this.validateReportTheme=null,this.vcPadding=null,this.navigatorTogglePage=null,this.azureMapsUseMapControlV3=null,this.tridentCapacitySettings=null,this.tridentCapacityWorkspaceSettings=null,this.showCapacityUnits=null,this.showCapacityUnitsForEMSku=null,this.tablixImageWidth=null,this.azureMapsConversion=null,this.showSCCGateway=null,this.certifiedVisualTelemetry=null,this.SharableCloudDatasources=null,this.officeAddInApp=null,this.hideAzureMapVisual=null,this.a11yMatrix=null,this.closeSupportTicketOrSendMessage=null,this.showAdminSupportCenter=null,this.supportCenterUseGeneratedURL=null,this.supportCenterEditTicket=null,this.supportCenterDemoMode=null,this.supportTicketFilters=null,this.SharedToMSaaS=null,this.SharedToMSaaSGetPeripheralTickets=null,this.skipJqueryCssDimensionHook=null,this.dataBarsUpdate=null,this.workspaceRecovery=null,this.AdminHardDeleteFolder=null,this.azureMapsDataResidency=null,this.capacityMetricsUpdateBanner=null,this.notebookCustomWidgets=null,this.notebookRichDisplay=null,this.notebookAutomaticRoute=null,this.notebookAznbWarmUp=null,this.azureMapsScreenshot=null,this.pbiExcelAddInDialogControlsInAnaheim=null,this.internalFormattingState=null,this.cardReferenceLabels=null,this.legacyLazyScoped=null,this.azureMapsLatLongPieCharts=null,this.notebookUseCapacityOfWorkspace=null,this.geocoderIndexedDB=null,this.cardVisualRefUpdate=null,this.oneLakeFabricCapacityBanner=null,this.azureMapsBubbleCluster=null,this.azureMapsMultiDataFormats=null,this.azureMapsMultiDataFormatsKeepIconURLs=null,this.matrixLayouts=null,this.ASVirtualConnectionForFabricTDS=null,this.assistedDateTable=null,this.qnaFuzzyMatch=null,this.ASDirectLakeOnOneLake=null,this.ASOneLakeDatasourceManagement=null,this.copilotErrorChatItem=null,this.notebookResourceIdFromPayload=null,this.forceEnhancedTooltips=null,this.cardVisualCFSelector=null,this.bingGeocoderIndexedDB=null,this.freeUserAccessPremiumWorkspace=null,this.restrictFreeUsersActions=null,this.notebookPrefetchAzNB=null,this.copilotPanePreviewLink=null,this.visualBorderWidth=null,this.interactivityServiceCaching=null,this.navigatorAccentBar=null,this.azureMapsCustomFormattingReferenceLayer=null,this.azureMapsCsvSupport=null,this.azureMapsDynamicReferenceLayer=null,this.cardVisualSmallMultiples=null,this.dataBoundAddingQueryExprs=null,this.visualLevelFormatStringAuthoring=null,this.visualLevelFormatStringConsumption=null,this.warehouseCapacityBanner=null,this.notebookChartEnhancement=null,this.visualLevelFormatStringFullSupport=null,this.enableVisualCalcWithFieldParameter=null,this.enableVisualCalculationDaxTemplateMenu=null,this.useTabularLayoutForVisualCalcVisualMatrix=null,this.lineChartMarkerRendering=null,this.newMarkerProperties=null,this.advancedSlicerTypeList=null,this.AllowCopilotUserCapacity=null,this.azureMapsDataBoundReferenceLayer=null,this.dataQuestionPromptSuggestions=null,this.monacoPlaceholderWidget=null,this.textSlicer=null,this.azureMapsPathLayer=null,this.conditionalFormattingVisualCalculation=null,this.loadFSWithSignInEvent=null,this.visualCalcColumnHighlight=null,this.visualLevelFormatStringExportToExcel=null,this.visualLevelFormatStringUseVBA=null,this.azureMapsPathLayerVisualCalculation=null,this.semanticModelVersioningSoP=null,this.visualThemeStylePresets=null,this.ReferenceLineShadeRegion=null,this.dataQuestionTextualAnswer=null,this.forceColorSchemeForIFrames=null,this.setTelemetryNameColumnWithEventName=null,this.fieldParameterSort=null,this.azureMapsAutoZoomIncludesReferenceLayer=null,this.enforceImmersiveTenantAdminSwitch=null,this.orgThemes=null,this.webThemesGallery=null,this.enableGen2DataflowsGetLatestPublishHistoryEntry=null,this.enableGen2DataflowsDocumentStagingDefinition=null,this.enableGen2SaveAs=null,this.enableFabricDataflowsNewPublishAndRefreshAPIs=null,this.enableFabricDataflowCreationChoiceByDefault=null,this.enableParametricDataflowSupport=null,this.DisableRetrievalOfGen2DataflowPublishedVersionOnSpecificFailuresToRetrieveDraft=null,this.enableGen2DataflowsStartFlowV2=null,this.enableGen2DataflowsLocalization=null,this.enableFabricDataflowsParallelApiInvocations=null,this.textSlicerMultiselect=null,this.enableGen2DataflowsCachingTokenProvider=null,this.preloadGen2Dataflows=null,this.updateDataflowsFrontendApiToUseObjectId=null,this.a11yShowAsMatrix=null,this.enableNewGetPowerQueryHostUrlApi=null,this.QnAMultiInstanceFiltering=null,this.QnaOverOlsModels=null,this.qnaNLToDaxFallback=null,this.qnaNLToDaxFallbackOverride=null,this.qnaNLToDaxForReportInReadMode=null,this.qnaNLToDaxExpandDialog=null,this.qnaNLToDaxNavigateWithQuery=null,this.shareDatamart=null,this.openWithOnDatamartType=null,this.a11yTable=null,this.newResizeSensor=null,this.queryContext=null,this.fieldParameters=null,this.fieldParametersAuthoring=null,this.fieldParametersCV=null,this.capacityMetricsGen2App=null,this.coalesceCD=null,this.exp_coalesceCD=null,this.disableScheduledRefreshForCapacityMetricsGen2=null,this.autoInstallPowerBIAppInTeamsClient=null,this.autoInstallPowerBIAppInTeamsActivesClient=null,this.storytellingSingleVisualTutorial=null,this.storytellingEasyShareEnabled=null,this.storytellingTitleSuggestion=null,this.storytellingRefreshNotification=null,this.storytellingNewExportDialog=null,this.storytellingRedeemOrgLink=null,this.storytellingUsePrintSectionReadyEvent=null,this.teamsPersonalAppSideNav=null,this.showMatDialogConfirmation=null,this.showCopilotInPersonalAppNavbar=null,this.bingMapTenantSetting=null,this.workbookModern=null,this.teamsPersonalAppTopBar=null,this.angularOnlyPermissionCenter=null,this.leadsCollection=null,this.eimInformationProtectionSupportForTridentUI=null,this.eimInformationProtectionFlyoutTrident=null,this.tridentArtifactsEndorsement=null,this.ArtifactStorageTriggerUI=null,this.tridentGit=null,this.tridentGitCheckoutBranch=null,this.tridentGitOnShared=null,this.tridentGitSwitchBranch=null,this.tridentGitConflictResolution=null,this.tridentGitRdlSupport=null,this.tridentGitSwitchesDelegation=null,this.tridentGitForkBranch=null,this.tridentGitRelatedNavigation=null,this.interactiveOperationUI=null,this.passReportIdToOnloadBookmark=null,this.disableBatchTilesDataUpdates=null,this.showWorkspaceUpgradeEmailTenantSetting=null,this.showWorkspaceUpgradeEmptyTenantSetting=null,this.removeScaleDetector=null,this.noEmptyUpdateEmbed=null,this.noEmptyUpdate=null,this.browse=null,this.browseMenu=null,this.useTridentErrorDialog=null,this.newZoomControl=null,this.BlockWorkspaceV1Creation=null,this.enableGen2DataflowsForSharedWorkspaces=null,this.enableGen2DataflowsDraft=null,this.enablePublishGen2DataflowWithParams=null,this.enableHostPublishErrorMessagesForGen2Dataflows=null,this.dataflowsPauseConsecutivlyFailingDataflowRefreshes=null,this.logDataflowGen2MenuItemInformation=null,this.logDataflowsDebugInfo=null,this.dataQuestionUseDataModelDescription=null,this.dataQuestionUseCustomInstructions=null,this.disableRetrievalOfGen2DataflowPublishedVersionOnFailureToRetrieveDraft=null,this.enableGen2DataflowsSaveIndicator=null,this.enableQueryOutputDestinations=null,this.enableCopilotInGen2Dataflows=null,this.enableCopilotInFabricDataflows=null,this.enableCopilotStatusPaneInFabricDataflows=null,this.enableFabricDataflowsCheckValidationStatus=null,this.enableDataflowGen2CreationProgress=null,this.enableFastCopyByDefault=null,this.enableGen2EndpointsForDataflows=null,this.enableGen2LegacyDataflowsSaveAs=null,this.enableGen1DataflowsSaveAs=null,this.enableDataflowArtifactStatusBar=null,this.enableCancelRefreshForGen2Dataflows=null,this.enableSharedNewGen2DataflowDialog=null,this.mobileSkipPreloadConceptualSchema=null,this.mobileNewDashboardConsumption=null,this.upsellDataflowGen2=null,this.enableMashupEditorBasedAuthoringForDataflows=null,this.visualCoreInitialCheck=null,this.singleGoalVisual=null,this.rlsEditor=null,this.isDownloadFilesInOfficeEnabled=null,this.isDownloadFilesInOutlookEnabled=null,this.spatialAnchorsAdminUI=null,this.quickExploreMultiTable=null,this.isViewFullScreenInOfficeEnabled=null,this.isViewFullScreenInOutlookEnabled=null,this.isMetaOSStandardClientReportingEvent=null,this.aasMigration=null,this.tooltipsToOverlay=null,this.oneDriveSave=null,this.oneDriveShare=null,this.oneDriveSharePointAllowSharingTenantSetting=null,this.oneDriveViewerShare=null,this.oneDriveViewerWaveOne=null,this.oneDriveViewerWaveTwo=null,this.oneDriveViewerAutoTrial=null,this.oneDriveSharePointViewerLiveConnectSupport=null,this.displayKustoAdminSettings=null,this.adminGroupApiDatamart=null,this.reportEmbedShowKeyboardHint=null,this.aasReportRebind=null,this.defaultAggrDisplayName=null,this.datamartRefreshHistory=null,this.allowCustomVisualsOnReportEmbedExport=null,this.allowCustomVisualsOnDashboardModernExport=null,this.allowCustomVisualsForCopyPasteVisual=null,this.modernGetData=null,this.getDataCSVConnector=null,this.ASShareableCloudConnectionBindingSecurityMode=null,this.quickCreateNewImport=null,this.delayGroupMetadataForQC=null,this.fabricArtifactsInCreate=null,this.reportAuthoringCopilot=null,this.customCalendars=null,this.customCalendarsPreview=null,this.rlsSwitchReportEnabled=null,this.formattingRibbon=null,this.workspaceTemplateAndDiagram=null,this.useBlobForEncryptedExploration=null,this.OneLakeUXS3Cache=null,this.OneLakeUXCacheRetentionPeriod=null,this.OneLakeUXResetCache=null,this.newManageRelationshipDialog=null,this.getDatasetInfoViaStore=null,this.buttonSlicer=null,this.buttonSlicerAuthoring=null,this.modernGetDataM0=null,this.ODSPRefreshEnforcementUI=null,this.pivotTableOnMobileShowAsTable=null,this.ASFixedIdentityByDatasourceBindingState=null,this.allowDirectLakeDataValidation=null,this.showWorkspaceSettingsV2=null,this.clearComponentOnDestroy=null,this.adminPortalDataPolicies=null,this.adminPortalHamburgerMenu=null,this.adminPortalUMBanner=null,this.deprecateAdminPortalUM=null,this.adminPortalUMPredeprecationLandingPage=null,this.adminPortalUMPostdeprecationLandingPage=null,this.adminPortalUMEmbeddedReport=null,this.umv2DeprecationBanner=null,this.showTASDeprecationBanner=null,this.tasDeprecated=null,this.drillStateToggleable=null,this.oneLakeWorkspaceSettings=null,this.datasetSummaryCopilot=null,this.almNewUi=null,this.workspaceSettingsV3=null,this.disallowLongRunningQueries=null,this.supportLargeStorageModePbixDownload=null,this.immersiveCopilotOnArtifactEntryPoint=null,this.immersiveCopilotContextSelection=null,this.immersiveCopilotAISkill=null,this.immersiveCopilotReportContentSkill=null,this.immersiveCopilotReportContentAnnotations=null,this.immersiveCopilotReportContentInlineVisuals=null,this.immersiveCopilotAnnotationEntitiesInChat=null,this.immersiveCopilotAnnotationEntitiesInChatInput=null,this.immersiveCopilotSkillPrioritization=null,this.immersiveCopilotAISkillThreads=null,this.immersiveCopilotEnhancedCitations=null,this.immersiveCopilotAppsIntegration=null,this.immersiveCopilotFeatureSwitchConfig=null,this.immersiveCopilotM3Prompting=null,this.immersiveM365HandoffTesting=null,this.SkipCopilotCapacitySkuRequirements=null,this.usePrerenderChatItemExtension=null,this.trialCapacityFAQ=null,this.unifiedHomepageM1=null,this.embedGetIncludeExcludeMultiTargetsFilter=null,this.DetermineIsCloudMonikerDatasourceByOnPremGatewayRequired=null,this.getAvailableGatewaysV2=null,this.rlsExternalReportImpersonationEnabled=null,this.tridentGitGitHubApis=null,this.tridentGitAdoCrossTenant=null,this.tridentGitSubfolders=null,this.fabricGitStatusAsync=null,this.downloadPbixAsync=null,this.DirectLakeAutoSyncNotificationUI=null,this.visualCalculationOnComboChart=null,this.newArcSelectionAPI=null,this.irisMessageBar=null,this.getIrisNotificationWithClusterCountryCode=null,this.upgradeLegacyReportToPBIR=null,this.valueFilterBehavior=null,this.tourOnReport=null,this.refreshUserServicePlan=null,this.workloadAnnouncement=null,this.FabricLicensingRulesets=null,this.copilotFrameworkAnnotations=null,this.setAccessTokenThrottling=null,this.azureMapsDefaultOn=null,this.cardVisualSmallMultiplesUpdate=null,this.azureMapsEnsureScreenshotInService=null,this.showTrialDaysLeftInAdminPortal=null,this.supportTrialSizeUpgradeInAdminPortal=null,this.trialCapacityNameEditable=null,this.conflictHandleDialog=null,this.appCopilotQnaFallback=null,this.NotebookCopilotV2UI=null,this.UseVerifiedAnswersWithLlmParser=null,this.bypassTridentTsValidation=null,this.projectTridentOverall=null,this.tridentPortalByDefault=null,this.displayProjectTridentUIEnabled=null,this.fabricGAWorkloadsEnabled=null,this.forceEnableClassicArtifacts=null,this.tridentIgnorePreviewArtifacts=null,this.tridentFreeLicenseAllowances=null,this.createArtifactPanel_variantA=null,this.createArtifactPanel_variantB=null,this.migrationPanel=null,this.migrationEntrySample=null,this.tridentMultitasking=null,this.tridentMultitaskingOpenInBackground=null,this.tridentMultitaskingUnpinUnintegratedArtifacts=null,this.tridentMultitaskingDataflows=null,this.tridentMultitaskingDataflowsExperience=null,this.tridentMultitaskingDeploymentPipelines=null,this.tridentMultitaskingExternalFunctions=null,this.tridentMultitaskingFabricDataflows=null,this.tridentMultitaskingFunctionSet=null,this.tridentMultitaskingGraphQL=null,this.tridentMultitaskingHLSCohort=null,this.tridentMultitaskingHomeOne=null,this.tridentMultitaskingMLExperiment=null,this.tridentMultitaskingMLModel=null,this.tridentMultitaskingMountedRelationalDatabase=null,this.tridentMultitaskingPipeline=null,this.tridentMultitaskingSJD=null,this.tridentMultitaskingKeepOnRefresh=null,this.tridentMultitaskingLakehouse=null,this.tridentMultitaskingReflexProject=null,this.tridentMultitaskingSQLDbNative=null,this.tridentMultitaskingEventStream=null,this.tridentMultitaskingCosmosDbNative=null,this.tridentNonContextualCreation=null,this.tridentPreviewSuffix=null,this.tridentProductApiPlayground=null,this.tridentProductDatabases=null,this.tridentProductDataEngineering=null,this.tridentProductDataIntegration=null,this.tridentProductDataScience=null,this.tridentProductDataWarehouse=null,this.tridentProductDigitalOperations=null,this.tridentProductBusinessSolutions=null,this.tridentProductFunction=null,this.tridentProductGraph=null,this.tridentProductKusto=null,this.tridentProductMicrosoftSupplyChainCenter=null,this.tridentProductReflex=null,this.tridentRouterOutletDisabled=null,this.tridentRecommendationStyle=null,this.MountedCosmosdb=null,this.MountedSQLdb=null,this.MountedSnowflakedb=null,this.MountedOracledb=null,this.MountedGoogleBigQuerydb=null,this.MountedAzureSQLdb=null,this.MountedGenericDB=null,this.MirroredSapCdc=null,this.MountedPostgreSqlFlexibleServer=null,this.MountedAzureSQLManagedInstance=null,this.ASWorkspaceConfigurableServerProperty=null,this.tridentDataflowGen2Experimental=null,this.enableGen2DataflowsInPowerBI=null,this.enableGen2DataflowsInTrident=null,this.enableGen2DataflowsIncrementalRefresh=null,this.forceEnableGen2DataflowsInTrident=null,this.usePPDFConnector=null,this.useTridentThemeInPowerBIGen2Dataflows=null,this.enableTrialSignUpForGen2Dataflows=null,this.dataflowGen2GASwitch=null,this.checkForGen2DataflowThrottling=null,this.useOnlyEditFlowsForGen2Dataflows=null,this.oneLakeUXS3Shortcut=null,this.oneLakeUXGCPShortcut=null,this.oneLakeUXAzureBlobsShortcut=null,this.oneLakeUXS3CompatibleShortcut=null,this.oneLakeUXShortcutApiV2=null,this.oneLakeUXAdlsPowerQueryFirewallByPass=null,this.oneLakeUXAdlsStoredCredentials=null,this.oneLakeUXShortcutNotifications=null,this.oneLakeUXS3StoredCredentials=null,this.oneLakeUXGCPStoredCredentials=null,this.oneLakeUXS3CompatibleStoredCredentials=null,this.oneLakeUXAzureBlobsStoredCredentials=null,this.oneLakeUXBrowseInShortcut=null,this.oneLakeUXShowKustoInBrowse=null,this.oneLakeUXDataverseShortcut=null,this.oneLakeUXDatabricksShortcut=null,this.oneSecurityPublicUXContract=null,this.SchemaSupportForArtifactInUsec=null,this.allowDataVerseConnectionPassthrough=null,this.oneLakeUXShowDWInBrowse=null,this.oneLakeUXShowDatasetInBrowse=null,this.oneLakeUXShowMountedDatabaseInBrowse=null,this.oneLakeUXShowUnityCatalogInBrowse=null,this.oneLakeUXShowSqlDbNativeInBrowse=null,this.oneLakeUXAzureBlobBrowseAtAccountLevel=null,this.oneLakeUXPQGatewaySettingsForADLS=null,this.oneLakeUXPQGatewaySettingsForDataverse=null,this.oneLakeUXPQGatewaySettingsForGCP=null,this.oneLakeUXPQGatewaySettingsForS3=null,this.oneLakeUXPQGatewaySettingsForAzureBlobs=null,this.onelakeUXPQADLSExistingConnections=null,this.onelakeUXPQS3ExistingConnections=null,this.onelakeUXPQGCPExistingConnections=null,this.onelakeUXPQS3CompatibleExistingConnections=null,this.onelakeUXPQAzureBlobsExistingConnections=null,this.onelakeUXPQDataverseExistingConnections=null,this.oneLakeUXReplaceTridentDomain=null,this.onelakeOrphanedConnections=null,this.onelakeShortcutEnableCache=null,this.enableSearchInSettings=null,this.storytellingSmartNarrative=null,this.storytellingSlideshowAutoRefresh=null,this.storytellingCustomRequestAccess=null,this.storytellingResetDialog=null,this.storytellingChangeViewModeShortcuts=null,this.storytellingMsaDialog=null,this.appArtifactLevelSecurity=null,this.DownloadReportOptionsDialogEnabled=null,this.embedExitToHostShortcut=null,this.UnpublishOrgAppViaSprocFE=null,this.visualCalculations=null,this.visualCalculationsAuthoring=null,this.onObjectTemplateFlyout=null,this.reflexObjectCreation=null,this.reflexBottomPane=null,this.reflexEmailPolicyCreation=null,this.reflexMetric=null,this.reflexMultitagging=null,this.reflexShowEventHub=null,this.reflexShowEventstreamUI=null,this.reflexNewMetricApi=null,this.reflexNewNav=null,this.reflexNewSimulator=null,this.reflexPBI=null,this.reflexPropertyTemplate=null,this.reflexTeamsAction=null,this.reflexPowerAutomateAction=null,this.reflexEditPowerAutomateAction=null,this.reflexICMAction=null,this.reflexFabricJobAction=null,this.reflexFabricItemsReauth=null,this.reflexEnrichmentComponent=null,this.reflexV2=null,this.reflexSimulatorCreation=null,this.reflexSimulatorSkipStopTime=null,this.copyAsMappingDataFlow=null,this.reflexLiveEngine=null,this.reflexMultiGeoApi=null,this.reflexMultiGeoRSA=null,this.reflexMultiTasking=null,this.reflexShortFetch=null,this.reflexShortRefresh=null,this.reflexAdvancedObjectCreation=null,this.reflexMonitorMode=null,this.reflexTemplateCanvas=null,this.reflexTimeAxis=null,this.reflexAlertMe=null,this.reflexTriggerCondition=null,this.reflexWelcomePage=null,this.reflexPBICoachMark=null,this.reflexPBIMultiDimension=null,this.reflexPBITextMeasure=null,this.reflexPBIToolbar=null,this.reflexMultiEvents=null,this.reflexConvertTrigger=null,this.reflexShowTemplateEvent=null,this.reflexPBIPaneExp=null,this.reflexPBIButtonExp_variantA=null,this.reflexPBIButtonExp_variantB=null,this.reflexPBIButtonExp_variantC=null,this.reflexPBIButtonExp_variantD=null,this.reflexPBIButtonExp_variantE=null,this.reflexPBIButtonExp_variantF=null,this.reflexPBIPaneExpOn=null,this.reflexPBIRecipientsInputEnabled=null,this.reflexPBIRecipientsInputExp=null,this.reflexPBIVisualContextEntry=null,this.reflexPBIVisualToolbarEntry=null,this.reflexPBIAlertCreatedSurvey=null,this.reflexPBIAlertDiscardSurvey=null,this.reflexPBIAlwaysShowSurveys=null,this.reflexPBIArtifact=null,this.reflexPBIArtifactV2=null,this.reflexPBIHideArtifactV1=null,this.reflexPBIOneClick=null,this.reflexPBIFollowVisual=null,this.reflexPBIFabricTrial=null,this.reflexPBIDashboardEntry=null,this.reflexPBIGA=null,this.reflexPBISubscriptionsEntry=null,this.reflexPBISurveyExposureHighIncrease=null,this.reflexPBISurveyExposureLowIncrease=null,this.reflexPBIOneClickFabricTrial=null,this.reflexPBIRefreshTokenV2=null,this.reflexPBIV2=null,this.reflexPBIDelayArtifactCreation=null,this.reflexPBIReuseTrialCapacity=null,this.reflexGetEventsWizard=null,this.reflexAnomalyDetection=null,this.reflexAnomalyDetectionV2=null,this.reflexTriggerPane=null,this.reflexFirstRunExperience=null,this.reflexMultiConditionEventTrigger=null,this.reflexReauth=null,this.reflexAutoTrialSignupV2=null,this.reflexPBINewCertifiedEvents=null,this.reflexOnrampContainersReadonly=null,this.reflexPBIAdvancedAlertsReadOnly=null,this.reflexPBILightWeightArtifactCreation=null,this.reflexAdvancedPbiOnrampAlerts=null,this.reflexAdvancedNonPbiOnrampAlerts=null,this.reflexManageSourceRunQueryEvery=null,this.reflexRtpOneMinuteCronFrequency=null,this.rtpPupr=null,this.rtpEventstreamPush=null,this.takeoverDatamart=null,this.createGen2CapacityByDefault=null,this.tridentUserDefinedSparkPool=null,this.notebookOptimizeResourceValidate=null,this.notebookServiceWorker=null,this.notebookHighConcurrency=null,this.sparkRuntimeVersion1_1=null,this.sparkRuntimeVersion1_2=null,this.notebookFixedAznbBundleVersion=null,this.notebookAznbBundleVersion16=null,this.tridentNotebookAznbFixedVersion=null,this.tridentAznbAutosaveFallback=null,this.tridentNotebookContentSaveMonitor=null,this.tridentNotebookSaveGuarantee=null,this.tridentNotebookMetadataUpdate=null,this.tridentNotebookCommentTagAccessCheck=null,this.tridentNotebookNormalizedSessionState=null,this.tridentNotebookLiveVersioning=null,this.tridentNotebookContentSizeMonitor=null,this.tridentNotebookLanguageGroupSwitchCheck=null,this.tridentNotebookSaveLeaderReEvaluation=null,this.tridentSparkAutotuneInMetrics=null,this.tridentSparkMetrics=null,this.tridentSparkCompareRun=null,this.tridentTSQLNotebook=null,this.tridentJupyterNotebook=null,this.tridentNewSparkUIHost=null,this.tridentSparkAdvisorFeedbackSystem=null,this.modelingNotebookCleanUp=null,this.tsqlInPythonNotebook=null,this.tridentNotebookFullSizeModeOnCell=null,this.useReactParameterPane=null,this.useTablixImageFields=null,this.datamartsVisualQuerySingleRibbon=null,this.useStandaloneImagesV2=null,this.azureMapsSasToken=null,this.tridentInTeams=null,this.irisUserDays=null,this.consolidatedMessageBar=null,this.activityBasedTimeout=null,this.abtReLoginPage=null,this.appsPageReflow=null,this.eimSensitivityDropdownCreateReactComponent=null,this.tridentUniversalSecurity=null,this.tridentOneLakeSecurity=null,this.eimSensitivityDropdownReactHomeOne=null,this.mobileClientQueryCache=null,this.mobileAutoReportLayout=null,this.directChangeFormFactor=null,this.layoutSwitcher=null,this.disableLegacyBootstrapForDataset=null,this.useNpsNewUrlOrigin=null,this.useAzureMapsBackend=null,this.cfStrings=null,this.assistedCreationPane=null,this.insightsCancellation=null,this.homeMigrateGettingStartedSample=null,this.scorecardCompactView=null,this.tridentArtifactsSettingsPane=null,this.interactiveMobileCanvas=null,this.mobileVcObjectsProxyFormFactorChange=null,this.pbiTooltipWebView2=null,this.modelExplorer=null,this.fluentDataPane=null,this.capacitySettingsExtensions=null,this.capacitySettingsExtensionsPrototype=null,this.tridentHelpPane=null,this.tridentHelpPaneDebug=null,this.tridentFeedbackPane=null,this.useCommunityNewDomain=null,this.useColoredIcons=null,this.reportCreationCopilot=null,this.pbiLLMService=null,this.reportCreationCopilotV2Flow=null,this.capacityBCDR=null,this.reportCreationCopilotDebuggingLogs=null,this.workspaceIdentityUI=null,this.workspaceIdentityUIDemoMode=null,this.workspaceIdentityToggleUsage=null,this.workspaceIdentityDisableCapacityCheck=null,this.fabricIdentitiesTable=null,this.fabricIdentitiesDemoMode=null,this.FabricIdentitySharing=null,this.fabricIdentitiesUserAssignedTable=null,this.workspacePrivateEndpoints=null,this.privateEndpointsDemoMode=null,this.RestrictOutBoundPEFromF64=null,this.schemaReduction=null,this.workspacePillFilter=null,this.crossSubfolderFilter=null,this.rdlParamAuthoring=null,this.useLayoutEditor=null,this.parameterControlsUpdate=null,this.artifactCloudConnections=null,this.tridentEnvironmentBuiltInLibrary=null,this.tridentEnvironmentGetLMLibsFromPlatform=null,this.tridentMonitoringArtifactMonitoringApi=null,this.tridentEnvironmentPrivateCondaChannel=null,this.tridentEnvironmentRefreshTokenBeforePublish=null,this.tridentEnvironmentExternalRepositories=null,this.fabricSparkMonitoringCtid=null,this.tridentMultitaskingGraph=null,this.enableOrgAppExplorationV2=null,this.useCvSandboxCspIframe=null,this.rdlVisualReact=null,this.sjdRSupport=null,this.datamartTypesInMRU=null,this.layerOrderPanePbiTree=null,this.storytellingRecommendationUI=null,this.storytellingRecommendationLayout=null,this.datamartTypesInFavorites=null,this.datamartTypesFilepathProperties=null,this.warehouseQueryMonitoring=null,this.quickExploreFieldListMigration=null,this.rdlVirtualizeTables=null,this.almSubfolders=null,this.almCustomizedPipelines=null,this.almAsyncDiff=null,this.almPartialAsyncDiff=null,this.almFolderContributorDeployments=null,this.increaseOrgAppAudiences=null,this.orgAppDeprecation=null,this.editConnectionFlow=null,this.visualDatapointAnnotations=null,this.touchScreenOptimizedTooltips=null,this.usageMetricsRetroactiveDisable=null,this.trackUserInfo=null,this.reportLoadIndicator=null,this.cdsaSendEmailOnRefreshFailureUI=null,this.networkStatusNotification=null,this.skipTestConnection=null,this.smartAlertTenantAdminSettings=null,this.cdsaEntitiesRelationships=null,this.removeDataflowPreviewTag=null,this.queryCancellation=null,this.capacityWorkloadMemoryControls=null,this.addPreviewTagToAttachExternalDataflow=null,this.emailSubscriptionTenantAdminSettings=null,this.newDSCompInDataset=null,this.telemetryV2=null,this.skipTestConnectionOnPrem=null,this.northStarBreadcrumb=null,this.managedIdentityAuthorizationTenantAdminSettings=null,this.singleSignOnTestConnection=null,this.disableVisualInDesktopRS=null,this.eimInformationProtectionLicenseEnforcementUI=null,this.copyVisualImage=null,this.showDisableOutboundFlows=null,this.exportPbixForGeneratedModelsUI=null,this.modelingServiceGenerateModel=null,this.personalizeVisualUnifiedFieldList=null,this.artifactEndorsementFeatureUI=null,this.streamingDataflow=null,this.quickCreate=null,this.datamart=null,this.redirectDatamartToDatawarehouse=null,this.datamartQueryEditor=null,this.savedQueries=null,this.warehouseCrossDbQueries=null,this.sqlQueryTemplates=null,this.datamartObjectContainerRefresh=null,this.datamartIncrementalRefresh=null,this.easySharingTenantUI=null,this.easySharingProtectionLabelsTenantUI=null,this.verboseTelemetry=null,this.quickCreateSharepointList=null,this.largeFilesUI=null,this.lineageShowCompositeModelsRelationship=null,this.iaShowCompositeModelsRelationship=null,this.fluentAppsContainer=null,this.modernRLSContainer=null,this.enableHybridTables=null,this.newDatahubDiscoverPage=null,this.datahubLastAccessColumn=null,this.datamartsTransientModel=null,this.lakehouseModeling=null,this.datamartSqlRefresh=null,this.readonlyDatamart=null,this.newDataset=null,this.autoGenerateBIModelDiagram=null,this.teamsBackButtonHandler=null,this.teamsLastVisitedURLApp=null,this.teamsThrottledSave=null,this.teamsAppCaching=null,this.teamsLastVisitedURLTab=null,this.teamsBackButtonNotification=null,this.copilotAddDefaultSchemaAggregationInSerializedDataset=null,this.useTeamsTokenRefreshServiceV2=null,this.dmtsInL1_HEAD_Datahub_FE=null,this.thirdPartyArtifactsInL1_HEAD_Datahub_FE=null,this.sharedQueries=null,this.datamartEndorsement=null,this.homeOneArtifactsInDatahubL1=null,this.tridentArtifactL2=null,this.shouldShowOwnerPhotoDatahubTable_HEAD_DataHub_CompactView_FE=null,this.sqlDatabaseEnabled_HEAD_Datahub_FE=null,this.hostDetailsRequired_HEAD_Datahub_FE=null,this.workspaceNavigationEnabled_HEAD_DataHub_CompactView_FE=null,this.dmtsConnections_HEAD_CompactView_FE=null,this.injectedData_HEAD_CompactView_FE=null,this.refreshHistoryActionDataset_HEAD_L2_FE=null,this.appMetadataSlimEffects_HEAD_DataHub_Embed_FE=null,this.favoritesArtifacts_HEAD_CompactView_FE=null,this.dynamicParameters=null,this.eimInformationProtectionExportPbixUI=null,this.skipRequiredDatsourceCredentials=null,this.compositeModelsOverAS=null,this.allowAsyncModelAuthoring=null,this.validateSortByColumnByTypescript=null,this.main_HEAD_PurviewHub_BE_FE=null,this.deprecateDataOwners_HEAD_PurviewHub_FE=null,this.deprecate_HEAD_ProtectionMetrics_FE=null,this.main_HEAD_ExternalDataSharing_FE=null,this.datamartFieldListFiltering=null,this.managePermissions_HEAD_ExternalDataSharing_FE=null,this.receiver_HEAD_ExternalDataSharing_FE=null,this.main_HEAD_CrossTenantDataSharing_Read_FE=null,this.main_HEAD_CrossTenantDataSharing_SupportMultiPath_FE=null,this.acceptReviewPage_HEAD_ExternalDataShare_FE=null,this.showGA_HEAD_CrossTenantDataSharing_FE=null,this.eimInformationProtectionForDesktop=null,this.eimInformationProtectionDesktopRemoveLabel=null,this.useModernRealTimeTile=null,this.useModernRealTimeTileBlade=null,this.legacyPromiseFactory=null,this.legacyPbiPromise=null,this.usePbiPromiseMicrotask=null,this.exp_usePbiPromiseMicrotask=null,this.rdlNativeVisual=null,this.rdlEditInPBIRB=null,this.rdlSSOForASAzure=null,this.gatewayVNetsRdl=null,this.calculateArtifactTypesOnFE_HEAD_Datahub_FE=null,this.usageMetricsVnext=null,this.EimInformationProtectionDefaultLabel=null,this.customizedNavbar=null,this.leftNavPipelineButtonUnpinned=null,this.leftNavBrowseButtonUnpinned=null,this.leftNavCreateButtonUnpinned=null,this.leftNavMoveUpWorkspace=null,this.splitLeftNav=null,this.showRelevantUsersForSharing=null,this.appSharingDialogEnabled=null,this.bookmarksForLinks=null,this.authorsStateAsDefaultPresentationInPersonalBookmarks=null,this.itemHoverCard_HEAD_FE=null,this.DisableContentPacks=null,this.disableUIVirtualization=null,this.CdsaMultipleContributors=null,this.AdminInsightsMultipleReports=null,this.AdminInsightsBlocker=null,this.adminInsightsPermissionControl=null,this.blockNoWorkspaceAdminInsights=null,this.useModernMashupEditor=null,this.forceDownloadPbix=null,this.main_HEAD_endorsementMasterData_FE=null,this.VisualQueryCustomTimeout=null,this.debugReportAuthoring=null,this.immersiveCopilotAnswerProductQuestionsSkill=null,this.showOneLakeManageSecurityForDatabricksCatalog=null,this.activateMinimePlayground=null,this.emitOrchestratorExceptionMessage=null,this.noSpinnerStateLogging=null,this.verifiedAnswers=null,this.copilotModelInstructions=null,this.copilotRefineData=null,this.copilotUnifiedTooling=null,this.copilotUnifiedToolingService=null,this.donutChartBorderFillTransparency=null,this.sqlDbNativeDesktopOneLakeCatalog=null,this.enhancedReportFormat=null,this.copyObjectNamesReportSetting=null,this.fileFormatInFlight=null,this.forceMinervaSchemaValidation=null,this.pbirUpgradeBackgroundValidation=null,this.automaticallyUsePBIR=null,this.dataExploreFilterCard=null,this.dataExplore=null,this.dataExploreCreatePage=null,this.dataExploreRibbon=null,this.dataExploreGrantModelPermission=null,this.dataExploreVisualEP=null,this.dataExploreLeftDataPane=null,this.dataExploreCopilotPane=null,this.DataExploreViewPermission=null,this.DataExplorationAdminConfig=null,this.UseDataExplorationArtifact=null,this.webPerformancePane=null,this.dontSerializeDoLoadPowerViewReport=null,this.staticExportReportEnabled=null,this.allUpSaveReport=null,this.highVolume=null,this.customVisualsStore=null,this.gatewayBindingEnhancement=null,this.capacitiesVCores=null,this.capacitiesAzureTab=null,this.capacitiesMigrateSpecificWorkspaces=null,this.assignAdminsAzureCapacitiesEnabled=null,this.reportInstantEmail=null,this.dashboardInstantEmail=null,this.slicerSyncing=null,this.dsrV2_Staging=null,this.workspacesV2=null,this.workspacesV2UsageMetrics=null,this.workspacesV2UnifiedGroups=null,this.customVisualsTenantSwitch=null,this.pinReadable=null,this.artifactSearchUI=null,this.appAccessRequestUI=null,this.spoIntegration=null,this.bookmarkInitRefactor=null,this.disallowWorkbookRefresh=null,this.onDemandSmartAlerts=null,this.exportUnderlyingSetting=null,this.workspaceListView=null,this.pinInsightsFromApp=null,this.useModernExploreCanvas=null,this.quickAccessSearch=null,this.newInfoBarRedlines=null,this.modernDatasetDialog=null,this.showMainWindowAfterRender=null,this.disableNewFeaturesDialog=null,this.copyRdlReportToWorkspaceV2=null,this.allowEmailSecurityGroupsOnOutage=null,this.histogram=null,this.cdsaModelSchemaUpdate=null,this.enableRdlReportCopyFromWorkspaceV1=null,this.narrativeTextbox=null,this.rdlReportAnaheim=null,this.expandQueryCaching=null,this.hideReportVerticalPane=null,this.capacityCachingControl=null,this.dqReactiveCaching=null,this.cdsaGranularSQLUI=null,this.configureAppContacts=null,this.rdlHideCredentialsDialog=null,this.increasedExportSectionLimit=null,this.proPlusServicePlan=null,this.proPlusExcludePPUCapacityCreateWorkspace=null,this.lineChartPowerAutomate=null,this.cesFormsProTest=null,this.feedbackFeature=null,this.ribbonSearchBar=null,this.exportHostErrorList=null,this.linkToPowerAutomateExportTemplate=null,this.allowGatewaysWithoutMashupCreds=null,this.certifiedTelemetry=null,this.certifiedTelemetryDesktop=null,this.certifiedTelemetryUserEvents=null,this.certifiedTelemetryAssertions=null,this.certifiedTelemetryQueryEvent=null,this.certifiedTelemetryResolveParametersEvent=null,this.backstageUI=null,this.appTheme=null,this.qnaCopilotPhrasings=null,this.newWorkloadHubPage=null,this.workloadsWithMarketplace=null,this.showWorkloadHubWithEmptyMarketplace=null,this.sqlDbNative_QueryAutoCompletion=null,this.tridentSemanticModelSettings=null,this.openReportWebBootstrap=null,this.resolveParametersEvent=null,this.activityViewer=null,this.gatewaysTableUseConnDetails=null,this.notificationPollTimeoutFast=null,this.notificationPollTimeoutSlow=null,this.enableRefreshNowChecks=null,this.sdfArray=null,this.sdfBlob=null,this.sdfCustomNodeName=null,this.sdfTools=null,this.sdfScheduleRefresh=null,this.sdfDataContinuity=null,this.sdfPublicPreview=null,this.sdfUndo=null,this.sdfRetentionPolicyUpdate=null,this.pushDataflowCreate=null,this.noWaitTrialRenewal=null,this.recommendedContentUI=null,this.hideActionAsDefault=null,this.powerBIGoalsStatusRules=null,this.useReactRenderer=null,this.goalsShowImportFromFileUI=null,this.homeListM3_Test1=null,this.homeListM3_Test2=null,this.infiniteScorllHomeListM3=null,this.homeLearnReport_Test1=null,this.recommendedViewDefault=null,this.homeListVirtualScroll=null,this.suppressDefaultTooltip=null,this.newSearchPage=null,this.selectAppInTeamsTab=null,this.exportScorecard=null,this.loadGroupMetadataOptimization=null,this.rdlInfiniteScrolling=null,this.goalsAggregations=null,this.goalsSparklineChangeAggregations=null,this.goalsColumnSettings=null,this.goalsPermissionSettings=null,this.powerAutomateEntryPointFromGoalsUI=null,this.powerBIGoalsDragAndDrop=null,this.goalsXAxisDragAndDrop=null,this.goalsDelayDragAndDrop=null,this.powerBIGoalsMultipleGoalOwners=null,this.powerBIGoalsMultipleTargets=null,this.scorecardsInMyWorkspace=null,this.datamartDatawarehouseInMyWorkspace=null,this.disableDatawarehousePPU=null,this.datasetsHubFreeUser=null,this.capacityGen2RestoreToggle=null,this.goalsHubFRE=null,this.goalsAllowedOnShared=null,this.goalsDraftScorecards=null,this.recDefaultNoRecent=null,this.recommendedScaleCard=null,this.checkPbivizFileContentOnImport=null,this.goalsCustomizeStatus=null,this.copyVisualNoTimeout=null,this.rdlThrottlingIndicator=null,this.disableTrial=null,this.ExportToExcelConnectedSummarized=null,this.exportToExcelConnectedRdl=null,this.goalsCategoricalValues=null,this.teamsLearnTabCoachmark=null,this.onObject=null,this.onObjectFormatPaneUid=null,this.onObjectMobileAuthoring=null,this.newMobileDownloadQRDialog=null,this.mobileFiltersWithoutFooterCalc=null,this.teamsUseSDKSharing=null,this.teamsUseRegularLinkInShareInTeams=null,this.goalsScorecardAccessBanner=null,this.undoGetAvailableGatewayCloudDS=null,this.goalsBulkDelete=null,this.multipleGoalTilesVisual=null,this.goalsReportSource=null,this.goalsSharingLink=null,this.storeLogs=null,this.reportThemeSchema=null,this.goalsYouOwn=null,this.goalsFavoriteGoals=null,this.goalsNewEditButton=null,this.goalsNewHeader=null,this.diagnosticsBar=null,this.stickyFeatureSwitches=null,this.teamsLegacyTabMigration=null,this.fieldParameterDynamicSlicer=null,this.conditionalFormattingDataLabels=null,this.useAngularJSAuthDialog=null,this.useAngularJSScheduledRefresh=null,this.useAngularJSSettingsGateways=null,this.useAngularJSDataSourceCredentialsComponent=null,this.datamartsNewReportTab=null,this.goalsMultipleValuesEditor=null,this.modeling_enableFormulaBarDAXEditor=null,this.relationshipValidation=null,this.diagramLayoutWebWorker=null,this.dialogReflow=null,this.angularRls=null,this.goalsHierarchiesOwnerMapping=null,this.goalsHierarchiesHeatmap=null,this.goalsHierarchiesHideInfoTooltips=null,this.tridentNotification=null,this.disableMwcThrottlingNotification=null,this.goalsRollups=null,this.scorecardTimezone=null,this.goalsLinkedGoals=null,this.aznbServerSideIntelliSense=null,this.dmhPreloadExtension=null,this.dmhDeleteCapability=null,this.EnforceDMHWorkloadProvisioning=null,this.EnforceDMHWorkloadPrivateLinkSupport=null,this.EnforceDMHTipsIntegration=null,this.dmhShowImagingCapability=null,this.hdsEnforceWorkloadLroApi=null,this.hdsEnforceReservedNamesApi=null,this.hdsEnforceCapacityRegionCheck=null,this.hdsShowImagingSampleData=null,this.hdsEnforceLifecycleManagement=null,this.hdsEnforceLifecycleManagementUpdates=null,this.hdsHideSeleniumChanges=null,this.dmhShowSdohCapability=null,this.hdsShowClaimsCapability=null,this.hdsShowCareManagementAnalyticsCapability=null,this.dmhShowPatientOutreachAnalyticsCapability=null,this.hdsShowDaxConversationalDataCapability=null,this.hdsAiEnrichmentsCapability=null,this.hdsShowDaxTranscriptionIntegrationCapability=null,this.dmhShowHealthcareDataExplorerCapability=null,this.dmhHealthcareDataExplorerAllowCustomLakehouse=null,this.dmrPreloadExtension=null,this.dmsPreloadExtension=null,this.enableM365CapabilityInSustainabilitySolutions=null,this.enableServiceBasedCapabilityProvisioningInESGLake=null,this.enableCapabilityUpgradeInESGLake=null,this.lhWarehouseMode=null,this.lhLivyEndpoint=null,this.lhDataSet=null,this.lhShortcuts=null,this.lhOneSecurity=null,this.bypassOneSecurityCheck=null,this.lhCsvToDelta=null,this.lhTableSchema=null,this.lhMergeViews=null,this.lhTablePreviewModes=null,this.lhTablePreviewSequential=null,this.lhDatasetCreateAction=null,this.lhOneLakeFriendlyNames=null,this.lhLoadToTable=null,this.lhPreloadExtension=null,this.lhComputeKeepAlive=null,this.lhSharing=null,this.lhDataGrid=null,this.lhEventStream=null,this.lhTableOptimization=null,this.lhSqlProvisionRetry=null,this.lhLakehouseV2=null,this.lhTableNameWithSpace=null,this.lhTableNameSpecial=null,this.lhVerboseLogging=null,this.lhPreloadChildFolder=null,this.lhDbtIntegration=null,this.lhSchemaSupport=null,this.lhSchemaCheckbox=null,this.lhSchemaDataflows=null,this.lhSchemaEventstream=null,this.lhSchemaOneLakeSecurity=null,this.lhManageShortcuts=null,this.lhDataArtifact=null,this.lhParquetPreviewSupport=null,this.lhArrowPreviewSupport=null,this.lhAutomaticRouting=null,this.lhVirtualized=null,this.lhMaterializedView=null,this.lhOLCTablePreview=null,this.lhOLCTablePreviewRamp=null,this.lhSearchFilterSort=null,this.lhDownloadFiles=null,this.lhDepRestrictions=null,this.lhSchemaAwareListTables=null,this.consistentLakehouseCreation=null,this.sparkUpgradeToFabric=null,this.sqlDbNative_PerformanceDashboard=null,this.sqlDbNative_PerformanceDashboard_PuPr=null,this.sqlDbNative_CopilotSidecar=null,this.sqlDbNative_AutoIndexing=null,this.sqlDbNative_FavoriteQuery=null,this.sqlDbNative_LeadBlockers=null,this.sqlDbNative_PerformanceAlerts=null,this.sqlDbNative_PerformanceFeedback=null,this.sqlDbNative_SqlSecurityUI=null,this.sqlDbNative_LinkMonitorDashboard=null,this.sqlDBNative_PITR=null,this.sqlDbNative_LinkMonitorLoadUnsupportedTables=null,this.sqlDbNative_shortcuts=null,this.sqlDbNative_Dataflows=null,this.sqlDbNative_Datapipeline=null,this.sqlDbNative_GraphQL=null,this.sqlDbNative_ListArtifactsInWorkspace=null,this.relevantMeasures=null,this.warehouseTDSEndpointButton=null,this.quickMeasureInitialSuggestions=null,this.scorecardHierarchiesPremium=null,this.collapseGoalsByDefault=null,this.increaseAccessRequestV2_Test1=null,this.increaseAccessRequestV2_Test2=null,this.shouldDisableStreamingDataflowCreation=null,this.disableMatchingDatasourceObjectId=null,this.publishMissingPackageIdBugFix=null,this.scorecardEmailSubscription=null,this.metricsHub=null,this.metricsHubUseMetricList=null,this.enableMetricSetEnabled=null,this.tridentAlm_MetricSet=null,this.tridentInformationProtectionDSIUI_HEAD_DataProtection_FE=null,this.scorecardSplitColumns=null,this.scorecardListViewSettings=null,this.useEnrichedApplicationContext=null,this.increaseAccessRequestV3_Test1=null,this.increaseAccessRequestV3_Test2=null,this.lhTablePreviewQueryEditor=null,this.selectSensitivityLabelDialog_HEAD_InformationProtection_FE=null,this.quickCreateTwoStepModelGen=null,this.inheritanceUponCreationFabricCreateFlow_HEAD_InformationProtection_FE=null,this.taskflowRecommendationForPBIWorkspace=null,this.unifyTaskflowAndListView=null,this.orgAppV2Copilot=null,this.odspSaveBackgroundUpload=null,this.backendNotificationMsgBar=null,this.alwaysShowTutorial=null,this.orgLinksDCR=null,this.useMetricsHubMetricV2APIs=null,this.reportSerializationSizeCountTelemetry=null,this.multipleVisualsForMetric=null,this.metricPreviewSummaries=null,this.WorkspaceLevelPrivateLinksInFabric=null,this.metricDisablePreferTimeseries=null,this.EnforceDMRWorkloadPrivateLinkSupport=null,this.EnableDMRWorkloadPrivateLinkSupport=null,this.pipelineTemplateDownload=null,this.redeemOrgLinkDCR=null,this.refreshSemanticModelByPipeline=null,this.reportOrgLinksCanOnlyHaveReadPermissions=null,this.addVisualIdToQueryDataAsHttpBodyId=null,this.trackTasks=null,this.trackChangeDetection=null,this.trackBrowserRender=null,this.trackVisualZone=null,this.trackEventTasks=null,this.exp_trackEventTasks=null,this.noTrackEventTaskHashSampling=null,this.testExperimentationSwitch=null,this.homeLayoutSelection=null,this.loadRecommendationsForNewUsers=null,this.deferVCLoading=null,this.deferVCLoadingChangeSection=null,this.deferVCLoadingChangeSectionEmbed=null,this.deferVCLoadingEmbedOptions=null,this.deferVCLoadingMobile=null,this.deferCustomVCLoading=null,this.sessionExperimentation=null,this.lruCacheEvictionPolicy=null,this.onDemandApprovedResources=null,this.sectionApprovedResources=null,this.deferExplorationStateCapture=null,this.artifactCloudConnectionsDemoMode=null,this.operationalReportStringTest=null,this.exp_openReportWebBootstrap=null,this.exp_deferCustomVCLoading=null,this.exp_deferVCLoading=null,this.exp_deferVCLoadingChangeSection=null,this.exp_deferVCLoadingChangeSectionEmbed=null,this.exp_deferVCLoading_timeoutLimit=null,this.exp_deferVCLoading_preloadFinishThreshold=null,this.exp_deferVCLoading_loadFinishThreshold=null,this.exp_deferVCLoading_primeNonQueryVisualResources=null,this.exp_deferVCLoadingMobile=null,this.exp_noEmptyUpdate=null,this.exp_lruCacheEvictionPolicy=null,this.exp_saasReportIsAngularToThisPoint=null,this.exp_onDemandApprovedResources=null,this.exp_sectionApprovedResources=null,this.exp_deferExplorationStateCapture=null,this.MultivariantExpTest_VariantA=null,this.MultivariantExpTest_VariantB=null,this.control_MultivariantExpTest=null,this.IsolationGroupExpTest=null,this.control_IsolationGroupExpTest=null,this.htmlLegend=null,this.allowAssigningTenantWorkspacesFromAzureCapacityAdmin=null,this.capacityMetricDrilldown=null,this.copyReportsToWorkspacesV2=null,this.allowFreeUsersToSubscribeInPremiumAppsUI=null,this.realTimeRefresh=null,this.realTimeRefreshDisabled=null,this.changeDetection=null,this.changeDetectionSimulation=null,this.externalConnectorSSO=null,this.tenantOutOfBoxVisualsEnabled=null,this.disablePublishToWebCreation=null,this.eimInformationProtectionSccLink=null,this.ssasGetData=null,this.webModelingViewEnabled=null,this.persistDiagramLayoutEnabled=null,this.PersistingRemoteDiagramLayouts=null,this.webModel_enableViews=null,this.WebModelingAdminSettings=null,this.enableWebModelingOnByDefaultForPremiumWS=null,this.enableWebModelingOnByDefaultForProWS=null,this.WebModelingSharedAuthoring=null,this.WebModelingAllowXmlaModifiedModels=null,this.newLookForAll=null,this.allowOldLookUI=null,this.yellowIntegrationOfPowerBI=null,this.newLookOnForNewUsers=null,this.analyzeInExcelOdcFallbackUI=null,this.analyzeInExcelToExcelOnline=null,this.irisCoreEnabled=null,this.esriEmbedEnabled=null,this.esriP2WEnabled=null,this.approvedServiceApps=null,this.redirectToStaticPageInTeams=null,this.quickMeasuresModern=null,this.eimInformationProtectionStoreOptimization=null,this.domainDelegatedSettings=null,this.domainDelegatedSettingsNewUI_HEAD_FE=null,this.domainDelegatedCertifyDatasetsEnabled=null,this.domainsAdminNewBadge_HEAD_mesh_FE=null,this.usePrefixSearch_HEAD_mesh_FE=null,this.moveDomainElements_HEAD_mesh_FE=null,this.allowReassignByTenant_HEAD_DataDomain_FE=null,this.lineageViewCertifiedEvents=null,this.excludeDomainSearch_HEAD_mesh_FE=null,this.domainsForL2_HEAD_DataDomain=null,this.domainsForFlyout_HEAD_DataDomain=null,this.filtersWorkspacesByDomains_HEAD_mesh_FE=null,this.domainLocationColumnInSearchTable_HEAD_mesh_FE=null,this.recommendedWorkspaces_HEAD_DataDomain_FE=null,this.defaultSubdomainSetting_HEAD_FE=null,this.subdomainContributorsSetting_HEAD_Domains_FE=null,this.separateContributorsAndContributorsScope_HEAD_Domains_FE=null,this.domainTagsMain_HEAD_mesh_FE=null,this.domainTagsAdmin_HEAD_mesh_FE=null,this.domainTagsAssign_HEAD_mesh_FE=null,this.domainTagsConsume_HEAD_mesh_FE=null,this.newImagesMigration_HEAD_Domains_FE=null,this.newImagesPopupNotification_HEAD_Domains_FE=null,this.taggingMain_HEAD_tagging_FE=null,this.taggingNewBadge_HEAD_tagging_FE=null,this.taggingTagDetails_HEAD_tagging_FE=null,this.appliedTags_HEAD_tagging_FE=null,this.navigateToDatasetDetails=null,this.eimInformationProtectionRdlReportLabelingUI=null,this.consumePublicCvsWithoutRps=null,this.stopPublicRpsPopulation=null,this.immersiveReportContentSkill=null,this.immersiveNL2DAXUIUpdates=null,this.WorkspaceOutboundRestriction=null,this.workspaceOutboundRestrictionDemoMode=null,this.dlpPolicyTip=null,this.eimDlpPolicyTipsWithoutAngularJS=null,this.dlpHoverCardPolicies_HEAD_DLP_FE=null,this.restrictAccess_HEAD_DLP_FE=null,this.fabricRestrictAccess_HEAD_DLP_FE=null,this.restrictAccessOverrideAction_HEAD_DLP_FE=null,this.fabricRestrictAccessOverrideAction_HEAD_DLP_FE=null,this.dlpPolicyTipTridentArtifact_HEAD_DLP_FE=null,this.dlpPolicyTipFlyout_HEAD_DLP_FE=null,this.dlpPolicyTipTridentArtifactOverride_HEAD_DLP_FE=null,this.hoverCardRelatedContent_HEAD_Lineage_FE=null,this.lineageCycleSupport_HEAD_Lineage_FE=null,this.reduceExternalArtifacts_HEAD_Lineage_FE=null,this.safariLineageHighlight_HEAD_Lineage_FE=null,this.workspaceLineageView_HEAD_Lineage_FE=null,this.lineageV3_HEAD_RelationsPlatform_FE=null,this.upstreamV3_HEAD_RelationsPlatform_FE=null,this.downstreamV3_HEAD_RelationsPlatform_FE=null,this.datahubL2RelationsDiagram_HEAD_lineage_FE=null,this.relationsDiagramDialog_HEAD_lineage_FE=null,this.oneLakeDataOwnerTab_HEAD_Governance_FE=null,this.metadataEndpoints_HEAD_Governance_FE=null,this.actionsVisual_HEAD_Governance_FE=null,this.newVisualsForInsights_HEAD_Governance_FE=null,this.doaminFilterActions_HEAD_governance_FE=null,this.cdsaCCEmailContactsOnRefreshFailure=null,this.createRdlFromReportMenu=null,this.PinReportToTeamsTab=null,this.pinReportNavigateUsingDeepLink=null,this.showNewVisualsMarketplace=null,this.cesFeedbackTenantSetting=null,this.useNewDashboard=null,this.showNewVisualsMarketplacePBID=null,this.showAADSSOForGateway=null,this.showDremioSSO=null,this.chooseWorkspaceInReportSaveAs=null,this.ExportToExcelMatrixVisualData=null,this.showNonSdpInMP=null,this.accessInPlaceSharingDatasetSetting=null,this.forceAdminPortalSurvey=null,this.textboxAtMention=null,this.multiRowCardSelection=null,this.seeThruDatasetEditing=null,this.seeThruNameDatasetPickWorkspace=null,this.newManageDatasetForDatamartUI=null,this.ApplyDatamartSchemaForCustomDataset=null,this.SchemaPickerLHSqlEndpointEditTables=null,this.metricsBoardView=null,this.workspaceAdminSubscriptions=null,this.showPinnedTile=null,this.showAppBarInTeamsTabView=null,this.teamsNewTabExperience=null,this.teamsDirectSDKCall=null,this.teamsTabFabricLinks=null,this.goalsBulkEditing=null,this.privilegeWebAccess=null,this.privilegeLocalStorage=null,this.privilegeUX=null,this.leadsTesting=null,this.leadsTip1=null,this.leadsTip2=null,this.leadsDevUrl=null,this.exp_newReportMetadataEndpoint=null,this.goalsHierarchies=null,this.goalsVisualSparklines=null,this.splitHelpTooltip=null,this.cvSkipExtraResize=null,this.workspaceAdminSubscriptionsSurvey=null,this.showInTeamsPivotInOfficeAndOutlook=null,this.supportQuickCreatePasteOrEnterDataInOfficeAndOutlook=null,this.powerPlatformSolutionsIntegration=null,this.allowPowerPlatformEnvironmentCrossRegion=null,this.goalsTakeOverConnection=null,this.showPinReportIconInMetaOS=null,this.showExternalSharingTenant=null,this.showEnableDatasetInPlaceSharingTenant=null,this.EnforceSubscriptionExternalUsersTenantSwitchInBE=null,this.allowCVLocalStorageTenantSwitch=null,this.allowCVWebAccessTenantSwitch=null,this.privilegeExportContent=null,this.showGuestContentTab=null,this.requireCVPrivilegesTenantSwitch=null,this.CAEAuth=null,this.CustomVisualLicenses=null,this.ShowChatWithSales=null,this.showChatText=null,this.useRootUrlFilePicker=null,this.goalsHubTileContextMenu=null,this.useNativePromiseForPbiPromise=null,this.exp_useNativePromiseForPbiPromise=null,this.useNativePromiseForPowerBIPromise=null,this.exp_useNativePromiseForPowerBIPromise=null,this.showEmailSubscriptionsToExternalUsersTenantSwitch=null,this.showEmailSubscriptionsToB2BUsersTenantSwitch=null,this.MarketplaceLeads=null,this.smartNarrativeVisualContainterButton=null,this.deprecateGettingStarted=null,this.lakehouseShowTables=null,this.saveQueryAsView=null,this.datamartAutoRefresh=null,this.p2wInService=null,this.modernOfficeFilePicker=null,this.disableAngularJsForPortal=null,this.forceChatWidgetEnabled=null,this.tridentStageTwoWithLabelNav=null,this.disableNavOverflow=null,this.prefetchCustomVisualLicenses=null,this.authDCParam=null,this.newTriggerForSatisfactionSurvey=null,this.optimizeTabRibbon=null,this.tridentArtifactAccess=null,this.pbiArtifactAccessInTridentStyle=null,this.customVisualsGradualExposure1=null,this.customVisualsGradualExposure2=null,this.customVisualsGradualExposure3=null,this.tridentRibbon=null,this.enableCVClientSideAuth=null,this.hardBlockServiceClient=null,this.preloadDES=null,this.preloadV2=null,this.preventPreloadOnOpenArtifact=null,this.parallelLoadingEXA=null,this.parallelLoadingLHE=null,this.parallelLoadingDPE=null,this.parallelLoadingDES=null,this.parallelLoadingDFW=null,this.parallelLoadingFabricExtension=null,this.parallelLoadingWHS=null,this.parallelLoadingSQL=null,this.handleCreateArtifactAction=null,this.preloadWHS=null,this.delegatedTenantSettings=null,this.delegatedWorkspaceTenantSettings=null,this.exportToExcelAndCSVDelegationClient=null,this.showSQLDatabasesDefaultCheckbox=null,this.disableDownloadFallback=null,this.allowCVAuthenticationTenantSwitch=null,this.visualContainerFontUpdateTrigger=null,this.openInADS=null,this.applyAllSlicersButton=null,this.tridentTrial=null,this.createArtifactWithSharedTrial=null,this.createArtifactWithInformPreviewSwitchOff=null,this.createWorkspaceWithTridentTrial=null,this.trialLimit=null,this.trialSignUpGoToFabricHome=null,this.trialSignUpShowSamples=null,this.createWorkspaceAfterTrialLicenseAcquired=null,this.enablePlatformMonitoring=null,this.enableTridentUserSettings=null,this.showPurviewContentButton=null,this.allowAdminMonitoringFreeLicense=null,this.tridentMessageBarShowPbiBarSwitch=null,this.fabricConferencePromotionSwitch=null,this.fabric2024EuropeConfMsgBar=null,this.fabric2024EuropeConfMsgBarSkipCheckWFE=null,this.fabric2024AmericaConfMsgBar=null,this.fabric2024AmericaConfMsgBarSkipCheckWFE=null,this.fabricConfMsgBar=null,this.convertConnectedWorkbookFFXL=null,this.downloadLocalWorkbookFFXL=null,this.removeLocalUploadFFXL=null,this.removeViewLocalFFXL=null,this.executeSql=null,this.datamartPayloadParser=null,this.disableAdminCenterSupportPageLink=null,this.teamsMeetingExperiences=null,this.showNotificationSettingsInTridentUserSettings=null,this.showTridentUserSettingsNotificationTablesV2=null,this.showFormatPaneSettingInUserSettings=null,this.dwPipeline=null,this.dwFeedback=null,this.datamartModeling=null,this.aiNarrativesVisual=null,this.aiNarrativesIncludeInsights=null,this.aiNarrativesUseClientFormatting=null,this.aiNarrativesDisableWholeUnitsFormatting=null,this.aiNarrativesStreamResponse=null,this.aiNarrativesGPT4=null,this.aiNarrativesGPT4o=null,this.aiNarrativesGPT4o_v2=null,this.aiNarrativesGPT4_32K=null,this.aiNarrativesGPT4Turbo=null,this.aiNarrativesGPT3Turbo=null,this.aiNarrativesGPT3TurboPromptChain=null,this.aiNarrativesDV3=null,this.aiNarrativesSingleEntryPoint=null,this.aiNarrativesReportSummary=null,this.aiNarrativesEmptyState=null,this.aiNarrativesDisablePermanentPaused=null,this.aiNarrativesPreferLowDataVolume=null,this.aiNarrativesUseCurrentLocale=null,this.copilotReportContentSkipPartialResults=null,this.copilotReportContentCitationSyntaxV3=null,this.textboxCopilot=null,this.exploreCopilotChatHistoryEncoding=null,this.useCopilotSearch=null,this.capacitySparkAutoscale=null,this.capacitySparkAutoscaleRangeSupport=null,this.capacitySparkAutoscaleDemoMode=null,this.datamartIncrementalLoad=null,this.directLakeAutoSyncUI=null,this.ASWritethruUI=null,this.ASWritethruSupportAbfUI=null,this.ASContinuousExportByDefaultLargeModels=null,this.ShowReadPermModelOnOneLake=null,this.tridentLegacyPanel=null,this.saveAsTable=null,this.datahubEmbedMain_HEAD_DataHub_CompactView_Embed_FE=null,this.datahubEmbedMain_HEAD_LicenseAutoassignmentFailedHandling_FE=null,this.disableLeavePageEnd=null,this.relatedArtifactSharing=null,this.newCard=null,this.tridentAlm_HomeOne=null,this.tridentAlm_Lakehouse=null,this.tridentAlm_SparkJobDefinition=null,this.tridentAlm_SynapseNotebook=null,this.tridentAlm_Pipeline=null,this.tridentAlm_Databricks=null,this.tridentAlm_DataflowFabric=null,this.tridentAlm_Datawarehouse=null,this.tridentAlm_SQLDbNative=null,this.tridentAlm_PgSQLDbNative=null,this.tridentAlm_Environment=null,this.tridentAlm_OrgApp=null,this.tridentAlm_KustoDashboard=null,this.tridentAlm_KustoQueryWorkbench=null,this.tridentAlm_ReflexProject=null,this.tridentAlm_Variables=null,this.tridentAlm_RetailDataManager=null,this.tridentAlm_GraphQL=null,this.tridentAlm_GraphIndex=null,this.tridentAlm_FunctionSet=null,this.tridentAlm_KustoEventHouse=null,this.tridentAlm_KustoDatabase=null,this.tridentAlm_CopyJob=null,this.tridentAlm_Warehouse=null,this.tridentAlm_SustainabilityDataManager=null,this.tridentAlm_HealthDataManager=null,this.tridentAlm_HLSCohort=null,this.tridentAlm_MountedRelationalDatabase=null,this.tridentAlm_EventStream=null,this.tridentAlm_MountedDataFactory=null,this.tridentAlm_ApacheAirflowProject=null,this.tridentAlm_ApacheAirflowJob=null,this.tridentAlm_DBTItem=null,this.tridentAlm_DigitalOperationsOperationalInsight=null,this.tridentAlm_DigitalOperationsAction=null,this.sqlDbNative_RefreshGitSyncStatus=null,this.preventRepeatReportNavigationLong=null,this.preventRepeatReportNavigationShort=null,this.useExtensionsManifestsModule=null,this.useFabricFreeForTrial=null,this.tridentPreloadEventStream=null,this.disableFabricAdminPortalTitle=null,this.measureDrivenDataLabels=null,this.scaleTooltipWithCanvasZoom=null,this.storytellingRecommendationAlgorithm=null,this.supportAnyWorkspaceFilter=null,this.supportCustomColumn=null,this.dwDataflowGen2=null,this.dwSamples=null,this.disableTridentFeedbackButton=null,this.disableCommunityContentInHelpPane=null,this.dedsNotebookFileSystem=null,this.subfolderInWorkspace=null,this.saveReportSubfolderFrontend=null,this.parentChildInWorkspace=null,this.parentChildWithRelationsStore_HEAD_Relations_FE=null,this.hiddenInWorkspace=null,this.daxQueryViewWeb=null,this.daxLinkSharingWeb=null,this.dedsEnableAzNBProxy=null,this.labelEnhancementsM0=null,this.gitIntegration=null,this.errorMessagesP2W=null,this.aadAuthenticationForExternalExtensions=null,this.sqlCompletionQuickActions=null,this.sqlCopilot=null,this.sqlEndpointCopilot=null,this.RdlCanUseSCC=null,this.datamartSql=null,this.exploreCopilotPane=null,this.exploreCopilotSuggestions=null,this.exploreCopilotQuestionSkill=null,this.exploreCopilotSkillsInAuthoring=null,this.exploreCopilotReportSummary=null,this.exploreCopilotReportSummaryWithVisualRanker=null,this.exploreCopilotReportQuestionSkill=null,this.exploreCopilotReportForecastSkill=null,this.exploreCopilotSendChatHistory=null,this.emCVDisableGlobals=null,this.cvEnableResourceLoaderCSP=null,this.P2WDialogFromAdminPortal=null,this.globalSkipToMainContent=null,this.leaderLinesAndOffset=null,this.qnaCopilotSynonyms=null,this.qnaImproveLsdlCopilot=null,this.executeSqlAsync=null,this.ASQsoUISupport=null,this.emitLoopStandardizedClientReportingEvent=null,this.dataDrivenRdlSubscriptionsUI=null,this.dataDrivenPbixSubscriptionsUI=null,this.ddsDevMode=null,this.extensionCDN=null,this.extensionCDNDES=null,this.extensionCDNDMH=null,this.extensionCDNReactExample=null,this.extensionCDNRFX=null,this.extensionCDNSTM=null,this.extensionCDNLHE=null,this.extensionCDNDMR=null,this.extensionCDNESG=null,this.extensionCDNAPP=null,this.extensionCDNADX=null,this.extensionCDNDPE=null,this.extensionCDNSQL=null,this.extensionCDNWHS=null,this.extensionCDNGQL=null,this.extensionCDNFXS=null,this.extensionCDNDBC=null,this.extensionCDNRTH=null,this.rdsCapabilityFBT=null,this.rdsCapabilitySitecore=null,this.rdsCapabilityShopperCopilot=null,this.rdsTemplateCommerce=null,this.notebookInlineCodeCompletion=null,this.surveyWithCesUI=null,this.SubstrateIntegrationContentRelevancy=null,this.sharedWithMeOnSubstrate_limitedResults=null,this.sharedWithMeOnSubstrate_increasedResults=null,this.DataWarehouseCloneTableUI=null,this.tridentMultitaskingDatamarts=null,this.cvDisableResourceLoaderIframe=null,this.variantMinxMaxx=null,this.copilot_HEAD_PurviewHub_FE=null,this.pbiServiceHomeMargins=null,this.modelRefreshAttemptsHistory=null,this.scorecardHierarchiesRLS=null,this.disablePrivateCVPreloading=null,this.rlsDaxEditor=null,this.cvAssumeAsyncUpdate=null,this.endToEndTelemetryCreateArtifact=null,this.uploadExportToODSP=null,this.useWindowWhenExporting=null,this.enableHoverCardOnCompactView_HEAD_DataHub_CompactView_FE=null,this.OpenAIApiForML=null,this.dedsNotebookCopilotUI=null,this.oneLakeUXS3ShortcutPreviewText=null,this.oneLakeUXS3CompatibleShortcutPublicText=null,this.oneLakeUXGCPShortcutPublicText=null,this.copilotTextContainerV2=null,this.copilotUXAllowDisableChatStream=null,this.copilotLicensingStatusDebugMode=null,this.copilotLicensingStatusCheck=null,this.copilotLicensingNoneCapacityHandling=null,this.copilotPanePreview=null,this.copilotPatchInvalidConversation=null,this.copilotConversationRehydration=null,this.copilotReportSessionPersistence=null,this.copilotImmersiveSessionPersistence=null,this.copilotEntryButtonDiscoverability=null,this.copilotNewZeroPromptSupport=null,this.copilotNewZeroPromptExperimentA=null,this.copilotNewZeroPromptExperimentB=null,this.copilotNewZeroPromptExperimentC=null,this.F2CopilotCapacitySkuRequirements=null,this.reportCopilotPreviewPillGA=null,this.racPageCreationDV3Support=null,this.racPageCreationGPT4Support=null,this.racCardsCreationGPT4Support=null,this.racPageCreationWithRoleAssignment=null,this.racPageCreationWithRoleAssignmentAndLegends=null,this.copilotSerializationJson=null,this.racPageCreationScatterFunnelSupport=null,this.racDatasetSummarizeDV3Support=null,this.racPageCreationDataRolesSupport=null,this.racConversationalPageCreation=null,this.pageCreationLegacyOnBEV2Web=null,this.racConversationalPageCreationDesktop=null,this.copilotPaneV2=null,this.desktopCopilotPaneV2=null,this.copilotPaneV2Streaming=null,this.clientCopilotStatusFCCSupport=null,this.copilotPaneV2SingleToolExecution=null,this.copilotUXFRETeachingBubble=null,this.mobileCertifiedUM=null,this.copilotFeedbackDialog=null,this.copilotFeedbackCommentsModal=null,this.copilotDesktopFeedbackDialog=null,this.copilotDesktopFeedbackCommentsModal=null,this.pivotTableRecommendationsCopilot=null,this.multiShortcutCreation=null,this.OneLakeShortcutsManualPath=null,this.OneLakeDataverseBrowse=null,this.allowOnlySingleShortcutCreationInKQL=null,this.defaultDatasetImprovements=null,this.statsCopilotSkill=null,this.share_HEAD_ExternalDataSharing_FE=null,this.dataflow_HEAD_CompactView_FE=null,this.pipelineCopilotEnabled=null,this.enableOPDGInPipeline=null,this.dataPipelineSupportMultiWorkspaces=null,this.preloadDPE=null,this.REPDisableReplicationLimit=null,this.MetadataDiscoveryWithSchemas=null,this.REPEnableSchemaHierarchyInMountedRelationalDatabaseSink=null,this.REPEnableColumnMapping=null,this.REPEnablePQOClientForSnowflakeInOPDG=null,this.REPEnablePQOClientForAzureSqlInOPDG=null,this.REPEnablePQOClientForAzureSqlMIInOPDG=null,this.REPEnablePQOClientForSnowflakeInVNET=null,this.REPEnablePQOClientForAzureSqlInVNET=null,this.REPEnablePQOClientForAzureSqlMIInVNET=null,this.REPEnableSourceTableWithoutPkInAzureSql=null,this.REPEnableSourceTableWithoutPkInAzureSqlMi=null,this.REPEnablePQOClientForPostgresInVNET=null,this.REPEnablePQOClientForPostgresInOPDG=null,this.OnPremRuntimeIntegration=null,this.SSISInFabric=null,this.EnableCopyJobEditFlow=null,this.SparkJobDefinition_SupportEnvironment=null,this.disableRecommendation=null,this.generateMeasureDescriptionsButton=null,this.generateModelItemDescriptionCopilotGPT4o=null,this.metricsHubAIGeneratedMetricDescriptions=null,this.newDESWorkspaceSettings=null,this.bindOnBootstrap=null,this.folderLevelSecurity=null,this.appsCustomAccessRequestMessage=null,this.ArtifactEnvironment=null,this.artifactWorkspaceVariables=null,this.itemReferenceSupport=null,this.tridentErrorFeedback=null,this.usePRBuildHashManifest=null,this.WSSettingCustomizedStartPool=null,this.audienceSchemaValidationBypass=null,this.tridentWarehouseUx=null,this.warehouseNewEditorSwitch=null,this.daxInlineCopilot=null,this.daxInlineCopilotQueryValidation=null,this.daxInlineCopilotGPT4o=null,this.daxInlineCopilotO3mini=null,this.daxInlineCopilotDisableGPT4oTokenLimits=null,this.EnableReportExtension=null,this.EnableModelingExtension=null,this.EnableDashboardExtension=null,this.EnableMetricSetExtension=null,this.TridentNotebook_SupportEnvironment=null,this.NewSparkComputeSettingsPage=null,this.ModelingServiceMarkAsDateTable=null,this.detectFabricCapacityStateErrors=null,this.racUseEmbeddings=null,this.addIsRefreshEnabledSetting=null,this.gitIntegrationTenantSwitchEnabled=null,this.gitHubTenantSettingsEnabled=null,this.enableDV3ForReportCopilotOrchestration=null,this.enableGPT4ForReportCopilotOrchestration=null,this.reportCopilotOrchestrationDV3PromptChanges=null,this.showDatamartInGraphql=null,this.showSqlDbInGraphql=null,this.showDataWarehouseInGraphql=null,this.showMirroredDatabaseInGraphql=null,this.enableErrorHandlingWithConversationHistory=null,this.enableNewSuggestTopicSkill=null,this.dedsDisableUXAutoHaltKernel=null,this.ASQsoDatasetSettingsUI=null,this.onelakeExplorerMultiSelect=null,this.directLakeRemoteModeling=null,this.errorLocalization=null,this.dataQuestionSkill=null,this.dataQuestionSkillV2=null,this.dataAndContentQuestionSkillIntegration=null,this.OneLakeUXShortcutBatchApi=null,this.allowOnlyMultiShortcutCreationInKQL=null,this.useCustomAPICreateShortcutURLInKQL=null,this.OnelakeUXWorkspaceOAP=null,this.enableAccelerationToggleInKQL=null,this.OneLakeBrowseWithStorageAudience=null,this.dedsSparkMonitoringL2ResourceUsage=null,this.dedsNotebookBrowseCodeSnippets=null,this.FuncSetPythonSupport=null,this.FuncSetEventHub=null,this.KustoGenerateQuery=null,this.ArtifactKustoDashboard=null,this.KustoDashboardPermissionSegregation=null,this.trackLocalizationLoaderIssues=null,this.dedsNotebookResourceUsage=null,this.dedsSparkMonitoringL2DetailPanelSparkConf=null,this.dedsSparkMonitoringRunSeries=null,this.manualTrialInitiationExperiment=null,this.OpenAIMwcForML=null,this.labelEnhancementsM1=null,this.rowLevelSecurity=null,this.columnLevelSecurity=null,this.getWorkspaceFromSubscriptionInfo=null,this.artifactIdForCopilotCapability=null,this.enablePromptEncodingClientsForAIEndpoint=null,this.artifactIdForUsageMetadata=null,this.disableRelativePositionStrategy=null,this.desktopReportAuthoringCopilot=null,this.copilotWorkspacePicker=null,this.buttonSlicerTableLayout=null,this.fabricTrialExpirationExperience=null,this.enableGPT4ForDatasetSummary=null,this.enableGPT4ForSuggestTopicSkill=null,this.enableSuggestTopicCaching=null,this.autoAddDefaultDatasetDefaultValueUpdate=null,this.OneLakeADLSBrowse=null,this.OneLakeS3Browse=null,this.OneLakeGCPBrowse=null,this.OneLakeS3CompatibleBrowse=null,this.OneLakeAzureBlobsBrowse=null,this.feedbackInHelpPane=null,this.useCDKVirtualScroll=null,this.reportMessageBar=null,this.azureMapGeocodingRequireLocalCache=null,this.dedsNotebookPaneSide=null,this.oneRiverHubPage=null,this.eventSubscriptionUI=null,this.oneRiverPreloadRFX=null,this.oneRiverPreloadRTP=null,this.oneriverExtensionCorsUI=null,this.rthOneLakeEventsUI=null,this.rthConsumptionEventsUI=null,this.eventDefinitionUI=null,this.rthNewDesign=null,this.rthJobEventsUI=null,this.rthAdxShortcut=null,this.rthExploreDataUI=null,this.rthCertifiedEventCapacityCheck=null,this.rthDataSourcesTab=null,this.rthEventHubDropdown=null,this.rthNewEmptyPageView=null,this.rthAutofillEventHubKey=null,this.rthEventHubKeysDropdown=null,this.rthRealTimeIntelligenceSample=null,this.rthPreloadExtension=null,this.rthReviewValidation=null,this.rthSAPHana=null,this.rthCapacityEventWhen=null,this.rthSubArtifactTypesFilter=null,this.rthPublicWeather=null,this.rthPublicMQTT=null,this.rthKustoCDC=null,this.rthTrialSignUp=null,this.rthE2ESampleBicycle=null,this.rthConfluentSchema=null,this.rthEventGridMQTT=null,this.rthSolacePubSub=null,this.rthGenerateDashboard=null,this.rthRemoveItemReadEvents=null,this.rthWorkspaceEventsReadPermission=null,this.rthNewErrorLog=null,this.rthPubSubGA=null,this.rthActivatorRules=null,this.rthAzureMonitor=null,this.rthDataverse=null,this.useNewCommunitySearchService=null,this.autoMLDeprecateNewModels=null,this.SortByColumnDataQueryValidation=null,this.showGetDataInGraphql=null,this.GraphQL_showQueryMutationContextMenu=null,this.GraphQL_showMonitoringDashboard=null,this.GraphQL_FrontEndPerformanceStatusBar=null,this.GraphQL_SampleQuery=null,this.AINarrativesForceDV3=null,this.AINarrativesForceGPT4=null,this.AINarrativesForceGPT4_32k=null,this.AINarrativesForceGPT4Turbo=null,this.AINarrativesForceGPT4o=null,this.AINarrativesForceGPT4o_v2=null,this.copilotSummaryEmbedApi=null,this.showGetDataInFuncSet=null,this.homeOnboardingModalPart2Experiment_variantA=null,this.homeOnboardingModalPart2Experiment_variantB=null,this.enableHorizontalScrollOnL1_HEAD_DataHub=null,this.EventstreamCodeGenUX=null,this.streamingDataflowQueryTestV2=null,this.artifactDataflowAddPermission=null,this.tridentStreamingGetDataPoC=null,this.enableEventstreamV2Entry=null,this.enableOneLakeSecurityDataAccess=null,this.dedsSparkMonitoringLogFilterNB=null,this.adjustCopyVisualViewportInLoadTile=null,this.ShortcutNameAllowSpace=null,this.ShortcutNameSpecialCharValidation=null,this.showThemeSwitcherInTitlebar=null,this.dataQuestionRewording=null,this.dataQuestionDesktopAndViewMode=null,this.dataQuestionWithLinguisticSchema=null,this.dataQuestion4o=null,this.DataQuestionRewordingScenario=null,this.dataQuestionRewordingCopilotScenario=null,this.dataQuestionDisableRuntimeImprovement=null,this.dataQuestionDiagnostics=null,this.dataQuestionLlmParserBypassCache=null,this.dataQuestionTrimPromptSchema=null,this.dataQuestionSchemaSeparateSkeletals=null,this.functionsHubEntry=null,this.subscriptionsCopilotSummary=null,this.OneLakeCSTApiEndpoint=null,this.enableEventstreamDerivedStreams=null,this.enableEventstreamDiscreteEvents=null,this.FuncSetUseUDFs=null,this.notebookUseNewAznbCDN=null,this.notebookInOrgApp=null,this.enableDesFrequentApiCallDetection=null,this.enableDesDeeperCallStack=null,this.unlimitedListColumnWidth=null,this.reportCopilotInEmbed=null,this.aiNarrativesInEmbed=null,this.datahubEmbedMain_HEAD_initialApisCaching_FE=null,this.enableEventstreamKafkaConnector=null,this.enableEventstreamMySQLConnector=null,this.hideKustoCreateStandaloneDB=null,this.kustoSetReflexAlert=null,this.showLakehouseTutorial=null,this.enableHCForPipe=null,this.allowVisualDebugSnapshot=null,this.inplaceRestore=null,this.enableCalculationHighlighting=null,this.notebookPylance=null,this.displayFabricFeedbackTenantSwitch=null,this.displayFabricPromotionTenantSwitch=null,this.dialogDirectToQuickCreateTabularModel=null,this.FuncSetEnableLakewarehouse=null,this.ExportToImageDelegatedSettings=null,this.ExportToMHTMLDelegatedSettings=null,this.ExportToPowerPointDelegatedSettings=null,this.ExportToWordDelegatedSettings=null,this.ExportToXMLDelegatedSettings=null,this.dedsEnvironmentFileSystem=null,this.visualTopN=null,this.artifactTakeOverInArtifactSetting=null,this.showLocationInArtifactSetting=null,this.enableCapacityDefinedPool=null,this.enableEventstreamCosmosDBConnector=null,this.enableEventstreamKafkaDataPreview=null,this.sqlDbNative_queryPersistence=null,this.enableCalculationScatterChartMap=null,this.SeeThruModelGitSync=null,this.queryArchivedJobs=null,this.preloadSqlDatabases=null,this.dedsNotebookPreConnectCompute=null,this.enableFabric13R2=null,this.meControlV2=null,this.enableKustoExploreData=null,this.disableBrowserDeprecationDialog=null,this.embedDialogsInvokeRefactor=null,this.attachReportToTaskflowAfterSave=null,this.monitoringHubL2PageForSemanticModel=null,this.onelakeCatalog_HEAD_Datahub_FE=null,this.onelakeCatalog_PermissionsTab_HEAD_Datahub_FE=null,this.onelakeCatalog_AllInsights_HEAD_Datahub_FE=null,this.renderSurveyViaSDK=null,this.enableEventStreamV1VNet=null,this.enableEventStreamCustomCode=null,this.moveImportNotebookToImport=null,this.copilotDownloadChatHistory=null,this.copilotCreateEvalFromChatHistory=null,this.tridentGraphDataTable=null,this.FuncSetEnableAzureSQLdb=null,this.OrgAppV3SaveAndSections=null,this.fabricTrialAcknowledgeExpiryExperience=null,this.OrgAppV3AllowRdl=null,this.OrgAppV3AllowNotebook=null,this.OrgAppV3AllowLlmPlugin=null,this.suggestTopicsRevised=null,this.azureMapsPreserveDrawingBufferForExport=null,this.enableEventstreamsV2TrafficPauseResume=null,this.enableParentChild_HEAD_DataHub_CompactView_FE=null,this.semanticModelVersioning=null,this.modelingViewOnlyMode=null,this.modelingNotebooks=null,this.copilotOrchestratorGPT4oSupport=null,this.fabricTrialEndMsgBarDismissible=null,this.filtersCopilotSkill=null,this.CopilotPreviewToggle=null,this.appBarResizingV2=null,this.enableEventstreamLakehouseSchema=null,this.FluentListColumnOption=null,this.backendCopilotOrchestrator=null,this.immersiveCopilotM1=null,this.immersiveCopilotV2=null,this.backendCopilotOrchestratorMobile=null,this.backendCopilotOrchestratorDesktop=null,this.backendCopilotOrchestratorDesktopSU11=null,this.copilotDesktopDebug=null,this.copilotCapabilityNoCapacityShortCircuit=null,this.copilotCapabilityAgentMetadataCheck=null,this.tablixRenderUpgrade=null,this.copilotCapabilityClientCaching=null,this.enableCopilotPromptDebug=null,this.fabricTrialInternalExpirationExperience=null,this.newLeadsUrl=null,this.dedsNotebookFileEditor=null,this.lastDayOfMonthSubscription=null,this.DownloadExplorationFileFormatV2=null,this.fabricTrialThirtyDaysRetentionExperience=null,this.fabricAddContributorForTrialExperience=null,this.fabricCancelTrialFromCapacitySettingsShowChangeImmediately=null,this.informSharedTrial=null,this.tryFabricTrialDialogV2=null,this.MirroredOneSecurity=null,this.directLakeOverOneLake=null,this.enableCapacitySurgeProtection=null,this.blockedAndMissionCriticalWorkspaces=null,this.blockedAndMissionCriticalWorkspacesMultipleUnblockRules=null,this.blockedAndMissionCriticalWorkspacesDemoMode=null,this.enableJobAdmission=null,this.showJMTimeoutSettings=null,this.alchemySearch=null,this.AlchemyInsights=null,this.enablePageCreationVisualValidation=null,this.racPageCreationPoseidonSupport=null,this.racCardsCreationPoseidonSupport=null,this.racSuggestPoseidonSupport=null,this.LegacyIndirectAccessSource=null,this.enableExportToDataWithVisualCalculations=null,this.FuncSet_EnableAsyncDeployCode=null,this.azureMapsPublishToWeb=null,this.enableCopilotInGraphql=null,this.mobileCopilot=null,this.mobileHomeCopilot=null,this.preloadConceptualSchema=null,this.mobilePinchToZoomSmallLandscape=null,this.emitVisualReadyByDetailVisual=null,this.decoupleTimeZoneAndScheduleRefresh=null,this.consistentArtifactCreation=null,this.consistentMLExperimentCreation=null,this.consistentMLModelCreation=null,this.NotebookEnableWidgetReference=null,this.realTimeIntelligenceSampleTutorial=null,this.visualCalculationFRE=null,this.SparkCoreSparkSettingsNativeEngineEnabled=null,this.defaultLabel_HEAD_Domains_FE=null,this.disableEnsure3PConsent=null,this.fabricDeveloperExperience=null,this.TableDiscovery=null,this.SchemaDiscovery=null,this.ArtifactGraphEnableCreationAsync=null,this.artifactMonthlySchedule=null,this.enableEventstreamAmazonMskKafkaConnector=null,this.enableEventstreamApacheKafkaConnector=null,this.enableEventstreamAzureSqlMiDbCdcConnector=null,this.enableEventstreamSqlServerOnVmDbCdcConnector=null,this.downloadEmptyReportWithDatasetOnly=null,this.GraphQL_showCopyClientCodeButton=null,this.shellWorkspaceCopilot=null,this.enableSaveACopyExpV2=null,this.dataQuestionLlmParser=null,this.dataQuestionO3Mini=null,this.dataQuestionCustomInstructions=null,this.oneSecurityUXPublic=null,this.advancedSlicerSelectionIcon=null,this.blockExtensionMessageOnValidationFailure=null,this.dataFunctionActions=null,this.OrgAppV3Ingress=null,this.OrgAppCopilotUi=null,this.ArtifactGraphLoadOnSave=null,this.webModelingViewSwitcher=null,this.kustoAllowEmbeddedQueryset=null,this.enableFabric13R3=null,this.kustoEnableQueryAcceleration=null,this.geofilterSynonymAdjustLocalityWhenNullDisabled=null,this.shouldEnableWarningStreamingDataset=null,this.RelevanceEngine_AllowLlmRequests=null,this.artifactDiscoverySkill=null,this.FuncSetEnablePortalEditing=null,this.disableAppinsightsRetries=null,this.syncPerformanceItemsFromExtensions=null,this.shouldDisableCreationStreamingDataset=null,this.manageDatasetRefresh=null,this.unsupportedBrowserNotification=null,this.dashboard_and_report_HEAD_CompactView_FE=null,this.dedsNotebookTeachingTourDRL=null,this.OrgAppConsolidatedNavigation=null,this.ArtifactGraphPersistLayout=null,this.KustoGenerateDashboard=null,this.enableEventstreamEventType=null,this.enableInferredSchema=null,this.ArtifactFunctionSet=null,this.treemapLayoutOptions=null,this.showHelpPaneInGlobalSearch_variantA=null,this.showHelpPaneInGlobalSearch_variantB=null,this.ArtifactGraphQueryCopilot=null,this.enableEventstreamAzureServiceBusConnector=null,this.ODSPSubscriptionUserPermissionsCheck=null,this.OneSecurityForDataWarehouseFE=null,this.FuncSetEnableLibraryManagement=null,this.dataQuestionDispreferTables=null,this.GraphQL_ShowSqlAnalyticsEndpointArtifactType=null,this.GraphQL_ShowWarehouseArtifactType=null,this.AlmCrossRegionDeployment=null,this.daxCopilotV2=null,this.daxCopilotIncreasedTokenLimits=null,this.azureMapGeocodingAuditor=null,this.notebookAzNBInSW=null,this.notebookPylanceInSW=null,this.subscribePermissionSharing=null,this.NL2DAXAddCustomInstructions=null,this.NL2DAXUseSynonyms=null,this.NL2DAXIncludeSampleValues=null,this.NL2DAXIncludeSampleValuesDirectLake=null,this.GraphQL_ShowSqlAnalyticsEndpointDmts=null,this.showChangeOwnershipOptionForTenantAdmin=null,this.GraphQL_ShowWarehouseDmts=null,this.enableEventstreamReflexPushMode=null,this.FuncSetEnableDotNetSupport=null,this.disableCacheUpdatesForV2Reports=null,this.fabricMigration=null,this.exploreInReportCopilot=null,this.GraphQL_ShowSqlDbNativeDmts=null,this.tmdlCopilotToggle=null,this.tmdlPreview=null,this.OrgAppV3PublicContract=null,this.debugImmersiveCopilot=null,this.GraphQL_ShowMountedWarehouseDmts=null,this.GraphQL_NewDnsEndpoint=null,this.datahubPillsBar_HEAD_a11y_FE=null,this.databricksNetworkSecurityUX=null,this.DigitalOperationsM1UI=null,this.DigitalOperationsM2UI=null,this.DigitalOperationsUIAdvancedQuery=null,this.DigitalOperationsUIAskQuestion=null,this.fabricArtifactSyncService=null,this.fabricArtifactClientCache=null,this.multitaskingUpdateSyncService=null,this.artifactGraphConditionalFormatting=null,this.FuncSetEnableUseOwnerToken=null,this.saveNewReportAsExplorationV2=null,this.ArtifactGraphInferGraphUI=null,this.ArtifactGraphNewObjectModel=null,this.ArtifactGraphNewLook=null,this.analyzeDataWith=null,this.enableReadonlyDqv=null,this.ArtifactGraphNodeExpansion=null,this.daxCopilotV2Web=null,this.enableDaxScenarioParameterOverride=null,this.DataverseShortcutServicePrincipalAuthKind=null,this.acceptEncoding=null,this.acceptEncodingActivation=null,this.initializeCapacityWithFolderAPI=null,this.accessibleMeControlV1=null,this.dataQuestionEnhancedReasoning=null,this.dataQuestionEnhancedReasoningImmersive=null,this.copilotFilterSingleTool=null,this.consistentHomeOneCreation=null,this.disableStarterWorkspacePool=null,this.stableReporting=null,this.dedsPythonMonitor=null,this.sqlDwGpt4oMini=null,this.refreshDataflowFabric=null,this.enableEventstreamEntraIDAuthForCustomEndpoint=null,this.ArtifactGraphQuerySearch=null,this.copilotDatasetSummaryFrontendV2=null,this.GraphQL_CreateFromSampleSqlDb=null,this.addKeyInfluencersForCopilotSummary=null,this.ArtifactGraphNewLookDecember=null,this.GraphUIUpdateFeb=null,this.graphExploreV2=null,this.visualTooltipRenderTelemetry=null,this.addKeyInfluencersForCopilotSummaryFirst=null,this.rowHierarchySelector=null,this.rowHierarchySelectorAuthoring=null,this.helpPaneAutosuggest=null,this.UseConfidentialClientForOAuthOnPremDataSources=null,this.FuncSetEnableVSCodeFunctionsUri=null,this.FuncSetEnableGenericWarehouse=null,this.MLOpenAIAssistant=null,this.addCapacityNameInMonitoringHub=null,this.realTimeIntelligenceSampleGallery=null,this.dwModelingUx=null,this.pbiMoveImportNotebookToImport=null,this.workspaceIdentityAuthForAdlaAndAdls=null,this.dedsNotebookMirroredDB=null,this.notebookAzMaps=null,this.EventstreamCodeGenUXNative=null,this.FuncSetHomeDesignV2=null,this.OneLakeUXTransMirroring=null,this.tridentGitForkBranchExistingFolder=null,this.FuncSetPylanceDiagnostics=null,this.eventNotificationUx=null,this.copilotRemoveOffTopicRestriction=null,this.FuncSetNameChange=null,this.daxCopilotBackendRetryWeb=null,this.suggestQueriesForCopilotSummary=null,this.ArtifactGraphGetArtifactTablesList=null,this.copilotStreamToolResponse=null,this.DmsUniversalSecurity=null,this.copilotSummaryDisableToolParam=null,this.onelakeCatalogOnTeams_HEAD_Datahub_FE=null,this.dedsEnvironmentCrossWS=null,this.disableAppCopilotFollowUpSuggestions=null,this.dedsNBPythonResourceUsage=null,this.dedsNBTSqlRecentRun=null,this.genericTyping_HEAD_CompactView_FE=null,this.GraphQL_Copilot_V2=null,this.helpPaneBranching=null,this.helpPaneCreateTicket=null,this.displayOneDriveSourceUri=null,this.enableVisualCalculationsInDataExplore=null,this.oneLakeUXShowWarehouseSnapshotInBrowse=null,this.FuncSetPylanceDebug=null,this.sendPSKUExpiryNotification=null,this.DataverseShortcutWorkspaceIdentityAuthKind=null,this.RelevanceEngine_ExperimentalOptions=null,this.GraphItemDefinition=null,this.GraphItemDefinitionUI=null,this.clearChatInReportCopilotPane=null,this.FuncSetEnableConnectionStringHeaders=null,this.notebookDisableLazyLoadOnIdle=null,this.fabricMigrationPuPr=null,this.fabricMigrationDedicatedSqlPool=null,this.updateLLMModelTogpt4o2024_11_20=null,this.enableDataPreviewForPartialConnectors=null,this.enableEventstreamRealTimeWeather=null,this.multipleSchedulerUX=null,this.azureMapsTileHostEmbedValidation=null,this.secureEmbedDialogAllowCopilot=null,this.sharepointEmbedDialogAllowCopilot=null,this.desktopReportAuthoringCopilotGA=null,this.desktopReportAuthoringCopilotButton=null,this.queryEditsInWebModeling=null,this.KustoCopilotDashboardFeedback=null,this.NL2DAXAddDisplayFolderAndHierarchy=null,this.UseArtifactDiscoverySkillV2=null,this.openRemoteModelingFromWeb=null,this.categoricalIntersectionEval=null,this.teamsNewLeftNav=null,this.EnhancedFoplResults=null,this.workloadHubFeaturedWorkloads=null,this.exp_workloadHubFeaturedWorkloads=null,this.workloadHubBagIcon=null,this.exp_workloadHubBagIcon=null,this.UseSearchToolUXInADSkill=null,this.fabricExtensibility_DefaultWorkload=null,this.fabricExtensibility_ClientSideAuth=null,this.restrictWorkspaceAccessToSG=null,this.FuncSetEnablePrivateLibraryManagement=null,this.disableLiveConnectOptionForAASDataset=null,this.FuncSetDisablePortalEditorLibValidation=null,this.FuncSetPortalTest=null,this.OneLakeUXEnableDataverseFilter=null,this.M365DataQuestionSkill=null,this.taskFlowExportAndImport=null,this.copilotBackendOrchestratorStreaming=null,this.sqlAuditLogsSettingsUXForDW=null,this.exp_onelakeCatalog_LeftNavLabel_HEAD_Datahub_FE=null,this.tvfScalarFunctions=null,this.subItemsQuickActions_HEAD_Datahub_FE=null,this.disableFabricReadOptions=null,this.cosmosDbMetricsSummary=null,this.cosmosDbSqlEndpoint=null,this.dataflowConnectionInPipeline=null,this.tridentDSAIFunction=null,this.OrgAppV3Audiences=null,this.enableEventStreamSqlCode=null,this.nativeMlflowUI=null,this.reportPageTitle=null,this.authoringFeedback=null,this.onelakeCatalog_Insights_Recent_HEAD_Datahub_FE=null,this.fabricWranglerNL2Code=null,this.fabricWranglerPandas2PySpark=null,this.fabricWranglerSuggestions=null,this.fabricWranglerNewLaunchingExperience=null,this.dwCodeSnippets=null,this.dwUseMWCBatchApi=null,this.SupportSchemalessArtifactForOneSecurity=null,this.semanticLinkPythonNotebook=null,this.notebookPerfProfiling=null,this.GetDatasetSchemaCustomInstructions=null,this.onelakeCatalog_purview_HEAD_Datahub_FE=null}}},987742:function(ve,j,e){e.d(j,{A:function(){return i}});var r=e(17372),i={annotationsUI:r.C2.Web,exp_deferVCLoadingChangeSection:r.C2.All&~r.C2.EmbedHost,exp_deferVCLoadingChangeSectionEmbed:r.C2.EmbedHost,exp_noEmptyUpdate:r.C2.All&~r.C2.EmbedHost,noEmptyUpdate:r.C2.All&~r.C2.EmbedHost,noEmptyUpdateEmbed:r.C2.EmbedHost,personalVisualizationPaneEnabled:r.C2.All&~r.C2.EmbedHost,queryCancellation:r.C2.Desktop|r.C2.Web|r.C2.WindowsApp,reportAnnotationsUI:r.C2.Web|r.C2.ExploreHost,stickyFeatureSwitches:r.C2.All&~r.C2.EmbedHost,userFavoriteResourcePackagesEnabled:r.C2.All&~r.C2.EmbedHost}},924341:function(ve,j,e){e.d(j,{pL:function(){return L},MF:function(){return E}});var r=e(964743),i=e(797833),a=e(759167),t=e(418431),l=e(550888),g=e(892110),n=e(789861),p=e(411402),s=e(301336),o="infonav-additionalError",v="infonav-showAdditionalError";function C(K,z){var H=$('<div class="infonav-errorInfoItem"><span class="infonav-errorInfoHeader">{FieldTitle}</span><span class="infonav-errorInfoText">{FieldValue}</span></div>'.replace("{FieldTitle}",K));return H.find(".infonav-errorInfoText").text(z||""),H.html(H.html().replace(/\n/g,"<br/>")),H}var S=e(89494),h=function(K){return K[K.Info=0]="Info",K[K.Warning=1]="Warning",K[K.SecurityWarning=2]="SecurityWarning",K}({}),E="https://support.powerbi.com",b="."+r.D.modalDialog,V="."+r.D.dialogTitle,T="."+r.D.dialogCloseIcon,P="."+r.D.dialogContent,D="."+r.D.dialogActions,w="."+r.D.dialogNotificationIcon,M="."+r.D.dialogContentNotificationText,A="infonav-modalContainerHost",R="."+A,B="."+r.D.dialogHtmlMessage,N="infonav-describedBy",W='<div tabindex="0" prevent-focus-loss="true" focus-nav-mode="Group" class="infonav-modalContainer'+(-1!==location.search.indexOf("renderAsModalDialog")?" small":"")+'"><div class="'+r.D.modalDialog+'" tabindex="-1" data-testid="infonav-modal-dialog"><div class="infonav-dialogLayout themeableElement"><div class="'+r.D.dialogTitle+'" id='+N+' role="heading" aria-level="1"></div><input type="button" class="'+r.D.dialogCloseIcon+'" data-testid="infonav-modal-dialog-close-btn"></input><div class="'+r.D.dialogContent+'" data-testid="infonav-modal-dialog-content"><div class="'+r.D.dialogActions+'"  data-testid="infonav-modal-dialog-actions"></div></div></div></div></div>',F='<div class="'+r.D.dialogContentNotification+'"><span class="'+r.D.dialogNotificationIcon+'"></span><span class= "'+r.D.dialogContentNotificationText+'" > </span></div>',U=`<input type="button" class=${r.D.dialogButton}></input>`,x='<label class="'+r.D.dialogCheckboxLabel+'">';class L{constructor(z,H){this.dialogHost=z,this.localizationMap=H,this.messageQueue=[],this.isReady=!1,this.messageCurrentlyShown=!1,this.initialized=!1}refocus(){this.modalContainer.focus()}showMessage(z,H,J,k){this.ensureInitialized();var Q,G=[];if(J||(J=this.localizationMap?this.localizationMap.closePromptText:p.Ky),k){var Z=$('<a target="_blank"></a>').text(k.label).attr("href",k.url);Q=$("<div></div>").text(H+" ").append(Z),H=void 0}G[0]=this.createButton(J,()=>{this.hideDialog()},null,"primary"),this.pushMessage(z,H,Q,G,!0)}showPrompt(z,H,J,k){this.ensureInitialized();for(var G=new Array,q=0;q<J.length;q++){var Q=J[q],Z=Q.cssClass;0===q&&(Z+=" primary"),G[q]=this.createButton(Q.labelText,Q.actionCallback,Q.data,Z,Q.disabled)}this.pushMessage(z,H,void 0,G,!!k)}showError(z,H,J,k,G){this.showCustomError(p.g_,z,H,H!==l.U.Fatal,J,k,G)}showCustomError(z,H,J,k,G,q,Q,Z,X,re,te,se,Ve){this.ensureInitialized();var Ue,ke=new Array;Q?Q.forEach(Ne=>{ke.push(this.createButton(Ne.label,()=>{this.hideDialog(),$.isFunction(q)&&q(Ne.resultValue)},null,Ne.cssClass,Ne.disabled))}):ke[0]=J!==l.U.Fatal?this.createButton(this.localizationMap?this.localizationMap.closePromptText:p.Ky,()=>{this.hideDialog(),$.isFunction(q)&&q(0)}):this.createButton(this.localizationMap?this.localizationMap.refreshPagePromptText:p.Pu,()=>{window.location.reload()},null,"primary"),Ue=re?$("<div></div>").append(re):$("<div></div>").text(H);var ft,ot=$("<div></div>").addClass(r.D.dialogFooter);if(!_.isEmpty(G)){ft=this.localizationMap&&this.localizationMap.errorDialogHelperText?this.localizationMap.errorDialogHelperText:p.q5,te&&(ft=te),Ue.append($("<br/>")).append(ft);var Ct=this.localizationMap?this.localizationMap.copyPromptText:p._T,Ke=this.localizationMap?this.localizationMap.copySuccessText:p.Eu,Ae={title:z,message:re?re.text():H,helperText:ft,additionalErrorInfo:G},we=$("<button></button>").text(Ct).addClass("modalCopyToClipboard").click(()=>{this.tryCopyToClipboard(Ae)&&(we.text(Ke).addClass("modalCopySuccess"),setTimeout(()=>{we.text(Ct).removeClass("modalCopySuccess")},3e3))});ot.prepend(we)}this.addAdditionalErrorInfo(Ue,G,this.localizationMap?this.localizationMap.showTechnicalDetailsText:p.b),Z&&(Z.url===E||Z.isGetHelpTextReplaced?ot.prepend($('<a class="modalErrorHelpLink" target="_blank"></a>').text(Z.label).attr("href",Z.url)):ke.unshift(this.createButton(Z.label,()=>{window.open(Z.url)},null,"primary"))),Ue.append(ot),this.pushMessage(z||p.g_,void 0,Ue,ke,k,X,void 0,void 0,se,Ve)}showCustomDialog(z,H,J,k,G,q,Q,Z,X,re,te,se,Ve,ke,Ue,ot,ft,Ct){this.ensureInitialized(),this.modalDialogResizeHandler=this.modalDialogResizeHandler.bind(this),$(window).on("resize.modalDialog",this.modalDialogResizeHandler);var Ke=[];Ue&&(Ke[0]=this.createCheckbox(Ue.labelText,Ue.actionCallback,Ue.data));for(var Ae=J.findIndex(Oe=>Oe?.type===S.s.Button),we=0;we<J.length;we++){var Ne=J[we],Se=Ne.cssClass;!se&&we===Ae&&(Se+=" primary"),Ke[Ue?we+1:we]=Ne.type===S.s.Link?this.createLink(Ne.labelText,Ne.link):this.createButton(Ne.labelText,Ne.actionCallback,Ne.data,Se,Ne.disabled)}if(ft){var me=$("<p></p>").append($('<a target="_blank"></a>').text(ft.label).attr("href",ft.url));H=H.append(me)}return this.pushMessage(z,void 0,H,Ke,!!G,X,k,q,Q,Z,re,te,se,Ve,ke,ot,Ct),this.dialogContent}hideDialog(){this.ensureInitialized(),$(window).off("resize.modalDialog"),this.modalContainer.fadeTo(250,0,()=>{this.modalContainer.css(a.SU,a.zu),this.modalDialogElement.removeClass(this.modalDialogCustomClass),this.modalContainer.removeClass(this.modalContainerCustomClass),this.currentModalDialogMessage&&this.currentModalDialogMessage.onDialogClosed&&this.currentModalDialogMessage.onDialogClosed(),this.messageCurrentlyShown=!1;var z=this.messageQueue.shift();z?this.showDialogInternal(z):(this.modalContainer.off(),this.modalContainer.remove(),$(R).off(),$(R).remove(),this.initialized=!1,this.unregisterFocusManager&&this.unregisterFocusManager())})}ensureInitialized(){if(!this.initialized){if(this.modalContainer=$(W),this.modalDialogElement=this.modalContainer.find(b),this.dialogTitle=this.modalContainer.find(V),this.dialogCloseButton=this.modalContainer.find(T),this.dialogContent=this.modalContainer.find(P),this.dialogActions=this.modalContainer.find(D),this.dialogCloseButton.on(t.G6,()=>this.hideDialog()).on("keydown",H=>{H.keyCode===t.mW.escKeyCode&&this.hideDialog()}).attr("aria-label",this.localizationMap?this.localizationMap.closePromptText:p.Ky).attr("name",this.localizationMap?this.localizationMap.closePromptText:p.Ky).attr("title",this.localizationMap?this.localizationMap.closePromptText:p.Ky),!this.dialogHost){var z=$(R);_.isEmpty(z)||z.remove(),(z=(0,i.hi)().addClass(A)).attr("role","dialog"),z.attr("aria-labelledby",N),this.dialogHost=$(t.iV).append(z),this.dialogHost=z}this.dialogHost.append(this.modalContainer),this.isReady=!0,this.messageQueue.length>0&&this.showDialogInternal(this.messageQueue.shift()),this.initialized=!0,this.unregisterFocusManager=g.IK.getInstance().register(this.dialogHost.get(0),!0),this.dialogHost=void 0}}updatePosition(z){var H=(this.modalContainer.height()-this.modalDialogElement.height())/2,J=(this.modalContainer.width()-this.modalDialogElement.width())/2,k={top:H+a.SJ,left:J+a.SJ};z?this.modalDialogElement.animate(k,250):this.modalDialogElement.css(k)}addAdditionalErrorInfo(z,H,J){if(!_.isEmpty(H)){var k=$("<p ></p>");for(var G of H)k.append(C(G.errorInfoKey,G.errorInfoValue));var q=function(K,z){var H=$("<div ></div>"),J=$("<a class=\"showAdditionalDetailsLink\" href='javascript:' ></a>");return J.addClass(v),J.text(z||p.b),J.on(t.G6,()=>{H.find(s.b$.createClassSelector(v)).remove(),H.find(s.b$.createClassSelector(o)).css(a.SU,a.jO)}),K.css(a.SU,a.zu),K.addClass(o),H.append(J),H.append(K),H}(k,J);z.append($("<br />")),z.append(q),z.find(".showAdditionalDetailsLink").on(t.G6,()=>{this.updatePosition(!0)})}}pushMessage(z,H,J,k,G,q,Q,Z,X,re,te,se,Ve,ke,Ue,ot,ft){typeof G>"u"&&(G=!0),typeof X>"u"&&(X=""),typeof re>"u"&&(re=""),typeof ft>"u"&&(ft=""),this.messageQueue.push({titleText:z,messageText:H,dialogContent:J,dialogButtons:k,onDialogDisplayed:Q,isDismissable:G,dialogCssClass:X,dialogActionsCssClass:ft,containerCssClass:re,onDialogClosed:q,notificationType:te,notificationText:se,htmlMessageText:ke}),!this.messageCurrentlyShown&&this.isReady&&this.showDialogInternal(this.messageQueue.shift(),Z,Ve,Ue,ot)}tryCopyToClipboard(z){if(!z)return!1;var H=[];if(z.title&&H.push(z.title),z.message&&H.push(z.message),z.helperText&&H.push(z.helperText),z.additionalErrorInfo)for(var J of z.additionalErrorInfo)H.push(`${J.errorInfoKey}: ${J.errorInfoValue}`);var k=H.join("\n");try{return(0,n.Ue)().copyText(k),!0}catch{return!1}}showDialogInternal(z,H,J,k,G){if(this.currentModalDialogMessage=z,this.messageCurrentlyShown=!0,this.dialogContentNotification=$(F),this.dialogContentNotificationIcon=this.dialogContentNotification.find(w),this.dialogContentNotificationText=this.dialogContentNotification.find(M),this.dialogTitle.empty(),this.dialogContent.empty(),this.dialogActions.empty(),this.dialogTitle.text(z.titleText).attr("title",z.titleText),k?(this.appendNotification(z.notificationType,z.notificationText),this.appendMessageText(z.dialogContent,z.messageText,z.htmlMessageText)):(this.appendMessageText(z.dialogContent,z.messageText,z.htmlMessageText),this.appendNotification(z.notificationType,z.notificationText)),this.dialogCloseButton.css(a.SU,z.isDismissable?a.jO:a.zu),z.dialogButtons.length>0)for(var q of(this.dialogActions.show(),z.dialogButtons))this.dialogActions.append(q);else this.dialogActions.hide();var Q=this.dialogContent.find(`.${r.D.dialogFooter}`);Q.length>0?Q.append(this.dialogActions):this.dialogContent.after(this.dialogActions),z.dialogCssClass&&(this.modalDialogElement.addClass(z.dialogCssClass),this.modalDialogCustomClass=z.dialogCssClass),z.containerCssClass&&(this.modalContainer.addClass(z.containerCssClass),this.modalContainerCustomClass=z.containerCssClass),z.dialogActionsCssClass&&this.dialogActions.addClass(z.dialogActionsCssClass);var Z=this.modalContainer.css(a.SU)===a.zu?this.modalContainer:this.modalDialogElement;Z.fadeTo(0,0),this.updatePosition(!1),Z.fadeTo(250,1,()=>{if(z.onDialogDisplayed&&z.onDialogDisplayed(this.dialogContent),!(this.modalDialogElement.find("dialog-frame").length>0)){0===this.modalDialogElement.find(":focus").length&&this.modalDialogElement.focus(),G&&this.modalDialogElement.keydown(re=>{re.keyCode===t.mW.escKeyCode&&this.hideDialog()});var X=this.dialogActions.find("input");!J&&X.length>0&&X[0].focus(),H&&this.dialogContent.parent().find(".infonav-dialogActions input[type=button]:first").focus()}})}appendMessageText(z,H,J){_.isEmpty(H)&&z?this.dialogContent.append(z):this.dialogContent.text(H),_.isEmpty(J)||(this.dialogContentMessage=this.dialogContent.find(B),this.dialogContentMessage.html(J))}appendNotification(z,H){if(null!==z&&!_.isEmpty(H)){switch(z){case h.Info:this.dialogContentNotificationIcon.addClass(r.D.dialogInfoIcon),this.dialogContentNotification.addClass(r.D.notificationInfo);break;case h.Warning:this.dialogContentNotificationIcon.addClass(r.D.dialogWarningIcon),this.dialogContentNotification.addClass(r.D.notificationWarning);break;case h.SecurityWarning:this.dialogContentNotificationIcon.addClass(r.D.dialogSecurityWarningIcon),this.dialogContentNotification.addClass(r.D.notificationSecurityWarning)}this.dialogContentNotificationText.html(H),this.dialogContent.append(this.dialogContentNotification)}}createButton(z,H,J,k,G){var q=$(U);return q.attr("value",z),q.attr("data-testid",`infonav-dialog-action-${z}`),q.on(t.G6,()=>{H(q,this.dialogContent,J)}),k&&q.addClass(k),G&&q.prop("disabled",!0),q}createCheckbox(z,H,J){var G=$('<div class="'+r.D.dialogCheckbox+'"><input type="checkbox"></input>'+x+z+"</label></div>"),q=G.find("input");return q.on(t.AA,()=>{H(q,this.dialogContent,J)}),G}createLink(z,H="",J=!0){return $(`<div>\n                <br>\n                    <a href=${H} target='_blank' class='pbi-external-link'>\n                        ${z}${J?"<i class='infonav-linkIcon glyphicon pbi-glyph-navigate-external-inline glyph-small'></i>":""}\n                    </a>\n                <br>\n            </div>`)}modalDialogResizeHandler(){this.updatePosition(!1)}}},89494:function(ve,j,e){e.d(j,{l:function(){return i},s:function(){return r}});var r=function(a){return a.Button="Button",a.Link="Link",a}({});class i{constructor(t,l,g,n,p,s,d){this.type=r.Button,this.link="",this.labelText=t,this.actionCallback=l,this.data=g,this.cssClass=n,this.disabled=!!p,this.type=s||this.type,this.link=d||this.link}}},964743:function(ve,j,e){e.d(j,{D:function(){return i},e:function(){return r}});var r=function(a){return a[a.Ok=0]="Ok",a[a.Cancel=1]="Cancel",a}({}),i=function(a){return a.modalDialog="infonav-modalDialog",a.dialogTitle="infonav-dialogTitle",a.dialogCloseIcon="infonav-dialogCloseIcon",a.dialogContent="infonav-dialogContent",a.dialogContentNotification="infonav-dialogContentNotification",a.dialogWarningIcon="pbi-glyph-warning glyph-mini",a.dialogSecurityWarningIcon="pbi-glyph-securityalert glyph-mini",a.dialogInfoIcon="pbi-glyph-info glyph-mini",a.dialogNotificationIcon="glyphicon",a.notificationWarning="typeWarning",a.notificationSecurityWarning="typeSecurityWarning",a.notificationInfo="typeInfo",a.dialogContentNotificationText="infonav-dialogContentNotificationText",a.dialogFooter="infonav-dialogFooter",a.dialogActions="infonav-dialogActions",a.dialogButton="pbi-fluent-button",a.dialogCheckbox="pbi-input checkbox",a.dialogCheckboxLabel="form-label",a.dialogHtmlMessage="dialogMessage",a.dialogTitleWarningIcon="pbi-glyph-warning glyph-medium",a.dialogTitleCircleWarningIcon="pbi-glyph-error-circle-exclamation glyph-mini",a}({})},364419:function(ve,j,e){e.d(j,{IH:function(){return h},Kk:function(){return v},TX:function(){return S},cN:function(){return y},gh:function(){return d},ih:function(){return o},jC:function(){return c},nK:function(){return E},nY:function(){return f},u5:function(){return u},uL:function(){return b},xv:function(){return m},yC:function(){return s}});var r=e(796071),i=e(650543),a=e(221e3),t=e(123975),l=e(301336),g=e(506963),n="/Date(",p=")/",s=function(V){return V[V.MillisecondsPerMinute=6e4]="MillisecondsPerMinute",V[V.MilisecondsPerHour=36e5]="MilisecondsPerHour",V[V.MillisecondsPerDay=864e5]="MillisecondsPerDay",V}({});function d(V){return i.f.assertValue(V,"date"),(V.getTime()-V.getTimezoneOffset()*s.MillisecondsPerMinute)%s.MillisecondsPerDay==0}function o(){return typeof moment<"u"}function v(V){var T=m(V);if(T)return T;i.f.assert(()=>o(),"Moment.js should be loaded for non-fast parseIsoDate.");var P=moment(V);return P.isValid()?P.toDate():null}function m(V){if(V){var T=V.length;if(!(T<=18||T>28)){var P=V[10];if("-"===V[4]&&"-"===V[7]&&("T"===P||" "===P)&&":"===V[13]&&":"===V[16]){var D=(0,g.l)(V,0,4),w=(0,g.l)(V,5,2),M=(0,g.l)(V,8,2),A=(0,g.l)(V,11,2),R=(0,g.l)(V,14,2),B=(0,g.l)(V,17,2),N="Z"===V.charAt(T-1);N&&T--;var W=0;if(T>19){if("."!==V[19])return;var F=T-20,U=(0,g.l)(V,20,F);if(null===U)return;W=U*(0,a.wA)(3-F)}if(null!==D&&null!==w&&null!==M&&null!==A&&null!==R&&null!==B&&null!==W)return N?new Date(Date.UTC(D,w-1,M,A,R,B,W)):(0,t.yI)(D,w-1,M,A,R,B,W)}}}}function c(V){return i.f.assert(()=>o(),"Moment.js should be loaded for parseUtcDate."),moment.utc(V).toDate()}function y(V){if(l.b$.throwIfNullOrEmptyString(V,null,"deserializeDate","Cannot deserialize empty string"),(0,r.BF)(0===V.indexOf(n)&&_.endsWith(V,p),"Cannot deserialize empty string"),o()){var T=moment(V);return(0,r.BF)(T.isValid(),"parsedValue.isValid must be true"),T.toDate()}var P=V.substring(n.length,V.length-p.length);(0,r.BF)(/^\-?\d+$/.test(P),"Cannot deserialize invalid date");var D=parseInt(P,10);return(0,r.BF)(!isNaN(D),"Cannot deserialize invalid date"),new Date(D)}function S(V){try{return y(V)}catch{}}function h(V,T,P,D){i.f.assertValue(V,"date");var w=moment().subtract(P,T);return D&&(w=w.startOf(T)),moment(V)>=w}function E(V,T){return i.f.assertValue(T,"date"),T.toLocaleTimeString(V,{second:"numeric",minute:"numeric",hour:"numeric"})}function u(V,T){return i.f.assertValue(T,"date"),T.toLocaleDateString(V,{second:"numeric",minute:"numeric",hour:"numeric",weekday:"short"})}function f(V,T){return i.f.assertValue(T,"date"),T.toLocaleDateString(V,{second:"numeric",minute:"numeric",hour:"numeric",day:"numeric",month:"short",year:"numeric"})}function b(){return(new Date).toISOString()}},24769:function(ve,j,e){e.d(j,{s:function(){return a}});var r=e(756646),i={},a=(()=>{class n{static clearQueryString(s){var d=n.parseQueryString();return delete d[s],n.rebuildQueryString(d)}static clearQueryStrings(s){var d=n.parseQueryString();for(var o of s)delete d[o];return n.rebuildQueryString(d)}static addOrUpdateQueryString(s,d){var o=n.parseQueryString();return o[s]=d,n.rebuildQueryString(o)}static addOrUpdateQueryStringToUrl(s,d){var o=n.parseUrl(s),v=n.clearAllQueriesFromUrl(s);for(var m of Object.keys(d))o[m]=d[m];return v+n.rebuildQueryString(o)}static getQueryStringValue(s){return n.parseQueryString()[s]}static isQueryParamSet(s,d){var o=i[s];if(!d||void 0===o){var v=n.getQueryStringValue(s);o=null!=v&&"false"!==v&&("1"===v||"true"===v.toLowerCase()||v.length>1),d&&(i[s]=o)}return o}static parseUrl(s){var d=s.indexOf("?"),o=d>=0?s.substr(d):void 0;return n.parseQueryString(o)}static parseQueryString(s=window.location.search){var d={};return new URLSearchParams(s).forEach((o,v)=>{d[v]=o}),d}static parseQueryStringWithMultipleKeyValues(s=window.location.search){var d={};return new URLSearchParams(s).forEach((o,v)=>{d[v]?d[v].push(o):d[v]=[o]}),d}static rebuildQueryString(s){var d="",o=!0;for(var v in s)o||(d+="&"),d+=encodeURIComponent(v)+"=",s[v]&&(d+=encodeURIComponent(s[v])),o=!1;return o||(d="?"+d),d}static clearAllQueriesFromUrl(s){var d=s.indexOf("?"),o=s.indexOf("#");return o>=0&&(o<d||-1===d)&&(d=o),d>=0?s.substr(0,d):s}static fileOfUrl(s){var d=(s=n.clearAllQueriesFromUrl(s)).lastIndexOf("/");return-1!==d&&(s=s.substring(d+1)),s}}return n.OriginClientActivityIdParameterName="caid",n.OriginRootActivityIdParameterName="raid",n.OriginActivityIdParameterName="aid",n})();function t(){var n=(0,r.kx)();return n.QueryStringUtil||(n.QueryStringUtil={}),n.QueryStringUtil}var g=!1;!function(){if(!g){var n=a.getQueryStringValue;t().getQueryStringValue=s=>n(s);var p=a.parseQueryString;t().parseQueryString=(s=window.location.search)=>p(s),g=!0}}()},621244:function(ve,j,e){e.d(j,{U:function(){return a},w:function(){return t}});var i,r=e(650543);function a(n){return new g(n)}function t(n){return new g(n)}var l=function(n){return n[n.Pending=0]="Pending",n[n.Resolved=1]="Resolved",n[n.Rejected=2]="Rejected",n}({});class g{constructor(p){this[i]="Promise",r.f.assertValue(p,"deferred"),this.deferred=p,this.state=l.Pending,p.promise.then(()=>this.state=l.Resolved,()=>this.state=l.Rejected)}then(p,s){return this.deferred.promise.then(p,s)}catch(p){return this.deferred.promise.catch(p)}finally(p){return this.deferred.promise.finally(p)}resolved(){return this.state===l.Resolved}rejected(){return this.state===l.Rejected}pending(){return this.state===l.Pending}reject(p){this.pending()&&(this.deferred.reject(p),this.state=l.Rejected)}}i=Symbol.toStringTag},506963:function(ve,j,e){e.d(j,{e:function(){return t},l:function(){return a}});var r=e(650543),i=e(221e3);function a(l,g,n){if(r.f.assertValue(l,"fullString"),r.f.assertValue(g,"from"),r.f.assertValue(n,"length"),r.f.assert(()=>g>=0,"from >= 0"),r.f.assert(()=>n>=0,"length >= 0"),r.f.assert(()=>g+n<=l.length,"(from + length) <= fullString.length"),0===n)return null;for(var p=0,s=0,d=g+n-1;s<n;s++,d--){var o=l.charCodeAt(d)-48;if(o<0||9<o)return null;p+=o*(0,i.wA)(s)}return p}function t(l,g){return r.f.assertValue(l,"literalStringToRegex - string"),r.f.assertAnyValue(g,"literalStringToRegex - flags"),new RegExp(l.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"),g)}},411402:function(ve,j,e){e.d(j,{Eu:function(){return E},Ky:function(){return v},Pu:function(){return m},QA:function(){return y},T8:function(){return C},_T:function(){return h},b:function(){return o},g_:function(){return c},q5:function(){return S}});var o="Show technical details",v="Close",m="Refresh Page",c="oops, something went wrong",C="Unsupported browser detected",y="Power BI Q&A requires Internet Explorer 10 or higher, please upgrade your browser and try again",S="Please try again later or contact support. If you contact support, please provide these details.",h="Copy",E="Success!"},802647:function(ve,j,e){function r(){return function(){if(!Object.defineProperty)return!1;try{return Object.defineProperty({},"customProperty",{get:function(){return!0},enumerable:!0,configurable:!1}),!0}catch{return!1}}()&&!!Function.prototype.bind&&!!$.support.cors}function a(){var v=window.navigator.userAgent.toLowerCase();return v.indexOf("msie ")>-1||v.indexOf("trident/")>-1}function l(){return/^((?!chrome|android).)*safari/i.test(window.navigator.userAgent)}e.d(j,{G6:function(){return l},TY:function(){return r},rO:function(){return a}})},836666:function(ve,j,e){e.d(j,{e:function(){return i}});var r=e(60060);function i(t,l){return(0,r.e)(t,l)}},856275:function(ve,j,e){e.d(j,{Cx:function(){return l},Sc:function(){return n},bF:function(){return a},eQ:function(){return t},o7:function(){return p},yC:function(){return g}});var r=e(266218);function a(s,d){var o=function(s){var d=window.performance.getEntriesByType("resource").filter(v=>"xmlhttprequest"===v.initiatorType&&-1!==v.name.indexOf(s));if(d&&1===d.length)return d[0]}(s);return!!o&&(t(o,d),!0)}function t(s,d){s&&(d.timeOrigin=window.performance.timeOrigin,d.decodedBodySize=s.decodedBodySize,d.duration=s.duration,d.encodedBodySize=s.encodedBodySize,d.transferSize=s.transferSize,d.connectEnd=s.connectEnd,d.connectStart=s.connectStart,d.domainLookupEnd=s.domainLookupEnd,d.domainLookupStart=s.domainLookupStart,d.fetchStart=s.fetchStart,d.redirectEnd=s.redirectEnd,d.redirectStart=s.redirectStart,d.requestStart=s.requestStart,d.responseEnd=s.responseEnd,d.responseStart=s.responseStart,d.secureConnectionStart=s.secureConnectionStart,d.startTime=s.startTime,d.workerStart=s.workerStart,null!=s.responseStart&&null!=s.startTime&&(d.timeToFirstByte=s.responseStart-s.startTime))}function l(s){return s&&s.requestId&&s.responseRequestId?s.requestId===s.responseRequestId:null}function g(s){return s&&s.responseRequestId?s.responseRequestId:null}function n(s){switch(s){case r.W.Unauthorized:case r.W.Forbidden:case r.W.RequestEntityTooLarge:case r.W.BadRequest:case r.W.NotFound:case r.W.Conflict:case r.W.PreconditionFailed:case r.W.UnprocessableEntity:case r.W.UnsupportedMediaType:return!1;default:return!0}}function p(s){switch(s){case r.W.InternalServerError:case r.W.ServiceUnavailable:return!0;default:return!1}}},661248:function(ve,j,e){function r(a,t,l){try{return JSON.parse(a,t)}catch(g){}}e.d(j,{K:function(){return r}})},574633:function(ve,j,e){e.d(j,{C:function(){return r},M:function(){return i}});var r=["highContrastTheme","customTheme","baseTheme"];function i(a,t,l,g){var n={name:a,version:l,type:t};return g&&(n.source=g),n}},424092:function(ve,j,e){e.d(j,{I$:function(){return s},P8:function(){return l},Wh:function(){return n},jO:function(){return d},nN:function(){return p}});var r=e(650543),i=e(84838),a=e(24769);function l(){var o;try{o=window.parent.origin}catch{r.f.log("isHostedInCrossDomainIFrame(): Caught exception when trying to access parent, most likely because the parent is cross-origin."),o="blockedBecauseCrossOrigin"}return window.origin!==o}function n(o){if(o)try{var v=atob(o);return pako.inflate(v,{to:"string"})}catch(c){i.fM.error(`Error while uncompressing TileData: ${JSON.stringify(c)}`,null==c.stack)}return null}function p(o){if(o)try{var v=pako.gzip(o,{to:"string"});return btoa(v)}catch(c){i.fM.error(`Error while compressing data: ${JSON.stringify(c)}`,null==c.stack)}return null}var o,s=function(){return null==o&&(o=!!a.s.getQueryStringValue("isE2ERun2")),o};function d(){return window}},124837:function(ve,j,e){e.d(j,{SY:function(){return t},WQ:function(){return l},Wh:function(){return g},YL:function(){return p}});var r=e(650543),i=e(364419),a=moment.duration;function t(o,v,m=!1){var c=new Date,C=Intl.DateTimeFormat(v.currentLanguageLocale,{hour:"numeric",minute:"numeric"}).format(o);if(d(o,c))return v.format("TodayAt",C);var y=new Date;return y.setDate(c.getDate()-1),d(o,y)?v.format("YesterdayAt",C):l(o,v,m)}function l(o,v,m=!1){if(r.f.assert(()=>(0,i.ih)(),"Moment not available"),!o)return"-";var c=moment().diff(o),C=a(c),y=Math.floor;r.f.assert(()=>C.asMilliseconds()>=0,"This function is intended to be used only with dates from the past.");var S=y(C.asYears());if(S>1)return v.format("RelativeDate_YearsAgo",[S]);if(1===S)return v.get(s("RelativeDate_YearAgo",m));var h=y(C.asMonths());if(h>1)return v.format("RelativeDate_MonthsAgo",[h]);if(1===h)return v.get(s("RelativeDate_MonthAgo",m));var E=y(C.asDays());if(E>1)return v.format("RelativeDate_DaysAgo",[E]);if(1===E)return v.get(s("RelativeDate_DayAgo",m));var u=y(C.asHours());if(u>1)return v.format("RelativeDate_HoursAgo",[u]);if(1===u)return v.get(s("RelativeDate_HourAgo",m));var f=y(C.asMinutes());if(f>1)return v.format("RelativeDate_MinutesAgo",[f]);if(1===f)return v.get(s("RelativeDate_MinuteAgo",m));var b=y(C.asSeconds());return b>=30?v.format("RelativeDate_SecondsAgo",[b]):v.get("RelativeDate_Now")}function g(o,v,m="DisplayDateTime_Common",c=!1){r.f.assertValue(o,"timestamp is required param"),r.f.assertValue(v,"localizationService is required param");var C=function(o,v,m=!1){r.f.assertValue(o,"timestamp is required param"),r.f.assertValue(v,"localizationService is required param");var c=new Date(o),C=new Date;if(d(c,C))return v.get(m?"TodayTitle":"Today");var y=new Date;return y.setDate(C.getDate()-1),d(c,y)?v.get(m?"YesterdayTitle":"Yesterday"):new Date(o).toLocaleDateString(v.currentLanguageLocale,{day:"numeric",month:"numeric",year:"numeric"})}(o,v,c),y=new Date(o).toLocaleTimeString(v.currentLanguageLocale,{hour:"numeric",minute:"numeric"});return v.format(m,[C,y])}function p(o){if(r.f.assert(()=>(0,i.ih)(),"Moment not available"),!o)return 0;var v=moment().diff(o),m=a(v),c=Math.floor;if(!(m.asMilliseconds()>=0))return 0;var C=c(m.asYears());if(C>=1)return 1e6+C;var y=c(m.asMonths());if(y>=1)return 1e5+y;var S=c(m.asDays());if(S>=1)return 1e4+S;var h=c(m.asHours());if(h>=1)return 1e3+h;var E=c(m.asMinutes());if(E>=1)return 100+E;var u=c(m.asSeconds());return u>=30?u:0}function s(o,v){return v?o+"_Capitalize":o}function d(o,v){return o.getFullYear()===v.getFullYear()&&o.getMonth()===v.getMonth()&&o.getDate()===v.getDate()}},433844:function(ve,j,e){e.d(j,{BN:function(){return m},Cn:function(){return f},GA:function(){return y},GR:function(){return M},HX:function(){return V},Hq:function(){return v},Jm:function(){return b},K:function(){return S},Ly:function(){return l},NZ:function(){return u},W6:function(){return g},_r:function(){return c},at:function(){return C},bU:function(){return d},cI:function(){return D},d0:function(){return P},es:function(){return w},s3:function(){return h},wc:function(){return p},yZ:function(){return T}});var r=e(759167),i=e(650543),a=e(418431),t=(0,r.CH)("explorationContainer"),l=function(A){return A[A.Above=1]="Above",A[A.RightOf=2]="RightOf",A[A.Below=4]="Below",A[A.LeftOf=8]="LeftOf",A[A.VerticalMiddle=16]="VerticalMiddle",A[A.HorizontalMiddle=32]="HorizontalMiddle",A}({});function g(A){return!!(A&l.Above)}function p(A){return!!(A&l.Below)}function d(A){return!!(A&l.VerticalMiddle)}var v=(0,r.CH)("notDroppable"),m=(0,r.CH)("dropover"),c=(0,r.CH)("prepend"),C=(0,r.CH)("append"),y="dragover",S="drag",h=function(A){return A[A.None=0]="None",A[A.Replace=1]="Replace",A[A.Prepend=2]="Prepend",A[A.Append=3]="Append",A}({});function u(A){var R=A.clone();return R.find("[id]").removeAttr(a.pX),R.addClass("dragHelper"),R}function f(A){var R=A.parents(t.selector);return i.f.assert(()=>R.length<=1,"We should only append the drag helper to 1 DOM element."),R}function b(A,R){var B=R();return B?(A.data[M]=B,!0):(A.data[w]=!0,!1)}function V(A,R){return!A.data[w]&&A.data[M]===R&&(A.data[w]=!0,!0)}function T(A,R){var B=R.height(),N=R.width(),W=R.offset(),F=A.pageY,U=A.pageX,O=0;return O|=W.top+B/2>F?l.Above:l.Below,O|=W.left+N/2>U?l.LeftOf:l.RightOf,W.top+B/3<F&&W.top+B/3*2>F&&(O|=l.VerticalMiddle),W.left+N/3<U&&W.left+N/3*2>U&&(O|=l.HorizontalMiddle),O}function P(A,R){if(!A)return!0;var B=function(A){return A.attr(S)}(A);return R.indexOf(B)>=0}var D="DragScrollHandler",w="DropEventHandled",M="DropTarget"},646966:function(ve,j,e){e.d(j,{Xp:function(){return l},kx:function(){return t},uG:function(){return g}});var r=e(110159),i=e(418431),a=e(293607),t={type:r.u.Visual,name:"visualThemeChanged"};function l(n){return null!=n.composed&&null!=n.repeat&&(!n.composed||n.repeat&&(n.keyCode===i.mW.ctrlKeyCode||(0,a.SF)(n.keyCode)))}function g(n){return!$(n.target).is(i.$U)&&!$(n.target).is(i.CA)}},45552:function(ve,j,e){function r(n){}function i(n,p=!1){try{if(!n)return;var s=n.stack;if(!s)return;var d=s.indexOf("\n");return-1===d?void 0:(s=s.substring(d+1),p&&(s=s.replace(/\s*((ms-pbi|https):\/\/\S*|\(.*?\))/g,o=>{var v=o.match(/([\w\.-]+\.(js|html)(:\d+:\d+)?)/);return null!=v?` (${v[1]})`:""})),s)}catch{return"Error at cleanExceptionStack"}}function a(n){try{if(n instanceof TypeError||n instanceof ReferenceError||"ChunkLoadError"===n.name)return n.message;if(n)return`Error of type ${n.name} had a ${n.message?.length} characters long message`}catch{return"Error at cleanExceptionMessage"}}function t(n,p,s,d){if(!(s instanceof Error))try{throw new Error(`Error wrapper for thrown object: ${JSON.stringify(s)}`)}catch(m){s=m}if(!s.rejection||!(s.rejection.clientError&&s.rejection.clientError.ignorable||s.rejection.ignorable)){var o=s.message,v=s.stack;try{d?n.logChildEvent(d.event,p,{stack:v,message:o}):n.logEvent(p,{stack:v,message:o})}catch(m){}}}e.d(j,{CX:function(){return a},If:function(){return t},_h:function(){return r},bL:function(){return i}})},442086:function(ve,j,e){e.d(j,{M:function(){return t}});var r=e(418431),i=e(29215),a=e(878735);class t{constructor(g=a.e.Group){this.focusNavMode=g}findNext(g,n=!0,p=!1){var s=this.getDomWalker(n),d=g.getAttribute(i.Qt);return d===a.e.Group||d===a.e.Browser||p?this.traverseDown(g,s):this.searchFocusElement(g,s)}searchFocusElement(g,n){var p=this.traverseForward(n.getNextSibling(g),n);return p||(g.parentElement&&g.parentElement.getAttribute(i.Qt)!==this.focusNavMode?p=this.searchFocusElement(g.parentElement,n):g.parentNode&&g.parentNode.nodeType===Node.ELEMENT_NODE&&g.parentNode.getAttribute(i.Qt)!==this.focusNavMode&&(p=this.searchFocusElement(g.parentNode,n))),p}traverseForward(g,n){var p;if(g)return(0,i.Wq)(g)?g:(null==g.getAttribute(r.Rh)&&(p=this.traverseDown(g,n)),p||(p=this.traverseForward(n.getNextSibling(g),n)),p)}traverseDown(g,n){if(g&&g.getAttribute(i.Qt)!==a.e.Skip)return this.traverseForward(n.getNextChild(g),n)}getDomWalker(g){return g?{getNextSibling:n=>n.nextElementSibling,getNextChild:n=>_.isEmpty(n.children)?n.hasChildNodes()?this.getNextChildNodes(n,g):void 0:n.children[0]}:{getNextSibling:n=>n.previousElementSibling,getNextChild:n=>_.isEmpty(n.children)?n.hasChildNodes()?this.getNextChildNodes(n,g):void 0:n.children[n.children.length-1]}}getNextChildNodes(g,n){var p=g.childNodes,s=p.length,d=n?1:-1,o=n?0:s-1;do{var v=p[o];if(v&&v.nodeType===Node.ELEMENT_NODE)return v;o+=d}while(o>=0&&o<s)}}},75178:function(ve,j,e){e.d(j,{m:function(){return p}});var r=e(418431),i=e(442086),a=e(29215),t=e(878735),l=e(751921),g=e(925673);class n{constructor(d){this.groupElement=d}findNext(d,o=!0){var C,v=d===this.groupElement?-1:this.getTabIndex(d),m=d!==this.groupElement&&!isNaN(v),c=o?1/0:0;return m||(v=o?-1:1/0),this.buildTabOrderMany([].slice.call(this.groupElement.children)).forEach(S=>{var h=this.getTabIndex(S.elem);isNaN(h)||(o?h>v&&h<=c:h<v&&h>=c)&&(c=h,C=S.elem)}),C}getTabIndex(d){return parseFloat(d.getAttribute(a.GY))}buildTabOrderMany(d){var o=[];return d.forEach(v=>{null==v.getAttribute(r.Rh)&&(o=_.concat(o,this.buildTabOrders(v)))}),o}buildTabOrders(d){var o=this.getTabIndex(d);return isNaN(o)?this.buildTabOrderMany([].slice.call(d.children)):[{tabOrder:o,elem:d}]}}class p{constructor(d=!1){this.skipCyclicNavigation=d}get name(){return t.e.Group}shouldHandleFocus(d,o){return!$.contains(o,l.M.getTabbableParent(d,o))}findNextElementToFocus(d,o){var v=p.getGroupNavigationElement(d);switch(o.keyCode){case r.mW.rightArrowKeyCode:case r.mW.downArrowKeyCode:if(p.groupElementSupportsArrows(v)&&!p.canHandleKeyEvents(d))return p.getFocusNextElement(!0);break;case r.mW.upArrowKeyCode:case r.mW.leftArrowKeyCode:if(p.groupElementSupportsArrows(v)&&!p.canHandleKeyEvents(d))return p.getFocusNextElement(!1);break;case r.mW.tabKeyCode:if(!l.M.isElementContentEditable(d))return p.getFocusNextElement(!o.shiftKey,void 0,this.skipCyclicNavigation);break;case r.mW.escKeyCode:return l.M.getTabbableParent(document.activeElement);case r.mW.enterKeyCode:if(v&&null!=v.getAttribute(a.tu))return l.M.getFirstTabbableChild(document.activeElement)}}static getFocusNextElement(d,o=null,v=!1){var m=document.activeElement;if(o=o||p.getFirstFocusableParent(m)){var C,y,c=p.getGroupNavigationElement(o);if(c&&null!=c.getAttribute(a.tu))y=(C=new n(c)).findNext(o,d);else{var S=(0,g.XC)(o)||(0,g.vI)(o);S&&(y=(C=new g.Pp).findNext(o,d)),(!y||!S)&&(y=(C=new i.M).findNext(o,d))}if(y)return y;if(o.getAttribute(a.Qt)!==t.e.Group&&!v){var h=p.getParentGroupElement(o);return h?C.findNext(h,d):void 0}}}static getGroupNavigationElement(d){var o=d.getAttribute(a.Qt);return o&&o===t.e.Group?d:p.getParentGroupElement(d)}static getFirstFocusableParent(d){if(!d)return null;if((0,a.Wq)(d)||d.getAttribute(a.Qt)===t.e.Group)return d;for(var o=d.parentElement||d.parentNode&&d.parentNode.nodeType===Node.ELEMENT_NODE?d.parentNode:null;o;){if((0,a.Wq)(o)||o.getAttribute(a.Qt)===t.e.Group)return o;o=o.parentElement||o.parentNode&&o.parentNode.nodeType===Node.ELEMENT_NODE?o.parentNode:null}return o}static getParentGroupElement(d){return $(d).parents(a.yk).get(0)}static canHandleKeyEvents(d){return l.M.isElementContentEditable(d)||l.M.isTextElement(d)}static groupElementSupportsArrows(d){return!d||null==d.getAttribute(a.tu)||null==d.getAttribute(a.CA)}}},751921:function(ve,j,e){e.d(j,{M:function(){return r}});var r={isElementContentEditable:i=>$(i).closest("[contentEditable]").length>0,isTextElement(i){if($(i).is(":disabled"))return!1;var a=i.nodeName.toLowerCase();return i.nodeType===Node.ELEMENT_NODE&&("textarea"===a||"select"===a||"input"===a&&/^(?:text|email|number|search|tel|url|password)$/i.test(i.type))},contains:(i,a)=>!!(a.compareDocumentPosition(i)&Node.DOCUMENT_POSITION_CONTAINS),getFirstMatchingAncestor(i,a,t,l=!0){var g=i;if(g!==(t=t||document.body)||l&&a(g))for(!l&&i&&(g=g.parentElement||g.parentNode||void 0);g&&g!==document.body&&g.nodeType===Node.ELEMENT_NODE;){if(a(g))return g;if(g===t)break;g=g.parentElement||g.parentNode||void 0}},isElementTabbable:i=>!0===$(i).is(":tabbable"),getTabbableParent(i,a){return a=a||document.body,this.getFirstMatchingAncestor(i,this.isElementTabbable,a,!1)},getFirstTabbableChild(i){return this.getTabbableChildren(i)[0]},getTabbableDescendants:i=>$(i).find(":tabbable").get(),getTabbableChildren(i){return _.filter(this.getTabbableDescendants(i),a=>!$.contains(i,this.getTabbableParent(a,i)))},getTabbableSiblingsMatch(i,a,t=document.body){var l=r.getTabbableSiblings(i,t);return _.filter(l,a)},getNextTabbableMatchingSibling(i,a,t){t=t||document.body;var l=this.getTabbableSiblingsMatch(i,a,t);if(l.length>0)return l[0]},getPrevTabbableMatchingSibling(i,a,t){t=t||document.body;var l=this.getTabbableSiblingsMatch(i,a,t);if(l.length>0)return l[l.length-1]},getTabbableSiblings(i,a){a=a||document.body;var t=this.getTabbableParent(i,a);if((!t||a&&$.contains(t,a))&&(t=a),t){var l=this.getTabbableChildren(t),g=[],n=0;for(var p of l)p===i||this.contains(i,p)?n=0:g.splice(n++,0,p);return g}return[]},getNextTabbableSibling(i,a){return a=a||document.body,this.getTabbableSiblings(i,a)[0]},getPrevTabbableSibling(i,a){a=a||document.body;var t=this.getTabbableSiblings(i,a);return t[t.length-1]},isElementVisible:i=>$(i).is(":visible"),getParentFocusElement:i=>$(i).parents(":tabbable:first").get(0)}},925673:function(ve,j,e){e.d(j,{Pp:function(){return t},Sn:function(){return l},XC:function(){return n},vI:function(){return g}});var r=e(29215),i=e(878735),a=e(751921);class t{constructor(C=i.e.Group){this.focusNavMode=C}findNext(C,y=!0,S=!0,h=!1){var E;if(h||n(C))(E=this.getFirstActiveChild(C))||(E=this.getNextTabOrderChild(C,y,d(y)));else if(g(C))E=this.getNextTabOrderSibling(C,y,S);else if(null!=C.getAttribute(r.QW)){var u=function(c,C){var y=$(c).closest(`[${C}]`);return y&&y.get(0)}(C,r.qs);E=this.getNextTabOrderSibling(u,y,S)}return E}getNextTabOrderSibling(C,y,S){var f,h=C.getAttribute(r.qs),E=parseFloat(h);if(!isNaN(E)){var b=function(c,C){var y=C===i.e.HierarchicalTabOrder?r.O:r.yk;return $(c).parents(y)[0]}(C,this.focusNavMode);if(!b)return;!(f=this.getNextTabOrderChild(b,y,E))&&S&&(f=this.getNextTabOrderChild(b,y,d(y)))}return f}getFirstActiveChild(C){var y;return $(C).find(`[${r._f}]`).each((h,E)=>{p(E)&&(y=E)}),y}getNextTabOrderChild(C,y,S){var h,E,u=$(C).find(`[${r.qs}]`);return this.focusNavMode===i.e.HierarchicalTabOrder&&(u=u.filter((f,b)=>a.M.getTabbableParent(b)===C)),u.each((f,b)=>{var V=l(b);p(b)?h=b:a.M.isElementTabbable(b)&&(y?V<S:V>S)&&(void 0===h&&void 0===E||(y?V>E:V<E))&&(E=V,h=b)}),h}}function l(c){if(c.hasAttribute(r.qs))return parseFloat(c.getAttribute(r.qs))}function g(c){return null!=c.getAttribute(r.qs)}function n(c){return null!=c.getAttribute(r.T0)}function p(c){return null!=c.getAttribute(r._f)}function d(c){return c?10000001:-10000001}},878735:function(ve,j,e){e.d(j,{e:function(){return r}});var r=function(i){return i.Browser="Browser",i.Hierarchy="Hierarchy",i.Group="Group",i.HierarchicalTabOrder="HierarchicalTabOrder",i.Skip="Skip",i}({})},29215:function(ve,j,e){e.d(j,{BZ:function(){return i},CA:function(){return v},GY:function(){return o},O:function(){return c},QW:function(){return d},Qt:function(){return l},T0:function(){return g},Wq:function(){return t},_f:function(){return s},n8:function(){return a},qs:function(){return p},tu:function(){return n},yk:function(){return m}});var r=e(878735),i="focusManager_focus",a="focusManager_focusOn";function t(C){return!0===$(C).is(":tabbable")&&!1===$(C).is(":disabled")}var l="focus-nav-mode",g="tab-order-enabled",n="tab-order-recursive-enabled",p="tab-order",s="tab-active",d="tab-order-child",o="tabindex",v="skip-arrow-navigation",m=`[${l}="${r.e.Group}"]:first`,c=`[${l}="${r.e.HierarchicalTabOrder}"]:first`},892110:function(ve,j,e){e.d(j,{IK:function(){return c},M0:function(){return b}});var r=e(418431),i=e(149222),a=e(169227),t=e(75178),l=e(751921),g=e(878735);class n{get name(){return g.e.Hierarchy}shouldHandleFocus(){return!0}findNextElementToFocus(T,P,D){switch(P.keyCode){case r.mW.tabKeyCode:if(l.M.isElementContentEditable(T))return;var w=l.M.getTabbableChildren(D),M=l.M.getTabbableParent(T,D)===D;if(P.shiftKey){if(w.length>0&&(T!==w[0]||M))return l.M.getPrevTabbableSibling(T,D)}else{if(w.length>0&&(T!==w[w.length-1]||M))return l.M.getNextTabbableSibling(T,D);var A=l.M.getTabbableDescendants(D);if(A.length>0)return void A[A.length-1].focus()}break;case r.mW.escKeyCode:if(T!==D)return l.M.getTabbableParent(T);break;case r.mW.enterKeyCode:return l.M.getFirstTabbableChild(T)}}}var p=e(442086),s=e(29215),d=e(925673);class o{get name(){return g.e.HierarchicalTabOrder}shouldHandleFocus(T){return!l.M.isElementContentEditable(T)}findNextElementToFocus(T,P){var M,D=T.hasAttribute(s.T0),w=T.getAttribute(s.Qt)===g.e.HierarchicalTabOrder;switch(P.keyCode){case r.mW.rightArrowKeyCode:case r.mW.downArrowKeyCode:M=o.getFocusNextElement(T,!0,D);break;case r.mW.upArrowKeyCode:case r.mW.leftArrowKeyCode:M=o.getFocusNextElement(T,!1,D);break;case r.mW.tabKeyCode:M=o.getFocusNextElement(T,!P.shiftKey,D);break;case r.mW.escKeyCode:M=l.M.getTabbableParent(document.activeElement);break;case r.mW.enterKeyCode:M=w?o.getFocusNextElement(T,!0,!0):void 0}return M}static getFocusNextElement(T,P,D){var A,w=T.hasAttribute(s.T0);if((void 0!==(0,d.Sn)(T)||w)&&(A=new d.Pp(g.e.HierarchicalTabOrder).findNext(T,P,!0,D)),!A){var B=new p.M(g.e.HierarchicalTabOrder);if(!(A=B.findNext(T,P,D))&&!D){var N=$(T).parents(s.O)[0];A=B.findNext(N,P,!0)}}return A}}var v="return-focus-element-attribute",m=0,c=(()=>{class V{constructor(){this.registeredElements=[],this.shortcutContainer=new b}get keyboardFocused(){return V.keyboardFocused}set keyboardFocused(P){V.keyboardFocused=P}static getInstance(){return this._instance||(this._instance=new V)}register(P,D=!1,w=!1){var M=[new t.m(w),new n,new o],A=N=>this.handleKeyPress(N,D,M);_.includes(this.registeredElements,P)||(P.addEventListener("keydown",A),this.registeredElements.push(P));var R=_.find(this.registeredElements,P);return()=>{R.removeEventListener("keydown",A),_.pull(this.registeredElements,P)}}registerShortcut(P){this.shortcutContainer.add(P)}unregisterShortcut(P){this.shortcutContainer.remove(P)}static focusChildInGroup(P,D){var w=P.getAttribute(s.Qt)===g.e.Group?P:$(P).find(s.yk).get(0);w&&V.focus(t.m.getFocusNextElement(!0,w),D)}static focusChildInCanvas(P){var w=P.getAttribute(s.Qt)===g.e.HierarchicalTabOrder?P:$(P).find(s.O)[0];w&&V.focus(o.getFocusNextElement(w,!0,!0))}static focus(P,D=!0){if(P){var w=document.activeElement;a.l.setTimeout(()=>{i.M.focus(P),$(P).triggerHandler(s.n8,w),$(P).trigger(s.BZ,w),D&&(V.keyboardFocused=!0,$("html").attr("data-focus-source","key")),P&&$(P).removeAttr(s._f)})}}focus(P,D=!0){V.focus(P,D)}focusOnGroupByIndex(P,D,w,M,A){this.shortcutContainer.handleByPriority(P,D,w,M,A)}static setFocusOnPreviousElementOnDestroy(P,D,w){var M;return P.on(s.BZ,(A,R)=>{A.stopPropagation(),R&&(!D||void 0===M)&&!$.contains(P[0],R)&&(M=m++,R.setAttribute(v,M.toString()))}),()=>{var A=document.activeElement;if(void 0!==M){var R=document.documentElement.querySelector(`[${v}="${M}"]`);R&&$(R).closest(document.documentElement)&&(!w||$.contains(P[0],A))&&V.focus(R,!1)}}}handleKeyPress(P,D,w){if(this.handleShortcut(P))return P.stopPropagation(),void P.preventDefault();var M=document.activeElement;if(M){for(var A,N,R=l.M.getFirstMatchingAncestor(M,W=>W.hasAttribute(s.Qt),document.body),B=function(){var W=R.getAttribute(s.Qt);if(W===g.e.Browser)return{v:void 0};var F=_.find(w,U=>U.name===W);if(F&&F.shouldHandleFocus(M,R)&&(A=F.findNextElementToFocus(M,P,R)),A)return 0;R=l.M.getFirstMatchingAncestor(R,U=>U.hasAttribute(s.Qt),document.body,!1)};R&&R!==document.body&&0!==(N=B());)if(N)return N.v;A&&V.focus(A),D&&P.stopPropagation(),A&&P.keyCode!==r.mW.enterKeyCode&&P.keyCode!==r.mW.spaceKeyCode&&(P.stopPropagation(),P.preventDefault())}}handleShortcut(P){return this.shortcutContainer.handle(P)}focusNextElement(P){V.focus(t.m.getFocusNextElement(!0,P))}}return V.keyboardFocused=!1,V})(),h=function(V){return V[V.SHIFT=512]="SHIFT",V[V.CTRL=1024]="CTRL",V[V.ALT=2048]="ALT",V}({});class b{constructor(){this.shortcuts=[],this.scopedShortcuts=[]}add(T){var P=this.getKeyCode(T.keycode,T.shift,T.alt,T.ctrl),D=T.scoped?this.scopedShortcuts:this.shortcuts;D[P]&&!_.find(D[P],w=>$(w.element).is(T.element))?D[P].push(T):_.isEmpty(this.shortcuts[P])&&(D[P]=[T])}remove(T){var P=this.getKeyCode(T.keycode,T.shift,T.alt,T.ctrl);_.remove((T.scoped?this.scopedShortcuts:this.shortcuts)[P],w=>$(w.element).is(T.element))}handle(T){if(T.keyCode>256)return!1;var P=i.M.isCtrlOrMeta(T),D=this.getKeyCode(T.keyCode,T.shiftKey,T.altKey,P),w=T.shiftKey&&P&&1653===D,M=this.findScopedShortcut(D);if(!M){var A=this.filterGroups(this.shortcuts[w?1141:D]);if(_.isEmpty(A))return!1;M=this.getNextShortcutElementToFocus(A,void 0,w)}return!!M&&(this.focusOnGroup(M),!0)}handleByPriority(T,P,D,w,M){this.focusOnGroup(this.getNextShortcutElementToFocus(this.filterGroups(this.shortcuts[this.getKeyCode(T,P,D,w)]),M))}focusOnGroup(T){T.getAttribute(s.Qt)===g.e.HierarchicalTabOrder?c.focus(o.getFocusNextElement(T,!0,!0)):c.focus(t.m.getFocusNextElement(!0,T))}getKeyCode(T,P,D,w){var M=T;return P&&(M|=h.SHIFT),w&&(M|=h.CTRL),D&&(M|=h.ALT),M}filterGroups(T){return _.filter(T,P=>{var D=l.M.isElementVisible(P.element);return P.element.getAttribute(s.Qt)===g.e.HierarchicalTabOrder?D&&!!o.getFocusNextElement(P.element,!0,!0):D&&!!t.m.getFocusNextElement(!0,P.element)})}static getFocusPriority(T,P=!0){if(T){var D=T.getAttribute("focus-priority");if(null!=D)return parseInt(D,10);if(null!=T.parentElement&&P)return this.getFocusPriority(T.parentElement)}}getFocusPriority(T,P=!0){return b.getFocusPriority(T,P)}findScopedShortcut(T){var P=document.activeElement,D=this.findExtendedScope(P),M=this.filterGroups(this.scopedShortcuts[T]);if(!_.isEmpty(M)&&P)for(var A of M)if(A&&($(P).is(A.element)||$.contains(P,A.element)||D&&($(D).is(A.element)||$.contains(D,A.element))))return A.element}findExtendedScope(T){for(var P=T;P;){if(P.attributes.getNamedItem("extended-shortcut-scope"))return P;P=P.parentElement}}findCurrentFocusedShortcutElement(T){if(document.activeElement)for(var P=document.activeElement;P;){if(P.getAttribute("keyboard-shortcuts")===T)return P;P=P.parentElement}}getNextShortcutElementToFocus(T,P,D=!1){var w=(T=_.sortBy(T,W=>W.focusPriority))[0];if(document.activeElement&&T.length>1)for(var M=null==P?this.findCurrentFocusedShortcutElement(w.shortcutString):null,A=0;A<=T.length-1;A++){var R=T[A];if(null!=P&&P>(R.focusPriority||-1)||M&&$(M).is(R.element)){w=T[(D?0===A?T.length-1:A-1:A+1)%T.length];break}}return w?.element}}},876193:function(ve,j,e){e.d(j,{U:function(){return i}});var r=e(110159),i={LuciaDomainModelChangedEvent:{type:r.u.Global,name:"LuciaDomainModelChangedEvent"},QnaSettingsChangedEvent:{type:r.u.Global,name:"QnaSettingsChangedEvent"},ReportContentsReplacedEvent:{type:r.u.Global,name:"ReportContentsReplacedEvent"},ModelChangedEvent:{type:r.u.Global,name:"ModelChangedEvent"},SignInStatusChangedEvent:{type:r.u.Global,name:"SignInStatusChangedEvent"},WindowStateChangedEvent:{type:r.u.Global,name:"WindowStateChangedEvent"},UpdateAvailableEvent:{type:r.u.Global,name:"UpdateAvailableEvent"},SelectedSensitivityLabelChangedEvent:{type:r.u.Global,name:"SelectedSensitivityLabelChangedEvent"},OpenFileMenuEvent:{type:r.u.Global,name:"OpenFileMenuEvent"}}},516655:function(ve,j,e){e.d(j,{E8:function(){return t},IH:function(){return l},Od:function(){return n},S_:function(){return g},Z8:function(){return v},eR:function(){return m},pB:function(){return d},ru:function(){return o},sE:function(){return a},uh:function(){return s}});var r=e(990297),i=e(650543);function a(E,u){var f;if(E&&u)return y(E,u,(b,V,T)=>(f=V,b)),f}function t(E,u){var f;return y(E.name,u,(b,V,T)=>(f=b,b)),f}function l(E,...u){return[...E||[],...u||[]]}function g(E,u,f){return y(u.name,f,(b,V,T)=>{if(!h(V))return i.f.assertFail("should find group item"),b;var P=V.clone?V.clone():_.clone(V);for(var D of(P.children=[...V.children||[],E],P.children))D.parentGroup=P;return(0,r.UU)(b,w=>w===V?P:w)})}function n(E,u,f=!0){return u=y(E.name,u,(b,V,T)=>(0,r.Rl)(b,P=>V!==P)),f&&(u=C(u)),u}function s(E,u){return C(E=S(E,f=>(0,r.Rl)(f,b=>!u(b))))}function d(E,u,f,b){return E.forEach(V=>V.parentGroup=void 0),f=function(E,u,f=!0){return u=S(u,b=>{var V=_.differenceWith(b,E,(T,P)=>T.name===P.name);return V.length===b.length?b:V}),f&&(u=C(u)),u}(E,f,!1),C(f=y(u.name,f,(V,T,P)=>(0,r.x)(V,D=>D===T?b?[D,...E]:[...E,D]:[D])))}function o(E,u){for(var f of E.children)f.parentGroup=E;return u=function(E,u,f){return S(f,b=>(0,r.x)(b,V=>V===E[0]?[u]:_.includes(E,V)?[]:[V]))}(E.children,E,u),C(u)}function v(E,u){for(var f of E.children)f.parentGroup=void 0;return y(E.name,u,(b,V,T)=>(0,r.x)(b,P=>P===E?E.children:[P]))}function m(E,u,f){var b=f||[];for(var V of E)h(V)?b=m(V.children,u,b):u(V)&&(b=[...b||[],V]);return b}function C(E){return S(E,u=>(0,r.Rl)(u,f=>!h(f)||!_.isEmpty(f.children)))}function y(E,u,f){i.f.assertValue(u,"itemGrouping - itemList"),i.f.assertValue(E,"itemGrouping - targetName"),i.f.assertValue(f,"itemGrouping - callback");for(var V,b=function(){var P=u[T];if(P.name===E)return{v:f(u,P,T)};if(h(P)){var D=y(E,P.children,f);if(D!==P.children){var w=P.clone?P.clone():_.clone(P);for(var M of(w.children=D,w.children))M.parentGroup=w;return{v:(0,r.UU)(u,A=>A===P?w:A)}}}},T=0;T<u.length;T++)if(V=b())return V.v;return u}function S(E,u){i.f.assertValue(E,"itemGrouping - itemList"),i.f.assertValue(u,"itemGrouping - callback");var f=function(V){if(h(V)){var T=S(V.children,u);if(T!==V.children){var P=V.clone?V.clone():_.clone(V);for(var D of(P.children=T,P.children))D.parentGroup=P;E=(0,r.UU)(E,w=>w===V?P:w)}}};for(var b of E)f(b);return E=u(E)}function h(E){return void 0!==E.children}},789861:function(ve,j,e){e.d(j,{Ue:function(){return g}});var l,r=e(650543),i=e(858859),a=e(844668);class t{constructor(p){this.element=document.createElement("textarea"),this.element.style.position="absolute",this.element.style.left="-9999px"}copyText(p,s,d){var o;r.f.assertValue(p,"copyText didn't get a value"),"string"==typeof p?o=p:"function"==typeof p?o=p():r.f.assertNever(p),this.copyToClipboard(o),this.logTelemetry(s,a.lb.Value,d)}copyGrid(p,s,d){r.f.assertValue(p,"copyGrid didn't get a value");var{grid:o,coveragePercentage:v}=p(),m=[];if(!_.isEmpty(o))for(var c of o)_.isEmpty(c)||m.push(_.map(c,C=>null==C?"":this.removeBreaks(C)).join("\t"));this.copyToClipboard(m.join("\n")),this.logTelemetry(s,a.lb.Selection,d,v)}removeBreaks(p){return p.replace(new RegExp("\t","g")," ").replace(new RegExp("\r\n","g")," ").replace(new RegExp("\n","g")," ")}copyToClipboard(p){this.element.value=p,document.body.appendChild(this.element);var s=document.activeElement;this.element.select(),document.execCommand("copy"),document.body.removeChild(this.element),s&&s.focus()}logTelemetry(p,s,d,o){p&&p.logEvent(i.YG,{copyType:s,visualType:d||"(unknown)",copySelectionPercentage:o||0})}}function g(){return l||(l=new t),l}},858859:function(ve,j,e){e.d(j,{A_:function(){return Q},BP:function(){return G},Bf:function(){return te},Fd:function(){return J},Ir:function(){return V},Lj:function(){return W},O2:function(){return P},U2:function(){return Ee},Wj:function(){return A},YG:function(){return ft},ZX:function(){return Ve},ap:function(){return Ke},c5:function(){return ke},d3:function(){return N},eb:function(){return Se},fM:function(){return o},jj:function(){return m},lu:function(){return X},mN:function(){return B},py:function(){return se},rH:function(){return x},ry:function(){return we},u3:function(){return w},xt:function(){return E},zh:function(){return Ue}});var r=e(641409),i="BaseEvent",t=(r.cx[i]=(0,r.b1)(i),"TimedEvent"),g=(r.cx[t]=(0,r.b1)(t),"Verbose"),p=(r.cx[g]=(0,r.b1)(g),"VerboseTimedEvent"),d=(r.cx[p]=(0,r.b1)(p),"Trace"),o=r.cx[d]=(0,r.b1)(d),v="Error",m=r.cx[v]=(0,r.b1)(v),c="ErrorWithStackTrace",y=(r.cx[c]=(0,r.b1)(c),"ErrorWithStackTraceAndSourceDetails"),h=(r.cx[y]=(0,r.b1)(y),"LLMEncodingError"),E=r.cx[h]=(0,r.b1)(h),u="CustomerAction",b=(r.cx[u]=(0,r.b1)(u),"PBI.Dashboard.RootSession"),V=r.cx[b]=(0,r.b1)(b),T="PBI.WFE.Error",P=r.cx[T]=(0,r.b1)(T),D="PBI.Dashboard.ErrorDialog",w=r.cx[D]=(0,r.b1)(D),M="PBI.Dashboard.UnhandledAngularException",A=r.cx[M]=(0,r.b1)(M),R="PBI.Data.Exception",B=r.cx[R]=(0,r.b1)(R),N="PBI.Visual.Exception",W=r.cx[N]=(0,r.b1)(N),F="PBI.Dashboard.UnhandledException",O=(r.cx[F]=(0,r.b1)(F),"PBI.HandledException"),x=r.cx[O]=(0,r.b1)(O),I="PBI.Dashboard.ReportTilePopulateException",K=(r.cx[I]=(0,r.b1)(I),"PBI.Dashboard.UnhandledStacklessException"),H=(r.cx[K]=(0,r.b1)(K,{logRatio:1e-4}),"PBI.Visual.Error"),J=r.cx[H]=(0,r.b1)(H),k="PBI.WFE.ReopenUserAccount",G=r.cx[k]=(0,r.b1)(k),q="PBI.WFE.AccountClosedPage",Q=r.cx[q]=(0,r.b1)(q),Z="PBI.WFE.AbtSignoutRedirectPage",X=r.cx[Z]=(0,r.b1)(Z),re="PBI.Visual.Warning",te=r.cx[re]=(0,r.b1)(re),se="PBI.Visual.ApiUsage",Ve=r.cx[se]=(0,r.b1)(se),ke="PBI.Visual.CustomVisualsGenericEvent",Ue=r.cx[ke]=(0,r.b1)(ke),ot="PBI.EX.CopyActionClicked",ft=r.cx[ot]=(0,r.b1)(ot),Ct="StartActivity",Ke=r.cx[Ct]=(0,r.b1)(Ct),Ae="EndActivity",we=r.cx[Ae]=(0,r.b1)(Ae),Ne="PBI.App.SignInError",Se=r.cx[Ne]=(0,r.b1)(Ne),Ie="PBI.App.TokenRefreshError",Oe=(r.cx[Ie]=(0,r.b1)(Ie),"PBI.Storytelling.BrowserNotSupportedLoaded"),Ee=r.cx[Oe]=(0,r.b1)(Oe)},158501:function(ve,j,e){e.d(j,{MI:function(){return t},NN:function(){return g},Ob:function(){return n},fl:function(){return p},sV:function(){return l},zK:function(){return a}});var r=e(882924),i=e(264431);function a(s){return!!s&&s.getProperty("name")===r.R.OpenReport}function t(s){return!!s&&s.getProperty("name")===r.R.ChangeReportPage}function l(s,d){return d&&g(s,d.getProperty("parent"))}function g(s,d){for(;d;){if(s(d))return d;d=d.parent}}class n{constructor(d){this.keepAlive=d?.keepAlive()}cancel(){this.keepAlive?.cancel()}resolve(){this.keepAlive?.resolve()}reject(d){this.keepAlive?.reject(d)}}class p extends i.sH{constructor(d,o){super(d),this.level=o}}},844668:function(ve,j,e){e.d(j,{Dp:function(){return i},lb:function(){return a},zH:function(){return r}});var r=function(t){return t.PowerBI="PowerBI",t.External="External",t.User="User",t}({}),i=function(t){return t.Master="Master",t.PhonePortrait="PhonePortrait",t}({}),a=function(t){return t.Value="Value",t.Selection="Selection",t.VisualContract="VisualContract",t}({})},283960:function(ve,j,e){e.d(j,{E1:function(){return p},JS:function(){return n},UE:function(){return s},VR:function(){return o}});var r=e(74048),i=e(650543),a=e(695795),t=e(424092),l=e(858859),g="v2",n=function(v){return v[v.None=0]="None",v[v.Start=1]="Start",v[v.End=2]="End",v[v.StartAndEnd=3]="StartAndEnd",v}({}),p=function(v){return v[v.Awaited=0]="Awaited",v[v.FireAndForget=1]="FireAndForget",v}({});function s(v,m=n.StartAndEnd,c=p.Awaited){return(C,y,S)=>{i.f.assertValue(C,"target"),i.f.assertValue(y,"propertyKey");var h=S.value;return S.value=function(...E){i.f.assert(()=>!_.isEmpty(v),"eventName"),i.f.assert(()=>m!==n.None,"activityAction");for(var u=(0,t.jO)();!(u===window.top||u.featureSwitchService&&u.telemetryService);)u=u.parent;var T,f=u.featureSwitchService,b=u.telemetryService,V=!1;if(f&&f.isFeatureSwitchesRegistered()&&f.featureSwitches&&f.featureSwitches.telemetryV2&&b||(V=!0),V)return T=h.apply(this,E);var P=Zone&&Zone.current,D=P&&P.get("data"),w=D&&D.monitoredActivity;(0,a.yE)(m,n.Start)&&(w=b.startMonitoredActivity(w,v,{baseVersion:g,isFireAndForget:c===p.FireAndForget||void 0}),P=w.currentZone),i.f.assertValue(P,"currentZone");try{P.run(()=>T=h.apply(this,E))}catch(M){if((0,a.yE)(m,n.End))return void d(w,M);throw M}return(0,a.yE)(m,n.End)&&(i.f.assert(()=>P.name===v,"Event name should be same as the current zone name"),T&&_.isObject(T)&&T.then&&_.isFunction(T.then)?T.then(()=>{d(w)},M=>{d(w,M)}):(i.f.assertValue(w,"Decorated method called without a start action"),d(w))),T},S}}function d(v,m){i.f.assertValue(v,"Decorated method called without a start action"),v&&(m?v.reject(m):v.resolve())}function o(v,m,c){return function(C,y,S){i.f.assertValue(C,"target"),i.f.assertValue(y,"propertyKey");var h=S.value,E=S.value.length,u=E-1;return S.value=function(...f){var b=f.length,V={},P=E>b;(m&&!P||c&&c>=b)&&i.f.assertFail("Wrong use of the decorator, check documentation in decorators.ts.`"),f=m&&P?f.concat([...Array(u-f.length),O=>{V.telemetryServiceArgs=O.telemetryServiceArgs,V.activityAttributesArgs=O.activityAttributesArgs}]):f;for(var w=this.proxy?.plugin?.name,M=c&&c<b?f[c]:w||"",A=(0,t.jO)();!(A===window.top||A.telemetryService&&A.certifiedEventsService);)A=A.parent;var R=A.telemetryService,B=A.certifiedEventsService,N=(O,x={})=>{B?.logStandardizedFeatureEvent({visualId:M,correlationId:R?.root?.id,activityName:l.c5,activityAttributes:{...x,apiName:v},activityStatus:O})},W=(O,x,I)=>{R?.logEvent(l.zh,{apiName:v,visualType:M,errorOccurred:O,reason:I,additionalInfo:x})};try{var F=h.apply(this,f);if(F&&_.isObject(F)&&F.then&&_.isFunction(F.then))return F.then(O=>{var x=m?JSON.stringify(V.telemetryServiceArgs):void 0;return W(!1,x),N(r.f.Succeeded,V.activityAttributesArgs),O},O=>{var x=m?JSON.stringify(V.telemetryServiceArgs):void 0;throw W(!0,x,O),N(r.f.Failed,V.activityAttributesArgs),O});var U=m?JSON.stringify(V.telemetryServiceArgs):void 0;return W(!1,U),N(r.f.Succeeded,V.activityAttributesArgs),F}catch(O){throw W(!0,void 0,O),N(r.f.Failed),O}},S}}},177878:function(ve,j,e){e.d(j,{GB:function(){return d},MQ:function(){return n},Qf:function(){return g},W2:function(){return v},Wk:function(){return p},aK:function(){return o},oG:function(){return c},zg:function(){return m}});var r=e(266218),i=e(877542),a=e(395918),t=e(121457),l=e(844668);function g(y){switch(y){case 2:return i.zH.External;case 1:return i.zH.User;default:return i.zH.PowerBI}}function n(y,S,h){var E=d(y,h);return E&&(E.errorMessage=S),E}function p(y,S){var h=d(y,S);return h&&(h.errorMessage=y.message),h}function d(y,S,h){if(y&&y.code){var E=y.code,u=y["pbi.error"]&&y["pbi.error"].exceptionCulprit;return null!=u?h?{errorCode:E,errorSource:C(u),requestId:h}:{errorCode:E,errorSource:C(u)}:function(y,S){return S===r.W.Unauthorized||S===r.W.Forbidden||S===r.W.TooManyRequests||y===a.TZ.Code||y===r.W.Unauthorized.toString()||y===r.W.Forbidden.toString()||y===r.W.TooManyRequests.toString()}(E,S)?h?{errorCode:E,errorSource:l.zH.User,requestId:h}:{errorCode:E,errorSource:l.zH.User}:h?{errorCode:E,errorSource:l.zH.PowerBI,requestId:h}:{errorCode:E,errorSource:l.zH.PowerBI}}if(null!=S){var f=S===r.W.TooManyRequests?l.zH.User:l.zH.PowerBI;return h?{errorCode:"HttpStatusCode = "+S,errorSource:f,requestId:h}:{errorCode:"HttpStatusCode = "+S,errorSource:f}}}function o(y,S){var h=d(y,S);if(h)return null!=S&&(S===r.W.BadRequest||S===r.W.Unauthorized||S===r.W.Forbidden||S===r.W.TooManyRequests||S===r.W.NotFound)&&(h.errorSource=l.zH.User),h}function v(y){if(y)return{errorCode:y.errorCode,errorMessage:"StatusCode="+y.statusCode,errorSource:null!=y.exceptionCulprit?c(y.exceptionCulprit):void 0}}function m(y){if(y){if(y.error)return y.error.code;if(y.status)return y.status.toString()}}function c(y){switch(y){case t.jV:return l.zH.External;case t.dB:return l.zH.User;default:return l.zH.PowerBI}}function C(y){switch(y){case 2:return l.zH.External;case 1:return l.zH.User;default:return l.zH.PowerBI}}},641409:function(ve,j,e){e.d(j,{cx:function(){return l},lG:function(){return d},Hi:function(){return C},b1:function(){return c},Gv:function(){return p},c3:function(){return h},H6:function(){return s},l1:function(){return y}});var r=e(650543),i=e(120694),a=e(301336),l={},g=a.b$.generateGuid,n=["sessionId","tenantObjectId","userObjectId","userId","isInternalUser","sessionSource"];function p(E){var f,V,u=0;if(0===E.length)return u;var T=E.toLowerCase();for(f=0,V=T.length;f<V;f++)u=(u<<5)-u+T.charCodeAt(f),u|=0;return u}function s(E){return p(E).toString()}function d(E,u,f){r.f.assertAnyValue(E,"requiredFields"),r.f.assertAnyValue(u,"optionalFields"),r.f.assertAnyValue(f,"target");var b=f||E||{};if(f&&E&&(f=function(E,u,f){if(E||u)return!E||u?E||!u?$.extend(E,u,f):u:E}(f,E)),u)for(var V in u)if(u.hasOwnProperty(V)){var T=u[V];void 0!==T&&!1!==T&&(b[V]=T)}return b}function c(E,u){return f=>({name:E,time:(0,i.z)(),id:g(),...u,info:f,formatted:()=>function(E,u,f){if(f){var b=[];for(var V in f){var T=u[f[V]];(void 0===T||!1===T)&&b.push(f[V])}u=_.omit(u,b)}return _.extend(E,u),E}({},f,u?.optionalParameters)})}function C(E,u){r.f.assert(()=>!_.isEmpty(E),"eventName"),r.f.assertValue(u,"info"),r.f.assertValue(Zone,"Zone");var f=Zone.current;if(f&&f.name===E){var b=f.get("data");if(b){for(var V of n)if(void 0!==u[V])throw new Error("Field '"+V+"' is restricted from override.");_.extend((b.monitoredActivity&&b.monitoredActivity.activityEvent).info,u)}else r.f.assertFail("No data field is stored in current zone")}else r.f.assertFail(`This method is expected to be used with ZoneJS and current Zone match the event name. event=${E}, currentZone=${f&&f.name}`)}function y(E,u,f){return E?E.run(()=>u.apply(f)):f?f.fn():u()}function S(E){return E&&!0===E.get("isAngularZone")}function h(E){for(var u=!1,f=E;f&&S(f);){if(f._zoneDelegate._taskCounts.microTask>0){u=!0;break}f=f.parent}return u}},131508:function(ve,j,e){e.d(j,{X:function(){return a}});var r=e(166746),i=function(t){return t[t.Member=0]="Member",t[t.Guest=1]="Guest",t}({});class a{static getFullName(){var l=(0,r.bG)();return l.givenName+" "+l.surname}static isInternalUser(){var l=(0,r.bG)();if(!l||!l.name)return!1;var g=l.name.toLowerCase();return g.indexOf("@microsoft.com")>=0||g.indexOf(".microsoft.com")>=0}static getUPN(){return(0,r.bG)().name}static getEmailAddressForReceivingMail(){var l=(0,r.bG)();return null==l?"":_.isEmpty(l.alternateEmail)?l.name:l.alternateEmail}static isEntraExternalUser(){var l=(0,r.bG)();return!!l&&!!l.idp&&l.idp!==l.iss}static userAccountStatus(){var l=(0,r.bG)();return l&&1===l.acct?i.Guest:i.Member}}},942617:function(ve,j,e){e.d(j,{N3:function(){return g},t7:function(){return n},xs:function(){return l}});var r=e(544175);function i(){var v=(0,r.w)();return v.telemetry||(v.telemetry={}),v.telemetry}var t=e(858859),l="PowerBI.com",g="ActivityId",n="RequestId";i().WFEError||(i().WFEError=t.O2),i().AppSignInError||(i().AppSignInError=t.eb,i().WFEAccountClosedPage=t.A_,i().WFEReopenUserAccount=t.BP),i().WFEAbtSignoutRedirectPage||(i().WFEAbtSignoutRedirectPage=t.lu),i().StorytellingBrowserNotSupportedLoaded||(i().StorytellingBrowserNotSupportedLoaded=t.U2)},917064:function(ve,j,e){e.d(j,{L2:function(){return a},fy:function(){return t},zD:function(){return i}}),e(650543);var i=function(n){return n[n.Verbose=0]="Verbose",n[n.CustomerAction=1]="CustomerAction",n[n.CriticalError=2]="CriticalError",n[n.Trace=3]="Trace",n[n.SnapShotEmbedUserAction=4]="SnapShotEmbedUserAction",n}({}),a=function(n){return n[n.LocalyticsDeprecated=1]="LocalyticsDeprecated",n[n.AppInsightDeprecated=2]="AppInsightDeprecated",n[n.AppInsight=4]="AppInsight",n[n.Etw=8]="Etw",n[n.Mobile=16]="Mobile",n[n.WinJs=32]="WinJs",n[n.Designer=64]="Designer",n[n.NgRx=128]="NgRx",n[n.MetaOSStandardizedClientReporting=352]="MetaOSStandardizedClientReporting",n[n.DatahubEmbedLocal=800]="DatahubEmbedLocal",n}({});function t(){return window.powerbi.telemetrySamplingRules}},893910:function(ve,j,e){e.d(j,{Fp:function(){return C},OA:function(){return p},SF:function(){return l},aD:function(){return t},eq:function(){return c},ge:function(){return m},gt:function(){return o},lt:function(){return v}});var r=e(650543),i=e(506963),a={major:0,minor:0,patch:0},t="0.0",l="99.9",g=function(u){return u[u.Major=0]="Major",u[u.Minor=1]="Minor",u[u.Patch=2]="Patch",u[u.Prerel=3]="Prerel",u}({}),n=function(u){return u[u.Dot=46]="Dot",u[u.Dash=45]="Dash",u[u.Zero=48]="Zero",u[u.Nine=57]="Nine",u[u.A=65]="A",u[u.Z=90]="Z",u[u.a=97]="a",u[u.z=122]="z",u}({});function p(u){r.f.assertValue(u,"versionString");for(var T,f=0,b=0,V=0,P=g.Major,D=0,w=0,M=u.length;D<=M;D++){var A=D===M?n.Dot:u.charCodeAt(D);switch(A){case n.Dot:case n.Dash:if(D===w)return;var R=(0,i.l)(u,w,D-w);if(null==R)return;switch(P){case g.Major:f=R;break;case g.Minor:b=R;break;case g.Patch:V=R;break;default:return}if(P++,w=D+1,A===n.Dash){if(P!==g.Prerel||!s(T=u.substr(D+1)))return;D=M}break;default:if(A<n.Zero||A>n.Nine)return}}var B={major:f,minor:b,patch:V};return T&&(B.prerel=T),B}function s(u){r.f.assertValue(u,"prerel");for(var f=0,b=u.length;f<b;f++){var V=u.charCodeAt(f);if(!(n.A<=V&&V<=n.Z||n.a<=V&&V<=n.z||n.Zero<=V&&V<=n.Nine||V===n.Dash||V===n.Dot))return!1}return!0}function o(u,f){return r.f.assertValue(u,"v1"),r.f.assertValue(f,"v2"),S(y(u),y(f))>0}function v(u,f){return r.f.assertValue(u,"v1"),r.f.assertValue(f,"v2"),S(y(u),y(f))<0}function m(u,f){return r.f.assertValue(u,"v1"),r.f.assertValue(f,"v2"),S(y(u),y(f))>=0}function c(u,f){return r.f.assertValue(u,"v1"),r.f.assertValue(f,"v2"),u=y(u),f=y(f),!S(y(u),y(f))}function C(u,f){return o(y(u),y(f))?u:f}function y(u){return _.isString(u)?p(u)||a:u}function S(u,f){var b=h(u.major,f.major);return b||(b=h(u.minor,f.minor))||(b=h(u.patch,f.patch))?b:function(u,f){var b=_.isEmpty(u),V=_.isEmpty(f);if(b)return V?0:1;if(V)return-1;var T=(0,i.l)(u,0,u.length),P=(0,i.l)(f,0,f.length);return null!=T?null!=P?h(T,P):-1:null!=P?1:u.localeCompare(f)}(u.prerel,f.prerel)}function h(u,f){var b=(u=u||0)-(f=f||0);return 0===b?0:b<0?-1:(r.f.assert(()=>b>0,"diff > 0"),1)}},114975:function(ve,j,e){e.d(j,{g:function(){return i}});var r=e(924341);class i{static getModalDialog(t){return i.modalDialog||(i.modalDialog=new r.pL(null,t)),i.modalDialog}static errorServiceModalDialogControl(t){return i.getModalDialog(t)}}},269710:function(ve,j,e){e.d(j,{_3:function(){return n}});var r=e(641409),i="PBI.ShowModalDialogRejected",t=(r.cx[i]=(0,r.b1)(i),"PBI.ShowModalDialogSkippedNestedDialogs"),g=(r.cx[t]=(0,r.b1)(t),"PBI.TriggerRefresh"),n=r.cx[g]=(0,r.b1)(g)},454739:function(ve,j,e){e.d(j,{L:function(){return r}});class r{constructor(){this.inputUserList=[],this.validEmailsList=[],this.validObjectIds=[],this.hasValidationError=!1,this.isDirty=!1}}},1480:function(ve,j,e){e.d(j,{RZ:function(){return p},Ue:function(){return c}});var r=e(650543),i=e(621083),g="[toolbar-anchor]",p="[toolbar-container]",s="overlayActive",m={layout:i.BG.Overlayed,preferHorizontalLayout:!1,theme:i.wn.Dark};function c(S,h,E){return new y(S,h,E)}var C=function(S){return S[S.Top=0]="Top",S[S.Bottom=1]="Bottom",S[S.Left=2]="Left",S[S.Right=3]="Right",S}({});class y{constructor(h,E,u){this.anchor=h.closest(g),this.container=h.closest(p),r.f.assert(()=>this.container.length>0,"toolbarOverlay.container"),this.updateOptions(u),this.visible=!1,E&&this.setToolbar(E)}setToolbar(h){var E=this.toolbar;if(E!==h){if(E&&E.remove(),!h)return void(this.toolbar=null);this.toolbar=h,h.addClass("toolbarOverlay");var{layout:u,theme:f}=this.options;this.updateTheme(void 0,f),this.updateLayout(void 0,u),this.setVisibility(this.visible),this.container.append(h)}}destroy(){var h=this.toolbar;h&&h.remove(),this.toolbar=void 0,this.visible=!1}updateOptions(h){var E=this.options;h=this.options=_.defaults({},h,this.options,m),this.updateTheme(E&&E.theme,h.theme),this.updateLayout(E&&E.layout,h.layout)}updateTheme(h,E){!this.toolbar||h===E||(null!=h&&this.toolbar.removeClass(h),this.toolbar.addClass(E))}updateLayout(h,E){!this.toolbar||h===E||(r.f.assert(()=>E!==i.BG.Overlayed||!!this.anchor,`Overlayed must have an element matching the "${g}" selector`),null!=h&&(this.toolbar.removeClass(h),h===i.BG.Overlayed&&this.clearToolbarPosition()),this.toolbar.addClass(E))}show(){this.toolbar&&(this.repositionToolbar(),this.toolbar.addClass(s),this.visible=!0)}hide(){this.toolbar&&(this.toolbar.removeClass(s),this.visible=!1)}setVisibility(h){h?this.show():this.hide()}isVisible(){return this.visible}clearToolbarPosition(){this.toolbar&&this.toolbar.removeClass("top right bottom left")}repositionToolbar(){if(this.options.layout===i.BG.Overlayed){var h=this.toolbar;if(h){r.f.assertValue(this.anchor.length>0,"toolbarOverlay.anchor");var W,E=h.outerWidth(!0),u=h.outerHeight(!0),f=this.anchor.get(0).getBoundingClientRect(),b=f.left,V=f.right,T=f.bottom,P=this.container.get(0).getBoundingClientRect(),D=P.top,w=P.left,M=P.right,A=f.top,R=0,B=!0,N=!0,F=E+17,U=b-w,O=P.width-V;this.options.preferHorizontalLayout&&(U>F||O>F)?U>=O?(R=b-F,W=C.Left):(R=V+17,W=C.Right):((R=b)+E>w+P.width&&(R=b+f.width-E,B=!1),R<0&&(R=0),W=C.Top,(A=f.top-u-27)<D&&(A=f.top+f.height+27,W=C.Bottom,N=!1));var K=P.bottom,z=A+u+27;if(z>K&&(A-=z-K),this.options.dropdownOptions){var{dropdown:H,extraWidthOnRight:J,extraWidthOnLeft:k}=this.options.dropdownOptions,G=H.getBoundingClientRect(),q=A-D,Q=K-(A+u),Z=R-k>w,X=R+E+J>M;switch(W){case C.Top:this.updateDropdownVerticalAlignment(H,q,Q,V>G.left),this.updateDropdownHorizontalAlignment(H,Z,X);break;case C.Bottom:this.updateDropdownVerticalAlignment(H,q,Q),this.updateDropdownHorizontalAlignment(H,Z,X);break;case C.Left:this.updateDropdownHorizontalAlignment(H,Z,X,T>G.top),this.updateDropdownVerticalAlignment(H,q,Q);break;case C.Right:this.updateDropdownHorizontalAlignment(H,Z,X),this.updateDropdownVerticalAlignment(H,q,Q);break;default:r.f.assertNever(W)}}h.css({top:A,left:R});var se=`${B?"left":"right"} ${N?"top":"bottom"}`;h.removeClass("top right bottom left"),h.addClass(se)}}}resetDropdownHorizontalAlignment(h){$(h).css("right","")}resetDropdownVerticalAlignment(h){$(h).css("top","100%").css("bottom","")}moveDropdownToTheLeft(h){$(h).css("right",0)}moveDropdownUp(h){$(h).css("top","initial").css("bottom","100%")}updateDropdownVerticalAlignment(h,E,u,f=!1){var b=h.getBoundingClientRect().height,V=E>b,T=u<b;V&&(T||f)?this.moveDropdownUp(h):(this.resetDropdownVerticalAlignment(h),!V&&T&&$(h).css("height",`${u}px`))}updateDropdownHorizontalAlignment(h,E,u,f=!1){E&&(u||f)?this.moveDropdownToTheLeft(h):this.resetDropdownHorizontalAlignment(h)}}},192873:function(ve,j,e){e.d(j,{$V:function(){return D},CT:function(){return o},DR:function(){return C},E9:function(){return d},Fg:function(){return U},Fp:function(){return p},IJ:function(){return T},K0:function(){return E},Kj:function(){return a},Kk:function(){return s},LX:function(){return x},MB:function(){return O},MX:function(){return n},Nf:function(){return A},OA:function(){return h},SG:function(){return c},Yz:function(){return y},_h:function(){return i},dx:function(){return M},e_:function(){return v},fI:function(){return S},fd:function(){return m},gn:function(){return V},iQ:function(){return r},nt:function(){return g},o5:function(){return I},td:function(){return t},tk:function(){return f},tz:function(){return w},wu:function(){return l},xu:function(){return P}});var r="Explore_ExplorationCreation",i="ExportExcel_EmptyColumnName",a="modelFailednoErrorInfo",t="ModelSizeExceedsSharedCapacityLimit",l="ModelWithIncrementalRefreshIsNotDownloadable",g="ServerError_PremiumFilesErrors_OperationIsNotSupportedForPremiumFilesModel",n="ExportData_DisabledForModelModifiedByXmlaEndpoint",p="ExportData_DisabledForModelWithInferredPartition",s="UnsupportedModelWithRefreshPolicyInSharedCapacity",d="DatasetsWithCompositeModelsNotSupported",o="ServerError_PremiumFilesErrors_ASWLConversionBadRequest",v="ServerError_PremiumFilesErrors_ASWLConversionInternalServerError",m="ServerError_PremiumFilesErrors_OperationIsNotSupportedForPremiumFilesModelWithoutCapacity",c="ServerError_PremiumFilesErrors_ASWLConversionConflict",C="ExportData_DisabledForModelWithDirectLakeMode",y="ExportPBIX_NoExplorationFound",S="ExportPBIXV2_NoExplorationDocumentFound",h="PowerBIEntityNotFound",E="PowerBINotAuthorizedException",f="rsErrorOpeningConnection",V="TokenExpired",T="UserNotLicensed",P="NetworkConnectionIssue",D="NavigateAway",w="ChangeDetectionMeasureExecutionDisabledException",M="UnsupportedChangeDetectionMeasureException",A="FailedToAutoAssignLicense",U="ChangeOwnership_InvalidSelectedUserException",O="ChangeOwnership_UnauthorizedException",x="PowerBIOperationNotSupported",I="UserCancelled"},494284:function(ve,j,e){e.d(j,{Q:function(){return a},W:function(){return i}});var r=e(756646);function i(t){(0,r.hG)().errorService=t}function a(){return(0,r.hG)().errorService}},863035:function(ve,j,e){e.d(j,{Dd:function(){return o},GA:function(){return E},NJ:function(){return u},OM:function(){return V},PF:function(){return g},Qq:function(){return y},SV:function(){return c},VF:function(){return S},Z:function(){return i},dJ:function(){return t},dm:function(){return d},i5:function(){return p},ii:function(){return f},lH:function(){return C},m:function(){return b},pG:function(){return m},qw:function(){return v},sc:function(){return s},t1:function(){return n},v7:function(){return l}});var r=e(110159),i=function(T){return T[T.AzureMapsDomain=1]="AzureMapsDomain",T[T.All=1]="All",T}({}),t={type:r.u.Visual,name:"visualContainerResizeStart"},l={type:r.u.Visual,name:"visualContainerResizeEnd"},g={type:r.u.Visual,name:"visualContainerInteraction"},n={type:r.u.Visual,name:"canvasItemContainerShowHover"},p={type:r.u.Visual,name:"canvasItemContainerHideHover"},s={type:r.u.Visual,name:"liveReportTileReady"},d={type:r.u.Visual,name:"printSectionReady"},o={type:r.u.Exploration,name:"reportPrintSectionStarted"},v={type:r.u.Exploration,name:"reportPrintSectionFinished"},m={type:r.u.Global,name:"loadPowerViewReport"},c={type:r.u.Global,name:"explorationUnloaded"},C={type:r.u.Global,name:"informationProtectionLoaded"},y={type:r.u.Global,name:"printModeChanged"},S={name:"reportRefreshStateChanged",type:r.u.Global},E={name:"tileVisualLoadedChanged",type:r.u.Global},u={name:"externalUrlChanged",type:r.u.Global},f={type:r.u.Global,name:"scrollToSelectedTile"},b={type:r.u.Global,name:"Tile_RLS_NoAccess"},V={name:"dashboardTileScaleChanged",type:r.u.Visual}},300613:function(ve,j,e){e.d(j,{Ed:function(){return d},XP:function(){return t},ZV:function(){return r},aE:function(){return a},ep:function(){return s},jX:function(){return g},qu:function(){return i},qz:function(){return n},rO:function(){return l}});var r={13:"https://go.microsoft.com/fwlink/?LinkId=546971",19:"https://go.microsoft.com/fwlink/?LinkID=528958",10:"https://go.microsoft.com/fwlink/?LinkID=528796",30:"https://go.microsoft.com/fwlink/?LinkId=613552",23:"https://go.microsoft.com/fwlink/?LinkID=528959",16:"https://go.microsoft.com/fwlink/?LinkID=528957",17:"https://go.microsoft.com/fwlink/?LinkID=528797",20:"https://go.microsoft.com/fwlink/?LinkId=613120",9:"https://go.microsoft.com/fwlink/?LinkID=528963",26:"https://go.microsoft.com/fwlink/?LinkID=528960",42:"https://go.microsoft.com/fwlink/?LinkId=536680",41:"https://go.microsoft.com/fwlink/?LinkId=613402",52:"https://go.microsoft.com/fwlink/?LinkId=615189",14:"https://go.microsoft.com/fwlink/?LinkId=544911",38:"https://go.microsoft.com/fwlink/?LinkID=615577",18:"https://go.microsoft.com/fwlink/?LinkId=533295",24:"https://go.microsoft.com/fwlink/?LinkID=528961"},i="https://go.microsoft.com/fwlink/?LinkId=532757",a="https://go.microsoft.com/fwlink/?linkid=2179788",t="https://go.microsoft.com/fwlink/?LinkId=525916",l="https://go.microsoft.com/fwlink/?LinkId=823121",g="https://go.microsoft.com/fwlink/?LinkId=786855",n="https://go.microsoft.com/fwlink/?LinkId=823122",s="https://go.microsoft.com/fwlink/?LinkID=825665",d="https://learn.microsoft.com/en-us/power-bi/developer/visuals/licensing-faq"},435577:function(ve,j,e){e.d(j,{J8:function(){return n}});var r=e(143747),i=e(650543),a=e(149222),t=e(863035);class n{static getPrintTargetViewPort(s){var d={width:r.SZk,height:r.qvT};if(s.width()>s.height()&&(d.width=r.nDG,d.height=r.Td2),a.M.isChrome()){var m=s.parent();d.width=m.width(),d.height=m.height()}return d}static calculateScaleFactor(s,d,o){var v=d.width/s.width,m=d.height/s.height;return o?Math.max(v,m):Math.min(v,m)}getStyleString(s){for(var d=Object.keys(s),o="",v=0,m=d.length;v<m;v++){var c=d[v];o=o+c+":"+s[c]+";"}return o}onInit(s,d,o,v,m,c,C){c||(this.globalSubscriptionManager=C.createChannelSubscriptionManager().subscribe(t.Qq,(y,S)=>{S===r.WMs?this.insertPrintStylingInDOM(s,d,o,v,m):S===r.IBn&&this.removePrintStylingFromDOM(s)}))}onDestroy(s,d){d||(this.domLayoutChangedDeregister&&this.domLayoutChangedDeregister(),this.onExitPrintModeDeregister&&this.onExitPrintModeDeregister(),this.globalSubscriptionManager.unsubscribeAll()),this.removePrintStylingFromDOM(s,!0)}insertPrintStylingInDOM(s,d,o,v,m){if(null!=o){var c=window.location.pathname.toLowerCase();if(!1===m.featureSwitches.printingEnabled&&"/export/report"!==c&&"/reportembedexporthost"!==c){if(!this.printDisabledElement){var y=v.get("PrintingIsDisabledForThisTenantMessage"),S=$("<div>").addClass("errorTitle").text(y),h=$("<div>").attr("id","printDisabledOverlay").append(S);this.printDisabledElement=h,$("body").append(this.printDisabledElement)}return void s.hide()}this.printStyleElement||(this.printStyleElement=$("<style></style>").attr("type","text/css").attr("media","print"),$("body").append(this.printStyleElement));var E=d(s);i.f.assertValue(E,"printStylesObject");var u=this.getStyleString(E);this.printStyleElement.get(0).sheet.insertRule(`.${o} { ${u} }`)}}removePrintStylingFromDOM(s,d=!1){if(this.printDisabledElement&&(this.printDisabledElement.remove(),this.printDisabledElement=void 0,s.show()),this.printStyleElement)if(d)this.printStyleElement.remove(),this.printStyleElement=void 0;else for(var o=this.printStyleElement.get(0).sheet,v=o.cssRules.length;v--;)o.removeRule(v)}}},907126:function(ve,j,e){e.d(j,{$i:function(){return W},$v:function(){return R},A7:function(){return u},DS:function(){return I},Fk:function(){return x},Gw:function(){return O},KZ:function(){return G},NQ:function(){return A},OJ:function(){return c},QS:function(){return T},ZW:function(){return y},c9:function(){return f},ee:function(){return S},gF:function(){return Q},gY:function(){return b},ov:function(){return C},qg:function(){return E},ql:function(){return B},t6:function(){return q},tL:function(){return U},vs:function(){return M},w$:function(){return Z},xA:function(){return h},yU:function(){return P}});var r=e(509980),i=e(661248),a=e(143747),t=e(737865),l=e(358801),g=e(650543),n=e(301336),p=e(494284),s=e(114751),d=2998,o=2,v={year:"2-digit",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric"},m={year:"2-digit",month:"numeric",day:"numeric"};function c(te){for(var se=te.refreshConnections,Ve=void 0!==se?se.length:0,ke=0;ke<Ve;ke++)if(se[ke].onpremGatewayRequired)return!0;return!1}function C(te){return c(te)||y(te)}function y(te){var se=new RegExp("(asazure://|pbiazure://|powerbi://|link://)","i");return(void 0===te.onPremModelConnectionString||se.test(te.onPremModelConnectionString))&&te.dataCacheMode!==t.Vv.DirectQuery}function S(te){try{var se=n.b$.getDateFromWcfJsonString(te,!0);return te&&!se&&g.f.assertFail("malformed refresh time could not be parsed to date: "+te),se}catch(Ve){return g.f.assertFail(Ve.message),null}}function h(te,se,Ve=!0){try{var ke=S(te);return!Ve||!ke||ke.getFullYear()>d||ke.getFullYear()<o?se.get("ManageDatasets_NextRefresh_NA"):ke.toLocaleString()}catch(Ue){return g.f.assertFail(Ue.message),se.get("ManageDatasets_NextRefresh_NA")}}function E(te,se){try{var Ve=S(te);return!Ve||Ve.getFullYear()>d||Ve.getFullYear()<o?se&&se.invalidDateTimePlaceholder||"":Ve.toLocaleDateString(se?.locale||void 0,se&&se.format||m)}catch(ke){return g.f.assertFail(ke.message),se&&se.invalidDateTimePlaceholder||""}}function u(te,se,Ve){try{var ke=S(te);return!ke||ke.getFullYear()>d||ke.getFullYear()<o?se&&se.invalidDateTimePlaceholder||"":ke.toLocaleString(Ve,se&&se.format||v)}catch(Ue){return g.f.assertFail(Ue.message),se&&se.invalidDateTimePlaceholder||""}}function f(te,se,Ve){var ke=new Array;for(var Ue of se){var ot=T(te,Ue,Ve);ot.datasourceId=Ue.dataSourceId,ot.dataSourceObjectId=Ue.dataSourceObjectId,ot.gatewayId=Ue.gatewayId,ot.gatewayObjectId=Ue.gatewayObjectId,ot.testConnectionState=Ue.credentialDetails?s.x9.NotStart:s.x9.NotSpecified,ot.alreadyExecutedTestConnection=!1,ot.normalizedPath=Ue.normalizedPath,ot.dsr=Ue.dataSourceReference,ot.onpremGatewayRequired=Ue.onPremGatewayRequired,ke.push(ot)}return ke}function b(te,se){switch(te){case l.d3.NotSpecified:return se.get("AuthenticationMethod_NotSpecified");case l.d3.Windows:return se.get("SettingsDataSource_SettingsAuthenticationMethod_Windows");case l.d3.Anonymous:return se.get("SettingsDataSource_SettingsAuthenticationMethod_Anonymous");case l.d3.Basic:return se.get("SettingsDataSource_SettingsAuthenticationMethod_Basic");case l.d3.Key:return se.get("SettingsDataSource_SettingsAuthenticationMethod_Key");case l.d3.OAuth2:return se.get("AuthenticationMethod_OAuth2");case l.d3.EffectiveUserName:return se.get("AuthenticationMethod_EffectiveUserName");case l.d3.SingleSignOn:return se.get("AuthenticationMethod_SingleSignOn");case l.d3.WindowsWithoutImpersonation:return se.get("AuthenticationMethod_WindowsWithoutImpersonation");case l.d3.SAS:return se.get("AuthenticationMethod_SAS");case l.d3.ServicePrincipal:return se.get("AuthenticationMethod_ServicePrincipal");case l.d3.WorkspaceIdentity:return se.get("Trident_Workspace_Settings_Workspace_Identity");default:return l.d3[te]}}function V(te,se){return _.map(te,Ve=>b(Ve,se))}function T(te,se,Ve){var ke=se.credentialDetails,Ue={modelId:te,datasourceId:se.dataSourceId,dataSourceObjectId:se.dataSourceObjectId,gatewayId:se.gatewayId,gatewayObjectId:se.gatewayObjectId,name:se.dataSourceName,oAuth2URL:se.oAuth2Endpoint,oAuth2Nonce:se.oAuth2Nonce,datasourceType:se.dataSourceType,datasourceReference:D(se.dataSourceReference),dsr:se.dataSourceReference,credentialTypes:se.supportedAuthenticationTypes,credentialTypesNames:V(se.supportedAuthenticationTypes,Ve),connectionStringGeneralProperties:P(se.connectionDetails),onpremGatewayRequired:se.onPremGatewayRequired,singleSignOnType:se.singleSignOnType,skipTestConnection:!!ke&&ke.skipTestConnection,selectedCredentialType:ke?ke.credentialType:void 0,selectedPrivacyLevel:ke?ke.privacyLevel:void 0,gatewayType:se.gatewayType};if(Ue.datasourceType===l.ye.Extension){var ot=JSON.parse(se.dataSourceReference);Ue.dataSourceKind=ot.kind}return Ue.fullName=F(Ue,Ve),Ue.displayName=W(Ue,Ve),Ue}function P(te){return D(te)}function D(te){var se=new Array;if(te){var Ve=JSON.parse(te);for(var ke in Ve)se.push({name:ke,value:Ve[ke]})}return se}function w(te){return te?null!=te.server?(g.f.assertValue(te.database,"database"),[{name:"Server",value:te.server},{name:"Database",value:te.database}]):null!=te.path?[{name:"path",value:te.path}]:null!=te.modelId?[{name:"modelId",value:te.modelId},{name:"workspaceId",value:te.workspaceId}]:(g.f.assertValue(te.extensionDataSourceKind,"extensionDataSourceKind"),g.f.assertValue(te.extensionDataSourcePath,"extensionDataSourcePath"),[{name:"extensionDataSourceKind",value:te.extensionDataSourceKind},{name:"extensionDataSourcePath",value:te.extensionDataSourcePath}]):[]}function M(te,se,Ve){var ke=(0,i.K)(se.connectionDetails),Ue=[];_.includes(se.supportedAuthenticationTypes,l.d3.Basic)&&Ue.push(l.d3.Basic),_.includes(se.supportedAuthenticationTypes,l.d3.OAuth2)&&Ue.push(l.d3.OAuth2),se.supportedAuthenticationTypes=Ue;var ot={modelId:te,datasourceId:se.dataSourceId,dataSourceObjectId:se.dataSourceObjectId,name:l.ye[se.dataSourceType],oAuth2URL:se.oAuth2Endpoint,oAuth2Nonce:se.oAuth2Nonce,datasourceType:se.dataSourceType,credentialTypes:se.supportedAuthenticationTypes,credentialTypesNames:V(se.supportedAuthenticationTypes,Ve),connectionStringGeneralProperties:w(ke),onpremGatewayRequired:!1,gatewayId:se.gatewayId,gatewayObjectId:se.gatewayObjectId,isCloudDirectQuery:!0,testConnectionErrorMessage:se.credentialDetails?null:Ve.get("SettingsDataset_Error_CredentialsNotFound"),testConnectionState:se.credentialDetails?s.x9.Passed:s.x9.Failed,alreadyExecutedTestConnection:!0,singleSignOnType:se.singleSignOnType};return ot.fullName=F(ot,Ve),ot.displayName=W(ot,Ve),ot}function A(te,se){return{importAndRefreshBehavior:te.importAndRefreshBehavior,refreshEnabled:te.refreshEnabled,refreshFrequency:X(te),refreshDays:x(te.weekDays),refreshTimeWindowIndex:K(te.executionTime,se),refreshTimesHourly:k(te.executionTimeHourly,se),refreshTimeZoneId:te.localTimeZoneId,sendFailureEmail:!0,isRefreshable:te.isRefreshable,refreshNotificationEnabled:te.refreshNotificationEnabled,refreshEmails:{emailsList:void 0,emailValidationError:"",emailValidationWarning:""}}}function R(te,se){var Ve=te.refreshSchedule,ke=A(Ve,se);return ke.refreshFrequency===s.Ne.Weekly&&Ve.refreshFrequency&&Ve.refreshFrequency===s.Ne.Daily.toString()&&9===te.contentProviderId&&(ke.refreshFrequency=s.Ne.Daily,ke.refreshEnabled=!0,te.nextRefreshTime&&((!ke.refreshTimesHourly||ke.refreshTimesHourly.length<1)&&(ke.refreshTimesHourly=function(te){var se=S(te),Ve=se.getMinutes(),ke=se.getHours();return Ve>30?(Ve=0,++ke>24&&(ke-=24)):Ve=30,[{refreshHourIndex:(ke+11)%12,refreshMinuteIndex:Math.floor(Ve/30),refreshAmPmIndex:Math.floor(ke/12),isIncomplete:!1,isDuplicate:!1}]}(te.nextRefreshTime)),(!ke.refreshTimeWindowIndex||0===ke.refreshTimeWindowIndex)&&(ke.refreshTimeWindowIndex=function(te){var se=S(te),Ve=se.getHours();return se.getMinutes()>30&&(++Ve>24&&(Ve-=24)),Ve}(te.nextRefreshTime)))),new s.$Z(te,te.id,te.displayName,te.description,te.lastRefreshStatus===r.Cq.RefreshError||te.lastRefreshStatus===r.Cq.PublishError,_.isEmpty(te.refreshHistories)?"":te.refreshHistories[0].friendlyErrorMessage,S(te.nextRefreshTime)?.toString()??void 0,ke,te.parameters,se)}function B(te,se){var Ve=te.refreshFrequency===s.Ne.Daily,ke=te.refreshFrequency===s.Ne.Weekly,Ue=null;Ve?Ue=a.r90:ke&&(Ue=I(te.refreshDays));var ot=null;return!Ve&&!ke&&(ot=te.refreshFrequency.toString()),{importAndRefreshBehavior:te.importAndRefreshBehavior,refreshEnabled:te.refreshEnabled,isDaily:te.refreshFrequency===s.Ne.Daily,refreshFrequency:ot,weekDays:Ue,executionTime:se?z(6*te.refreshTimeWindowIndex):null,executionTimeHourly:se?null:L(te.refreshTimesHourly),localTimeZoneId:te.refreshTimeZoneId,refreshNotificationEnabled:te.refreshNotificationEnabled,refreshContacts:te.refreshEmails.emailsList?te.refreshEmails.emailsList.inputUserList:[]}}function W(te,se){switch(te.datasourceType){case l.ye.AnalysisServices:case l.ye.Oracle:case l.ye.SqlServer:case l.ye.MySql:case l.ye.PostgreSql:case l.ye.Sybase:case l.ye.Teradata:case l.ye.DB2:case l.ye.Informix:case l.ye.SAP:case l.ye.Essbase:var Ve,ke,Ue=te.connectionStringGeneralProperties;if(!Ue)return l.ye[te.datasourceType];for(var ot=Ue.length,ft=0;ft<ot;ft++){var Ct=Ue[ft];"database"===Ct.name?Ve=Ct.value:"server"===Ct.name&&(ke=Ct.value)}return Ve||ke?(Ve||"")+(Ve&&ke?"-":"")+(ke||""):l.ye[te.datasourceType];case l.ye.Folder:case l.ye.File:var Ke=_.find(te.connectionStringGeneralProperties,{name:"path"});return n.b$.extractFileNameFromPath(Ke.value);case l.ye.Extension:return _.find(te.connectionStringGeneralProperties,{name:"extensionDataSourceKind"}).value;case l.ye.AdoDotNet:var we=_.find(te.connectionStringGeneralProperties,{name:"workspaceId"}),Ne=_.find(te.connectionStringGeneralProperties,{name:"modelId"});return se.format("SettingsDataset_AdoDotNetText",[we.value,Ne.value]);case l.ye.ActiveDirectory:case l.ye.AzureTable:case l.ye.AzureBlob:case l.ye.Web:case l.ye.OData:case l.ye.SharePoint:case l.ye.GoogleAnalytics:case l.ye.Exchange:case l.ye.Facebook:case l.ye.HDInsight:case l.ye.AzureMarketplace:case l.ye.Salesforce:case l.ye.SAPBW:case l.ye.OleDb:case l.ye.ODBC:return l.ye[te.datasourceType];case l.ye.SharePointList:return"SharePoint";default:return te.name}}function F(te,se){switch(+te.datasourceType){case l.ye.Folder:case l.ye.File:return _.find(te.connectionStringGeneralProperties,{name:"path"}).value;default:return W(te,se)}}function U(te,se){if(!_.isEmpty(te))for(var Ve of te)Ve.displayName=W(Ve,se),Ve.fullName=F(Ve,se)}function O(te){if(te){if(null!=te.clientCategory)return te.clientCategory;switch(te.category){case t.kP.BuiltIn:case t.kP.Services:case t.kP.ServiceApp:return t.Bs.Service;case t.kP.Organizational:case t.kP.OrganizationalApp:case t.kP.OrganizationalTemplate:case t.kP.OrganizationalTemplateApp:return t.Bs.Organizational;default:g.f.assertFail("Unknown content provider category")}}}function x(te){for(var se=new Array,Ve=0;Ve<7;Ve++)se[Ve]=!(1&~te),te>>=1;return se}function I(te){for(var se=0,Ve=6;Ve>=0;Ve--)se<<=1,se=!0===te[Ve]?1|se:se;return se}function L(te){for(var se=[],Ve=te.length,ke=0;ke<Ve;ke++){var Ue=te[ke],ft=30*Ue.refreshMinuteIndex;se.push(((Ue.refreshHourIndex+1)%12+12*Ue.refreshAmPmIndex).toString()+":"+(0===ft?"00":ft.toString())+":00")}return JSON.stringify(se)}function K(te,se){var Ve;if(te){var ke=te.split(":"),Ue=parseInt(ke[0],10);Ue>=0&&Ue<24?Ve=Math.floor(Ue/6):((0,p.Q)().error(se.get("SettingsDataset_Error_InvalidDataFromServer_RefreshSettings_ExecutionTimeInvalidHour"),"SettingsDataset_Error_InvalidDataFromServer_RefreshSettings_ExecutionTimeInvalidHour"),Ve=0)}else Ve=0;return Ve}function z(te){var se=new Date;se.setHours(te),se.setMinutes(0),se.setSeconds(0);var Ve=se.toTimeString(),ke=Ve.indexOf(" ");return Ve.substr(0,ke)}function k(te,se){var Ve=[];if(te){try{var ke=JSON.parse(te)}catch{return void(0,p.Q)().error(se.get("SettingsDataset_Error_InvalidDataFromServer_RefreshSettings_ExecutionTimesHourlyInvalidJsonFormat"),"SettingsDataset_Error_InvalidDataFromServer_RefreshSettings_ExecutionTimesHourlyInvalidJsonFormat")}for(var Ue=ke.length,ot=0;ot<Ue;ot++){var Ct=ke[ot].split(":"),Ke=parseInt(Ct[0],10),Ae=parseInt(Ct[1],10);if(Ke<0||Ke>=24)(0,p.Q)().error(se.get("SettingsDataset_Error_InvalidDataFromServer_RefreshSettings_ExecutionTimesHourlyInvalidHour"),"SettingsDataset_Error_InvalidDataFromServer_RefreshSettings_ExecutionTimesHourlyInvalidHour");else if(Ae<0||Ae>=60)(0,p.Q)().error(se.get("SettingsDataset_Error_InvalidDataFromServer_RefreshSettings_ExecutionTimesHourlyInvalidMinute"),"SettingsDataset_Error_InvalidDataFromServer_RefreshSettings_ExecutionTimesHourlyInvalidMinute");else{var we={refreshHourIndex:(Ke+11)%12,refreshMinuteIndex:Math.floor(Ae/30),refreshAmPmIndex:Math.floor(Ke/12),isIncomplete:!1,isDuplicate:!1};Ve.push(we)}}}return Ve}function G(te){return _.isEmpty(te.displayName)?te.qnaSupported:!0===te.qnaSupported&&(1===te.pushDataVersion||2===te.pushDataVersion||te.dataCacheMode===t.Vv.Import&&!1!==te.powerBIQnaEnabled||!!te.onPremModelConnectionString&&te.powerBIQnaEnabled||(te.dataCacheMode===t.Vv.DirectQuery||te.dataCacheMode===t.Vv.Mixed)&&te.powerBIQnaEnabled)}function q(te){return!(!te||te.dataCacheMode!==t.Vv.DirectQuery&&te.dataCacheMode!==t.Vv.Mixed&&_.isEmpty(te.onPremModelConnectionString))}function Q(te){for(var se of te.monikers){var Ve=_.filter(se.monikerDataSources,ot=>null==ot.dataSourceId&&!re(ot));if(Ve&&0!==Ve.length){if(_.every(Ve,ot=>!ot.matchingDataSourceObjectIds||0===ot.matchingDataSourceObjectIds.length))return!0;for(var ke of Ve){var Ue=_.map(ke.matchingDataSourceObjectIds,ot=>_.find(te.datasources,ft=>ft.dataSourceObjectId===ot));if(_.every(Ue,ot=>"Personal"!==ot?.gatewayType))return!0}}}return!1}function Z(te,se){var Ve=[];for(var ke of te.monikers){var Ue=_.map(ke.monikerDataSources,ft=>ft.dataSourceObjectId);_.every(Ue,ft=>ft)&&Ve.push(...Ue||[])}return _.filter(te.datasources,ft=>(ft.gatewayObjectId===se||!1===ft.onPremGatewayRequired)&&_.includes(Ve,ft.dataSourceObjectId))}function X(te){switch(g.f.assertValue(te,"schedule"),parseInt(te.refreshFrequency,10)){case s.Ne.FifteenMinutes:return s.Ne.FifteenMinutes;case s.Ne.ThirtyMinutes:return s.Ne.ThirtyMinutes;case s.Ne.OneHour:return s.Ne.OneHour;case s.Ne.TwoHours:return s.Ne.TwoHours;case s.Ne.ThreeHours:return s.Ne.ThreeHours}return te.isDaily?s.Ne.Daily:s.Ne.Weekly}function re(te){return(te.monikerDataSourceAttribute&l.ke.IsFabricTdsEndpoint)===l.ke.IsFabricTdsEndpoint||(te.monikerDataSourceAttribute&l.ke.IsFabricOneLake)===l.ke.IsFabricOneLake}},981810:function(ve,j,e){e.d(j,{f:function(){return g}});var r=e(160860),i=e(143747),a=e(650543),t=e(734531),l=window;class g{static webRedirectUrlHelper(p){return this._webRedirectUrlHelper||(this._webRedirectUrlHelper=new g("Redirect",p)),this._webRedirectUrlHelper}static mobileRedirectUrlHelper(p){return this._mobileRedirectUrlHelper||(this._mobileRedirectUrlHelper=new g("MobileRedirect.html",p)),this._mobileRedirectUrlHelper}constructor(p,s,d=!1){this.redirectPath=p,this.appSettings=s,this.useMsPbi=d}getAppRedirectUrl(p,s,d,o){return a.f.assertValue(s,"getAppRedirectUrl: appId"),this.getRedirectUrl({action:"OpenApp",groupObjectId:p,context:o,appId:s,ctid:d})}getDashboardRedirectUrl(p,s,d,o,v,m,c,C){return a.f.assert(()=>"MSTeams"===c||"ChatInTeams"===c||!_.isEmpty(p)||!_.isEmpty(s),"getDashboardRedirectUrl: groupId or appId shouldn't be null"),a.f.assertValue("MSTeams"===c||"ChatInTeams"===c||d,"getDashboardRedirectUrl: dashboardObjectId"),this.getRedirectUrl({action:"OpenDashboard",context:v,groupObjectId:p,appId:s,dashboardObjectId:d,ctid:o,tileId:m,pbi_source:c,openDashboardSource:C})}getReportRedirectUrl(p,s,d,o,v,m,c,C,y){a.f.assert(()=>"MSTeams"===C||"ChatInTeams"===C||!_.isEmpty(p)||!_.isEmpty(s),"getReportRedirectUrl: groupId or appId shouldn't be null"),a.f.assertValue("MSTeams"===C||"ChatInTeams"===C||d,"getReportRedirectUrl: reportObjectId");var S={action:c===r.C2.RdlReport?"OpenRdlReport":"OpenReport",context:m,groupObjectId:p,appId:s,reportObjectId:d,ctid:v,pbi_source:C,bookmarkGuid:y};return _.isEmpty(o)||(S.reportPage=o),this.getRedirectUrl(S)}getDatasetRedirectUrl(p,s,d,o){return a.f.assert(()=>"MSTeams"===o||"ChatInTeams"===o||!_.isEmpty(p),"getDatasetRedirectUrl: groupId shouldn't be null"),a.f.assertValue("MSTeams"===o||"ChatInTeams"===o||s,"getDatasetRedirectUrl: datasetObjectId"),this.getRedirectUrl({action:"OpenDataset",context:d,groupObjectId:p,datasetObjectId:s,pbi_source:o})}getScorecardRedirectUrl(p,s,d,o,v){return this.getRedirectUrl({action:"OpenScorecard",groupObjectId:p,scorecardObjectId:s,ctid:d,context:o,pbi_source:v})}getWorkbookRedirectUrl(p,s,d,o,v){return a.f.assert(()=>!_.isEmpty(p)||!_.isEmpty(s),"getDashboardRedirectUrl: groupId or appId shouldn't be null"),a.f.assertValue(d,"getWorkbookRedirectUrl: workbookUniqueId"),this.getRedirectUrl({action:"OpenWorkbook",context:v,groupObjectId:p,appId:s,workbookUniqueId:d,ctid:o})}getTileRedirectUrl(p,s,d,o,v){return a.f.assert(()=>!_.isEmpty(p)||!_.isEmpty(s),"getDashboardRedirectUrl: groupId or appId shouldn't be null"),a.f.assertValue(d,"getDashboardRedirectUrl: dashboardObjectId"),a.f.assertValue(o,"getTileRedirectUrl: tileObjectId"),this.getRedirectUrl({action:"OpenTile",context:v,groupObjectId:p,appId:s,dashboardObjectId:d,tileObjectId:o})}getServiceAppInstallRedirectUrl(p,s,d,o){a.f.assertValue(p,"getAppRedirectUrl: appKey"),a.f.assertValue(s,"getAppRedirectUrl: packageKey");var v={action:"InstallApp",appId:p,packageKey:s.replace("=",""),ownerId:d};_.isEmpty(o)||(v.buildVersion=o);var c=(window.location.protocol+"//"+window.location.host).replace(l.baseUrl,l.feUrl);return this.getRedirectUrl(v,c)}getLineageViewRedirectUrl(p,s){return a.f.assert(()=>!_.isEmpty(p),"getLineageViewRedirectUrl: groupId or appId shouldn't be null"),a.f.assertValue(s,"getLineageViewRedirectUrl: reportObjectId"),this.getRedirectUrl({action:"OpenLineageView",groupObjectId:p,reportObjectId:s})}getRedirectUrl(p,s){if(a.f.assertValue(p,"getRedirectUrl: params"),this.useMsPbi){var{action:d}=p;return p=this.removeEmptyParams(p,this.useMsPbi),(0,t.W)("{0}/{1}?{2}","mspbi://app",d,$.param(p))}return p=this.removeEmptyParams(p),(0,t.W)("{0}/{1}?{2}",s||this.appSettings.baseUrl,this.redirectPath,$.param(p))}removeEmptyParams(p,s=!1){var d=[];return(_.isEmpty(p.groupObjectId)||p.groupObjectId===i.wku)&&d.push("groupObjectId"),_.isEmpty(p.appId)&&d.push("appId"),_.isEmpty(p.context)&&d.push("context"),_.isEmpty(p.reportObjectId)&&d.push("reportObjectId"),_.isEmpty(p.ctid)&&d.push("ctid"),_.isEmpty(p.openDashboardSource)&&d.push("openDashboardSource"),_.isEmpty(p.tileId)&&d.push("tileId"),_.isEmpty(p.dashboardObjectId)&&d.push("dashboardObjectId"),_.isEmpty(p.bookmarkGuid)&&d.push("bookmarkGuid"),_.isEmpty(p.pbi_source)&&d.push("pbi_source"),(_.isEmpty(p.action)||s)&&d.push("action"),d.length>0&&(p=_.omit(p,d)),p}}},822344:function(ve,j,e){e.d(j,{B:function(){return l},V:function(){return t}});var r=e(638198),i=e(844668),a=e(650543);function t(g){switch(g){case r.D.Master:return i.Dp.Master;case r.D.PhonePortrait:return i.Dp.PhonePortrait;default:a.f.assertFail("Unsupported telemetry canvas layout")}return null}class l{constructor(n){this.options=n}start(n){this.reject(),this.event=n()}resolve(){this.event&&(this.options&&this.options.onResolve&&this.options.onResolve(this.event),this.event.resolve(),this.event=void 0)}reject(n){this.event&&(this.options&&this.options.onReject&&this.options.onReject(this.event,n),this.event.reject(n),this.event=void 0)}}},108814:function(ve,j,e){function r(i,a,t){var l=_.trim(i),g=_.trim(a);return _.isEmpty(l)?t||"":_.isEmpty(g)?l:`${l} ${g}`}e.d(j,{P:function(){return r}})},844065:function(ve,j,e){e.d(j,{Y:function(){return i}});var r=e(650543);class i{constructor(){this.css={},this.elems=[]}setDimensionBehavior(t){this.skipJqueryDimension=t}addAttributes(t){for(var l in t)this.css[l]=t[l]}element(t){r.f.assertValue(t,"element"),this.elems=[t]}addElement(t){r.f.assertValue(t,"element"),this.elems.push(t)}removeElement(t){r.f.assertValue(t,"element"),_.pull(this.elems,t)}position(t){r.f.assertValue(t,"position");var l=this.css;l.WebkitTransform=l.transform="translate("+t.x+"px, "+t.y+"px)"}viewport(t){r.f.assertValue(t,"viewport");var l=this.css;l.height=t.height,l.width=t.width}zIndex(t){r.f.assertValue(t,"zIndex"),this.css.zIndex=t}rotate(t){if(r.f.assertValue(t,"rotate angle"),t){var l=this.css;l.WebkitTransform=l.transform+=" rotate("+t+"deg)"}}apply(t){if(this.skipJqueryDimension)if(t)this.applyStyleWithoutDimensionHooks(t);else for(var l of this.elems)this.applyStyleWithoutDimensionHooks(l);else if(t)t.css(this.css);else for(var g of this.elems)g.css(this.css)}applyStyleWithoutDimensionHooks(t){var l=t.get(0);null!=this.css.height&&(l.style.height=`${this.css.height}px`),null!=this.css.width&&(l.style.width=`${this.css.width}px`);var g=_.omit(this.css,["height","width"]);t.css(g)}getCss(){return this.css}}},107428:function(ve,j,e){e.d(j,{XM:function(){return C},be:function(){return d},bq:function(){return p}});var g=7,n=7;function p(){return g}function d(){return n}var C=function(y){return y[y.drag=0]="drag",y[y.resizing=1]="resizing",y[y.resized=2]="resized",y[y.refresh=3]="refresh",y}({})},712106:function(ve,j,e){e.d(j,{H:function(){return g},K:function(){return l}});var r=e(509980),i=e(737865),a=e(907126),t=e(496225),l=function(n){return n[n.None=0]="None",n[n.Shared=1]="Shared",n[n.Group=2]="Group",n[n.Apps=4]="Apps",n[n.SharedAndGroup=3]="SharedAndGroup",n[n.SharedAndApps=5]="SharedAndApps",n[n.GroupAndApps=6]="GroupAndApps",n[n.SharedAndGroupAndApps=7]="SharedAndGroupAndApps",n}({});class g extends t.I{constructor(p){super(),this.contract=p,this.isRefreshInProgress=!1,this.uniqueId=g.getUniqueId(p.id,p.packageId),this.categories=l.None}getPermissions(){var p;return this.getPermissionsCallback&&null!=(p=this.getPermissionsCallback())?p:this.contract&&this.contract.permissions}get hasError(){return this.contract&&(this.packagePublishStatus===r.Cq.PublishError||this.packagePublishStatus===r.Cq.RefreshError||this.contract.lastRefreshStatus===r.Cq.PublishError||this.contract.lastRefreshStatus===r.Cq.RefreshError)}get lastRefreshTimeInLocaleString(){var p=this.getLastRefreshTime();if(p)return p.toLocaleString()}get lastRefreshEpochTime(){var p=this.getLastRefreshTime();if(p)return p.getTime()}get contentTileType(){return i.ty.Dataset}getRefreshDisabledReason(){return(this.contract&&this.contract.refreshSchedule&&this.contract.refreshSchedule.refreshDisabledReason)??r.S3.None}static getUniqueId(p,s){return`${i.ty.Dataset}_${p}_${s}`}getLastRefreshTime(){var p=this.contract;return(0,a.ee)(p.onPremModelConnectionString?p.lastTimeAModelChangeWasDetectedInTheCluster:p.lastRefreshTime)}}},88474:function(ve,j,e){e.d(j,{Y:function(){return n},y:function(){return g}});var r=e(160860),i=e(737865),a=e(695795),t=e(807744),l=e(496225);class g extends t.H{constructor(s){super(typeof s>"u"?0:s.id,l._.Report,typeof s>"u"?0:s.packageId),this.contract=s,this.isRefreshInProgress=!1,this.reportType=this.contract&&this.contract.reportType===r.C2.RdlReport?r.C2.RdlReport:r.C2.PowerBI,this.contentTileType=this.reportType===r.C2.RdlReport?i.ty.RdlReport:i.ty.Report}getPermissions(){var s;return this.getPermissionsCallback&&null!=(s=this.getPermissionsCallback())?s:this.contract&&this.contract.permissions}get canWrite(){return(0,a.yE)(this.getPermissions(),n.Write)}get canCopy(){return(0,a.yE)(this.getPermissions(),n.CopyOnWrite)}get canExplore(){return(0,a.yE)(this.getPermissions(),n.Explore)}}var n=function(p){return p[p.None=0]="None",p[p.Read=1]="Read",p[p.Write=2]="Write",p[p.ReShare=4]="ReShare",p[p.Explore=8]="Explore",p[p.CopyOnWrite=17]="CopyOnWrite",p[p.ReadWrite=3]="ReadWrite",p[p.ReadReshare=5]="ReadReshare",p[p.Personalized=11]="Personalized",p[p.All=7]="All",p}({})},807744:function(ve,j,e){e.d(j,{H:function(){return i}});var r=e(496225);class i extends r.I{constructor(t,l,g){super(l),this.uniqueId=i.getUniqueId(l,t,g)}static getUniqueId(t,l,g){return t+"_"+l+"_"+g}}},496225:function(ve,j,e){e.d(j,{I:function(){return i},_:function(){return r}});var r=function(a){return a[a.Report=0]="Report",a[a.Workbook=1]="Workbook",a[a.Model=2]="Model",a[a.CdsaModel=3]="CdsaModel",a}({});class i{constructor(t){this.isSelected=!1,this.isEnabled=!0,this.isUsedByContentPack=!1,this.countOfLinkedAncestorsSelected=0,this.resourceType=t}}},114751:function(ve,j,e){e.d(j,{$Z:function(){return n},Ne:function(){return l},a0:function(){return g},a6:function(){return p},x9:function(){return t}});var r=e(143747),i=e(737865),a=e(358801),t=function(s){return s[s.NotSpecified=0]="NotSpecified",s[s.NotStart=1]="NotStart",s[s.Progressing=2]="Progressing",s[s.Failed=3]="Failed",s[s.Passed=4]="Passed",s}({}),l=function(s){return s[s.FifteenMinutes=15]="FifteenMinutes",s[s.ThirtyMinutes=30]="ThirtyMinutes",s[s.OneHour=60]="OneHour",s[s.TwoHours=120]="TwoHours",s[s.ThreeHours=180]="ThreeHours",s[s.Daily=1440]="Daily",s[s.Weekly=10080]="Weekly",s}({});class g{constructor(d,o){this.localizationService=o,this.refreshSettings=d,this.refreshSectionExpand=!1}get showWeekDays(){return this.refreshSettings.refreshFrequency===l.Weekly}get showRefreshTimeInfo(){var d=this.refreshSettings.refreshFrequency;return d===l.Daily||d===l.Weekly}get refreshFrequencyString(){return this.refreshSettings.refreshFrequency.toString()}set refreshFrequencyString(d){this.refreshSettings.refreshFrequency=parseInt(d,10)}get weekdayKeys(){return p.weekdayKeys()}get refreshTimeWindows(){return p.refreshTimeWindows(this.localizationService)}get refreshTimeHourWindows(){return p.refreshTimeHourWindows(this.localizationService)}get refreshTimeMinuteWindows(){return p.refreshTimeMinuteWindows(this.localizationService)}get refreshTimeAmPmWindows(){return p.refreshTimeAmPmWindows(this.localizationService)}get refreshTimeZones(){return p.refreshTimeZones(this.localizationService)}get refreshTimeZonesViewModel(){return p.refreshTimeZonesViewModel(this.localizationService)}}class n{constructor(d,o,v,m,c,C,y,S,h,E){this.localizationService=E,this.contract=d,this.modelId=o,this.name=v,this.description=m,this.lastRefreshFailed=c,this.lastRefreshFailedMessage=C,this.nextRefresh=y,this.refreshSettingsModel=new g(S,E),this.parameters=h,this.takenOver=!1,this.isDirty=!1,this.areDatasourcesDirty=!1,this.isQnaDirty=!1,this.paSupported=d?.paSupported,this.paEnabled=d?.paEnabled,this.paSettings=d?.paSettings,this.hasAggregationTable=d?.hasAggregationTable,this.directLakeAutoSync=d?.directLakeAutoSync,this.directLakeMode=d?.directLakeMode,this.directLakeAutoSyncResult=d?.directLakeAutoSyncResult,this.storageMode=d?.storageMode,this.isQsoSupported=d?.isQsoSupported,this.isQsoManualSyncWithPendingUpdates=d?.isQsoManualSyncWithPendingUpdates,this.qsoCommitVersionTimestamp=d?.qsoCommitVersionTimestamp}get takeoverStatusText(){return this.lastTakeoverUPN?this.getTakeoverStatusTextForUser(this.lastTakeoverUPN):this.lastTakeoverEmailAddress?this.getTakeoverStatusTextForUser(this.lastTakeoverEmailAddress):this.lastTakeoverText?this.localizationService.format("SettingsDataset_TakeOverStatusText_Before",[this.lastTakeoverText]):this.localizationService.get("SettingsDataset_TakeOverStatusTextNullUser_Before")}get takeoverButtonText(){return this.localizationService.get(this.takenOver?"SettingsDataset_TakeOverButton_CancelTakeOver":"SettingsDataset_TakeOverButton_TakeOver")}get hasDatasourceWithWrongCredentials(){return this.datasources&&_.some(this.datasources,d=>!d.isCloudDirectQuery&&d.testConnectionState!==t.Passed)}get showSkipTestConnectionWarning(){return _.some(this.datasources,d=>!0===d.skipTestConnection)}get hasDirectQueryDatasourceWithMissingCredentials(){return this.datasources&&_.some(this.datasources,d=>d.isCloudDirectQuery&&d.testConnectionState===t.Failed)}get hasRDataSource(){return this.datasources&&_.some(this.datasources,d=>d.datasourceType===a.ye.Extension&&(d.name===r.kJ$||d.fullName===r.kJ$))}get isPlainDirectQueryOrOnPremModel(){return n.isPlainDirectQueryOrOnPremModel(this.contract)}static isPlainDirectQueryOrOnPremModel(d){return d.dataCacheMode===i.Vv.DirectQuery||!_.isEmpty(d.onPremModelConnectionString)}getTakeoverStatusTextForUser(d){return this.localizationService.format(this.takenOver?"SettingsDataset_TakeOverStatusText_After":"SettingsDataset_TakeOverStatusText_Before",['<a href=mailto:"'+d+'">'+d+"</a>"])}}class p{constructor(){}static weekdayKeys(){return["SettingsDataset_ScheduleRefresh_RefreshFrequency_Days_Sunday","SettingsDataset_ScheduleRefresh_RefreshFrequency_Days_Monday","SettingsDataset_ScheduleRefresh_RefreshFrequency_Days_Tuesday","SettingsDataset_ScheduleRefresh_RefreshFrequency_Days_Wednesday","SettingsDataset_ScheduleRefresh_RefreshFrequency_Days_Thursday","SettingsDataset_ScheduleRefresh_RefreshFrequency_Days_Friday","SettingsDataset_ScheduleRefresh_RefreshFrequency_Days_Saturday"]}static refreshTimeWindows(d){return[d.get("SettingsDataset_ScheduleRefresh_TimeWindow_1"),d.get("SettingsDataset_ScheduleRefresh_TimeWindow_2"),d.get("SettingsDataset_ScheduleRefresh_TimeWindow_3"),d.get("SettingsDataset_ScheduleRefresh_TimeWindow_4")]}static refreshTimeHourWindows(d){return[d.get("SettingsDataset_ScheduleRefresh_TimeHourWindows_1"),d.get("SettingsDataset_ScheduleRefresh_TimeHourWindows_2"),d.get("SettingsDataset_ScheduleRefresh_TimeHourWindows_3"),d.get("SettingsDataset_ScheduleRefresh_TimeHourWindows_4"),d.get("SettingsDataset_ScheduleRefresh_TimeHourWindows_5"),d.get("SettingsDataset_ScheduleRefresh_TimeHourWindows_6"),d.get("SettingsDataset_ScheduleRefresh_TimeHourWindows_7"),d.get("SettingsDataset_ScheduleRefresh_TimeHourWindows_8"),d.get("SettingsDataset_ScheduleRefresh_TimeHourWindows_9"),d.get("SettingsDataset_ScheduleRefresh_TimeHourWindows_10"),d.get("SettingsDataset_ScheduleRefresh_TimeHourWindows_11"),d.get("SettingsDataset_ScheduleRefresh_TimeHourWindows_12")]}static refreshTimeMinuteWindows(d){return[d.get("SettingsDataset_ScheduleRefresh_TimeMinuteWindos_00"),d.get("SettingsDataset_ScheduleRefresh_TimeMinuteWindos_30")]}static refreshTimeAmPmWindows(d){return[d.get("SettingsDataset_ScheduleRefresh_AmPmWindows_Am"),d.get("SettingsDataset_ScheduleRefresh_AmPmWindows_Pm")]}static refreshTimeZones(d){return{"Dateline Standard Time":d.get("SettingsDataset_ScheduleRefresh_Timezone_Dateline_Standard_Time"),"UTC-11":d.get("SettingsDataset_ScheduleRefresh_Timezone_UTC_Minus_11"),"Hawaiian Standard Time":d.get("SettingsDataset_ScheduleRefresh_Timezone_Hawaiian_Standard_Time"),"Alaskan Standard Time":d.get("SettingsDataset_ScheduleRefresh_Timezone_Alaskan_Standard_Time"),"Pacific Standard Time":d.get("SettingsDataset_ScheduleRefresh_Timezone_Pacific_Standard_Time"),"Pacific Standard Time (Mexico)":d.get("SettingsDataset_ScheduleRefresh_Timezone_Pacific_Standard_Time_Mexico"),"Mountain Standard Time":d.get("SettingsDataset_ScheduleRefresh_Timezone_Mountain_Standard_Time"),"Mountain Standard Time (Mexico)":d.get("SettingsDataset_ScheduleRefresh_Timezone_Mountain_Standard_Time_Mexico"),"US Mountain Standard Time":d.get("SettingsDataset_ScheduleRefresh_Timezone_US_Mountain_Standard_Time"),"Canada Central Standard Time":d.get("SettingsDataset_ScheduleRefresh_Timezone_Canada_Central_Standard_Time"),"Central America Standard Time":d.get("SettingsDataset_ScheduleRefresh_Timezone_Central_America_Standard_Time"),"Central Standard Time":d.get("SettingsDataset_ScheduleRefresh_Timezone_Central_Standard_Time"),"Central Standard Time (Mexico)":d.get("SettingsDataset_ScheduleRefresh_Timezone_Central_Standard_Time_Mexico"),"Eastern Standard Time":d.get("SettingsDataset_ScheduleRefresh_Timezone_Eastern_Standard_Time"),"SA Pacific Standard Time":d.get("SettingsDataset_ScheduleRefresh_Timezone_SA_Pacific_Standard_Time"),"US Eastern Standard Time":d.get("SettingsDataset_ScheduleRefresh_Timezone_US_Eastern_Standard_Time"),"Venezuela Standard Time":d.get("SettingsDataset_ScheduleRefresh_Timezone_Venezuela_Standard_Time"),"Atlantic Standard Time":d.get("SettingsDataset_ScheduleRefresh_Timezone_Atlantic_Standard_Time"),"Central Brazilian Standard Time":d.get("SettingsDataset_ScheduleRefresh_Timezone_Central_Brazilian_Standard_Time"),"Pacific SA Standard Time":d.get("SettingsDataset_ScheduleRefresh_Timezone_Pacific_SA_Standard_Time"),"SA Western Standard Time":d.get("SettingsDataset_ScheduleRefresh_Timezone_SA_Western_Standard_Time"),"Paraguay Standard Time":d.get("SettingsDataset_ScheduleRefresh_Timezone_Paraguay_Standard_Time"),"Newfoundland Standard Time":d.get("SettingsDataset_ScheduleRefresh_Timezone_Newfoundland_Standard_Time"),"E. South America Standard Time":d.get("SettingsDataset_ScheduleRefresh_Timezone_E_South_America_Standard_Time"),"Greenland Standard Time":d.get("SettingsDataset_ScheduleRefresh_Timezone_Greenland_Standard_Time"),"Montevideo Standard Time":d.get("SettingsDataset_ScheduleRefresh_Timezone_Montevideo_Standard_Time"),"SA Eastern Standard Time":d.get("SettingsDataset_ScheduleRefresh_Timezone_SA_Eastern_Standard_Time"),"Argentina Standard Time":d.get("SettingsDataset_ScheduleRefresh_Timezone_Argentina_Standard_Time"),"Mid-Atlantic Standard Time":d.get("SettingsDataset_ScheduleRefresh_Timezone_Mid_Atlantic_Standard_Time"),"UTC-02":d.get("SettingsDataset_ScheduleRefresh_Timezone_UTC_Minus_2"),"Azores Standard Time":d.get("SettingsDataset_ScheduleRefresh_Timezone_Azores_Standard_Time"),"Cape Verde Standard Time":d.get("SettingsDataset_ScheduleRefresh_Timezone_Cabo_Verde_Standard_Time"),"GMT Standard Time":d.get("SettingsDataset_ScheduleRefresh_Timezone_GMT_Standard_Time"),"Greenwich Standard Time":d.get("SettingsDataset_ScheduleRefresh_Timezone_Greenwich_Standard_Time"),"Morocco Standard Time":d.get("SettingsDataset_ScheduleRefresh_Timezone_Morocco_Standard_Time"),UTC:d.get("SettingsDataset_ScheduleRefresh_Timezone_UTC"),"Central Europe Standard Time":d.get("SettingsDataset_ScheduleRefresh_Timezone_Central_Europe_Standard_Time"),"Central European Standard Time":d.get("SettingsDataset_ScheduleRefresh_Timezone_Central_European_Standard_Time"),"Romance Standard Time":d.get("SettingsDataset_ScheduleRefresh_Timezone_Romance_Standard_Time"),"W. Central Africa Standard Time":d.get("SettingsDataset_ScheduleRefresh_Timezone_W_Central_Africa_Standard_Time"),"W. Europe Standard Time":d.get("SettingsDataset_ScheduleRefresh_Timezone_W_Europe_Standard_Time"),"Namibia Standard Time":d.get("SettingsDataset_ScheduleRefresh_Timezone_Namibia_Standard_Time"),"E. Europe Standard Time":d.get("SettingsDataset_ScheduleRefresh_Timezone_E_Europe_Standard_Time"),"Egypt Standard Time":d.get("SettingsDataset_ScheduleRefresh_Timezone_Egypt_Standard_Time"),"FLE Standard Time":d.get("SettingsDataset_ScheduleRefresh_Timezone_FLE_Standard_Time"),"GTB Standard Time":d.get("SettingsDataset_ScheduleRefresh_Timezone_GTB_Standard_Time"),"Israel Standard Time":d.get("SettingsDataset_ScheduleRefresh_Timezone_Israel_Standard_Time"),"Jordan Standard Time":d.get("SettingsDataset_ScheduleRefresh_Timezone_Jordan_Standard_Time"),"Middle East Standard Time":d.get("SettingsDataset_ScheduleRefresh_Timezone_Middle_East_Standard_Time"),"South Africa Standard Time":d.get("SettingsDataset_ScheduleRefresh_Timezone_South_Africa_Standard_Time"),"Syria Standard Time":d.get("SettingsDataset_ScheduleRefresh_Timezone_Syria_Standard_Time"),"Turkey Standard Time":d.get("SettingsDataset_ScheduleRefresh_Timezone_Turkey_Standard_Time"),"Arab Standard Time":d.get("SettingsDataset_ScheduleRefresh_Timezone_Arab_Standard_Time"),"Arabic Standard Time":d.get("SettingsDataset_ScheduleRefresh_Timezone_Arabic_Standard_Time"),"E. Africa Standard Time":d.get("SettingsDataset_ScheduleRefresh_Timezone_E_Africa_Standard_Time"),"Kaliningrad Standard Time":d.get("SettingsDataset_ScheduleRefresh_Timezone_Kaliningrad_Standard_Time"),"Iran Standard Time":d.get("SettingsDataset_ScheduleRefresh_Timezone_Iran_Standard_Time"),"Russian Standard Time":d.get("SettingsDataset_ScheduleRefresh_Timezone_Russian_Standard_Time"),"Arabian Standard Time":d.get("SettingsDataset_ScheduleRefresh_Timezone_Arabian_Standard_Time"),"Azerbaijan Standard Time":d.get("SettingsDataset_ScheduleRefresh_Timezone_Azerbaijan_Standard_Time"),"Caucasus Standard Time":d.get("SettingsDataset_ScheduleRefresh_Timezone_Caucasus_Standard_Time"),"Georgian Standard Time":d.get("SettingsDataset_ScheduleRefresh_Timezone_Georgian_Standard_Time"),"Mauritius Standard Time":d.get("SettingsDataset_ScheduleRefresh_Timezone_Mauritius_Standard_Time"),"Afghanistan Standard Time":d.get("SettingsDataset_ScheduleRefresh_Timezone_Afghanistan_Standard_Time"),"West Asia Standard Time":d.get("SettingsDataset_ScheduleRefresh_Timezone_West_Asia_Standard_Time"),"Pakistan Standard Time":d.get("SettingsDataset_ScheduleRefresh_Timezone_Pakistan_Standard_Time"),"India Standard Time":d.get("SettingsDataset_ScheduleRefresh_Timezone_India_Standard_Time"),"Sri Lanka Standard Time":d.get("SettingsDataset_ScheduleRefresh_Timezone_Sri_Lanka_Standard_Time"),"Nepal Standard Time":d.get("SettingsDataset_ScheduleRefresh_Timezone_Nepal_Standard_Time"),"Ekaterinburg Standard Time":d.get("SettingsDataset_ScheduleRefresh_Timezone_Ekaterinburg_Standard_Time"),"Central Asia Standard Time":d.get("SettingsDataset_ScheduleRefresh_Timezone_Central_Asia_Standard_Time"),"Bangladesh Standard Time":d.get("SettingsDataset_ScheduleRefresh_Timezone_Bangladesh_Standard_Time"),"Myanmar Standard Time":d.get("SettingsDataset_ScheduleRefresh_Timezone_Myanmar_Standard_Time"),"N. Central Asia Standard Time":d.get("SettingsDataset_ScheduleRefresh_Timezone_N_Central_Asia_Standard_Time"),"SE Asia Standard Time":d.get("SettingsDataset_ScheduleRefresh_Timezone_SE_Asia_Standard_Time"),"North Asia Standard Time":d.get("SettingsDataset_ScheduleRefresh_Timezone_North_Asia_Standard_Time"),"China Standard Time":d.get("SettingsDataset_ScheduleRefresh_Timezone_China_Standard_Time"),"Singapore Standard Time":d.get("SettingsDataset_ScheduleRefresh_Timezone_Singapore_Standard_Tim"),"Taipei Standard Time":d.get("SettingsDataset_ScheduleRefresh_Timezone_Taipei_Standard_Time"),"W. Australia Standard Time":d.get("SettingsDataset_ScheduleRefresh_Timezone_W_Australia_Standard_Time"),"Ulaanbaatar Standard Time":d.get("SettingsDataset_ScheduleRefresh_Timezone_Ulaanbaatar_Standard_Time"),"North Asia East Standard Time":d.get("SettingsDataset_ScheduleRefresh_Timezone_North_Asia_East_Standard_Time"),"Korea Standard Time":d.get("SettingsDataset_ScheduleRefresh_Timezone_Korea_Standard_Time"),"Tokyo Standard Time":d.get("SettingsDataset_ScheduleRefresh_Timezone_Tokyo_Standard_Time"),"AUS Central Standard Time":d.get("SettingsDataset_ScheduleRefresh_Timezone_AUS_Central_Standard_Time"),"Cen. Australia Standard Time":d.get("SettingsDataset_ScheduleRefresh_Timezone_Cen_Australia_Standard_Time"),"Yakutsk Standard Time":d.get("SettingsDataset_ScheduleRefresh_Timezone_Yakutsk_Standard_Time"),"AUS Eastern Standard Time":d.get("SettingsDataset_ScheduleRefresh_Timezone_AUS_Eastern_Standard_Time"),"E. Australia Standard Time":d.get("SettingsDataset_ScheduleRefresh_Timezone_E_Australia_Standard_Time"),"Tasmania Standard Time":d.get("SettingsDataset_ScheduleRefresh_Timezone_Tasmania_Standard_Time"),"West Pacific Standard Time":d.get("SettingsDataset_ScheduleRefresh_Timezone_West_Pacific_Standard_Time"),"Vladivostok Standard Time":d.get("SettingsDataset_ScheduleRefresh_Timezone_Vladivostok_Standard_Time"),"Central Pacific Standard Time":d.get("SettingsDataset_ScheduleRefresh_Timezone_Central_Pacific_Standard_Time"),"Magadan Standard Time":d.get("SettingsDataset_ScheduleRefresh_Timezone_Magadan_Standard_Time"),"Fiji Standard Time":d.get("SettingsDataset_ScheduleRefresh_Timezone_Fiji_Standard_Time"),"New Zealand Standard Time":d.get("SettingsDataset_ScheduleRefresh_Timezone_New_Zealand_Standard_Time"),"UTC+12":d.get("SettingsDataset_ScheduleRefresh_Timezone_UTC_Plus_12"),"Tonga Standard Time":d.get("SettingsDataset_ScheduleRefresh_Timezone_Tonga_Standard_Time"),"Samoa Standard Time":d.get("SettingsDataset_ScheduleRefresh_Timezone_Samoa_Standard_Time")}}static refreshTimeZonesViewModel(d){var o=[];return _.forOwn(this.refreshTimeZones(d),(v,m)=>{o.push({key:m,value:v})}),o}}},169926:function(ve,j,e){function r(){return[{name:"\u0627\u0644\u0639\u064e\u0631\u064e\u0628\u0650\u064a\u0629",code:"ar",lcid:"1025"},{name:"Basque",code:"eu",lcid:"1069"},{name:"\u0411\u044a\u043b\u0433\u0430\u0440\u0441\u043a\u0438",code:"bg",lcid:"1026"},{name:"catal\xe0",code:"ca",lcid:"1027"},{name:"\u4e2d\u6587(\u7b80\u4f53)",code:"zh-Hans",lcid:"2052"},{name:"\u4e2d\u6587(\u7e41\u9ad4)",code:"zh-Hant",lcid:"1028"},{name:"hrvatski",code:"hr",lcid:"1050"},{name:"\u010de\u0161tina",code:"cs",lcid:"1029"},{name:"dansk",code:"da",lcid:"1030"},{name:"Nederlands",code:"nl",lcid:"1043"},{name:"English",code:"en-US",lcid:"1033"},{name:"eesti",code:"et",lcid:"1061"},{name:"suomi",code:"fi",lcid:"1035"},{name:"fran\xe7ais",code:"fr",lcid:"1036"},{name:"galego",code:"gl",lcid:"1110"},{name:"Deutsch",code:"de",lcid:"1031"},{name:"\u0395\u03bb\u03bb\u03b7\u03bd\u03b9\u03ba\u03ac",code:"el",lcid:"1032"},{name:"\u05e2\u05d1\u05e8\u05d9\u05ea",code:"he",lcid:"1037"},{name:"\u0939\u093f\u0902\u0926\u0940",code:"hi",lcid:"1081"},{name:"magyar",code:"hu",lcid:"1038"},{name:"Bahasa Indonesia",code:"id",lcid:"1057"},{name:"italiano",code:"it",lcid:"1040"},{name:"\u65e5\u672c\u8a9e",code:"ja",lcid:"1041"},{name:"\u049a\u0430\u0437\u0430\u049b",code:"kk",lcid:"1087"},{name:"\ud55c\uad6d\uc5b4",code:"ko",lcid:"1042"},{name:"latvie\u0161u",code:"lv",lcid:"1062"},{name:"lietuvi\u0173",code:"lt",lcid:"1063"},{name:"Bahasa Melayu",code:"ms",lcid:"1086"},{name:"norsk (bokm\xe5l)",code:"no",lcid:"1044"},{name:"Polski",code:"pl",lcid:"1045"},{name:"Portugu\xeas (Brasil)",code:"pt-BR",lcid:"1046"},{name:"Portugu\xeas (Portugal)",code:"pt-PT",lcid:"2070"},{name:"rom\xe2n\u0103",code:"ro",lcid:"1048"},{name:"\u0420\u0443\u0441\u0441\u043a\u0438\u0439",code:"ru",lcid:"1049"},{name:"\u0441\u0440\u043f\u0441\u043a\u0438",code:"sr-Cyrl",lcid:"3098"},{name:"srpski",code:"sr-Latn",lcid:"2074"},{name:"sloven\u010dina",code:"sk",lcid:"1051"},{name:"slovenski",code:"sl",lcid:"1060"},{name:"espa\xf1ol",code:"es",lcid:"1034"},{name:"svenska",code:"sv",lcid:"1053"},{name:"\u0e44\u0e17\u0e22",code:"th",lcid:"1054"},{name:"T\xfcrk\xe7e",code:"tr",lcid:"1055"},{name:"\u0443\u043a\u0440\u0430\u0457\u043d\u0441\u044c\u043a\u0430",code:"uk",lcid:"1058"},{name:"Ti\u1ebfng Vi\u1ec7t",code:"vi",lcid:"1066"}]}e.d(j,{Q:function(){return r}})},688632:function(ve,j,e){e.d(j,{y:function(){return n}});var r=e(650543),i=e(84838),a=e(734531);class n{constructor(s,d){this.promiseFactory=s,this.httpService=d,r.f.assertValue(s,"promiseFactory"),r.f.assertValue(d,"httpService"),this.isEnabled=!0,this.requestDeferred=this.promiseFactory.defer(),this.requestDeferred.resolve(null),this.longPollInitialized=!1,this.lastLongPollCancelled=!1,this.lastLongPollTimedOut=!1,this.retryCount=0}startMonitoring(s=0){this.longPollInitialized||(this.longPollInitialized=!0,this.isEnabled=!0,this.requestDelay&&clearTimeout(this.requestDelay),this.requestDelay=setTimeout(()=>{this.sendLongPollRequest()},s))}setLongPollInitialized(s){this.longPollInitialized=s}cancelCurrentRequest(){this.lastLongPollCancelled=!0,this.requestDeferred.resolve(null),this.longPollInitialized=!1,this.requestDelay&&clearTimeout(this.requestDelay)}pause(){this.paused=!0,this.cancelCurrentRequest()}resume(){this.paused=!1,this.startMonitoring()}trySendRequest(s){var d=this.requestOptions,o=d.headers.Authorization,v=!1;if(o){var m=o.split(" ");v=m.length>1&&!(0,a.g)(m[1])&&"undefined"!==m[1]}if(v)return this.httpService.post(this.getEndpointUrl(),{request:s},d);i.fM.warning("Auth token not available, avoiding powerbi/refresh/subscribe request")}get requestHeader(){return null}get longPollDurationInMs(){return 6e4}get requestOptions(){var s=this.requestDeferred;r.f.assertValue(s,"requestDeferred"),this.lastLongPollTimedOut=!1,this.lastLongPollCancelled=!1,setTimeout(()=>{this.lastLongPollTimedOut=!0,s.resolve(null)},this.longPollDurationInMs);var d=this.httpService.powerbiRequestOptions(null,null,this.requestHeader,!0);return d.retryCount=0,d.timeout=s.promise,d.silentlyFailOnExpiry=!0,d}sendLongPollRequest(){if(!this.paused&&this.isEnabled){this.requestDeferred=this.promiseFactory.defer();var s=this.getRequest();if(!s)return void this.reset();var d=this.trySendRequest(s);if(!d)return;d.then(o=>{this.retryCount=0,this.requestDeferred.resolve(null),this.processResponse(o.data),this.sendLongPollRequest()},o=>{this.requestDeferred.resolve(null),this.lastLongPollTimedOut?(this.retryCount=0,this.sendLongPollRequest()):this.lastLongPollCancelled?this.retryCount=0:this.retryCount<3?(this.retryCount++,this.sendLongPollRequest()):(this.processError(o&&o.error),this.suspend())})}}suspend(){var s=this.promiseFactory.defer();s.promise.then(()=>{this.cancelCurrentRequest(),this.startMonitoring()});var d=o=>{o&&(this.httpService.unregisterResponseCallback(d),s.resolve(null))};this.httpService.registerResponseCallback(d),setTimeout(()=>{s.resolve(null)},12e4)}reset(){this.longPollInitialized=!1,this.lastLongPollTimedOut=!1,this.lastLongPollCancelled=!1}}},217567:function(ve,j,e){e.d(j,{z:function(){return p}});var r=e(24769),i=e(650543),a=e(742427),t=e(983560),l=window,g=function(s){return s[s.InternalScript=0]="InternalScript",s[s.InternalStyle=1]="InternalStyle",s[s.ExternalScript=2]="ExternalScript",s[s.ExternalStyle=3]="ExternalStyle",s}({});function n(s,d,o=!0,v){var C,y,m=(0,a.Xr)(),c="";switch(o&&(c=r.s.getQueryStringValue("unmin")?"":".min"),d){case g.InternalScript:C="scripts",y=".js";break;case g.InternalStyle:C="styles",y=".css";break;case g.ExternalScript:C="externals",y=".js";break;case g.ExternalStyle:C="externals",y=".css";break;default:i.f.assertNever(d)}var S=[m];if("True"===l.useCDN&&l.hashMappings){var h;h=v?[v,C,`${s}${c}${y}`].join("/"):[C,`${s}${c}${y}`].join("/");var E=(0,t.i)();E.isRtlLayout&&(d===g.InternalStyle||d===g.ExternalStyle)&&(h=h.indexOf(".min")>-1?h.replace(".min.css",".rtl.min.css"):h.replace(".css",".rtl.css"));var u=l.hashMappings[h];if(!u&&E.isRtlLayout&&(d===g.InternalStyle||d===g.ExternalStyle)&&(h=h.replace(".rtl.min.css",".min.rtl.css"),u=l.hashMappings[h]),u)return[S=l.cdnUrl,u.substring(0,u.indexOf(y))].join("/")}return v&&S.push(v),[...S||[],C,`${s}${c}`].join("/")}function p(){return{waitSeconds:9007199254740991,paths:{"angular-ui-datetimepicker":n("angular-ui-datetimepicker",g.ExternalScript,!0),"d3-array":n("d3-array",g.ExternalScript,!0),"d3-geo":n("d3-geo",g.ExternalScript,!0),"es6-promise":n("es6-promise",g.ExternalScript,!0),filesaver:n("filesaver",g.ExternalScript,!0),"jquery-qrcode":n("jquery-qrcode",g.ExternalScript,!0),"jquery-ui":n("jquery-ui",g.ExternalScript,!0),msrcrypto:n("msrcrypto",g.ExternalScript,!0),ngTagsInput:n("ngTagsInput",g.ExternalScript,!0),pubnub:n("pubnub",g.ExternalScript,!0),quill:n("quill",g.ExternalScript,!0),resizeSensor:n("resizeSensor",g.ExternalScript,!0),"powerbi-models":n("powerbi-models",g.ExternalScript,!0),topojson:n("topojson",g.ExternalScript,!0),cropperjs:n("cropper",g.ExternalScript,!0),"globalize.cultures":n("jquery.globalize/globalize.cultures",g.InternalScript,!1)},bundles:{},cssPaths:{"jquery-ui":n("jquery-ui.min",g.ExternalStyle,!1),ngTagsInput:n("ngTagsInput",g.ExternalStyle,!0),"quill.core":n("quill.core",g.ExternalStyle,!1),cropperjs:n("cropper",g.ExternalStyle,!1),accessibleTableVisual:n("accessibleTableVisual",g.InternalStyle,!0),adminPortal:n("adminPortal",g.InternalStyle,!0),advancedSlicerVisual:n("advancedSlicerVisual",g.InternalStyle,!0),aiNarrativesVisual:n("aiNarrativesVisual",g.InternalStyle,!0),azureMapVisuals:n("azureMapVisuals",g.InternalStyle,!0),capacityAdmin:n("capacityAdmin",g.InternalStyle,!0),cardVisual:n("cardVisual",g.InternalStyle,!0),exploreUIDialogs:n("exploreUIDialogs",g.InternalStyle,!0),getData:n("getData",g.InternalStyle,!0),mobileAuthoring:n("mobileAuthoring",g.InternalStyle,!0),permissions:n("permissions",g.InternalStyle,!0),pivotTableVisuals:n("pivotTableVisuals",g.InternalStyle,!0),rdlVisual:n("rdlVisual",g.InternalStyle,!0),scorecardVisual:n("scorecardVisual",g.InternalStyle,!0),settings:n("settings",g.InternalStyle,!0),sharing:n("sharing",g.InternalStyle,!0),textSlicerVisual:n("textSlicerVisual",g.InternalStyle,!0)}}}},492443:function(ve,j,e){e.d(j,{I:function(){return a}});var r=e(941597),i=e(252360);function a(t,l,g){return(0,i.I)((0,r.k2)(t,l),g)}},209663:function(ve,j,e){e.d(j,{CJ:function(){return v},I:function(){return i},Zg:function(){return a},a9:function(){return d},av:function(){return o},eg:function(){return n},gY:function(){return p},lV:function(){return t},lZ:function(){return s},p2:function(){return y},sw:function(){return c}});var r=e(200771),i=44,a=50,t=4,n=1,p=1,s=2*n,d=2*p,o=3*n,v=3*p;function c(){return{rowSpan:s,colSpan:d}}function y(T){return{height:T.rowSpan*r.lT-r.zy,width:T.colSpan*r.A4-r.zy}}c()},200771:function(ve,j,e){e.d(j,{A4:function(){return r},lT:function(){return i},zy:function(){return a}});var r=260,i=180,a=10},317398:function(ve,j,e){e.d(j,{Ue:function(){return t},pi:function(){return g},rc:function(){return i},yx:function(){return a}});var r=e(756646),i="x-powerbi-error-info",a="x-powerbi-error-details";function t(n,p,s,d){var o={method:n,url:p};return void 0!==d&&(o.data=d),Object.assign(o,s)}function g(n){(0,r.hG)().httpService=n}},348433:function(ve,j,e){e.d(j,{h1:function(){return i},oY:function(){return a},pm:function(){return g}});var r=e(756646);function i(p){return p||(0,r.hG)().localize}function a(p){(0,r.hG)().localize=p}function g(){return(0,r.hG)().localizedStrings}},440742:function(ve,j,e){e.d(j,{n$:function(){return i},uD:function(){return t}});var r=e(756646);function i(){return(0,r.hG)().cultureInfo}function t(){return(0,r.hG)().unmappedCultureInfo}},810760:function(ve,j,e){e.d(j,{z:function(){return g}});var r=e(892110),i=e(143747),a=e(650543),t=e(418431),l=e(526519);function g(m,c,C,y){return new v(m,c,C,y)}var n="overlayActive",p="overlay";class v{constructor(c,C,y,S){this.root=y,this.rtl=S,this.dropdowns=[],this.$window=$(c).on(t.Ti+".overlayService",h=>this.mouseClickHideDialog(h,this.dropdowns)).on("resize.overlayService",()=>this.hideAllDropdowns()),this.root=y||$("body")}onDestroy(){$(this.$window).off(t.Ti+".overlayService"),$(this.$window).off("resize.overlayService")}register(c,C){this.dropdowns.push({element:c}),c.addClass(p).appendTo(C||this.root)}unregister(c){_.remove(this.dropdowns,C=>C.element.is(c)),c.removeClass(p).removeClass(n).remove()}isRegistered(c){return _.some(this.dropdowns,C=>C.element.is(c))}mouseClickHideDialog(c,C){!_.some(this.dropdowns,S=>S.element.hasClass(n)&&!this.outOfBoundsClickHandler(c,S.element))&&this.hideAllDropdowns(!0)}showOverlay(c,C){if(a.f.assert(()=>+!(!C.anchorElement&&!C.anchorDimensions)+ +!!C.position==1,"Must specify either position or [anchorElement and/or anchorDimensions], but not more than one"),a.f.assert(()=>c.length>0,"element to show does not exist."),C.hideExistingOverlays&&this.hideAllDropdownsExcept(!0,c),c.addClass(n),c.attr("aria-modal","false"),c.attr("role","dialog"),C.anchorElement||C.anchorDimensions){C.blurNeeded&&this.registerBlurHandler(C.anchorElement,C.disableAnimation);var y=C.anchorDimensions||(0,l.E)(C.anchorElement);this.repositionDropdownWithAnchorCoordinates(c,y,!!C.preferLeft,C.horizontal,C.showOutsideAnchorElement,C.showIndicator,C.scale)}else C.position&&C.showInsideVisibleArea?this.repositionDropdownWithAnchorCoordinates(c,{left:C.position.x,top:C.position.y,width:0,height:0},!!C.preferLeft,!1,C.showOutsideAnchorElement,C.showIndicator,C.scale):C.position&&this.repositionDropdown(c,C.position);var S=_.filter(this.dropdowns,u=>u.element.is(c));if(!_.isEmpty(S)){var h=S[0];h.escHandler=u=>{this.keyPress(u,h,C.anchorElement)};var E=h.element.get(0);E&&E.addEventListener("keydown",h.escHandler),h.isModal=C.isModal,h.returnFocusToElement=C.returnFocusToElement}this.registerScrollHandler(),r.IK.focusChildInGroup(c.get(0))}registerScrollHandler(){setTimeout(()=>this.registerScrollHandlerCore())}registerScrollHandlerCore(){this.scrollEventListener||(this.scrollEventListener=c=>{this.isResizeSensorScrollEvent(c)||$(c.target).parents().addBack().hasClass(n)||this.hideAllDropdowns()},document.addEventListener("scroll",this.scrollEventListener,!0))}unregisterScrollHandler(){document.removeEventListener("scroll",this.scrollEventListener,!0),this.scrollEventListener=void 0}keyPress(c,C,y){!c.skipOverlayServiceEscHandler&&c.keyCode===t.mW.escKeyCode&&(y&&y.focus(),this.hideDropdown(C,!0),c.stopPropagation())}registerBlurHandler(c,C){c.on("focusout.overlay",y=>{c.off("focusout.overlay"),setTimeout(()=>this.hideAllDropdowns(!!C))})}getOverlayElement(c,C){var y=this.getOverlaySelector(c);return C?C.siblings(y):$(y)}getOverlaySelector(c){return`[dropdown-overlay-name="${c}"]`}outOfBoundsClickHandler(c,C){return!$(c.target).parents().addBack().hasClass(n)}repositionDropdownWithAnchorCoordinates(c,C,y,S,h,E,u){var D,w,N,W,F,f=this.$window.width(),b=this.$window.height(),V=c.find(".explorationAppBarMenu"),T=V.length?V.outerWidth(!0):c.outerWidth(!0),P=V.length?V.outerHeight(!0):c.outerHeight(!0),M=null==u?T:T*u,A=null==u?P:P*u,R=E?16:0,B=E?Math.floor(Math.sqrt(R*R+R*R)/2):0;if(S){var U,O,x;if(O=C.left,w=(F=A+(U=C.top)-R>b)?U+C.height-P+R:U-R,this.rtl&&this.rtl.isRtlLayout){var I=(x=O)-M-B<0;W=!I,D=I?x+B:x-T-B}else{var L=M+(x=O+C.width)+B>f;W=L,D=L?x-T-B:x+B}h&&D+T>=O&&D<x&&(D=O-T)}else{var z,K=C.top+C.height;if(w=(F=A+K-R>b)?K-P+R:K-R,y||this.rtl&&this.rtl.isRtlLayout){var H=(z=C.left+C.width)-T-B<0;W=!H,D=H?z-C.width+B:z-T-B}else D=(W=T+(z=C.left)+B>f)?z+C.width-T-B:z+B;D<0&&(D=z)}w<0&&(w=10);var k={x:Math.ceil(D),y:w};if(E){var G=C.top-k.y-R/2;G<0?G+=R:G>c.height()-R&&(G-=R),N={top:G},k.x>=C.left?N.left=-8:N.right=-8}this.repositionDropdown(c,k,N,u,W,F)}repositionDropdown(c,C,y,S,h,E){y&&c.append($.parseHTML(`<div class="indicator" style="position: absolute;transform: rotate(45deg);height: 16px;width: 16px;top: ${y.top}px;${y.left?`left: ${y.left}px`:`right: ${y.right}px`};"></div>`));var P={top:C.y,left:C.x};void 0!==S&&(P.transform=`scale(${S})`,P["transform-origin"]=`${h?"right":"left"} ${E?"bottom":"top"}`),c.css(P)}hideAllDropdowns(c,C,y){var S;C||(S=_.find(this.dropdowns,h=>h.isModal)),this.hideAllDropdownsExcept(c,S&&S.element)}hideAllDropdownsExcept(c,C){var y=[];for(var S of this.dropdowns)S&&!S.element.is(C)&&S.element.hasClass(n)&&(this.hideDropdown(S,c),y.push(S));this.removeAllFromRegister(y)}hideDropdown(c,C){if(c.escHandler){var y=c.element.get(0);y&&y.removeEventListener("keydown",c.escHandler),c.escHandler=null}c.returnFocusToElement&&c.returnFocusToElement.focus(),C?this.hideOverlay(c):c.element.animate({opacity:0},250,()=>this.hideOverlay(c)),this.unregisterScrollHandler(),this.removeSingleFromRegister(c)}removeSingleFromRegister(c){c.element.trigger(i.HV_)}removeAllFromRegister(c){_.forEach(c,C=>C.element.trigger(i.HV_))}hideOverlay(c){c.element.removeClass(n).removeAttr("style")}isResizeSensorScrollEvent(c){return c&&$(c.target).parent().hasClass("ResizeSensor")}}},218409:function(ve,j,e){function r(i){var a=[];for(var t in i){var l=i[t];!l.start||!l.end||a.push({start:new Date(l.start).toISOString(),end:new Date(l.end).toISOString(),startEval:l.startEval?new Date(l.startEval).toISOString():void 0,endEval:l.endEval?new Date(l.endEval).toISOString():void 0,fileName:t})}return a}e.d(j,{p:function(){return r}})},983560:function(ve,j,e){e.d(j,{B:function(){return i},i:function(){return a}});var r=e(756646);function i(){return(0,r.hG)().isCurrentContextRtl}function a(){return{isRtlLayout:"True"===i()}}},740349:function(ve,j,e){e.d(j,{K:function(){return l},W:function(){return t}});var r=e(661248),i=e(79365),a=e(908911);function t(g,n){return null==g?!n:"string"==typeof g&&(0,i.cu)(g)}function l(g,n=[],p){var s=["background","foreground","accent","tableAccent","foreground","foregroundLight","foregroundDark","foregroundNeutralLight","foregroundNeutralDark","foregroundNeutralSecondary","foregroundNeutralSecondaryAlt","foregroundNeutralSecondaryAlt2","foregroundNeutralTertiary","foregroundNeutralTertiaryAlt","foregroundSelected","foregroundButton","background","backgroundLight","backgroundNeutral","backgroundDark","hyperlink","visitedHyperlink","shapeStroke","disabledText","mapPushpin","good","neutral","bad","maximum","center","minimum","null","firstLevelElements","secondLevelElements","thirdLevelElements","fourthLevelElements","secondaryBackground"],d=["title","label","callout","header","largeTitle","dataTitle","boldLabel","largeLabel","largeLightLabel","lightLabel","semiboldLabel","smallLabel","smallLightLabel","smallDataLabel"],o=["$schema","name","dataColors","textClasses","visualStyles","isHighContrast","icons"].concat(s,d,n);try{var v=(0,r.K)(g);if(_.isObject(v)&&!_.isArray(v)&&!p){var c=v.name;if(!c||!_.isString(c))throw new Error("Theme name missing");var C=v.dataColors;if(null!=C&&(!_.isArray(C)||_.some(C,f=>!t(f,!0))))throw new Error("Invalid theme data colors");for(var y of s)if(!t(v[y],!1))throw new Error("Invalid theme data color");for(var S in v)if(-1===o.indexOf(S))throw new Error("Invalid theme field: "+S);var h=v.textClasses;if(!_.isEmpty(h))for(var E in h)if(-1===d.indexOf(E))throw new Error("Invalid theme text class: "+E)}if(v){if(!_.isEmpty(v.dataColors)){var u=a.ng.getDefaultColors();v.dataColors.length<u.length&&(v.dataColors=v.dataColors.concat(u.slice(v.dataColors.length).map(f=>f.value)))}return v}}catch{}}},56257:function(ve,j,e){function t(g){return new l(g)}e.d(j,{i0:function(){return t}});class l{constructor(n){this.promiseFactory=n,this.queueDictionaryForBigDelays={},this.queueDictionaryForSmallDelays={}}setTimeout(n=0,p=!1){var s=this.promiseFactory.defer(p),d=50,o=this.queueDictionaryForBigDelays;n<=100&&(d=5,o=this.queueDictionaryForSmallDelays);var v=-1===n?-1:n?Math.ceil((Date.now()+n)/d):0,m=o[v];if(!m){m=o[v]=[];var c=()=>{delete o[v],_.forEach(m,C=>C.resolve(null))};-1===n?Zone.root.scheduleMicroTask("TimeoutService.scheduleMicroTask",c):window.setTimeout(c,n)}return m.push(s),s}}},464105:function(ve,j,e){e.d(j,{$9:function(){return et},$d:function(){return rt},Bl:function(){return Gr},CF:function(){return Ue},F4:function(){return Qt},F5:function(){return Qr},Fx:function(){return He},G7:function(){return L},GA:function(){return w},Gf:function(){return V},Gl:function(){return Jt},JJ:function(){return a},Jw:function(){return Ee},Ob:function(){return je},P9:function(){return ye},PI:function(){return qe},Q5:function(){return Se},Rx:function(){return l},S$:function(){return n},SR:function(){return we},Sh:function(){return Q},Sj:function(){return Ke},Sr:function(){return Br},TO:function(){return Y},VV:function(){return te},Wc:function(){return ue},Wm:function(){return ft},Xv:function(){return x},ZD:function(){return he},Zp:function(){return Pt},_m:function(){return Jr},aR:function(){return Qe},ao:function(){return lr},bD:function(){return Rt},be:function(){return st},cR:function(){return t},eU:function(){return Ve},eg:function(){return bt},ej:function(){return i},f8:function(){return de},fS:function(){return zr},fq:function(){return G},gP:function(){return U},gc:function(){return P},gu:function(){return Xr},iE:function(){return Fr},j6:function(){return pt},jD:function(){return qr},kG:function(){return tt},lj:function(){return J},lt:function(){return at},q0:function(){return jr},qN:function(){return Pe},qi:function(){return ct},rM:function(){return _r},ty:function(){return it},uL:function(){return o},vF:function(){return lt},w$:function(){return g},xT:function(){return X},xb:function(){return A},xo:function(){return Vr},xx:function(){return z},zu:function(){return me}});var r=e(641409),i=function(Xt){return Xt.Unknown="Unknown",Xt.ReportMessage="ReportMessage",Xt.ShareDashboard="ShareDashboard",Xt.ConnectApps="ConnectApps",Xt.ConnectContentProvider="ConnectContentProvider",Xt.ConnectContentPacks="ConnectContentPacks",Xt.CopyArtifact="CopyArtifact",Xt.QuotaExceededTrialAndPaidUser="QuotaExceededTrialAndPaidUser",Xt.QuotaExceededTrialUser="QuotaExceededTrialUser",Xt.ManageStorageView="ManageStorageView",Xt.Dataset="Dataset",Xt.Dataflow="Dataflow",Xt.CreateGroups="CreateGroups",Xt.SwitchGroups="SwitchGroups",Xt.LandingGroups="LandingGroups",Xt.SwitchDashboards="SwitchDashboards",Xt.InitialDashboardLoad="InitialDashboardLoad",Xt.NotificationBar="NotificationBar",Xt.EmailLink="EmailLink",Xt.RLS="RLS",Xt.DashboardEmailSubscription="DashboardEmailSubscription",Xt.ReportEmailSubscription="ReportEmailSubscription",Xt.UsageMetrics="UsageMetrics",Xt.ProModels="ProModels",Xt.ScriptVisual="ScriptVisual",Xt.Sharing="Sharing",Xt.ExportToPowerPoint="ExportToPowerPoint",Xt.ExportToPdf="ExportToPdf",Xt.PremiumContentProviders="PremiumContentProviders",Xt.AnalyzeInExcel="AnalyzeInExcel",Xt.NavigationBar="NavigationBar",Xt.AuthorApps="AuthorApps",Xt.TutorialPopup="TutorialPopup",Xt.ExportData="ExportData",Xt.AccessApps="AccessApps",Xt.ServiceApps="ServiceApps",Xt.AppPersonalize="AppPersonalize",Xt.HomeUpgradeBar="HomeUpgradeBar",Xt.UserInfoMenu="UserInfoMenu",Xt.DeploymentPipelines="DeploymentPipelines",Xt.SharepointList="SharepointList",Xt.UploadFile="UploadFile",Xt.CreateScorecardPane="CreateScorecardPane",Xt.OpenAutomatedInsights="OpenAutomatedInsights",Xt.CreateReport_DatasetAction="CreateReport_DatasetAction",Xt.CreatePaginatedReport_DatasetAction="CreatePaginatedReport_DatasetAction",Xt.SettingsNavigation_DatasetAction="SettingsNavigation_DatasetAction",Xt.ManagePermissions_DatasetAction="ManagePermissions_DatasetAction",Xt.ChatInTeams_DatasetAction="ChatInTeams_DatasetAction",Xt.ViewLineage_DatasetAction="ViewLineage_DatasetAction",Xt.DownloadPbix_DatasetAction="DownloadPbix_DatasetAction",Xt.RefreshNow_DatasetAction="RefreshNow_DatasetAction",Xt.Rename_DatasetAction="Rename_DatasetAction",Xt.DeleteConfirmation_DatasetAction="DeleteConfirmation_DatasetAction",Xt.ScheduleRefresh_DatasetAction="ScheduleRefresh_DatasetAction",Xt.RequestAccess_Dataset="RequestAccess_Dataset",Xt.ImpactAnalysis_Dataset="ImpactAnalysis_Dataset",Xt.ShowTable_Dataset="ShowTable_Dataset",Xt.Scan_Dataset="Scan_Dataset",Xt.NewMigrationPane="NewMigrationPane",Xt.CreatePowerBIArtifact="CreatePowerBIArtifact",Xt.CreateTridentArtifact="CreateTridentArtifact",Xt.DlpAction="DlpAction",Xt.PurviewHub="PurviewHub",Xt.OneDriveViewer="OneDriveViewer",Xt.DataExploration="DataExploration",Xt.CreatePaginatedReport="CreatePaginatedReport",Xt.DeleteConfirmation="DeleteConfirmation",Xt.DeveloperPlayground="DeveloperPlayground",Xt.DownloadReport="DownloadReport",Xt.EditArtifact="EditArtifact",Xt.EmbedReport="EmbedReport",Xt.ManagePermissions="ManagePermissions",Xt.MoveTo="MoveTo",Xt.OpenDataModel="OpenDataModel",Xt.PublishToWeb="PublishToWeb",Xt.Rename="Rename",Xt.SaveACopy="SaveACopy",Xt.SaveAs="SaveAs",Xt.SettingsNavigation="SettingsNavigation",Xt.ViewLineage="ViewLineage",Xt}({}),a=function(Xt){return Xt.Unknown="Unknown",Xt.Accept="Accept",Xt.Cancel="Cancel",Xt.Upgrade="Upgrade",Xt.Error="Error",Xt.BuyNow="BuyNow",Xt}({}),t=function(Xt){return Xt.Dashboard="Dashboard",Xt.Report="Report",Xt}({}),l=function(Xt){return Xt.Models="Models",Xt.Packages="Packages",Xt.DirectLake="DirectLake",Xt}({}),g=function(Xt){return Xt.Unknown="Unknown",Xt.GET="GET",Xt.POST="POST",Xt.PUT="PUT",Xt.PATCH="PATCH",Xt.DELETE="DELETE",Xt}({}),n=function(Xt){return Xt.TenantSet="TenantSet",Xt.SelfServeEligible="SelfServeEligible",Xt.Ineligible="Ineligible",Xt.Unknown="Unknown",Xt}({}),p="PBI.Dashboard.BITokenRefreshPrompt",d=(r.cx[p]=(0,r.b1)(p),"PBI.Dashboard.FailedToRefreshToken"),o=r.cx[d]=(0,r.b1)(d),v="PBI.Dashboard.OpenLink",c=(r.cx[v]=(0,r.b1)(v),"PBI.MashUpContentProvider.ConnectButtonClicked"),y=(r.cx[c]=(0,r.b1)(c),"PBI.MashUpContentProvider.OrgAppPassThrough"),h=(r.cx[y]=(0,r.b1)(y),"PBI.MashUpContentProvider.PreparePackageSucceed"),u=(r.cx[h]=(0,r.b1)(h),"PBI.MashUpContentProvider.GetPackageModels"),b=(r.cx[u]=(0,r.b1)(u),"PBI.MashUpContentProvider.SaveModelParameters"),V=r.cx[b]=(0,r.b1)(b),T="PBI.MashUpContentProvider.GetAggregatedDatasourcesForImport",P=r.cx[T]=(0,r.b1)(T),D="PBI.MashUpContentProvider.UpdateDatasource",w=r.cx[D]=(0,r.b1)(D),M="PBI.MashUpContentProvider.ValidateParameters",A=r.cx[M]=(0,r.b1)(M),R="PBI.ContentProvider.UrlParametersPassed",N=(r.cx[R]=(0,r.b1)(R),"PBI.ContentProvider.UrlParametersDecodingFailed"),F=(r.cx[N]=(0,r.b1)(N),"PBI.ContentProvider.Http.GetContentProviders"),U=r.cx[F]=(0,r.b1)(F),O="PBI.Dashboard.SettingsDatasetsSaveRefreshSettings",x=r.cx[O]=(0,r.b1)(O),I="PBI.Dashboard.ParametersDialogSaveParameters",L=r.cx[I]=(0,r.b1)(I),K="PBI.Dashboard.RefreshNowFailedToRetrieveModel",z=r.cx[K]=(0,r.b1)(K),H="PBI.Dashboard.AuthenticationDialogSaveCredentials",J=r.cx[H]=(0,r.b1)(H),k="PBI.Dashboard.RetrieveGateway",G=r.cx[k]=(0,r.b1)(k),q="PBI.Dashboard.PrepareRefreshNow",Q=r.cx[q]=(0,r.b1)(q),Z="PBI.Dashboard.GetAggregatedDatasourcesForOneModel",X=r.cx[Z]=(0,r.b1)(Z),re="PBI.Dashboard.DatasetRefresh",te=r.cx[re]=(0,r.b1)(re),se="PBI.Dashboard.DatasetRefreshCancellation",Ve=r.cx[se]=(0,r.b1)(se),ke="PBI.Dashboard.InitializeSettingsDatasetModel",Ue=r.cx[ke]=(0,r.b1)(ke),ot="PBI.Dashboard.GetRefreshHistory",ft=r.cx[ot]=(0,r.b1)(ot),Ct="PBI.Dashboard.GetGroupIcon",Ke=r.cx[Ct]=(0,r.b1)(Ct),Ae="PBI.Dashboard.RefreshAndGetUserMetadata",we=r.cx[Ae]=(0,r.b1)(Ae),Ne="PBI.UserInfo.RefreshUserServicePlan",Se=r.cx[Ne]=(0,r.b1)(Ne),Ie="PBI.UserInfo.GetSelfServiceEligibility",me=r.cx[Ie]=(0,r.b1)(Ie),Oe="PBI.UserInfo.GetIsModernCommerceAdmin",Ee=r.cx[Oe]=(0,r.b1)(Oe),xe="PBI.Quota.UpgradeInteraction",ye=r.cx[xe]=(0,r.b1)(xe),Je="PBI.LicenseEnforcement.ShowFeatureDisabledDialog",he=r.cx[Je]=(0,r.b1)(Je),Ce="PBI.LicenseEnforcement.ShowStartFreeTrialDialog",je=r.cx[Ce]=(0,r.b1)(Ce),pe="PBI.LicenseEnforcement.ShowUpgradeToProDialog",Qe=r.cx[pe]=(0,r.b1)(pe),ut="PBI.LicenseEnforcement.Accept2017proTrial",lt=r.cx[ut]=(0,r.b1)(ut),Et="PBI.LicenseEnforcement.AutoTrialAssignment",bt=r.cx[Et]=(0,r.b1)(Et),Ot="PBI.TeamsLicenseEnforcement.UpgradeNowClick",ne=(r.cx[Ot]=(0,r.b1)(Ot),"PBI.TeamsLicenseEnforcement.UpgradeNowAbandon"),$e=(r.cx[ne]=(0,r.b1)(ne),"PBI.DashboardAndReports.Print"),qe=r.cx[$e]=(0,r.b1)($e,{logExpAssignment:!0}),dt="PBI.DashboardAndReports.AnalyzeInExcel",rt=r.cx[dt]=(0,r.b1)(dt,{logExpAssignment:!0}),ce="PBI.DeprecatedNotificationToastUsage",ae=(r.cx[ce]=(0,r.b1)(ce),"PBI.DomainHelper.GetVerifiedDomains"),de=r.cx[ae]=(0,r.b1)(ae),ee="PBI.NewerExplorationVersion",Pe=r.cx[ee]=(0,r.b1)(ee),We="PBI.DeveloperVisualEnabledChanged",it=r.cx[We]=(0,r.b1)(We),yt="PBI.ModuleLoad",et=r.cx[yt]=(0,r.b1)(yt),mt="PBI.ModuleLoadError",Y=(r.cx[mt]=(0,r.b1)(mt),function(Xt){return Xt.Data="Data",Xt.Highlight="Highlight",Xt}({})),fe="ScriptVisualFilterAction",Ze=(r.cx[fe]=(0,r.b1)(fe),"PBI.EX.CrossFilterScriptVisual"),ct=r.cx[Ze]=(0,r.b1)(Ze),St="PBI.EX.FilterScriptVisual",Rt=r.cx[St]=(0,r.b1)(St),kt="PBI.ClusterResolved",Ht=(r.cx[kt]=(0,r.b1)(kt),"PBI.DashboardAndReports.AuditEvent"),ar=(r.cx[Ht]=(0,r.b1)(Ht),"PBI.DownloadReport"),He=r.cx[ar]=(0,r.b1)(ar,{logExpAssignment:!0}),Mt="PBI.Settings.UpdateGateway",ze=(r.cx[Mt]=(0,r.b1)(Mt),"PBI.Settings.DeleteGateway"),st=r.cx[ze]=(0,r.b1)(ze),Lt="PBI.Settings.CreateDataSource",Qt=r.cx[Lt]=(0,r.b1)(Lt),$t="PBI.Settings.DeleteDataSource",lr=r.cx[$t]=(0,r.b1)($t),gr="PBI.Settings.BindModelToGateway",_r=r.cx[gr]=(0,r.b1)(gr),Mr="PBI.Settings.AddDataSourcePrincipals",Vr=r.cx[Mr]=(0,r.b1)(Mr),Lr="PBI.Settings.RemoveDataSourcePrincipals",Fr=r.cx[Lr]=(0,r.b1)(Lr),Ur="PBI.Settings.AddGatewayPrincipals",Br=r.cx[Ur]=(0,r.b1)(Ur),wr="PBI.Settings.RemoveGatewayPrincipals",Gr=r.cx[wr]=(0,r.b1)(wr),mr="PBI.Settings.UpdateCredentials",jr=r.cx[mr]=(0,r.b1)(mr),Rr="PBI.Settings.OpenGatewayDatasourceUPNMappingPane",Hr=(r.cx[Rr]=(0,r.b1)(Rr),"PBI.Settings.UpdateGatewayDatasourceUPNMapping"),qr=r.cx[Hr]=(0,r.b1)(Hr),kr="PBI.Settings.TestGatewayDatasourceUPNMapping",Qr=r.cx[kr]=(0,r.b1)(kr),Ir="PBI.App.JavaScriptParse",Jr=r.cx[Ir]=(0,r.b1)(Ir),hr="PBI.App.PreemptiveQueryData",zr=r.cx[hr]=(0,r.b1)(hr),Or="PBI.GeocodingSummary",Xr=r.cx[Or]=(0,r.b1)(Or,{logRatio:.1}),It="PBI.GeocodingBatchSummary",Pt=r.cx[It]=(0,r.b1)(It,{logRatio:.1}),Tt="PBI.GeocodingCacheLimitExceeded",tt=r.cx[Tt]=(0,r.b1)(Tt,{logRatio:.1}),_e="PBI.AzureMapsResponseMetrics",Me=(r.cx[_e]=(0,r.b1)(_e),"PBI.SyncServiceUpdate"),at=r.cx[Me]=(0,r.b1)(Me),Xe="PBI.LicenseEnforcement.AccessCustomizedProperties",ue=r.cx[Xe]=(0,r.b1)(Xe),Re="PBI.LicenseEnforcement.SelfServiceEligibilityNotLoaded",pt=r.cx[Re]=(0,r.b1)(Re),Kt="PBI.Settings.OAuthPopup",Jt=r.cx[Kt]=(0,r.b1)(Kt),pr="PBI.LegacyServiceUsed";r.cx[pr]=(0,r.b1)(pr)},688467:function(ve,j,e){e.d(j,{AF:function(){return b},Et:function(){return m},K_:function(){return c},MJ:function(){return V},SW:function(){return E},TD:function(){return u},WE:function(){return n},Z6:function(){return T},cD:function(){return d},pZ:function(){return y},py:function(){return M},um:function(){return f},vq:function(){return p}});var r=e(650543),i="^#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$",a=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,t=[.6,.4,.2,.1,0],l=[-.1,-.2,-.3,-.5,-.6],g=[.6,.4,.2,-.25,-.5];function n(W,F,U){var O,x,I,L=Math.floor(6*W),K=6*W-L,z=U*(1-F),H=U*(1-K*F),J=U*(1-(1-K)*F);switch(L%6){case 0:O=U,x=J,I=z;break;case 1:O=H,x=U,I=z;break;case 2:O=z,x=U,I=J;break;case 3:O=z,x=H,I=U;break;case 4:O=J,x=z,I=U;break;case 5:O=U,x=z,I=H}return[Math.round(255*O),Math.round(255*x),Math.round(255*I)]}function p(W,F,U){return"#"+s(W)+s(F)+s(U)}function s(W){var F=W.toString(16);return 1===F.length?"0"+F:F}function d(W,F){var U=T(W);return null===U?"":F||0===F?"rgba("+U.r+","+U.g+","+U.b+","+F+")":"rgb("+U.r+","+U.g+","+U.b+")"}function m(W,F){if(c(W))return d(W,F);if(function(W){return/^hsl\(\d{1,3}(,\s?\d{1,3}%){2}\)|^hsla\((\d{1,3}%?,\s?){3}(1|1.0|0|0?\.\d+)\)$/gi.test(W)}(W)){var U=function(W){var U,F=/^hsla?\((\d{1,3}),\s?(\d{1,3})%,\s?(\d{1,3})%(,\s?(1|1.0|0)|,\s?(0?\.\d+))?\)$/i.exec(W);if(!F)return null;F[5]&&(U=parseFloat(F[5])),F[6]&&(U=parseFloat(F[6]));var O=parseInt(F[1],10);O%=360;var x=parseInt(F[2],10);x=x>100?100:x;var I=parseInt(F[3],10);return{h:O,s:x,l:I=I>100?100:I,a:U}}(W);return"hsla("+U.h+","+U.s+"%,"+U.l+"%,"+(U.a||0===U.a?U.a:F)+")"}if(function(W){return/^rgb\(\d{1,3}(,\s?\d{1,3}){2}\)|^rgba\((\d{1,3},\s?){3}(1|1.0|0|0?\.\d+)\)$/gi.test(W)}(W)){var x=function(W){var U,F=/^rgba?\((\d{1,3}),\s?(\d{1,3}),\s?(\d{1,3})(,\s?(1|1.0|0)|,\s?(0?\.\d+))?\)$/i.exec(W);if(!F)return null;F[5]&&(U=parseFloat(F[5])),F[6]&&(U=parseFloat(F[6]));var O=parseInt(F[1],10);O=O>255?255:O;var x=parseInt(F[2],10);x=x>255?255:x;var I=parseInt(F[3],10);return{r:O,g:x,b:I=I>255?255:I,a:U}}(W);return"rgba("+x.r+","+x.g+","+x.b+","+(x.a||0===x.a?x.a:F)+")"}return""}function c(W){return null!=W&&!!W.match(i)}function y(W){return r.f.assertValue(W,"color"),function(W){return"#FFFFFF"===W||"#FFF"===W}(W)?l:function(W){return"#000000"===W||"#000"===W}(W)?t:g}function E(W){return c(W)||c(W="#"+W)?W:null}function u(W){return 1-W/100}function f(W){var F=T(W);return(.299*F.r+.587*F.g+.114*F.b)/255}function b(W){return W&&!!W.match("^#([A-Fa-f0-9]{3})$")}function V(W,F){return W=(W=F?W.substring(1):W).replace(a,function(U,O,x,I){return O+O+x+x+I+I}),F?"#"+W:W}function T(W){W=V(W,!1);var F=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(W);return F?{r:parseInt(F[1],16),g:parseInt(F[2],16),b:parseInt(F[3],16)}:null}function M(W,F,U){W/=255,F/=255,U/=255;var I,L,O=Math.max(W,F,U),x=Math.min(W,F,U),K=O,z=O-x;if(L=0===O?0:z/O,O===x)I=0;else{switch(O){case W:I=(F-U)/z+(F<U?6:0);break;case F:I=(U-W)/z+2;break;case U:I=(W-F)/z+4}I/=6}return[I,L,K]}},43143:function(ve,j,e){function r(i){return{dsrV2:i.dsrV2||i.dsrV2_Staging,queryCancellation:i.queryCancellation,telemetryV2:i.telemetryV2,scopedAggregates:i.scopedAggregates,addVisualIdToQueryDataAsHttpBodyId:i.addVisualIdToQueryDataAsHttpBodyId,queryContext:i.queryContext,lruCacheEvictionPolicy:i.lruCacheEvictionPolicy,categoricalSecondaryCF:i.categoricalSecondaryCF,useEnrichedApplicationContext:i.useEnrichedApplicationContext,disallowLongRunningQueries:i.disallowLongRunningQueries,visualCalculationOnComboChart:i.visualCalculationOnComboChart,visualTopN:i.visualTopN,rowHierarchySelector:i.rowHierarchySelector}}e.d(j,{u:function(){return r}})},655641:function(ve,j,e){e.d(j,{q:function(){return a}});var r=e(650543),i=/[0-9a-fA-F]{8}\-[0-9a-fA-F]{4}\-[0-9a-fA-F]{4}\-[0-9a-fA-F]{4}\-[0-9a-fA-F]{12}/;class a{static generateId(l,g){return`${l||""}${a.generateUUID()}${g||""}`}static generateShortId(l){return(Math.random().toString(36)+"00000000000000000").slice(2,l+2)}static generateUniqueId(l,g,n){r.f.assertValue(l,"usedIds");for(var p,s=0;void 0===p||l[p];){if(++s>1e3){r.f.assertFail("iterationCount is greater than 1000 while generating a unique id");break}p=a.generateId(g,n)}return p}static isGuid(l){if(_.isEmpty(l)||36!==l.length)return!1;var g=l.match(i);return!_.isEmpty(g)&&1===g.length}static generateUUID(){var l=(new Date).getTime();return typeof performance<"u"&&"function"==typeof performance.now&&(l+=performance.now()),"xxxxxxxxxxxxxxxxxxxx".replace(/[xy]/g,function(g){var n=l+16*Math.random()&15;return l>>=4,n.toString(16)})}}},526519:function(ve,j,e){function r(i){var a=i.offset();return{left:a.left,top:a.top,width:i.outerWidth(!0),height:i.outerHeight(!0)}}e.d(j,{E:function(){return r}})},899561:function(ve,j,e){e.d(j,{C:function(){return l},m:function(){return i}});var r=e(650543),i=function(g){return g[g.Reference=0]="Reference",g[g.Array=1]="Array",g[g.Deep=2]="Deep",g}({});function a(g){if(g){var p,n=g.value();if(g.firstChange?(g.firstChange=!1,p=!0):g.equal(n,g.oldValue)||(p=!1),void 0!==p){var s=g.oldValue;g.oldValue=g.copy(n),g.onChange(n,s,p)}}}class l{constructor(){this.watches={}}has(n){return null!=this.watches[n]}add(n,p,s,d){var o,v;r.f.assertValue(n,"id"),r.f.assert(()=>!this.watches[n],`Added watch twice: ${n}`),r.f.assertValue(p,"value"),r.f.assertValue(s,"onChange"),d&&d.mode===i.Deep?(o=(m,c)=>_.isEqual(m,c),v=m=>_.cloneDeep(m)):d&&d.mode===i.Array?(o=(m,c)=>function(g,n){if(!g||!n)return g===n;var p=g.length;if(p!==n.length)return!1;for(var s=p;s-- >0;)if(g[s]!==n[s])return!1;return!0}(m,c),v=m=>_.clone(m)):(o=(m,c)=>m===c,v=m=>m),this.watches[n]={id:n,value:p,onChange:s,firstChange:!0,equal:o,copy:v}}remove(n){delete this.watches[n]}doCheck(){_.forEach(this.watches,a)}}},143747:function(ve,j,e){e.d(j,{$Ez:function(){return w},AsH:function(){return Ht},BQf:function(){return br},Deb:function(){return De},F15:function(){return ua},F3x:function(){return Ge},HV_:function(){return W},HhA:function(){return $t},I8X:function(){return E},IBn:function(){return He},ISm:function(){return Pr},Imn:function(){return a},Jam:function(){return u},KRp:function(){return M},LBm:function(){return jr},M0n:function(){return Pt},M6c:function(){return Gr},OsI:function(){return Xe},Pg6:function(){return n},PpD:function(){return Wr},Px$:function(){return Mr},Q15:function(){return ga},RCq:function(){return A},RGx:function(){return la},S9q:function(){return St},SZk:function(){return V},SlI:function(){return va},Td2:function(){return D},Va2:function(){return Rr},W$L:function(){return Dr},WMs:function(){return ar},Wnf:function(){return mr},Yh0:function(){return lr},_W6:function(){return Tr},a4P:function(){return Lr},bTS:function(){return _r},c41:function(){return oe},cP$:function(){return Ze},cmI:function(){return At},dJM:function(){return g},eBl:function(){return f},gMq:function(){return Y},hOU:function(){return Xr},hOj:function(){return b},jb4:function(){return s},k4X:function(){return Kr},kJ$:function(){return O},kWQ:function(){return Gt},ly2:function(){return x},miy:function(){return Or},nDG:function(){return P},nKy:function(){return jt},ne5:function(){return fe},p5r:function(){return se},qvT:function(){return T},r2l:function(){return Re},r90:function(){return kt},rEb:function(){return B},sVl:function(){return N},uMK:function(){return t},uTR:function(){return zr},uWP:function(){return l},wku:function(){return U},yOS:function(){return it},ykK:function(){return gr},ykb:function(){return Rt},ymx:function(){return h}});var r=e(110159),i=e(737865),a="ActivityId",t="RequestId",l="x-ms-root-activity-id",g="http",n="X-PowerBI-UploadFileSize",s="refreshAccessToken",h="azure",E="office",u="trial",f="dc",b=function(le){return le.Settings="settings",le.Health="health",le.DelegatedSettings="delegatedSettings",le}({}),V=673,T=860,P=940,D=578,w="/openReport",M="/openWorkbook",A="/openQnA",B="/openInsights",N="/openUrl",W="overlay.close",U="me",O="R",x="sobe_onpremisevirtualserver",se="selectedQueryId",it={name:"datasetDatasourceUpdated",type:r.u.Global},Y=980,fe=640,Ze={name:"datasetShowAuthDialog",type:r.u.Global},St={name:"datasetShowParameterDialogAfterInvalidParameter",type:r.u.Global},Rt="ContentProvider_InvalidModelParameter",kt=127,Gt=8,Ht=48,ar="enterPrintModeEvent",He="exitPrintModeEvent",$t="PackageOperationInProgress",lr="DataRefreshTooSoon",gr="OnPremiseServiceException",_r="RefreshNotSupportedFFXL",Mr="CloudRLSAccessDeniedErrorCode",Lr=location.origin||location.protocol+"//"+location.hostname,Gr="contentProviderStoreCancelModalDialogMessage",mr="contentProviderStoreCloseModalDialogMessage",jr="contentProviderStoreGoBackModalDialogMessage",Rr="contentProviderStoreGoToAppDocModalDialogMessage",zr=6,Or=7,Xr=26,Pt=1073741824,Ge=1004,Xe=10,Re=2147483647,At=[{backendUri:void 0,hostNameMatch:["invalidHostName"],index:0},{backendUri:"https://wabi-us-east2-redirect.analysis.windows.net",hostNameMatch:["wabi-us-east2"],index:1},{backendUri:"https://wabi-us-east-redirect.analysis.windows.net",hostNameMatch:["wabi-us-east","wabi-staging-us-east"],index:2},{backendUri:"https://wabi-us-north-central-redirect.analysis.windows.net",hostNameMatch:["wabi-us-north-central"],index:3},{backendUri:"https://wabi-south-central-us-redirect.analysis.windows.net",hostNameMatch:["wabi-south-central-us","wabi-us-south-central-backup"],index:4},{backendUri:"https://df-msit-scus-redirect.analysis.windows.net",hostNameMatch:["df-msit-scus"],index:5},{backendUri:"https://wabi-west-us-redirect.analysis.windows.net",hostNameMatch:["wabi-west-us","wabi-tip-west-us"],index:6},{backendUri:"https://df-msit-wus-redirect.analysis.windows.net",hostNameMatch:["df-msit-wus"],index:7},{backendUri:"https://wabi-north-europe-redirect.analysis.windows.net",hostNameMatch:["wabi-north-europe","wabi-europe-north2","wabi-europe-north-b"],index:8},{backendUri:"https://wabi-west-europe-redirect.analysis.windows.net",hostNameMatch:["wabi-west-europe","wabi-europe-west2"],index:9},{backendUri:"https://wabi-south-east-asia-redirect.analysis.windows.net",hostNameMatch:["wabi-south-east-asia","wabi-east-asia"],index:10},{backendUri:"https://wabi-staging-a7-redirect.analysis.windows.net",hostNameMatch:["wabi-staging-a7"],index:11},{backendUri:"https://biazure-int-edog-redirect.analysis-df.windows.net",hostNameMatch:["biazure-int-edog","bi-azure-int3"],index:12},{backendUri:"https://fabric-shared-edog-redirect.analysis-df.windows.net",hostNameMatch:["fabric-shared-edog"],index:13}],jt="dsr",br=function(le){return le[le.UserReportUsageMetrics=102]="UserReportUsageMetrics",le[le.UserDashboardUsageMetrics=103]="UserDashboardUsageMetrics",le}({}),Dr=function(le){return le[le.maxTagTelemetrySize=300]="maxTagTelemetrySize",le}({});function Wr(le){var vt=le.contentProviderId;return vt===br.UserDashboardUsageMetrics||vt===br.UserReportUsageMetrics||le.packageType===i.yR.UsageMetricsV2}function Pr(le){return le?.packageType===i.yR.Scorecard}function Tr(le){return le?.originalPackageType===i.yR.Scorecard}function Kr(le){return le===br.UserDashboardUsageMetrics||le===br.UserReportUsageMetrics}var la=60,ua="invitationCode",va="i",ga="00000000-0000-0000-0000-000000000000",oe=2147483647,De=[22,43,44,45,46,47,48,49]},737865:function(ve,j,e){e.d(j,{Bs:function(){return v},GY:function(){return y},J5:function(){return T},Kx:function(){return t},Sb:function(){return h},UX:function(){return l},Vv:function(){return m},Wj:function(){return E},Zq:function(){return V},bd:function(){return b},kP:function(){return d},kQ:function(){return C},mV:function(){return w},mx:function(){return o},my:function(){return u},nW:function(){return P},rx:function(){return D},sg:function(){return S},tP:function(){return n},ty:function(){return c},wg:function(){return p},yR:function(){return s},zS:function(){return g}}),e(763449),e(176254),e(152023);var t=["PowerBIServicePlan0"],l=["PowerBIServicePlan1","PowerBIServicePlan2","PowerBIServicePlan3"],g=["PowerBIServicePlan3"],n=["PowerBIServicePlan1"],p=["PowerBIServicePlan1","PowerBIServicePlan2"],s=function(M){return M[M.Undefined=0]="Undefined",M[M.AppTemplate=1]="AppTemplate",M[M.AppInstance=2]="AppInstance",M[M.AppCopy=3]="AppCopy",M[M.UsageMetricsV2=4]="UsageMetricsV2",M[M.ProtectionMetrics=5]="ProtectionMetrics",M[M.AdminUsageMetrics=6]="AdminUsageMetrics",M[M.AdminPerformanceMetrics=7]="AdminPerformanceMetrics",M[M.Sample=8]="Sample",M[M.Scorecard=9]="Scorecard",M[M.TeamsAnalytics=10]="TeamsAnalytics",M[M.Datamart=11]="Datamart",M[M.AdminMonitoring=12]="AdminMonitoring",M[M.AuditLogSearchDataflow=13]="AuditLogSearchDataflow",M[M.AdminInsightsUsageMetrics=14]="AdminInsightsUsageMetrics",M[M.AdminInsights=15]="AdminInsights",M[M.SeeThruModel=16]="SeeThruModel",M[M.PurviewHub=17]="PurviewHub",M}({}),d=function(M){return M[M.None=0]="None",M[M.BuiltIn=1]="BuiltIn",M[M.Organizational=2]="Organizational",M[M.Services=3]="Services",M[M.OrganizationalTemplate=4]="OrganizationalTemplate",M[M.OrganizationalApp=5]="OrganizationalApp",M[M.ServiceApp=6]="ServiceApp",M[M.OrganizationalTemplateApp=7]="OrganizationalTemplateApp",M[M.PowerBIServiceApp=8]="PowerBIServiceApp",M}({}),o=function(M){return M.None="",M.BuiltIn="BuiltIn",M.Organizational="Organizational",M.Services="Services",M.OrganizationalTemplate="OrganizationalTemplate",M.OrganizationalApp="OrganizationalApp",M.ServiceApp="ServiceApp",M.OrganizationalTemplateApp="OrganizationalTemplateApp",M.PowerBIServiceApp="PowerBIServiceApp",M}({}),v=function(M){return M[M.Service=1]="Service",M[M.Organizational=2]="Organizational",M[M.File=3]="File",M[M.Sample=4]="Sample",M[M.Learn=5]="Learn",M[M.BigDataAndMore=6]="BigDataAndMore",M[M.Dataflows=7]="Dataflows",M[M.OrgContentPacks=8]="OrgContentPacks",M[M.Apps=9]="Apps",M}({}),m=function(M){return M[M.Import=0]="Import",M[M.DirectQuery=1]="DirectQuery",M[M.Mixed=2]="Mixed",M}({}),c=function(M){return M[M.Favorite=1]="Favorite",M[M.Report=2]="Report",M[M.Dashboard=4]="Dashboard",M[M.Workbook=8]="Workbook",M[M.OrgApp=16]="OrgApp",M[M.MRU=128]="MRU",M[M.Workspace=256]="Workspace",M[M.Dataset=512]="Dataset",M[M.AppPlaceHolder=1024]="AppPlaceHolder",M[M.RdlReport=2048]="RdlReport",M[M.CdsaModel=4096]="CdsaModel",M[M.StreamingCdsaModel=8192]="StreamingCdsaModel",M[M.Scorecard=16384]="Scorecard",M[M.StreamingDataset=32768]="StreamingDataset",M[M.Datamart=65536]="Datamart",M}({}),C=function(M){return M[M.AlmPipelineDeployment=0]="AlmPipelineDeployment",M[M.AutomaticAggregationsEnabled=1]="AutomaticAggregationsEnabled",M[M.IncrementalRefreshEnabled=2]="IncrementalRefreshEnabled",M[M.LiveConnectModel=3]="LiveConnectModel",M[M.ModifiedByXmlaEndpoint=4]="ModifiedByXmlaEndpoint",M[M.NonV3Model=5]="NonV3Model",M[M.SharedCapacityModel=6]="SharedCapacityModel",M}({}),y=function(M){return M[M.Shared=0]="Shared",M[M.Dedicated=1]="Dedicated",M[M.ASAzure=2]="ASAzure",M[M.ASOnPrem=3]="ASOnPrem",M}({}),S=function(M){return M[M.Unknown=0]="Unknown",M[M.Abf=1]="Abf",M[M.PremiumFiles=2]="PremiumFiles",M}({}),h=function(M){return M[M.Origin=0]="Origin",M[M.Strict=1]="Strict",M}({}),E=function(M){return M.UploadPBIX="UploadPBIX",M.SaveEditedReport="SaveEditedReport",M.NewDashboard="NewDashboard",M.AddTile="AddTile",M.NewReport="NewReport",M.NewDataset="NewDataset",M.UploadRdl="UploadRdl",M.NewRdlReport="NewRdlReport",M}({}),u=function(M){return M[M.Default=0]="Default",M[M.NativeV3=1]="NativeV3",M[M.AutoConvertedV3=2]="AutoConvertedV3",M}({}),b=function(M){return M.InformationProtection="Information Protection",M.InformationProtectionArtifactView="Information Protection - Artifact View",M.InformationProtectionArtifactViewDownstreamInheritance="Information Protection - Artifact View Downstream Inheritance",M.InformationProtectionDownstreamDatasetUsage="Information Protection - Downstream Dataset Usage",M.InformationProtectionEmbedBanner="Information Protection - Embed Banner",M.InformationProtectionMandatory="Information Protection - Mandatory",M.InformationProtectionOverride="Information Protection - Override",M.Datahub="Data hub",M.DatahubList="Data hub compact view",M.DatahubActionTriggered="Data hub action triggered",M.DatahubListActionTriggered="Data hub compact view action triggered",M.DatahubItemDetailsPage="Data hub item details page",M.DatahubItemDetailsPageActionTriggered="Data hub item details page action triggered",M.DataLossPreventionRestrictAccess="Data Loss Prevention - Restrict Access",M.ArtifactEndorsement="Artifact endorsement",M.ArtifactEndorsementAPI="Artifact endorsement API",M.ArtifactEndorsementSet="Artifact Endorsement Set",M.ArtifactEndorsementConsumption="Artifact Endorsement Consumption",M.QuickShare="Quick Dataset Creation",M.PurviewHub="Purview Hub",M.Domains="Domains",M.DomainsManagedMAU="Domains Managed MAU",M.DomainsWorkspaceLoadedInDomain="Domains Workspace Loaded In Domain",M.PaginatedReport="PaginatedReport",M.RdlWebAuthoring="Paginated Report Web Authoring",M.RdlConsumption="Paginated Report Consumption",M.RdlEmbed="Paginated Report Embed",M.CopilotNarrativeVisualUsage="CopilotNarrativeVisualUsage",M.CopilotReportAuthoringUsage="CopilotReportAuthoringUsage",M.CopilotReportExplorationUsage="CopilotReportExplorationUsage",M.CopilotReportAuthoringReliability="CopilotReportAuthoringReliability",M.CopilotReportExplorationReliability="CopilotReportExplorationReliability",M.CopilotWorkspaceUsage="CopilotWorkspaceUsage",M.CopilotPanePreviewToggle="CopilotPanePreviewToggle",M.CopilotFetchColumnStatistics="CopilotFetchColumnStatistics",M.CopilotFetchLinguisticSchema="CopilotFetchLinguisticSchema",M.Datawarehouse="Datawarehouse",M.DatamartSaveAsTableClicked="Datamart Save As Table Clicked",M.DatamartSaveAsTableSaveClicked="Datamart Save As Table Save Clicked",M.DatamartSaveAsViewClicked="Datamart Save As View Clicked",M.DatamartSaveAsViewSaveClicked="Datamart Save As View Save Clicked",M.DatamartDownloadExcelFileClicked="Datamart Download Excel File Clicked",M.DatamartVisualizeResultClicked="Datamart Visualize Result Clicked",M.DatamartWorkspaceAnalyzeInExcelClicked="Datamart Workspace Analyze In Excel Clicked",M.DatamartWorkspaceRenameClicked="Datamart Workspace Rename Clicked",M.DatamartWorkspaceShareClicked="Datamart Workspace Share Clicked",M.DatamartRefreshNowClicked="Datamart Refresh Now Clicked",M.DatamartRefreshHistoryClicked="Datamart Refresh History Clicked",M.DatamartQueryRenameAction="Datamart Query Rename Action",M.DatamartQueryRenameClicked="Datamart Query Rename Clicked",M.DatamartQueryDeleteAction="Datamart Query Delete Action",M.DatamartQueryDeleteTabClicked="Datamart Query Delete Tab Clicked",M.DatamartQueryMoveToMyQueryClicked="Datamart Query Move To My Query Clicked",M.DatamartQueryMoveToSharedQueryClicked="Datamart Query Move To Shared Query Clicked",M.DatamartQueryDuplicateQueryClicked="Datamart Query Duplicate Query Clicked",M.DatamartQuerySqlEditorRunClicked="Datamart Query Sql Editor Run Clicked",M.DatamartQuerySqlEditorSaveClicked="Datamart Query Sql Editor Save Clicked",M.DatamartQuerySqlEditorCancelClicked="Datamart Query Sql Editor Cancel Clicked",M.DatamartCreateNewDatamartClicked="Datamart Create New Datamart Clicked",M.DatamartCloneTableAction="Datamart Clone Table Action",M.DatamartContextMenuSelectTopRowsClicked="Datamart Context Menu Select Top Rows Clicked",M.DatamartContextMenuAlterClicked="Datamart Context Menu Alter Clicked",M.DatamartContextMenuCloneTableClicked="Datamart Context Menu Clone Table Clicked",M.DatamartContextMenuCreateClicked="Datamart Context Menu Create Clicked",M.DatamartContextMenuCreateDefaultTableClicked="Datamart Context Menu Create Default Table Clicked",M.DatamartContextMenuCreateDefaultViewClicked="Datamart Context Menu Create Default View Clicked",M.DatamartContextMenuCreateDefaultSchemaClicked="Datamart Context Menu Create Default Schema Clicked",M.DatamartContextMenuCreateDefaultStoredProcedureClicked="Datamart Context Menu Create Default Stored Procedure Clicked",M.DatamartContextMenuCreateTableAsSelectClicked="Datamart Context Menu Create Table As Select Clicked",M.DatamartContextMenuDropAndCreateClicked="Datamart Context Menu Drop And Create Clicked",M.DatamartContextMenuDropClicked="Datamart Context Menu Drop Clicked",M.DatamartContextMenuRemoveFromDefaultDatasetClicked="Datamart Context Menu Remove From Default Dataset Clicked",M.DatamartContextMenuHideUnhideInReportViewClicked="Datamart Context Menu Hide Unhide In Report View Clicked",M.DatamartRibbonCreateNewSchemaTemplateClicked="Datamart Ribbon Create New Schema Template Clicked",M.DatamartRibbonCreateNewTableTemplateClicked="Datamart Ribbon Create New Table Template Clicked",M.DatamartRibbonAutoUpdateDatasetClicked="Datamart Ribbon Automatically Update Dataset Clicked",M.DatamartRibbonAzureDataStudioClicked="Datamart Ribbon Azure Data Studio Clicked",M.DatamartRibbonEnterDataClicked="Datamart Ribbon Enter Data Clicked",M.DatamartRibbonGetDataClicked="Datamart Ribbon Get Data Clicked",M.DatamartRibbonGetDataNewPipelineClicked="Datamart Ribbon Get Data New Pipeline Clicked",M.DatamartRibbonGetDataNewDataflowGen2Clicked="Datamart Ribbon Get Data New Dataflow Gen2 Clicked",M.DatamartRibbonManageRolesClicked="Datamart Ribbon Manage Roles Clicked",M.DatamartRibbonManuallyUpdateDatasetClicked="Datamart Ribbon Manually Update Dataset Clicked",M.DatamartRibbonNewMeasureClicked="Datamart Ribbon New Measure Clicked",M.DatamartRibbonNewReportClicked="Datamart Ribbon New Report Clicked",M.DatamartRibbonNewReportClickedInReadonlyMode="Datamart Ribbon New Report Clicked In Readonly Mode",M.DatamartRibbonNewSqlQueryClicked="Datamart Ribbon New Sql Query Clicked",M.DatamartRibbonNewSqlQueryClickedInReadonlyMode="Datamart Ribbon New Query Clicked In Readonly Mode",M.DatamartRibbonNewVisualQueryClicked="Datamart Ribbon New Visual Query Clicked",M.DatamartRibbonNewVisualQueryClickedInReadonlyMode="Datamart Ribbon New Visual Query Clicked In Readonly Mode",M.DatamartRibbonOpenInADSClicked="Datamart Ribbon Open In ADS Clicked",M.DatamartRibbonTransformDataClicked="Datamart Ribbon Transform Data Clicked",M.DatamartRibbonUpdateMeasureClicked="Datamart Ribbon Update Measure Clicked",M.DatamartRibbonViewAsRolesClicked="Datamart Ribbon View As Roles Clicked",M.DatamartRibbonNewQueryClicked="Datamart Ribbon New Query Clicked",M.DatamartRibbonNewQueryClickedInReadonlyMode="Datamart Ribbon New Query Clicked In Readonly Mode",M.DatamartRibbonCreateNewViewTemplateClicked="Datamart Ribbon Create New View Template Clicked",M.DatamartRibbonCreateNewStoredProcedureTemplateClicked="Datamart Ribbon Create New Stored Procedure Template Clicked",M.DatamartViewNavigationModelViewClicked="Datamart View Navigation Model View Clicked",M.DatamartFieldListAddWarehousesClicked="Datamart Field List Add Warehouses Clicked",M.DaxQueryView="DAX Query View",M.DaxInlineCopilot="DaxInlineCopilot",M.ManageCustomDirectLakeDataset="SeeThroughModeling",M.ManageDefaultDirectLakeDataset="ManageDefaultDataset",M.MobileExploreAuthoring="Mobile report authoring",M.MobileExploreAuthoringAutoLayout="Mobile report layout was auto-created",M.HoverCardRelatedContentClicked="Hover Card - Related Content Clicked",M.GetExplorationService="Get Exploration In Service",M.SaveExplorationService="Save Exploration In Service",M.TmdlView="TMDL View",M.MetricsHub="Metrics Hub",M.VisualCalculationSeen="VisualCalculationSeen",M.VisualCalculationSubmitted="VisualCalculationSubmitted",M.InPlaceRestoreCreateRestorePoint="InPlaceRestoreCreateRestorePoint",M.InPlaceRestoreListRestorePoints="InPlaceRestoreListRestorePoints",M.InPlaceRestoreDeleteRestorePoints="InPlaceRestoreDeleteRestorePoints",M.InPlaceRestoreRestoreWarehouse="InPlaceRestoreRestoreRestorePoint",M.InPlaceRestoreModifyRestorePoint="InPlaceRestoreModifyRestorePoint",M.CustomCalendars="Custom Calendars",M.TenantSwitcher="Tenant_Switcher",M.TenantSwitcherTenantNameLoaded="Tenant_Switcher_Tenant_Name_Loaded",M.TenantSwitcherDialogLoaded="Tenant_Switcher_Dialog_Loaded",M.TenantSwitcherAccountManagerSwitchClicked="Tenant_Switcher_Account_Manager_Switch_Clicked",M.TenantSwitcherSwitchClicked="Tenant_Switcher_Switch_Clicked",M.FromExternalOrgs="From External Orgs",M.FromExternalOrgsTabClick="From External Orgs Tab Click",M.FromExternalOrgsLoadResourceTenants="From External Orgs Load Resource Tenants",M.FromExternalOrgsInitiateB2BToken="From External Orgs Initiate B2B Token",M.FromExternalOrgsLoadDiscoverableContent="From External Orgs Load Discoverable Content",M.ModernOfficeFilePickerOpen="Modern Office filepicker open",M.ModernOfficeFilePickerFileOpen="Modern Office filepicker file open",M.ModernOfficeFilePickerFileSave="Modern Office filepicker file save",M.OneLakeCatalog="OneLake catalog",M.OneLakeCatalogExplore="Explore",M.OneLakeCatalogLoadEvent="Catalog load event",M.OneLakeCatalogActionEvent="Catalog action event",M.OneLakeCatalogLandingPage="Catalog landing page",M.OneLakeCatalogItemDetails="Catalog item details",M.OneLakeCatalogCompactView="Catalog compact view",M.Annotations="annotations",M.LinkSharing="Link Sharing",M}({}),V=function(M){return M.Started="Started",M.Succeeded="Succeeded",M.SucceededWithErrors="SucceededWithErrors",M.Failed="Failed",M.FailedWithRemote="FailedWithRemote",M.Interrupted="Interrupted",M.Cancelled="Cancelled",M}({}),T=function(M){return M[M.Restricted=0]="Restricted",M[M.Automatic=1]="Automatic",M[M.Legacy=2]="Legacy",M}({}),P=function(M){return M[M.Dashboard=1]="Dashboard",M[M.Report=2]="Report",M[M.App=3]="App",M[M.RdlReport=4]="RdlReport",M[M.ResourcePackage=5]="ResourcePackage",M[M.Artifact=6]="Artifact",M[M.Datamart=7]="Datamart",M}({}),D=function(M){return M[M.None=0]="None",M[M.InsufficientPermission=1]="InsufficientPermission",M}({}),w=function(M){return M[M.None=0]="None",M[M.PowerBI=1]="PowerBI",M[M.Fabric=2]="Fabric",M}({})},107385:function(ve,j,e){e.d(j,{l:function(){return i},m:function(){return r}});var r=function(a){return a[a.NewFeatureProductMessage=0]="NewFeatureProductMessage",a[a.DashboardSharing=2]="DashboardSharing",a[a.DashboardAddedToGroup=3]="DashboardAddedToGroup",a[a.Trial=5]="Trial",a[a.DataDrivenAlert=6]="DataDrivenAlert",a[a.AccessRequest=14]="AccessRequest",a[a.TemplateAppsUpdateAvailable=29]="TemplateAppsUpdateAvailable",a[a.CapacityOverloaded=34]="CapacityOverloaded",a[a.CapacityAutoScaled=35]="CapacityAutoScaled",a[a.CapacityAutoScaleMaximumReached=36]="CapacityAutoScaleMaximumReached",a[a.TeamsAppInstallation=42]="TeamsAppInstallation",a[a.ScdProvisioningFailed=62]="ScdProvisioningFailed",a[a.DynamicMessage=999]="DynamicMessage",a}({}),i=function(a){return a[a.DashboardContentPackNewVersion=0]="DashboardContentPackNewVersion",a[a.UsersNotifications_SharedDashboard=1]="UsersNotifications_SharedDashboard",a[a.ExtendTrial_TrialExpired=2]="ExtendTrial_TrialExpired",a[a.UsersNotifications_TrialRunsOutInLessThanADay=3]="UsersNotifications_TrialRunsOutInLessThanADay",a[a.UsersNotifications_TrialRunningOut=4]="UsersNotifications_TrialRunningOut",a[a.UsersNotifications_TitleTrialExpired=5]="UsersNotifications_TitleTrialExpired",a[a.UsersNotifications_UserName=6]="UsersNotifications_UserName",a[a.UsersNotifications_GoToApp=7]="UsersNotifications_GoToApp",a[a.UsersNotifications_GoToDashboard=8]="UsersNotifications_GoToDashboard",a[a.UsersNotifications_TrialRunsOutInOneDay=9]="UsersNotifications_TrialRunsOutInOneDay",a[a.UsersNotifications_TitleTrialRunsOutInOneDay=10]="UsersNotifications_TitleTrialRunsOutInOneDay",a[a.UsersNotifications_TitleTrialRunsOutInLessThanADay=11]="UsersNotifications_TitleTrialRunsOutInLessThanADay",a[a.UsersNotifications_TitleTrialRunningOut=12]="UsersNotifications_TitleTrialRunningOut",a[a.UsersNotifications_RequestExtensionLinkText=13]="UsersNotifications_RequestExtensionLinkText",a[a.UsersNotifications_DataDrivenAlert=14]="UsersNotifications_DataDrivenAlert",a[a.UsersNotifications_GroupName=15]="UsersNotifications_GroupName",a[a.UsersNotifications_NewDashboard=16]="UsersNotifications_NewDashboard",a[a.UsersNotifications_TileName=17]="UsersNotifications_TileName",a[a.UsersNotifications_DataDrivenDown=18]="UsersNotifications_DataDrivenDown",a[a.UsersNotifications_DataDrivenUp=19]="UsersNotifications_DataDrivenUp",a[a.UsersNotifications_GoToTile=20]="UsersNotifications_GoToTile",a[a.UsersNotifications_DatasetSettingChangeTitle=21]="UsersNotifications_DatasetSettingChangeTitle",a[a.UsersNotifications_DatasetInGroupWorkspaceSettingChangeMessage=22]="UsersNotifications_DatasetInGroupWorkspaceSettingChangeMessage",a[a.UsersNotifications_DatasetInMyWorkspaceSettingChangeMessage=23]="UsersNotifications_DatasetInMyWorkspaceSettingChangeMessage",a[a.Generic_LearnMore=24]="Generic_LearnMore",a[a.UsersNotifications_Upgrade=25]="UsersNotifications_Upgrade",a[a.UsersNotifications_GoToConversation=27]="UsersNotifications_GoToConversation",a[a.UsersNotifications_AtMentionedInComment=28]="UsersNotifications_AtMentionedInComment",a[a.FolderNotifications_ServiceAppsUpdateAvailable=29]="FolderNotifications_ServiceAppsUpdateAvailable",a[a.FolderNotifications_GetServiceAppUpdate=30]="FolderNotifications_GetServiceAppUpdate",a[a.UsersNotifications_FeaturedContentEnabledTitle=31]="UsersNotifications_FeaturedContentEnabledTitle",a[a.UsersNotifications_FeaturedContentEnabledMessage=32]="UsersNotifications_FeaturedContentEnabledMessage",a[a.UsersNotifications_GoToAdminPortal=33]="UsersNotifications_GoToAdminPortal",a[a.UsersNotifications_GoToAdminPortalCapacity=34]="UsersNotifications_GoToAdminPortalCapacity",a[a.UsersNotifications_GoToReportAccess=37]="UsersNotifications_GoToReportAccess",a[a.UsersNotifications_RequestedAccess=38]="UsersNotifications_RequestedAccess",a[a.UsersNotifications_AlertTitle=1e3]="UsersNotifications_AlertTitle",a[a.UsersNotifications_AlertExceeded=1001]="UsersNotifications_AlertExceeded",a[a.UsersNotifications_AlertWentBelow=1002]="UsersNotifications_AlertWentBelow",a[a.UsersNotifications_AlertAction=1003]="UsersNotifications_AlertAction",a[a.UsersNotifications_AlertExceededNoTileName=1004]="UsersNotifications_AlertExceededNoTileName",a[a.UsersNotifications_AlertWentBelowNoTileName=1005]="UsersNotifications_AlertWentBelowNoTileName",a[a.UsersNotifications_LineChartAnomalyAlert_DatetimeMultiple=1200]="UsersNotifications_LineChartAnomalyAlert_DatetimeMultiple",a[a.UsersNotifications_LineChartAnomalyAlert_DatetimeSingle=1201]="UsersNotifications_LineChartAnomalyAlert_DatetimeSingle",a[a.UsersNotifications_LineChartAnomalyAlert_OtherMultiple=1202]="UsersNotifications_LineChartAnomalyAlert_OtherMultiple",a[a.UsersNotifications_LineChartAnomalyAlert_OtherSingle=1203]="UsersNotifications_LineChartAnomalyAlert_OtherSingle",a[a.UsersNotifications_LineChartThreshold_DatetimeMultiple_AlertExceeded=1204]="UsersNotifications_LineChartThreshold_DatetimeMultiple_AlertExceeded",a[a.UsersNotifications_LineChartThreshold_DatetimeMultiple_AlertWentBelow=1205]="UsersNotifications_LineChartThreshold_DatetimeMultiple_AlertWentBelow",a[a.UsersNotifications_LineChartThreshold_DatetimeSingle_AlertExceeded=1206]="UsersNotifications_LineChartThreshold_DatetimeSingle_AlertExceeded",a[a.UsersNotifications_LineChartThreshold_DatetimeSingle_AlertWentBelow=1207]="UsersNotifications_LineChartThreshold_DatetimeSingle_AlertWentBelow",a[a.UsersNotifications_LineChartThreshold_OtherMultiple_AlertExceeded=1208]="UsersNotifications_LineChartThreshold_OtherMultiple_AlertExceeded",a[a.UsersNotifications_LineChartThreshold_OtherMultiple_AlertWentBelow=1209]="UsersNotifications_LineChartThreshold_OtherMultiple_AlertWentBelow",a[a.UsersNotifications_LineChartThreshold_OtherSingle_AlertExceeded=1210]="UsersNotifications_LineChartThreshold_OtherSingle_AlertExceeded",a[a.UsersNotifications_LineChartThreshold_OtherSingle_AlertWentBelow=1211]="UsersNotifications_LineChartThreshold_OtherSingle_AlertWentBelow",a[a.UsersNotifications_CapacityAutoscaled_Title=2e3]="UsersNotifications_CapacityAutoscaled_Title",a[a.UsersNotifications_CapacityAutoscaled=2001]="UsersNotifications_CapacityAutoscaled",a[a.UsersNotifications_CapacityThrottled_Title=2002]="UsersNotifications_CapacityThrottled_Title",a[a.UsersNotifications_CapacityThrottled=2003]="UsersNotifications_CapacityThrottled",a[a.UsersNotifications_CapacityLoadExceeded_Title=2004]="UsersNotifications_CapacityLoadExceeded_Title",a[a.UsersNotifications_CapacityLoadExceeded=2005]="UsersNotifications_CapacityLoadExceeded",a[a.UsersNotifications_TeamsAppInstallationSuccess=2101]="UsersNotifications_TeamsAppInstallationSuccess",a[a.UsersNotifications_TeamsAppInstallationOpen=2102]="UsersNotifications_TeamsAppInstallationOpen",a[a.UsersNotifications_SCDProvisioningFailure_Title=2201]="UsersNotifications_SCDProvisioningFailure_Title",a[a.UsersNotifications_SCDProvisioningFailure_Message=2202]="UsersNotifications_SCDProvisioningFailure_Message",a[a.UsersNotifications_SCDProvisioningFailure_ContactUs=2203]="UsersNotifications_SCDProvisioningFailure_ContactUs",a}({})},728752:function(ve,j,e){e.d(j,{S:function(){return r}});class r{constructor(a){a&&(this.uniqueId=a.objectId,this.displayName=a.displayName,this.capacity=a.capacityObjectId&&{id:a.capacityObjectId,name:a.capacityName,region:a.region},this.contract=a,this.lastViewedDashboard=-1,this.isMyWorkspace=!(!a||!a.isMyWorkspace),this.folderType=a.folderType||a.type)}getPermissions(){}}},470242:function(ve,j,e){e.d(j,{g:function(){return t}});var r=e(301336),i=e(728752),a=window;class t extends i.S{constructor(g){super(g),g&&(this.id=g.id,this.description=g.description,this.icon=g.iconUrl&&r.b$.urlCombine(a.clusterUri,g.iconUrl),this.permissions=g.permissions,this.contacts=g.contacts,this.allowContributorUpdateApp=g.allowContributorUpdateApp,this.defaultDatasetStorageMode=g.defaultDatasetStorageMode,this.type=g.type,this.folderType=g.type,this.domainObjectId=g.domainObjectId,this.allowWebModeling=g.allowWebModeling,this.datasourceBindingSecurityMode=g.datasourceBindingSecurityMode)}get folderContract(){return this.contract}get sharePointStorage(){return this.folderContract.sharePointStorage}set sharePointStorage(g){this.folderContract.sharePointStorage=g}}},959635:function(ve,j,e){e.d(j,{Z:function(){return n}});var r=e(737865),i=e(728752),a=e(512986);class t{constructor(s){this.contextMenuItemList=[],s&&s.metadata&&(s.metadata.contextMenuItemList.forEach(d=>{this.contextMenuItemList.push(d)}),this.contextMenuSeparatorPosition=s.metadata.contextMenuItemList.length),0===this.contextMenuItemList.length&&(this.contextMenuSeparatorPosition=-1),s&&s.isMyWorkspace?this.contextMenuItemList.push({linkType:a.O6.EditMyWorkspace}):(this.contextMenuItemList.push(s.isOwner?{linkType:a.O6.EditGroup}:{linkType:a.O6.ViewGroup}),this.contextMenuItemList.push({linkType:a.O6.LeaveGroup}))}}var l=function(p){return p[p.AllContent=0]="AllContent",p[p.MyContent=1]="MyContent",p[p.SharedWithMe=2]="SharedWithMe",p}({});class n extends i.S{constructor(s){super(s),s&&(this.aadGroupId=s.objectId,this.metadata=new t(s)),this.lastOwnershipFilter=l.AllContent,this.contentTileType=r.ty.Workspace}}},175286:function(ve,j,e){e.d(j,{Bc:function(){return C},C_:function(){return te},Co:function(){return N},Dy:function(){return u},Dz:function(){return B},Fw:function(){return o},HC:function(){return J},I9:function(){return c},IV:function(){return Ue},Ix:function(){return l},JX:function(){return n},Jp:function(){return Ve},M_:function(){return ot},NI:function(){return A},NR:function(){return h},Ng:function(){return d},Nq:function(){return O},OH:function(){return M},Ol:function(){return H},Pk:function(){return Ke},Qv:function(){return y},Rb:function(){return q},S7:function(){return ft},TJ:function(){return re},U1:function(){return I},W5:function(){return P},W8:function(){return we},WL:function(){return i},Wv:function(){return X},Y4:function(){return K},Yd:function(){return p},Yi:function(){return x},Yl:function(){return t},Z$:function(){return E},Z3:function(){return b},_0:function(){return w},_O:function(){return f},_u:function(){return ke},a_:function(){return a},c8:function(){return D},fI:function(){return s},fN:function(){return U},fQ:function(){return F},hW:function(){return L},nB:function(){return S},nv:function(){return W},og:function(){return Ct},oy:function(){return z},p5:function(){return Z},pi:function(){return m},rn:function(){return v},t:function(){return V},tK:function(){return g},uL:function(){return G},x6:function(){return R},xg:function(){return Ae},yl:function(){return Q},z$:function(){return T},z8:function(){return se},zD:function(){return k}});var r=e(582166),i=0,a=60,t=0,l=360,g=r.a.grayscaleLight,n=0,p=22,s=10,d=1,o=1,v=50,m=1,c=10,C=0,y=20,S=0,h=1,E=60,u="backgroundDark",f=.5,b=0,V=5,T=0,P=5,D=r.G3.pixels,w=1,M=200,A=4e6,R=0,B=5,N=5e3,W=128,F=100,U=0,O=-180,x=180,I=-90,L=90,K=Math.pow(2,53)-1,z="bubbleDataSource",H="heatMapDataSource",J="filledMapDataSource",k="barChart3DDataSource",G="referenceDataSource",q="pathDataSource",Q="bubbleLayer",Z="heatMapLayer",X="barChart3DLayer",re="unselectedBarChart3DLayer",te="filledMapFillLayer",se="filledMapOutlineLayer",Ve="clusterBubbleLayer",ke="clusterSymbolLayer",Ue="pathLayer",ot="pathBubbleLayer",ft="AzureMaps_MapsControlLoad",Ct="AzureMaps_SHPJSLoad",Ke="AzureMaps_WaitForIdle",Ae="AzureMaps_BecameIdle",we={bubbleStrokeOpacity:1,bubbleStrokeWidth:2}},721673:function(ve,j,e){e.d(j,{bl:function(){return r},jw:function(){return i},mZ:function(){return a},oq:function(){return t},q:function(){return l}});var r=function(g){return g[g.Line=0]="Line",g[g.Area=1]="Area",g[g.StackedArea=2]="StackedArea",g[g.HundredPercentStackedArea=3]="HundredPercentStackedArea",g[g.ClusteredColumn=4]="ClusteredColumn",g[g.StackedColumn=5]="StackedColumn",g[g.ClusteredBar=6]="ClusteredBar",g[g.StackedBar=7]="StackedBar",g[g.HundredPercentStackedBar=8]="HundredPercentStackedBar",g[g.HundredPercentStackedColumn=9]="HundredPercentStackedColumn",g[g.RibbonChart=10]="RibbonChart",g[g.Scatter=11]="Scatter",g[g.Waterfall=12]="Waterfall",g[g.LineClusteredColumnCombo=13]="LineClusteredColumnCombo",g[g.LineStackedColumnCombo=14]="LineStackedColumnCombo",g[g.RealTimeLineChart=15]="RealTimeLineChart",g}({}),i=function(g){return g[g.Auto=0]="Auto",g[g.Custom=1]="Custom",g}({}),a=function(g){return g[g.Line=0]="Line",g[g.RealTime=1]="RealTime",g[g.Scatter=2]="Scatter",g[g.Waterfall=3]="Waterfall",g[g.Column=4]="Column",g}({}),t=function(g){return g[g.Top=0]="Top",g[g.Bottom=1]="Bottom",g}({}),l=function(g){return g[g.Left=0]="Left",g[g.Center=1]="Center",g[g.Right=2]="Right",g}({})},82045:function(ve,j,e){e.d(j,{N:function(){return C}});var r=e(159601),i=e(127162),a=e(650543),t=e(630881),l=e(246626),g=e(179658),n=e(621083),p=e(191282),s=e(230343),d=e(827161),o=e(914094),v=e(442407),m=e(890486),c=e(919267);class C{constructor(S,h){this.hostService=S,this.behavior=h,this.isInvertedSelectionMode=!1,this.isSearchUpdateMode=!1,this.selected=[]}static buildDefaultValueFilter(S,h=!1){a.f.assertNonEmpty(S,".buildDefaultValueFilter columns should not be empty");var E=[],u=[],f=h?E:u;for(var b of S){var V=b.parameter?.kind===g.DG.MParameters,T=!!b.parameter?.supportsSelectAll,P=null!=(0,s.NA)(b.objects,r.gO.general.defaultValue);V&&T||P?f.push(...C.getMetadataColumnIdentityExprs(b)):f=E}if(!_.isEmpty(E)||!_.isEmpty(u))return o.yl.getDefaultAnyValueFilter(u,E)}static getMetadataColumnIdentityExprs(S){return _.isEmpty(S.identityExprs)?[S.expr]:S.identityExprs}setDefaultValueMode(S){this.useDefaultValue=S}bind(S,h){this.selected=_.filter(S,E=>E.selected),this.behavior.bindEvents(h,this),this.behavior.renderSelection()}setSelected(S){this.selected=_.isEmpty(S)?[]:_.filter(S,h=>h.selected)}setSelectionModeInverted(S){this.previousInversionMode=this.isInvertedSelectionMode,this.isInvertedSelectionMode=S}setColumns(S){this.columns=S,this.columnExprs=_.map(S,h=>h.expr),this.supportsDefaultValueByLevel=_.map(S,h=>null!=(0,s.NA)(h.objects,r.gO.general.defaultValue))}hasSelection(){return!_.isEmpty(this.selected)}isSelectionModeInverted(){return this.isInvertedSelectionMode}setQueryNameByLevel(S){this.queryNameByLevel=S}persistSelfFilter(S,h){var E=(0,c.H4)(this.columnExprs,h);this.hostService.persistProperties(C.createChangeForProperty(S,E))}setSearchMode(S){this.isSearchUpdateMode=S}isSearchMode(){return this.isSearchUpdateMode}handleClearSelection(){if(this.previouslySelected=this.selected.slice(),this.previousInversionMode=this.isInvertedSelectionMode,this.isInvertedSelectionMode=!1,!(1===this.selected.length&&this.isStrictSingleSelect||this.hasDefaultValue()&&this.useDefaultValue)){var S=this.hostService.getLocalizedString("Slicer_ClearSelectionsCleared");this.hostService.alertWithDebounce("announce-clear-selection",S),this.useDefaultValue=!0,this.resetSelected(),this.behavior.renderSelection()}}persistSelectionFilter(S,h=!1,E,u=!1){var f=this.getFilterFromDataPoints();if(f&&!_.isEmpty(this.selected)){var b=this.toFilterExpressionMetadata(this.selected);this.hostService.setFilterExpressionMetadata(b)}var V=C.createChangeForProperty(S,f),P=C.createChangeForProperty(r.gO.data.isInvertedSelectionMode,!(h||!this.isInvertedSelectionMode)||null);if(u){var D=C.createChangeForProperty(r.gO.general.selfFilter,null);this.mergeObjectInstancesToPersist(V,D)}V=this.mergeObjectInstancesToPersist(V,P),this.hostService.persistProperties(V,E),this.sendSelectionToHost()}getDataMultiSelectMode(){return this.hostService.dataMultiSelectMode()}sendSelectionToHost(){if(this.hostService.onSelect){var S=_.isEmpty(this.selected)?[]:_.map(this.selected,b=>b.identity),h=i.Bt.createSelectEventArgs(S,l.i.Single),E=_.isEmpty(this.previouslySelected)?[]:_.map(this.previouslySelected,b=>b.identity),u=i.Bt.createSelectEventArgs(E,l.i.Single),f=_.size(h.visualObjects)!==_.size(u.visualObjects)||_.some(h.visualObjects,(b,V)=>!(0,p.Ic)(b.selectorsByColumn,u.visualObjects[V].selectorsByColumn));h.fireDataSelectedEvent=f||this.isInvertedSelectionMode!==this.previousInversionMode,this.hostService.onSelect(h)}}handleSelection(S,h,E){if(this.onSelecting(S,E))return!1;var u=S.partially,f=S.selected;this.useDefaultValue=!1,this.previouslySelected=this.selected.slice(),h===l.i.Single||this.isStrictSingleSelect?this.resetSelected():this.clearDataPointState(S);var b=this.getDataPointSelectedState(S,h,u,f);return this.updateSelectedState(S,b),this.behavior.renderSelection(),!0}getDataPointSelectedState(S,h,E,u){return E?(0,c.OO)(S,this.isInvertedSelectionMode)?S.selected:!S.selected:!!this.isStrictSingleSelect||(h===l.i.Single?!u||this.selected.length>1:!u)}onSelecting(S,h){var E=(0,c.No)(S,this.queryNameByLevel),u={type:n.BD.DataPointSelection,visualObjects:[{objectName:i.Bt.dataPointObjectName,selectorsByColumn:E.selector}],position:h};return this.hostService.onSelecting(u),u.action!==t.MI.Selection&&null!=u.action}updateSelectedState(S,h){var E=S.selected;S.selected=h,E!==h&&(this.clearDataPointState(S,!0),this.updateParentState(S)),S.selected?this.selected.push(S):E&&!S.selected&&_.remove(this.selected,S)}setStrictSingleSelect(S,h){this.isStrictSingleSelect=S,this.adjustStrictSingleSelectSelection(h)}resetSelected(){_.isEmpty(this.selected)||_.each(this.selected,S=>S.selected=!1),this.selected=[]}clearDataPointState(S,h=!1){if(h||(S.selected&&_.remove(this.selected,S),S.selected=!1),!_.isEmpty(S.children)&&S.partially)for(var E of(S.partially=!1,S.children))this.clearDataPointState(E)}updateParentState(S){if(S.parent)for(var h=S.parent;h;)h.partially=!!S.selected||_.some(h.children,E=>E.selected),h=h.parent}mergeObjectInstancesToPersist(S,h){var E={};return E.merge=S.merge,E.remove=S.remove,_.isEmpty(h.merge)||(E.merge=E.merge||[],E.merge.push(...h.merge||[])),_.isEmpty(h.remove)||(E.remove=E.remove||[],E.remove.push(...h.remove||[])),E}toFilterExpressionMetadata(S){if(!_.isEmpty(S)){var h={expressions:this.columnExprs,cachedValueItems:[]},E=0;for(var u of S){for(var f=u,b={identities:[],valueMap:{}};f;)b.identities.unshift(f.scopeIdentity),b.valueMap[f.level]=f.value,E=Math.max(E,f.level),f=f.parent;h.cachedValueItems.push(b)}return h.expressions=this.columnExprs.slice(0,E+1),h}}isDisableMultipleSelectForMappedColumn(){return _.some(this.columns,h=>h.parameter?.kind===g.DG.MParameters&&!h.parameter?.supportsMultipleValues)}toggleSelectionModeInversion(S=!1){return this.previouslySelected=this.selected.slice(),this.useDefaultValue=!1,this.previousInversionMode=this.isInvertedSelectionMode,this.isInvertedSelectionMode=!this.isInvertedSelectionMode,this.resetSelected(),S&&this.hostService.persistProperties(C.createChangeForProperty(r.gO.data.isInvertedSelectionMode,!!this.isInvertedSelectionMode||null)),this.behavior.renderSelection(),this.isInvertedSelectionMode}getFilterFromDataPoints(){var S=(0,c.R6)({columns:this.columns});if(_.isEmpty(this.selected)&&(this.hasDefaultValue()||this.isInvertedSelectionMode&&S))return C.buildDefaultValueFilter(this.columns,!this.useDefaultValue||S);var E=this.buildSelectorsByLevel();if(E){var u=C.buildExprForHierarchyFilter(E.selected,E.unselected,S);return u=this.ensureAnyFilter(u,E.maxLevel),o.yl.fromSQExpr(u)}}static buildExprForHierarchyFilter(S,h,E){var u=C.buildExprsFromSelectorsByLevel(S),f=C.buildExprForUnselectedState(h,!E);return u&&f?u=(0,v.xD)(u,f):f&&(u=f),u}ensureAnyFilter(S,h){var E=h+1;if(E<this.columns.length){for(var u=(0,v.n7)(),f=[],b=E;b<this.columns.length;b++)this.supportsDefaultValueByLevel[b]&&f.push(...C.getMetadataColumnIdentityExprs(this.columns[b]));if(!_.isEmpty(f)){var V=Array.apply(null,Array(f.length)).map(()=>u);S=(0,v.xD)(S,(0,m.R)(f,V))}}return S}static getInExprByLevel(S){var E,h=(0,p.Li)(S);for(var u of h){var f=(0,d.FD)(u);E=E?(0,v.or)(E,f):f||u}return E}hasDefaultValue(){if(!_.isEmpty(this.columns))return null!=(0,s.NA)(this.columns[0].objects,r.gO.general.defaultValue)}static buildExprsFromSelectorsByLevel(S,h=!1){var E;for(var u in S){var f=C.getInExprByLevel(S[u]);E=E?(0,v.or)(E,f):f}return h&&E&&(E=(0,v.ff)(E)),E}buildSelectorsByLevel(){if(!_.isEmpty(this.selected)){var S={},h={},E={},u=0;for(var f of this.selected){for(var b=-1,V=f,T={data:[]};V;)T.data.unshift(V.scopeIdentity),V=V.parent,b++;if(u=Math.max(u,b),(0,c.OO)(f,this.isInvertedSelectionMode)){var P=this.getFirstUnselectedParent(f,this.isInvertedSelectionMode),D=S;P&&(D=this.ensureState(P,E).selectedChildren),D[b]=D[b]||[],D[b].push(T)}else{var M=this.ensureState(f,E);M.selector=T,h[b]=h[b]||[],h[b].push(M)}}return{selected:S,unselected:h,maxLevel:u}}}static buildExprForUnselectedState(S,h){var E,u={};for(var f in S){var b=S[f],V=[],T=[];for(var P of b)_.isEmpty(P.selectedChildren)?T.push(P.selector):V.push(P);if(_.isEmpty(T)||(u[f]=T),!_.isEmpty(V)){var D=C.getExprForUnselectedStateWithSelection(V);E=E?(0,v.xD)(D,E):D}}var w=C.buildExprsFromSelectorsByLevel(u,h);return E?(0,v.xD)(w,E):w}static getExprForUnselectedStateWithSelection(S){var h;for(var E of S){var u=C.buildExprsFromSelectorsByLevel(E.selectedChildren),f=(0,v.ff)(C.getInExprByLevel([E.selector])),b=(0,v.or)(u,f);h=h?(0,v.xD)(b,h):b}return h}ensureState(S,h){var E=h[S.identity.getKey()];return E||(E={selector:{},selectedChildren:{}},h[S.identity.getKey()]=E),E}getFirstUnselectedParent(S,h){for(;S;){if(S.selected&&!(0,c.OO)(S,h))return S;S=S.parent}}static createChangeForProperty(S,h){var E={},u={objectName:S.objectName,selector:void 0,properties:E};return null==h?(E[S.propertyName]={},{remove:[u]}):(E[S.propertyName]=h,{merge:[u]})}adjustStrictSingleSelectSelection(S){if(this.isStrictSingleSelect&&!_.isEmpty(S)&&(1!==_.filter(S,V=>V.selected).length||this.isInvertedSelectionMode)){var E;if(S.length>1){for(var u of S)if(u.selected&&!this.isInvertedSelectionMode||!u.selected&&this.isInvertedSelectionMode){E=u;break}if(!E)if((0,c.R6)({columns:this.columns})){for(var b of S)if(!b.disabled){E=b;break}}else E=S[0]}this.isInvertedSelectionMode&&this.toggleSelectionModeInversion(null==E),E&&(E.selected=!0,this.selected=[E],this.persistSelectionFilter(r.gO.general.filter,void 0,!0))}}}},919267:function(ve,j,e){e.d(j,{$p:function(){return ke},AM:function(){return z},Cq:function(){return xe},H4:function(){return se},HR:function(){return x},Id:function(){return he},Iy:function(){return O},K5:function(){return we},M7:function(){return G},Mj:function(){return K},NV:function(){return U},No:function(){return te},OO:function(){return ft},PB:function(){return ye},PG:function(){return bt},Qi:function(){return Z},R6:function(){return Se},VD:function(){return Ct},Wm:function(){return me},X$:function(){return ot},Yh:function(){return Ve},dq:function(){return Ne},fz:function(){return Ae},gy:function(){return Je},hY:function(){return k},hx:function(){return Oe},nD:function(){return Et},nQ:function(){return Ue},oE:function(){return lt},pD:function(){return H},pM:function(){return Ot},qo:function(){return je},rX:function(){return Ee},s8:function(){return I},s9:function(){return ut},td:function(){return Ke},tm:function(){return Ce},uN:function(){return L},uT:function(){return W},vx:function(){return q},zJ:function(){return re}});var r=e(316517),i=e(759167),a=e(41394),t=e(149222),l=e(79365),g=e(251868),n=e(442407),p=e(179658),s=e(670589),d=e(402623),o=e(848347),v=e(203032),m=e(213980),c=e(695795),C=e(621083),y=e(995649),S=e(236785),h=e(62414),E=e(914094),u=e(159601),f=e(837515),b=e(650543),V=e(62396),T=e(301755),P=e(762329),D=(0,i.CH)("clearSearchTextButton"),A=((0,i.CH)("headerContainer"),(0,i.CH)("slicerHeader"),(0,i.CH)("hidden")),R=(0,i.CH)("icon"),W=((0,i.CH)("titleHeader"),(0,i.CH)("headerText"),(0,i.CH)("slicerBody")),U=((0,i.CH)("slicerLabel"),(0,i.CH)("slicerText")),O=(0,i.CH)("slicerImage"),x=(0,i.CH)("slicerCountText"),I=(0,i.CH)("searchHeader"),L=(0,i.CH)("searchIcon"),K=(0,i.CH)("searchInput"),z=(0,i.CH)("collapsed"),H=(0,i.CH)("show"),k=((0,i.CH)("isMultiSelectEnabled"),(0,i.CH)("enable-hover")),G=(0,i.CH)("disableScrollHover"),q="SelectAll",Q="SearchBox_Text",Z="DeselectAll";function X(Dt){return null!=Dt&&null!=Dt.slicerSettings}function re(Dt){return(0,y.Gq)(Dt,u.CT.value)}function te(Dt,ne){var $e={dataMap:{},metadata:[ne[Dt.level]]},qe=[],dt=[],rt=Dt;for(qe.push(Dt),dt.push(Dt.levelIndex);rt.parent;)qe.unshift(rt=rt.parent),dt.unshift(rt.levelIndex);for(var ce of qe)$e.dataMap[ne[ce.level]]=[ce.scopeIdentity];return{selector:$e,path:dt}}function se(Dt,ne){var Fe;if(!_.isEmpty(ne)&&!_.isEmpty(Dt)){var qe,$e=(0,n.fL)(ne);for(var dt of Dt){var rt=(0,n.r3)(dt,$e);qe=qe?(0,n.or)(qe,rt):rt}Fe=E.yl.fromSQExpr(qe)}return Fe}function Ve(Dt,ne){if(!_.isEmpty(Dt)&&!_.isEmpty(ne)){var $e;for(var qe of ne){var dt=(0,n.r3)(Dt,(0,n.fL)(qe));$e=$e?(0,n.or)($e,dt):dt}return E.yl.fromSQExpr($e)}}function ke(Dt){return Dt?Dt.kind===V.sc.Contains?[(0,n.Ls)(Dt.right)]:Dt.kind===V.sc.Or?[...ke(Dt.left),...ke(Dt.right)]:void b.f.assertFail("operator not supported"):[]}function Ue(Dt){if(Dt){var ne=Dt.categorical;if(ne&&!_.isEmpty(ne.categories))return ne.categories[0].identityFields}}function ot(Dt,ne,Fe){if(Dt&&!_.isEmpty(ne))for(var $e=0,qe=ne.length;$e<qe;$e++)if((0,d.fS)(Dt,ne[$e].identity,Fe))return ne.splice($e,1)[0]}function ft(Dt,ne){var Fe=Dt.parent?ft(Dt.parent,ne):ne;return Dt.selected?!Fe:Fe}function Ct(Dt,ne){Dt.persistProperties({remove:[{objectName:"general",selector:null,properties:{filter:!0}}],replace:[{objectName:"data",selector:null,properties:{[u.gO.data.mode.propertyName]:ne}}]}),Dt.onSelect({type:C.BD.DataPointSelection,visualObjects:[]});var $e=Dt.getLocalizedString("Slicer_ClearSelectionsCleared");Dt.alertWithDebounce("announce-clear-selection",$e)}function Ke(Dt,ne){var Fe=Dt.complete(),$e=Fe?Fe.visualObjectWarnings:void 0;for(var qe in $e)ne.addForVisualObject(qe,...$e[qe]||[])}function Ae(Dt){return Dt.identity.getKey()}function we(Dt,ne,Fe=!1){Dt.handleClearSelection(),Fe&&Dt.setSearchMode(!0),Dt.persistSelectionFilter(u.gO.general.filter,null,!0!==ne,Fe)}function Ne(Dt){Dt.setSearchMode(!0),Dt.persistSelfFilter(u.gO.general.selfFilter,null)}function Se(Dt){return _.some(Dt.columns,ne=>ne.parameter?.kind===p.DG.MParameters)}function Ie(Dt){return _.some(Dt.columns,ne=>ne.parameter?.supportsMultipleValues)}function me(Dt){return _.some(Dt.columns,ne=>ne.parameter?.supportsSelectAll)}function Oe(Dt,ne){Dt.attr("disabled",!!ne.disabled||void 0)}function Ee(Dt,ne){return""!==ne?ne:Dt.getLocalizedString("NullValue")}function xe(){return{singleSelect:!0,selectAllCheckboxEnabled:!1,strictSingleSelect:!1,restrictToLeafNodes:!1}}class ye{onPopupHideEvent(ne,Fe,$e,qe){return this.popup=$e,this.popupHideEventHandler=ne,this.boundBox=Fe,this.originalOffset=$(Fe).offset(),this.scrollEventHandler=dt=>this.scrollEventReceived(dt),this.focusEventHandler=dt=>this.focusInEventReceived(dt,qe),this.popupHideEvent=dt=>this.popupHideEventReceived(dt),this.mouseEventHandler=dt=>this.onMouseDown(dt,qe),this.bindPopupHideHandlers(),$.proxy(this.unbindPopupHideHandlers,this)}popupHideEventReceived(ne){this.popupHideEventHandler(ne.type,ne.target)}scrollEventReceived(ne){if(this.boundBox){var Fe=$(this.boundBox).offset();(Fe.left!==this.originalOffset.left||Fe.top!==this.originalOffset.top)&&(this.originalOffset=Fe,this.popupHideEventHandler(ne.type,ne.target))}}focusInEventReceived(ne,Fe){!this.popup||this.popup.contains(ne.target)||Fe&&this.isContextMenuElement(ne.target)||this.popupHideEventHandler(ne.type,ne.target)}onMouseDown(ne,Fe){2===ne.button&&Fe&&(!this.popup||this.popup.contains(ne.target)||this.isContextMenuElement(ne.target))||this.popupHideEventHandler(ne.type,ne.target)}bindPopupHideHandlers(){document.addEventListener("mousedown",this.mouseEventHandler,!0),document.addEventListener("pointerdown",this.mouseEventHandler,!0),document.addEventListener("touchstart",this.popupHideEvent,!0),$(window).on("resize",$.proxy(this.popupHideEventReceived,this)),$(this.boundBox).on("destroy",$.proxy(this.popupHideEventReceived,this)),document.addEventListener("scroll",this.scrollEventHandler,!0),document.addEventListener("focusin",this.focusEventHandler,!0),$(window).on("orientationchange",this.popupHideEventReceived.bind(this))}unbindPopupHideHandlers(){document.removeEventListener("mousedown",this.mouseEventHandler,!0),document.removeEventListener("pointerdown",this.mouseEventHandler,!0),document.removeEventListener("touchstart",this.popupHideEvent,!0),$(window).off("resize",this.popupHideEventReceived),document.removeEventListener("scroll",this.scrollEventHandler,!0),$(this.boundBox).off("destroy",this.popupHideEventReceived),document.removeEventListener("focusin",this.focusEventHandler,!0),$(window).off("orientationchange",this.popupHideEventReceived)}isContextMenuElement(ne){return $(ne).parents("drop-down-list:first").length>0}}class Je{addSearch(ne,Fe){var $e=Fe.append("div").classed(I.class,!0).classed(z.class,!0);return $e.append("span").classed("powervisuals-glyph search",!0).classed(R.class,!0).classed(L.class,!0).attr("title",ne.getLocalizedString(Q)),$e.append("input").attr("type","text").attr("aria-label",ne.getLocalizedString(Q)).attr("placeholder",ne.getLocalizedString(Q)).attr("spellcheck",!1).classed(K.class,!0).attr("drag-resize-disabled","true"),$e}addClearSearchButton(ne,Fe){var $e=Fe.append("span").classed("powervisuals-glyph x",!0).classed(R.class,!0).classed(D.class,!0);return Fe.select(K.selector).attr("placeholder",ne.getLocalizedString(Q)),$e}configureSearchBoxIcon(ne,Fe){var $e=_.isEmpty(Fe);ne.select(L.selector).classed(A.class,!$e),ne.select(D.selector).classed(A.class,$e)}getRowHeight(ne,Fe,$e){return f.b.estimateSvgTextHeight(this.getTextProperties(ne.slicerText.textSize,ne.slicerText.fontFamily,Fe))+this.getRowsOutlineWidth(ne.slicerText.outlineStyle,ne.general.outlineWeight)}setSlicerTextStyle(ne,Fe,$e){ne.styles({color:Fe.slicerText.color,"background-color":Fe.slicerText.background,"border-style":"solid","border-color":Fe.general.outlineColor,"border-width":(0,m.$b)(Fe.slicerText.outlineStyle,Fe.general.outlineWeight),"font-size":h.FP.fromPoint(Fe.slicerText.textSize),"font-family":Fe.slicerText.fontFamily,"line-height":Math.floor(1.79*Fe.slicerText.textSize)+"px","font-weight":Fe.slicerText.labelBold?i.en:i.AI,"font-style":Fe.slicerText.labelItalic?i.BF:i.AI,"text-decoration":Fe.slicerText.labelUnderline?i.f0:i.zu});var dt=this.calculateSlicerTextHighlightColor(Fe.slicerText.color);ne.on("mouseover",function(rt){d3.select(this).styles({color:dt})}),ne.on("mouseout",function(rt){d3.select(this).styles({color:Fe.slicerText.color})})}getRowsOutlineWidth(ne,Fe){if("number"==typeof ne){var $e=(0,c.yE)(ne,a.$m.Top),qe=(0,c.yE)(ne,a.$m.Bottom);return $e&&qe?2*Fe:$e||qe?Fe:0}switch(ne){case a.YP:case a.v3:return 0;case a.wI:case a.j0:return Fe;case a.b_:case a.Wi:return 2*Fe;default:return 0}}calculateSlicerTextHighlightColor(ne){var Fe=(0,l.WV)(ne);return Fe&&255===Fe.R&&255===Fe.G&&255===Fe.B?"#C8C8C8":(0,l.jd)(Fe,.8,.2)}getTextProperties(ne,Fe,$e){return $e.fontSize=h.FP.fromPoint(ne),$e.fontFamily=Fe,$e}}function he(){return!t.M.isIOSWebView()&&!t.M.isAndroidWebView()}function Ce(Dt,ne){if(ne===C.mE.Default&&1===Dt.length&&Dt[0].objectName===u.gO.data.mode.objectName&&Dt[0].propertyName===u.gO.data.mode.propertyName){var Fe=[],$e=Dt[0].propertyValue;return(Fe=$e===r.Ih||$e===r.of?[{objectName:u.gO.data.mode.objectName,propertyName:u.gO.data.mode.propertyName,propertyValue:r.RB,propertyType:{enumeration:r.dt}},{objectName:u.gO.general.orientation.objectName,propertyName:u.gO.general.orientation.propertyName,propertyValue:$e===r.of?S.i.Horizontal:S.i.Vertical,propertyType:{enumeration:S.d}}]:[...Dt]).push({objectName:u.gO.general.filter.objectName,propertyName:u.gO.general.filter.propertyName,propertyValue:null,propertyType:{filter:{}}}),Fe}return Dt}function je(Dt,ne,Fe,$e,qe){if(ne)switch(Dt.objectName){case"items":return function(Dt,ne,Fe){var $e=ne,qe=X(Dt)&&Dt.slicerSettings.slicerText,ce={fontColor:qe&&Dt.slicerSettings.slicerText.color?Dt.slicerSettings.slicerText.color:$e.slicerText.color,background:qe&&Dt.slicerSettings.slicerText.background?Dt.slicerSettings.slicerText.background:$e.slicerText.background,textSize:$e.slicerText.textSize,fontFamily:$e.slicerText.fontFamily,bold:$e.slicerText.labelBold,italic:$e.slicerText.labelItalic,underline:$e.slicerText.labelUnderline,outlineStyle:$e.slicerText.outlineStyle};return!_.isEmpty(Dt.queryNameByLevel)&&Dt.queryNameByLevel.length>1&&(ce.steppedLayoutIndentation=$e.expandCollapse.indentation,ce.expandCollapseToggleType=$e.expandCollapse.toggleType),[{selector:null,objectName:"items",properties:ce}]}(ne,Fe);case"selection":return function(Dt,ne,Fe){var $e=X(Dt)&&Dt.slicerSettings.selection,qe=$e&&Dt.slicerSettings.selection.selectAllCheckboxEnabled?Dt.slicerSettings.selection.selectAllCheckboxEnabled:ne.selection.selectAllCheckboxEnabled,dt=$e&&void 0!==Dt.slicerSettings.selection.singleSelect?Dt.slicerSettings.selection.singleSelect:ne.selection.singleSelect,rt=$e&&void 0!==Dt.slicerSettings.selection.strictSingleSelect?Dt.slicerSettings.selection.strictSingleSelect:ne.selection.strictSingleSelect;!rt&&Se(Fe.metadata)&&!Ie(Fe.metadata)&&(rt=!0);var ce={selector:null,objectName:"selection",properties:{strictSingleSelect:rt}};return rt||(ce.properties.singleSelect=dt,ce.properties.selectAllCheckboxEnabled=qe),[ce]}(ne,Fe,$e)}}function ut(Dt,ne,Fe,$e){if(ne){var qe=X(ne)&&ne.slicerSettings.slicerText,dt=qe&&ne.slicerSettings.slicerText.color?ne.slicerSettings.slicerText.color:Fe.slicerText.color,rt=qe&&ne.slicerSettings.slicerText.background?ne.slicerSettings.slicerText.background:Fe.slicerText.background,ce=u.gO.items,be=new g.CQ(new g.lg(v.sx.Values),"Role_DisplayName_Values",[ce.fontFamily,ce.textSize,ce.bold,ce.italic,ce.underline,ce.fontColor,ce.padding,ce.outlineStyle,u.gO.general.outlineColor,u.gO.general.outlineWeight,ce.background],ee=>Dt.getLocalizedString(ee)),de=(new g.UN).withFontFamily({descriptor:ce.fontFamily,value:Fe.slicerText.fontFamily}).withFontSizeProperties({descriptor:ce.textSize,value:Fe.slicerText.textSize}).withBold({descriptor:ce.bold,value:Fe.slicerText.labelBold}).withItalic({descriptor:ce.italic,value:Fe.slicerText.labelItalic}).withUnderline({descriptor:ce.underline,value:Fe.slicerText.labelUnderline}).build();return be.addGroup(v.tc.Values,ee=>{ee.withDisplayName("Role_DisplayName_Values").addCompositeSlice("fontselector","Font",de).addSimpleSlice("color",new g.BT({descriptor:ce.fontColor,value:{value:dt}}).build()),$e&&$e.slicerAccessibility&&ee.addSimpleSlice("padding",new g.mu({descriptor:ce.padding,value:Fe.items.padding,options:{minValue:{type:o.aS.Min,value:0},maxValue:{type:o.aS.Max,value:999},unitSymbol:"Numeric_Pixel"}}).build())}).addGroup(v.tc.Border,ee=>{ee.withDisplayName("Visual_Border").addSimpleSlice("border position",new g.oM({descriptor:ce.outlineStyle,value:Fe.slicerText.outlineStyle}).build(),Pe=>Pe.withCustomDisplayName("Visual_Border_Position")).addSimpleSlice("color",new g.BT({descriptor:{...u.gO.general.outlineColor,instanceKind:s.M.ConstantOrRule},value:{value:Fe.general.outlineColor}}).build(),Pe=>Pe.withCustomDisplayName("Generic_Color")).addSimpleSlice("lineWidth",new g.JN({descriptor:u.gO.general.outlineWeight,value:Fe.general.outlineWeight,options:{minValue:{type:o.aS.Min,value:1},maxValue:{type:o.aS.Max,value:10}},localize:Pe=>Dt.getLocalizedString(Pe)}).build(),Pe=>Pe.withCustomDisplayName("Visual_Line_Width"))}).addGroup(v.tc.Background,ee=>{ee.withDisplayName("Visual_Background").addSimpleSlice("color",new g.BT({descriptor:ce.background,value:{value:rt}}).build(),Pe=>Pe.withCustomDisplayName("Generic_Color"))}),be.build()}}function lt(Dt,ne,Fe,$e){if(ne){var qe=u.gO.items,dt=new g.CQ(new g.lg(v.sx.Hierarchy),"Hierarchy",[qe.steppedLayoutIndentation,qe.expandCollapseToggleType],rt=>Dt.getLocalizedString(rt));if(!_.isEmpty(ne.queryNameByLevel)&&ne.queryNameByLevel.length>1)return dt.addGroup(v.tc.Levels,rt=>{rt.withDisplayName("Slicer_Hierarchy_Levels").addSimpleSlice("steppedIndentation",new g.JN({descriptor:qe.steppedLayoutIndentation,value:Fe.expandCollapse.indentation,options:{minValue:{type:o.aS.Min,value:0},maxValue:{type:o.aS.Max,value:40}},localize:ce=>Dt.getLocalizedString(ce)}).build())}).addGroup(v.tc.ExpandCollapseButtons,rt=>{rt.withDisplayName("Slicer_ExpandCollapse").addSimpleSlice("expand/collapseIcon",new g.uY({descriptor:qe.expandCollapseToggleType,value:Fe.expandCollapse.toggleType}).build())}),[dt.build()]}}function Et(Dt){var{cardUidBuilder:ne,currentSlicerSettings:Fe,data:$e,dataView:qe,hostServices:dt,orientation:rt,slicerModes:ce,featureSwitches:be}=Dt,ae=Dt.activeMode;if($e||!(0,r.Ek)(ae)){var de=[],ee=[],Pe=$e&&$e.slicerSettings,We=new g.mQ(new g.SS(ne,v.tc.Options),fe=>dt.getLocalizedString(fe));if(ee.push(u.gO.general.selfFilterEnabled),We.withDisplayName("Desktop_FileMenu_Options"),be.updateFormattingPaneObjects&&be.moveSlicerTypeSelection){ae===r.RB&&(ae=rt&&rt===S.i.Horizontal?r.of:r.Ih);var it=[];for(var yt of ce){var et=yt.displayName({get:dt.getLocalizedString});it.push({value:yt.value,displayName:et})}var mt=it.filter(fe=>fe.value===ae);We.addSimpleSlice("style",new g.uY({descriptor:u.gO.data.mode,value:mt&&mt[0],items:it}).build()),ee.push(u.gO.data.mode)}else null!=rt&&(We.addSimpleSlice("orientation",new g.uY({descriptor:u.gO.general.orientation,value:rt}).build()),ee.push(u.gO.general.orientation));var ie=We.build();if(ie.slices.length>0&&de.push(ie),$e&&Fe&&qe){var Y=bt(Pe,qe,Fe,dt,ne,ee);de.push(Y)}return{groups:de,revertToDefaultDescriptors:ee}}}function bt(Dt,ne,Fe,$e,qe,dt,rt=!0,ce=!1){var be=Dt&&Dt.selection,ae=Fe.selection,de=be&&be.selectAllCheckboxEnabled?be.selectAllCheckboxEnabled:ae.selectAllCheckboxEnabled,ee=be&&void 0!==be.singleSelect?be.singleSelect:ae.singleSelect,Pe=be&&void 0!==be.strictSingleSelect?be.strictSingleSelect:ae.strictSingleSelect,We=ce&&be.restrictToLeafNodes;!Pe&&Se(ne.metadata)&&!Ie(ne.metadata)&&(Pe=!0);var it=u.gO.selection,yt=new g.mQ(new g.SS(qe,v.tc.Selection),et=>$e.getLocalizedString(et));return dt.push(u.gO.general.selfFilterEnabled,it.strictSingleSelect,it.singleSelect,it.selectAllCheckboxEnabled),ce&&dt.push(u.hN),rt||yt.addSimpleSlice("singleSelect",new g.bd({descriptor:it.singleSelect,value:ee}).build()),(ee||rt)&&!We&&yt.withDisplayName("ExpandCollapseNode").addSimpleSlice("strictSingleSelect",new g.bd({descriptor:it.strictSingleSelect,value:Pe}).build()),Pe||(rt&&yt.addSimpleSlice("singleSelect",new g.bd({descriptor:it.singleSelect,value:ee}).build()),(!ce||!We)&&yt.addSimpleSlice("selectAllCheckboxEnabled",new g.bd({descriptor:it.selectAllCheckboxEnabled,value:de}).build()),ee&&!de&&ce&&yt.addSimpleSlice("restrictToLeafNodes",new g.bd({descriptor:u.hN,value:be.restrictToLeafNodes}).build())),yt.build()}function Ot(Dt,ne,Fe){if(null==Dt&&!_.isEmpty(ne.showBlankAs))return ne.showBlankAs;var dt,$e=ne.labelDisplayUnits,qe=$e===T.iS.Custom;qe&&!_.isEmpty(ne.customFormatString)&&(dt=ne.customFormatString);var ce={};return null!=dt&&(ce={general:{formatString:dt}}),new P.g({column:Fe,formatStringPropId:u.gO.general.formatString,nullsAreBlank:!0,precision:qe?void 0:ne.labelPrecision,formatSingleValues:$e===T.iS.Auto,defaultPrecisionForScaledValues:!0,trailingZeroes:!0}).format(Dt,ce)}},804878:function(ve,j,e){e.d(j,{AA:function(){return o},kO:function(){return v},SV:function(){return m},YA:function(){return c},n8:function(){return y},i1:function(){return S},HA:function(){return C},ki:function(){return h},Ih:function(){return E},Ug:function(){return u}});var r=e(333107),i=e(991827),t=e(650543),l=e(630881),g=e(230343),n=e(562832),p=e(762329),s=e(853450),d=e(248505);function o(f,b){var V=[];for(var T of f){var D=m(T.value,b);D&&V.push(D)}return V.join("")}function v(f,b){var V;if((0,s.U)(f.expression)){var T=f.expression.selector.id,P=b?.[T];V=P?.value}else V=f.expression;var D=function(f,b){return _.find(f.cases,V=>V.pattern===b)||f.defaultCase}(f,V);return D.textRuns}function m(f,b){return(0,s.U)(f)?c(f.selector.id,b):f}function c(f,b){var V=b?.[f];return V?.formattedValue}function C(f){var b=f;return t.f.assertValue(b,"textRun"),_.isString(b.value)||(0,s.U)(b.value)}function y(f){return!_.isNil(f.mentionEmail)}function S(f){return!_.isNil(f.mentionKey)}function h(f){var b=f;return t.f.assertValue(b,"textRunConditional"),_.isArray(b.cases)&&!!b.defaultCase&&_.isArray(b.defaultCase.textRuns)&&((0,s.U)(b.expression)||_.isString(b.expression)||_.isNumber(b.expression)||_.isBoolean(b.expression)||_.isDate(b.expression))}function E(f,b,V){t.f.assertValue(b,"evaluatedValues must be defined");var T=i.RL.values.expr.objectName;t.f.assert(()=>T===i.RL.values.formatString.objectName,"Format strings are expected in the same object as evaluated values");var P=(0,g.AO)(f,T);if(!_.isEmpty(P)){for(var D in P){var w=(0,n.N)(P[D],i.RL.values.expr.propertyName),M=new p.g({column:{displayName:"",objects:P,type:d.Ge.fromPrimitiveTypeAndCategory(u(w))},formatStringPropId:{objectName:D,propertyName:i.RL.values.formatString.propertyName},nullsAreBlank:!1});b[D]={value:w,formattedValue:M.format(w)}}V&&V.trace(l.KE.Trace,"TextboxWithSmartNarrativeValuesDataChanged")}}function u(f){return _.isDate(f)?r.M.DateTime:_.isInteger(f)?r.M.Integer:_.isNumber(f)?r.M.Double:_.isBoolean(f)?r.M.Boolean:_.isString(f)?r.M.Text:(t.f.assert(()=>!f,"Unsupported primitive value"),r.M.Null)}},797833:function(ve,j,e){function r(){return $("<div></div>")}function i(){return $("<span></span>")}function n(){return $("<select></select>")}function p(){return $('<input type="text"/>')}e.d(j,{Ys:function(){return n},hi:function(){return r},yP:function(){return i},ze:function(){return p}})},759167:function(ve,j,e){function r(pe){return{class:pe,selector:"."+pe}}e.d(j,{$Z:function(){return g},AI:function(){return Ie},Ag:function(){return p},At:function(){return Ct},B1:function(){return ke},BF:function(){return Ee},By:function(){return J},CB:function(){return S},CH:function(){return r},G7:function(){return Se},Ji:function(){return O},K:function(){return je},LR:function(){return o},Mq:function(){return W},OF:function(){return y},QX:function(){return x},Rg:function(){return re},SJ:function(){return a},SU:function(){return C},Sd:function(){return m},Ux:function(){return H},Uy:function(){return c},VM:function(){return T},Xn:function(){return u},YY:function(){return k},Z7:function(){return b},aX:function(){return Oe},a_:function(){return Ue},dj:function(){return I},ei:function(){return t},en:function(){return me},f0:function(){return xe},fw:function(){return Ke},hK:function(){return X},hy:function(){return he},j4:function(){return z},jO:function(){return we},jU:function(){return R},k2:function(){return E},kP:function(){return l},l6:function(){return ye},mA:function(){return V},ps:function(){return U},py:function(){return te},rb:function(){return B},t0:function(){return F},vp:function(){return L},wF:function(){return Ve},wu:function(){return A},zo:function(){return K},zu:function(){return Ae}});var a="px",t="height",l="width",g="top",p="left",o="margin-top",m="margin-left",c="margin-right",C="display",y="background",S="background-color",E="background-size",u="background-image",b="text-align",V="border",T="border-top",A="border-radius",R="border-color",B="box-shadow",W="font-family",F="font-size",U="font-weight",O="font-style",x="text-decoration",I="color",L="opacity",K="padding",z="padding-top",H="padding-left",J="padding-right",k="padding-bottom",X="overflow-x",re="overflow-y",te="transform",Ve="cursor",ke="visibility",Ue="fill",Ct="auto",Ke="hidden",Ae="none",we="block",Se="transparent",Ie="normal",me="bold",Oe="600",Ee="italic",xe="underline",ye="visible",he="cover",je="scroll"},418431:function(ve,j,e){e.d(j,{$U:function(){return p},$u:function(){return F},A3:function(){return X},AA:function(){return w},CA:function(){return s},Cj:function(){return J},DL:function(){return T},G6:function(){return I},LS:function(){return G},Mn:function(){return i},N8:function(){return q},NN:function(){return Ve},O4:function(){return te},OV:function(){return re},Of:function(){return t},PG:function(){return k},Rh:function(){return b},Ti:function(){return B},V:function(){return Z},Wo:function(){return ft},XR:function(){return L},ZI:function(){return u},bS:function(){return S},bd:function(){return f},cp:function(){return P},iV:function(){return g},mW:function(){return r},n:function(){return A},nP:function(){return O},oe:function(){return U},pX:function(){return v},tc:function(){return l},wx:function(){return a},x5:function(){return R},xw:function(){return ke},y4:function(){return V}});var r=function(Ke){return Ke[Ke.escKeyCode=27]="escKeyCode",Ke[Ke.enterKeyCode=13]="enterKeyCode",Ke[Ke.tabKeyCode=9]="tabKeyCode",Ke[Ke.upArrowKeyCode=38]="upArrowKeyCode",Ke[Ke.downArrowKeyCode=40]="downArrowKeyCode",Ke[Ke.leftArrowKeyCode=37]="leftArrowKeyCode",Ke[Ke.rightArrowKeyCode=39]="rightArrowKeyCode",Ke[Ke.homeKeyCode=36]="homeKeyCode",Ke[Ke.endKeyCode=35]="endKeyCode",Ke[Ke.backSpaceKeyCode=8]="backSpaceKeyCode",Ke[Ke.deleteKeyCode=46]="deleteKeyCode",Ke[Ke.spaceKeyCode=32]="spaceKeyCode",Ke[Ke.pageUpKeyCode=33]="pageUpKeyCode",Ke[Ke.pageDownKeyCode=34]="pageDownKeyCode",Ke[Ke.shiftKeyCode=16]="shiftKeyCode",Ke[Ke.ctrlKeyCode=17]="ctrlKeyCode",Ke[Ke.altKeyCode=18]="altKeyCode",Ke[Ke.aKeyCode=65]="aKeyCode",Ke[Ke.bKeyCode=66]="bKeyCode",Ke[Ke.cKeyCode=67]="cKeyCode",Ke[Ke.dKeyCode=68]="dKeyCode",Ke[Ke.fKeyCode=70]="fKeyCode",Ke[Ke.gKeyCode=71]="gKeyCode",Ke[Ke.hKeyCode=72]="hKeyCode",Ke[Ke.kKeyCode=75]="kKeyCode",Ke[Ke.mKeyCode=77]="mKeyCode",Ke[Ke.rKeyCode=82]="rKeyCode",Ke[Ke.sKeyCode=83]="sKeyCode",Ke[Ke.tKeyCode=84]="tKeyCode",Ke[Ke.vKeyCode=86]="vKeyCode",Ke[Ke.wKeyCode=87]="wKeyCode",Ke[Ke.xKeyCode=88]="xKeyCode",Ke[Ke.yKeyCode=89]="yKeyCode",Ke[Ke.zKeyCode=90]="zKeyCode",Ke[Ke.f6KeyCode=117]="f6KeyCode",Ke[Ke.f11KeyCode=122]="f11KeyCode",Ke[Ke.plusKeyCode=187]="plusKeyCode",Ke[Ke.minusKeyCode=189]="minusKeyCode",Ke[Ke.numpadAdd=107]="numpadAdd",Ke[Ke.numpadSubtract=109]="numpadSubtract",Ke[Ke.questionMarkKeyCode=191]="questionMarkKeyCode",Ke[Ke.zeroKeyCode=48]="zeroKeyCode",Ke[Ke.oneKeyCode=49]="oneKeyCode",Ke[Ke.twoKeyCode=50]="twoKeyCode",Ke[Ke.threeKeyCode=51]="threeKeyCode",Ke[Ke.fourKeyCode=52]="fourKeyCode",Ke[Ke.fiveKeyCode=53]="fiveKeyCode",Ke[Ke.sixKeyCode=54]="sixKeyCode",Ke[Ke.f10KeyCode=121]="f10KeyCode",Ke[Ke.nineKeyCode=57]="nineKeyCode",Ke[Ke.asteriskKeyCode=56]="asteriskKeyCode",Ke}({}),i=function(Ke){return Ke.A="KeyA",Ke.ArrowDown="ArrowDown",Ke.ArrowLeft="ArrowLeft",Ke.ArrowRight="ArrowRight",Ke.ArrowUp="ArrowUp",Ke.Backspace="Backspace",Ke.Delete="Delete",Ke.End="End",Ke.Enter="Enter",Ke.Escape="Escape",Ke.F2="F2",Ke.F10="F10",Ke.Home="Home",Ke.PageUp="PageUp",Ke.PageDown="PageDown",Ke.Space="Space",Ke.Tab="Tab",Ke}({}),a=[r.twoKeyCode,r.threeKeyCode,r.fourKeyCode,r.fiveKeyCode,r.sixKeyCode,r.hKeyCode,r.kKeyCode,r.bKeyCode,r.tKeyCode],t=function(Ke){return Ke[Ke.Enter=13]="Enter",Ke[Ke.F1=112]="F1",Ke[Ke.F2=113]="F2",Ke[Ke.F6=117]="F6",Ke[Ke.F10=121]="F10",Ke[Ke.ArrowRight=39]="ArrowRight",Ke[Ke.KeyT=84]="KeyT",Ke}({}),l=function(Ke){return Ke[Ke.Main=0]="Main",Ke[Ke.Auxilary=1]="Auxilary",Ke[Ke.Secondary=2]="Secondary",Ke[Ke.Fourth=3]="Fourth",Ke[Ke.Fifth=4]="Fifth",Ke}({}),g="body",p=":text, textarea",s='[type="number"]',v="id",S="_self",u="src",f="contenteditable",b="skip-children-focus",V="contextmenu",T="blur",P="keyup",w="change",A="keydown",R="mousemove",B="mousedown",F="mouseover",U="mouseout",O="mouseup",I="click",L="dblclick",J="hover",k="focus",G="focusin",q="focusout",Z="message",X="load",re="beforeunload",te="pointermove",Ve="pointerdown",ke="pointerout",ft="pointerover"},221e3:function(ve,j,e){e.d(j,{BM:function(){return p},Eo:function(){return f},GG:function(){return C},GW:function(){return R},Po:function(){return y},QO:function(){return P},U:function(){return A},Uy:function(){return u},W0:function(){return T},Xo:function(){return t},aP:function(){return h},bA:function(){return E},bl:function(){return S},cT:function(){return b},eT:function(){return N},iD:function(){return V},kg:function(){return l},mv:function(){return m},oI:function(){return M},p8:function(){return c},qO:function(){return n},wA:function(){return v}});var r=e(650543),t=-308,l=308,n=1e-4,p=12,s=Math.log(10),d=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13,1e14,1e15,1e16,1e17,1e18,1e19,1e20,1e21,1e22,1e23,1e24,1e25,1e26,1e27,1e28,1e29,1e30,1e31,1e32,1e33,1e34,1e35,1e36,1e37,1e38,1e39,1e40,1e41,1e42,1e43,1e44,1e45,1e46,1e47,1e48,1e49,1e50,1e51,1e52,1e53,1e54,1e55,1e56,1e57,1e58,1e59,1e60,1e61,1e62,1e63,1e64,1e65,1e66,1e67,1e68,1e69,1e70,1e71,1e72,1e73,1e74,1e75,1e76,1e77,1e78,1e79,1e80,1e81,1e82,1e83,1e84,1e85,1e86,1e87,1e88,1e89,1e90,1e91,1e92,1e93,1e94,1e95,1e96,1e97,1e98,1e99,1e100,1e101,1e102,1e103,1e104,1e105,1e106,1e107,1e108,1e109,1e110,1e111,1e112,1e113,1e114,1e115,1e116,1e117,1e118,1e119,1e120,1e121,1e122,1e123,1e124,1e125,1e126,1e127,1e128,1e129,1e130,1e131,1e132,1e133,1e134,1e135,1e136,1e137,1e138,1e139,1e140,1e141,1e142,1e143,1e144,1e145,1e146,1e147,1e148,1e149,1e150,1e151,1e152,1e153,1e154,1e155,1e156,1e157,1e158,1e159,1e160,1e161,1e162,1e163,1e164,1e165,1e166,1e167,1e168,1e169,1e170,1e171,1e172,1e173,1e174,1e175,1e176,1e177,1e178,1e179,1e180,1e181,1e182,1e183,1e184,1e185,1e186,1e187,1e188,1e189,1e190,1e191,1e192,1e193,1e194,1e195,1e196,1e197,1e198,1e199,1e200,1e201,1e202,1e203,1e204,1e205,1e206,1e207,1e208,1e209,1e210,1e211,1e212,1e213,1e214,1e215,1e216,1e217,1e218,1e219,1e220,1e221,1e222,1e223,1e224,1e225,1e226,1e227,1e228,1e229,1e230,1e231,1e232,1e233,1e234,1e235,1e236,1e237,1e238,1e239,1e240,1e241,1e242,1e243,1e244,1e245,1e246,1e247,1e248,1e249,1e250,1e251,1e252,1e253,1e254,1e255,1e256,1e257,1e258,1e259,1e260,1e261,1e262,1e263,1e264,1e265,1e266,1e267,1e268,1e269,1e270,1e271,1e272,1e273,1e274,1e275,1e276,1e277,1e278,1e279,1e280,1e281,1e282,1e283,1e284,1e285,1e286,1e287,1e288,1e289,1e290,1e291,1e292,1e293,1e294,1e295,1e296,1e297,1e298,1e299,1e300,1e301,1e302,1e303,1e304,1e305,1e306,1e307,1e308],o=[1,.1,.01,.001,1e-4,1e-5,1e-6,1e-7,1e-8,1e-9,1e-10,1e-11,1e-12,1e-13,1e-14,1e-15,1e-16,1e-17,1e-18,1e-19,1e-20,1e-21,1e-22,1e-23,1e-24,1e-25,1e-26,1e-27,1e-28,1e-29,1e-30,1e-31,1e-32,1e-33,1e-34,1e-35,1e-36,1e-37,1e-38,1e-39,1e-40,1e-41,1e-42,1e-43,1e-44,1e-45,1e-46,1e-47,1e-48,1e-49,1e-50,1e-51,1e-52,1e-53,1e-54,1e-55,1e-56,1e-57,1e-58,1e-59,1e-60,1e-61,1e-62,1e-63,1e-64,1e-65,1e-66,1e-67,1e-68,1e-69,1e-70,1e-71,1e-72,1e-73,1e-74,1e-75,1e-76,1e-77,1e-78,1e-79,1e-80,1e-81,1e-82,1e-83,1e-84,1e-85,1e-86,1e-87,1e-88,1e-89,1e-90,1e-91,1e-92,1e-93,1e-94,1e-95,1e-96,1e-97,1e-98,1e-99,1e-100,1e-101,1e-102,1e-103,1e-104,1e-105,1e-106,1e-107,1e-108,1e-109,1e-110,1e-111,1e-112,1e-113,1e-114,1e-115,1e-116,1e-117,1e-118,1e-119,1e-120,1e-121,1e-122,1e-123,1e-124,1e-125,1e-126,1e-127,1e-128,1e-129,1e-130,1e-131,1e-132,1e-133,1e-134,1e-135,1e-136,1e-137,1e-138,1e-139,1e-140,1e-141,1e-142,1e-143,1e-144,1e-145,1e-146,1e-147,1e-148,1e-149,1e-150,1e-151,1e-152,1e-153,1e-154,1e-155,1e-156,1e-157,1e-158,1e-159,1e-160,1e-161,1e-162,1e-163,1e-164,1e-165,1e-166,1e-167,1e-168,1e-169,1e-170,1e-171,1e-172,1e-173,1e-174,1e-175,1e-176,1e-177,1e-178,1e-179,1e-180,1e-181,1e-182,1e-183,1e-184,1e-185,1e-186,1e-187,1e-188,1e-189,1e-190,1e-191,1e-192,1e-193,1e-194,1e-195,1e-196,1e-197,1e-198,1e-199,1e-200,1e-201,1e-202,1e-203,1e-204,1e-205,1e-206,1e-207,1e-208,1e-209,1e-210,1e-211,1e-212,1e-213,1e-214,1e-215,1e-216,1e-217,1e-218,1e-219,1e-220,1e-221,1e-222,1e-223,1e-224,1e-225,1e-226,1e-227,1e-228,1e-229,1e-230,1e-231,1e-232,1e-233,1e-234,1e-235,1e-236,1e-237,1e-238,1e-239,1e-240,1e-241,1e-242,1e-243,1e-244,1e-245,1e-246,1e-247,1e-248,1e-249,1e-250,1e-251,1e-252,1e-253,1e-254,1e-255,1e-256,1e-257,1e-258,1e-259,1e-260,1e-261,1e-262,1e-263,1e-264,1e-265,1e-266,1e-267,1e-268,1e-269,1e-270,1e-271,1e-272,1e-273,1e-274,1e-275,1e-276,1e-277,1e-278,1e-279,1e-280,1e-281,1e-282,1e-283,1e-284,1e-285,1e-286,1e-287,1e-288,1e-289,1e-290,1e-291,1e-292,1e-293,1e-294,1e-295,1e-296,1e-297,1e-298,1e-299,1e-300,1e-301,1e-302,1e-303,1e-304,1e-305,1e-306,1e-307,1e-308,1e-309,1e-310,1e-311,1e-312,1e-313,1e-314,1e-315,1e-316,1e-317,1e-318,1e-319,1e-320,1e-321,1e-322,1e-323,0];function v(W){return r.f.assertValue(W,"exp"),W>=0?W<d.length?d[W]:1/0:(W=-W)>0&&W<o.length?o[W]:0}function m(W){return r.f.assert(()=>W>=0,"val"),W>1&&W<1e16?W<1e8?W<1e4?W<100?W<10?0:1:W<1e3?2:3:W<1e6?W<1e5?4:5:W<1e7?6:7:W<1e12?W<1e10?W<1e9?8:9:W<1e11?10:11:W<1e14?W<1e13?12:13:W<1e15?14:15:W>1e-16&&W<1?W<1e-8?W<1e-12?W<1e-14?W<1e-15?-16:-15:W<1e-13?-14:-13:W<1e-10?W<1e-11?-12:-11:W<1e-9?-10:-9:W<1e-4?W<1e-6?W<1e-7?-8:-7:W<1e-5?-6:-5:W<.01?W<.001?-4:-3:W<.1?-2:-1:u(Math.log(W)/s)}function c(W,F){if(void 0===F?F=p:r.f.assert(()=>F>=0,"decimalDigits"),W&&isFinite(W)){var U=m(Math.abs(W));return U<t?0:v(Math.max(U-F,1-o.length))}}function C(W,F,U){return U=B(U,W,F),r.f.assert(()=>U>=0,"precision"),W===F||Math.abs(W-F)<U}function y(W,F,U){return U=B(U,W,F),r.f.assert(()=>U>=0,"precision"),W<F&&Math.abs(W-F)>U}function S(W,F,U){return U=B(U,W,F),r.f.assert(()=>U>=0,"precision"),W<F||Math.abs(W-F)<U}function h(W,F,U){return U=B(U,W,F),r.f.assert(()=>U>=0,"precision"),W>F&&Math.abs(W-F)>U}function E(W,F,U){return U=B(U,W,F),r.f.assert(()=>U>=0,"precision"),W>F||Math.abs(W-F)<U}function u(W,F){F=F??n,r.f.assert(()=>F>=0,"precision");var U=Math.round(W);return Math.abs(W-U)<F?U:Math.floor(W)}function f(W,F){F=B(F,n),r.f.assert(()=>F>=0,"precision");var U=Math.round(W);return Math.abs(W-U)<F?U:Math.ceil(W)}function b(W,F){return F=B(F,n),r.f.assert(()=>F>=0,"precision"),0===F||0===W?W:Math.floor(W/F)*F}function V(W,F){return F=B(F,n),r.f.assert(()=>F>=0,"precision"),0===F||0===W?W:Math.ceil(W/F)*F}function T(W,F){if(F=B(F,n),r.f.assert(()=>F>=0,"precision"),0===F||0===W)return W;var U=Math.round(W/F)*F,O=Math.round(m(Math.abs(W))-m(F))+1;return O>0&&O<16&&(U=parseFloat(U.toPrecision(O))),U}function P(W,F,U){return r.f.assert(()=>F<=U,"min must be less or equal to max"),null==W?W:W<F?F:W>U?U:W}function M(W){return T(W,c(W))}function A(W){return null!==W&&W%1==0}function R(W,F){return Math.round(W/F)*F}function B(W,F,U){return void 0!==W?W:c(U?F?Math.min(Math.abs(F),Math.abs(U)):U:F)||n}function N(W){return isNaN(W)?null:W===Number.POSITIVE_INFINITY?Number.MAX_VALUE:W===Number.NEGATIVE_INFINITY?-Number.MAX_VALUE:W}},76824:function(ve,j,e){e.d(j,{DH:function(){return p},ap:function(){return l},dV:function(){return t},q$:function(){return a}});class r extends Error{constructor(d,o){super(o),this.name=d}}class i extends r{constructor(d,o,v){super(d,o+": "+v),this.argument=v}}function a(s){return new i("argumentNull","Argument was null",s)}function t(s){return new i("argumentUndefined","Argument was undefined",s)}function l(s){return new i("argumentOutOfRange","Argument was out of range",s)}function p(s=1){var d,o,v;try{if(!(v=new Error).stack)throw v}catch(m){v=m}return null!=(d=v.stack)&&((o=d.split("\n")).splice(1,s),d=o.join("\n")),d}},16990:function(ve,j,e){e.d(j,{o:function(){return i}});var r=e(650543);class i{constructor(t){r.f.assertValue(t,"factoryMethod"),this.factoryMethod=t}getValue(){return null!==this.factoryMethod&&(this.value=this.factoryMethod(),this.factoryMethod=null),this.value}}},896286:function(ve,j,e){function r(g,n){if(null===g)return null;var p=Object.create(g);return n&&n(p),p}function i(g){if(null==g)return!1;var n=Object.getPrototypeOf(g);return n!==Object.prototype&&n!==Array.prototype}function a(g){return null===g?null:(i(g)||(g=r(g)),g)}function t(g,n){if(null!=g){for(var p,s=0,d=g.length;s<d;s++){var o=n(g[s]);o&&(p||(p=r(g)),p[s]=o)}return p}}function l(g,n){if(g&&n&&"object"==typeof g)for(var p in Object.getPrototypeOf(g)!==Object.getPrototypeOf(n)&&(n.__proto__=g.__proto__),g)l(g[p],n[p])}e.d(j,{ED:function(){return r},Jx:function(){return i},VW:function(){return t},Zx:function(){return l},qO:function(){return a}})},469:function(ve,j,e){function r(i){for(var a in Object.freeze(i),i){var t=i[a];t&&"object"==typeof t&&r(t)}}e.d(j,{_:function(){return r}})},62414:function(ve,j,e){e.d(j,{FP:function(){return p},Gj:function(){return t},KH:function(){return s},PR:function(){return l},fS:function(){return a},ys:function(){return i}});var r=e(650543);function i(d,o){return(d||o)&&!(d&&o)}function a(d,o){return d===o||JSON.stringify(d)===JSON.stringify(o)}var t=8,l=60,p=(()=>{class d{static fromPoint(v){return d.toString(d.fromPointToPixel(v))}static fromPointToPixel(v){return d.PxPtRatio*v}static toPoint(v){return v/d.PxPtRatio}static toString(v){return v+d.PixelString}}return d.PxPtRatio=4/3,d.PixelString="px",d})();function s(d,o,v){return r.f.assertValue(d,"regex"),d.lastIndex=v||0,d.exec(o)}},695795:function(ve,j,e){e.d(j,{AS:function(){return t},BB:function(){return l},Js:function(){return g},mB:function(){return a},yE:function(){return i}});var r=e(650543);function i(n,p){return r.f.assert(()=>!!p,"flag must be specified and nonzero."),(n&p)===p}function a(n,p){return r.f.assert(()=>!!p,"flag must be specified and nonzero."),n|p}function t(n,p){return r.f.assert(()=>!!p,"flag must be specified and nonzero."),n&~p}function l(n,p){return n[p]}function g(n){if(null===n||n%1!=0)return 0;for(var p=0,s=n;0!==s;)!(1&~s)&&p++,s>>>=1;return p}},301336:function(ve,j,e){e.d(j,{B1:function(){return se},BL:function(){return te},FA:function(){return ft},GE:function(){return x},HZ:function(){return H},Io:function(){return K},Ir:function(){return h},JA:function(){return C},Jj:function(){return R},Nx:function(){return k},Ny:function(){return f},Oi:function(){return D},S5:function(){return ot},Th:function(){return ke},aT:function(){return v},b$:function(){return Z},cb:function(){return w},eT:function(){return S},g5:function(){return c},hM:function(){return N},k4:function(){return I},ko:function(){return B},m5:function(){return P},ms:function(){return T},nH:function(){return m},qv:function(){return L},r3:function(){return V},sc:function(){return z},t6:function(){return y},vr:function(){return u},xz:function(){return A},yQ:function(){return O},zE:function(){return W},zb:function(){return Ve}});var r=e(349672),i=e(650543),a=e(756646),t=e(76824),l=e(120694),g=e(84838),n=e(169227),p=e(734531),s=window,d=window.location.protocol+"//"+window.location.host,o="__DataProperty__5941464455110614";function v(we,Ne,Se){if(i.f.assertValue(we,"element"),null!=we){var Ie=we[o];if(!Ie){if(void 0===Se)return;Ie=we[o]={}}return void 0===Se?Ie[Ne]:Ie[Ne]=Se}}var m="application/octet-stream",c="application/json",C="image/jpeg",y="blob",S="arraybuffer",h="Accept",E=new RegExp("[<>]","g");function u(we,Ne){return P(we)===P(Ne)}function f(we,Ne){return null!=we&&0===we.indexOf(Ne)}function V(we,Ne){return null!=we&&-1!==we.indexOf(Ne)}function T(we,Ne){return null!=we&&V(P(we),P(Ne))}function P(we){return Z.throwIfNullOrUndefined(we,Z,"normalizeCase","value"),we.toUpperCase()}function D(we){return Z.throwIfNullOrUndefined(we,Z,"containsWhitespace","str"),/\s/.test(we)}function w(we){return""===_.trim(we)}function A(we){return Z.throwIfNullOrUndefined(we,Z,"trimWhitespace","str"),we.replace(/^\s+/,"").replace(/\s+$/,"")}function R(we){return we.replace(/\s/g,"")}function B(we,Ne,Se){if(!Ne)return we;var Ie=x(Ne);return we.replace(new RegExp(Ie,"gi"),Se)}function N(we){i.f.assertValue(we,"names");var Ne={};for(var Se of we)Ne[Se]=!1;var Ie=[];for(var me of we){var Oe=me;if(Ne[Oe])for(var Ee=0;void 0!==Ne[Oe];)Oe=me+"."+ ++Ee;Ie.push(Oe),Ne[Oe]=!0}return Ie}function W(we,Ne,Se,Ie){i.f.assertValue(we,"usedNames"),i.f.assertValue(Ne,"baseName"),i.f.assert(()=>null==Se||Se>=0,"startSuffix == null || startSuffix >= 0");var me=Ie?" ":"",Oe=Se||0,Ee=Ne;for(Se&&(Ee+=me+Se);F(we,Ee);)Ee=Ne+me+ ++Oe;return Ee}function F(we,Ne){return _.isSet(we)?we.has(Ne):we[Ne]}function O(we,Ne,Se){if(!we||0===we.length)return"";null==Se&&(Se=Number.MAX_VALUE);for(var Ie=Math.min(Se,we.length),me=[],Oe=0;Oe<2;Oe++)for(var Ee="{"+Oe+"}",xe="_|_<"+Oe+">_|_",ye=0;ye<Ie;ye++)we[ye].indexOf(Ee)>-1&&(we[ye]=we[ye].replace(Ee,xe),me.push({targetValue:Ee,replaceValue:xe}));for(var Je="",he=0;he<Ie;he++)Je=0===he?we[he]:(0,p.W)(Ne.get("PowerBI_TwoStrings_SeperateWithCommaAndVisualSpace"),Je,we[he]);for(var Ce of me)Je=Je.replace(Ce.replaceValue,Ce.targetValue);return Je}function x(we){return we.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1")}function I(we){return i.f.assertValue(we,"fileName"),we.replace(/[\<\>\:"\/\\\|\?*]/g,"")}function L(we){return JSON.stringify(we)}function K(we,Ne){i.f.assertValue(we,"input");var Se=we.replace(/^[^A-Za-z]*/g,"").replace(/[ :\.\/\\\-\u00a0\u1680\u180e\u2000-\u200a\u2028\u2029\u202f\u205f\u3000]/g,"_").replace(/[\W]/g,"");return Se.length>0?Se:Ne}function z(we){return we.replace(E,"")}function H(we,Ne=!1,Se=!1){if(!we||Se&&"&nbsp;"===we)return we;var Ie=we.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\"/g,"&quot;").replace(/\'/g,"&#39;").replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,me=>"&#"+(1024*(me.charCodeAt(0)-55296)+(me.charCodeAt(1)-56320)+65536)+";").replace(/([^!-~ ])/g,me=>"&#"+me.charCodeAt(0)+";");return Ne&&(Ie=Ie.replace(/\ /g,"&nbsp;")),Ie}function k(we){return we>=0&&we<=55295||we>=57344&&we<=65535}var G=new WeakMap,q=new WeakMap;class Q extends Error{constructor(Ne){super(Ne),Object.setPrototypeOf(this,new.target.prototype)}getInnerError(){return G.get(this)}setInnerError(Ne){if(Ne){var Se=_.isPlainObject(Ne)?Ne:q.get(Ne);if(Se){for(var Ie of Object.keys(Se))this[Ie]=Se[Ie];q.set(this,Se)}var me=this.message.matchAll(/(\{\{[^\}]+\}\})/g);if(me){var Oe=this.message;for(var Ee of _.reverse(Array.from(me))){var xe=Ee[0].substring(2,Ee[0].length-2),ye=(Se||Ne)?.[xe]||"";Oe=Oe.substring(0,Ee.index)+ye+Oe.substring(Ee.index+Ee[0].length)}this.stack&&(this.stack=this.stack.replace(this.message,Oe)),this.message=Oe}G.set(this,Ne)}else G.delete(this)}}var Z=(()=>{class we{static ensureError(Se){return Se instanceof Error||(Se=new Error(Se?Se.message||Se.toString():"<null-or-undefined> error was thrown")),Se}static ensurePromiseError(Se,Ie){var me=new Q(Ie);return Se.catch(Oe=>{throw me.setInnerError(Oe),me})}static throwIfNullOrUndefined(Se,Ie,me,Oe){null===Se?this.throwException((0,t.q$)(this.getComponentName(Ie)+me+"."+Oe)):void 0===Se&&this.throwException((0,t.dV)(this.getComponentName(Ie)+me+"."+Oe))}static throwIfNullOrEmptyString(Se,Ie,me,Oe){this.throwIfNullOrUndefined(Se,Ie,me,Oe),Se.length<1&&this.throwException((0,t.ap)(this.getComponentName(Ie)+me+"."+Oe))}static valueOrDefault(Se,Ie){return Se??Ie}static urlCombine(Se,Ie){if(this.throwIfNullOrUndefined(Se,we,"urlCombine","baseUrl"),this.throwIfNullOrUndefined(Ie,we,"urlCombine","path"),(0,p.g)(Ie))return Se;if((0,p.g)(Se))return Ie;var me=Se;return"/"===me.charAt(me.length-1)?"/"===Ie.charAt(0)&&(Ie=Ie.slice(1)):"/"!==Ie.charAt(0)&&(Ie="/"+Ie),me+Ie}static getAbsoluteUri(Se){this.throwIfNullOrUndefined(Se,we,"getAbsoluteUri","path");var Ie=Se;return Ie&&-1===Ie.indexOf("http")&&(Ie=this.urlCombine(s.clusterUri,Ie)),Ie}static getStaticResourceUri(Se){this.throwIfNullOrUndefined(Se,we,"getStaticResourceUri","path");var Ie=Se;return Ie&&-1===Ie.indexOf("http")&&(Ie=this.urlCombine(d,Ie)),Ie}static getComponentName(Se){return Se?(typeof Se).toString()+".":""}static throwException(Se){throw g.fM.error(`Throwing exception: ${JSON.stringify(Se)}`,null==Se.stack),this.ensureError(Se)}static createClassSelector(Se){return this.throwIfNullOrEmptyString(Se,null,"CreateClassSelector","className"),"."+Se}static createIdSelector(Se){return this.throwIfNullOrEmptyString(Se,null,"CreateIdSelector","id"),"#"+Se}static clampValue(Se,Ie,me){return i.f.assert(()=>Ie<=me,"min value must be less than or equal the max value"),Se=Math.min(Se,me),Math.max(Se,Ie)}static generateGuid(){var Se="",Ie=0;for(Ie=0;Ie<32;Ie+=1){var me=16*Math.random()|0;switch(Ie){case 8:case 12:case 16:case 20:Se+="-"}Se+=me.toString(16)}return Se}static getCookieValue(Se){var Ie=document.cookie.split(";");for(var me of Ie){var Oe=me.split("=");if(Oe.length>0&&Oe[0].trim()===Se)return me.substr(me.indexOf("=")+1)}return null}static getDomainForUrl(Se){var Ie=this.getHrefObjectFromUrl(Se);return Ie.prop("protocol")+"//"+Ie.prop("hostname")}static getHostNameForUrl(Se){var Ie=this.getHrefObjectFromUrl(Se);return this.urlCombine(Ie.prop("hostname"),Ie.prop("pathname"))}static getUrlWithoutQueryString(Se){var Ie=this.getHrefObjectFromUrl(Se);return Ie.prop("protocol")+"//"+this.urlCombine(Ie.prop("host"),Ie.prop("pathname"))}static getProtocolFromUrl(Se){return this.getHrefObjectFromUrl(Se).prop("protocol").replace(":","")}static getHrefObjectFromUrl(Se){var Ie=$("<a>");return Ie.prop("href",Se)}static getDateFromWcfJsonString(Se,Ie){if(_.isEmpty(Se))return null;var me=Se.indexOf("("),Oe=Se.indexOf(")");if(-1!==me&&-1!==Oe){var Ee=parseInt(Se.substring(me+1,Oe),10);if(isNaN(Ee)&&(Ee=0),Ie)return new Date(Ee);var xe=new Date(0);return xe.setUTCMilliseconds(Ee),xe}return null}static isValidImageDataUrl(Se){return this.ImageDataRegex.test(Se)}static encodeUriForImageDataSvg(Se){if(this.ImageDataSvgRegex.test(Se)){var Ie=Se.indexOf(",");if(Ie>-1){var me=Se.substring(0,Ie).split(";"),Oe=Se.substring(Ie+1);try{Oe=decodeURIComponent(Oe)}catch{}return`${me[0]},${encodeURIComponent(Oe)}`}}return Se}static isLocalUrl(Se){return _.startsWith(Se,"data:")||_.startsWith(Se,"blob:")}static extractFileNameFromPath(Se){return Se.replace(/^.*[\\\/]/,"")}static is64BitOperatingSystem(){return-1!==navigator.userAgent.indexOf("WOW64")||-1!==navigator.userAgent.indexOf("Win64")}static isWindows10(){return-1!==navigator.userAgent.indexOf("Windows NT 10.0")}static isWindows(){return-1!==navigator.userAgent.indexOf("Windows")}static parseNumber(Se,Ie){if(null===Se)return null;if(void 0===Se)return Ie;var me=Number(Se);return isFinite(me)?me:isNaN(me)&&"number"!=typeof Se&&"NaN"!==Se?Ie:me}static getURLParamValue(Se){var Ie=new RegExp("[?&]"+Se+"=([^&#]*)").exec(window.location.href);return null==Ie?null:Ie[1]||0}static getLocalTimeZoneString(){var Ie=-1*new Date(Date.UTC(2005,6,30,0,0,0,0)).getTimezoneOffset(),Oe=-1*new Date(Date.UTC(2005,12,30,0,0,0,0)).getTimezoneOffset();return-720===Ie&&-720===Oe?"Dateline Standard Time":-660===Ie&&-660===Oe?"UTC-11":-660===Ie&&-660===Oe?"Samoa Standard Time":-600===Ie&&-600===Oe?"Hawaiian Standard Time":-480===Ie&&-540===Oe?"Alaskan Standard Time":-420===Ie&&-480===Oe?"Pacific Standard Time":-420===Ie&&-420===Oe?"US Mountain Standard Time":-360===Ie&&-420===Oe?"Mountain Standard Time":-360===Ie&&-360===Oe?"Central America Standard Time":-300===Ie&&-360===Oe?"Central Standard Time":-300===Ie&&-300===Oe?"SA Pacific Standard Time":-240===Ie&&-300===Oe?"Eastern Standard Time":-270===Ie&&-270===Oe?"Venezuela Standard Time":-240===Ie&&-240===Oe?"SA Western Standard Time":-240===Ie&&-180===Oe?"Central Brazilian Standard Time":-180===Ie&&-240===Oe?"Atlantic Standard Time":-180===Ie&&-180===Oe?"Montevideo Standard Time":-180===Ie&&-120===Oe?"E. South America Standard Time":-150===Ie&&-210===Oe?"Mid-Atlantic Standard Time":-120===Ie&&-120===Oe?"SA Eastern Standard Time":0===Ie&&0===Oe?"UTC":60===Ie&&0===Oe?"GMT Standard Time":60===Ie&&120===Oe?"Namibia Standard Time":120===Ie&&60===Oe?"Romance Standard Time":120===Ie&&120===Oe?"South Africa Standard Time":180===Ie&&120===Oe?"GTB Standard Time":180===Ie&&180===Oe?"E. Africa Standard Time":240===Ie&&180===Oe?"Russian Standard Time":240===Ie&&240===Oe?"Arabian Standard Time":270===Ie&&210===Oe?"Iran Standard Time":270===Ie&&270===Oe?"Afghanistan Standard Time":300===Ie&&240===Oe?"Pakistan Standard Time":300===Ie&&300===Oe?"West Asia Standard Time":330===Ie&&330===Oe?"India Standard Time":345===Ie&&345===Oe?"Nepal Standard Time":360===Ie&&300===Oe?"N. Central Asia Standard Time":360===Ie&&360===Oe?"Central Asia Standard Time":390===Ie&&390===Oe?"Myanmar Standard Time":420===Ie&&360===Oe?"North Asia Standard Time":420===Ie&&420===Oe?"SE Asia Standard Time":480===Ie&&420===Oe?"North Asia East Standard Time":480===Ie&&480===Oe?"China Standard Time":540===Ie&&480===Oe?"Yakutsk Standard Time":540===Ie&&540===Oe?"Tokyo Standard Time":570===Ie&&570===Oe?"Cen. Australia Standard Time":600===Ie&&600===Oe?"E. Australia Standard Time":600===Ie&&660===Oe?"AUS Eastern Standard Time":660===Ie&&600===Oe?"Tasmania Standard Time":660===Ie&&660===Oe?"West Pacific Standard Time":690===Ie&&690===Oe?"Central Pacific Standard Time":720===Ie&&660===Oe?"Magadan Standard Time":720===Ie&&720===Oe?"Fiji Standard Time":720===Ie&&780===Oe?"New Zealand Standard Time":780===Ie&&780===Oe?"Tonga Standard Time":"UTC"}}return we.ImageDataRegex=new RegExp("data:(image/(png|jpg|jpeg|gif|svg))"),we.ImageDataSvgRegex=new RegExp("data:(image/svg)"),we})(),re=0;function te(we){var Ne=window.performance;if(!Ne||!Ne.mark)return()=>0;var Se="Begin "+(we=++re+" "+we);Ne.mark(Se);var Ie=(0,l.z)();return()=>{var me="End "+we;return Ne.mark(me),Ne.measure&&Ne.measure(we,Se,me),(0,l.z)()-Ie}}function se(we){var Ne=window.performance;!Ne||!Ne.mark||(we=++re+" "+we,Ne.mark(we))}function Ve(we){var Ne=(0,l.z)();return we(),(0,l.z)()-Ne}function ke(we){return Ue.apply(this,arguments)}function Ue(){return(Ue=(0,r.Z)(function*(we){var Ne=(0,l.z)();return yield we(),(0,l.z)()-Ne})).apply(this,arguments)}function ot(we){var Ne,Se,Ie;return window.requestAnimationFrame||(window.requestAnimationFrame=me=>setTimeout(me,20)),function(){Ne||(Ne=!0,Se=arguments,Ie=this,n.l.requestAnimationFrame(()=>{Ne=!1,we.apply(Ie,Se)}))}}function ft(we){return null!=we&&we%1!=0}var Ae=!1;!function(){if(!Ae){var we=p.W;(function(){var we=(0,a.kx)();return we.StringExtensions||(we.StringExtensions={}),we.StringExtensions}()).format=(...Ne)=>we(...Ne),Ae=!0}}()},196067:function(ve,j,e){e.d(j,{W:function(){return a}});var r=e(349672),i=e(562313);class a{constructor(n){this.onReEntry=n,this.active=0}enqueue(n){this.tail||(this.tail=new i.B,function(g){l.apply(this,arguments)}(this.tail.promise)),this.onReEntry&&this.active>0&&this.onReEntry();var p=new i.B,s={next:p.promise,callback:n,result:new i.B};this.tail.resolve(s),this.tail=p;var d=s.result.promise;return++this.active,d.finally(()=>--this.active)}}function l(){return(l=(0,r.Z)(function*(g){for(;;){var n=yield g;g=n.next;try{n.result.resolve(yield n.callback())}catch(p){n.result.reject(p)}}})).apply(this,arguments)}},149222:function(ve,j,e){e.d(j,{D:function(){return g},M:function(){return l}});var r=e(611395),a=e(246626),t=e(650543),l=(()=>{class n{static getLanguage(){return this.navigator.userLanguage||this.navigator.language}static isChrome(){if(null!=this.isChromeCache)return this.isChromeCache;var s=this.navigator.vendor||"",d=this.navigator.userAgent.toLowerCase();return this.isChromeCache=s.toLowerCase().indexOf("google")>-1&&d.indexOf("chrome")>-1&&-1===d.indexOf("edge")&&-1===d.indexOf("opr"),this.isChromeCache}static isInternetExplorerOrEdge(){if(null!=this.isInternetExplorerOrEdgeCache)return this.isInternetExplorerOrEdgeCache;var s=this.navigator.userAgent.toLowerCase();return this.isInternetExplorerOrEdgeCache=s.indexOf("msie")>-1||s.indexOf("trident")>-1||s.indexOf("edge")>-1,this.isInternetExplorerOrEdgeCache}static isInternetExplorer11(){var s=this.navigator.userAgent.toLowerCase(),d=s.match(/rv:(\d+)/i);return!!(d&&d[1]&&parseInt&&11===parseInt(d[1],10))&&s.indexOf("trident")>-1&&-1===s.indexOf("msie")}static isEdge(){if(null!=this.isEdgeCache)return this.isEdgeCache;var s=this.navigator.userAgent.toLowerCase();return this.isEdgeCache=s.indexOf("edg")>-1,this.isEdgeCache}static isEdgeLegacy(){return!n.isInternetExplorer11()&&"StyleMedia"in window}static isWindows10(){return-1!==this.navigator.userAgent.indexOf("Windows NT 10.0")}static isKeyboardClick(s){return 0===s.clientX&&0===s.clientX}static isCtrlOrMeta(s){return!0===s[n.isMacOs()?"metaKey":"ctrlKey"]}static noModifierPressed(s){var d=n.isMacOs()?"metaKey":"ctrlKey";return!s.shiftKey&&!s.altKey&&!s[d]}static isPointerTypeTouch(s){return"touch"===s.pointerType}static getInternetExplorerVersion(){var s=0;if("Microsoft Internet Explorer"===this.navigator.appName||this.navigator.userAgent.indexOf("MSIE")>=0){var o=new RegExp("MSIE ([0-9]{1,}[\\.0-9]{0,})").exec(this.navigator.userAgent);o&&(s=parseFloat(o[1]))}return s}static isFirefox(){return this.navigator.userAgent.toLowerCase().indexOf("firefox")>-1}static isMacOs(){return this.navigator.userAgent.indexOf("Macintosh")>=0}static isSafari(){return/^((?!chrome|android).)*safari/i.test(this.navigator.userAgent)}static isMacSafariByFeature(){return this.isMacOs()&&CSS.supports("-webkit-backdrop-filter","blur(0)")}static isSafari11OrHigher(){if(!this.isSafari())return!1;var s=this.navigator.userAgent.match(/version\/(\d+)/i),d=s?.[1];return!(null==d||!parseInt)&&parseInt(d,10)>=11}static isIOSWebView(){var s=this.navigator.userAgent.toLowerCase();return s.indexOf("iphone")>-1||s.indexOf("ipad")>-1||s.indexOf("macintosh")>-1&&this.navigator.maxTouchPoints>1}static isAndroidWebView(){return this.navigator.userAgent.toLowerCase().indexOf("android")>-1}static focus(s,d){if(s)if(s.focus)d?s.focus(d):s.focus();else try{HTMLElement.prototype.focus.apply(s)}catch(o){t.f.assertFail("BrowserUtils.focus: failed to set focus on element: "+o)}}static setBrowserSupportsHttp2(s){this.browserSupportsHttp2=s}static getBrowserVersion(){var s=(0,r.getParser)(window.navigator.userAgent);return s?.getBrowserVersion()}static calculateBrowserSupportsHttp2(){if(!window||!window.performance)return!1;var s=window.performance;return"h2"===(s.getEntriesByType&&s.getEntriesByType("navigation")&&s.getEntriesByType("navigation")[0]&&s.getEntriesByType("navigation")[0].nextHopProtocol)||!(!window.navigator||!window.navigator.userAgent)&&!!(this.isInternetExplorer11()&&this.isWindows10()||this.isMacOs()&&this.isSafari11OrHigher()||this.isIOSWebView())}}return n.navigator=window.navigator,n.browserSupportsHttp2=()=>(null!=n.browserSupportsHttp2Cache||(n.browserSupportsHttp2Cache=n.calculateBrowserSupportsHttp2()),n.browserSupportsHttp2Cache),n})();function g(n){return n.shiftKey?a.i.Union:l.isCtrlOrMeta(n)?a.i.Difference:a.i.Single}},251868:function(ve,j,e){e.d(j,{BT:function(){return re},CQ:function(){return I},Cv:function(){return ke},Dw:function(){return v},E0:function(){return h},G8:function(){return c},G_:function(){return Ie},Gp:function(){return Q},IN:function(){return x},IW:function(){return g},JJ:function(){return ot},JN:function(){return Ee},Jr:function(){return ye},Kw:function(){return C},LB:function(){return me},LY:function(){return f},M$:function(){return te},NY:function(){return l},Nq:function(){return R},Q:function(){return P},Qs:function(){return N},Qu:function(){return p},SS:function(){return F},UH:function(){return y},UN:function(){return ft},Vc:function(){return Ae},Xo:function(){return m},_m:function(){return Ct},an:function(){return t},bD:function(){return Ke},bP:function(){return M},bd:function(){return he},d5:function(){return E},fq:function(){return Je},hz:function(){return se},ie:function(){return u},k0:function(){return Oe},lg:function(){return W},mQ:function(){return L},mu:function(){return Se},n$:function(){return b},oM:function(){return X},ob:function(){return we},q6:function(){return q},tL:function(){return Z},uM:function(){return Ne},uY:function(){return Ve},vX:function(){return xe},vi:function(){return k},wZ:function(){return A}});var r=e(848347),i=e(650543),a=e(301336),t="</___",l="___/>";function g(je){return void 0===je.control.properties.descriptor}function p(je){return!!je.type}function s(je){return je.type===r.IM.Card}function d(je){return je.type===r.IM.Group}function o(je){return je.type===r.IM.Slice}function v(je){return je.source===r.SY.Host}function m(je){return s(je)}function c(je){return d(je)}function C(je){return o(je)}function y(je,pe){return{name:je,source:r.SY.Host,type:r.IM.Card,suppressDefaultValue:pe}}function h(je,pe){return{name:je,source:r.SY.Host,type:r.IM.Slice,suppressDefaultValue:pe}}function E(je){return je.source===r.SY.Visual}function u(je){return s(je)}function f(je){return d(je)}function b(je){return o(je)}function P(je,pe){return{name:je,source:r.SY.Visual,type:r.IM.Slice,suppressDefaultValue:pe}}function M(je,pe){return je+"-"+pe}function A(je){var pe={};for(var Qe in je)if(_.isString(Qe)){var ut={},Et=je[Qe].properties;for(var bt in Et)_.isString(bt)?ut[bt]={objectName:Qe,propertyName:bt}:i.f.assertFail(`Expected propertyName "${bt}" to be a string`);pe[Qe]=ut}else i.f.assertFail(`Expected objectName "${Qe}" to be a string`);return pe}class R{constructor(...pe){this.cards=pe}addCards(...pe){return this.cards.push(...pe),this}withWarnings(pe){return this.warnings=pe,this}build(){return{cards:this.cards.reduce((Qe,ut)=>{if(!ut)return Qe;var lt;if(!(lt=_.isFunction(ut)?ut():ut))return Qe;if(_.isArray(lt)){for(var Et of lt)if(Et){if(!p(Et)){var bt=this.shouldDisableCard(Et,this.disabledCards);bt&&(Et={...Et,disabled:bt.disabled,disabledReason:bt.disabledReason})}Qe.push(Et)}}else{var Ot=lt;if(!p(Ot)){var Dt=this.shouldDisableCard(Ot,this.disabledCards);Dt&&(Ot={...Ot,disabled:Dt.disabled,disabledReason:Dt.disabledReason})}Qe.push(Ot)}return Qe},[]),warnings:this.warnings}}withDisabledCards(pe){return this.disabledCards=pe,this}shouldDisableCard(pe,Qe){var ut=Qe?.[pe.uid];if(ut)return{disabled:!0,disabledReason:ut.disabledReason}}}function N(je){var pe=je.uid.split(" "),Qe=function(je){return new W(je)}(pe[0]);return Qe.withGroup(pe[1])}class W{constructor(pe){this.cardName=pe,this.groupNames=new Set}build(){return(0,a.Jj)(this.cardName)}withGroup(pe="default"){return i.f.assert(()=>!this.groupNames.has(pe),`Already have group "${pe}"`),this.groupNames.add((0,a.Jj)(pe)),new F(this,pe)}}class F{constructor(pe,Qe){this.cardUidBuilder=pe,this.groupName=Qe,this.sliceNames=new Set}static getGroupUid(pe){var Qe=pe.split("-");return i.f.assert(()=>Qe.length>=2,"GroupUid must have at least two sections in the uid"),`${Qe[Qe.length-1]}`}build(){this.cardUid||(this.cardUid=this.cardUidBuilder.build());var pe=(0,a.Jj)(this.groupName);return`${this.cardUid}-${pe}`}withSlice(pe){return this.sliceNames.add(pe),new x(this,pe)}withContainer(pe){return new O(this,pe)}}class U{constructor(pe,Qe){this.containerUidBuilder=pe,this.itemName=Qe,this.sliceNames=new Set,this.groupNames=new Set}build(){this.containerUid||(this.containerUid=this.containerUidBuilder.build());var pe=(0,a.Jj)(this.itemName);return`${this.containerUid}-${pe}`}withSlice(pe){return this.sliceNames.add(pe),new x(this,pe)}withGroup(pe="default"){return this.groupNames.add(pe),new F(this,pe)}withContainer(pe){return new O(this,pe)}}class O{constructor(pe,Qe){this.groupUidBuilder=pe,this.containerName=Qe}build(){this.groupUid||(this.groupUid=this.groupUidBuilder.build());var pe=(0,a.Jj)(this.containerName);return`${this.groupUid}-${pe}`}withContainerItem(pe){return new U(this,pe)}}class x{constructor(pe,Qe){this.groupUidBuilder=pe,this.sliceName=Qe}static getGroupAndSliceUid(pe){var Qe=pe.split("-");return i.f.assert(()=>Qe.length>=3,"SliceUid must have at least three sections in the uid"),`${Qe[Qe.length-2]}-${Qe[Qe.length-1]}`}static getSliceUid(pe){var Qe=pe.split("-");return i.f.assert(()=>Qe.length>=3,"SliceUid must have at least three sections in the uid"),`${Qe[Qe.length-1]}`}build(){this.groupUid||(this.groupUid=this.groupUidBuilder.build());var pe=(0,a.Jj)(this.sliceName);return`${this.groupUid}-${pe}`}}class I{constructor(pe,Qe,ut,lt,Et=!0,bt){this.uidBuilder=pe,this.displayName=Qe,this.localize=lt,this.localizeDisplayName=Et,this.analyticsPane=bt,this.suppressDisplayName=!1,this.groups=[],ut&&(this.revertToDefaultDescriptors=_.isArray(ut)?ut:_.values(ut))}withDisabled(pe,Qe){return this.disabled=pe,this.disabledReason=Qe?this.localize(Qe):void 0,this}withDisabledLocalized(pe,Qe){return this.disabled=pe,this.disabledReason=Qe,this}withDescription(pe){return this.description=pe,this}withAliasName(pe){return this.aliasNames=this.aliasNames??[],this.aliasNames.push(this.localize(pe)),this}withGroups(pe){return this.groups=pe,this}addGroupPlaceholder(pe){return this.groups.push(pe),this}addGroup(pe,Qe){if(!Qe)return this;var ut=this.getGroupBuilder(pe);return Qe(ut),this.groups.push(ut.build()),this}getGroupBuilder(pe="default"){return new L(this.uidBuilder.withGroup(pe),Qe=>this.localize(Qe))}addTopLevelToggle(pe,Qe,ut){var lt=this.uidBuilder.withGroup("topLevelToggle").withSlice(pe),Et=Qe(),Ot=new Ce({control:Et,localize:this.localize,uidBuilder:lt});return ut&&ut(Ot),this.topLevelToggle=Ot.build(),this}assertDescriptorsAreAdded(){if(this.revertToDefaultDescriptors){var pe=[];this.groups.forEach(lt=>{!p(lt)&&lt.slices&&lt.slices.forEach(Et=>{p(Et)||pe.push(Et)})});var Qe=new Set,ut="revertToDefaultDescriptors must contain descriptors of all the slices in the card";this.revertToDefaultDescriptors.forEach(lt=>Qe.add(lt.objectName+"-"+lt.propertyName)),pe.forEach(lt=>{if(!p(lt))if(g(lt)){var Et=lt.control.properties;Object.keys(Et).forEach(Dt=>{var ne=Et[Dt]?.descriptor;if(void 0!==ne){var Fe=ne.objectName+"-"+ne.propertyName;i.f.assert(()=>Qe.has(Fe),`${ut} ${Fe?`- missing '${Fe}'`:""}`)}})}else{var bt=lt.control.properties.descriptor,Ot=bt.objectName+"-"+bt.propertyName;i.f.assert(()=>Qe.has(Ot),`${ut} ${Ot?`- missing '${Ot}'`:""}`)}})}}build(){var pe=this.localizeDisplayName?this.localize(this.displayName):this.displayName;return{disabled:!!this.disabled,description:this.description?this.localize(this.description):void 0,aliasNames:this.aliasNames,disabledReason:this.disabledReason,displayName:pe,groups:this.groups,suppressDisplayName:this.suppressDisplayName,topLevelToggle:this.topLevelToggle,uid:this.uidBuilder.build(),revertToDefaultDescriptors:this.revertToDefaultDescriptors,analyticsPane:this.analyticsPane}}}class L{constructor(pe,Qe){this.uidBuilder=pe,this.localize=Qe,this.collapsible=!0,this.inheritDisabled=!0,this.suppressDisplayName=!0,this.slices=[]}withContainer(pe){return this.container=pe,this}withContainerDisabled(pe=!0){return this.containerDisabled=pe,this.sliceWithContainer=!0,this}withDescription(pe){return this.description=pe,this}withAliasName(pe){return this.aliasNames=this.aliasNames??[],this.aliasNames.push(this.localize(pe)),this}withInheritDisabled(pe){return this.inheritDisabled=pe,this}withDelaySaveSlices(){return this.delaySaveSlices=!0,this}withCollapsible(pe=!0){return this.collapsible=pe,this}withDisplayName(pe,Qe=!0){return this.displayName=Qe?pe?this.localize(pe):void 0:pe,this.suppressDisplayName=!1,this}withSlices(pe){return this.slices=_.map(pe,Qe=>{if(p(Qe))return Qe;var lt=this.uidBuilder.withSlice(Qe.uid).build();return{...Qe,uid:lt}}),this}withDisabled(pe,Qe){return this.disabled=pe,this.disabledReason=Qe?this.localize(Qe):void 0,this}addSlicePlaceholder(pe){return this.slices.push(pe),this}addSlice(pe){return this.slices.push(pe),this}addSimpleSlice(pe,Qe,ut){var lt=this.getSliceName(pe),Et=_.isFunction(Qe)?Qe():Qe,bt=this.getSimpleSliceBuilder(lt,Et);return ut&&ut(bt),this.slices.push(bt.build()),this}addCompositeSlice(pe,Qe,ut,lt){var Et=_.isFunction(ut)?ut():ut,bt=this.getCompositeSliceBuilder(pe,Qe,Et);return lt&&lt(bt),this.slices.push(bt.build()),this}addSlices(pe){return this.slices=this.slices.concat(pe),this}getSimpleSliceBuilder(pe,Qe){var ut=this.getSliceName(pe),lt=this.uidBuilder.withSlice(ut);return new k({control:Qe,localize:this.localize,uidBuilder:lt})}addTopLevelToggle(pe,Qe,ut){var lt=this.uidBuilder.withSlice(pe),Et=Qe(),Ot=new Ce({control:Et,localize:this.localize,uidBuilder:lt});return ut&&ut(Ot),this.topLevelToggle=Ot.build(),this}getCompositeSliceBuilder(pe,Qe,ut){var lt=this.getSliceName(pe),Et=this.uidBuilder.withSlice(lt);return new G({control:ut,displayName:Qe,localize:this.localize,uidBuilder:Et})}getSliceName(pe){return _.isString(pe)?(0,a.Jj)(pe):`${pe.objectName}-${pe.propertyName}`}addContainer(pe,Qe){var ut=this.getContainerBuilder(pe);return Qe(ut),this.container=ut.build(),this}getContainerBuilder(pe){return new H(this.uidBuilder.withContainer(pe),this.localize)}build(){return{disabled:!!this.disabled,disabledReason:this.disabledReason,container:this.container,containerDisabled:this.containerDisabled,description:this.description?this.localize(this.description):void 0,aliasNames:this.aliasNames,inheritDisabled:this.inheritDisabled,displayName:this.displayName??"",collapsible:this.collapsible,slices:this.slices,sliceWithContainer:this.sliceWithContainer,suppressDisplayName:this.suppressDisplayName,topLevelToggle:this.topLevelToggle,uid:this.uidBuilder.build(),delaySaveSlices:this.delaySaveSlices}}}class K extends L{build(){return super.build()}}class z{constructor(pe,Qe,ut){this.uidBuilder=pe,this.displayName=Qe,this.localize=ut,this.slices=[],this.groups=[]}withIcon(pe){return this.iconName=pe,this}withSlices(pe){return this.slices=_.map(pe,Qe=>this.updatedSlice(Qe)),this}addSimpleSlice(pe,Qe,ut){var lt=this.getSliceName(pe),Et=_.isFunction(Qe)?Qe():Qe,bt=this.getSimpleSliceBuilder(lt,Et);return ut&&ut(bt),this.slices.push(bt.build()),this}addCompositeSlice(pe,Qe,ut,lt){var Et=_.isFunction(ut)?ut():ut,bt=this.getCompositeSliceBuilder(pe,Qe,Et);return lt&&lt(bt),this.slices.push(bt.build()),this}getSimpleSliceBuilder(pe,Qe){var ut=this.getSliceName(pe),lt=this.uidBuilder.withSlice(ut);return new k({control:Qe,localize:this.localize,uidBuilder:lt})}getCompositeSliceBuilder(pe,Qe,ut){var lt=this.getSliceName(pe),Et=this.uidBuilder.withSlice(lt);return new G({control:ut,displayName:Qe,localize:this.localize,uidBuilder:Et})}addContainer(pe,Qe){var ut=this.getContainerBuilder(pe);return Qe(ut),this.container=ut.build(),this}getContainerBuilder(pe){return new H(this.uidBuilder.withContainer(pe),this.localize)}getSliceName(pe){return _.isString(pe)?pe:`${pe.objectName}-${pe.propertyName}`}withGroups(pe){return this.groups=_.map(pe,Qe=>{var ut=Qe.uid,lt=this.uidBuilder.withGroup(ut).build();return{...Qe,uid:lt,slices:_.map(Qe.slices,Et=>this.updatedSlice(Et,ut))}}),this}updatedSlice(pe,Qe){if(p(pe))return pe;var ut=pe.uid,Et=(Qe?this.uidBuilder.withGroup(Qe):this.uidBuilder).withSlice(ut).build();return{...pe,uid:Et}}addGroup(pe,Qe){var ut=pe?(0,a.Jj)(pe):void 0,lt=this.getGroupBuilder(ut);return Qe(lt),this.groups.push(lt.build()),this}getGroupBuilder(pe="default"){return new K(this.uidBuilder.withGroup(pe),this.localize)}withDefaultSelected(pe){return this.defaultSelected=pe,this}build(){return{displayName:this.displayName,slices:this.slices,groups:this.groups,container:this.container,defaultSelected:this.defaultSelected,uid:this.uidBuilder.build(),icon:this.iconName}}}class H{constructor(pe,Qe){this.uidBuilder=pe,this.localize=Qe,this.suppressDisplayName=!0,this.containerItems=[]}withDisplayName(pe){return this.displayName=pe,this.suppressDisplayName=!1,this}withSuppressDisplayName(pe){return this.suppressDisplayName=pe,this}withDescription(pe){return this.description=pe,this}addContainerItem(pe,Qe,ut){var lt=(0,a.Jj)(pe??""),Et=this.getContainerItemBuilder(lt,Qe??"");return ut(Et),this.containerItems.push(Et.build()),this}getContainerItemBuilder(pe,Qe){return new z(this.uidBuilder.withContainerItem(`${t}${pe}${l}`),Qe,this.localize)}build(){var pe=this.displayName?this.localize(this.displayName):"";return{description:this.description?this.localize(this.description):void 0,displayName:pe,containerItems:this.containerItems,suppressDisplayName:this.suppressDisplayName,uid:this.uidBuilder.build()}}}class J{constructor(pe){this.control=pe.control,this.localize=pe.localize,this.uidBuilder=pe.uidBuilder}withDisabled(pe,Qe){return this.disabled=pe,this.disabledReason=Qe?this.localize(Qe):void 0,this}withHidden(pe){return this.hidden=pe,this}getSimpleControlDescriptor(){if(void 0!==this.control.properties.descriptor)return this.control.properties.descriptor}}class k extends J{constructor(pe){super(pe)}withCustomDisplayName(pe,Qe=!0){return this.displayName=Qe?this.localize(pe):pe,this}withSuppressDisplayName(pe){return this.suppressDisplayName=pe,this}withCustomDescription(pe,Qe=!0){return i.f.assertValue(pe,"description"),this.description=Qe?this.localize(pe):pe,this}withCustomDescriptionIf(pe,Qe,ut=!0){return pe()?this.withCustomDescription(Qe,ut):this}withAliasName(pe){return this.aliasNames=this.aliasNames??[],this.aliasNames.push(this.localize(pe)),this}withInfoIconText(pe){return this.infoIconText=pe,this}build(){return i.f.assert(()=>!!this.control,"control must exist"),{control:this.control,description:this.description,aliasNames:this.aliasNames,disabled:this.disabled,disabledReason:this.disabledReason,displayName:this.displayName,infoIconText:this.infoIconText,suppressDisplayName:this.suppressDisplayName,uid:this.uidBuilder.build(),hidden:this.hidden}}}class G extends J{constructor(pe){super(pe),this.displayName=pe.displayName,this.description=pe.description}withInfoIconText(pe){return this.infoIconText=pe,this}withAliasName(pe){return this.aliasNames=this.aliasNames??[],this.aliasNames.push(this.localize(pe)),this}withSuppressDisplayName(pe){return this.suppressDisplayName=pe,this}build(){return{control:this.control,description:this.description?this.localize(this.description):void 0,aliasNames:this.aliasNames,infoIconText:this.infoIconText,disabled:this.disabled,disabledReason:this.disabledReason,displayName:this.localize(this.displayName),suppressDisplayName:this.suppressDisplayName,uid:this.uidBuilder.build()}}}class q{withDisplayName(pe,Qe,ut){return this.description=Qe,this.displayName=pe,this.suppressDisplayName=ut,this}withUid(pe){return this.uid=M(pe.objectName,pe.propertyName),this}withControlProperties(pe){return this.control=pe,this}withDisabled(pe=!0){return this.disabled=pe,this}build(){return{control:this.control,description:this.description,disabled:this.disabled,displayName:this.displayName,suppressDisplayName:this.suppressDisplayName,uid:this.uid}}}class Q{constructor(pe){this.properties=pe}build(){return{type:r.Zy.AlignmentGroup,properties:this.properties}}}class Z{constructor(pe){this.properties=pe}build(){return{type:r.Zy.EmptyControl,properties:this.properties}}}class X{constructor(pe){this.properties=pe}build(){return{type:r.Zy.FlagsSelection,properties:this.properties}}}class re{constructor(pe){this.properties=pe}build(){return{type:r.Zy.ColorPicker,properties:this.properties}}}class te{constructor(pe){this.properties=pe}build(){return{type:r.Zy.ConditionalFormattingControl,properties:this.properties}}}class se{constructor(pe){this.properties=pe}build(){return{type:r.Zy.DatePicker,properties:this.properties}}}class Ve{constructor(pe){this.properties=pe}build(){return{type:r.Zy.Dropdown,properties:this.properties}}}class ke{constructor(pe){this.properties=pe}build(){return{type:r.Zy.DurationPicker,properties:this.properties}}}var ot={minValue:{type:r.aS.Min,value:8},maxValue:{type:r.aS.Max,value:60}};class ft{withFontSizeProperties(pe){var lt,Qe=pe.options,ut={...ot};lt=Qe?{...ut,...Qe}:ut;var Et={...pe,options:lt};return this.fontSize=Et,this}withFontFamily(pe){return this.fontFamily=pe,this}withBold(pe){return this.bold=pe,this}withItalic(pe){return this.italic=pe,this}withUnderline(pe){return this.underline=pe,this}build(){return{type:r.Zy.FontControl,properties:{fontFamily:this.fontFamily,fontSize:this.fontSize,bold:this.bold,italic:this.italic,underline:this.underline}}}}class Ct{constructor(pe){this.properties=pe}build(){return{type:r.Zy.GradientBar,properties:this.properties}}}class Ke{constructor(pe){this.properties=pe}withHiddenScale(pe,Qe){return this.hideFitImage=pe,this.defaultScalingValue=Qe,this}build(){return{type:r.Zy.ImageUpload,properties:{...this.properties,imageScalingProperties:{defaultScalingValue:this.defaultScalingValue,hideFitImage:this.hideFitImage}}}}}class Ae{constructor(pe){this.properties=pe}build(){return{type:r.Zy.Link,properties:this.properties}}}class we{constructor(pe){this.properties=pe}build(){return{type:r.Zy.SeriesDialogLink,properties:this.properties}}}class Ne{withLeft(pe){return this.left=pe,this}withRight(pe){return this.right=pe,this}withTop(pe){return this.top=pe,this}withBottom(pe){return this.bottom=pe,this}build(){return{type:r.Zy.MarginPadding,properties:{left:this.left,right:this.right,top:this.top,bottom:this.bottom}}}}class Se{constructor(pe){this.properties=pe}build(){var pe=this.properties;return null==pe.placeholderText&&(pe={...pe}),{type:r.Zy.NumUpDown,properties:pe}}}class Ie{constructor(pe){this.properties=pe}build(){return{type:r.Zy.ReadOnlyText,properties:this.properties}}}class me{constructor(pe){this.properties=pe}build(){return{type:r.Zy.ErrorRangeControl,properties:this.properties}}}class Oe{constructor(pe){this.properties=pe}build(){return{type:r.Zy.FieldPicker,properties:this.properties}}}class Ee{static getTransparencySliderBuilder({descriptor:pe,value:Qe,localize:ut},lt){var Et={descriptor:pe,value:Qe,localize:ut,options:{minValue:{type:r.aS.Min,value:0},maxValue:{type:r.aS.Max,value:100},unitSymbol:"Slider_Percent"}};return new Ee(lt?lt(Et):Et)}static getRotationSliderBuilder({descriptor:pe,value:Qe,localize:ut},lt){var Et={descriptor:pe,value:(Qe%360+360)%360,localize:ut,options:{minValue:{type:r.aS.Min,value:0},maxValue:{type:r.aS.Max,value:360},unitSymbol:"Slider_Degree"}};return new Ee(lt?lt(Et):Et)}constructor(pe){this.properties=pe}build(){var pe={...this.properties};return delete pe.localize,{type:r.Zy.Slider,properties:pe}}}class xe{constructor(pe){this.properties=pe}build(){return{type:r.Zy.ShapeMapSelector,properties:this.properties}}}class ye{constructor(pe){this.properties=pe}build(){var pe=this.properties.placeholder;pe&&(pe=this.properties.localize(pe));var Qe={...this.properties,placeholder:pe};return delete Qe.localize,{type:r.Zy.TextArea,properties:Qe}}}class Je{constructor(pe){this.properties=pe}build(){return{type:r.Zy.TextInput,properties:this.properties}}}class he{constructor(pe){this.properties=pe}build(){return{type:r.Zy.ToggleSwitch,properties:this.properties}}}class Ce extends J{constructor(pe){super(pe)}build(){return i.f.assert(()=>!!this.control,"control must exist"),{control:this.control,disabled:this.disabled,disabledReason:this.disabledReason,uid:this.uidBuilder.build(),suppressDisplayName:!0,noDefaultImpact:this.noDefaultImpact}}withNoDefaultImpact(pe){return this.noDefaultImpact=pe,this}}},123975:function(ve,j,e){function r(g){return g instanceof Date&&"number"==typeof g.epochTimeStamp}function i(g){var n=new Date(g.getTime());return n.epochTimeStamp=g.epochTimeStamp,n}function a(g,n=0,p=1,s=0,d=0,o=0,v=0){var m=new Date(g,n,p,s,d,o,v);return m.epochTimeStamp=Date.UTC(g,n,p,s,d,o,v),m}function t(g){var n=g;return n.epochTimeStamp=Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()),n}function l(g){return t(new Date(g))}e.d(j,{Fg:function(){return t},Fh:function(){return i},M4:function(){return r},tU:function(){return l},yI:function(){return a}})},935183:function(ve,j,e){function r(i){i&&Object.getOwnPropertyNames(i).forEach(a=>{"constructor"!==a&&Object.defineProperty(i,a,{enumerable:!0})})}e.d(j,{y:function(){return r}})},874156:function(ve,j,e){function r(a){var t=_.lastIndexOf(a,".");return t>=0?a.substr(t+1):""}function i(a){var t=_.lastIndexOf(a,".");return t>=0?a.substr(0,t):a}e.d(j,{K:function(){return i},m:function(){return r}})},734531:function(ve,j,e){function r(a){return _.isEmpty(a)||_.isEmpty(a.trim())}function i(...a){var t=a[0];if(r(t))return t;for(var l=0;l<a.length-1;l++){var g=new RegExp("\\{"+l+"\\}","gm");t=t.replace(g,a[l+1])}return t}e.d(j,{W:function(){return i},g:function(){return r}})},293607:function(ve,j,e){e.d(j,{FJ:function(){return a},SF:function(){return l},Wl:function(){return i},iZ:function(){return t},rH:function(){return g}});var r=e(418431);function i(n){return n===r.mW.downArrowKeyCode||n===r.mW.upArrowKeyCode||n===r.mW.leftArrowKeyCode||n===r.mW.rightArrowKeyCode}function a(n){return n===r.Mn.ArrowDown||n===r.Mn.ArrowUp||n===r.Mn.ArrowRight||n===r.Mn.ArrowLeft}function t(n){return n===r.mW.aKeyCode||n===r.mW.cKeyCode||n===r.mW.xKeyCode||n===r.mW.vKeyCode||n===r.mW.zKeyCode||n===r.mW.yKeyCode}function l(n){return n===r.mW.shiftKeyCode}function g(n){return n===r.mW.deleteKeyCode}},89391:function(ve,j,e){e.d(j,{DR:function(){return a},GG:function(){return i}});var r=e(177534);class i{constructor(g=!1){this.promise=new r.a((n,p)=>{this.resolver=n,this.rejector=p})}resolve(g){this.resolver(g)}reject(g){this.rejector(g)}}function a(l){if(r.a.useNativePromise)return Promise.resolve(l);var g=new i(!0);return g.resolve(l),g.promise}},177534:function(ve,j,e){e.d(j,{a:function(){return d}});var r=e(650543);function i(o,v){return new a(o,v)}class a{constructor(v,m){this.deferMethod=v,this.drainMethod=m,this.asyncQueue=[],this.processing=!1}defer(v,m,...c){r.f.assertValue(v,"callback"),this.deferMethod?this.deferMethod(v):this.deferInternal(v,m,c)}drain(){this.drainMethod?this.drainMethod():this.drainQueue()}deferInternal(v,m,...c){!this.processing&&!this.asyncQueue.length&&setTimeout(()=>{this.asyncQueue.length>0&&this.drainQueue()},m),this.asyncQueue.push({callback:v,args:c})}drainQueue(){for(var v of(this.processing=!0,this.asyncQueue))v.callback(v.args);this.asyncQueue.length=0,this.processing=!1}}var t=e(84838);function l(o){return o&&_.isObject(o)&&o.then&&_.isFunction(o.then)}function g(o){return l(o)?o.then:null}var n,s=function(o){return o[o.Unknown=-1]="Unknown",o[o.Pending=0]="Pending",o[o.Fulfilled=1]="Fulfilled",o[o.Rejected=2]="Rejected",o}({});class d{constructor(v,m){if(this[n]="Promise",this.timeout=d.ensurePbiTimeout(),this.autoFlush=d.autoFlushInitialized||!!m,this.state={status:s.Pending},v){if(d.useNativePromise)return new Promise(v);v(c=>d.resolvePromise(this,c),c=>d.rejectPromise(this,c))}}then(v,m){if(_.isUndefined(v)&&_.isUndefined(m))return this;var c=new d(null,this.autoFlush);return this.state.pending=this.state.pending||[],this.state.pending.push({result:c,onFulfilled:v,onRejected:m}),this.state.status>s.Pending&&this.scheduleProcessQueue(),c}catch(v){return this.then(null,v)}finally(v){return this.then(m=>d.handleCallback(m,d.resolve,v),m=>d.handleCallback(m,d.reject,v))}static all(v,m){if(d.useNativePromise)return Promise.all(v);var c,C,y=new d((b,V)=>{c=b,C=V},m),S=[],h=v.length;if(h>0)for(var E=0,u=function(b){var V=v[b];g(V)||(V=d.resolve(V,m)),V.then(D=>{S[b]=D}).catch(D=>{C(D)}).finally(()=>{++E===h&&c(S)})},f=0;f<h;f++)u(f);else c(S);return y}static setUseNativePromise(v){d.useNativePromise=v}static resolvePromise(v,m){this.useNativePromise&&this.traceError&&(this.traceError=!1,t.fM.error("resolvePromise should not be called when useNativePromise is true")),!v.state.status&&(m===v?v.rejectInternal("Expected promise to be resolved with value other than itself"):v.resolveInternal(m))}static rejectPromise(v,m){this.useNativePromise&&this.traceError&&(this.traceError=!1,t.fM.error("rejectPromise should not be called when useNativePromise is true")),!v.state.status&&v.rejectInternal(m)}static reset(){d.usingMicrotask=void 0,d.pbiTimeout=void 0,d.autoFlushInitialized=void 0}static init(v,m,c,C){void 0!==C&&(d.useNativePromise=C,d.useNativePromise)||d.usingMicrotask||(d.autoFlushInitialized=m,c?(d.pbiTimeout=i(y=>{Zone.current.scheduleMicroTask("DO_NOT_USE_PbiPromise.useMicrotask",y)}),d.usingMicrotask=!0):(r.f.assertValue(v,"pbiTimeout"),d.pbiTimeout=v||d.pbiTimeout))}static resolve(v,m,c,C){if(d.useNativePromise)return Promise.resolve(v);var y=new d(null,m);return d.resolvePromise(y,v),y.then(c??null,C)}static reject(v,m){return d.useNativePromise?Promise.reject(v):new d((c,C)=>C(v),m)}defer(v){r.f.assert(()=>_.isFunction(v),"callback"),this.autoFlush&&this.state.status>s.Pending?v():(r.f.assertValue(this.timeout,"timeout object should have been allocated!"),this.timeout.defer(v,0))}resolveInternal(v){var m;try{(m=g(v))?(this.state.status=s.Unknown,m.call(v,c=>{this.resolveInternal(c)},c=>{this.rejectInternal(c)})):(this.state.value=v,this.state.status=s.Fulfilled,this.scheduleProcessQueue())}catch(c){this.rejectInternal(c)}}rejectInternal(v){this.state.value=v,this.state.status=s.Rejected,this.scheduleProcessQueue()}scheduleProcessQueue(){var v=this.state;v.processScheduled||_.isEmpty(v.pending)||(v.processScheduled=!0,this.defer(()=>d.processQueue(v)))}static ensurePbiTimeout(){var v=d.pbiTimeout;return v||(v=d.pbiTimeout=i()),v}static handleCallback(v,m,c){var C=null;try{_.isFunction(c)&&(C=c())}catch(y){return d.reject(y)}return l(C)?C.then(y=>m(v),d.reject):m(v)}static processQueue(v){var m=v.pending;for(var c of(v.processScheduled=!1,v.pending=void 0,m)){var C=c.result,y=void 0;y=v.status===s.Fulfilled?c.onFulfilled:y,y=v.status===s.Rejected?c.onRejected:y;try{_.isFunction(y)?d.resolvePromise(C,y(v.value)):v.status===s.Fulfilled?d.resolvePromise(C,v.value):d.rejectPromise(C,v.value)}catch(S){d.rejectPromise(C,S)}}}}n=Symbol.toStringTag,d.useNativePromise=!0,d.traceError=!0},562313:function(ve,j,e){e.d(j,{B:function(){return g},J:function(){return l}});var t,r=e(478542),i=e(650543),a=e(546825);class l{constructor(s){if(this[t]="Promise",l.useNativePromise)return new window.Promise(s);this.defer=l.ensureFactory().defer(),s(d=>this.onResolve(d),d=>this.onReject(d))}then(s,d){return this.hasRejectionHandling=this.hasRejectionHandling||void 0!==d,this.defer.promise.then(s,d)}catch(s){return this.hasRejectionHandling=this.hasRejectionHandling||void 0!==s,this.defer.promise.catch(s)}finally(s){return this.defer.promise.finally(s)}static init(s,d,o,v){i.f.assertValue(s,"promiseFactory"),i.f.assertAnyValue(d,"exceptionHandler"),i.f.assert(()=>o||!l.defaultFactoryWasProvided,"powerbi.Promise was used before being initialized - that is legitimate in test scenarios only"),null!=v&&(l.useNativePromise=v),l.factory=s,l.exceptions=d,l.defaultFactoryWasProvided=!1}static setUseNativePromise(s){l.useNativePromise=s}static ensureFactory(){var s=l.factory;return s||(s=l.factory=(0,a.p)(),l.defaultFactoryWasProvided=!0),s}static resolve(s){return l.useNativePromise?window.Promise.resolve(s):new l((d,o)=>d(s))}static reject(s){return l.useNativePromise?window.Promise.reject(s):new l((d,o)=>o(s))}static allSettled(s){return l.useNativePromise?window.Promise.allSettled(s):new l((d,o)=>{var v=s.length;if(v>0)for(var m=[],c=0;c<v;c++)s[c].then(C=>m.push({value:C,type:r.X.Success})).catch(C=>m.push({value:C,type:r.X.Failure})).finally(()=>{m.length===v&&d(m)});else d([])})}onResolve(s){var p;i.f.assertAnyValue(s,"value"),(p=s)&&_.isFunction(p.then)?s.then(d=>this.onResolve(d),d=>this.onReject(d)):this.defer.resolve(s)}onReject(s){if(i.f.assertAnyValue(s,"error"),!this.hasRejectionHandling&&s instanceof Error&&!s.suppressExceptionHandler){var d=l.exceptions;d&&(s.suppressExceptionHandler=!0,d(s))}this.defer.reject(s)}}t=Symbol.toStringTag,l.useNativePromise=!0;class g{constructor(){this.promise=new l((s,d)=>{this.resolver=s,this.rejector=d})}resolve(s){this.resolver(s)}reject(s){this.rejector(s)}}},610358:function(ve,j,e){e.d(j,{AD:function(){return c},Ay:function(){return S},I2:function(){return g},Iu:function(){return a},O7:function(){return l},OH:function(){return i},aI:function(){return p},bL:function(){return o},fg:function(){return h},jL:function(){return C},lO:function(){return v},nd:function(){return m},y4:function(){return t}});var r=e(650543),i=1e-6;function a(u,f){return r.f.assertValue(u,"x"),r.f.assertValue(f,"y"),`translate(${u},${f})`}function t(u){return r.f.assertValue(u,"x"),`translateX(${u}px)`}function l(u,f){return r.f.assertValue(u,"x"),r.f.assertValue(f,"y"),`translate(${u}px,${f}px)`}function g(u,f,b,V,T){return r.f.assertValue(u,"x"),r.f.assertValue(f,"y"),r.f.assertValue(b,"px"),r.f.assertValue(V,"py"),r.f.assertValue(T,"angle"),`translate(${u},${f}) rotate(${T},${b},${V})`}function p(u,f,b){return r.f.assertValue(u,"x"),r.f.assertValue(f,"y"),r.f.assertValue(b,"ratio"),`translate(${u},${f}) scale(${b})`}function d(u){return()=>{u.forEach(f=>{f?.each(function(){if(null!=this.__transition){if(_.some(this.__transition,A=>0===A.state)){var b=d3.select(this);return void requestAnimationFrame(d([b]))}var V=this.__transition||{},T=Object.keys(V);for(var P of T){var D=V[P];D&&D.timer?._call();var w=D.on._.end;for(var M of w)M.value.apply(this)}}})})}}function o(u,...f){if(u){var b=u;u.animation&&(b=u.animation),b&&b.transitionImmediate&&(_.isEmpty(f)||requestAnimationFrame(d(f)))}}function v(u){isNaN(u.x)&&(u.x=0),isNaN(u.y)&&(u.y=0)}function m(u){if(!u||0===u.length)return{x:"0",y:"0"};var f=u.split(/[\s,]+/);r.f.assertValue(f,"translateCoordinates"),r.f.assert(()=>f.length>0,"translate array must atleast have one value");var V,b="0",T=f[0];if(1===f.length)V=T.substring(10,T.length-1);else{var P=f[1];b=P.substring(0,P.length-1),V=T.substring(10,T.length)}return{x:V,y:b}}function c(u,f,b){return{path:`M0 0L0 ${f}L${u} ${f/2} Z`,transform:`rotate(${b} ${u/2} ${f/2})`}}function C(u){var f;try{f=u.getBBox()}catch{}return f||{x:0,y:0,width:0,height:0}}function S(u){return _.map(u,(V,T)=>(V=>1&~V?0===V?"M":"L":",")(T)+V).join("")+"z"}function h(u,f){if(!(u.length<4||u.length%2!=0)){var b=_.map(u,R=>Math.round(R*f)),V=[],T=b[0],P=b[1];V.push(T),V.push(P);for(var D=2;D<b.length;D+=2){var w=b[D],M=b[D+1];Math.abs(T-w)+Math.abs(P-M)<2||(V.push(w),V.push(M))}return S(V)}}},704251:function(ve,j,e){e.d(j,{DJ:function(){return l},DQ:function(){return y},Fj:function(){return S},HH:function(){return i},MN:function(){return V},ZY:function(){return D},av:function(){return b},en:function(){return f},fS:function(){return E},gU:function(){return a},mA:function(){return h},oB:function(){return u},pU:function(){return t},wo:function(){return n}});var r=e(853260);function i(R,B=!0){if(_.isEmpty(R))return!1;var N=f(R);if(!N)return!1;switch(w(N.scheme)){case b.http:case b.https:return B||!_.isEmpty(N.host);default:return!1}}function a(R){return i(R)}function t(R){return!(!R||0!==R.indexOf("data:"))}function l(R){if(!t(R))throw new Error("Expected data uri");var N=R.indexOf(";base64,");if(N<0)throw new Error("Expected base 64 content in data url");var W=N+8;return R.substr(W,R.length-W)}function n(R){return"data:application/json;base64,"+y(R)}var v=r.AK||function(R){return R&&R.replace(/%([0-9a-fA-F]{2})|%u([0-9a-fA-F]{4})/g,(B,N,W)=>String.fromCharCode(parseInt(N||W,16)))},m=r.YU||function(R){return R&&R.replace(/[^*+\-./0123456789@ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz]/g,B=>{var N=B.charCodeAt(0).toString(16).toUpperCase();switch(N.length){case 1:return"%0"+N;case 2:return"%"+N;case 3:return"%u0"+N;default:return"%u"+N}})};function y(R){return btoa(function(R){return v(encodeURIComponent(R))}(R))}function S(R){return function(R){return decodeURIComponent(m(R))}(atob(R))}function h(R){var B=M(R);if(B)return A(B)}function E(R,B,N=!1){var W=u(R),F=W.baseUrl;if(N&&_.assign(B,W.queryParameters),_.isEmpty(B))return F;var U=[];for(var O in B){var x=B[O];if(null==x)U.push(encodeURIComponent(O));else if("string"==typeof x)U.push(encodeURIComponent(O)+"="+encodeURIComponent(x));else for(var I of x)U.push(encodeURIComponent(O)+"="+encodeURIComponent(I))}return F+"?"+U.join("&")}function u(R){var B=M(R);return{baseUrl:B?R.slice(0,R.indexOf("?")):R,queryParameters:A(B)}}function f(R){var B={scheme:"",host:"",path:"",query:"",fragment:""};if(null==R)return B;var N=R.match(/^(?:([^:\/?#]+):)?(?:\/\/([^\/?#]*))?([^?#]*)(?:\?([^#]*))?(?:#(.*))?/);return N?{scheme:N[1],host:N[2],path:N[3],query:N[4],fragment:N[5]}:B}var b=function(R){return R[R.NONE=0]="NONE",R[R.http=1]="http",R[R.https=2]="https",R[R.file=3]="file",R[R.ftp=4]="ftp",R[R.mailto=5]="mailto",R[R.news=6]="news",R[R.telnet=7]="telnet",R}({});function V(R){var B=f(R);return null==B||null==B.scheme?b.NONE:w(B.scheme)}var P=/https?:\/\/[^\/]+/i;function D(R){return R&&R.replace(P,"")}function w(R){if(_.isEmpty(R))return b.NONE;switch(R.toLowerCase()){case"http":return b.http;case"https":return b.https;case"file":return b.file;case"ftp":return b.ftp;case"mailto":return b.mailto;case"news":return b.news;case"telnet":return b.telnet;default:return b.NONE}}function M(R){var B=document.createElement("a");return B.href=R,B.search}function A(R){if(!R)return{};var B={};return new URLSearchParams(R).forEach((N,W)=>{var F=B[W];null==F?B[W]=N:"string"==typeof F?B[W]=[F,N]:F.push(N)}),B}},176219:function(ve,j,e){e.d(j,{sE:function(){return n},bY:function(){return d},r:function(){return p},ql:function(){return C},iD:function(){return s}});var r=e(650543),i=/\n+/g,a=/[\s\n]+/g,t=/([^\S\r\n])/g,l=" ";function g(u,f,b){if(b){for(var V=u-1;V>-1;V--)if(p(f[V]))return V+1}else for(var T=u,P=f.length;T<P;T++)if(p(f[T]))return T;return b?0:f.length}function n(u,f){r.f.assert(()=>u>=0&&u<=f.length,"index within content string bounds");var b={start:0,end:0};return 0===f.length||(b.start=g(u,f,!0),b.end=g(u,f,!1)),b}function p(u){return a.lastIndex=0,a.test(u)}function s(u){var f=1;for(a.lastIndex=0,a.exec(u);0!==a.lastIndex;)f++,a.exec(u);return f}function d(u,f,b){var V=E(u),T=0;for(var P of V)b.text=P,T=Math.max(T,f(b));return T}function o(u,f,b){return f.text=u,b(f)}class m{constructor(){this.words=[],this.width=0}getWidth(){return this.width}addWord(f,b){this.words.push(f),this.width+=b}toString(f){return this.words.join(f?"":l)}isEmpty(){return _.isEmpty(this.words)}}class c{constructor(){this.lastLine=new m,this.lines=[this.lastLine]}newLine(){var f=this.lastLine;return this.lastLine=new m,this.lines.push(this.lastLine),f}get count(){return this.lines.length}getLastLine(){return this.lastLine}getLastLineWidth(){return this.getLastLine().getWidth()}addWord(f,b){this.lastLine.addWord(f,b)}getLines(){return this.lines}}function C(u,f,b,V,T,P,D,w,M=!1){if(!u)return[""];if("string"!=typeof u&&(u=String(u)),r.f.assert(()=>"string"==typeof u,"splitByWidth: content should be of type string"),T<1&&(T=Number.POSITIVE_INFINITY),w){var A=u.split(i),R=[];for(var B of A){var N=C(B,f,b,V,Math.max(1,T),P,D,!1,M);if(T>0)R.push(...N||[]),T-=N.length;else{var W=_.last(R);R[R.length-1]=W+l+N}}return R}P=P||((Q,Z)=>Q.text);var F=o(l,f,b),U=new c,O=E(u,M);for(var x of O){var I=o(x,f,b),L=I,K=U.getLastLine().isEmpty();if(!K&&x!==l&&(L+=F),U.getLastLineWidth()+L<=V||U.count>=T)U.addWord(x,L);else if(K||U.newLine(),I<=V)U.addWord(x,I);else{var z=T-U.count;if(!D||z<=0)U.addWord(x,I);else for(var H=y(x,f,b,V,z+1),J=0,k=H.chunks.length;J<k;J++){var G=H.chunks[J];J<k-1?(U.addWord(G,V),U.newLine()):U.addWord(G,H.lastChunkWidth)}}}var q=_.map(U.getLines(),Q=>Q.getWidth()>V?function(u,f,b,V){return f.text=u,b(f,V)}(Q.toString(M),f,P,V):Q.toString(M));return q}function y(u,f,b,V,T){var P={chunks:[],lastChunkWidth:0};if(T<1||0===u.length)return P;for(var D=function(u,f,b){return u.text="a",Math.floor(b/f(u))}(f,b,V),w=u,M=function(){if(P.chunks.length===T-1)return P.chunks.push(w),P.lastChunkWidth=o(w,f,b),0;var R=function(u,f,b,V,T){if(_.isEmpty(u))return{sizeInCharacters:0,sizeInPixels:0};if(0===V)return{sizeInCharacters:1,sizeInPixels:o(u.substr(0,1),f,b)};for(var D={sizeInCharacters:0,sizeInPixels:0},w=Math.min(T,u.length),M=-1,A=u.length+1;M<A-1;){var R=o(u.substr(0,w),f,b),B=R/V;if(R<=V){M=w,D.sizeInCharacters=w,D.sizeInPixels=R;var N=B>0?Math.ceil(w/B):w+1;N=Math.max(N,w+1),w=N=Math.min(N,A-1)}else{A=w;var W=B>0?Math.floor(w/B):w-1;W=Math.min(W,w-1),w=W=Math.max(W,M+1)}}return 0===D.sizeInCharacters?{sizeInCharacters:1,sizeInPixels:o(u.substr(0,1),f,b)}:D}(w,f,b,V,D);D=R.sizeInCharacters;var B=R.sizeInCharacters;if(r.f.assert(()=>B<=w.length,"Chunk size is greater than the whole text"),P.chunks.push(w.substr(0,B)),P.lastChunkWidth=R.sizeInPixels,B===w.length)return 0;w=w.substr(B,w.length-B)};w.length>0&&0!==M(););return P}function E(u,f){return f&&(u=u.replace(i,"")),u.split(f?t:a)}},169227:function(ve,j,e){e.d(j,{l:function(){return i}});var i=new class{initialize(t){this.runOutsideAngular=l=>t.runOutsideAngular(l)}setInterval(t,l){return this.runOutsideAngular(()=>window.setInterval(t,l))}setTimeout(t,l){return this.runOutsideAngular(()=>window.setTimeout(t,l))}requestAnimationFrame(t){this.runOutsideAngular(()=>requestAnimationFrame(t))}runOutsideAngular(t){return t()}}},990297:function(ve,j,e){e.d(j,{B0:function(){return L},Br:function(){return C},EB:function(){return t},Gz:function(){return V},JG:function(){return s},JN:function(){return N},Jq:function(){return y},LF:function(){return M},NF:function(){return d},Rl:function(){return x},U1:function(){return m},UR:function(){return c},UU:function(){return U},X_:function(){return J},ZH:function(){return D},bv:function(){return h},cq:function(){return v},dB:function(){return A},f1:function(){return H},g2:function(){return f},iv:function(){return F},pT:function(){return B},qn:function(){return p},rC:function(){return u},rY:function(){return W},rd:function(){return R},rm:function(){return o},s_:function(){return I},w6:function(){return n},x:function(){return O},yg:function(){return b},z8:function(){return E}});var r=e(650543);function t(k){for(var G=[],q=0,Q=k.length;q<Q;q++){var Z=k[q];-1===G.indexOf(Z)&&G.push(Z)}return G}function n(k,G,q){r.f.assert(()=>G>=0&&G<k.length,"startIndex is out of range."),r.f.assert(()=>q>=0&&q<k.length,"endIndex is out of range.");for(var Q=[],Z=G;Z<=q;++Z)Q.push(k[Z]);return Q}function p(k,G){r.f.assert(()=>G>=0,"Count is negative."),r.f.assert(()=>G<=k.length,"Count is too large.");for(var q=[],Q=0;Q<G;++Q)q.push(k[Q]);return q}function s(k){return r.f.assertValue(k,"source"),p(k,k.length)}function d(k,G,q){if(k||(k=null),G||(G=null),k===G)return!0;if(!!k!=!!G)return!1;var Q=k?.length??0;if(Q!==G?.length)return!1;for(var Z=0;Z<Q&&q(k?.[Z],G?.[Z]);)++Z;return Z===Q}function o(k){return k&&0===k.length?null:k}function v(k,G){r.f.assertValue(k,"array"),r.f.assertValue(G,"predicate");for(var q=0,Q=k.length;q<Q;++q)if(G(k[q]))return q;return-1}function m(k,G){if(0===G)return k.slice();var q=k.slice(G);return Array.prototype.push.apply(q,k.slice(0,G)),q}function c(){return C([])}function C(k){r.f.assertValue(k,"array");var G=k;return G.withId=S,G}function y(k,G){for(var q=0,Q=k.length;q<Q;q++){var Z=k[q];if(Z.id===G)return Z}}function S(k){return y(this,k)}function h(){return E([])}function E(k){r.f.assertValue(k,"array");var G=k;return G.withName=P,G}function u(k,G){var q=f(k,G);if(q>=0)return k[q]}function f(k,G){for(var q=0,Q=k.length;q<Q;q++)if(k[q].name===G)return q;return-1}function b(k,G){r.f.assertValue(k,"list"),r.f.assertValue(G,"value");for(var Q=k.length-1;Q>=0;Q--){var Z=k[Q]-G;if(0===Z)return!1;if(!(Z>0))return k.splice(Q+1,0,G),!0}return k.unshift(G),!0}function V(k,G){for(var q of(r.f.assertValue(k,"list"),r.f.assertValue(G,"value"),k))if(q===G)return!1;return k.push(G),!0}function P(k){return u(this,k)}function D(k){if(k)for(;k.length>0;)k.pop()}function M(k,G,q){var Q=k[G];k[G]=k[q],k[q]=Q}function A(k,G,q){return _.some(k,Q=>q(Q,G))}function R(k){r.f.assertValue(k,"obj");for(var G=k;null!=G;){if(_.isArray(G))return!0;G=Object.getPrototypeOf(G)}return!1}function B(k,G){r.f.assertValue(k,"values"),r.f.assertValue(G,"compareFunction");var q=k.length;if(q>=2)for(var Q=1;Q<q;Q++)if(G(k[Q-1],k[Q])>0)return!1;return!0}function N(k,G){return r.f.assertValue(k,"values"),r.f.assertAnyValue(G,"descendingOrder"),B(k,G?(Q,Z)=>Z-Q:(Q,Z)=>Q-Z)}function W(k){return _.isArray(k)?k:[k]}function F(k){return _.uniqBy(k,G=>G.name).length===k.length}function U(k,G){r.f.assertValue(k,"array");for(var q,Q=0,Z=k.length;Q<Z;Q++){var X=k[Q],re=G(X);X!==re&&!q&&(q=p(k,Q)),q&&q.push(re)}return q||k}function O(k,G){r.f.assertValue(k,"array");for(var q,Q=0,Z=k.length;Q<Z;Q++){var X=k[Q],re=G(X,Q),te=1!==re.length||re[0]!==X;te&&!q&&(q=p(k,Q)),q&&(te?q.push(...re||[]):q.push(X))}return q||k}function x(k,G){r.f.assertValue(k,"array");for(var q,Q=0,Z=k.length;Q<Z;Q++){var X=k[Q],re=G(X,Q);!re&&!q&&(q=p(k,Q)),q&&re&&q.push(X)}return q||k}function I(k,G,q){return _.isEmpty(k)||_.isEmpty(G)?_.isEmpty(k)&&_.isEmpty(G):k.length===G.length&&function(k,G,q){var Q=new Array(G.length);for(var Z of k){for(var X=!1,re=0;re<G.length;re++)if(!Q[re]&&q(Z,G[re])){X=!0,Q[re]=!0;break}if(!X)return!1}return!0}(k,G,q)}function L(k,G){var q=_.findIndex(k,G);if(-1!==q){var Q=k[q];k.splice(q,1),k.push(Q)}}function H(k,G,q){if(_.isEmpty(k)||_.isEmpty(G))return[];for(var Q=[],Z=0;Z<=k.length;Z++){Q[Z]=[];for(var X=0;X<=G.length;X++)Q[Z][X]=0===Z||0===X?0:q(k[Z-1],G[X-1])?Q[Z-1][X-1]+1:Math.max(Q[Z-1][X],Q[Z][X-1])}for(var re=[],te=Q[k.length][G.length],se=k.length,Ve=G.length;se>0&&Ve>0;)q(k[se-1],G[Ve-1])?(re[te-1]=k[se-1],se--,Ve--,te--):Q[se-1][Ve]>Q[se][Ve-1]?se--:Ve--;return re}function J(k,G){r.f.assertValue(k,"dictionary");for(var q,Q=Object.getOwnPropertyNames(k),Z=0,X=Q.length;Z<X;Z++){var re=Q[Z],te=k[re],se=G(re,te);te!==se&&!q&&(q=_.pick(k,p(Q,Z))),q&&(q[re]=se)}return q||k}},264431:function(ve,j,e){e.d(j,{Bm:function(){return p},Gx:function(){return h},HA:function(){return l},Hx:function(){return S},N6:function(){return o},RU:function(){return v},Vh:function(){return a},e$:function(){return m},hC:function(){return u},j:function(){return s},jK:function(){return n},mB:function(){return c},nE:function(){return d},qw:function(){return E},sH:function(){return t},xs:function(){return f},zd:function(){return g}});var r=e(650543),i=e(877542);function a(b){return!(!b||!b.performanceActivities)}class t extends Error{constructor(V){super(V),Object.setPrototypeOf(this,new.target.prototype)}}class l extends t{constructor(V){super(V?.code),this.clientError=V}}var g="Client Error Code",n="Error Code",p="Error Details",s="HTTP Request Id",d="Job Id",o="OData Error Message",v="Stack Trace",m="QueryCacheMissError";class c{constructor(V){this.code=V,this.ignorable=!1,r.f.assertValue(V,"code")}getDetails(V){return{resourceKey:"ClientError_UnknownClientErrorKey",message:V.get("ClientError_UnknownClientErrorValue"),displayableErrorInfo:[{errorInfoKey:V.get("ClientError_UnknownClientErrorKey"),errorInfoValue:V.get("ClientError_UnknownClientErrorValue")}],debugErrorInfo:[{errorInfoKey:g,errorInfoValue:this.code}]}}}var C={additionalInfoKey:"Rls_Unauthorized_VisualErrorTitle",additionalInfoValue:"Rls_Unauthorized_VisualErrorMessage",localizedMessage:"Rls_Unauthorized_VisualError",helpLinkInfo:{helpLink:"https://go.microsoft.com/fwlink/?LinkID=785016",helpLinkType:i.U.LearnMore}},y={RLSNotAuthorizedForModel:C,NotAuthorizedForImpersonation:C,TokenExpired:{localizedMessage:"ClientError_TokenExpired"}};function S(b){return null!=b&&void 0!==b.code&&void 0!==b.ignorable&&void 0!==b.requestId&&void 0!==b.getDetails}class h{constructor(V,T,P,D,w){this.statusCode=V,this.httpRequestId=T,this.detailedErrorCode=P,this.detailedMessage=D,this.source=w,r.f.assertValue(V,"httpStatusCode")}get code(){return this.detailedErrorCode||"HttpClientError"}get ignorable(){return!1}get requestId(){return this.httpRequestId}get httpStatusCode(){return this.statusCode}getDetails(V){var T=this.detailedErrorCode&&y[this.detailedErrorCode];if(T){var P=T.localizedMessage,D=T.additionalInfoKey||"DsrError_Key",w=T.additionalInfoValue||P||"DsrError_UnknownErrorValue",M=T.helpLinkInfo;return{resourceKey:D,message:P?V.get(P):null,displayableErrorInfo:[{errorInfoKey:V.get(D),errorInfoValue:V.get(w)}],debugErrorInfo:[],helpLink:M&&M.helpLink,helpLinkType:M&&M.helpLinkType,hideAdditionalErrorInfo:!0,source:this.source}}return this.getGenericErrorDetails(V)}getGenericErrorDetails(V){var T={resourceKey:"DsrError_Key",message:V.get("ServerError_NetworkConnectionIssue"),displayableErrorInfo:[{errorInfoKey:V.get("DsrError_Key"),errorInfoValue:V.get("DsrError_UnknownErrorValue")},{errorInfoKey:V.get("ClientError_HttpResponseStatusCodeKey"),errorInfoValue:this.httpStatusCode.toString()}],debugErrorInfo:[{errorInfoKey:s,errorInfoValue:this.httpRequestId},{errorInfoKey:g,errorInfoValue:this.code}],source:this.source};return this.detailedMessage&&T.debugErrorInfo&&T.debugErrorInfo.push({errorInfoKey:p,errorInfoValue:this.detailedMessage}),this.detailedErrorCode&&T.debugErrorInfo&&T.debugErrorInfo.push({errorInfoKey:n,errorInfoValue:this.detailedErrorCode}),T}}var E=(()=>{class b{constructor(T){this.debugInfo=T,this.code=b.Code,this.ignorable=!0}getDetails(T){return{message:"",displayableErrorInfo:[]}}}return b.Code="IgnorableClientError",b})();class u extends E{constructor(V){super("QueryCancellationClientError: "+V),this.cancellationSource=V}get queryCancellationSource(){return this.cancellationSource}}class f{constructor(){this.errorCode=m}get code(){return this.errorCode}get ignorable(){return!1}getDetails(V){return{message:V.get("ServiceError_QueryExecutionIsPaused"),displayableErrorInfo:[{errorInfoKey:V.get("ServiceError_QueryExecutionRequired"),errorInfoValue:V.get("ServiceError_VisualCannotBeUpdatedWithoutQuery")},{errorInfoKey:V.get("AdditionalErrorInfo_ErrorText"),errorInfoValue:this.code}],debugErrorInfo:[{errorInfoKey:g,errorInfoValue:this.code}]}}}},79365:function(ve,j,e){e.d(j,{$Q:function(){return P},A7:function(){return y},Bx:function(){return C},HO:function(){return M},HS:function(){return E},TD:function(){return m},U1:function(){return a},U8:function(){return c},WV:function(){return l},X6:function(){return D},_j:function(){return s},b9:function(){return d},ci:function(){return t},cu:function(){return h},iC:function(){return R},jd:function(){return V},ok:function(){return u},rJ:function(){return o},s1:function(){return A}});var r=e(650543),i=e(221e3);function a(B,N){if(0===N)return B;var W=l(B);if(W){var F=g(W);if(F){var U=function(B,N){var W=B.H+N;return{H:W>1?W-1:W,S:B.S,V:B.V}}(F,N);if(U){var O=n(U);if(O)return C(O)}}}}function t(B){var N=l(B);if(N)return C(N)}function l(B){if(B.indexOf("#")>=0){if(7===B.length){var N=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(B);return null==N||N.length<4?void 0:{R:parseInt(N[1],16),G:parseInt(N[2],16),B:parseInt(N[3],16)}}if(4===B.length){var W=/^#?([a-f\d])([a-f\d])([a-f\d])$/i.exec(B);return null==W||W.length<4?void 0:{R:parseInt(W[1]+W[1],16),G:parseInt(W[2]+W[2],16),B:parseInt(W[3]+W[3],16)}}}else{if(B.indexOf("rgb(")>=0){var F=/^rgb\((\d+),\s*(\d+),\s*(\d+)\)$/.exec(B);return null==F||F.length<4?void 0:{R:parseInt(F[1],10),G:parseInt(F[2],10),B:parseInt(F[3],10)}}if(B.indexOf("rgba(")>=0){var U=/^rgba\((\d+),\s*(\d+),\s*(\d+),\s*(\d*(?:\.\d+)?)\)$/.exec(B);return null==U||U.length<5?void 0:{R:parseInt(U[1],10),G:parseInt(U[2],10),B:parseInt(U[3],10),A:parseFloat(U[4])}}}}function g(B){if(B){var N,W,F=B.R/255,U=B.G/255,O=B.B/255,x=Math.min(F,Math.min(U,O)),I=Math.max(F,Math.max(U,O)),K=I-x;return 0===I||0===K?(N=0,W=0):(N=K/I,W=F===I?(U-O)/K:U===I?2+(O-F)/K:4+(F-U)/K),(W/=6)<0&&(W+=1),{H:W,S:N,V:I}}}function n(B){var N,W,F,I,L,K,z,H,J,O=B.S,x=B.V;if(0===O)N=x,W=x,F=x;else switch(I=x*(1-O),L=x*(1-O*(z=(J=6*B.H)-(H=Math.floor(J)))),K=x*(1-O*(1-z)),H){case 0:N=x,W=K,F=I;break;case 1:N=L,W=x,F=I;break;case 2:N=I,W=x,F=K;break;case 3:N=I,W=L,F=x;break;case 4:N=K,W=I,F=x;break;case 5:N=x,W=I,F=L;break;default:return void r.f.assertFail("unexpected")}return{R:Math.floor(255*N),G:Math.floor(255*W),B:Math.floor(255*F)}}function s(B,N){var W=Math.floor(N);return{R:Math.max(0,B.R-W),G:Math.max(0,B.G-W),B:Math.max(0,B.B-W)}}function d(B,N){return B.A=N,B}function o(B){var N=l(B);if(N)return function(B){return _.isNumber(B.A)?Math.round(100*(1-B.A)):0}(N)}function m(B){return 1-(B??0)/100}function c(B){return null==B.A?"rgb("+B.R+","+B.G+","+B.B+")":"rgba("+B.R+","+B.G+","+B.B+","+B.A+")"}function C(B){return"#"+T(B.R)+T(B.G)+T(B.B)}function y(B){return/^#([0-9a-f]{6}|[0-9a-f]{3})$/i.test(B)}function h(B){return/^#[0-9a-f]{6}$/i.test(B)}function E(B){return/(#([\da-f]{3}){1,2}|(rgb|hsl)a\((\d{1,3}%?,\s?){3}(1.0|1|0|0?\.\d+)\)|(rgb|hsl)\(\d{1,3}%?(,\s?\d{1,3}%?){2}\))/gi.test(B)}function u(B,N,W){var F=l(B),U=l(W);if(F&&U)return C(function(B,N,W){return N=(0,i.QO)(N,0,1),{R:b(B.R,N,W.R),G:b(B.G,N,W.G),B:b(B.B,N,W.B)}}(F,N,U))}function b(B,N,W){return N=(0,i.QO)(N,0,1),B=(0,i.QO)(B,0,255),W=(0,i.QO)(W,0,255),Math.round(N*B+(1-N)*W)}function V(B,N,W){var F=g(B);if(F){(N+W>1||N<=0||W<=0)&&(r.f.assert(()=>!1,"Invalid lumianceThreshold and highlightColor adjusting delta."),N=.8,W=.2),F.V=F.V<N?F.V+W:F.V-W;var U=n(F);if(U)return C(U)}}function T(B){var W=(0,i.QO)(B,0,255).toString(16).toUpperCase();return 1===W.length?"0"+W:W}function P(B,N,W){r.f.assert(()=>B.length===N.length,"createLinearColorScale - domain and range must be the same size"),r.f.assert(()=>B.length>1,"createLinearColorScale - domain and range must contain at least 2 values");var F=N.map(U=>l(U));return U=>{if(null==U&&(U=0),!isNaN(U)){if(W){var O=_.last(B);if(null==O||U>=O)return _.last(N);if(U<=B[0])return N[0]}for(var x,I,L,K,z=1,H=B.length;z<H;z++){if(I=B[z],(x=B[z-1])===Number.NEGATIVE_INFINITY&&isNaN(I))return N[z];if(isNaN(x)||isNaN(I))return;if(U===I)return N[z];if(U>=x&&U<=I){L=F[z-1],K=F[z];break}}if(void 0!==x&&void 0!==I&&void 0!==L&&void 0!==K)return C({R:w(U,x,I,L.R,K.R),G:w(U,x,I,L.G,K.G),B:w(U,x,I,L.B,K.B)})}}}function D(B,N=.25){r.f.assert(()=>N>0&&N<=.5,"valueOffset must be positive and less than 0.5");var F=g(l(B));if(F){F.V=F.V>1-N?1-N:F.V<N?N:F.V;var U=_.clone(F),O=_.clone(F);U.V=Math.min(F.V+N,1),O.V=Math.max(F.V-N,0);var x=n(U),I=n(O);if(x&&I)return P([0,1],[C(x),C(I)],!0)}}function w(B,N,W,F,U){return N===Number.NEGATIVE_INFINITY&&W===Number.POSITIVE_INFINITY?Math.round((U+F)/2):N===Number.NEGATIVE_INFINITY?U:W===Number.POSITIVE_INFINITY?F:Math.round(F+(B-N)*(U-F)/(W-N))}function M(B,N){var W=parseInt(B.slice(1),16),F=N<0?0:255,U=N<0?-1*N:N,O=W>>16,x=W>>8&255,I=255&W;return"#"+(16777216+65536*(Math.round((F-O)*U)+O)+256*(Math.round((F-x)*U)+x)+(Math.round((F-I)*U)+I)).toString(16).slice(1)}var A={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function R(B){return r.f.assertValue(B,"getWebColorValue - colorName"),A[B.toLocaleLowerCase()]}},5496:function(ve,j,e){e.d(j,{U:function(){return t},Xy:function(){return l},fA:function(){return i},md:function(){return a}});var r=e(118074),i=r.t.foreground,a=r.t.foregroundDark,t=r.t.background,l=r.t.backgroundNeutral},796071:function(ve,j,e){function r(l,g){!0!==l&&t(g||"condition: "+l)}function i(l,g){null==l&&t(g||"condition: "+l)}function t(l){throw new Error("Contract check failed: "+l)}e.d(j,{BF:function(){return r},bG:function(){return t},wS:function(){return i}})},853260:function(ve,j,e){e.d(j,{AK:function(){return t},YU:function(){return a},x9:function(){return l}});var a=window.escape,t=window.unescape;function l(g){}},756646:function(ve,j,e){function r(){return window.powerbi||(window.powerbi={}),window.powerbi}function i(){var l=r();return l.common||(l.common={}),l.common}function a(){var l=r();return l.visuals||(l.visuals={}),l.visuals}function t(){return window.jsCommon||(window.jsCommon={}),window.jsCommon}e.d(j,{Z7:function(){return a},hG:function(){return i},kx:function(){return t},wg:function(){return r}})},877542:function(ve,j,e){e.d(j,{NI:function(){return a},U:function(){return t},lX:function(){return i},zH:function(){return r}});var r=function(l){return l.PowerBI="PowerBI",l.External="External",l.User="User",l}({}),i=function(l){return l.NewQuery="NewQuery",l.OnDestroy="OnDestroy",l.PausedQuery="PausedQuery",l}({}),a=function(l){return l[l.VisualNotSupported=1]="VisualNotSupported",l}({}),t=function(l){return l[l.GetHelp=0]="GetHelp",l[l.LearnMore=1]="LearnMore",l}({})},902186:function(ve,j,e){e.d(j,{Wn:function(){return t},_b:function(){return g},bw:function(){return l}});var r='"',i=", ";class a{constructor(d){this.families=d}get family(){return this.getFamily()}getFamily(){return this.families.join(i)}get css(){return this.getCSS()}getCSS(){return this.families?this.families.map(d=>d.indexOf(" ")>-1?`'${d}'`:d).join(", "):null}}var t={light:new a(["Segoe UI Light","wf_segoe-ui_light","helvetica","arial","sans-serif"]),semilight:new a(["Segoe UI Semilight","wf_segoe-ui_semilight","helvetica","arial","sans-serif"]),regular:new a(["Segoe UI","wf_segoe-ui_normal","helvetica","arial","sans-serif"]),semibold:new a(["Segoe UI Semibold","wf_segoe-ui_semibold","helvetica","arial","sans-serif"]),bold:new a(["Segoe UI Bold","wf_segoe-ui_bold","helvetica","arial","sans-serif"]),lightSecondary:new a(["wf_standard-font_light","helvetica","arial","sans-serif"]),regularSecondary:new a(["wf_standard-font","helvetica","arial","sans-serif"]),boldSecondary:new a(["wf_standard-font_bold","helvetica","arial","sans-serif"]),glyphs:new a(["PowerVisuals"])},l={"Segoe UI Light":t.light,"Segoe UI Semilight":t.semilight,"Segoe UI":t.regular,"Segoe UI Semibold":t.semibold,"Segoe (Bold)":t.bold,"Segoe UI Bold":t.bold,DIN:t.regularSecondary,"DIN Light":t.lightSecondary,Heading:t.light,Body:t.regular};function g(s,d=!0){return null==s||""===s?s:-1===s.indexOf(",")?-1===s.indexOf(" ")?s:d?function(s){if(s)return r+s.replace(/['"]+/g,"")+r}(s):function(s){if(s)return s.replace(/['"]+/g,"")}(s):s.split(",").map(v=>g(v.trim(),d)).join(i)}},378760:function(ve,j,e){e.d(j,{U:function(){return r}});class r{constructor(a,t,l,g){this.left=a||0,this.top=t||0,this.width=l||0,this.height=g||0}}},619124:function(ve,j,e){e.d(j,{Sp:function(){return n},ao:function(){return v},fS:function(){return a},oY:function(){return o}});var r=e(473738);function a(m,c){return null!=m&&null!=c&&m.x===c.x&&m.y===c.y}function n(m,c){if(null===m||null===c)return null;var C=c.x-m.x,y=c.y-m.y;return Math.sqrt(C*C+y*y)}function o(m,c,C){var y=(c.y-m.y)*(C.x-c.x)-(c.x-m.x)*(C.y-c.y);return 0===y?r.i.Colinear:y>0?r.i.Clockwise:r.i.Counterclockwise}function v(m,c,C){return C.x<=Math.max(m.x,c.x)&&C.x>=Math.min(m.x,c.x)&&C.y<=Math.max(m.y,c.y)&&C.y>=Math.min(m.y,c.y)}},468420:function(ve,j,e){function S(h,E){if(h&&E)return{x:E.x-h.x,y:E.y-h.y}}e.d(j,{Au:function(){return S}})},368609:function(ve,j,e){e.d(j,{$X:function(){return S},Az:function(){return N},BD:function(){return D},F2:function(){return g},H6:function(){return W},HL:function(){return w},I:function(){return n},IH:function(){return y},Oq:function(){return d},WN:function(){return F},d9:function(){return m},f6:function(){return s},fS:function(){return v},hT:function(){return o},rr:function(){return h},w3:function(){return p},wf:function(){return M}});var r=e(650543),i=e(221e3);function g(U){return U.left+U.width}function n(U){return U.top+U.height}function p(U){return{x:U.left,y:U.top}}function s(U){return{x:U.left+U.width,y:U.top}}function d(U){return{x:U.left,y:U.top+U.height}}function o(U){return{x:U.left+U.width,y:U.top+U.height}}function v(U,O){return null!=O&&U.left===O.left&&U.top===O.top&&U.width===O.width&&U.height===O.height}function m(U){return null!==U?{left:U.left,top:U.top,width:U.width,height:U.height}:null}function y(U,O){return r.f.assertValue(U,"rect"),r.f.assertValue(O,"rect2"),{left:U.left+O.left,top:U.top+O.top,height:U.height+O.height,width:U.width+O.width}}function S(U,O){return r.f.assertValue(U,"rect"),r.f.assertValue(O,"rect2"),{left:U.left-O.left,top:U.top-O.top,height:U.height-O.height,width:U.width-O.width}}function h(U,O){var x=m(U);return x?(O&&(x.left-=O.left,x.top-=O.top,x.width+=O.left+O.right,x.height+=O.top+O.bottom),x):null}function D(U,O,x=!1){return null!==U&&null!==O&&(x?(0,i.Po)(U.left,O.x)&&(0,i.Po)(O.x,U.left+U.width)&&(0,i.Po)(U.top,O.y)&&(0,i.Po)(O.y,U.top+U.height):(0,i.bl)(U.left,O.x)&&(0,i.bl)(O.x,U.left+U.width)&&(0,i.bl)(U.top,O.y)&&(0,i.bl)(O.y,U.top+U.height))}function w(U,O){return!(!U||!O||O.left>U.left+U.width||O.left+O.width<U.left||O.top>U.top+U.height||O.top+O.height<U.top)}function M(U,O){if(!U)return O;if(!O)return U;var x=Math.max(U.left,O.left),I=Math.max(U.top,O.top),L=Math.min(U.left+U.width,O.left+O.width),K=Math.min(U.top+U.height,O.top+O.height);return x<=L&&I<=K?{left:x,top:I,width:L-x,height:K-I}:{left:0,top:0,width:0,height:0}}function N(U){return{x:U.left+U.width/2,y:U.top+U.height/2}}function W(U,O){var x=O.width||0,I=O.height||0;U.left+U.width>x&&(U.left=Math.max(x-U.width,0)),U.top+U.height>I&&(U.top=Math.max(I-U.height,0)),U.left=Math.max(0,U.left),U.top=Math.max(0,U.top)}function F(U,O,x,I){return void 0!==U&&void 0!==O&&void 0!==x&&void 0!==I&&(r.f.assert(()=>U<=O,"Lower bound for range should not be greater than upper bound."),r.f.assert(()=>x<=I,"Lower bound for range should not be greater than upper bound."),(0,i.bl)(U,I)&&(0,i.bl)(x,O))}},847832:function(ve,j,e){e.d(j,{m:function(){return t}});var r=e(473738),i=e(619124),a=e(368609);class t{constructor(g){g&&(this.polygonPoints=this.convertArrayPathToPoints(g))}static fromPolygonPoints(g){var n=new t(null);return n.polygonPoints=g,n}absoluteCentroid(){return null==this._absoluteCentroid&&(this._absoluteCentroid=this.calculatePolygonCentroid()),this._absoluteCentroid}absoluteBoundingRect(){return null==this._absoluteBoundingRect&&(this._absoluteBoundingRect=this.calculateBoundingRect()),this._absoluteBoundingRect}contains(g){var p={x:g.left+g.width,y:g.top},s={x:g.left,y:g.top+g.height},d={x:g.left+g.width,y:g.top+g.height};return this.inside({x:g.left,y:g.top})&&this.inside(p)&&this.inside(s)&&this.inside(d)}conflicts(g){if(!this.isConflictWithBoundingBox(g))return!1;var p={x:g.left+g.width/2,y:g.top},s={x:g.left+g.width,y:g.top},d={x:g.left,y:g.top+g.height},o={x:g.left+g.width/2,y:g.top+g.height},v={x:g.left+g.width,y:g.top+g.height},m={x:g.left,y:g.top+g.height/2},c={x:g.left+g.width,y:g.top+g.height/2};return this.inside({x:g.left,y:g.top})||this.inside(p)||this.inside(s)||this.inside(d)||this.inside(o)||this.inside(v)||this.inside(m)||this.inside(c)}lineIntersectionPoint(g,n){for(var p=0;p<this.polygonPoints.length;p++){var o=this.getLineIntersection(g,n,this.polygonPoints[p],p===this.polygonPoints.length-1?this.polygonPoints[0]:this.polygonPoints[p+1]);if(null!==o)return o}return null}static calculateAbsolutePolygonArea(g){var n,p=1,s=0;for(n=0;n<g.length;n++)s+=g[n].x*g[p].y-g[p].x*g[n].y,p=(p+1)%g.length;return.5*s}overlapPath(g){if(this.inside({x:g[0],y:g[1]}))return!0;var n=new t(g);if(n.inside(this.polygonPoints[0]))return!0;for(var p=0;p<this.polygonPoints.length;p++)if(n.lineIntersectionPoint(this.polygonPoints[p],this.polygonPoints[(p+1)%this.polygonPoints.length]))return!0;return!1}inside(g){for(var n=g.x,p=g.y,s=!1,d=0,o=this.polygonPoints.length-1;d<this.polygonPoints.length;o=d++){var v=this.polygonPoints[d].x,m=this.polygonPoints[d].y,C=this.polygonPoints[o].y;m>p!=C>p&&n<(this.polygonPoints[o].x-v)*(p-m)/(C-m)+v&&(s=!s)}return s}static translateX(g,n){for(var p=new Float64Array(2*g.polygonPoints.length),s=0;s<g.polygonPoints.length;s++)p[2*s]=g.polygonPoints[s].x+n,p[2*s+1]=g.polygonPoints[s].y;return new t(p)}static polygonBoundsOverlap(g,n){var p=(0,a.WN)(t.getPolyBoundLeft(g),t.getPolyBoundRight(g),t.getPolyBoundLeft(n),t.getPolyBoundRight(n)),s=(0,a.WN)(t.getPolyBoundLower(g),t.getPolyBoundUpper(g),t.getPolyBoundLower(n),t.getPolyBoundUpper(n));return p&&s}static circleRectangleOverlap(g,n,p){var s=Math.max(g.left,Math.min(n.x,g.right)),d=Math.min(g.bottom,Math.max(n.y,g.top)),o=s-n.x,v=d-n.y;return o*o+v*v<=p*p}static linesIntersect(g,n,p,s,d=!0){var o=(0,i.oY)(g,n,p),v=(0,i.oY)(g,n,s),m=(0,i.oY)(p,s,g),c=(0,i.oY)(p,s,n);return o!==v&&m!==c||!!d&&!!(o===r.i.Colinear&&(0,i.ao)(g,n,p)||v===r.i.Colinear&&(0,i.ao)(g,n,s)||m===r.i.Colinear&&(0,i.ao)(p,s,g)||c===r.i.Colinear&&(0,i.ao)(p,s,n))}static resize(g,n){if(0===n)return g;for(var p=t.calculateAbsolutePolygonArea(g.polygonPoints)>0,d=_.clone(n>0&&!0===p||n<0&&!1===p?g.polygonPoints.reverse():g.polygonPoints),o=g.absoluteCentroid(),v=[],m=0;m<d.length;m++){var c=d[m],C=d[(m+1)%d.length],y=C.y-c.y,S=void 0;0!==y&&(S=-(C.x-c.x)/y);var h=0;_.isUndefined(S)||(h=(c.y<C.y?-1:1)*Math.sqrt(n*n/(1+S*S)));var E=0;0===h?E=(c.x>C.x?-1:1)*n:_.isUndefined(S)||(E=S*h);var u={x:c.x+h,y:c.y+E},f={x:0,y:0};0===S?(f.x=u.x,f.y=u.y+10):_.isUndefined(S)||(f.x=u.x+10,f.y=u.y-10/S);var b=(u.x-f.x)*(o.y-c.y)-(u.y-f.y)*(o.x-c.x);if(0!==b){var V={x:((u.x*f.y-u.y*f.x)*(o.x-c.x)-(u.x-f.x)*(o.x*c.y-o.y*c.x))/b,y:((u.x*f.y-u.y*f.x)*(o.y-c.y)-(u.y-f.y)*(o.x*c.y-o.y*c.x))/b};isFinite(V.x)&&isFinite(V.y)&&v.push(V)}}return t.fromPolygonPoints(v)}static getPolyBoundLeft(g){return _.minBy(g.polygonPoints,n=>n.x)?.x}static getPolyBoundRight(g){return _.maxBy(g.polygonPoints,n=>n.x)?.x}static getPolyBoundUpper(g){return _.maxBy(g.polygonPoints,n=>n.y)?.y}static getPolyBoundLower(g){return _.minBy(g.polygonPoints,n=>n.y)?.y}isConflictWithBoundingBox(g){return(0,a.HL)(this.absoluteBoundingRect(),g)}calculatePolygonCentroid(){var g,n,p,s,d,o;for(g=t.calculateAbsolutePolygonArea(this.polygonPoints),p=s=0,o=1,d=0;d<this.polygonPoints.length;d++)p+=(this.polygonPoints[d].x+this.polygonPoints[o].x)*(n=this.polygonPoints[d].x*this.polygonPoints[o].y-this.polygonPoints[o].x*this.polygonPoints[d].y),s+=(this.polygonPoints[d].y+this.polygonPoints[o].y)*n,o=(o+1)%this.polygonPoints.length;return{x:p/=6*g,y:s/=6*g}}calculateBoundingRect(){var g=Number.POSITIVE_INFINITY,n=Number.POSITIVE_INFINITY,p=Number.NEGATIVE_INFINITY,s=Number.NEGATIVE_INFINITY;for(var d of this.polygonPoints)d.x<g?g=d.x:d.x>p&&(p=d.x),d.y<n?n=d.y:d.y>s&&(s=d.y);return{left:g,top:n,width:p-g,height:s-n}}getLineIntersection(g,n,p,s){var d=g.x,o=g.y,c=p.x,C=p.y,h=n.x-d,E=n.y-o,u=s.x-c,f=s.y-C,b=(-E*(d-c)+h*(o-C))/(-u*E+h*f),V=(u*(o-C)-f*(d-c))/(-u*E+h*f);return b>=0&&b<=1&&V>=0&&V<=1?{x:d+V*h,y:o+V*E}:null}convertArrayPathToPoints(g){for(var n=[],p=0;p<g.length;p+=2)n.push({x:g[p],y:g[p+1]});return n}}},510318:function(ve,j,e){e.d(j,{C$:function(){return l},Iq:function(){return d},T7:function(){return p},eg:function(){return t},mH:function(){return n},yf:function(){return g}});var r=e(264431),i=e(877542),a=e(121457),t="ServerError_";function l(o,v,m){if(!v)return o;for(var c of v){var C=m.getOptional(t+c.code),y=c.detail.value;0===c.detail.type&&(y=m.get(t+y)),o.displayableErrorInfo.push({errorInfoKey:C||c.code,errorInfoValue:y})}return o}function g(o,v,m,c,C){var y=o.debugErrorInfo=o.debugErrorInfo||[];return C&&y.push({errorInfoKey:r.j,errorInfoValue:C}),v&&y.push({errorInfoKey:r.zd,errorInfoValue:v}),m&&y.push({errorInfoKey:r.Bm,errorInfoValue:m}),c&&y.push({errorInfoKey:r.RU,errorInfoValue:c}),o}function n(o,v){return{message:o.get("ServiceError_CannotLoadVisual"),displayableErrorInfo:[{errorInfoKey:o.get("ServiceError_CannotLoadVisual"),errorInfoValue:v.message}]}}function p(o,v,m,c){var C,y={};if(m)if(_.isArray(m))for(var S of m)y[S.Key]=S.Value;else y=m;return C={message:s(o,v,y),displayableErrorInfo:[]},c&&l(C,c,o),C}function s(o,v,m){if(!v)return"";var c,C=o.get(t+v);return C&&(c=C.replace(/\{\s*([^}\s]+)\s*\}/g,function(y,S,h,E){return m[S]})),c}function d(o,v){var S,m="",c="",C="",y="",h=!1;switch(v.errorCode){case a.jt:m=o.get("ServiceError_ModelCannotLoad"),c=o.get("PremiumRequired_TitleText"),C=o.get("ServerError_PremiumFilesModelRequiresPremiumCapacity"),h=!0;break;case a.$f:m=o.get("ServiceError_LargeModelMovedAcrossRegionsTitle"),c=o.get("ServiceError_LargeModelMovedAcrossRegionsTitle"),C=s(o,"LargeModelMovedAcrossRegions",v.parameters),y="https://aka.ms/moving-large-datasets",h=!0;break;case a.ts:m=o.get("ServiceError_ModelCannotLoad"),c=o.get("ServiceError_ModelFetchingFailureKey"),C=o.get("DsrError_NoPermissionDueToRLSGroupMessage"),h=!0;break;case a.Fr:case a.x4:m=o.get("ServiceError_ModelCannotLoad"),c=o.get("ServiceError_ModelFetchingFailureKey"),C=o.get("DsrError_CanNotRetrieveModelMessage"),h=!0;break;case a.hR:m=o.get("ServiceError_ModelCannotLoad"),c=o.get("ServiceError_ModelFetchingFailureKey"),C=o.get("ServerError_DMTS_NoGatewayWithAllDatasourcesToBindError"),h=!0;break;case a.Lb:m=o.get("ServiceError_ModelCannotLoad"),c=o.get("ServiceError_ModelFetchingFailureKey"),C=o.get("ServerError_DM_GWPipeline_Client_GatewayUnreachable"),h=!0;break;case a.NC:m=o.get("ServiceError_CannotLoadVisual"),c=o.get("ServiceError_AuthenticationErrorKey"),C=o.get("ServiceError_AuthenticationErrorValue"),h=!0;break;case a.Ew:m=o.get("ServiceError_CannotLoadVisual"),c=o.get("ServiceError_AuthenticationErrorKey"),C=o.get("ServiceError_WindowsAuthNotSupportedErrorValue"),h=!0;break;case a.iQ:m=o.get("ServiceError_CannotLoadVisual"),c=o.get("ServiceError_AuthenticationErrorKey"),C=o.get("ServiceError_WindowsAuthImpersonationNotSupportedErrorValue"),h=!0;break;case a.zd:m=o.get("UploadPowerBICompanion_AccessDatasetWarning"),h=!0;break;case a.LM:m=o.get("ServiceError_InsecureLibraryLoadingPatchMissingTitle"),c=o.get("ServiceError_InsecureLibraryLoadingPatchMissingTitle"),C=o.get("ServiceError_InsecureLibraryLoadingPatchMissingMessage"),h=!0;break;case a.rW:m=o.get("ServiceError_ModelCannotLoad"),c=o.get("PremiumRequired_TitleText"),C=o.get("ServerError_BYOKEncryptedModelRequiresPremiumCapacity_Report"),h=!0;break;case a.me:m=o.get("ServiceError_ModelCannotLoad"),c=o.get("ServiceError_ModelCannotLoad"),C=o.get("ServerError_CustomerKeyNotAccessible_Report"),h=!0;break;case a.Bm:m=o.get("ServiceError_ModelCannotLoad"),c=o.get("ServiceError_ModelCannotLoad"),C=o.get("ServerError_CustomerKeyVaultError_Report"),h=!0;break;case a.Yu:m=o.get("ServiceError_ModelCannotLoad_CapacityLimitExceeded"),c=o.get("ServiceError_ModelCannotLoad_CapacityLimitExceeded"),C=o.get("ServiceError_CapacityOverloadedMessage"),y="https://aka.ms/AboutFabricCapacity",h=!0,S="Capacity_Limit_Exceeded_LearnMore"}if(!h)switch(v.statusCode){case a.qV.CsdlConvertXmlToConceptualSchema:m=o.get("ServiceError_ModelCannotLoad"),c=o.get("ServiceError_ModelConvertFailureKey"),C=o.get("ServiceError_ModelConvertFailureValue");break;case a.qV.CsdlCreateClientSchema:m=o.get("ServiceError_ModelCannotLoad"),c=o.get("ServiceError_ModelCreationFailureKey"),C=o.get("ServiceError_ModelCreationFailureValue");break;case a.qV.CsdlFetching:case a.qV.GetSchemaDataSetError:if(m=o.get("ServiceError_ModelCannotLoad"),c=o.get("ServiceError_ModelCannotLoad"),v.errorDetails){var E=_.find(v.errorDetails,f=>"ModelMode"===f.code);if(E)switch(E.detail.value){case"Internal":C=o.get("ServiceError_ModelConnectFailureInternalValue");break;case"ExternalOnPrem":C=o.get("ServiceError_ModelConnectFailureASLiveValue");break;case"ExternalService":C=o.get("ServiceError_ModelConnectFailurePBIServiceValue")}}C||(C=o.get("ServiceError_ModelFetchingFailureValue"));break;case a.qV.ExecuteSemanticQueryError:m=o.get("ServiceError_CannotLoadVisual"),c=o.get("ServiceError_ExecuteSemanticQueryErrorKey"),C=o.get("ServiceError_ExecuteSemanticQueryErrorValue");break;case a.qV.ExecuteSemanticQueryInvalidStreamFormat:m=o.get("ServiceError_CannotLoadVisual"),c=o.get("ServiceError_ExecuteSemanticQueryInvalidStreamFormatKey"),C=o.get("ServiceError_ExecuteSemanticQueryInvalidStreamFormatValue");break;default:m=o.get("ServiceError_GeneralError"),c=o.get("ServiceError_GeneralErrorKey"),C=o.get("ServiceError_GeneralErrorValue")}var u={message:m,displayableErrorInfo:[{errorInfoKey:c,errorInfoValue:C}]};return v.errorCode===a.Yu&&(u.helpLinkType=i.U.LearnMore),S&&(u.helpLinkOverrideText=S),y&&(u.helpLink=y),u}},120694:function(ve,j,e){e.d(j,{z:function(){return i}});var i=typeof window.performance<"u"&&window.performance.now&&window.performance.timeOrigin?()=>window.performance.now()+window.performance.timeOrigin:Date.now},395918:function(ve,j,e){e.d(j,{TZ:function(){return n},n8:function(){return g},sI:function(){return l}});var r=e(877542),i=e(650543),a=e(510318),t=e(121457),l=(()=>{class p{get code(){return this.m_serviceError.errorCode||p.codeName}get ignorable(){return!1}get requestId(){return this.httpRequestId}set requestId(d){this.httpRequestId=d}get source(){var d=this.m_serviceError.exceptionCulprit;if(null!=d)switch(d){case t.jJ:case t.aJ:return r.zH.PowerBI;case t.jV:return r.zH.External;case t.dB:return r.zH.User;default:return i.f.assertFail("exceptionCulprit: unrecognized value"),r.zH.PowerBI}}constructor(d){this.message=d.message?d.message:"",this.m_serviceError=d}getDetails(d){var o;return o=this.m_serviceError.statusCode===t.qV.ExecuteSemanticQueryTransformError?(0,a.mH)(d,this.m_serviceError):(0,a.Iq)(d,this.m_serviceError),this.m_serviceError.errorDetails&&(0,a.C$)(o,this.m_serviceError.errorDetails,d),(0,a.yf)(o,this.code,this.m_serviceError.message||null,this.m_serviceError.stackTrace||null,this.httpRequestId),o.source=this.source,o}}return p.codeName="ServiceErrorToClientError",p})();class g{constructor(s){this.innerError=s}get code(){return this.innerError.code}get ignorable(){return!1}get source(){var s=this.innerError["pbi.error"],d=s&&s.exceptionCulprit;if(null!=d)switch(d){case 0:return r.zH.PowerBI;case 2:return r.zH.External;case 1:return r.zH.User;default:return i.f.assertFail("exceptionCulprit: unrecognized value"),r.zH.PowerBI}}getDetails(s){var d=this.innerError["pbi.error"];if(d){var o=(0,a.T7)(s,d.code,d.parameters,d.details);return o.source=this.source,o}}}var n=(()=>{class p{constructor(){}get code(){return p.Code}get ignorable(){return!1}get source(){return r.zH.User}getDetails(d){}}return p.Code="TooManyRequests",p})()},121457:function(ve,j,e){e.d(j,{$f:function(){return i},Bm:function(){return M},EL:function(){return h},Ew:function(){return v},Fr:function(){return t},KX:function(){return u},LM:function(){return E},Lb:function(){return p},NC:function(){return d},QW:function(){return l},Y:function(){return A},YT:function(){return m},Yu:function(){return R},_L:function(){return y},_e:function(){return S},aJ:function(){return V},b$:function(){return s},cq:function(){return c},dB:function(){return T},hR:function(){return n},iQ:function(){return o},jJ:function(){return b},jV:function(){return P},jt:function(){return r},me:function(){return w},qL:function(){return C},qV:function(){return B},rW:function(){return D},ts:function(){return a},x4:function(){return g},zd:function(){return f}});var r="PremiumFilesModelRequiresPremiumCapacity",i="LargeModelMovedAcrossRegions",a="rsAccessDeniedDueToRLSGroup",t="rsCannotRetrieveModel",l="RLSNotAuthorizedForModel",g="CannotRetrieveModelError",n="DMTS_NoGatewayWithAllDatasourcesToBindError",p="DM_GWPipeline_UnknownError",s="DM_GWPipeline_Gateway_GatewayUpgradeRequired",d="pbidAccessDenied",o="pbidWindowsAuthWindowsAuthImpersonationNotSupported",v="pbidWindowsAuthNotSupported",m="PowerBIAdomdErrorResponseExternal",c="PowerBIAdomdErrorResponseSystem",C="PowerBIAdomdErrorResponseUser",y="ConnectionThrottledDueToCapacityOverload",S="DatasourceNotFound",h="DatabaseDoesNotExistOrUserDoesNotHavePermission",E="InsecureLibraryLoadingPatchMissing",u="MaximumAllowableMemoryReached",f="PowerBIServiceLiveConnectModelNotFound",b="System",V="PowerBI",T="User",P="External",D="BYOKEncryptedModelRequiresPremiumCapacity",w="CustomerKeyNotAccessible",M="CustomerKeyVaultError",A="rsOrphanedModel",R="CapacityLimitExceeded",B=function(N){return N[N.GeneralError=0]="GeneralError",N[N.CsdlFetching=1]="CsdlFetching",N[N.CsdlConvertXmlToConceptualSchema=2]="CsdlConvertXmlToConceptualSchema",N[N.CsdlCreateClientSchema=3]="CsdlCreateClientSchema",N[N.ExecuteSemanticQueryError=4]="ExecuteSemanticQueryError",N[N.ExecuteSemanticQueryInvalidStreamFormat=5]="ExecuteSemanticQueryInvalidStreamFormat",N[N.ExecuteSemanticQueryTransformError=6]="ExecuteSemanticQueryTransformError",N[N.TranslateSemanticQueryInvalidStreamFormat=7]="TranslateSemanticQueryInvalidStreamFormat",N[N.TranslateSemanticQueryError=8]="TranslateSemanticQueryError",N[N.GetSchemaDataSetError=9]="GetSchemaDataSetError",N}({})},742427:function(ve,j,e){e.d(j,{FM:function(){return n},VJ:function(){return l},Xr:function(){return i},tm:function(){return s}});var r=e(756646);function i(){return(0,r.wg)().build}function l(){return(0,r.wg)().clientVersion}function n(){return(0,r.wg)().cvUrl}function s(){return(0,r.wg)().visualCDNBlobContainerUrl}},995434:function(ve,j,e){e.d(j,{P:function(){return i}});var r=e(650543);function i(){var t={GeotaggingString_Continent:"continent",GeotaggingString_Continents:"continents",GeotaggingString_Country:"country",GeotaggingString_Countries:"countries",GeotaggingString_State:"state",GeotaggingString_States:"states",GeotaggingString_City:"city",GeotaggingString_Cities:"cities",GeotaggingString_Town:"town",GeotaggingString_Towns:"towns",GeotaggingString_Province:"province",GeotaggingString_Provinces:"provinces",GeotaggingString_County:"county",GeotaggingString_Counties:"counties",GeotaggingString_Village:"village",GeotaggingString_Villages:"villages",GeotaggingString_Post:"post",GeotaggingString_Zip:"zip",GeotaggingString_Code:"code",GeotaggingString_Place:"place",GeotaggingString_Places:"places",GeotaggingString_Address:"address",GeotaggingString_Addresses:"addresses",GeotaggingString_Street:"street",GeotaggingString_Streets:"streets",GeotaggingString_Longitude:"longitude",GeotaggingString_Longitude_Short:"lon",GeotaggingString_Longitude_Short2:"long",GeotaggingString_Latitude:"latitude",GeotaggingString_Latitude_Short:"lat",GeotaggingString_PostalCode:"postal code",GeotaggingString_PostalCodes:"postal codes",GeotaggingString_ZipCode:"zip code",GeotaggingString_ZipCodes:"zip codes",GeotaggingString_Territory:"territory",GeotaggingString_Territories:"territories",GeotaggingString_VRMBackCompat_CountryRegion:"CountryRegion",GeotaggingString_VRMBackCompat_StateOrProvince:"StateOrProvince"};class l{constructor(n){this.getLocalized=n,this.GeotaggingString_VRMBackCompat_CountryRegion="CountryRegion",this.GeotaggingString_VRMBackCompat_StateOrProvince="StateOrProvince",this.ensureCategoriesArePopulated()}ensureCategoriesArePopulated(){if(this.GeotaggingString_Continent)return!0;var n=this.getLocalized,p=n("GeotaggingString_Continent");return null==p?(r.f.assertFail("We attempted to initialize the geotaggingAnalyzerService before getLocalized is initialized when the localization should be initialized first."),!1):(this.GeotaggingString_Continent=p.toLowerCase(),this.GeotaggingString_Continents=n("GeotaggingString_Continents").toLowerCase(),this.GeotaggingString_Country=n("GeotaggingString_Country").toLowerCase(),this.GeotaggingString_Countries=n("GeotaggingString_Countries").toLowerCase(),this.GeotaggingString_State=n("GeotaggingString_State").toLowerCase(),this.GeotaggingString_States=n("GeotaggingString_States").toLowerCase(),this.GeotaggingString_City=n("GeotaggingString_City").toLowerCase(),this.GeotaggingString_Cities=n("GeotaggingString_Cities").toLowerCase(),this.GeotaggingString_Town=n("GeotaggingString_Town").toLowerCase(),this.GeotaggingString_Towns=n("GeotaggingString_Towns").toLowerCase(),this.GeotaggingString_Province=n("GeotaggingString_Province").toLowerCase(),this.GeotaggingString_Provinces=n("GeotaggingString_Provinces").toLowerCase(),this.GeotaggingString_County=n("GeotaggingString_County").toLowerCase(),this.GeotaggingString_Counties=n("GeotaggingString_Counties").toLowerCase(),this.GeotaggingString_Village=n("GeotaggingString_Village").toLowerCase(),this.GeotaggingString_Villages=n("GeotaggingString_Villages").toLowerCase(),this.GeotaggingString_Post=n("GeotaggingString_Post").toLowerCase(),this.GeotaggingString_Zip=n("GeotaggingString_Zip").toLowerCase(),this.GeotaggingString_Code=n("GeotaggingString_Code").toLowerCase(),this.GeotaggingString_Place=n("GeotaggingString_Place").toLowerCase(),this.GeotaggingString_Places=n("GeotaggingString_Places").toLowerCase(),this.GeotaggingString_Address=n("GeotaggingString_Address").toLowerCase(),this.GeotaggingString_Addresses=n("GeotaggingString_Addresses").toLowerCase(),this.GeotaggingString_Street=n("GeotaggingString_Street").toLowerCase(),this.GeotaggingString_Streets=n("GeotaggingString_Streets").toLowerCase(),this.GeotaggingString_Longitude=n("GeotaggingString_Longitude").toLowerCase(),this.GeotaggingString_Longitude_Short=n("GeotaggingString_Longitude_Short").toLowerCase(),this.GeotaggingString_Longitude_Short2=n("GeotaggingString_Longitude_Short2").toLowerCase(),this.GeotaggingString_Latitude=n("GeotaggingString_Latitude").toLowerCase(),this.GeotaggingString_Latitude_Short=n("GeotaggingString_Latitude_Short").toLowerCase(),this.GeotaggingString_PostalCode=n("GeotaggingString_PostalCode").toLowerCase(),this.GeotaggingString_PostalCodes=n("GeotaggingString_PostalCodes").toLowerCase(),this.GeotaggingString_ZipCode=n("GeotaggingString_ZipCode").toLowerCase(),this.GeotaggingString_ZipCodes=n("GeotaggingString_ZipCodes").toLowerCase(),this.GeotaggingString_Territory=n("GeotaggingString_Territory").toLowerCase(),this.GeotaggingString_Territories=n("GeotaggingString_Territories").toLowerCase(),!0)}isLongitudeOrLatitude(n){return!!this.ensureCategoriesArePopulated()&&(this.isLongitude(n)||this.isLatitude(n))}isGeographic(n){return!!this.ensureCategoriesArePopulated()&&(this.isLongitudeOrLatitude(n)||this.isGeocodable(n))}isGeocodable(n){return!!this.ensureCategoriesArePopulated()&&(this.isAddress(n)||this.isCity(n)||this.isContinent(n)||this.isCountry(n)||this.isCounty(n)||this.isStateOrProvince(n)||this.isPlace(n)||this.isPostalCode(n)||this.isTerritory(n))}isGeoshapable(n){return!!this.ensureCategoriesArePopulated()&&(this.isCity(n)||this.isContinent(n)||this.isCountry(n)||this.isCounty(n)||this.isStateOrProvince(n)||this.isPostalCode(n)||this.isTerritory(n)||this.isPlace(n)||this.isGeoshapableEnglish(n))}isGeoshapableEnglish(n){return!!this.ensureCategoriesArePopulated()&&(this.isEnglishCity(n)||this.isEnglishContinent(n)||this.isEnglishCountry(n)||this.isEnglishCounty(n)||this.isEnglishStateOrProvince(n)||this.isEnglishPostalCode(n)||this.isEnglishTerritory(n)||this.isEnglishPlace(n))}isAddress(n){return l.hasMatches(n,[this.GeotaggingString_Address,this.GeotaggingString_Addresses,this.GeotaggingString_Street,this.GeotaggingString_Streets])}isPlace(n){return l.hasMatches(n,[this.GeotaggingString_Place,this.GeotaggingString_Places])}isCity(n){return l.hasMatches(n,[this.GeotaggingString_City,this.GeotaggingString_Cities,this.GeotaggingString_Town,this.GeotaggingString_Towns,this.GeotaggingString_Village,this.GeotaggingString_Villages])}isStateOrProvince(n){return l.hasMatches(n,[this.GeotaggingString_State,this.GeotaggingString_States,this.GeotaggingString_Province,this.GeotaggingString_Provinces,this.GeotaggingString_VRMBackCompat_StateOrProvince])}isCountry(n){return l.hasMatches(n,[this.GeotaggingString_Country,this.GeotaggingString_Countries,this.GeotaggingString_VRMBackCompat_CountryRegion])}isCounty(n){return l.hasMatches(n,[this.GeotaggingString_County,this.GeotaggingString_Counties])}isContinent(n){return l.hasMatches(n,[this.GeotaggingString_Continent,this.GeotaggingString_Continents])}isPostalCode(n){var p=l.hasMatches(n,[this.GeotaggingString_Post,this.GeotaggingString_Zip])&&l.hasMatches(n,[this.GeotaggingString_Code])||l.hasMatches(n,[this.GeotaggingString_PostalCode,this.GeotaggingString_PostalCodes,this.GeotaggingString_ZipCode,this.GeotaggingString_ZipCodes]);if(!p){var s=/\s+/,d=n.replace(s,"");p=l.hasMatches(d,[this.GeotaggingString_PostalCode.replace(s,""),this.GeotaggingString_PostalCodes.replace(s,""),this.GeotaggingString_ZipCode.replace(s,""),this.GeotaggingString_ZipCodes.replace(s,"")])}return p}isLongitude(n){return l.hasMatches(n,[this.GeotaggingString_Longitude])||l.hasMatches(n,[this.GeotaggingString_Longitude_Short],!0)||l.hasMatches(n,[this.GeotaggingString_Longitude_Short2],!0)}isLatitude(n){return l.hasMatches(n,[this.GeotaggingString_Latitude])||l.hasMatches(n,[this.GeotaggingString_Latitude_Short],!0)}isTerritory(n){return l.hasMatches(n,[this.GeotaggingString_Territory,this.GeotaggingString_Territories])}static hasMatches(n,p,s){for(var d=/\W/,o=n.toLowerCase(),v=0,m=p.length;v<m;v++){var c=p[v].toLowerCase();if(s){var C=o.indexOf(c);if(C>-1){var y=void 0,S=void 0;if(y=S=!0,C-1>0&&(S=d.test(o[C-1])),C+c.length<o.length&&(y=d.test(o[C+c.length])),S&&y)return!0}}else if(o.indexOf(c)>-1)return!0}return!1}getFieldType(n){if(this.ensureCategoriesArePopulated()&&void 0!==n)return this.isLatitude(n)?"Latitude":this.isLongitude(n)?"Longitude":this.isPostalCode(n)?"PostalCode":this.isAddress(n)?"Address":this.isPlace(n)?"Place":this.isCity(n)?"City":this.isCountry(n)?"Country":this.isCounty(n)?"County":this.isStateOrProvince(n)?"StateOrProvince":this.isContinent(n)?"Continent":this.getEnglishFieldType(n)}getFieldTypeFromDescriptor(n){if(null!=n&&null!=n.geography){var p=n.geography;if(p.latitude)return"Latitude";if(p.longitude)return"Longitude";if(p.postalCode)return"PostalCode";if(p.address)return"Address";if(p.place)return"Place";if(p.city)return"City";if(p.country)return"Country";if(p.county)return"County";if(p.stateOrProvince)return"StateOrProvince";if(p.continent)return"Continent"}}isEnglishAddress(n){return l.hasMatches(n,[t.GeotaggingString_Address,t.GeotaggingString_Addresses,t.GeotaggingString_Street,t.GeotaggingString_Streets])}isEnglishPlace(n){return l.hasMatches(n,[t.GeotaggingString_Place,t.GeotaggingString_Places])}isEnglishCity(n){return l.hasMatches(n,[t.GeotaggingString_City,t.GeotaggingString_Cities,t.GeotaggingString_Town,t.GeotaggingString_Towns,t.GeotaggingString_Village,t.GeotaggingString_Villages])}isEnglishStateOrProvince(n){return l.hasMatches(n,[t.GeotaggingString_State,t.GeotaggingString_States,t.GeotaggingString_Province,t.GeotaggingString_Provinces,t.GeotaggingString_VRMBackCompat_StateOrProvince])}isEnglishCountry(n){return l.hasMatches(n,[t.GeotaggingString_Country,t.GeotaggingString_Countries,t.GeotaggingString_VRMBackCompat_CountryRegion])}isEnglishCounty(n){return l.hasMatches(n,[t.GeotaggingString_County,t.GeotaggingString_Counties])}isEnglishContinent(n){return l.hasMatches(n,[t.GeotaggingString_Continent,t.GeotaggingString_Continents])}isEnglishPostalCode(n){var p=l.hasMatches(n,[t.GeotaggingString_Post,t.GeotaggingString_Zip])&&l.hasMatches(n,[this.GeotaggingString_Code])||l.hasMatches(n,[t.GeotaggingString_PostalCode,t.GeotaggingString_PostalCodes,t.GeotaggingString_ZipCode,t.GeotaggingString_ZipCodes]);if(!p){var s=new RegExp("s");p=l.hasMatches(n,[t.GeotaggingString_PostalCode.replace(s,""),t.GeotaggingString_PostalCodes.replace(s,""),t.GeotaggingString_ZipCode.replace(s,""),t.GeotaggingString_ZipCodes.replace(s,"")])}return p}isEnglishLongitude(n){return l.hasMatches(n,[t.GeotaggingString_Longitude])||l.hasMatches(n,[t.GeotaggingString_Longitude_Short],!0)||l.hasMatches(n,[t.GeotaggingString_Longitude_Short2],!0)}isEnglishLatitude(n){return l.hasMatches(n,[t.GeotaggingString_Latitude])||l.hasMatches(n,[t.GeotaggingString_Latitude_Short],!0)}isEnglishTerritory(n){return l.hasMatches(n,[t.GeotaggingString_Territory,t.GeotaggingString_Territories])}getEnglishFieldType(n){if(null!=n){if(this.isEnglishLatitude(n))return"Latitude";if(this.isEnglishLongitude(n))return"Longitude";if(this.isEnglishPostalCode(n))return"PostalCode";if(this.isEnglishAddress(n))return"Address";if(this.isEnglishPlace(n))return"Place";if(this.isEnglishCity(n))return"City";if(this.isEnglishCountry(n))return"Country";if(this.isEnglishCounty(n))return"County";if(this.isEnglishStateOrProvince(n))return"StateOrProvince";if(this.isEnglishContinent(n))return"Continent"}}}return{create:g=>new l(g)}}},546825:function(ve,j,e){e.d(j,{O:function(){return l},p:function(){return t}});var a,r=e(478542),i=e(650543);function t(){return new g}var l=function(s){return s[s.pending=0]="pending",s[s.resolved=1]="resolved",s[s.rejected=2]="rejected",s}({});class g{defer(d){return new n($.Deferred())}reject(d){var o=this.defer();return o.reject(d),o.promise}resolve(d){var o=this.defer();return o.resolve(d),o.promise}all(d){return this.when.apply(this,d).then(function(){return Array.prototype.slice.call(arguments)})}allSettled(d){var o=this.defer(),v=d.length;if(v>0)for(var m=0,c=[],C=function(S){d[S].then(h=>{c[S]={value:h,type:r.X.Success}}).catch(h=>{c[S]={value:h,type:r.X.Failure}}).finally(()=>{++m===v&&o.resolve(c)})},y=0;y<v;y++)C(y);else o.resolve([]);return o.promise}when(...d){var o=d.map(m=>m&&m.promise?m.promise:m);if(1===o.length){var v=o[0];return v?.pipe?new p(v):this.resolve(v)}return new p($.when(...o))}}class n{constructor(d){i.f.assertValue(d,"deferred"),this.deferred=d,this.promise=new p(d.promise())}resolve(d){this.deferred.resolveWith(this.deferred.promise,[d])}reject(d){this.deferred.rejectWith(this.deferred.promise,[d])}}class p{constructor(d){this[a]="Promise",i.f.assertValue(d,"promise"),this.promise=d}then(d,o){var c,v=p.wrapCallback(d),m=p.wrapCallback(o);return c=this.promise.pipe(v||null,m),new p(c)}catch(d){return this.then(null,d)}finally(d){return this.promise.always(p.wrapCallback(d)),this}static wrapCallback(d){return d&&function(){var o=d.apply(this,arguments);return o instanceof p?o.promise:o}}}a=Symbol.toStringTag},971831:function(ve,j,e){e.d(j,{LK:function(){return v},T5:function(){return o},y4:function(){return m}});var g,n,p,A,r=e(84838),i=e(814055),a="2",t="`",l=t+t,s=/^V:[12]-|^g:.* s:|(address|city|continent|country|county|postalcode|stateorprovince)$/;function o(A,R,B,N){u();var W=p[A];if(!W){M("information",`ensuring localStorageCache ${A}`);var F=n.caches[A];F&&F.version!==R&&(M("information",`Clearing old version cache ${A}`),D(A),delete n.caches[A],f(),F=void 0),W=new h(A,B,N),p[A]=W,F||(M("information",`Adding initial cache metadata for ${A}`),n.caches[A]={version:R,size:0,nextId:1,added:Date.now()},f(),V())}return W}function v(A){D(A),u();var R=n.caches[A];R&&(p[A]?n.caches[A]={version:R.version,size:0,nextId:1,added:Date.now()}:delete n.caches[A],f())}function m(A,R){if(A){var B=C(A),N=n.caches[A],W=[],F=0;for(var U of(g.forEach(O=>{if(B.test(O)){var x=g.getData(O);if(x&&x.added){var I=x.id,L=null;null!=I&&(L=y(A,I)),E(N.added)-x.added>R&&(L&&W.push(L),W.push(O),F+=x.size)}}}),N.size-=F,f(),W))g.setData(U,void 0)}}function c(A,R){return t+A+"-"+R}function C(A){return new RegExp("^"+t+A+"-")}function y(A,R){return l+A+"-"+R}g=i.DU,n=A,p={};class h{constructor(R,B,N){this.cacheName=R,this.maxSpace=B,this.maxAge=N,this.disabled=!1}getData(R){if(!this.disabled){var B=c(this.cacheName,R),N=g.getData(B),W=N&&N.id;if(null!=W){var F=y(this.cacheName,W),U=n.caches[this.cacheName];if(E(U.added)-N.added<=this.maxAge)return g.getData(F);U.size-=N.size,f(),g.setData(F,void 0),g.setData(B,void 0)}}}setData(R,B,N){if(!this.disabled){if(!(n=b()))return void(this.disabled=!0);var W=c(this.cacheName,R),F=g.getData(W);void 0===B?this.removeEntry(W,F):this.setEntry(W,F,B,N)}}removeEntry(R,B){if(B){var N=B.size;null!=N&&(n.caches[this.cacheName].size-=N,f());var W=B.id;null!=W&&g.setData(y(this.cacheName,W),void 0)}g.setData(R,void 0)}setEntry(R,B,N,W){var F=n.caches[this.cacheName];if(!F)return this.disabled=!0,void M("error",`Did't find cache metadata for ${this.cacheName} in directory ${JSON.stringify(n)}`);var U=E(F.added),O=B&&B.id;O?(B.added=U,F.size-=B.size):B={id:O=F.nextId++,added:U,size:0};var x=y(this.cacheName,O),I=JSON.stringify(N);B.size=I.length+R.length+x.length,B.size+=JSON.stringify(B).length,B.size+=1,F.size+=B.size,F.size>this.maxSpace&&(W&&W(),D(this.cacheName),F.added=Date.now(),F.nextId=2,B.added=E(F.added),B.id=1,x=y(this.cacheName,B.id),B.size=I.length+R.length+x.length,B.size+=JSON.stringify(B).length,B.size+=1,F.size=B.size),f(),g.setData(R,B),g.setJSONData(x,I)}}function E(A){return Math.floor((Date.now()-A)/6e4)}function u(){if(n=b()){if(n.version===a)return;M("information",`Clearing old verion ${n.version} localStorage entries`),w(A=>A.length>0&&A[0]===t)}else M("information","Clearing obsolete localStorage entries"),w(A=>s.test(A));n={version:a,caches:{}},f(),V()}function f(){g.setData(l,n)}function b(){return g.getData(l)}function V(){try{var A=b();_.isEqual(A,n)||M("warning",`Cache directory different after save: saved=${JSON.stringify(n)} reloaded=${JSON.stringify(A)}`)}catch(R){M("error",`Error checking cache directory after save: ${R&&R.stack?R.stack:JSON.stringify(R)}`)}}function D(A){var R=C(A),B=function(A){return new RegExp("^"+l+A+"-")}(A);w(N=>R.test(N)||B.test(N))}function w(A){var R=[];for(var B of(g.forEach(N=>{A(N)&&R.push(N)}),R))g.setData(B,void 0);return R.length}function M(A,R){var B=window.jsCommon;!B||!B.Trace||r.fM[A]("localStorageCache: "+R)}},814055:function(ve,j,e){e.d(j,{DU:function(){return a},UD:function(){return t}});var i=(()=>{class l{constructor(n){this.cache={},this.clearCacheInterval=n??l.defaultClearCacheInterval,this.clearCache()}getData(n){return this.cache[n]}setData(n,p,s){this.cache[n]=p,null==this.clearCacheTimerId&&(this.clearCacheTimerId=window.setTimeout(()=>this.clearCache(),this.clearCacheInterval))}clearCache(){this.cache={},this.clearCacheTimerId=void 0}}return l.defaultClearCacheInterval=864e5,l})(),a=new class{isLocalStorageSupported(){try{var g="validateLocalStorageKey",n="validateLocalStorageValue";return localStorage.setItem(g,n),localStorage.getItem(g)===n&&(localStorage.removeItem(g),null===localStorage.getItem(g))}catch{return!1}}getData(g){try{if(localStorage){var n=localStorage[g];if(n)return JSON.parse(n)}}catch{}}setData(g,n){try{if(localStorage)return void(void 0===n?localStorage.removeItem(g):localStorage[g]=JSON.stringify(n))}catch{}}setJSONData(g,n){try{localStorage&&(void 0===n?localStorage.removeItem(g):localStorage[g]=n)}catch{}}forEach(g){try{if(!localStorage)return;for(var n=localStorage.length;n-- >0;)g(localStorage.key(n))}catch{}}},t=new i},212971:function(ve,j,e){e.d(j,{hQ:function(){return l}});var r=e(650543),i=e(120694),a=e(84838),t=e(301336),l=(u,f,b,V)=>new p(u,f,b,V);class p{constructor(f,b,V,T){this.promiseFactory=f,this.telemetry=b,this.options={...T,rjs:T&&T.rjs||window.require},this.active={},r.f.assertValue(this.options.rjs,"Could not load require.js."),V?(this.options.rjs.config(V),this.cssPaths=V.cssPaths,this.bundles=V.bundles):(this.cssPaths={},this.bundles={})}require(f){r.f.assertValue(f,"moduleLoader: require Module Dependency has to be defined");var u,V,b=f.javascript;if((u=b)&&u instanceof Function)return this.loadModuleES6(f,b);if(b)V=b;else{if(!f.css)return this.promiseFactory.resolve();V=f.css.join(",")}var T=h(this.cssPaths,f.css,this.options.rtl??!1,this.promiseFactory),P=this.active,D=P[V];if(D)return D;if(!b)return P[V]=T,T.finally(()=>delete P[V]),T.then(()=>this.promiseFactory.resolve());var w=function(u,f){for(var b in r.f.assertValue(u,"script"),r.f.assertValue(f,"bundles"),f)if(_.includes(f[b],u))return b}(b,this.bundles),M=this.promiseFactory.defer(!0),A=()=>o(this.options.rjs,this.telemetry,b,F=>M.resolve(F),F=>M.reject(F));if(null==w||this.options.rjs.defined(w))A();else{var R=(0,i.z)(),B=window.setTimeout(()=>{a.fM.warning("Module bundle load is delayed",void 0,{bundleName:w,duration:(0,i.z)()-R}),B=window.setTimeout(()=>{a.fM.warning("Module bundle load is very delayed",void 0,{bundleName:w,duration:(0,i.z)()-R}),B=void 0},this.options.delayedBundleLongInterval||1e6)},this.options.delayedBundleShortInterval||3e4);o(this.options.rjs,this.telemetry,w,()=>{B||a.fM.warning("Module bundle eventually loaded",void 0,{bundleName:w,duration:(0,i.z)()-R}),clearTimeout(B),A()},F=>M.reject(F))}var W=this.promiseFactory.all([T,M.promise]).then(()=>M.promise);return P[V]=W,W.finally(()=>delete P[V]),W}loadModuleES6(f,b){var V=b();return f.css?this.promiseFactory.all([h(this.cssPaths,f.css,this.options.rtl??!1,this.promiseFactory),V]).then(()=>V):V}}var s=".js",d=".min.js";function o(u,f,b,V,T){if(r.f.assertValue(u,"rjs"),r.f.assertValue(b,"script"),r.f.assertValue(V,"success"),r.f.assertValue(T,"failure"),u.defined(b))V(u(b));else{var P=(0,t.BL)(`moduleLoader.require('${b}')`),D=f?.startEvent();u([b],function(){var A,w=window.parseTimeMarkers,M=b;w&&((A=w[b+d])?M+=d:(A=w[b+s])&&(M+=s));var R={start:A&&A.start,end:A&&A.end},B={start:A&&A.startEval,end:A&&A.endEval};D?.resolve(M,R,B),P(),V(arguments[0])},w=>{D?.reject(b),P(),T(w)})}}var m=document,c=m.head,C=m.createElement("link"),y=[],S=c.getElementsByTagName("script")[0];function h(u,f,b,V){if(!f)return V.resolve();c.getElementsByTagName("script")?.[0]?.src!==S?.src&&(S=c.getElementsByTagName("script")[0]);var T=["quill.core"],P=[];for(var D of f){var w=-1!==T.indexOf(D);if(D=u[D]||D,_.endsWith(D,".css")||(D+=".css"),b&&!w&&-1===D.indexOf(".rtl")&&(D=_.endsWith(D,".min.css")?D.replace(".min.css",".rtl.min.css"):D.replace(".css",".rtl.css")),-1===y.indexOf(D)){y.push(D);var M=E(D,V);P.push(M)}}return P.length?V.all(P):V.resolve()}function E(u,f){var b=C.cloneNode(),V=f.defer();return b.addEventListener("load",()=>V.resolve()),b.addEventListener("error",()=>V.reject()),b.href=u,S?c.insertBefore(b,S):c.appendChild(b),V.promise}C.setAttribute("rel","stylesheet")},837515:function(ve,j,e){e.d(j,{b:function(){return o}});var r=e(349672),i=e(759167),a=e(650543),t=e(853260),l=e(221e3),g=e(62414),n=e(610358),p=e(176219),s=e(814055),d=e(84838),o=(()=>{class v{static setCanvasCtx(c){v.canvasCtx=c}static setMeasuredFontNotLoadedCallback(c){v.measuredFontNotLoadedCallbacks||(v.measuredFontNotLoadedCallbacks=[]);var C=++v.measuredFontNotLoadedCallbacksAdded;return v.measuredFontNotLoadedCallbacks.push({id:C,callback:c}),()=>{var y=v.measuredFontNotLoadedCallbacks?v.measuredFontNotLoadedCallbacks.findIndex(S=>S.id===C):-1;-1===y?a.f.assertFail("Tried to remove a MeasuredFontNotLoadedCallback more than once"):(v.measuredFontNotLoadedCallbacks.splice(y,1),v.measuredFontNotLoadedCallbacks.length||(v.measuredFontNotLoadedCallbacks=void 0))}}static hasMeasuredFontNotLoadedCallbacks(){return v.measuredFontNotLoadedCallbacks&&0!==v.measuredFontNotLoadedCallbacks.length}static callMeasuredFontNotLoadedCallbacks(c){if(c&&v.measuredFontNotLoadedCallbacks)for(var C,y=v.measuredFontNotLoadedCallbacks.length;y--;){var S=v.measuredFontNotLoadedCallbacks[y];(void 0===C||S.id<C)&&(C=S.id,S.callback(c))}}static ensureDOM(){if(!v.canvasCtx){if(v.spanElement||(v.spanElement=$("<span></span>"),$("body").append(v.spanElement)),null==v.letterSpacing)try{var c=window.getComputedStyle(v.spanElement?.get(0));c.letterSpacing.indexOf("px")>0&&(v.letterSpacing=+c.letterSpacing.replace("px",""))}catch{}v.svgTextElement||(v.svgTextElement=d3.select($("body").get(0)).append("svg").styles({height:"0px",width:"0px",position:"absolute"}).append("text")),v.canvasCtx=$("<canvas></canvas>").get(0).getContext("2d");var C=window.getComputedStyle(v.svgTextElement.node());v.fallbackFontFamily=C?C.fontFamily:""}}static removeSpanElement(){v.spanElement&&v.spanElement.remove&&v.spanElement.remove(),v.spanElement=null}static measureSvgTextWidth(c,C){if(a.f.assertValue(c,"textProperties"),a.f.assert(()=>_.isEmpty(c.fontSize)||-1!==c.fontSize.indexOf("px"),"TextProperties' text size should be in px."),!c||!c.fontSize)return 0;if(v.ensureDOM(),!v.canvasCtx)return((null!=C?C.length:null!=c.text&&c.text.length)||0)*(parseInt(c.fontSize,10)||9);if(!v.setCanvasFont(v.canvasCtx,c)||null==C&&null==c.text)return 0;c.fontFamily&&v.hasMeasuredFontNotLoadedCallbacks()&&(v.isFontLoaded(c)||v.callMeasuredFontNotLoadedCallbacks(c.fontFamily));var h=C??c.text;return v.canvasCtx.measureText(h).width+(null!=v.letterSpacing?v.letterSpacing*h.length:0)}static measureSvgTextRect(c,C){return this.measureSvgTextRectInternal(c,C,!0)}static measureSvgTextRectInternal(c,C,y){return a.f.assertValue(c,"textProperties"),a.f.assert(()=>_.isEmpty(c.fontSize)||-1!==c.fontSize.indexOf("px"),"TextProperties' text size should be in px."),v.ensureDOM(),y&&c.fontFamily&&v.hasMeasuredFontNotLoadedCallbacks()&&(v.isFontLoaded(c)||v.callMeasuredFontNotLoadedCallbacks(c.fontFamily)),v.svgTextElement.text(C||c.text).attrs({visibility:"hidden","font-family":c.fontFamily||v.fallbackFontFamily,"font-variant":c.fontVariant,"font-size":c.fontSize,"font-weight":c.fontWeight,"font-style":c.fontStyle,"text-decoration":c.textDecoration||"none","white-space":c.whiteSpace||"nowrap"}),(0,n.jL)(v.svgTextElement.node())}static measureSvgTextHeight(c,C){var y=v.measureSvgTextRect(c,C);return y?y.height:0}static measureSvgGlyphHeight(c,C,y){a.f.assert(()=>-1!==c.indexOf("px"),"Font size should be in px."),v.ensureDOM(),v.svgTextElement.classed(C,!0).style("font-size",c).style("position","absolute").style("visibility","hidden");var h=v.measureSvgTextRect({fontFamily:null,fontSize:c},y);return v.svgTextElement.classed(C,!1).text(null).style("font-size",null).style("position",null).style("visibility",null),h?h.height:0}static isFullyTruncated(c){return c===v.ellipsis}static estimateSvgTextRect(c){a.f.assertValue(c,"textProperties"),a.f.assert(()=>_.isEmpty(c.fontSize)||-1!==c.fontSize.indexOf("px"),"TextProperties' text size should be in px.");var C=(c.fontFamily||"")+(c.fontSize||""),y=s.UD.getData(C),S=y?.rect,h={fontFamily:c.fontFamily,fontSize:c.fontSize,text:"M"},E=v.isFontLoaded(h);return null!=S&&y.fontLoaded||!1===E?null==S?(S=v.measureSvgTextRect(h),s.UD.setData(C,{rect:S,fontLoaded:!1})):!E&&c.fontFamily&&v.hasMeasuredFontNotLoadedCallbacks()&&v.callMeasuredFontNotLoadedCallbacks(c.fontFamily):(S=v.measureSvgTextRect(h)).height>0&&s.UD.setData(C,{rect:S,fontLoaded:!0}),S}static ensureFonts(...c){return(0,r.Z)(function*(){var C=[];for(var y of c)try{C.push(document.fonts.load(`16px ${y}`))}catch(f){d.fM.exception("ensureFont-1",{error:f,includeStackTrace:!0,additionalInfo:{fontFace:y},maxTrace:5})}try{for(var S=yield Promise.allSettled(C),h=0;h<S.length;++h){var E=S[h];"rejected"===E.status&&d.fM.exception("ensureFont-2",{error:E.reason,includeStackTrace:!0,additionalInfo:{fontFace:c[h]},maxTrace:20})}return}catch(f){return void d.fM.exception("ensureFont-3",{error:f,includeStackTrace:!0,maxTrace:5})}})()}static isFontLoaded(c){var C="16px",y=document.fonts,S=c.fontFamily,h=!1;if(v.fontLoadCache[S])return!0;if(y&&S)try{h=y.check(C+" "+S)}catch{}else{c.fontSize=C;var E=v.measureSvgTextRectInternal(c,void 0,!1),u=S?S.split(",")[0]:"";if(-1!==u.indexOf("Segoe UI"))h=(0,l.GG)(E.height,21.28,1e-5);else{if(-1===u.indexOf("wf_standard-font"))return null;h=(0,l.GG)(E.height,16.35,1e-5)}}return v.doNotCacheFontLoadedStatus||(v.fontLoadCache[S]=h),h}static clearFontLoadedCache(){v.fontLoadCache={}}static estimateSvgTextBaselineDelta(c){var C=v.estimateSvgTextRect(c);return C.y+C.height}static estimateSvgTextHeight(c,C=!1){var y=v.estimateSvgTextRect(c).height;return C&&(y*=.7),y}static measureSvgTextElementWidth(c){return a.f.assertValue(c,"svgElement"),v.measureSvgTextWidth(v.getSvgMeasurementProperties(c))}static getMeasurementProperties(c){return a.f.assertValue(c,"element"),{text:c.val()||c.text(),fontFamily:c.css("font-family"),fontSize:c.css("font-size"),fontWeight:c.css("font-weight"),fontStyle:c.css("font-style"),fontVariant:c.css("font-variant"),whiteSpace:c.css("white-space")}}static getSvgMeasurementProperties(c){a.f.assertValue(c,"svgElement");var C=window.getComputedStyle(c,null);return C?{text:c.textContent,fontFamily:C.fontFamily,fontSize:C.fontSize,fontWeight:C.fontWeight,fontStyle:C.fontStyle,fontVariant:C.fontVariant,whiteSpace:C.whiteSpace}:{text:c&&c.textContent,fontFamily:"",fontSize:"0"}}static getDivElementWidth(c){a.f.assert(()=>c.is("div"),"Given element is not a div type. Cannot get width");var C=getComputedStyle(c[0]);return C?C.width:"0"}static getTailoredTextOrDefault(c,C){if(a.f.assertValue(c,"properties"),a.f.assertValue(c.text,"properties.text"),a.f.assert(()=>_.isEmpty(c.fontSize)||-1!==c.fontSize.indexOf("px"),"TextProperties' text size should be in px."),!c||!c.fontSize)return"";v.ensureDOM();var y=c.text;if(!y||!v.canvasCtx||!v.setCanvasFont(v.canvasCtx,c))return"";c.fontFamily&&v.hasMeasuredFontNotLoadedCallbacks()&&(v.isFontLoaded(c)||v.callMeasuredFontNotLoadedCallbacks(c.fontFamily));var h=v.canvasCtx.measureText(y).width+(null!=v.letterSpacing?v.letterSpacing*y.length:0);if(h<=C)return y;y=v.ellipsis+y;for(var E=_.split(y,""),u=1,f=E.length;u<f;){var b=u+f>>1,V=E.slice(0,b).join("");C>(h=v.canvasCtx.measureText(V).width+(null!=v.letterSpacing?v.letterSpacing*V.length:0))?u=b+1:C<h?f=b-1:(u=b,f=b)}var T=E.slice(0,u).join("");return(h=v.canvasCtx.measureText(T).width+(null!=v.letterSpacing?v.letterSpacing*T.length:0))>C&&u--,E.slice(v.ellipsis.length,u).join("")+v.ellipsis}static setCanvasFont(c,C){try{c.font=(C.fontStyle||"")+" "+(C.fontVariant||"")+" "+(C.fontWeight||"")+" "+C.fontSize+" "+(C.fontFamily||v.fallbackFontFamily)}catch{return!1}return!0}static svgEllipsis(c,C,y){a.f.assertValue(c,"textElement"),y||(y=v.getSvgMeasurementProperties(c));var S=y.text,h=v.getTailoredTextOrDefault(y,C);S!==h&&(c.textContent=h)}static wordBreak(c,C,y,S=0){(0,t.x9)("powerbi.TextMeasurementService.wordBreak is deprecated. Use powerbi.visuals.TextUtil.wordBreak instead"),a.f.assertValue(c,"textElement");var h=v.getSvgMeasurementProperties(c),E=v.estimateSvgTextHeight(h)+S,u=Math.max(1,Math.floor(y/E)),f=d3.select(c),b=f.attr("y"),V=c.textContent;c.textContent="";for(var T=(0,p.ql)(V,h,v.measureSvgTextWidth,C,u),P=0,D=T.length;P<D;P++)h.text=T[P],f.append("tspan").attrs({x:0,dy:0===P?b:E}).text(v.getTailoredTextOrDefault(h,C))}static wordBreakOverflowingText(c,C,y,S=0){a.f.assertValue(c,"textElement");var h=v.getSvgMeasurementProperties(c),E=v.estimateSvgTextHeight(h)+S,u=Math.max(1,Math.floor(y/E)),f=c.textContent;c.textContent="";var b=(0,p.ql)(f,h,v.measureSvgTextWidth,C,u);d3.select(c).selectAll(v.OverflowingText.selector).data(b).enter().append("span").classed(v.OverflowingText.class,!0).text(T=>T).style("width",g.FP.toString(C))}}return v.ellipsis="\u2026",v.OverflowingText=(0,i.CH)("overflowingText"),v.letterSpacing=null,v.fontLoadCache={},v.measuredFontNotLoadedCallbacksAdded=0,v.doNotCacheFontLoadedStatus=!1,v})()},473738:function(ve,j,e){e.d(j,{i:function(){return r}});var r=function(i){return i[i.Clockwise=0]="Clockwise",i[i.Counterclockwise=1]="Counterclockwise",i[i.Colinear=2]="Colinear",i}({})},908911:function(ve,j,e){e.d(j,{fJ:function(){return t},ng:function(){return g}});var r=e(990297),i=e(79365),a=e(650543);class t{constructor(p,s,d){this.basePickerColors=[{value:"#FFFFFF"},{value:"#000000"}],this.colors=p||g.getDefaultColors(),this.sentimentColors=s||g.defaultSentimentColors,this.gradientColors=d||g.defaultGradientColors,this.scales={},this.basePickerColors.push(..._.take(this.colors,8))}getColorScaleByKey(p){var s=this.scales[p];return void 0===s&&(s=this.createScale(),this.scales[p]=s),s}getNewColorScale(){return this.createScale()}getColorByIndex(p){return a.f.assert(()=>p>=0&&p<this.colors.length,"index is out of bounds"),this.colors[p]}getSentimentColors(){return this.sentimentColors}getGradientColors(){return this.gradientColors}getBasePickerColors(){return this.basePickerColors}getBaseColors(){return _.take(this.colors,8)}getAllColors(){return this.colors}createScale(){return l.createFromColors(this.colors)}}class l{constructor(p){this.scale=p}getColor(p){return this.scale(p)}clearAndRotateScale(){var p=this.scale.domain().length,s=(0,r.U1)(this.scale.range(),p);this.scale=d3.scaleOrdinal().range(s)}clone(){return new l(this.scale.copy())}getDomain(){return this.scale.domain()}static createFromColors(p){return new l(d3.scaleOrdinal().range(p))}}var g=(()=>{class n{static getDefaultColors(){if(!n.defaultColors){n.defaultColors=[];for(var s=n.defaultBaseColors,d=0;d<n.colorSectorCount;++d)for(var o=0,v=s.length;o<v;++o){var m=(0,i.U1)(s[o].value,d/n.colorSectorCount);n.defaultColors.push({value:m??s[o].value})}}return n.defaultColors}}return n.colorSectorCount=12,n.defaultBaseColors=[{value:"#01B8AA"},{value:"#374649"},{value:"#FD625E"},{value:"#F2C80F"},{value:"#5F6B6D"},{value:"#8AD4EB"},{value:"#FE9666"},{value:"#A66999"},{value:"#3599B8"},{value:"#DFBFBF"},{value:"#4AC5BB"},{value:"#5F6B6D"},{value:"#FB8281"},{value:"#F4D25A"},{value:"#7F898A"},{value:"#A4DDEE"},{value:"#FDAB89"},{value:"#B687AC"},{value:"#28738A"},{value:"#A78F8F"},{value:"#168980"},{value:"#293537"},{value:"#BB4A4A"},{value:"#B59525"},{value:"#475052"},{value:"#6A9FB0"},{value:"#BD7150"},{value:"#7B4F71"},{value:"#1B4D5C"},{value:"#706060"},{value:"#0F5C55"},{value:"#1C2325"},{value:"#7D3231"},{value:"#796419"},{value:"#303637"},{value:"#476A75"},{value:"#7E4B36"},{value:"#52354C"},{value:"#0D262E"},{value:"#544848"}],n.defaultSentimentColors={bad:{value:"#E81123"},neutral:{value:"#F2C811"},good:{value:"#3bb44a"}},n.defaultGradientColors={minColor:{value:"#FD625E"},midColor:{value:"#F5D33F"},maxColor:{value:"#01B8AA"},nullColor:{value:"#FF7F48"}},n})()},14817:function(ve,j,e){e.d(j,{GK:function(){return c},Oy:function(){return d},Ue:function(){return l},V4:function(){return g},js:function(){return m},lQ:function(){return C},pe:function(){return o}});var r=e(685202),i=e(650543),a=e(902186),t=e(908911);function l(y,S){void 0===y&&(y=new t.fJ);var h={foreground:{value:"#333333"},foregroundLight:{value:"#FFF"},foregroundDark:{value:"#000"},foregroundNeutralLight:{value:"#EAEAEA"},foregroundNeutralDark:{value:"#212121"},foregroundNeutralSecondary:{value:"#666666"},foregroundNeutralSecondaryAlt:{value:"#777777"},foregroundNeutralSecondaryAlt2:{value:"#888888"},foregroundNeutralTertiary:{value:"#A6A6A6"},foregroundNeutralTertiaryAlt:{value:"#C8C8C8"},foregroundSelected:{value:"#333333"},foregroundButton:{value:"#666666"},background:{value:"#FFF"},backgroundLight:{value:"#EAEAEA"},backgroundNeutral:{value:"#C8C8C8"},backgroundDark:{value:"#000"},tableAccent:{value:y.getColorByIndex(0).value},hyperlink:{value:"#1F3A93"},visitedHyperlink:{value:"#551A8B"},mapPushpin:{value:"#FF5F00"},shapeStroke:{value:"#01B8AA"},disabledText:{value:"#8C8C8C"},dataColors:y};return{isHighContrast:!1,colorPalette:h,textClasses:g(h,S),icons:{SignLow:{svgId:"SignLow",description:{resourceKey:"Icon_SignLow"}},SignMedium:{svgId:"SignMedium",description:{resourceKey:"Icon_SignMedium"}},CircleGreenPatternFill:{svgId:"CircleGreenPatternFill",description:{resourceKey:"Icon_CircleGreenPatternFill"}},CircleYellowPatternFill:{svgId:"CircleYellowPatternFill",description:{resourceKey:"Icon_CircleYellowPatternFill"}},CircleRedPatternFill:{svgId:"CircleRedPatternFill",description:{resourceKey:"Icon_CircleRedPatternFill"}},CircleBlackFill:{svgId:"CircleBlackFill",description:{resourceKey:"Icon_4CircleLow"}},CircleGrayPatternFill:{svgId:"CircleGrayPatternFill",description:{resourceKey:"Icon_CircleGrayPatternFill"}},CirclePurplePatternFill:{svgId:"CirclePurplePatternFill",description:{resourceKey:"Icon_CirclePurplePatternFill"}},CircleHigh:{svgId:"CircleHigh",description:{resourceKey:"Icon_CircleHigh"}},CircleMedium:{svgId:"CircleMedium",description:{resourceKey:"Icon_CircleMedium"}},CircleLow:{svgId:"CircleLow",description:{resourceKey:"Icon_4CircleHigh"}},"4CircleLow":{svgId:"4CircleLow",description:{resourceKey:"Icon_4CircleLow"}},CircleMedium1:{svgId:"CircleMedium1",description:{resourceKey:"Icon_CircleMedium1"}},"4CircleMedium2":{svgId:"4CircleMedium2",description:{resourceKey:"Icon_4CircleMedium2"}},CircleEmpty:{svgId:"CircleEmpty",description:{resourceKey:"Icon_CircleEmpty"}},Circle25:{svgId:"Circle25",description:{resourceKey:"Icon_Circle25"}},CircleHalf:{svgId:"CircleHalf",description:{resourceKey:"Icon_CircleHalf"}},Circle75:{svgId:"Circle75",description:{resourceKey:"Icon_Circle75"}},CircleFilled:{svgId:"CircleFilled",description:{resourceKey:"Icon_CircleFilled"}},CircleGreenBlackBackgroundPatternFill:{svgId:"CircleGreenBlackBackgroundPatternFill",description:{resourceKey:"Icon_CircleGreenBlackBackgroundPatternFill"}},CircleYellowBlackBackgroundPatternFill:{svgId:"CircleYellowBlackBackgroundPatternFill",description:{resourceKey:"Icon_CircleYellowBlackBackgroundPatternFill"}},CircleRedBlackBackgroundPatternFill:{svgId:"CircleRedBlackBackgroundPatternFill",description:{resourceKey:"Icon_CircleRedBlackBackgroundPatternFill"}},TrafficLow:{svgId:"TrafficLow",description:{resourceKey:"Icon_TrafficLow"}},TrafficMedium:{svgId:"TrafficMedium",description:{resourceKey:"Icon_TrafficMedium"}},TrafficHigh:{svgId:"TrafficHigh",description:{resourceKey:"Icon_TrafficHigh"}},TrafficBlackRimmed:{svgId:"TrafficBlackRimmed",description:{resourceKey:"Icon_TrafficBlackRimmed"}},CircleRedBlackOutlinePatternFill:{svgId:"CircleRedBlackOutlinePatternFill",description:{resourceKey:"Icon_CircleRedBlackOutlinePatternFill"}},CircleYellowBlackOutlinePatternFill:{svgId:"CircleYellowBlackOutlinePatternFill",description:{resourceKey:"Icon_CircleYellowBlackOutlinePatternFill"}},CircleGreenBlackOutlinePatternFill:{svgId:"CircleGreenBlackOutlinePatternFill",description:{resourceKey:"Icon_CircleGreenBlackOutlinePatternFill"}},TrafficLowLight:{svgId:"TrafficLowLight",description:{resourceKey:"Icon_TrafficLowLight"}},TrafficMediumLight:{svgId:"TrafficMediumLight",description:{resourceKey:"Icon_TrafficMediumLight"}},TrafficHighLight:{svgId:"TrafficHighLight",description:{resourceKey:"Icon_TrafficHighLight"}},TrafficBlackRimmedLight:{svgId:"TrafficBlackRimmedLight",description:{resourceKey:"Icon_TrafficBlackRimmedLight"}},ColoredArrowDown:{svgId:"ColoredArrowDown",description:{resourceKey:"Icon_ColoredArrowDown"}},ColoredArrowDownRight:{svgId:"ColoredArrowDownRight",description:{resourceKey:"Icon_ColoredArrowDownRight"}},ColoredArrowRight:{svgId:"ColoredArrowRight",description:{resourceKey:"Icon_ColoredArrowRight"}},ColoredArrowUpRight:{svgId:"ColoredArrowUpRight",description:{resourceKey:"Icon_ColoredArrowUpRight"}},ColoredArrowUp:{svgId:"ColoredArrowUp",description:{resourceKey:"Icon_ColoredArrowUp"}},ColoredArrowUpRed:{svgId:"ColoredArrowUpRed",description:{resourceKey:"Icon_ColoredArrowUpRed"}},ColoredArrowDownGreen:{svgId:"ColoredArrowDownGreen",description:{resourceKey:"Icon_ColoredArrowDownGreen"}},GreyArrowDown:{svgId:"GreyArrowDown",description:{resourceKey:"Icon_GreyArrowDown"}},GreyArrowDownRight:{svgId:"GreyArrowDownRight",description:{resourceKey:"Icon_GreyArrowDownRight"}},GreyArrowRight:{svgId:"GreyArrowRight",description:{resourceKey:"Icon_GreyArrowRight"}},GreyArrowUpRight:{svgId:"GreyArrowUpRight",description:{resourceKey:"Icon_GreyArrowUpRight"}},GreyArrowUp:{svgId:"GreyArrowUp",description:{resourceKey:"Icon_GreyArrowUp"}},FlagRedPatternFill:{svgId:"FlagRedPatternFill",description:{resourceKey:"Icon_FlagLow"}},FlagYellowPatternFill:{svgId:"FlagYellowPatternFill",description:{resourceKey:"Icon_FlagMedium"}},FlagGreenPatternFill:{svgId:"FlagGreenPatternFill",description:{resourceKey:"Icon_FlagHigh"}},FlagLow:{svgId:"FlagLow",description:{resourceKey:"Icon_FlagLow"}},FlagMedium:{svgId:"FlagMedium",description:{resourceKey:"Icon_FlagMedium"}},FlagHigh:{svgId:"FlagHigh",description:{resourceKey:"Icon_FlagHigh"}},FlagBlack:{svgId:"FlagBlack",description:{resourceKey:"Icon_FlagBlack"}},SymbolLow:{svgId:"SymbolLow",description:{resourceKey:"Icon_SymbolLow"}},SymbolMedium:{svgId:"SymbolMedium",description:{resourceKey:"Icon_SymbolMedium"}},SymbolHigh:{svgId:"SymbolHigh",description:{resourceKey:"Icon_SymbolHigh"}},CircleSymbolLow:{svgId:"CircleSymbolLow",description:{resourceKey:"Icon_CircleSymbolLow"}},CircleSymbolMedium:{svgId:"CircleSymbolMedium",description:{resourceKey:"Icon_CircleSymbolMedium"}},CircleSymbolHigh:{svgId:"CircleSymbolHigh",description:{resourceKey:"Icon_CircleSymbolHigh"}},StarLow:{svgId:"StarLow",description:{resourceKey:"Icon_StarLow"}},StarMedium:{svgId:"StarMedium",description:{resourceKey:"Icon_StarMedium"}},StarHigh:{svgId:"StarHigh",description:{resourceKey:"Icon_StarHigh"}},StarMediumLight:{svgId:"StarMediumLight",description:{resourceKey:"Icon_StarMediumLight"}},StarHighLight:{svgId:"StarHighLight",description:{resourceKey:"Icon_StarHighLight"}},TriangleLow:{svgId:"TriangleLow",description:{resourceKey:"Icon_TriangleLow"}},TriangleMedium:{svgId:"TriangleMedium",description:{resourceKey:"Icon_TriangleMedium"}},TriangleHigh:{svgId:"TriangleHigh",description:{resourceKey:"Icon_TriangleHigh"}},SignalBarEmpty:{svgId:"SignalBarEmpty",description:{resourceKey:"Icon_SignalBarEmpty"}},SignalBarLow:{svgId:"SignalBarLow",description:{resourceKey:"Icon_SignalBarLow"}},SignalBarMedium:{svgId:"SignalBarMedium",description:{resourceKey:"Icon_SignalBarMedium"}},SignalBarMedium2:{svgId:"SignalBarMedium2",description:{resourceKey:"Icon_SignalBarMedium2"}},SignalBarFull:{svgId:"SignalBarFull",description:{resourceKey:"Icon_SignalBarFull"}},SignalBarLowColored:{svgId:"SignalBarLowColored",description:{resourceKey:"Icon_SignalBarLow"}},SignalBarMediumColored:{svgId:"SignalBarMediumColored",description:{resourceKey:"Icon_SignalBarMediumColored"}},SignalBarMedium2Colored:{svgId:"SignalBarMedium2Colored",description:{resourceKey:"Icon_SignalBarMedium2Colored"}},SignalBarFullColored:{svgId:"SignalBarFullColored",description:{resourceKey:"Icon_SignalBarFullColored"}},QuadrantEmpty:{svgId:"QuadrantEmpty",description:{resourceKey:"Icon_QuadrantEmpty"}},Quadrant25:{svgId:"Quadrant25",description:{resourceKey:"Icon_Quadrant25"}},Quadrant50:{svgId:"Quadrant50",description:{resourceKey:"Icon_Quadrant50"}},Quadrant75:{svgId:"Quadrant75",description:{resourceKey:"Icon_Quadrant75"}},QuadrantFull:{svgId:"QuadrantFull",description:{resourceKey:"Icon_QuadrantFull"}},Quadrant25Colored:{svgId:"Quadrant25Colored",description:{resourceKey:"Icon_Quadrant25Colored"}},Quadrant50Colored:{svgId:"Quadrant50Colored",description:{resourceKey:"Icon_Quadrant50Colored"}},Quadrant75Colored:{svgId:"Quadrant75Colored",description:{resourceKey:"Icon_Quadrant75Colored"}},QuadrantFullColored:{svgId:"QuadrantFullColored",description:{resourceKey:"Icon_QuadrantFullColored"}}}}}function g(y,S,h=!1){if(function(y){if(!y)return!1;var h=["color","fontSize","fontFace"];for(var E of["callout","header","label","title"]){var u=y[E];if(!u)return!1;for(var f of h)if(!u[f])return!1}return!0}(S)){S.callout.fontFace=n(S.callout.fontFace??""),S.label.fontFace=n(S.label.fontFace??""),S.title.fontFace=n(S.title.fontFace??""),S.header.fontFace=n(S.header.fontFace??"");var b={callout:S.callout,label:S.label,title:S.title,header:S.header,largeTitle:p(S.largeTitle,S.title,void 0,7/6),dataTitle:p(S.dataTitle,S.title,y.dataColors.getColorByIndex(0)),boldLabel:p(S.boldLabel,S.label,void 0,void 0,r.l.Bold),largeLabel:p(S.largeLabel,S.label,void 0,1.2),largeLightLabel:p(S.largeLightLabel,S.label,y.foregroundNeutralSecondary,1.2),lightLabel:p(S.lightLabel,S.label,y.foregroundNeutralSecondary),semiboldLabel:p(S.semiboldLabel,S.label,void 0,void 0,r.l.Semibold),smallLabel:p(S.smallLabel,S.label,void 0,.9),smallLightLabel:p(S.smallLightLabel,S.label,y.foregroundNeutralSecondary,.9),smallDataLabel:p(S.smallDataLabel,S.label,y.dataColors.getColorByIndex(0),.9)};if(h){var T,V=y.foreground.value;for(T in b){var P=b[T];P.color?P.color.value=V:P.color={value:V}}}return b}}function n(y){var S=a.bw[y];return S?S.family:y}function p(y,S,h,E,u){if(y?null==y.color&&(y.color=h||S.color):y={color:h||S.color},null==y.fontSize){var f=_.toNumber(S.fontSize);i.f.assert(()=>!isNaN(f),"visualStyle > applyTextClassDefaults: given textClass fontSize is NaN; cannot transform"),y.fontSize=(null==E?f:Math.round(f*E*10)/10)+""}if(null==y.fontWeight&&null!=u)switch(u){case r.l.Bold:y.fontWeight=r.l.Bold;break;case r.l.Semibold:y.fontWeight=r.l.Semibold;break;default:y.fontWeight=S.fontWeight}return y.fontFace=y.fontFace||S.fontFace,y}function d(){return{callout:{fontSize:"45",fontFace:"DIN",color:{value:"#252423"}},title:{fontSize:"12",fontFace:"DIN",color:{value:"#252423"}},header:{fontSize:"12",fontFace:"Segoe UI Semibold",color:{value:"#252423"}},label:{fontSize:"10",fontFace:"Segoe UI",color:{value:"#252423"}}}}function o(y,S){i.f.assertValue(S,"EvalContext.getThemeColor - colorName should't be null");var h=y.colorPalette,E=h.dataColors.getGradientColors(),u=h.dataColors.getSentimentColors(),f=h[S]||E[S]||u[S];return i.f.assertAnyValue(f,"getThemeColor - If this is not a theme color it's likely a custom color (like rgba),\n                we should consider updating dataViewObjectEvaluator logic to only call this if it's a theme color."),f?.value}var v={"ui-foreground":"var(--colorNeutralForeground1)","ui-background":"var(--colorNeutralBackground1)","ui-foregroundSecondary":"var(--colorNeutralForeground3)","ui-backgroundSecondary":"var(--colorNeutralBackground3)"};function m(y){return i.f.assertValue(y,"getUIThemeColorValue - colorName"),v[y]}function c(y,S){i.f.assertValue(y,"getThemeDataColor - visualStyle"),i.f.assertValue(S,"getThemeDataColor - colorIdx");var h=y.colorPalette.dataColors.getBasePickerColors();return h[S]?.value}function C(y,S){return i.f.assertValue(y,"getThemeIcon - visualStyle"),i.f.assertValue(S,"getThemeIcon - iconId"),y.icons[S]}},84838:function(ve,j,e){e.d(j,{fM:function(){return m}});var d,r=e(650543),i=e(756646),a=e(76824),t=e(734531),l=e(903165),g=e(550888),p=new class{logTrace(C){}},m=(()=>{class c{static assertFail(y){r.f.assertValue(y,"message"),r.f.assertFail(y),this.error(y,!0)}static warning(y,S,h){r.f.assertValue(y,"text"),this.logTraceInternal(new l.X(y,g.U.Warning,this.sessionId,S,h))}static exception(y,S){r.f.assertValue(y,"id");var h=S?.maxTrace;if(!(h&&h>0)||function(c,C){if(null==C||C<=0)return!0;d||(d=new Map);var y=d.get(c);return null==y?y=1:++y,d.set(c,y),y<=C}(y,h)){var E,u=S?.error;S?.includeStackTrace?(u&&(E=u.stack?.toString()),E||(E=(new Error).stack)):u&&(E=u.message.toString());var f=y;E&&(f+=": "+E),this.logTraceInternal(new l.X(f,g.U.Error,this.sessionId,S?.requestId,S?.additionalInfo))}}static error(y,S,h,E){r.f.assertValue(y,"text"),S&&(y=(0,t.W)("{0}.\nStack:\n{1}",y,(0,a.DH)())),this.logTraceInternal(new l.X(y,g.U.Error,this.sessionId,h,E))}static information(y,S,h){r.f.assertValue(y,"text"),this.logTraceInternal(new l.X(y,g.U.Information,this.sessionId,S,h))}static verbose(y,S,h){r.f.assertValue(y,"text"),this.logTraceInternal(new l.X(y,g.U.Verbose,this.sessionId,S,h))}static addListener(y){r.f.assertValue(y,"listener"),_.find(this.listeners,S=>S===y)||this.listeners.push(y)}static removeListener(y){r.f.assertValue(y,"listener");var S=this.listeners.indexOf(y);S>=0&&this.listeners.splice(S,1)}static resetListeners(){this.listeners=new Array(p)}static reset(){this.lastTraceIndex=-1}static getTraces(){if(this.lastTraceIndex<0)return[];for(var y=new Array(this.lastTraceIndex+1),S=0;S<=this.lastTraceIndex;S++)y[S]=this.traces[S];return y}static disableDefaultListener(){this.removeListener(p)}static enableDefaultListener(){this.addListener(p)}static logTraceInternal(y){this.lastTraceIndex+1>=1e3&&this.reset(),this.traces[++this.lastTraceIndex]=y;for(var S=0,h=this.listeners.length;S<h;S++)this.listeners[S].logTrace(y)}}return c.traces=new Array(1e3),c.lastTraceIndex=-1,c.listeners=new Array(p),c})();(0,i.kx)().Trace=m},903165:function(ve,j,e){e.d(j,{X:function(){return r}});var r=(()=>{class i{constructor(t,l,g,n,p){this.text=t,this.type=l,this.sessionId=g,this.requestId=n,this.timeStamp=new Date,this.additionalInfo=p}toString(){var t="";return t+=`${i.traceTypeStrings[this.type]} (${this.timeStamp.toUTCString()}): ${this.text}`,this.requestId&&(t+="\n(Request id: "+this.requestId+")"),this.additionalInfo&&(t+="\nAdditional info: "+JSON.stringify(this.additionalInfo)),t}}return i.traceTypeStrings=["INFORMATION","VERBOSE","WARNING","ERROR","EXPECTEDERROR","UNEXPECTEDERROR","FATAL"],i})()},550888:function(ve,j,e){e.d(j,{U:function(){return r}});var r=function(i){return i[i.Information=0]="Information",i[i.Verbose=1]="Verbose",i[i.Warning=2]="Warning",i[i.Error=3]="Error",i[i.ExpectedError=4]="ExpectedError",i[i.UnexpectedError=5]="UnexpectedError",i[i.Fatal=6]="Fatal",i}({})},994069:function(ve,j,e){e.d(j,{Gg:function(){return i},ZA:function(){return r},dp:function(){return a},yR:function(){return t}});class r{constructor(){this.success=!0}check(g,n,p){if(n(g))return p(g);this.success=!1}static check(g){var n=new r;return g(n),n.success}}function i(l){return!!l}function a(l){return g=>i(g)&&g.length===l}function t(l){return l}},113244:function(ve,j,e){e.d(j,{o:function(){return i}});var r=new Set(["string","number","boolean","any"]);function i(a){var t=/^(\w+)(\[\])?/.exec(a);if(t&&r.has(t[1]))return{primitive:t[1],isArray:!!t[2]}}},630881:function(ve,j,e){e.d(j,{DW:function(){return r},EP:function(){return l},Gt:function(){return s},Gz:function(){return C},KE:function(){return c},Ky:function(){return a},Li:function(){return h},Lv:function(){return n},MI:function(){return m},NI:function(){return g},OI:function(){return d},Pf:function(){return o},SU:function(){return y},X6:function(){return u},fv:function(){return S},j:function(){return f},ps:function(){return v},su:function(){return t},u3:function(){return i},wO:function(){return p}});var r=function(b){return b[b.Grouping=0]="Grouping",b[b.Measure=1]="Measure",b[b.GroupingOrMeasure=2]="GroupingOrMeasure",b}({}),i=function(b){return b[b.Measure=0]="Measure",b[b.Grouping=1]="Grouping",b}({}),a=function(b){return b[b.Immediate=0]="Immediate",b[b.Deferred=1]="Deferred",b[b.MetadataOnly=2]="MetadataOnly",b}({}),t=function(b){return b[b.Create=0]="Create",b[b.Append=1]="Append",b[b.Segment=2]="Segment",b[b.None=3]="None",b}({}),l=function(b){return b[b.Data=2]="Data",b[b.Resize=4]="Resize",b[b.ViewMode=8]="ViewMode",b[b.Style=16]="Style",b[b.ResizeEnd=32]="ResizeEnd",b[b.FormattingSubSelectionChange=64]="FormattingSubSelectionChange",b[b.FormatModeChange=128]="FormatModeChange",b[b.FilterOptionsChange=256]="FilterOptionsChange",b[b.All=510]="All",b}({}),g=function(b){return{}}(),n=function(b){return b[b.X=0]="X",b[b.Y=1]="Y",b}({}),p=function(b){return b[b.View=0]="View",b[b.Edit=1]="Edit",b[b.InFocusEdit=2]="InFocusEdit",b}({}),s=function(b){return b[b.Default=0]="Default",b[b.Advanced=1]="Advanced",b}({}),d=function(b){return b[b.NotSupported=0]="NotSupported",b[b.SupportedNoAction=1]="SupportedNoAction",b[b.SupportedInFocus=2]="SupportedInFocus",b}({}),o=function(b){return b[b.Resizing=1]="Resizing",b[b.Resized=2]="Resized",b}({}),v=function(b){return b[b.None=0]="None",b}({}),m=function(b){return b[b.Selection=0]="Selection",b[b.None=1]="None",b}({}),c=function(b){return b[b.RenderStarted=0]="RenderStarted",b[b.RenderCompleted=1]="RenderCompleted",b[b.Trace=2]="Trace",b[b.Error=3]="Error",b}({}),C=function(b){return b[b.merge=0]="merge",b[b.remove=1]="remove",b}({}),y=function(b){return b[b.Up=1]="Up",b[b.Down=2]="Down",b[b.MoveToNextlevel=3]="MoveToNextlevel",b}({}),S=function(b){return b[b.Formatting=1]="Formatting",b[b.Analytics=2]="Analytics",b}({}),h=function(b){return b[b.Close=0]="Close",b[b.OK=1]="OK",b[b.Cancel=2]="Cancel",b[b.Continue=3]="Continue",b[b.No=4]="No",b[b.Yes=5]="Yes",b}({}),u=function(b){return b[b.General=0]="General",b[b.UnsupportedEnv=1]="UnsupportedEnv",b[b.VisualIsBlocked=2]="VisualIsBlocked",b}({}),f=function(b){return b.Top="Top",b.Bottom="Bottom",b}({})},246626:function(ve,j,e){e.d(j,{i:function(){return r}});var r=function(i){return i[i.Single=0]="Single",i[i.Union=1]="Union",i[i.Intersection=2]="Intersection",i[i.Difference=3]="Difference",i}({})},387864:function(ve,j,e){e.d(j,{i:function(){return r}});var r=function(i){return i[i.RoleWildcard=0]="RoleWildcard",i[i.ScopeIdentity=1]="ScopeIdentity",i[i.ScopeTotal=2]="ScopeTotal",i[i.ScopeWildcard=3]="ScopeWildcard",i[i.Wildcard=4]="Wildcard",i}({})},149356:function(ve,j,e){e.d(j,{F:function(){return r}});var r=function(i){return i[i.None=0]="None",i[i.Before=1]="Before",i[i.After=2]="After",i}({})},179658:function(ve,j,e){e.d(j,{DG:function(){return a},Xt:function(){return r},iG:function(){return i}});var r=function(t){return t[t.None=0]="None",t[t.Before=1]="Before",t[t.After=2]="After",t[t.BeforeAndAfter=3]="BeforeAndAfter",t}({}),i=function(t){return t[t.None=0]="None",t[t.Log=1]="Log",t}({}),a=function(t){return t[t.WhatIf=0]="WhatIf",t[t.MParameters=1]="MParameters",t[t.Field=2]="Field",t}({})},824282:function(ve,j,e){e.d(j,{v:function(){return r}});var r=function(i){return i[i.InstancesAndTotals=0]="InstancesAndTotals",i[i.InstancesOnly=1]="InstancesOnly",i[i.TotalsOnly=2]="TotalsOnly",i}({})},652472:function(ve,j,e){e.d(j,{X:function(){return r}});var r=function(i){return i[i.AdvFilter=1]="AdvFilter",i[i.RelativeDateFilter=2]="RelativeDateFilter",i[i.IdentityFilter=3]="IdentityFilter",i[i.TopNFilter=4]="TopNFilter",i[i.TupleFilter=5]="TupleFilter",i[i.HierarchyIdentityFilter=6]="HierarchyIdentityFilter",i}({})},296841:function(ve,j,e){e.d(j,{X:function(){return r},e:function(){return i}});var r=function(a){return a[a.ValuesOnly=0]="ValuesOnly",a[a.ValuesAndHighlight=1]="ValuesAndHighlight",a[a.HighlightsOrValues=2]="HighlightsOrValues",a}({}),i=function(a){return a[a.Full=0]="Full",a[a.Partial=1]="Partial",a}({})},171150:function(ve,j,e){e.d(j,{I:function(){return r}});var r=function(i){return i[i.Column=0]="Column",i[i.Measure=1]="Measure",i}({})},17372:function(ve,j,e){e.d(j,{C2:function(){return r},Zb:function(){return a},yb:function(){return i}});var r=function(t){return t[t.Desktop=1]="Desktop",t[t.ExploreHost=2]="ExploreHost",t[t.Providers=4]="Providers",t[t.Web=8]="Web",t[t.WindowsApp=16]="WindowsApp",t[t.DashboardHost=32]="DashboardHost",t[t.StandaloneDashboardHost=128]="StandaloneDashboardHost",t[t.StandaloneReportHost=256]="StandaloneReportHost",t[t.DesktopDialog=512]="DesktopDialog",t[t.AdminPortalHost=1024]="AdminPortalHost",t[t.MobileTileHost=2048]="MobileTileHost",t[t.CortanaDashboardHost=4096]="CortanaDashboardHost",t[t.EmbedHost=8192]="EmbedHost",t[t.SharepointHost=16384]="SharepointHost",t[t.OneDrive=32768]="OneDrive",t[t.Loop=65536]="Loop",t[t.OfficeAddInHost=131072]="OfficeAddInHost",t[t.QuickCreate=262144]="QuickCreate",t[t.ReportExtensions=524288]="ReportExtensions",t[t.ExportDashboardHost=1048576]="ExportDashboardHost",t[t.MetricSet=2097152]="MetricSet",t[t.Dashboard=4194304]="Dashboard",t[t.All=8388607]="All",t}({}),i=function(t){return t[t.Web=1]="Web",t[t.PublishToWeb=2]="PublishToWeb",t[t.Desktop=4]="Desktop",t[t.Embed=8]="Embed",t[t.ReportServer=16]="ReportServer",t[t.ExportReportHost=32]="ExportReportHost",t[t.Mobile=64]="Mobile",t[t.DashboardHost=128]="DashboardHost",t[t.Unknown=256]="Unknown",t}({}),a=function(t){return t[t.PaaSEmbed=1]="PaaSEmbed",t[t.ExportAPI=2]="ExportAPI",t[t.SaaSEmbed=4]="SaaSEmbed",t}({})},690317:function(ve,j,e){e.d(j,{$V:function(){return t},Sc:function(){return r},pz:function(){return i}});var r=function(l){return l.Callout="callout",l.Highlight="highlight",l}({});function i(l){return l.annotationType===r.Callout}function t(l){return!!l.callout}},50772:function(ve,j,e){e.d(j,{T:function(){return i},_:function(){return r}});var r=function(a){return a.Before="Before",a.After="After",a.IconOnly="IconOnly",a}({}),i=function(a){return a.Top="Top",a.Middle="Middle",a.Bottom="Bottom",a}({})},553962:function(ve,j,e){e.d(j,{q:function(){return r}});var r=function(i){return i.AnnotationTemplate="AnnotationTemplate",i.Icon="Icon",i.ExprList="ExprList",i.ErrorRange="ErrorRange",i.ItemLocation="ItemLocation",i}({})},32077:function(ve,j,e){e.d(j,{o:function(){return r}});var r=function(i){return i[i.Numeric=256]="Numeric",i[i.Temporal=512]="Temporal",i[i.Geography=1024]="Geography",i[i.Miscellaneous=2048]="Miscellaneous",i[i.Formatting=4096]="Formatting",i[i.Scripting=8192]="Scripting",i[i.Reference=16384]="Reference",i[i.Null=0]="Null",i[i.Text=1]="Text",i[i.Decimal=258]="Decimal",i[i.Double=259]="Double",i[i.Integer=260]="Integer",i[i.Boolean=5]="Boolean",i[i.Date=518]="Date",i[i.DateTime=519]="DateTime",i[i.DateTimeZone=520]="DateTimeZone",i[i.Time=521]="Time",i[i.Duration=10]="Duration",i[i.Binary=11]="Binary",i[i.None=12]="None",i[i.Variant=13]="Variant",i[i.Json=14]="Json",i[i.Years=66048]="Years",i[i.Years_Text=66049]="Years_Text",i[i.Years_Integer=66308]="Years_Integer",i[i.Years_Date=66054]="Years_Date",i[i.Years_DateTime=66055]="Years_DateTime",i[i.Months=131584]="Months",i[i.Months_Text=131585]="Months_Text",i[i.Months_Integer=131844]="Months_Integer",i[i.Months_Date=131590]="Months_Date",i[i.Months_DateTime=131591]="Months_DateTime",i[i.PaddedDateTableDates=197127]="PaddedDateTableDates",i[i.Quarters=262656]="Quarters",i[i.Quarters_Text=262657]="Quarters_Text",i[i.Quarters_Integer=262916]="Quarters_Integer",i[i.Quarters_Date=262662]="Quarters_Date",i[i.Quarters_DateTime=262663]="Quarters_DateTime",i[i.DayOfMonth=328192]="DayOfMonth",i[i.DayOfMonth_Text=328193]="DayOfMonth_Text",i[i.DayOfMonth_Integer=328452]="DayOfMonth_Integer",i[i.DayOfMonth_Date=328198]="DayOfMonth_Date",i[i.DayOfMonth_DateTime=328199]="DayOfMonth_DateTime",i[i.Address=6554625]="Address",i[i.City=6620161]="City",i[i.Continent=6685697]="Continent",i[i.Country=6751233]="Country",i[i.County=6816769]="County",i[i.Region=6882305]="Region",i[i.PostalCode=6947840]="PostalCode",i[i.PostalCode_Text=6947841]="PostalCode_Text",i[i.PostalCode_Integer=6948100]="PostalCode_Integer",i[i.StateOrProvince=7013377]="StateOrProvince",i[i.Place=7078913]="Place",i[i.Latitude=7144448]="Latitude",i[i.Latitude_Decimal=7144706]="Latitude_Decimal",i[i.Latitude_Double=7144707]="Latitude_Double",i[i.Longitude=7209984]="Longitude",i[i.Longitude_Decimal=7210242]="Longitude_Decimal",i[i.Longitude_Double=7210243]="Longitude_Double",i[i.Image=13109259]="Image",i[i.ImageUrl=13174785]="ImageUrl",i[i.WebUrl=13240321]="WebUrl",i[i.Barcode=13305856]="Barcode",i[i.Barcode_Text=13305857]="Barcode_Text",i[i.Barcode_Integer=13306116]="Barcode_Integer",i[i.Sparkline=13371406]="Sparkline",i[i.Color=19664897]="Color",i[i.FormatString=19730433]="FormatString",i[i.Alignment=20058113]="Alignment",i[i.LabelDisplayUnits=20123649]="LabelDisplayUnits",i[i.FontSize=20189443]="FontSize",i[i.FontFamily=20385793]="FontFamily",i[i.AltText=20451329]="AltText",i[i.DisplayUnitsWithoutAuto=20516865]="DisplayUnitsWithoutAuto",i[i.StylePreset=20582401]="StylePreset",i[i.DashArray=20647937]="DashArray",i[i.Enumeration=26214401]="Enumeration",i[i.FlagsEnumeration=26280196]="FlagsEnumeration",i[i.ScriptSource=32776193]="ScriptSource",i[i.SearchEnabled=65541]="SearchEnabled",i[i.BookmarkRef=39337985]="BookmarkRef",i[i.SectionRef=39403521]="SectionRef",i[i.PerspectiveRef=39469057]="PerspectiveRef",i[i.BookmarkGroupRef=39534593]="BookmarkGroupRef",i[i.RowRefText=39600129]="RowRefText",i}({})},33199:function(ve,j,e){e.d(j,{e:function(){return i},t:function(){return r}});var r=function(a){return a[a.Color=0]="Color",a[a.GroupInPlace=1]="GroupInPlace",a}({}),i=function(a){return a.Group="group",a.Img="img",a.Button="button",a}({})},670589:function(ve,j,e){e.d(j,{M:function(){return r}});var r=function(i){return i[i.Constant=1]="Constant",i[i.Rule=2]="Rule",i[i.ConstantOrRule=3]="ConstantOrRule",i}({})},848347:function(ve,j,e){e.d(j,{$Z:function(){return p},Hx:function(){return l},IM:function(){return r},OG:function(){return t},Rb:function(){return a},SY:function(){return i},Vc:function(){return d},Zy:function(){return g},aS:function(){return n},gu:function(){return s}});var r=function(o){return o.Card="card",o.Group="group",o.Slice="slice",o}({}),i=function(o){return o.Host="host",o.Visual="visual",o}({}),a=function(o){return o.Actions="actions",o.Title="title",o.SizeAndStyle="sizeAndStyle",o.StylePreset="stylePreset",o}({}),t=function(o){return o.StylePreset="stylePreset",o}({}),l=function(o){return o.DataVolume="dataVolume",o.Responsive="responsive",o}({}),g=function(o){return o.AdvancedFieldPicker="AdvancedFieldPicker",o.AlignmentGroup="AlignmentGroup",o.ColorPicker="ColorPicker",o.ConditionalFormattingControl="ConditionalFormattingControl",o.DatePicker="DatePicker",o.Dropdown="Dropdown",o.DurationPicker="DurationPicker",o.EmptyControl="EmptyControl",o.ErrorRangeControl="ErrorRangeControl",o.FieldPicker="FieldPicker",o.FlagsSelection="FlagsSelection",o.FontControl="FontControl",o.FontPicker="FontPicker",o.GradientBar="GradientBar",o.ImageUpload="ImageUpload",o.Link="Link",o.ListEditor="ListEditor",o.MarginPadding="MarginPadding",o.NumUpDown="NumUpDown",o.ReadOnlyText="ReadOnlyText",o.SeriesDialogLink="SeriesDialogLink",o.ShapeMapSelector="ShapeMapSelector",o.Slider="Slider",o.TextArea="TextArea",o.TextInput="TextInput",o.ToggleSwitch="ToggleSwitch",o}({}),n=function(o){return o[o.Min=0]="Min",o[o.Max=1]="Max",o[o.Required=2]="Required",o[o.Pattern=3]="Pattern",o[o.DashArray=4]="DashArray",o[o.MaxLength=5]="MaxLength",o}({}),p=function(o){return o[o.Value=0]="Value",o[o.Title=1]="Title",o[o.Detail=2]="Detail",o}({}),s=function(o){return o[o.AllDynamicSeries=0]="AllDynamicSeries",o[o.DynamicSeries=1]="DynamicSeries",o[o.AllMultipleStaticSeries=2]="AllMultipleStaticSeries",o[o.MultipleStaticSeries=3]="MultipleStaticSeries",o[o.SingleStaticSeries=4]="SingleStaticSeries",o}({}),d=function(o){return o.Horizonal="horizontalAlignment",o.Vertical="verticalAlignment",o}({})},621083:function(ve,j,e){e.d(j,{$I:function(){return u},B3:function(){return r},BD:function(){return d},BG:function(){return V},CT:function(){return m},Cg:function(){return c},Fv:function(){return l},HE:function(){return n},HP:function(){return C},JJ:function(){return M},Kd:function(){return y},MC:function(){return i},MD:function(){return a},O4:function(){return f},Pd:function(){return p},Ru:function(){return t},UI:function(){return v},Un:function(){return P},Ve:function(){return s},ZJ:function(){return S},Zg:function(){return o},cv:function(){return g},dG:function(){return h},iP:function(){return E},jt:function(){return T},mE:function(){return D},wn:function(){return b},yY:function(){return w}});var r=function(A){return A[A.Cartesian=1]="Cartesian",A[A.Hierarchical=2]="Hierarchical",A[A.Scatter=3]="Scatter",A[A.KeyDrivers=4]="KeyDrivers",A[A.KPI=5]="KPI",A}({}),i=function(A){return A[A.None=0]="None",A[A.DiscreteCategory=1]="DiscreteCategory",A[A.ContinuousCategory=2]="ContinuousCategory",A[A.Value=3]="Value",A[A.ConstantValue=4]="ConstantValue",A}({}),a=function(A){return A[A.None=0]="None",A[A.Analyze=1]="Analyze",A[A.ExpandBy=2]="ExpandBy",A[A.ExplainBy=3]="ExplainBy",A[A.PrimaryKey=4]="PrimaryKey",A[A.Count=5]="Count",A[A.TargetValue=6]="TargetValue",A[A.Sensitivity=7]="Sensitivity",A[A.MinimumValue=8]="MinimumValue",A[A.MaximumValue=9]="MaximumValue",A}({}),t=function(A){return A[A.UnrecognizedAxisType=1]="UnrecognizedAxisType",A[A.NoValidBindings=2]="NoValidBindings",A}({}),l=function(A){return A[A.NoValidBindings=1]="NoValidBindings",A}({}),g=function(A){return A[A.Filters=0]="Filters",A}({}),n=function(A){return A.SASToken="sasToken",A}({}),p=function(A){return A[A.BingMaps=0]="BingMaps",A[A.AzureMaps=1]="AzureMaps",A}({}),s=function(A){return A[A.CanvasTooltip=0]="CanvasTooltip",A[A.DrillThrough=1]="DrillThrough",A}({}),d=function(A){return A[A.DataPointSelection=0]="DataPointSelection",A[A.FormattingSubSelection=1]="FormattingSubSelection",A}({}),o=function(A){return A.Bookmark="Bookmark",A.PageNavigation="PageNavigation",A.ApplyAllSlicers="ApplyAllSlicers",A.ClearAllSlicers="ClearAllSlicers",A}({}),v=function(A){return A[A.Item=0]="Item",A[A.Separator=1]="Separator",A[A.Title=2]="Title",A}({}),m=function(A){return A.Insights="glyphicon pbi-glyph-insight glyph-small",A}({}),c=function(A){return A.PPE="PPE",A.COM="COM",A.CN="CN",A.GCC="GCC",A.GCCHIGH="GCCHIGH",A.DOD="DOD",A}({}),C=function(A){return A.UndefinedToken="UndefinedToken",A.UnrecognizedCode="UnrecognizedCode",A.UserNotSignedIn="UserNotSignedIn",A.RequestError="RequestError",A}({}),y=function(A){return A[A.Outline=0]="Outline",A[A.Vertical=1]="Vertical",A[A.HorizontalCentered=2]="HorizontalCentered",A[A.HorizontalLeft=3]="HorizontalLeft",A}({}),S=function(A){return A[A.Group=0]="Group",A[A.Rectangle=1]="Rectangle",A[A.Line=2]="Line",A[A.Polygon=3]="Polygon",A[A.Arc=4]="Arc",A}({}),h=function(A){return A[A.None=0]="None",A[A.Hover=1]="Hover",A[A.Active=2]="Active",A}({}),E=function(A){return A[A.Down=0]="Down",A[A.Up=1]="Up",A}({}),u=function(A){return A[A.Navigate=0]="Navigate",A[A.NavigateAndRaiseEvent=1]="NavigateAndRaiseEvent",A[A.RaiseEvent=2]="RaiseEvent",A}({}),f=function(A){return A[A.Single=0]="Single",A[A.Multiple=1]="Multiple",A}({}),b=function(A){return A.Dark="darkTheme",A.Light="lightTheme",A.NeutralGray="neutralGrayTheme",A}({}),V=function(A){return A.Overlayed="overlayedToolbar",A.Stacked="stackedToolbar",A}({}),T=function(A){return A[A.Center=0]="Center",A[A.RelativeToVisual=1]="RelativeToVisual",A}({}),P=function(A){return A[A.Allowed=0]="Allowed",A[A.NotDeclared=1]="NotDeclared",A[A.NotSupported=2]="NotSupported",A[A.DisabledByAdmin=3]="DisabledByAdmin",A}({}),D=function(A){return A[A.Default=0]="Default",A[A.SubSelection=1]="SubSelection",A}({}),w=function(A){return A[A.Tile=0]="Tile",A[A.List=1]="List",A}({}),M=function(A){return A.Callout="callout",A.Highlight="highlight",A}({})},882383:function(ve,j,e){e.d(j,{F:function(){return r}});var r=function(i){return i[i.File=0]="File",i[i.OrgStore=1]="OrgStore",i[i.AppSource=2]="AppSource",i[i.Default=3]="Default",i}({})},449091:function(ve,j,e){e.d(j,{NK:function(){return a},VC:function(){return r},ZM:function(){return i},_Y:function(){return t},sl:function(){return l}});var r=function(g){return g[g.Clamp=0]="Clamp",g[g.Clip=1]="Clip",g}({}),i=function(g){return g.ContextMenu="contextmenu",g}({}),a=function(g){return g.Border="border",g.Grid="grid",g}({}),t=function(g){return g[g.None=0]="None",g[g.Text=1]="Text",g[g.NumericText=2]="NumericText",g[g.Shape=3]="Shape",g}({}),l=function(g){return g[g.Reset=0]="Reset",g[g.Navigate=1]="Navigate",g[g.Toggle=2]="Toggle",g[g.Picker=3]="Picker",g[g.Sort=4]="Sort",g[g.CustomAction=5]="CustomAction",g[g.ConditionalFormatting=6]="ConditionalFormatting",g[g.Divider=7]="Divider",g[g.SubMenu=8]="SubMenu",g[g.SetValue=9]="SetValue",g[g.ResetAllSettings=10]="ResetAllSettings",g}({})},716049:function(ve,j,e){e.d(j,{Z:function(){return a},y:function(){return t}});var r=e(650543),i=e(468131),a=(()=>{class l{}return l.NATURAL_LANGUAGE="NaturalLanguage",l})();class t{constructor(g){if(this.version=g.version,this.kind=g.kind,g.kind!==a.NATURAL_LANGUAGE)throw new TypeError("EditorState could not be instantiate to a defined kind.");var n=g.version;n===i.T.V01?this.annotation={description:g.annotation.description,isAutoGenerated:g.annotation.isAutoGenerated,name:g.annotation.name,references:g.annotation.references,utterance:g.annotation.utterance}:r.f.assertNever(n)}}},590212:function(ve,j,e){e.d(j,{c:function(){return a},q:function(){return t}});var r=e(468131),i=e(716049),a=r.T.V01;function t(l,g){return g===i.Z.NATURAL_LANGUAGE}},468131:function(ve,j,e){e.d(j,{T:function(){return r}});var r=function(i){return i[i.V01=1]="V01",i}({})},702730:function(ve,j,e){e.d(j,{Wt:function(){return l},lb:function(){return t},ud:function(){return a}});var r=e(959484),i=e(650543);class a{findProperty(n,p){var s=this.entities.withName(n);if(s&&!_.isEmpty(s.properties))return s.properties.withName(p)}get isExtensionSchema(){return this.hasOwnProperty("extends")}findHierarchy(n,p){var s=this.entities.withName(n);if(s&&!_.isEmpty(s.hierarchies))return s.hierarchies.withName(p)}findHierarchyLevel(n,p,s){var d=this.entities.withName(n);if(d&&!_.isEmpty(d.hierarchies)){var o=d.hierarchies.withName(p);if(o&&!_.isEmpty(o.levels))return o.levels.withName(s)}}findHierarchyByVariation(n,p,s,d){var o=this.findTargetEntityOfVariation(n,p,s);if(o&&!_.isEmpty(o.hierarchies))return o.hierarchies.withName(d)}findTargetEntityOfVariation(n,p,s){var d=this.entities.withName(n);if(d&&!_.isEmpty(d.properties)){var o=d.properties.withName(p);if(o){var v=o.column;if(v&&!_.isEmpty(v.variations)){var m=v.variations.withName(s);if(m)return m.navigationProperty?m.navigationProperty.targetEntity:d}}}}findPropertyWithKpi(n,p){i.f.assertValue(p,"kpiProperty");var s=this.entities.withName(n);if(s&&!_.isEmpty(s.properties))for(var d of s.properties)if(d&&d.measure&&d.measure.kpi&&(d.measure.kpi.status===p||d.measure.kpi.goal===p))return d}findVariationMappings(n){return this.variationMappings||(this.variationMappings=this.buildVariationMappings()),this.variationMappings[n]}findVariationToHierarchyMappings(n){var p=this.findVariationMappings(n);return _.filter(p,s=>s.variation.defaultHierarchy)}findTableNameFromMeasureName(n){return this.measureNameToTableName||(this.measureNameToTableName=this.buildMeasureNameToTableNameMappings()),this.measureNameToTableName[n]}get isMultiDimensionalModel(){return this.capabilities&&this.capabilities.normalizedFiveStateKpiRange}buildVariationMappings(){var n={};return _(this.entities).filter(p=>p.properties).forEach(p=>{_(p.properties).filter(s=>s.column&&s.column.variations).forEach(s=>{_(s.column.variations).filter(d=>d.navigationProperty&&d.navigationProperty.targetEntity).forEach(d=>{var o=d.navigationProperty.targetEntity.name,v=n[o];v||(n[o]=v=[]),v.push({sourceEntity:p,sourceProperty:s,variation:d})})})}),n}buildMeasureNameToTableNameMappings(){var n={};for(var p of this.entities){var s=function(o){o.measure&&(i.f.assert(()=>!n[o.name],`there is a collision for ${o.name}; every measure has a unqiue name in the model`),n[o.name]=p.name)};for(var d of p.properties)s(d)}return n}}function t(g){switch(g){case r.w.None:return"None";case r.w.Address:return"Address";case r.w.City:return"City";case r.w.Company:return"Company";case r.w.Continent:return"Continent";case r.w.Country:return"Country";case r.w.County:return"County";case r.w.Date:return"Date";case r.w.Image:return"Image";case r.w.ImageUrl:return"ImageUrl";case r.w.Latitude:return"Latitude";case r.w.Longitude:return"Longitude";case r.w.Organization:return"Organization";case r.w.Place:return"Place";case r.w.PostalCode:return"PostalCode";case r.w.Product:return"Product";case r.w.StateOrProvince:return"StateOrProvince";case r.w.WebUrl:return"WebUrl"}}function l(g){switch(g){case"None":return r.w.None;case"Address":return r.w.Address;case"City":return r.w.City;case"Company":return r.w.Company;case"Continent":return r.w.Continent;case"Country":return r.w.Country;case"County":return r.w.County;case"Date":return r.w.Date;case"Image":return r.w.Image;case"ImageUrl":return r.w.ImageUrl;case"Latitude":return r.w.Latitude;case"Longitude":return r.w.Longitude;case"Organization":return r.w.Organization;case"Place":return r.w.Place;case"PostalCode":return r.w.PostalCode;case"Product":return r.w.Product;case"StateOrProvince":return r.w.StateOrProvince;case"WebUrl":return r.w.WebUrl}}},173775:function(ve,j,e){e.d(j,{P:function(){return a}});var r=e(179658),i=function(l){return l[l.None=0]="None",l[l.Log=1]="Log",l}({});function a(l,g){if(l){var n;if(l.top&&(n={Top:{}},l.top.count&&(n.Top.Count=l.top.count)),l.bottom&&(n={Bottom:{}},l.bottom.count&&(n.Bottom.Count=l.bottom.count)),l.sample&&(n={Sample:{}},l.sample.count&&(n.Sample.Count=l.sample.count)),l.window&&(n={Window:{}},l.window.count&&(n.Window.Count=l.window.count)),l.binnedLineSample&&(n={BinnedLineSample:{}},null!=l.binnedLineSample.primaryScalarKey&&(n.BinnedLineSample.PrimaryScalarKey=l.binnedLineSample.primaryScalarKey),l.binnedLineSample.count&&(n.BinnedLineSample.Count=l.binnedLineSample.count),l.binnedLineSample.warningCount&&(n.BinnedLineSample.WarningCount=l.binnedLineSample.warningCount)),l.overlappingPointsSample){var p=l.overlappingPointsSample;n={OverlappingPointsSample:{}},p.count&&(n.OverlappingPointsSample.Count=p.count);var s=p.x;s&&1===_.size(s.role.items)&&(n.OverlappingPointsSample.X=t(g,s.role.items[0].queryName,s.transform));var d=p.y;d&&1===_.size(d.role.items)&&(n.OverlappingPointsSample.Y=t(g,d.role.items[0].queryName,d.transform))}return l.topNPerLevel&&(n={TopNPerLevel:{Count:l.topNPerLevel.count}}),n}}function t(l,g,n){var p={Index:_.findIndex(l,s=>s.name===g)};return n&&n===r.iG.Log&&(p.Transform=i.Log),p}},537830:function(ve,j,e){e.d(j,{Ns:function(){return S},k4:function(){return y},od:function(){return m},s0:function(){return c}});var r=e(60978),i=e(426313),a=e(999787),t=e(990297),l=e(650543),g=e(402623),n=e(442407),p=e(191282);function s(h,E,u){(0,r.un)(h)?(d(u),s(h.left,E,u.left),s(h.right,E,u.right)):(0,r.$Q)(h)?(l.f.assert(()=>(0,r.Lk)(h.left)||(0,r.kb)(h.left)||(0,r.t3)(h.left)||(0,r.iV)(h.left),"expression.left should be fieldRef: entity/measure/column/aggregate"),d(u,h.left),l.f.assert(()=>(0,r.VC)(h.right),"expression.right should be constant"),E.push(h.right)):l.f.assertFail("identities should consists of COMPARE, AND, and should not reach to fieldRef(ENTITY/MEASURE/COLUMN/AGGREGATE) and CONSTANT exprs")}function d(h,E){E?h.value=E:(h.left={},h.right={})}function o(h,E){return!(!h||!E)&&(h.left&&h.right?!(!E.left||!E.right)&&o(h.left,E.left)&&o(h.right,E.right):h.value?!!E.value&&(0,i.fS)(h.value,E.value):(l.f.assertFail("CompareTreeNode failed, invalid tree structure"),!1))}function v(h){if((0,p.yN)(h))return h.expr;l.f.assertFail("selectors should be scoped identities")}function m(h){if(l.f.assertValue(h,"selectorsByColumnArray"),h){var E={},u=[],f=[],b=[],V=[],T=[],P=[];for(var D of h){var w=[],M={};if(P.push(D.id),T.push(D.metadata),D.dataMap){for(var A in D.dataMap){var R=(0,t.rY)(D.dataMap[A]);for(var B of R){var N={},W=[],F={},U=_.indexOf(b,A);U<0&&(b.push(A),U=b.length-1),s(v(B),W,F);for(var O=-1,x=0;x<f.length;x++)if(o(F,f[x])){O=x;break}O<0&&(f.push(F),O=f.length-1),N[O]=W,M[U]=M[U]||[],M[U].push(O),w.push(N)}}V.push(M),u.push(w)}}return!_.isEmpty(u)&&!_.isEmpty(u)&&(E.decomposedIdentities={values:u,columns:f}),!_.isEmpty(b)&&!_.isEmpty(V)&&(E.queryNames=b,E.queryNameMap=V),_.some(T,L=>!!L)&&(E.metadata=T),_.some(P,L=>!!L)&&(E.id=P),E}}function c(h){if(l.f.assertValue(h,"filterExpressionMetadata"),h){var E={expressions:h.expressions},u=[],f=[],b=[];if(h.cachedValueItems){for(var V of h.cachedValueItems){b.push(V.valueMap);var T=[];for(var P of V.identities){var D={},w=[],M={};s(v(P),w,D);for(var A=-1,R=0;R<f.length;R++)if(o(D,f[R])){A=R;break}A<0&&(f.push(D),A=f.length-1),M[A]=w,T.push(M)}u.push(T)}E.decomposedIdentities={values:u,columns:f},E.valueMap=b}return E}}function C(h,E,u){if(E.left&&E.right){var f=C(h,E.left,u),b=C(h,E.right,u);return(0,n.xD)(f,b)}if(E.value){var V=E.value,T=h[u.index++];return l.f.assert(()=>(0,r.Lk)(V)||(0,r.kb)(V)||(0,r.t3)(V)||(0,r.iV)(V),"expression.left should be fieldRef: entity/measure/column/aggregate"),l.f.assert(()=>(0,r.VC)(T),"expression.right should be constant"),(0,n.qu)(a.uu.Equal,V,T)}l.f.assertFail("DecomposedTree should either have left and right Tree, or a valid value")}function y(h){if(l.f.assertValue(h,"decomposedSelectors"),h){var E=[],u=h.decomposedIdentities&&h.decomposedIdentities.values,f=h.decomposedIdentities&&h.decomposedIdentities.columns,b=h.queryNames,V=h.queryNameMap;if(u&&f)for(var T=0;T<u.length;T++){var P=u[T],D={dataMap:{}};D.metadata=h.metadata&&h.metadata[T],D.id=h.id&&h.id[T];var w=V[T];for(var M of P){var A=_.keys(M);for(var R of A){var B=_.toNumber(R);for(var N in w){var W=w[N];if(_.indexOf(W,B)>=0){var F=b[N],x=C(M[B],f[B],{index:0}),I=(0,g.TZ)(x);D.dataMap[F]=D.dataMap[F]||[],D.dataMap[F].push(I),_.pull(W,B);break}}}}E.push(D)}else{if(!_.isEmpty(h.metadata))for(var L of h.metadata){var K={};K.metadata=L,E.push(K)}if(!_.isEmpty(h.id))for(var z=_.isEmpty(E),H=0;H<h.id.length;H++){var k=z?{}:E[H];k.id=h.id[H],z&&E.push(k)}}return E}}function S(h){if(l.f.assertValue(h,"decomposedSelectors"),h){var E={expressions:h.expressions},u=h.decomposedIdentities&&h.decomposedIdentities.values,f=h.decomposedIdentities&&h.decomposedIdentities.columns,b=[];if(u&&f){for(var V=0;V<u.length;V++){var T=u[V],P=[];for(var D of T)for(var w in D){var R=C(D[w],f[w],{index:0}),B=(0,g.TZ)(R);P.push(B)}b.push({identities:P,valueMap:h.valueMap[V]})}_.isEmpty(b)||(E.cachedValueItems=b),h.jsonFilter&&(E.jsonFilter=h.jsonFilter)}return E}}},833059:function(ve,j,e){e.d(j,{$s:function(){return C},H5:function(){return g},Hj:function(){return h},NT:function(){return t},OT:function(){return v},Ot:function(){return r},WB:function(){return l},XS:function(){return S},Y0:function(){return y},gi:function(){return s},hl:function(){return p},jz:function(){return n},oL:function(){return d},rW:function(){return i},s3:function(){return a},yc:function(){return m}});var r=function(E){return E[E.Visible=0]="Visible",E[E.Hidden=1]="Hidden",E[E.ShowAsVariationsOnly=2]="ShowAsVariationsOnly",E[E.IsPrivate=4]="IsPrivate",E}({}),i=function(E){return E[E.Queryable=0]="Queryable",E[E.Error=1]="Error",E}({}),a=function(E){return E[E.ZeroOrOne=0]="ZeroOrOne",E[E.One=1]="One",E[E.Many=2]="Many",E}({}),t=function(E){return E[E.Column=0]="Column",E[E.Measure=1]="Measure",E[E.Kpi=2]="Kpi",E}({}),l=function(E){return E[E.Default=0]="Default",E[E.None=1]="None",E[E.Sum=2]="Sum",E[E.Count=3]="Count",E[E.Min=4]="Min",E[E.Max=5]="Max",E[E.Average=6]="Average",E[E.DistinctCount=7]="DistinctCount",E}({}),g=function(E){return E[E.Default=0]="Default",E[E.DiscourageAcrossGroups=1]="DiscourageAcrossGroups",E}({}),n=function(E){return E[E.Sum=0]="Sum",E[E.Count=1]="Count",E[E.Min=2]="Min",E[E.Max=3]="Max",E}({}),p=function(E){return E[E.Unknown=0]="Unknown",E[E.DirectQuery=1]="DirectQuery",E[E.Dual=2]="Dual",E[E.Import=3]="Import",E[E.DirectLake=4]="DirectLake",E}({}),s=function(E){return E[E.Default=0]="Default",E[E.Weak=1]="Weak",E}({}),d=function(E){return E[E.Single=0]="Single",E[E.Both=1]="Both",E}({}),v=function(E){return E[E.WhatIf=0]="WhatIf",E[E.MParameters=1]="MParameters",E[E.Field=2]="Field",E}({}),m=function(E){return E[E.Version0=0]="Version0",E[E.Version1=1]="Version1",E}({}),C=function(E){return E[E.None=0]="None",E[E.OnOrBefore=1]="OnOrBefore",E[E.OnOrAfter=2]="OnOrAfter",E[E.Before=3]="Before",E[E.After=4]="After",E}({}),y=function(E){return E[E.IsOnOrAfter=0]="IsOnOrAfter",E[E.IsAfter=1]="IsAfter",E}({}),S=function(E){return E[E.Collapsed=0]="Collapsed",E[E.Expanded=1]="Expanded",E}({}),h=function(E){return E[E.None=0]="None",E[E.Before=1]="Before",E[E.After=2]="After",E}({})},128735:function(ve,j,e){e.d(j,{D5:function(){return s},DX:function(){return S},Vt:function(){return p},cb:function(){return g},d9:function(){return n},iA:function(){return y},if:function(){return c},of:function(){return C},sz:function(){return h},wy:function(){return d}});var r=e(426313),i=e(990297),a=e(650543),t=e(827161),l=e(191282);class g{constructor(u,f={}){a.f.assertNonEmpty(u,"Empty roles"),this.roles=u,this.root={identityValues:null,children:[],parent:null},this.levels=[];var{supportsMerge:b,canCollapseRoot:V,collapseParentAfterRemovingChildLevel:T}=f;this.supportsMerge=!!b,this.canCollapseRoot=!!V,this.collapseParentAfterRemovingChildLevel=!!T}updateLevels(u,f){if(!_.isEmpty(u)&&(0!==f||this.canCollapseRoot)){a.f.assert(()=>f<=_.size(u),"Number of active projections cannot be greater than the number of projections");var b=u.length,V=this.levels;this.levels=new Array(b);for(var T=0;T<b;T++){var P=T>=f-1,D=V[T],w=[u[T]];D&&_.isEqual(D.queryRefs,w)?(this.levels[T]=D,D.isCollapsed=P):this.levels[T]={isCollapsed:P,queryRefs:w,toggledNodes:[]}}this.canCollapseRoot&&(0===f?this.root.isToggled=!0:delete this.root.isToggled),this.pinLevels(f)}}clone(){for(var u={supportsMerge:this.supportsMerge,canCollapseRoot:this.canCollapseRoot,collapseParentAfterRemovingChildLevel:this.collapseParentAfterRemovingChildLevel},f=new g(_.clone(this.roles),u),b=new Array(this.levels.length),V=0;V<this.levels.length;V++)b[V]=[];return f.levels=_.map(this.levels,(T,P)=>this.cloneExpansionLevel(T,b,P)),f.root=this.cloneExpansionNode(this.root,null,b,-1),f}isStateModified(){return _.some(this.levels,u=>!u.isCollapsed)||!_.isEmpty(this.root.children)}addLevel(u,f){a.f.assert(()=>this.supportsMerge);var b=_.findLastIndex(this.levels,M=>M.isPinned),V={isCollapsed:!0,queryRefs:[u],toggledNodes:[],isPinned:f<=b||void 0};a.f.assert(()=>f<=_.size(this.levels),"position > count of levels");for(var T=_.findIndex(this.levels,M=>!_.isEmpty(M.toggledNodes),f),D=-1===T?f:T;D<_.size(this.levels);D++)this.setLevelState(D,!0);if(this.levels.splice(f,0,V),this.unlockLevels(f),V.isPinned)for(var w=0;w<f;w++)delete this.levels[w].AIInformation}removeLevel(u){var f;a.f.assert(()=>this.supportsMerge),a.f.assert(()=>u>=0&&u<_.size(this.levels),"invalid level position"),this.collapseParentAfterRemovingChildLevel&&(f=this.getVisibleDescendentsDepth(this.root,-1)),this.removeIntermediateNodes(this.root,-1,b=>b===u),this.levels.splice(u,1),this.collapseParentAfterRemovingChildLevel&&u>0&&u===f-1&&this.setLevelState(u-1,!0),u<_.size(this.levels)&&this.unlockLevels(u)}moveLevels(u,f,b){a.f.assert(()=>this.supportsMerge),a.f.assert(()=>u<_.size(this.levels),"sourceIndex >= count of level"),a.f.assert(()=>f<_.size(this.levels),"targetIndex >= count of level");var V=_.findLastIndex(this.levels,B=>B.isPinned),T=Math.min(u,f);if(f>u){a.f.assert(()=>u+b<=_.size(this.levels),"sourceIndex + count exceeds level count"),this.removeIntermediateNodes(this.root,-1,B=>B>=u&&B<u+b);for(var P=u;P<Math.min(u+b,_.size(this.levels));P++)this.levels[P].toggledNodes=[]}var D=this.levels.splice(u,b);this.levels.splice(f,0,...D||[]);for(var w=_.findIndex(this.levels,B=>!_.isEmpty(B.toggledNodes),f),A=-1===w?f:w;A<_.size(this.levels);A++)this.setLevelState(A,!0);if(this.unlockLevels(T),u>V&&f<=V?_.forEach(D,B=>B.isPinned=!0):u<=V&&f>V&&_.forEach(D,B=>B.isPinned=!1),_.forEach(D,B=>delete B.AIInformation),this.levels[f].isPinned)for(var R=0;R<f;R++)delete this.levels[R].AIInformation}getVisibleDescendentsDepth(u,f){var b=this.levels.length;if(a.f.assert(()=>f<b,"node out of bounds"),-1===f&&this.canCollapseRoot&&u.isToggled)return 0;for(var V=[u];;){if(f===b-1)return f+1;var T=this.levels[f]&&this.levels[f].isCollapsed,P=void 0,D=[];for(var w of V)!T==!w.isToggled&&(D.push(...w.children||[]),P=!0);if(P&&f++,!(D.length>0))break;V=D}for(;f<b-1&&(-1===f||!this.levels[f].isCollapsed);)f++;return f+1}removeIntermediateNodes(u,f,b){if(b(f)){var V=!!u.isToggled!=!!this.levels[f].isCollapsed;_.pull(u.parent.children,u),_.forEach(u.children,T=>{V&&(T.isToggled=!this.levels[f+1].isCollapsed),T.parent=u.parent,u.parent.children.push(T)})}_.forEach([...u.children||[]],T=>this.removeIntermediateNodes(T,f+1,b))}cloneExpansionLevel(u,f,b){return{isCollapsed:u.isCollapsed,identityKeys:this.cloneExpressionList(u.identityKeys),queryRefs:_.clone(u.queryRefs),toggledNodes:f[b],isPinned:u.isPinned,isLocked:u.isLocked,AIInformation:u.AIInformation?{method:u.AIInformation.method,disabled:u.AIInformation.disabled}:void 0}}cloneExpansionNode(u,f,b,V){var T={identityValues:this.cloneExpressionList(u.identityValues),children:[],parent:f};for(var P of(void 0!==u.isToggled&&(T.isToggled=u.isToggled),V>=0&&b[V].push(T),u.children))T.children.push(this.cloneExpansionNode(P,T,b,V+1));return T}cloneExpressionList(u){return u?_.map(u,f=>f):null}setNodeState(u,f){if(u&&_.isEmpty(u.data))return a.f.assert(()=>this.canCollapseRoot,"Collapse to root capability is not enabled"),f?this.root.isToggled=!0:delete this.root.isToggled,this.root;var b=(0,l.CT)(u);if(b){for(var V=b.length,T=this.root,P=0;P<V;P++){var D=b[P],w=(0,t.RR)(D.expr);if(!this.ensureLevel(P,w))return;var A=(0,t.KX)(D.expr);T=this.ensureChildNode(P,T,A,P===V-1?f:void 0)}if(!this.pruneNonToggledLeaf(T))return T}}ensureLevel(u,f){var b=this.levels[u];if(a.f.assertValue(b,"level does not exist"),b.identityKeys){if(!(0,i.NF)(b.identityKeys,f,r.fS))return}else b.identityKeys=f;return b}ensureChildNode(u,f,b,V){a.f.assertValue(f,"parent"),a.f.assertValue(b,"identityValues"),a.f.assertValue(u>=0,"levelIdx >= 0");var T=this.levels[u];a.f.assertValue(T,"level does not exist");var P=this.findNodeMatchingIdentities(f.children,b);return P||f.children.push(P={children:[],identityValues:b,parent:f}),void 0!==V&&(V!==!!T.isCollapsed?(P.isToggled=!0,_.indexOf(T.toggledNodes,P)<0&&T.toggledNodes.push(P)):(delete P.isToggled,T.toggledNodes=_.filter(T.toggledNodes,D=>D!==P))),P}pruneNonToggledLeaf(u){a.f.assertValue(u,"node");for(var f=!1;u.parent&&!u.isToggled&&_.isEmpty(u.children);)u.parent.children=_.filter(u.parent.children,b=>b!==u),u=u.parent,f=!0;return f}setLevelState(u,f){if(-1===u)return a.f.assert(()=>this.canCollapseRoot,"Collapse to root capability is not enabled"),void(f?this.root.isToggled=!0:delete this.root.isToggled);a.f.assert(()=>u>-1,"levelIdx");var b=this.levels[u];if(b){for(var V of(b.isCollapsed=f,b.toggledNodes))delete V.isToggled,this.pruneNonToggledLeaf(V);b.toggledNodes=[]}}pinLevels(u){a.f.assert(()=>u<=_.size(this.levels),"Requested pinning of too many levels");for(var f=0;f<Math.min(u,_.size(this.levels));f++)this.levels[f].isPinned=!0}unpinLevels(u){a.f.assert(()=>u<_.size(this.levels),"Level does not exist");var f=this.getVisibleDescendentsDepth(this.root,-1);a.f.assert(()=>u>=f-1,"cannot unpin projected level");for(var b=Math.max(u,f-1);b<_.size(this.levels);b++)delete this.levels[b].isPinned}lockLevels(u){a.f.assert(()=>u<=_.size(this.levels),"Requested locking of too many levels");for(var f=0;f<Math.min(u,_.size(this.levels));f++)this.levels[f].isLocked=!0}unlockLevels(u){a.f.assert(()=>u<_.size(this.levels),"Level does not exist");for(var f=u;f<_.size(this.levels);f++)delete this.levels[f].isLocked}setAILevelInformation(u,f){a.f.assert(()=>u<_.size(this.levels),"Level does not exist"),f?this.levels[u].AIInformation=_.cloneDeep(f):delete this.levels[u].AIInformation}getAILevelInformation(u){return a.f.assert(()=>u<_.size(this.levels),"Level does not exist"),_.cloneDeep(this.levels[u].AIInformation)}isWholeLevelExpanded(u){var f=this.levels[u];return!f||!f.isCollapsed&&_.isEmpty(f.toggledNodes)}isHierarchyExpanded(){a.f.assertNonEmpty(this.levels,"levels"),a.f.assert(()=>this.isWholeLevelCollapsed(this.levels.length-1),"Last level should be collapsed");for(var u=0;u<this.levels.length-1;u++)if(!this.isWholeLevelExpanded(u))return!1;return!0}isWholeLevelCollapsed(u){var f=this.levels[u];return f&&f.isCollapsed&&_.isEmpty(f.toggledNodes)}getNodeLevelState(u,f,b){if(a.f.assertNonEmpty(u,"identities"),a.f.assert(()=>b>=0,"levelIndex >= 0"),b>=this.levels.length)return{isNodeCollapsed:!1,levelHasToggledNodes:!1};var V=u[0],T=this.ensureLevel(b,(0,t.RR)(V.expr));if(T){var w,P=!_.isEmpty(T.toggledNodes),D=(0,t.KX)(V.expr);return f&&(w=this.findNodeMatchingIdentities(f.children,D)),1===u.length?w?{isNodeCollapsed:w.isToggled?!T.isCollapsed:T.isCollapsed,levelHasToggledNodes:P}:{isNodeCollapsed:T.isCollapsed,levelHasToggledNodes:P}:(u.splice(0,1),this.getNodeLevelState(u,w,b+1))}}rewrite(u){for(var f of this.levels)f.identityKeys&&(f.identityKeys=_.map(f.identityKeys,b=>b.accept(u)));return this.root=this.rewriteNodeExpansionState(this.root,u),this}rewriteNodeExpansionState(u,f){return u.identityValues&&(u.identityValues=_.map(u.identityValues,b=>b.accept(f))),u.children=_.map(u.children,b=>this.rewriteNodeExpansionState(b,f)),u}findNodeMatchingIdentities(u,f){return _.find(u,b=>(0,i.NF)(b.identityValues,f,r.fS))}}function n(E){if(E)return _.map(E,u=>u.clone())}function p(E,u){return a.f.assertValue(E,"ExpansionStates"),a.f.assertNonEmpty(u,"Empty roles"),_.find(E,f=>_.isEqual(f.roles,u))}function s(E,u){return a.f.assertValue(E,"ExpansionStates"),a.f.assertValue(u,"Role"),_.find(E,f=>_.includes(f.roles,u))}function d(E,u){return(0,i.NF)(E,u,o)}function o(E,u){return!(!E!=!u||!_.isEqual(E.roles,u.roles)||!(0,i.NF)(E.levels,u.levels,v))&&m(E.root,u.root)}function v(E,u){return!E&&!u||!!(E&&u&&_.isEqual(E.queryRefs,u.queryRefs)&&(0,i.NF)(E.identityKeys,u.identityKeys,r.fS)&&E.isCollapsed===u.isCollapsed&&(0,i.NF)(E.toggledNodes,u.toggledNodes,m))}function m(E,u){return!(!(0,i.NF)(E.identityValues,u.identityValues,r.fS)||!!E.isToggled!=!!u.isToggled||!(0,i.NF)(E.children,u.children,m))}function c(E){return!_.isEmpty(E)}function C(E){return!_.isEmpty(E.root.children)||!_.isEmpty(E.root.identityValues)}function y(E){return _.findIndex(E.levels,u=>u.isPinned)>=0}function S(E,u,f){var b=p(E,u);if(b)return b.getAILevelInformation(f)}function h(E,u){var f=p(E,u);return f?_.findLastIndex(f.levels,b=>b.isPinned)+1:0}},841708:function(ve,j,e){e.d(j,{l:function(){return i}});var r=e(650543);class i{constructor(t){r.f.assertValue(t,"options"),this.schemasByName=t.schemas,t.links&&(this.links=t.links)}static merge(t){if(1===t.length)return t[0];var l={},g=[];for(var n of t){var p=function(m){r.f.assert(()=>!l[m],`Duplicate schema name ${m} found while merging`),l[m]=n.schemasByName[m]};for(var s in n.schemasByName)p(s);g.push(...n.links||[])}var d=function(){var m=l[o];if(m.isExtensionSchema){var c=l[m.extends];r.f.assert(()=>!c.isExtensionSchema,"Extension schemas cannot themselves be extended"),i.mergeCapabilities(c,m)}};for(var o in l)d();var v={schemas:l};return _.some(g)&&(v.links=g),new i(v)}get schemas(){return _.values(this.schemasByName)}schema(t){return this.schemasByName[t]}static mergeCapabilities(t,l){l.capabilities={...t.capabilities,canEdit:l.capabilities.canEdit,isExtendable:l.capabilities.isExtendable}}}},124271:function(ve,j,e){e.d(j,{K:function(){return t},b:function(){return l}});var r=e(999787),i=e(796071),a=e(650543);function t(g){switch(g){case r.J4.Add:return"Add";case r.J4.Subtract:return"Subtract";case r.J4.Multiply:return"Multiply";case r.J4.Divide:return"Divide"}return(0,i.bG)("Unexpected ArithmeticOperatorKind: "+g)}function l(g){switch(g){case r.B8.Sum:return"Sum";case r.B8.Avg:return"Avg";case r.B8.Count:return"Count";case r.B8.Min:return"Min";case r.B8.Max:return"Max";case r.B8.CountNonNull:return"CountNonNull";case r.B8.Median:return"Median";case r.B8.StandardDeviation:return"StandardDeviation";case r.B8.Variance:return"Variance";default:a.f.assert(()=>null==g,"Unrecognized aggregate function.")}}},481785:function(ve,j,e){e.d(j,{NQ:function(){return l},cY:function(){return n},d9:function(){return g}});var r=e(426313),i=e(650543),a=e(935183),t=e(446775);class l{constructor(s,d,o,v){i.f.assertValue(s,"items"),this.items=s,this._activeProjectionRefs=d,this._showAll=o,this.parameters=v||[]}all(){return this.items}resetHiddenState(s){if(!_.isEmpty(this.items))for(var d of this.items)d.queryRef===s&&delete d.hidden}toggleHidden(s){if(!_.isEmpty(this.items))for(var d of this.items)d.queryRef===s&&(d.hidden=!d.hidden)}resetAllHiddenState(){for(var s of this.items)delete s.hidden}projected(){return _.isEmpty(this.items)?this.items:_.filter(this.items,s=>s&&!s.hidden)}addProjection(s,d){var o,v,m;d&&(o=d.fieldIndex,v=d.parameter,m=d.indexInParameter);var c=this.getProjectionIndex(o,v,m);this.fixUpParameterIndices(v,o,1),c>=this.items.length?this.items.push(s):this.items.splice(c,0,s)}removeProjection(s){var d,o,v;s&&(d=s.fieldIndex,o=s.parameter,v=s.indexInParameter),i.f.assert(()=>null!=d||null!=o&&null!=v,"When removing a projection we expect field index or the parameter options to be complete.");var m=this.getProjectionIndex(d,o,v);this.fixUpParameterIndices(o,d,-1),this.items.splice(m,1)}fixUpParameterIndices(s,d,o){for(var v of this.parameters)s?v.index===s.index&&(void 0===v.length&&(v.length=0),v.length+=o):null!=d&&v.index>=d&&(o>0?v.index>=d:v.index>d)&&(v.index+=o)}moveFields(s,d,o){var v,m,c;if(0===this.parameters.length)v=s,m=o,c=d;else{if(i.f.assert(()=>s>=0&&s<this.getFieldCount()&&d>=0&&d<this.getFieldCount(),"Should use valid field indices"),i.f.assert(()=>s+o<=this.getFieldCount(),"Should not attempt to move more fields than exist in collection"),i.f.assert(()=>d+o<=this.getFieldCount(),"Moving projections should not change the length of collection"),o<=0||s===d)return[];v=this.convertFieldIndexToProjectionIndex(s);var y=this.indexOfLastProjectionInField(s+o-1);for(var u of(m=y-v+1,c=this.convertFieldIndexToProjectionIndex(d),d>s&&(c+=this.indexOfLastProjectionInField(d+o-1)-c+1-m),this.parameters))u.index>=s&&u.index<=s+o-1?u.index=d+u.index-s:u.index>s&&u.index<=d+o-1?u.index-=o:u.index<s&&u.index>=d&&(u.index+=o);if(y<v)return[]}var f=this.items.splice(v,m);return this.items.splice(c,0,...f||[]),f}assignProjection(s,d){this.items[d]=s}updateQueryRef(s,d){this.items[s].queryRef=d}getQueryRefs(){return _.map(this.items,s=>s.queryRef)}getFieldParameters(){return this.parameters}addFieldParameter(s){for(var d of this.parameters)d.index>=s.index&&d.index++;this.parameters.push(s)}getColumnProjectionIndex(s){return i.f.assert(()=>!_.find(this.parameters,d=>d.index===s),"Should not be called on parameters"),this.convertFieldIndexToProjectionIndex(s)}getProjectionsByProjectionIndex(s){var d=this.convertProjectionIndexToFieldIndex(s),o=this.getParameterByFieldIndex(d);return o?this.getParameterProjections(o):[this.items[s]]}getProjectionsByFieldIndex(s){var d=this.getParameterByFieldIndex(s);if(d){var o=this.getParameterProjections(d),v=_.filter(o,C=>null!=C);return v.length!==o.length&&i.f.assertFail("The projection should exist, but in some extraordinary scenario it does not exist"),v}var m=this.convertFieldIndexToProjectionIndex(s),c=this.items[m];return null==c?(i.f.assertFail("The projection should exist, but in some extraordinary scenario it does not exist"),[]):[c]}convertProjectionIndexToFieldIndex(s){if(_.isEmpty(this.parameters))return s;var d=0,o=0,v=_.sortBy(this.parameters,c=>c.index);for(var m of v){if(d+s-o<m.index)break;if((o+=m.index-d-1)+(m.length??0)>s)return m.index;d=m.index,o+=m.length??0}return d+s-o}doesParameterExist(s){return _.some(this.parameters,d=>d.index===s)}getParameterProjectionIndex(s,d){return i.f.assert(()=>s&&null!=d,"Parameter and indexInParameter should both be defined"),i.f.assert(()=>this.doesParameterExist(s.index),"Parameter should exist for this projection"),this.convertFieldIndexToProjectionIndex(s.index)+d}getColumnProjection(s){if(!this.doesParameterExist(s))return this.items[this.getColumnProjectionIndex(s)]}getParameterProjections(s){if(!s||!s.length)return[];var d=this.convertFieldIndexToProjectionIndex(s.index);return this.items.slice(d,d+s.length)}removeFieldParameters(s){var v,d=this,o=function(c){var C=_.findIndex(d.parameters,E=>E.index===c.index&&(0,r.fS)(E.expr,c.expr));if(C<0)return{v:!1};var y=d.parameters.splice(C,1)[0],S=y.index;for(var h of(i.f.assert(()=>0===y.length||null==y.length,"there should be no projections for this removed parameter"),d.parameters))h.index>S&&h.index--};for(var m of s)if(v=o(m))return v.v;return!0}findParameterBySQExpr(s){return _.isEmpty(this.parameters)?[]:this.parameters.filter(d=>(0,r.fS)(d.expr,s))}getParameterByFieldIndex(s){return _.find(this.parameters,d=>d.index===s)}get activeProjectionRefs(){return this._activeProjectionRefs}set activeProjectionRefs(s){if(_.isEmpty(s))this._activeProjectionRefs=void 0;else{var d=this.items.map(v=>v.queryRef);for(var o of s)if(!_.includes(d,o))return;this._activeProjectionRefs=s}}get showAll(){return this._showAll}set showAll(s){this._showAll=s}addActiveQueryReference(s){this._activeProjectionRefs?this._activeProjectionRefs.push(s):this._activeProjectionRefs=[s]}getLastActiveQueryReference(){if(!_.isEmpty(this._activeProjectionRefs))return this._activeProjectionRefs[this._activeProjectionRefs.length-1]}replaceQueryRef(s,d){for(var o of(i.f.assertValue(s,"oldQueryRef"),i.f.assertValue(d,"newQueryRef"),i.f.assert(()=>s!==d,"oldQueryRef !== newQueryRef"),i.f.assert(()=>_.isEmpty(this._activeProjectionRefs),"replaceQueryRef(...) is not supported on the QueryProjectionCollection of a drillable role"),this.items))o.queryRef===s&&(o.queryRef=d)}clone(){return new l(_.cloneDeep(this.items),_.clone(this._activeProjectionRefs),this._showAll,_.map(this.parameters,s=>({expr:s.expr,index:s.index,length:s.length})))}getProjectionIndex(s,d,o){var v;if(d){var m=d.length??0;null!=o?(i.f.assert(()=>o<=m,"indexInParameter should not exceed the current length of the parameter's projections."),v=this.convertFieldIndexToProjectionIndex(d.index)+o):v=this.convertFieldIndexToProjectionIndex(d.index)+m}else v=null!=s?this.convertFieldIndexToProjectionIndex(s):this.items.length;return v}convertFieldIndexToProjectionIndex(s){return(0,t.VZ)(s,this.parameters)}indexOfLastProjectionInField(s){var d=this.convertFieldIndexToProjectionIndex(s),o=_.find(this.parameters,v=>v.index===s);return o&&(d+=o.length-1),d}getFieldCount(){var s=this.items.length;for(var d of this.parameters)s-=(d.length??0)-1;return s}}function g(p){if(!p)return p;var s={};for(var d in p)s[d]=p[d].clone();return s}function n(p,s){if(i.f.assertAnyValue(p,"roles"),i.f.assertValue(s,"name"),p)return p[s]}(0,a.y)(l.prototype)},191282:function(ve,j,e){e.d(j,{AV:function(){return U},AZ:function(){return B},CT:function(){return E},GT:function(){return N},Ic:function(){return w},Li:function(){return V},N6:function(){return h},Or:function(){return M},QV:function(){return c},Yw:function(){return T},_Q:function(){return W},cY:function(){return A},d9:function(){return x},fS:function(){return P},fd:function(){return O},gU:function(){return u},hp:function(){return D},j9:function(){return y},k_:function(){return b},km:function(){return R},mV:function(){return f},qm:function(){return S},tQ:function(){return C},tV:function(){return F},xO:function(){return v},yN:function(){return m}});var r=e(990297),i=e(650543),a=e(387864),t=e(123916),l=e(402623),g=e(532370),n=e(29706),p=e(759162),s=e(827161),d=e(442407),o=e(989259),v="{}";function m(I){return null!=I&&I.kind===a.i.ScopeIdentity}function c(I){return null!=I&&I.kind===a.i.ScopeWildcard}function C(I){return null!=I&&I.kind===a.i.ScopeTotal}function y(I){return null!=I&&I.kind===a.i.RoleWildcard}function S(I){return null!=I&&I.kind===a.i.Wildcard}function h(I){return!(!I||!I.data)&&I&&I.data&&1===I.data.length&&S(I.data[0])}function E(I){if(I&&!_.isEmpty(I.data)){for(var L=I.data.length,K=new Array(L),z=0;z<L;z++){var H=I.data[z];if(!m(H))return;K[z]=H}return K}}function u(I){if(I&&I.dataMap){var L=[];for(var K in I.dataMap){var z=(0,r.rY)(I.dataMap[K]);L.push(...z||[])}return L}}function f(I,L){if(!_.isEmpty(I)){var K=V(I);if(!_.isEmpty(K))return(0,l.Lu)(K,L)}}function b(I){return f(_.map(I,L=>F(L)))}function V(I){if(!_.isEmpty(I)){for(var L=[],K=function(){var J=I[z];i.f.assert(()=>!!J,"There is an undefined selector in a list of selectors");var G,k=J?.data;if(!_.isEmpty(k))for(var q=0,Q=k.length;q<Q;q++)G=(0,d.xD)(G,(J?.data[q]).expr);G&&L.push(G)},z=0,H=I.length;z<H;z++)K();return L}}function T(I){if(!_.isEmpty(I))for(var L of I)if(L.dataMap)for(var K in L.dataMap){var z=L.dataMap[K];if(!_.isEmpty(z)&&_.some(z,H=>null!=H))return!0}}function P(I,L,K){return(I=I||null)===(L=L||null)||!(!I!=!L||(i.f.assertValue(I,"x"),i.f.assertValue(L,"y"),I.metadata!==L.metadata)||!D(I.data,L.data)||I.highlightMatching!==L.highlightMatching||!K?.skipId&&I.id!==L.id||!K?.skipOrder&&I.order!==L.order)}function D(I,L){if((I=I||null)===(L=L||null))return!0;if(!I!=!L||I.length!==L.length)return!1;for(var K=0,z=I.length;K<z;K++)if(!A(I[K],L[K]))return!1;return!0}function w(I,L){return(I=I||null)===(L=L||null)||!I==!L&&P(F(I),F(L))}function M(I,L){if((I=I||null)===(L=L||null))return!0;if(!I!=!L||I.length!==L.length)return!1;for(var K=0;K<I.length;K++)if(!w(I[K],L[K]))return!1;return!0}function A(I,L){return m(I)&&m(L)?(0,l.fS)(I,L):c(I)&&c(L)?(0,n.fS)(I,L):C(I)&&C(L)?(0,g.fS)(I,L):y(I)&&y(L)?(0,t.fS)(I,L):!(!S(I)||!S(L))&&(0,p.fS)(I,L)}function R(I){var L;if(I.data)if(I.data.length>0){L=`data: [${I.data[0].key}`;for(var K=1,z=I.data.length;K<z;K++)L+=`, ${I.data[K].key}`;L+="]"}else L="data: []";var H=I.metadata;H&&(L?L+=", metadata: "+H:L="metadata: "+H);var J=I.id;return J&&(L?L+=", id: "+J:L="id: "+J),L?"{"+L+"}":"{}"}function B(I,L){if(_.isEmpty(I.data))return[v];var K=[];if(L)K=_.map(I.data,J=>J.key);else for(var z of I.data)if(m(z)){var H=(0,s.RR)(z.expr);H=H||(0,s.KX)(z.expr),_.forEach(H,J=>{K.push((0,o.qC)(J))})}return K}function N(I){i.f.assertValue(I,"selector");var L=I.data;return!!L&&_.some(L,K=>y(K)||c(K)||S(K))}function W(I){i.f.assertValue(I,"selector");var L=I.data;if(_.isEmpty(L))return!1;for(var K of L)if(y(K))return!0;return!1}function F(I){if(I){var L=[];for(var K in I.dataMap){var z=(0,r.rY)(I.dataMap[K]);for(var H of z)L.push(H)}var J={};return L.length>0&&(J.data=L),I.metadata&&(J.metadata=_.head(I.metadata)),I.id&&(J.id=I.id),J}}function U(I,L){if(I&&I.metadata){i.f.assertNonEmpty(L,"getSelectorTargetExpr - selectTransforms");var K=_.find(L,z=>z.queryName===I.metadata);if(K)return K.expr}}function O(I){return i.f.assertAnyValue(I,"selector"),I&&I.data?{data:I.data}:I}function x(I){var L={};return I.data&&(L.data=[...I.data]),I.metadata&&(L.metadata=I.metadata),I.id&&(L.id=I.id),void 0!==I.highlightMatching&&(L.highlightMatching=I.highlightMatching),null!=I.order&&(L.order=I.order),void 0!==I.hierarchyMatching&&(L.hierarchyMatching=I.hierarchyMatching),L}},657842:function(ve,j,e){e.d(j,{M:function(){return a},V:function(){return i}});var r=e(650543),i=function(t){return t[t.Default=0]="Default",t[t.Verbose=1]="Verbose",t[t.WholeUnits=2]="WholeUnits",t[t.DataLabels=3]="DataLabels",t}({});function a(t){r.f.assertValue(t,"visualElements shouldn't be empty");var l=[];for(var g of t){var n=function(s){_.find(l,d=>_.isEqual(d,s))||l.push(s)};for(var p of g.DataRoles)n(p)}return l}},991765:function(ve,j,e){e.d(j,{W7:function(){return v},tY:function(){return o}});var r=e(60978),i=e(426313),a=e(990297),t=e(650543),l=e(827161),g=e(191282);function p(C){return _.cloneDeep(C)}function d(C){return{windowValues:_.map(C.windowValues,y=>function(C){return{identityValues:_.clone(C.identityValues),restartValues:_.clone(C.restartValues),windowKind:C.windowKind}}(y)),identityValues:_.clone(C.identityValues),children:_.map(C.children,y=>d(y))}}function o(C,y,S,h){if(C){C=function(C){if(C)return{levels:p(C.levels),root:d(C.root)}}(C);var E=(0,g.CT)(y);if(!E)return t.f.assertFail("Empty selector"),C;for(var V,u=C.root,f=0,b=function(){var D=(0,l.RR)(E[f].expr);if(!C.levels[f]||!(0,a.NF)(D,C.levels[f].identityKeys,i.fS))return t.f.assertFail("Level not found"),{v:C};var w=(0,l.KX)(E[f].expr);u=_.find(u.children,M=>(0,a.NF)(M.identityValues,w,i.fS)),f++};u&&f<_.size(E)-1;)if(V=b())return V.v;if(!u||f<_.size(E)-1)return t.f.assertFail("Cannot find node"),C;var T=(0,l.KX)(E[f].expr);if(h)u.windowValues=[{identityValues:T,windowKind:S,restartValues:h}];else{var P=_.find(u.windowValues,D=>(0,a.NF)(T,D.identityValues,i.fS));if(!P)return t.f.assertValue(P,"Cannot find a window for the specified node"),u.windowValues=[],C;P.windowKind=S,u.windowValues=[P]}return C}}function v(C,y,S,h){if(C&&C.root){var E=_.map(C.levels,f=>function(C,y,S){if(C.identityKeys)return C.identityKeys;var h=_.map(C.queryRefs,E=>{var u=y.withName(E);t.f.assertValue(u,"Cannot find expr "+E);var f=u.expr;return(0,r.ez)(f)?f.getTargetColumnRef(S):f});return t.f.assert(()=>1===_.size(h),"Composite Groups is not fully supported, each level is expected to have 1 queryRef"),h[0].getKeyColumns(S)}(f,S,h)),u=0;return y&&(u=-1===(u=_.findIndex(y.levels,(f,b)=>!(0,a.NF)(f.identityKeys,E[b],i.fS)))?_.size(y.levels):u),{levels:_.map(E,f=>({identityKeys:f})),root:c(C.root,y&&y.root,u,0,C.levels)}}}function c(C,y,S,h,E){t.f.assertValue(C,"Expansion node should be defined");var u=y&&y.children||[],f=y&&y.windowValues||[];h>=S&&(u=[],f=[]);var V=_.filter(C.children,T=>E[h]&&!!T.isToggled==!!E[h].isCollapsed);return{children:_.map(V,T=>c(T,(T=>y&&_.find(u,P=>(0,a.NF)(T,P.identityValues,i.fS)))(T.identityValues),S,h+1,E)),identityValues:C.identityValues,windowValues:f}}},202424:function(ve,j,e){e.d(j,{P:function(){return r},U:function(){return i}});var r=function(a){return a[a.Default=0]="Default",a[a.BypassCache=1]="BypassCache",a}({}),i=function(a){return a[a.None=0]="None",a[a.AllowCache=1]="AllowCache",a[a.AllowQuery=2]="AllowQuery",a[a.CacheResult=4]="CacheResult",a[a.PreventRefresh=8]="PreventRefresh",a}({})},545738:function(ve,j,e){e.d(j,{LC:function(){return a},Ps:function(){return i},ru:function(){return r}});var r=function(t){return t[t.Normal=0]="Normal",t[t.Low=1]="Low",t}({}),i=function(t){return t[t.None=0]="None",t[t.Basic=1]="Basic",t[t.QueryText=2]="QueryText",t}({}),a=function(t){return t[t.Query=0]="Query",t[t.CancelQuery=1]="CancelQuery",t}({})},5187:function(ve,j,e){e.d(j,{Sz:function(){return E},oA:function(){return h}});var r=e(999787),i=e(650543),a=e(962238),t=e(530268),l=e(621542),g=e(882553),n=e(392617),p=e(385441),s=e(428776),d=e(310270),o=e(338898),v=e(675032),m=e(436043),c=e(853450),C=e(719242),y=e(759162),S=e(60978);function h(b,V,T,P){var D=u(b,V,T,P);return D&&D.expressions}function E(b,V,T,P){return i.f.assertValue(b,"propDefn"),u(b,V,T,P)}function u(b,V,T,P){var w,M,D=new c.S;return(0,C.er)(b)?((w=new f(V,T,P,b.context)).propertyVisitor=M,(M=new v._(w,D)).visitExpr(b.value)):(0,C.Rc)(b)?(w=new f(V,T,P),M=new v._(w,D),w.propertyVisitor=M,M.visitExpr(b)):(w=new f(V,T,P),M=new v._(w,D),w.propertyVisitor=M,(0,m.RL)(b,w)),{expressions:w.exprs,references:D.references}}class f extends a.PA{constructor(V,T,P,D){super(),this.selector=V,this.querySelects=T,this.context=D,this.exprs=[],this.inputExpr=this.resolveSelectRef(P)}resolveSelectRef(V){return V&&(0,S.NH)(V)?this.getSelectByRef(V):V}add(V){this.context&&(V.context=this.context),null!=this.relatedProjectionQueryName&&(V.targetsQueryName=[this.relatedProjectionQueryName]),this.exprs.push(V)}visitMeasureRef(V){this.add({expr:V,selector:this.selector})}visitArithmetic(V){this.add({expr:V,selector:this.selector})}visitAggr(V){if((0,S.NH)(V.arg)){var P={expr:this.getSelectByRef(V.arg),selector:this.selector,aggregates:this.getAggregates(V.func)};this.add(P)}else this.add({expr:V,selector:this.selector})}checkIfOrdinal(V){}getAggregates(V){switch(V){case r.B8.Max:return{max:!0};case r.B8.Min:return{min:!0};case r.B8.Median:return{median:!0};case r.B8.Avg:return{average:!0};default:i.f.assertFail("Unsupported Projection Aggregate")}}visitPercentile(V){if((0,S.NH)(V.arg)){var P={expr:this.getSelectByRef(V.arg),selector:this.selector,aggregates:{percentiles:[{k:V.k,exclusive:V.exclusive}]}};this.add(P)}else this.add({expr:V,selector:this.selector})}visitColumnRef(V){this.add({expr:V,selector:this.selector})}visitContains(V){this.checkIfOrdinal(V),super.visitContains(V)}visitStartsWith(V){this.checkIfOrdinal(V),super.visitStartsWith(V)}visitCompare(V){this.checkIfOrdinal(V),super.visitCompare(V)}visitHierarchyLevel(V){this.add({expr:V,selector:this.selector})}visitNativeMeasure(V){this.add({expr:V,selector:this.selector})}visitSelectRef(V){var T=this.getSelectByRef(V);this.add({expr:T,selector:this.selector})}getSelectByRef(V){var T=this.querySelects.withName(V.expressionName);return T&&T.expr}visitScopedEval(V){var T=V.decomposeGlobalAggregateOfScopedExpr();if(T){var P={expr:this.resolveSelectRef(T.source),selector:this.selector,aggregates:this.getAggregates(T.func)};this.add(P)}else if(V.hasGlobalScope())this.add({expr:V.expression,selector:null});else{var w={expr:V,selector:{data:[(0,y.Ue)()]}};this.add(w)}}visitFillRule(V){V.input.accept(this),this.inputExpr=this.resolveSelectRef(V.input),this.visitFillRuleDefinition(V.rule)}visitFillDefinition(V){(0,g.RL)(V,this.propertyVisitor)}visitFillRuleDefinition(V){i.f.assertValue(V,"fillRule"),i.f.assertAnyValue(this.inputExpr,"inputExpr can end up being undefined if it was a non-matching SelectRef");var T=V.linearGradient2||V.linearGradient3;i.f.assertValue(T,"fillRule needs either linearGradient2 or linearGradient3"),i.f.assertValue(T.min,"gradient.min"),i.f.assertValue(T.max,"gradient.max");var P={};T.min.value||(P.min=!0),T.max.value||(P.max=!0),(P.min||P.max)&&(this.exprs.push({expr:this.inputExpr,selector:this.selector,aggregates:P}),(0,n.RL)(V,this.propertyVisitor))}visitDataBarsDefinition(V){i.f.assertValue(this.inputExpr,"Databars without an input Expr"),i.f.assertValue(V,"dataBars");var T={};V.minValue||(T.min=!0),V.maxValue||(T.max=!0),(T.min||T.max)&&(this.exprs.push({expr:this.inputExpr,selector:this.selector,aggregates:T}),(0,t.R)(V,this.propertyVisitor))}visitIconDefinition(V){(0,p.R)(V,this.propertyVisitor)}visitParagraphs(V){(0,s.RL)(V,this.propertyVisitor)}visitErrorRangeDefinition(V){i.f.assert(()=>null!=this.selector.metadata,"Error range should have a target"),this.relatedProjectionQueryName=this.selector.metadata,(0,l.RL)(V,this.propertyVisitor),this.relatedProjectionQueryName=void 0}visitItemLocationDefinition(V){(0,d.R)(V,this.propertyVisitor)}visitAnnotationTemplateDefinition(V){(0,o.RL)(V,this.propertyVisitor)}}},42990:function(ve,j,e){e.d(j,{V:function(){return l}});var r=e(79365),i=e(650543),a=e(756646),t=e(392617);function l(){return new p}var n=!1;!function(){if(!n){var c=l;(0,a.Z7)().createColorAllocatorFactory=()=>c(),n=!0}}();class p{fromFillRule(C,y){var S=C.linearGradient2,h=C.linearGradient3;if(S||h){var E;h&&(E=void 0===h.min.value&&void 0===h.max.value&&void 0!==h.mid.value);var u=S?S.min:h.min,f=S?S.max:h.max;if(void 0===u.value&&(u.value=y.aggregates&&y.aggregates.min),void 0===f.value&&(f.value=y.aggregates&&y.aggregates.max),void 0!==u.value&&void 0!==f.value)return h&&void 0===h.mid.value&&(h.mid.value=(u.value+f.value)/2),S?new o(S,y):E?new m(h,y):new v(h,y)}}}function s(c){return c.strategy===t.LX}function d(c){switch(c.strategy){case t.TJ:return;case t.Sx:return c.color;case t.LX:i.f.assertFail("getColorFromNullStrategy - called with asZero");break;default:i.f.assertFail("getColorFromNullStrategy - Unexpected null strategy: "+c.strategy)}}class o{constructor(C,y){this.options=C,this.source=y,i.f.assertValue(C,"options"),i.f.assertValue(y,"source");var S=C.min,h=C.max;this.scale=(0,r.$Q)([S.value,h.value],[S.color,h.color],!0)}color(C){var y=this.options.nullColoringStrategy;if(null===C&&y){if(!s(y))return d(y);C=0}return this.scale(C)}getRule(){return{linearGradient2:this.options}}getSource(){return this.source}}class v{constructor(C,y){this.options=C,this.source=y,i.f.assertValue(C,"options"),i.f.assertValue(y,"source"),this.options=C;var S=C.min,h=C.mid,E=C.max;this.scale=(0,r.$Q)([S.value,h.value,E.value],[S.color,h.color,E.color],!0)}color(C){var y=this.options.nullColoringStrategy;if(null===C&&y){if(!s(y))return d(y);C=0}return this.scale(C)}getRule(){return{linearGradient3:this.options}}getSource(){return this.source}}class m{constructor(C,y){this.options=C,this.source=y,i.f.assertValue(C,"options"),i.f.assertValue(y,"source"),this.options=C;var S=C.min,h=C.mid,E=C.max;this.scale1=(0,r.$Q)([S.value,h.value],[S.color,h.color],!0),this.scale2=(0,r.$Q)([h.value,E.value],[h.color,E.color],!0)}color(C){var y=this.options.nullColoringStrategy;if(null===C&&y){if(!s(y))return d(y);C=0}return C<=this.options.mid.value?this.scale1(C):this.scale2(C)}getRule(){return{linearGradient3:this.options}}getSource(){return this.source}}},951202:function(ve,j,e){e.d(j,{Ay:function(){return s},Dt:function(){return y},QD:function(){return i},Sr:function(){return l},fl:function(){return g},hw:function(){return o},nA:function(){return S},oF:function(){return a},vS:function(){return V},vV:function(){return n},yL:function(){return d}});var r=e(650543),i=function(D){return D.CategoricalCategory="CategoricalCategory",D.CategoricalSeries="CategoricalSeries",D.CategoricalValueGroup="CategoricalValueGroup",D.CategoricalValue="CategoricalValue",D.MatrixRowsGroup="MatrixRowsGroup",D.MatrixColumnsGroup="MatrixColumnsGroup",D.MatrixIntersection="MatrixIntersection",D.MatrixRowsScopedValue="MatrixRowsScopedValue",D.TableField="TableField",D.TreeNode="TreeNode",D.TreeValue="TreeValue",D.SingleField="SingleField",D}({});function a(D,w){r.f.assertValue(D,"mapping"),r.f.assertValue(w,"visitor");var M=D.categorical;M&&function(D,w){r.f.assertValue(D,"mapping"),r.f.assertValue(w,"visitor"),l(D.categories,w);var M=D.values;g(M,w),V(M,w),T(D,w)}(M,w);var A=D.table;A&&n(A,w);var R=D.matrix;R&&function(D,w){r.f.assertValue(D,"mapping"),r.f.assertValue(w,"visitor"),s(D.rows,w),d(D.columns,w),o(D.values,w)}(R,w);var B=D.tree;B&&function(D,w){r.f.assertValue(D,"mapping"),r.f.assertValue(w,"visitor"),y(D.nodes,w),S(D.values,w)}(B,w);var N=D.single;N&&function(D,w){r.f.assertValue(D,"mapping"),r.f.assertValue(w,"visitor"),w.visitRole(D.role)}(N,w)}function l(D,w){D&&(h(D,w,i.CategoricalCategory),E(D,w,i.CategoricalCategory),f(D,w,i.CategoricalCategory),T(D,w))}function g(D,w){if(D){h(D,w,i.CategoricalValue),E(D,w,i.CategoricalValue),f(D,w,i.CategoricalValue);var M=D.group;if(M)for(var A of M.select)h(A,w,i.CategoricalValueGroup),E(A,w,i.CategoricalValueGroup)}}function n(D,w){r.f.assertValue(D,"mapping"),r.f.assertValue(w,"visitor");var M=D.rows;h(M,w,i.TableField),E(M,w,i.TableField),f(M,w,i.TableField),T(M,w)}function s(D,w){!function(D,w,M){if(r.f.assertAnyValue(D,"mapping"),r.f.assertValue(w,"visitor"),D){var A=D?.values;E(D,w,M),function(D,w,M){r.f.assertValue(D,"mapping"),r.f.assertValue(w,"visitor");var A=D.select;if(A)for(var R of A)h(R,w,M),E(R,w,M),u(R,w,M)}(D,w,M),r.f.assert(()=>!(D.dataReductionAlgorithm&&function(D){return D&&_.some(D,w=>w.dataReductionAlgorithm)}(D.select)),"Mapping has overall data reduction but also scoped data reduction(s)"),T(D,w),A&&(E(A,w,i.MatrixRowsScopedValue),f(A,w,i.MatrixRowsScopedValue))}}(D,w,i.MatrixRowsGroup)}function d(D,w){c(D,w,i.MatrixColumnsGroup)}function o(D,w){c(D,w,i.MatrixIntersection)}function c(D,w,M){r.f.assertAnyValue(D,"mapping"),r.f.assertValue(w,"visitor"),D&&(E(D,w,M),f(D,w,M),T(D,w))}function y(D,w){r.f.assertAnyValue(D,"mapping"),r.f.assertValue(w,"visitor"),D&&(E(D,w,i.TreeNode),T(D,w))}function S(D,w){r.f.assertAnyValue(D,"mapping"),r.f.assertValue(w,"visitor"),D&&E(D,w,i.TreeValue)}function h(D,w,M){r.f.assertValue(D,"mapping"),r.f.assertValue(w,"visitor");var A=D.bind;A&&w.visitRole(A.to,M)}function E(D,w,M){r.f.assertValue(D,"mapping"),r.f.assertValue(w,"visitor");var A=D.for;A&&w.visitRole(A.in,M)}function u(D,w,M){r.f.assertValue(D,"mapping"),r.f.assertValue(w,"visitor");var A=D.composite;if(A){for(var R of(w.enterComposite&&w.enterComposite(D),A))h(R,w,M),E(R,w,M);w.exitComposite&&w.exitComposite(D)}}function f(D,w,M){r.f.assertValue(D,"mapping"),r.f.assertValue(w,"visitor");var A=D.select;if(A)for(var R of A)h(R,w,M),E(R,w,M)}function V(D,w){if(r.f.assertAnyValue(D,"mapping"),r.f.assertValue(w,"visitor"),D){var M=D.group;M&&(w.visitRole(M.by,i.CategoricalSeries),T(M,w))}}function T(D,w){if(r.f.assertValue(D,"mapping"),r.f.assertValue(w,"visitor"),w.visitReduction){var M=D.dataReductionAlgorithm;M&&w.visitReduction(M)}}},9611:function(ve,j,e){function r(t,l){return t&&l?t.identityIndex===l.identityIndex:t===l}function a(t){return"number"==typeof t?.identityIndex}e.d(j,{Ye:function(){return a},fS:function(){return r}})},251301:function(ve,j,e){e.d(j,{L:function(){return l}});var r=e(13380),i=e(333107),a=e(650543),t=e(734531);class l{constructor(n,p,s,d,o,v,m,c,C,y){this.featureSwitches=n,this.warningType=p,this.propertyId=s,this.selector=d,this.objectDisplayNameGetter=o,this.propertyDisplayNameGetter=v,this.valueExpr=m,this.value=c,this.expectedValueType=C,this.columnExpr=y,this.warningType===r.wz.InvalidType?(a.f.assertValue(C,"expectedValueType"),this.titleKey="DataBoundExprWarning_InvalidType_Title",this.hintKey="DataBoundExprWarning_InvalidType_Message"):this.warningType===r.wz.MissingReference?(this.titleKey="DataBoundExprWarning_MissingReference_Title",this.hintKey="DataBoundExprWarning_MissingReference_Message"):this.warningType===r.wz.UndefinedStylePreset?(this.titleKey="StylePresetDefinitionNotFound",this.hintKey="StylePresetDefinitionNotFoundDetail"):(this.titleKey="VisualWarning_PropertyEvaluation_Tooltip_Header",this.hintKey="VisualWarning_PropertyEvaluation_Tooltip_Hint_Color")}get code(){switch(this.warningType){case r.wz.InvalidType:return"DataBoundExprWarningTypeInvalidType";case r.wz.MissingReference:return"DataBoundExprWarningTypeMissingReference";case r.wz.InvalidValue:return"DataBoundExprWarningTypeInvalidValue";case r.wz.UndefinedStylePreset:return"StylePresetDefinitionNotFound";default:a.f.assertNever(this.warningType)}}getMessages(n,p){if(p){if(this.cachedMessage)return this.cachedMessage;var d=n.get("NamePattern_Colon"),o=[],v=this.propertyDisplayNameGetter instanceof Function?this.propertyDisplayNameGetter(n):this.propertyDisplayNameGetter,m=(0,t.W)(n.get(this.titleKey),v),c=this.objectDisplayNameGetter instanceof Function?this.objectDisplayNameGetter(n):this.objectDisplayNameGetter;if(!this.featureSwitches.useModernFormatPane){var C=(0,t.W)(d,n.get("VisualWarning_PropertyEvaluation_Tooltip_Section"),c);o.push(C)}var y=null!=this.valueExpr?p(this.valueExpr):void 0;if(y){var S=(0,t.W)(d,n.get("Field_Source"),y);o.push(S)}if(void 0!==this.columnExpr){var h=p(this.columnExpr),E=(0,t.W)(d,n.get("Field_Target"),h);o.push(E)}if(this.warningType===r.wz.InvalidType&&this.expectedValueType){var u=(0,t.W)(d,n.get("DataBoundExprWarning_ExpectedDataType"),l.getPrimitiveValueType(this.expectedValueType,n));o.push(u)}if(this.value&&(this.warningType===r.wz.InvalidValue||this.warningType===r.wz.UndefinedStylePreset)){var f=(0,t.W)(d,n.get("Value"),this.value.toString());o.push(f)}var b=n.get(this.hintKey);return o.push(b),this.cachedMessage={title:m,message:b,detail:o.join("\n")},this.cachedMessage}a.f.assertFail("DataViewObjectEvaluationWarning - getMessages - setSQExprTranslator needed for correct warning")}getTitle(n){var p=this.propertyDisplayNameGetter instanceof Function?this.propertyDisplayNameGetter(n):this.propertyDisplayNameGetter;return(0,t.W)(n.get(this.titleKey),p)}getMessage(n){return n.get(this.hintKey)}static getPrimitiveValueType(n,p){switch(n.primitiveType){case i.M.Text:return p.get("Text");case i.M.Decimal:case i.M.Double:case i.M.Integer:return p.get("ConditionalFormattingDialog_Number");case i.M.Boolean:return p.get("ConditionalFormattingDialog_Boolean");case i.M.Date:case i.M.DateTime:return p.get("ConditionalFormattingDialog_Date");default:a.f.assertFail("Invalid expected data type")}}}},146300:function(ve,j,e){function r(p,s){if(!_.isEmpty(p)){var d=p[0];if(d.values&&d.values.length>0)for(var o=0,v=d.values.length;o<v;++o){var m=d.values[o];if(m&&m.source&&t(m.source,s))return o}}return-1}function i(p,s){if(!_.isEmpty(p))for(var d=0,o=p.length;d<o;d++)if(t(p[d].source,s))return d;return-1}function a(p,s){var d=[];if(!_.isEmpty(p))for(var o=0,v=p.length;o<v;o++)t(p[o].source,s)&&d.push(o);return d}function t(p,s){var d=p.roles;return d&&d[s]}function l(p,s){return _.some(p,d=>t(d,s))}function g(p,s){return _.some(p?.metadata?.columns??[],d=>void 0!==d.roles?.[s])}function n(p,s){return p&&p.source&&p.source.roles&&!0===p.source.roles[s]}e.d(j,{R:function(){return n},a2:function(){return r},aJ:function(){return l},c5:function(){return g},nu:function(){return t},pc:function(){return i},zT:function(){return a}})},66301:function(ve,j,e){e.d(j,{Hy:function(){return h},JU:function(){return D},Lo:function(){return B},fs:function(){return N},ih:function(){return O},sw:function(){return F},ul:function(){return m},zS:function(){return v}});var r=e(426313),i=e(990297),a=e(650543),t=e(14817),l=e(630881),g=e(832573),n=e(719242),p=e(820013),s=e(402623),d=e(36432),o=e(521214),v=function(I){return I.conditionRangeTooLarge="conditionRangeTooLarge",I.conditionRangeTooSmall="conditionRangeTooSmall",I.conditionKindExpectedMeasure="conditionKindExpectedMeasure",I.conditionKindExpectedGrouping="conditionKindExpectedGrouping",I.conditionKindExpectedGroupingOrMeasure="conditionKindExpectedGroupingOrMeasure",I.conditionNotHierarchicallyRelated="conditionNotHierarchicallyRelated",I.conditionSchemaCapabilities_TupleFilters_InstanceFilters="conditionSchemaCapabilities_TupleFilters_InstanceFilters",I}({});function m(I,L){if(!L||0===L.length)return{dataView:I,isValid:!0};if(I){for(var K of L){if(u(I,K))return{dataView:I,isValid:!0};if(K.categorical&&I.categorical)return c(I,K);if(K.tree&&I.tree)return y(I,K.tree);if(K.single&&I.single)return C(I,K.single);if(K.table&&I.table)return S(I,K.table)}if(I.metadata)return{dataView:{metadata:I.metadata},isValid:!0}}return{isValid:!1}}function c(I,L){a.f.assertValue(L,"dataViewMapping");var H,K=L.categorical,z=I.categorical;if(!z)return{isValid:!1};if(K.rowCount&&(H=K.rowCount.supported)&&H.max){var J,q,k=z.categories,G=H.max;if(k)for(var Q=0,Z=k.length;Q<Z;Q++){var X=k[Q];if(q=X.values.length,void 0!==G&&q>G){var re=(0,i.w6)(X.values,0,G-1);(J=J||{categories:[]}).categories.push({source:X.source,values:re})}}if(z.values&&z.values.length>0&&G&&(q||(q=z.values[0].values.length),void 0!==G&&q>G)){(J=J||{}).values=(0,d.Yv)();for(var te=0,se=z.values.length;te<se;te++){var Ve=z.values[te],ke={source:Ve.source,values:(0,i.w6)(Ve.values,0,G-1)};void 0!==Ve.min&&(ke.min=Ve.min),void 0!==Ve.max&&(ke.max=Ve.max),void 0!==Ve.subtotal&&(ke.subtotal=Ve.subtotal),J.values.push(ke)}}J&&(I={metadata:I.metadata,categorical:J})}return f(I,L)?{dataView:I,isValid:!0}:null}function C(I,L){return a.f.assertValue(I,"dataView"),a.f.assertValue(L,"singleRoleMapping"),I.single?{dataView:I,isValid:!0}:{isValid:!1}}function y(I,L){return a.f.assertValue(I,"dataView"),a.f.assertValue(L,"treeRoleMapping"),V(I,L)?{dataView:I,isValid:!0}:{isValid:!1}}function S(I,L){return a.f.assertValue(I,"dataView"),a.f.assertValue(L,"tableRoleMapping"),I.table?{dataView:I,isValid:!0}:{isValid:!1}}function h(I){for(var L=0,K=0,z=I.length;K<z;K++)I[K].isMeasure||++L;return L}function u(I,L,K){return!(!L||!I||L.scriptResult&&!function(I,L){return a.f.assertValue(L,"scriptResultRoleMapping"),!(!I||!I.payloadBase64)}(I.scriptResult,L.scriptResult)||L.categorical&&!f(I,L.categorical,K)||L.tree&&!V(I,L.tree,K)||L.single&&!function(I,L){return a.f.assertValue(L,"singleRoleMapping"),!!I}(I.single,L.single)||L.table&&!function(I,L,K){if(a.f.assertValue(L,"tableRoleMapping"),!I)return!1;if(L.rowCount){var z=L.rowCount.supported;if(K&&L.rowCount.preferred&&(z=L.rowCount.preferred),z){var H=0;if(I.rows&&I.rows.length&&(H=I.rows.length),null!=D(H,z))return!1}}return!0}(I.table,L.table,K))}function f(I,L,K){a.f.assertValue(L,"categoryRoleMapping");var z=I.categorical;if(!z)return!1;if(L.rowCount){var H=L.rowCount.supported;if(K&&L.rowCount.preferred&&(H=L.rowCount.preferred),H){var J=0;if(z.values&&z.values.length?J=z.values[0].values.length:z.categories&&z.categories.length&&(J=z.categories[0].values.length),null!=D(J,H))return!1}}return!0}function V(I,L,K){a.f.assertValue(L,"treeRoleMapping");var H=L.depth,J=H&&K?H.preferred:H.supported;return null==D(h(I.metadata.columns),J)}function D(I,L,K){if(a.f.assertValue(I,"value"),L){if(!K&&void 0!==L.min&&L.min>I)return v.conditionRangeTooSmall;if(void 0!==L.max&&L.max<I)return v.conditionRangeTooLarge}}function w(I,L,K,z){if(I&&void 0!==I.kind){var H=I.kind,J=K[L];if(J){var k=J.all();for(var G of k)if(z[G.queryRef]!==H)switch(H){case l.DW.Measure:return v.conditionKindExpectedMeasure;case l.DW.Grouping:return v.conditionKindExpectedGrouping;case l.DW.GroupingOrMeasure:return v.conditionKindExpectedGroupingOrMeasure}}}}function M(I,L,K,z){if(I&&I.areHierarchicallyRelated&&!_.isEmpty(L)&&!_.isEmpty(K)&&z){var J=R(_.map(L,k=>k.queryRef),K);if(!g.m.areHierarchicallyRelated(z,J))return v.conditionNotHierarchicallyRelated}}function A(I,L,K){if(a.f.assertAnyValue(I,"can be called with empty role"),a.f.assertNonEmpty(L,"must have selects"),a.f.assertValue(K,"must have Schema"),1!==_.chain(L).map(q=>q.name).uniq().value().length){var J=R(_.map(I,q=>q.queryRef),L),k=_.chain(J).map(q=>K.schema(q.schema)).uniq().value(),G=_.uniqWith(J,(q,Q)=>(0,r.fS)(q,Q));if(a.f.assertNonEmpty(G,"uniqueEntityExprs"),G.length<2)return _.some(k,q=>!q.capabilities||!q.capabilities.supportsInstanceFilters)?v.conditionSchemaCapabilities_TupleFilters_InstanceFilters:void 0;if(_.some(k,q=>!q.capabilities||!q.capabilities.supportsMultiTableTupleFilters||!q.capabilities.supportsInstanceFilters))return v.conditionSchemaCapabilities_TupleFilters_InstanceFilters}}function R(I,L){if(!_.isEmpty(I)&&!_.isEmpty(L)){var K={};I.forEach(J=>{K[J]=!0});var z=[];for(var H of L)H.name&&K[H.name]&&H.expr&&z.push(H.expr.getTargetEntity());return z}}function B(I,L,K,z,H,J,k,G,q){a.f.assertValue(I,"projections"),a.f.assertAnyValue(L,"mappings"),a.f.assert(()=>_.every(L,Ie=>_.isPlainObject(Ie)),"precondition: prototypal inheritance on DataViewMapping is not supported by DataViewAnalysis");var Q=[],Z=[];if(!_.isEmpty(L))for(var X=0,re=L.length;X<re;X++){var te=L[X],se=te.conditions,ke=W(te.requiredProperties,H,z,J),Ue=[];if(_.isEmpty(se))Ue.push({});else for(var ot=0,ft=se.length;ot<ft;ot++){var Ct=se[ot],Ke=N(I,Ct,K,void 0,k,G,q);if(_.isEmpty(Ke))Ue.push(Ct);else for(var Ae of Ke)Ae.mappingIndex=X,Ae.conditionIndex=ot,Z.push(Ae)}if(!_.isEmpty(Ue)&&ke){var we=_.cloneDeep(te);we.single&&(we={table:{rows:{for:{in:we.single.role}}}});var Se=_.filter(Ue,Ie=>Object.keys(Ie).length>0);_.isEmpty(Se)||(we.conditions=Se),Q.push(we)}}return{supportedMappings:(0,i.rm)(Q),mappingErrors:(0,i.rm)(Z)}}function N(I,L,K,z,H,J,k){a.f.assertValue(I,"projections"),a.f.assertValue(L,"condition");for(var G=Object.keys(L),q=[],Q=0,Z=G.length;Q<Z;Q++){var X=G[Q],re=I[X]&&!_.isEmpty(I[X].activeProjectionRefs),te=L[X],se=!te.suppressDrill,Ue=U(te,X,I,se&&(null!=z?z:re)&&se,k);null!=Ue&&q.push({code:Ue,roleName:X}),null!=(Ue=w(te,X,I,K))&&q.push({code:Ue,roleName:X});var ot=I[X]&&I[X].projected(),ft=void 0;_.isEmpty(H)||(ft=_.map(ot,Ct=>H.withName(Ct.queryRef))),null!=(Ue=M(te,ot,ft,J))&&q.push({code:Ue,roleName:X}),te.multiTableTupleFiltersSupported&&J&&!_.isEmpty(H)&&!_.isEmpty(ft)&&null!=(Ue=A(ot,ft,J))&&q.push({code:Ue,roleName:X})}return q}function W(I,L,K,z){if(_.isEmpty(I))return!0;if(!L||!z)return!1;var H=(0,t.Ue)(),J=(0,o.X)(),k=new p.Q(K,H);return _.every(I,G=>{var q=null,Q=z[G.objectName];if(!Q)return!1;var X,Z=L[G.objectName];return Z&&(q=Z.properties[G.propertyName]),!_.isEmpty(Q)&&Q[0]&&(X=(0,n.NA)(z,G,Q[0].selector)),!(!q||!X)&&k.evaluateProperty(J,q,X)})}function F(I,L,K,z){a.f.assertValue(I,"roleName"),a.f.assertValue(L,"projections");var H=L[I];return H?K?1:z?H.all().length:H.projected().length:0}function U(I,L,K,z,H){if(I){var J=F(L,K,z,H);if(void 0!==I.min&&I.min>J)return v.conditionRangeTooSmall;var k=F(L,K,z);if(void 0!==I.max&&I.max<k)return v.conditionRangeTooLarge}}function O(I,L){if(I&&L&&I.categorical&&L.categorical){var K=I.categorical.categories,z=L.categorical.categories;if(K&&z&&K.length===z.length){for(var H=0,J=K.length;H<J;H++){var k=K[H].identity,G=z[H].identity,q=x(k);if(q!==x(G))return!1;for(var Q=0;Q<q;Q++)if(!(0,s.fS)(k[Q],G[Q]))return!1}return!0}}return!1}function x(I){return I?I.length:0}},36146:function(ve,j,e){e.d(j,{h:function(){return l}});var r=e(650543),i=e(442407),a=e(402623),t=e(36432);function l(){return new g}class g{constructor(){this.categories=[],this.staticMeasureColumns=[],this.dynamicMeasureColumns=[]}withCategory(o){var v=o.values,m=o.identityFrom,c=o.source.type,C={source:o.source,identityFields:o.identityFrom.fields,identity:o.identityFrom.identities||[],values:v};if(!o.identityFrom.identities)for(var y=0,S=v.length;y<S;y++)C.identity.push(n(m,y,v[y],c));return this.categories||(this.categories=[]),this.categories.push(C),this}withCategories(o){return _.isEmpty(this.categories)?this.categories=o:Array.prototype.push.apply(this.categories,o),this}withValues(o){r.f.assertValue(o,"options");var v=o.columns;for(var m of(r.f.assertValue(v,"columns"),v))this.staticMeasureColumns.push(m.source);return this.staticSeriesValues=v,this}withGroupedValues(o){r.f.assertValue(o,"options");var v=o.groupColumn;r.f.assertValue(v,"groupColumn"),this.dynamicSeriesMetadata={column:v.source,identityFrom:v.identityFrom,values:v.values};var m=o.valueColumns;for(var c of m)this.dynamicMeasureColumns.push(c.source);return this.dynamicSeriesValues=o.data,this}fillData(o){var v=this,m=_.head(this.categories),c=m&&m.values?m.values.length:0;if(this.hasDynamicSeries())for(var C=function(){var f=v.dynamicSeriesValues[y];r.f.assert(()=>f.length===v.dynamicMeasureColumns.length,"seriesMeasures.length === this.dynamicMeasureColumns.length");for(var b=0,V=v.dynamicMeasureColumns.length;b<V;b++)s(o[y*V+b],f[b],c)},y=0,S=this.dynamicSeriesMetadata.values.length;y<S;y++)C();if(this.hasStaticSeries())for(var h=this.hasDynamicSeries()?this.dynamicSeriesValues.length*this.dynamicMeasureColumns.length:0,E=0,u=this.staticMeasureColumns.length;E<u;E++)s(o[h+E],this.staticSeriesValues[E],c)}build(){var o=[],v={},m=this.categories,c=this.dynamicSeriesMetadata;for(var C of m)p(o,C.source);if(this.hasDynamicSeries()){p(o,c.column),v.values=(0,t.Yv)([],c.identityFrom.fields,c.column);var y=c.values,S=new Map;for(var h of this.dynamicMeasureColumns)h.formatSource?.formatString&&S.set(h.formatSource.formatString,new Map);for(var E=0;E<y.length;E++){var u=y[E],f=n(c.identityFrom,E,u,c.column.type);for(var b of this.dynamicMeasureColumns){var V=_.toPlainObject(b);V.groupName=u,S.has(b)&&S.get(b).set(V.groupName,V),V.rolesIndex&&delete V.rolesIndex,p(o,V),v.values.push({source:V,values:[],identity:f})}}if(S.size>0){var T=function(B){B.formatSource?.formatString&&(r.f.assert(()=>S.has(B.formatSource.formatString),"formatString column must be in dynamicFormatStringMappings"),B.formatSource={formatString:S.get(B.formatSource.formatString).get(B.groupName)})};for(var P of o)T(P)}if(0===y.length)for(var D of this.dynamicMeasureColumns){var w=_.toPlainObject(D);p(o,w),v.values.push({source:w,values:[]})}if(this.hasStaticSeries()){var M=v.values.grouped();v.values.grouped=()=>M,this.appendStaticMeasureColumns(o,v.values)}}else v.values=(0,t.Yv)(),this.appendStaticMeasureColumns(o,v.values);var A=this.categories;_.isEmpty(A)||(v.categories=A),this.fillData(v.values);var R={metadata:{columns:o},categorical:v};if(this.isLegalDataView(R))return R}appendStaticMeasureColumns(o,v){if(r.f.assertValue(o,"metadataColumns"),r.f.assertValue(v,"valueColumns"),!_.isEmpty(this.staticMeasureColumns))for(var m of this.staticMeasureColumns)p(o,m),v.push({source:m,values:[]})}isLegalDataView(o){return!(this.hasDynamicSeries()&&this.hasStaticSeries()&&g.isVisualDataView(o.metadata.columns))}static isVisualDataView(o){return!_.isEmpty(o)&&_.some(o,v=>!!v.queryName)}hasDynamicSeries(){return!!this.dynamicSeriesMetadata}hasStaticSeries(){return!!this.staticSeriesValues}}function n(d,o,v,m){var c=d.identities;return c?c[o]:(r.f.assert(()=>d.fields&&1===d.fields.length,"Inferring identity, expect exactly one field."),(0,a.TZ)((0,i.Dg)(d.fields[0],(0,i.kQ)(v,m))))}function p(d,o){_.includes(d,o)||d.push(o)}function s(d,o,v){r.f.assertValue(d,"target"),r.f.assertValue(o,"source"),r.f.assertValue(v,"categoryLength");var m=o.values;r.f.assert(()=>v===m.length||0===v,"categoryLength === values.length || categoryLength === 0"),d.values=m;var c=o.highlights;c&&(r.f.assert(()=>v===c.length,"categoryLength === highlights.length"),d.highlights=c);var y,C=o.objects;C&&(r.f.assert(()=>v===C.length,"categoryLength === objects.length"),d.objects=C),void 0!==o.minLocal&&(y||(y={}),y.minLocal=o.minLocal),void 0!==o.maxLocal&&(y||(y={}),y.maxLocal=o.maxLocal),y&&(d.source.aggregates=y,_.extend(d,y))}},836808:function(ve,j,e){e.d(j,{KH:function(){return h},PO:function(){return P}});var r=e(60978),i=e(650543),a=e(896286),t=e(296841),l=e(191282),g=e(442407),n=e(62396),p=e(436043),s=e(600140),d=e(230343),o=e(630190),v=e(995649);function m(x){return new c(x)}class c{constructor(I){this.dataView=I,i.f.assertValue(I,"dataView"),this.columnsByRole={},this.valueSources=[];var L={};if(this.dataView.values)for(var K of this.dataView.values){this.valueSources.push(K.source);var z=K.source.rootSource;z&&(L[K.source.index]=z)}this.valueSources.unshift(..._.values(L))}getExprColumn(I,L){return(0,v.T5)(I,this.valueSources,L?void 0:this.groupName)}getScopedEvalExprValue(I){var L=I.decomposeGlobalAggregateOfScopedExpr();if(L){var K=_.chain(this.valueSources).filter(H=>null==H.groupName).value(),z=(0,v.T5)(L.source,K);return z?(0,v._L)(z,L.func):void 0}if(I.hasInnerMostScope())return this.getExprValue(I.expression);I.hasGlobalScope()?i.f.assertFail("Attempt to evaluate a scoped expression within the Global scope"):i.f.assertFail("Evaluation of Partial-Scope expressions is not supported")}getExprValue(I){var L=this.index;if(_.isNumber(L)){var K=this.dataView.values;if(K){var z=(0,v.T5)(I,this.valueSources,this.groupName),H=_.find(K,J=>J.source===z);if(H)return this.useHighlightValues?H.highlights[L]:H.values[L]}}}getRoleValues(I){var L=this.columnsByRole,K=L[I];if(K||(K=L[I]=function(x,I){return i.f.assertValue(x,"dataViewCategorical"),y(x.values,I)||y(x.categories,I)}(this.dataView,I)),K&&null!=this.index)return _.map(K,H=>H.values[this.index])}setCurrentRowIndex(I){i.f.assertValue(I,"index"),this.index=I}resetCurrentRowIndex(){delete this.index}setCurrentColumnGroupName(I){i.f.assertValue(void 0!==I,"groupName"),this.groupName=I}useHighlights(I){this.useHighlightValues=I}}function y(x,I){if(i.f.assertAnyValue(x,"columns"),x){var L=[];for(var K of x){var z=K.source.roles;!z||!z[I]||L.push(K)}return L}}var S=e(28691);function h(x,I,L,K,z,H,J,k){for(var G of(i.f.assertValue(x,"dataViewCategorical"),i.f.assertAnyValue(I,"selectTransforms"),i.f.assertValue(L,"objectDescriptors"),i.f.assertValue(K,"objectDefnsForSelector"),K)){var q=G.selector,Q=G.rules,Z=G.objects;i.f.assertValue(q,"selector"),i.f.assertAnyValue(Q,"rules"),i.f.assertValue(Z,"objectDefns");var X=(0,l.GT)(q);q=A(x,q);var re=(0,S.U)(q,z);J&&(J.selector=q,J.targetExpr=(0,l.AV)(q,I)),E(x,L,q,X,Z,re,H,J),T(x,L,q,X,Z,re,H,J,k),w(x,L,q,Z,H,J,k)}}function E(x,I,L,K,z,H,J,k){if(i.f.assertValue(x,"dataViewCategorical"),i.f.assertValue(I,"objectDescriptors"),i.f.assertValue(L,"selector"),i.f.assertValue(K,"containsWildcard"),i.f.assertValue(z,"objectDefns"),x.categories&&0!==x.categories.length){var G=function(x,I,L){i.f.assertValue(x.categories[0],"dataViewCategorical.categories[0]");var K=x.categories[0].identity,z=[];for(var H of x.categories){if(!H.identityFields||!L.matchesKeys([H.identityFields],1))return;z.push(H)}i.f.assert(()=>z.length===x.categories.length,"Column length mismatch");var J=I.metadata;if(J){var k=x.values;if(k)for(var G=0,q=k.length;G<q;G++){var Q=k[G];if(Q.source.queryName===J){z=[Q];break}}}return{columns:z,identities:K}}(x,L,H);if(G){var Z,q=function(x){return _.some(x.values,I=>!!I.highlights)}(x),Q=G.identities,X=m(x);if(Q){for(var re,te,se=0,Ve=Q.length;se<Ve;se++)if(K||H.matches([Q[se]])){switch(X.setCurrentRowIndex(se),L.highlightMatching){case void 0:case t.X.ValuesOnly:re=!0,te=!1;break;case t.X.ValuesAndHighlight:re=!0,te=q;break;case t.X.HighlightsOrValues:re=!q,te=q;break;default:i.f.assertNever(L.highlightMatching)}if(re){X.useHighlights(!1);var Ue=(0,o.PJ)(J,X,I,z,k);if(Ue)for(var ot of G.columns){var ft=ot.objects;ft||(ft=ot.objects=new Array(Ve)),ft[se]||(ft[se]={}),(0,d.PM)(ft[se],Ue,L.id,L.order)}Z=!0}if(te){X.useHighlights(!0);var Ct=(0,o.PJ)(J,X,I,z,k);if(Ct)for(var Ke of G.columns){var Ae=Ke.highlightObjects;Ae||(Ae=Ke.highlightObjects=new Array(Ve)),Ae[se]||(Ae[se]={}),(0,d.PM)(Ae[se],Ct,L.id,L.order)}Z=!0}if(!K)return Z}return Z}}}}function V(x,I,L){return i.f.assertAnyValue(I,"propertyDefn"),!!(I instanceof g.Il&&(0,r.NH)(I)&&I.attributeKind===n.K0.FormatString)||function(x,I,L){return L.measureDrivenDataLabels&&"labels"===x&&null!=I}(x,I,L)||function(x,I){return"annotationTemplate"===x&&null!=I}(x,I)||(0,p.ZG)(I)||function(x,I,L){var K=I.solid?.color?.kind;return L.categoricalSecondaryCF&&-1!==["labels","categoryLabels","totals"].indexOf(x)&&(K===n.sc.FillRule||K===n.sc.Conditional||K===n.sc.Aggregation||K===n.sc.MeasureRef)}(x,I,L)}function T(x,I,L,K,z,H,J,k,G){i.f.assertValue(x,"dataViewCategorical"),i.f.assertValue(I,"objectDescriptors"),i.f.assertValue(L,"selector"),i.f.assertValue(K,"containsWildcard"),i.f.assertValue(z,"objectDefns");var q=x.values;if(q&&q.identityFields){var Q=H.matchesKeys([q.identityFields],1),Z=!1;if(G?.categoricalIntersectionEval){var X=x.categories,te=[];te.push(X?.length>0?X[0].identityFields:void 0),te.push(q.identityFields),Z=null!=L.metadata&&q.length>0&&X?.length>0&&_.some(q,Ee=>Ee.source.queryName===L.metadata)&&H.matchesKeys(te,te.length)}if(Q||Z){var se=q.grouped();if(se){var ot,Ve=m(x),ke=L.metadata,Ue=N(z,V,G);for(var ft of se)if(void 0!==ft.name){_.isEmpty(Ue)||(Ve.setCurrentColumnGroupName(ft.name),M(x,I,L,Z,Ue,H,J,k,Ve,ft,G));var Ct=ft.values;if(K||H.matches([ft.identity])){var Ke=(0,o.PJ)(J,Ve,I,z,k);if(Ke)if(ke)for(var Ae=0,we=Ct.length;Ae<we;Ae++){var Ne=Ct[Ae],Se=Ne.source;if(Se.queryName===ke){var Ie=(0,a.ED)(Se),me=Ie.objects;me||(me=Ie.objects={}),(0,d.PM)(me,Ke,L.id,L.order),Ne.source=Ie,ot=!0;break}}else{var Oe=ft.objects;Oe||(Oe=ft.objects={}),(0,d.PM)(Oe,Ke,L.id,L.order),P(q,se),ot=!0}if(!K)return!0}}return ot}}}}function P(x,I){x.grouped=I?()=>I:()=>function(x){i.f.assertValue(x,"values");for(var L,I=[],K=0,z=x.length;K<z;K++){var H=x[K];if(!L||L.identity!==H.identity){if(L={values:[]},H.identity){L.identity=H.identity;var J=H.source;void 0!==J.groupName?L.name=J.groupName:J.displayName&&(L.name=J.displayName)}I.push(L)}L.values.push(H)}return I}(x)}function w(x,I,L,K,z,H,J){if(i.f.assertValue(x,"dataViewCategorical"),i.f.assertValue(I,"objectDescriptors"),i.f.assertValue(L,"selector"),i.f.assertValue(K,"objectDefns"),_.isEmpty(x.categories)){var k=x.values;if(!k||_.isEmpty(k.identityFields)){var G=function(x,I){var L=I.metadata;if(void 0!==L&&x)return i.f.assert(()=>1===_.filter(x,K=>K.source.queryName===L).length,"Only one column has to match"),_.find(x,K=>K.source.queryName===L)}(x.values,L);if(G){var q=m(x),Q=(0,l.N6)(L);if(K=N(K,V,J),!_.isEmpty(K)&&Q){i.f.assert(()=>x.values.length>0,"dataViewCategorical.values.length > 0"),i.f.assert(()=>x.values[0].values.length<=1,"There has to be max 1 row since there are no category groupings"),q.setCurrentRowIndex(0);var X=(0,o.PJ)(z,q,I,K,H);if(X){var re=G.objects;re||(re=G.objects=[]),re[0]||(re[0]={}),(0,d.PM)(re[0],X,L.id,L.order)}}}}}}function M(x,I,L,K,z,H,J,k,G,q,Q){if(i.f.assertValue(I,"objectDescriptors"),i.f.assertValue(L,"selector"),i.f.assertValue(z,"objectDefns"),i.f.assertValue(G,"evalContext"),i.f.assertValue(q,"valueGrouping"),(0,l.N6)(L)||K){var Z=function(x,I,L){return void 0===I?.metadata&&L.categoricalSecondaryCF?x:_.filter(x,K=>K.source.queryName===I.metadata)}(q.values,L,Q);for(var X of Z){i.f.assertValue(X.source.groupName===q.name,"targetColumn.source.groupName");for(var re=X.values.length,te=0;te<re;te++)if((0,l.N6)(L)||O(L,x.categories[0].identity[te],X,H)){G.setCurrentRowIndex(te),G.useHighlights(!1);var se=(0,o.PJ)(J,G,I,z,k);if(se){var Ve=X.objects;Ve||(Ve=X.objects=new Array(re)),Ve[te]||(Ve[te]={}),(0,d.PM)(Ve[te],se,L.id,L.order)}if(null!=X.highlights){G.useHighlights(!0);var ke=(0,o.PJ)(J,G,I,z,k);if(ke){var Ue=X.highlightObjects;Ue||(Ue=X.highlightObjects=new Array(re)),Ue[te]||(Ue[te]={}),(0,d.PM)(Ue[te],ke,L.id,L.order)}}G.resetCurrentRowIndex()}}}}function A(x,I){return(0,l._Q)(I)&&(I=(0,s.w)(I,L=>function(x,I){if(I.categories)for(var L of I.categories)if(L.source&&(0,s.s)([L.source],x))return[L.identityFields]}(L,x))),I}function N(x,I,L){return i.f.assertValue(x,"objectDefns"),_.chain(x).map(K=>({...K,properties:_.pickBy(K.properties,z=>I(K.name,z,L))})).filter(K=>!_.isEmpty(Object.keys(K.properties))).value()}function O(x,I,L,K){if(L.source.queryName!==x.metadata)return!1;var z=[];return z.push(I),z.push(L.identity),K.matches(z,[])}},34842:function(ve,j,e){e.d(j,{eC:function(){return d},pP:function(){return s},zq:function(){return o}});var r=e(650543),i=e(896286),a=e(762329),t=e(248505),l=e(87072),g=e(482693),n=e(237008),p=e(995649);function s(f,b,V,T,P){r.f.assertValue(f,"dataView"),r.f.assertAnyValue(b,"objectDescriptors"),r.f.assertAnyValue(V,"applicableRoleMappings"),r.f.assertAnyValue(T,"projectionActiveItems");var D=f,w=f.categorical;if(w){var M=function(f,b,V){r.f.assertValue(f,"dataViewCategorical"),r.f.assertAnyValue(b,"applicableRoleMappings");var T,P=_.chain(b).filter(R=>!(0,l.zY)(R)).map(R=>R.categorical).value(),D=!_.isEmpty(P)&&_.every(P,R=>!!R);if(D){var w=function(f){r.f.assertNonEmpty(f,"categoricalRoleMappings"),r.f.assert(()=>_.every(f,V=>!!V),"categoricalRoleMappings must not contain falsy element");var b=(0,l.y4)(f,l.O2);if(1===_.size(b))return _.head(b)}(P);if(w&&_.includes(V,w)&&function(f,b){r.f.assertValue(f,"categoricalRoleName"),r.f.assertNonEmpty(b,"roleMappings"),r.f.assert(()=>_.every(b,T=>T.categorical),"All specified roleMappings are expected to target categorical");var V=_.every(b,T=>!_.isEmpty(T.conditions)&&_.every(T.conditions,P=>P[f]&&1===P[f].max));return V}(w,b)){var M=_.filter(f.categories,R=>R.source.roles&&!!R.source.roles[w]);if(!_.isEmpty(M)){var A=_.every(M,R=>R.values.length===M[0].values.length);A&&(T={roleName:w,categories:M})}}}return T}(w,V,P),A=(0,p.dM)(f.metadata.columns);if(M&&(M.categories.length>=2||A)){var R=_.chain(T&&T[M.roleName]).filter(N=>N.suppressConcat).map(N=>N.queryRef).value();D=C(f,(0,g.$v)(b),M.roleName,M.categories,R,A)}}return D}function d(f,b,V,T,P=!1){var D;if(r.f.assertValue(f,"metadata"),r.f.assertAnyValue(b,"formatStringPropId"),r.f.assertValue(T,"categorical"),!_.isEmpty(T.categories)&&T.categories.length>=2){var w=(0,i.ED)(f.columns);D=C({metadata:(0,i.ED)(f,R=>{R.columns=w}),categorical:T},b,V,T.categories,[],void 0,P)}else D={metadata:f,categorical:T};return D}function o(f){var b=Object.getPrototypeOf(f);return b&&b.categories?b.categories:f.categories}function C(f,b,V,T,P,D,w=!1){r.f.assert(()=>f&&f.categorical&&_.size(f.categorical.categories)>=1,"dataView && dataView.categorical && _.size(dataView.categorical.categories) >= 1"),r.f.assertAnyValue(b,"formatStringPropId"),r.f.assertValue(V,"roleName"),r.f.assert(()=>!_.isEmpty(T),"!_.isEmpty(columnsSortedByProjectionOrdering)"),r.f.assert(()=>_.every(T,k=>_.includes(f.categorical.categories,k)),"every column in columnsSortedByProjectionOrdering should exist in dataView.categorical.categories");var R,B,M=T.length-1,A=_.filter(T,(k,G)=>G===M||!_.includes(P,k.source.queryName));1===T.length?(w||(R=A[0].values),B=A[0].source.type):(w||(R=function(f,b){r.f.assertValue(f,"columnsSortedByProjectionOrdering"),r.f.assertAnyValue(b,"formatStringPropId");var V=[];for(var T of f)for(var P=(0,a.EO)(T.source,b),D=0,w=T.values.length;D<w;D++){var A=(0,a.WU)(T.values&&T.values[D],P);V[D]=void 0===V[D]?A:V[D]+" "+A}return V}(A,b)),B=t.Ge.fromDescriptor({text:!0}));var W=function(f,b,V,T){var P;if(r.f.assertValue(f,"roleName"),r.f.assertNonEmpty(b,"sourceColumnsSortedByProjectionOrdering"),r.f.assert(()=>1===_.chain(b).map(B=>B.isMeasure).uniq().value().length,"pre-condition: caller code should not attempt to combine a mix of measure columns and non-measure columns"),T)P=function(f,b){return f+" "+b}(T,_.last(b).displayName);else for(var w of b)P=null==P?w.displayName:P+" "+w.displayName;var M={};M[f]=!0;var A={displayName:P,roles:M,type:V},R=_.last(b);return void 0!==R.isMeasure&&(A.isMeasure=R.isMeasure),A.queryName=R.queryName,A}(V,_.map(A,k=>k.source),B,D),F=(0,i.qO)(f);if(function(f,b){r.f.assertValue(f,"transformedDataView"),r.f.assertValue(b,"newColumn");var V=(0,i.qO)(f.metadata.columns);V.push(b);var T=(0,i.qO)(f.metadata);T.columns=V,f.metadata=T}(F,W),!w){var U=f.categorical,x=function(f,b,V,T){r.f.assert(()=>f&&f.length>=1,"sourceColumnsSortedByProjectionOrdering && sourceColumnsSortedByProjectionOrdering.length >= 1"),r.f.assertValue(b,"columnMetadata"),r.f.assertValue(V,"concatenatedValues"),r.f.assertAnyValue(T,"dataViewObjects");var P={source:b,values:V},D=f[0];return D.identity&&(P.identity=D.identity),D.identityFields&&(P.identityFields=D.identityFields),T&&(P.objects=T),P}(A,W,R,(0,n.OC)(U.categories)),I=_.last(T),L=_.findIndex(U.categories,k=>k===I),K=(0,i.qO)(U.categories);K.splice(L,0,x);for(var z=function(k){_.find(T,G=>G===K[k])&&K.splice(k,1)},H=K.length-1;H>=0;H--)z(H);var J=(0,i.qO)(U);J.categories=K,F.categorical=J}return F}},600140:function(ve,j,e){e.d(j,{s:function(){return t},w:function(){return a}});var r=e(191282),i=e(29706);function a(l,g){var n={data:[],id:l.id,metadata:l.metadata,order:l.order};for(var p of l.data)if((0,r.j9)(p)){var s=g(p.roles);if(!_.isEmpty(s)){for(var d of s)n.data.push((0,i.ms)(d));continue}}else n.data.push(p);return n}function t(l,g){for(var n of l){var p=n.roles;if(!p||!_.some(g,s=>p[s]))return!1}return!0}},87072:function(ve,j,e){e.d(j,{G8:function(){return M},O2:function(){return o},Ti:function(){return y},V3:function(){return S},VO:function(){return p},VV:function(){return h},Xs:function(){return m},Xw:function(){return x},ZZ:function(){return n},_1:function(){return v},eD:function(){return O},mn:function(){return D},nG:function(){return g},oJ:function(){return w},u5:function(){return A},wj:function(){return T},y4:function(){return d},zY:function(){return l}});var r=e(929248),i=e(990297),a=e(650543),t=e(455235);function l(I){return I&&I.usage&&I.usage.regression||void 0}class g{constructor(L){this.includeScopedValuesRoles=L,this.roleNames=[]}visitRole(L,K){(this.includeScopedValuesRoles||K!==t.Fk.MatrixRowsScopedValue)&&this.roleNames.push(L)}static fromMatrixRows(L,K){var z=new this(K);return(0,t.Ay)(L,z),z.roleNames}static fromMatrixColumns(L){var K=new this;return(0,t.Ay)(L,K),K.roleNames}static fromMatrixValues(L){var K=new this;return(0,t.hw)(L,K),K.roleNames}static FromCategoricalValues(L){var K=new this;return(0,t.fl)(L,K),K.roleNames}static fromCategoricalCategories(L){var K=new this;return(0,t.Sr)(L,K),K.roleNames}}function n(I){return!!(I&&I.usage&&I.usage.forecast)}function p(I){return!!(I&&I.usage&&I.usage.anomalyDetection)}function d(I,L){if(a.f.assertValue(I,"categoricalRoleMappings"),a.f.assertValue(L,"rolesGetter"),0!==_.size(I)){var K=_.map(I,H=>L(H)),z=K[0];if(!(K.length>=2)||_.every(K,H=>(0,i.NF)(H,z,(J,k)=>J===k)))return z}}function o(I){if(a.f.assertValue(I,"categoricalRoleMapping"),!I.categories)return[];var L=[];return(0,t.Sr)(I.categories,{visitRole:K=>{L.push(K)}}),L}function v(I){if(a.f.assertAnyValue(I,"roleMappings"),!I)return r.m.None;var L=r.m.None;for(var K of I)K.categorical&&(L|=r.m.Categorical),K.matrix&&(L|=r.m.Matrix),K.single&&(L|=r.m.Table),K.table&&(L|=r.m.Table),K.tree&&(L|=r.m.Tree);return L}function m(I){if(I){if(I.top)return"top";if(I.window)return"window";if(I.bottom)return"bottom";if(I.binnedLineSample)return"binnedLineSample";if(I.overlappingPointsSample)return"overlappingPointsSample";if(I.sample)return"sample";if(I.topNPerLevel)return"topNPerLevel"}}function y(I){return!!I&&!!I.for}function S(I){return!!I&&!!I.composite}function h(I){return!!I&&!!I.select}function T(I){return!!I&&!!I.group}function D(I){return!!I&&!!I.for}function w(I){return!!I&&!!I.composite}function M(I){return!!I&&!!I.select}function A(I){return!!I&&!!I.scope}function O(I){return function(I){return!!I&&!!I.bind}(I)?I.bind.to:D(I)?I.for.in:void a.f.assertNever(I)}function x(I){return a.f.assertValue(I,"role"),_.isEmpty(I.items)?[]:_.isEmpty(I.activeItems)?I.items:_.filter(I.items,L=>_.includes(I.activeItems,L.queryName))}},455235:function(ve,j,e){e.d(j,{Ay:function(){return s},Fk:function(){return i},Jj:function(){return p},Sr:function(){return l},aU:function(){return t},fl:function(){return g},hw:function(){return o},oF:function(){return a},vS:function(){return b}});var r=e(650543),i=function(P){return P.CategoricalCategory="CategoricalCategory",P.CategoricalSeries="CategoricalSeries",P.CategoricalValueGroup="CategoricalValueGroup",P.CategoricalValue="CategoricalValue",P.MatrixRowsGroup="MatrixRowsGroup",P.MatrixColumnsGroup="MatrixColumnsGroup",P.MatrixIntersection="MatrixIntersection",P.MatrixRowsScopedValue="MatrixRowsScopedValue",P.TableField="TableField",P.TreeNode="TreeNode",P.TreeValue="TreeValue",P.SingleField="SingleField",P}({});function a(P,D){r.f.assertValue(P,"mapping"),r.f.assertValue(D,"visitor");var w=P.categorical;w&&t(w,D);var M=P.table;M&&function(P,D){r.f.assertValue(P,"mapping"),r.f.assertValue(D,"visitor");var w=P.rows;S(w,D,i.TableField),h(w,D,i.TableField),u(w,D,i.TableField),V(w,D)}(M,D);var A=P.matrix;A&&p(A,D);var R=P.tree;R&&function(P,D){r.f.assertValue(P,"mapping"),r.f.assertValue(D,"visitor"),function(P,D){r.f.assertAnyValue(P,"mapping"),r.f.assertValue(D,"visitor"),P&&(h(P,D,i.TreeNode),V(P,D))}(P.nodes,D),function(P,D){r.f.assertAnyValue(P,"mapping"),r.f.assertValue(D,"visitor"),P&&h(P,D,i.TreeValue)}(P.values,D)}(R,D);var B=P.single;B&&function(P,D){r.f.assertValue(P,"mapping"),r.f.assertValue(D,"visitor"),D.visitRole(P.role,i.SingleField)}(B,D)}function t(P,D){r.f.assertValue(P,"mapping"),r.f.assertValue(D,"visitor"),l(P.categories,D);var w=P.values;g(w,D),b(w,D),V(P,D)}function l(P,D){r.f.assertAnyValue(P,"mapping"),r.f.assertValue(D,"visitor"),P&&(S(P,D,i.CategoricalCategory),h(P,D,i.CategoricalCategory),u(P,D,i.CategoricalCategory),V(P,D))}function g(P,D){if(r.f.assertAnyValue(P,"mapping"),r.f.assertValue(D,"visitor"),P){S(P,D,i.CategoricalValue),h(P,D,i.CategoricalValue),u(P,D,i.CategoricalValue);var w=P.group;if(w)for(var M of w.select)S(M,D,i.CategoricalValueGroup),h(M,D,i.CategoricalValueGroup)}}function p(P,D){r.f.assertValue(P,"mapping"),r.f.assertValue(D,"visitor"),s(P.rows,D),function(P,D){m(P,D,i.MatrixColumnsGroup)}(P.columns,D),o(P.values,D)}function s(P,D){!function(P,D,w){if(r.f.assertAnyValue(P,"mapping"),r.f.assertValue(D,"visitor"),P){h(P,D,w),function(P,D,w){r.f.assertValue(P,"mapping"),r.f.assertValue(D,"visitor");var M=P.select;if(M)for(var A of M)S(A,D,w),h(A,D,w),E(A,D,w)}(P,D,w),V(P,D);var M=P.values;if(!M)return;h(M,D,i.MatrixRowsScopedValue),u(M,D,i.MatrixRowsScopedValue)}}(P,D,i.MatrixRowsGroup)}function o(P,D){m(P,D,i.MatrixIntersection)}function m(P,D,w){r.f.assertAnyValue(P,"mapping"),r.f.assertValue(D,"visitor"),P&&(h(P,D,w),u(P,D,w),V(P,D))}function S(P,D,w){r.f.assertValue(P,"mapping"),r.f.assertValue(D,"visitor");var M=P.bind;M&&D.visitRole(M.to,w)}function h(P,D,w){r.f.assertValue(P,"mapping"),r.f.assertValue(D,"visitor");var M=P.for;M&&D.visitRole(M.in,w)}function E(P,D,w){r.f.assertValue(P,"mapping"),r.f.assertValue(D,"visitor");var M=P.composite;if(M){for(var A of(D.enterComposite&&D.enterComposite(),M))S(A,D,w),h(A,D,w);D.exitComposite&&D.exitComposite()}}function u(P,D,w){r.f.assertValue(P,"mapping"),r.f.assertValue(D,"visitor");var M=P.select;if(M)for(var A of M)S(A,D,w),h(A,D,w)}function b(P,D){if(r.f.assertAnyValue(P,"mapping"),r.f.assertValue(D,"visitor"),P){var w=P.group;w&&(D.visitRole(w.by,i.CategoricalSeries),V(w,D))}}function V(P,D){if(r.f.assertValue(P,"mapping"),r.f.assertValue(D,"visitor"),D.visitReduction){var w=P.dataReductionAlgorithm;w&&D.visitReduction(w)}}},230343:function(ve,j,e){e.d(j,{AO:function(){return l},NA:function(){return a},PM:function(){return d},RK:function(){return t},RR:function(){return g},W7:function(){return p},bC:function(){return s},t6:function(){return n}});var r=e(650543),i=e(562832);function a(v,m,c,C){return r.f.assertAnyValue(v,"objects"),r.f.assertValue(m,"propertyId"),r.f.assert(()=>"$"!==m.propertyName.charAt(0),"Properties starting with $ are reserved."),v?(0,i.N)(v[m.objectName],m.propertyName,c,C):c}function t(v,m,c){return v?.[m]||c}function l(v,m){return t(v,m)?.$instances}function g(v,m){var c=l(v,m);if(c){var C={};for(var y in c){var S=c[y].$order;null!=S&&(C[y]=S)}return C}}function n(v,m){if(m)return v?.metadata?.objectsRules?.[m.objectName]?.[m.propertyName]?.gradient}function p(v,m,c,C){var y=a(v,m,void 0,C)?.solid?.color;return void 0===y?c:y}function s(v,m,c){return!!a(v,m,void 0,c)?.solid?.color}function d(v,m,c,C){for(var y in r.f.assertValue(v,"DataViewObjects.mergeObjects - destination"),r.f.assertValue(m,"DataViewObjects.mergeObjects - source"),m){var S=m[y];if(null!=S){var h=v[y];if(!h){null==c?v[y]=S:(v[y]={$instances:{[c]:S}},null!=C&&(v[y].$instances[c].$order=C));continue}o(h,S,c,C)}}}function o(v,m,c,C){if(r.f.assertValue(v,"DataViewObjects.mergeObject - destination"),r.f.assertValue(m,"DataViewObjects.mergeObject - source"),r.f.assert(()=>null==m.$instances,"DataViewObjects.mergeObject - source should not include $instances"),c){var y=v.$instances;null==y&&(y=v.$instances={});var S=y[c];S||(S=y[c]={}),o(S,m,null),null!=C&&(S.$order=C)}else for(var h in m)"$instances"!==h&&"$order"!==h&&null!=m[h]&&(v[h]=m[h])}},562832:function(ve,j,e){e.d(j,{N:function(){return i},y:function(){return a}});var r=e(650543);function i(t,l,g,n){if(r.f.assertAnyValue(t,"object"),r.f.assertValue(l,"propertyName"),!t)return g;if(n){var p=t.$instances?.[n];if(!p)return g;t=p}var s=t[l];return void 0===s?g:s}function a(t,l,g,n,p){r.f.assertAnyValue(t,"object"),r.f.assertValue(l,"propertyName");var s=i(t,l,void 0,n)?.solid?.color;return s||p&&null===s?s:g}},719242:function(ve,j,e){e.d(j,{AV:function(){return h},E2:function(){return T},ES:function(){return U},GQ:function(){return N},Gc:function(){return E},Lo:function(){return I},NA:function(){return M},On:function(){return w},Pg:function(){return O},Rc:function(){return Q},TX:function(){return f},Vj:function(){return G},d9:function(){return L},dM:function(){return D},dn:function(){return z},e4:function(){return J},er:function(){return Z},hO:function(){return R},hu:function(){return x},hz:function(){return W},l7:function(){return u},my:function(){return B},rQ:function(){return k},sO:function(){return P},u4:function(){return q},ug:function(){return A},xb:function(){return K},xl:function(){return S},zx:function(){return y}});var r=e(60978),i=e(426313),a=e(650543),t=e(62414),l=e(553962),g=e(191282),n=e(914094),p=e(442407),s=e(428776),d=e(436043),o=e(853450),v=e(559698),m=e(482693),c=e(581130),C=e(690317);function y(X,re,te){a.f.assertValue(X,"defns");var se=X[re];se||(X[re]=[],se=X[re]);for(var Ve=0,ke=se.length;Ve<ke;Ve++){var Ue=se[Ve];if((0,g.fS)(Ue.selector,te))return Ue}return se.push({selector:te,properties:{}}),se[se.length-1]}function S(X,re,te,se){a.f.assertValue(X,"defns");var Ve=_.find(X[re],ke=>(0,g.fS)(ke.selector,te));Ve&&(Ve.selector=se)}function h(X,re,te){a.f.assertValue(X,"defns");var se=X[re];if(!se)return!1;var Ve=_.remove(se,ke=>(0,g.fS)(ke.selector,te)).length>0;return _.isEmpty(se)&&delete X[re],Ve}function E(X,re){if(X&&re)for(var te in re){var se=re[te];for(var Ve of se)for(var ke in Ve.properties)T(X,te,Ve.selector,ke)}}function u(X,re,te){if(a.f.assertValue(X,"Trying to cascade into undefined DataViewObjectDefinitions"),X&&re)for(var se in re){var Ve=re[se];if(Ve){var ke=X[se];ke||(ke=X[se]=[]),b(ke,Ve,te)}}}function f(X,re,te,se,Ve){var ke=B(X,re,te);if(ke){var Ue=ke.properties[se];Ue&&(y(X,Ve,te).properties[se]=Ue,delete ke.properties[se])}}function b(X,re,te){var se;if(te)X.splice(0,0,...re||[]);else for(var Ve of re){for(var ke of(se=!1,X))if((0,g.fS)(ke.selector,Ve.selector)){V(ke.properties,Ve.properties),se=!0;break}if(!se){var Ue={selector:Ve.selector,properties:{}};V(Ue.properties,Ve.properties),X.push(Ue)}}}function V(X,re){for(var te in re){var se=re[te];se&&(X[te]||(X[te]=se))}}function T(X,re,te,se){a.f.assertValue(X,"defns");var Ve=N(X,re,te),ke=_.sumBy(Ve,Ue=>(0,v.Ow)(Ue,se)?1:0);return D(X,{objectName:re,propertyName:se},te),ke}function P(X,re,te,se){a.f.assertValue(X,"defns"),a.f.assertValue(re,"propertyId"),y(X,re.objectName,te).properties[re.propertyName]=se}function D(X,re,te){if(null==te?.order)return!1;var se=N(X,re.objectName,te,{skipId:!0,skipOrder:!0}).filter(Ct=>null!=Ct.properties?.[re.propertyName]),Ve=_.map(se,Ct=>Ct.selector?.order).filter(Ct=>null!=Ct).sort();Ve=_.uniq(Ve);var ke=(Ct,Ke)=>{var Ae=Ct.selector?.order;return null!=Ae&&(Ct.selector.order=Ke++),Ke},Ue=0,ot=function(Ct){var Ke=_.filter(se,Ne=>Ne.selector?.order===Ct);if(a.f.assert(()=>!!Ke.length,"should find definitions that match given order"),1===Ke.length)Ue=ke(Ke[0],Ue);else{var Ae=_.findIndex(Ke,Ne=>(0,g.fS)(Ne.selector,te));for(var we of(Ae>=0&&(Ue=ke(Ke[Ae],Ue),Ke.splice(Ae,1)),Ke))Ue=ke(we,Ue)}_.pullAll(se,Ke)};for(var ft of Ve)ot(ft);return 0!==Ve.length}function w(X,re,te,se,Ve){var ke=F(re,te);ke?Ve?P(X,ke,se,Ve):T(X,ke.objectName,se,ke.propertyName):a.f.assertFail("Property does not have an associated format string object")}function M(X,re,te){var se=A(X,re,te);if(se)return se[re.propertyName]}function A(X,re,te){var se=N(X,re.objectName,te);if(se)for(var Ve of se)if(Ve.properties[re.propertyName])return Ve.properties}function R(X,re,te,se){var Ve=F(re,te);if(Ve){var ke=M(X,Ve,se);if(ke){if(Q(ke)&&(0,r.AW)(ke))return ke;a.f.assertFail("Format value is not of the expected type")}}else a.f.assertFail("Property does not have an associated format string object")}function B(X,re,te){if(a.f.assertAnyValue(X,"defns"),a.f.assertValue(re,"objectName"),a.f.assertAnyValue(te,"selector"),X){var se=X[re];if(se)for(var Ve=0,ke=se.length;Ve<ke;Ve++){var Ue=se[Ve];if((0,g.fS)(Ue.selector,te))return Ue}}}function N(X,re,te,se){if(a.f.assertAnyValue(X,"defns"),a.f.assertValue(re,"objectName"),a.f.assertAnyValue(te,"selector"),!X)return[];var Ve=X[re];return Ve?_.filter(Ve,ke=>(0,g.fS)(ke.selector,te,se)):[]}function W(X,re,te){var{objectName:se,propertyName:Ve}=re,ke=N(X,se,te,{skipId:!0,skipOrder:!0});if(ke){var Ue=_.filter(ke,Ke=>!!Ke.properties[Ve]);if(!_.isEmpty(Ue)){var ot={},ft=function(){var Ke=Ct.selector?.id;a.f.assert(()=>null!=Ke,"expected user-defined value"),ot[Ke]={selector:Ct.selector,value:Ct.properties[Ve]}};for(var Ct of Ue)ft();return ot}}}function F(X,re){var te=(0,m.VM)(X,re);if(te)return te.formatStringProperty;a.f.assertFail("Property is missing from the object descriptors")}function U(X,re){return X===re||(X instanceof n.yl&&re instanceof n.yl?n.yl.isSameFilter(X,re):X instanceof p.Il&&re instanceof p.Il?(0,i.fS)(X,re):(0,t.fS)(X,re))}function O(X,re){if(a.f.assertValue(X,"a"),a.f.assertValue(re,"b"),Object.keys(X).length!==Object.keys(re).length)return!1;for(var te in X)if(!U(X[te],re[te]))return!1;return!0}function x(X,re){a.f.assertValue(X,"a"),a.f.assertValue(re,"b");var te=[];for(var se in X)U(X[se],re[se])||te.push(se);for(var Ve in re)_.includes(te,Ve)||U(X[Ve],re[Ve])||te.push(Ve);return te}function I(X,re){a.f.assertAnyValue(X,"value"),a.f.assertValue(re,"DataViewObjectDefinition.encodePropertyValue - typeDescriptor should exist");var te=re,se=re;if(te.variantDeleteEmpty&&te.variant&&null==X)return X;if(te.bool||te.operations&&te.operations.searchEnabled)return"boolean"!=typeof X&&(X=!1),(0,p.O7)(!!X);if(te.text||te.duration||te.scripting&&te.scripting.source)return(0,p.fL)(X?X.toString():"");if(te.numeric){if($.isNumeric(X))return(0,p.tx)(+X)}else if(te.integer){if($.isNumeric(X))return(0,p.cA)(Math.floor(+X))}else if(se.fill){if(X){var Ve=X;return null==Ve.id||null==Ve.shade?{solid:{color:(0,p.fL)((Ve.value||X).toString())}}:{solid:{color:(0,p.e7)(Ve.id,Ve.shade)}}}if(null===X&&se.fill.solid&&se.fill.solid.color){var ke=!1,Ue=se.fill.solid.color;if("boolean"!=typeof Ue&&(ke=Ue.nullable),ke)return{solid:{color:(0,p.IF)()}}}}else if(te.formatting){if(!(te.formatting.labelDisplayUnits||te.formatting.displayUnitsWithoutAuto||te.formatting.fontSize))return(0,p.fL)(X?X.toString():"");if(null!=X)return(0,p.tx)(+X)}else{if(te.enumeration||te.flagsEnumeration)return $.isNumeric(X)?(0,p.tx)(+X):(0,p.fL)(X?X.toString():"");if(te.misc)X=X?(0,p.fL)(X.toString()):null;else if(te.dateTime)X=X?(0,p.CQ)(X):null;else if(!te.variant)if(se.image){if(X){var ot=X,ft={name:(0,p.fL)(ot.name.toString()),url:(0,p.fL)(ot.url.toString())};return ot.scaling&&(ft.scaling=(0,p.fL)(ot.scaling.toString())),ft}}else if(se.geoJson){if(X){var Ct=X;return{type:(0,p.fL)(Ct.type.toString()),name:(0,p.fL)(Ct.name.toString()),content:Ct.content?(0,p.fL)(Ct.content.toString()):(0,p.IF)()}}}else if(te.reference)(te.reference.bookmark||te.reference.section||te.reference.perspective||te.reference.bookmarkGroup||te.reference.rowRefText)&&(X=(0,p.fL)(X?X.toString():""));else if(se.filter)a.f.assert(()=>X instanceof n.yl,"DataViewObjectDefinition.encodePropertyValue - When encoding a filter it should be of type Semantic Filter");else{if(se.paragraphs){var Ae=X,we=[];if(_.isEmpty(Ae))return we;for(var Ne of Ae){var Se={...Ne,textRuns:[]};if(_.isEmpty(Ne.textRuns))we.push(Se);else{for(var Ie of Ne.textRuns)if((0,s.Y0)(Ie))Se.textRuns.push(Ie);else if((0,s.Zm)(Ie)){var me=void 0;_.isNumber(Ie.expression)?me=I(Ie.expression,{integer:!0}):(0,o.U)(Ie.expression)?me=Ie.expression:a.f.assertNever(Ie.expression);var Oe={cases:[],defaultCase:Ie.defaultCase,expression:me};if(!_.isEmpty(Ie.cases))for(var Ee of Ie.cases){var xe={pattern:I(Ee.pattern,{integer:!0}),textRuns:Ee.textRuns};Oe.cases.push(xe)}Se.textRuns.push(Oe)}else a.f.assertNever(Ie);we.push(Se)}}return we}if(!se.queryTransform){if(se.exprList||se.selectedValues){var Je={exprs:[],kind:l.q.ExprList};return Je.exprs=_.map(X.exprs,Ot=>Ot),Je}if(se.itemLocation){var he=X,Ce={kind:l.q.ItemLocation,byReference:{itemId:(0,p.fL)(he.byReference.itemId)}};he.byReference.workspaceId&&(Ce.byReference.workspaceId=(0,p.fL)(he.byReference.workspaceId)),he.byReference.folderId&&(Ce.byReference.folderId=(0,p.fL)(he.byReference.folderId));var je=he.metadata;if(je){Ce.metadata={};var pe=je.dataFunction;pe&&(Ce.metadata.dataFunction={name:pe.name,autoRefresh:pe.autoRefresh,parameters:pe.parameters.map(Ot=>{switch(Ot.type){case"SlicerParameter":return{...Ot};case"ValueParameter":var Dt;return Dt=Ot.value?Ot.value instanceof p.Il?Ot.value:(0,p.kQ)(Ot.value,{}):(0,p.IF)(),{...Ot,value:Dt}}})})}return Ce}if(se.annotationTemplate){if(!X)return;var Qe;if((0,C.$V)(se.annotationTemplate)){var ut=X;if(!ut.text)return;var lt={kind:l.q.AnnotationTemplate,annotationType:c.x.Callout,text:(0,p.fL)(ut.text)};null!=ut.offsetX&&(lt.offsetX=(0,p.tx)(ut.offsetX)),null!=ut.offsetY&&(lt.offsetY=(0,p.tx)(ut.offsetY)),null!=ut.width&&(lt.width=(0,p.tx)(ut.width)),null!=ut.height&&(lt.height=(0,p.tx)(ut.height)),null!=ut.lastEditUTCTimestamp&&(lt.lastEditUTCTimestamp=(0,p.tx)(ut.lastEditUTCTimestamp)),Qe=lt}else{var Et=X;if(!Et.color)return;var bt={kind:l.q.AnnotationTemplate,annotationType:c.x.Highlight,color:(0,p.fL)(Et.color)};Et.fontColor&&(bt.fontColor=(0,p.fL)(Et.fontColor)),Et.backgroundColor&&(bt.backgroundColor=(0,p.fL)(Et.backgroundColor)),Et.emphasizeText&&(bt.emphasizeText=(0,p.O7)(Et.emphasizeText)),Et.strokeDasharray&&(bt.strokeDasharray=(0,p.fL)(Et.strokeDasharray)),Et.shouldOffsetVisibleOutlinesInbound&&(bt.shouldOffsetVisibleOutlinesInbound=(0,p.O7)(Et.shouldOffsetVisibleOutlinesInbound)),Et.targets&&(bt.targets=_.map(Et.targets,Ot=>(0,p.fL)(Ot))),Qe=bt}return Qe}a.f.assertFail("DataViewObjectDefinition.encodePropertyValue - The value couldn't be encoded, make sure that the descriptor is valid and handled in here.")}}}return X}function L(X){var re={};for(var te in X){var se=X[te];_.isEmpty(se)||(re[te]=z(se))}return re}function K(X){if(_.isEmpty(X))return!0;for(var re in X){var te=X[re];if(!_.isEmpty(te))for(var se of te)if(!_.isEmpty(se.properties))return!1}return!0}function z(X){var re=[];for(var te of X)re.push({properties:H(te.properties),selector:te.selector});return re}function H(X){return a.f.assertValue(X,"original"),_.clone(X)}function J(X){return!!X&&!!(X instanceof p.Il||(0,d.hl)(X))}function k(X,re,te){for(var se in X){var Ve=X[se],ke=re&&re[se];if(Ve&&(!re||ke))for(var Ue of Ve)for(var ot in Ue.properties)!Ue.properties[ot]||re&&(!ke||!ke.properties[ot])||te(Ue.properties,ot,Ue.selector,se,ke)}}function G(X){var re=X.definitions,te=X.descriptors,se=X.visitor,Ve=X.structuralObjectVisitor;a.f.assertValue(re,"dataViewObjectDefinition.visitPropertyExprs - definitions"),a.f.assertAnyValue(te,"dataViewObjectDefinition.visitPropertyExprs - if descriptors exist we only visit valid objects, otherwise everything"),a.f.assertAnyValue(se,"dataViewObjectDefinition.visitPropertyExprs - visitor"),a.f.assertAnyValue(Ve,"dataViewObjectDefinition.visitPropertyExprs - visitor"),a.f.assert(()=>!!se||!!Ve,"Either sqExprVisitor or structuralObjectVisitor are required");var ke=[],Ue={stopVisiting:!1};function ot(Se,Ie,me){var Oe=Se[Ie];if(se&&Oe instanceof p.Il)se(Oe,Se,Ie,me,ke,Ue);else if("object"==typeof Oe&&(Ve&&Ve(Oe,Se,Ie,me,ke,Ue),se))for(var Ee in Oe){if(Ue.stopVisiting)return;ke.push(Ee),ot(Oe,Ee,me),ke.pop()}}for(var ft in re){var Ct=te&&te[ft];if(!_.isEmpty(re[ft])&&(Ct||!te)){for(var Ke of re[ft]){var Ae=Ke.properties;if(Ae)for(var we in Ae){if(Ue.stopVisiting)return;var Ne=Ct&&Ct.properties[we];(Ne||!te)&&ot(Ae,we,Ne&&Ne.type)}}a.f.assert(()=>_.isEmpty(ke),"DataViewObjectDefinition.visitPropertyExprs - propertyPath should be empty after iterating through object properties")}}}function q(X){if(a.f.assertAnyValue(X,"DataViewObjectDefinitions.reduce - objects can be undefined"),!_.isEmpty(X)){for(var re in X)if(X[re]){var te=[];for(var se of X[re]){var Ve=(0,v.u4)(se);Ve&&te.push(Ve)}_.isEmpty(te)?delete X[re]:X[re]=te}else delete X[re];if(!_.isEmpty(X))return X}}function Q(X){return X instanceof p.Il}function Z(X){return X&&"ExprWithContext"===X.propertyDefinitionKind}},559698:function(ve,j,e){e.d(j,{Ow:function(){return i},e4:function(){return a},u4:function(){return t}});var r=e(650543);function i(l,g){if(g in l.properties)return delete l.properties[g],!0}function a(l){return!_.startsWith(l,"$")}function t(l){r.f.assertAnyValue(l,"DataViewObjectDefinition.reduce - defn can have any value.");var g=l&&l.properties;if(g){for(var n in g)_.isEmpty(g[n])&&i(l,n);if(!_.isEmpty(g))return l}}},482693:function(ve,j,e){e.d(j,{$v:function(){return a},Cr:function(){return g},H_:function(){return p},Ln:function(){return s},MD:function(){return t},VM:function(){return d},n7:function(){return l}});var r=e(650543),i=e(248505);function a(v){return o(v,m=>{var c=i.Ge.fromDescriptor(m.type).formatting;return c&&c.formatString})}function t(v){return o(v,m=>{var c=m.type;return c&&c.filter&&!c.filter.selfFilter})}function l(v){return o(v,m=>{var c=m.type;return c&&!!c.exprList})}function g(v){return o(v,n)}function n(v){var m=v&&v.type;return m&&m.filter&&m.filter.selfFilter}function p(v){return o(v,m=>{var c=m.type;return c&&c.operations&&c.operations.searchEnabled})}function s(v){return o(v,m=>{var c=m.type;return c&&!!c.expression&&c.expression.defaultValue})}function d(v,m){if(r.f.assertValue(v,"descriptors"),r.f.assertValue(m,"propertyId"),!_.isEmpty(v)){var c=v[m.objectName];if(c&&!_.isEmpty(c.properties))return c.properties[m.propertyName]}}function o(v,m){if(r.f.assertAnyValue(v,"descriptors"),r.f.assertAnyValue(m,"propPredicate"),v)for(var c in v){var C=v[c].properties;for(var y in C)if(m(C[y]))return{objectName:c,propertyName:y}}}},630190:function(ve,j,e){e.d(j,{Me:function(){return n},PJ:function(){return g},UQ:function(){return s}});var r=e(650543),i=e(191282),a=e(442407),t=e(230343),l=e(482693);function g(h,E,u,f,b){var V;for(var T of(r.f.assertValue(E,"evalContext"),r.f.assertValue(u,"objectDescriptors"),r.f.assertValue(f,"objectDefns"),f)){var P=T.name;b&&(b.objectName=P);var D=h.run(P,E,u[P],T.properties,b);D&&(V||(V={}),V[P]?(0,t.PM)(V,{[P]:D}):V[P]=D)}return V}function n(h){r.f.assertAnyValue(h,"objectDefinitions");var E={data:[]};if(h)for(var u in h)for(var f=h[u],b=0,V=f.length;b<V;b++){var T=f[b];p(E,T.selector).objects.push({name:u,properties:T.properties})}return E}function p(h,E){var u;for(var f of(r.f.assertValue(h,"grouped"),r.f.assertAnyValue(E,"selector"),E&&E.data?u=h.data:E&&E.metadata?(h.metadata||(h.metadata=[]),u=h.metadata):(h.metadataOnce||(h.metadataOnce=[]),u=h.metadataOnce),r.f.assert(()=>!!u,"GroupedObjects is not defined.  Indicates malformed selector."),u))if((0,i.fS)(E,f.selector))return f;var b={selector:E,objects:[]};return u.push(b),b}function s(h,E,u,f){r.f.assertValue(h,"objectsForAllSelectors"),r.f.assertValue(E,"objectDescriptors"),r.f.assertValue(u,"columns"),r.f.assertAnyValue(f,"selectTransforms"),f&&(function(h,E,u,f){r.f.assertValue(h,"objectsForAllSelectors"),r.f.assertValue(E,"objectDescriptors"),r.f.assertValue(u,"columns"),r.f.assertValue(f,"selectTransforms");var b=(0,l.$v)(E);if(b)for(var V=0,T=f.length;V<T;V++){var P=f[V];P&&(r.f.assertValue(P.queryName,"selectTransform.queryName"),m(h,b,P.queryName,P.format||v(u,V)))}}(h,E,u,f),function(h,E,u){r.f.assertValue(h,"objectsForAllSelectors"),r.f.assertValue(E,"objectDescriptors"),r.f.assertValue(u,"selectTransforms");var f=(0,l.Ln)(E);if(f)for(var b of u)b&&(r.f.assertValue(b.queryName,"selectTransform.queryName"),c(h,f,b.queryName,b.defaultValue))}(h,E,f))}function v(h,E){for(var u=0,f=h.length;u<f;u++){var b=h[u];if(b&&b.index===E)return b.format}}function m(h,E,u,f){f&&C(h,E,{metadata:u},(0,a.fL)(f))}function c(h,E,u,f){f&&C(h,E,{metadata:u},f)}function C(h,E,u,f){var b;if(u){var V=h.metadata;V||(V=h.metadata=[]),b=V}else{var T=h.metadataOnce;T||(T=h.metadataOnce=[{selector:u,objects:[]}]),b=T}var D,P=function(h,E){r.f.assertValue(h,"objects"),r.f.assertAnyValue(E,"selector");for(var u=0,f=h.length;u<f;u++){var b=h[u];if((0,i.fS)(b.selector,E))return b}}(b,u);if(P){var w=P.objects;if(D=function(h,E){r.f.assertValue(h,"objectDefns"),r.f.assertValue(E,"objectName");for(var u=0,f=h.length;u<f;u++){var b=h[u];if(b.name===E)return b}}(w,E.objectName),D){if(D.properties[E.propertyName])return}else w.push(D={name:E.objectName,properties:{}})}else b.push({selector:u,objects:[D={name:E.objectName,properties:{}}]});D.properties[E.propertyName]=f}},820013:function(ve,j,e){e.d(j,{Q:function(){return T}});var r=e(999787),i=e(79365),a=e(650543),t=e(14817),l=e(301336),g=e(553962),n=e(442407),p=e(962238),s=e(392617),d=e(353230),o=e(428776),v=e(436043),m=e(853450),c=e(248505),C=e(42990),y=e(251301),S=e(13380);class E{constructor(){this.cache=[]}get(w){for(var M of(a.f.assertValue(w,"key"),this.cache))if(M.key===w)return M.allocator}register(w,M){return a.f.assertValue(w,"key"),a.f.assert(()=>void 0!==M,"colorAllocator (it can be null, but not undefined)"),a.f.assert(()=>null==this.get(w),"Trying to re-register for same key expr."),this.cache.push({key:w,allocator:M}),this}}var u=e(521214),f=e(223856),b=e(690317),T=(()=>{class D{constructor(M,A){this.featureSwitches=M,this.visualStyle=A,a.f.assertValue(this.featureSwitches,"featureSwitches"),this.colorAllocatorCache=new E,this.expressionEvaluator=new P(R=>this.evaluateThemeDataColor(R),(R,B)=>this.ensureColorAllocator(R,B))}getObjectsRules(){return this.objectsRules}run(M,A,R,B,N){if(a.f.assertValue(A,"evalContext"),a.f.assertAnyValue(R,"objectDescriptor"),a.f.assertValue(B,"propertyDefinitions"),R){var W,F=R.properties;for(var U in B){this.propertyId={objectName:M,propertyName:U};var O=B[U],x=F[U];if(x){N&&(N.objectDescriptor=R,N.propertyName=U);var I=this.evaluateProperty(A,x,O);void 0!==I&&(W||(W={}),W[U]=I)}}return this.propertyId=void 0,W}}evaluateProperty(M,A,R,B){a.f.assertValue(M,"evalContext"),a.f.assertValue(A,"propertyDescriptor"),a.f.assertValue(R,"propertyDefinition");var N=A.type;if(N?.expression)return R;var F,W=this.evaluateValue(M,R,c.Ge.fromDescriptor(A.type));return void 0!==W||R instanceof f.t?W:(N.fillRule?F=this.evaluateFillRule(R):N.fill?.solid?.color&&R?.solid?.color?F=this.evaluateSolidColorFill(M,R,N.fill.solid.color.nullable):N.dataBars&&(F=this.evaluateDataBars(M,R)),F?(B&&F.error&&B.warnings.push(new y.L(this.featureSwitches,S.wz.InvalidValue,{objectName:B.objectName,propertyName:B.propertyName},B.selector,B.objectDescriptor.displayName,A.displayName,F.error.expr,F.error.value,null,B.targetExpr)),F.value):N.queryTransform?this.evaluateQueryTransform(M,R):N.image?this.evaluateImage(M,R):N.paragraphs?this.evaluateParagraphs(M,R):N.geoJson?this.evaluateGeoJson(M,R):N.filter?this.evaluateSemanticFilter(R):N.icon?this.evaluateIcon(M,R):N.exprList?this.evaluateExprList(R):N.errorRange?this.evaluateErrorRange(M,R):N.qnaVisualLink?this.evaluateQnaVisualLink(M,R):N.itemLocation?this.evaluateItemLocation(M,R):N.annotationTemplate?this.evaluateAnnotationTemplate(M,R,N.annotationTemplate):void 0)}evaluateSemanticFilter(M){return M}evaluateSolidColorFill(M,A,R){if(A?.solid?.color){var B=this.evaluateColor(M,A.solid.color,R);if(B.error)return B;var N=B.value;if(N||null===N&&R)return{value:{solid:{color:N}}}}}ensureColorAllocator(M,A){var R=this.colorAllocatorCache.get(M);return void 0!==R||(R=this.createColorAllocator(M,A),this.colorAllocatorCache.register(M,R,this.propertyId),this.propertyId&&R&&this.addObjectRule(R)),R}addObjectRule(M){this.objectsRules||(this.objectsRules={});var A=this.objectsRules[this.propertyId.objectName];A||(A=this.objectsRules[this.propertyId.objectName]={}),A[this.propertyId.propertyName]={gradient:{options:M.getRule(),source:M.getSource()}}}createColorAllocator(M,A){var R=A.getExprColumn(M.input,this.featureSwitches.categoricalSecondaryCF);if(!R)return null;var B=this.evaluateFillRule(M.rule).value;return B?(0,C.V)().fromFillRule(B,R):null}evaluateFillRule(M){var R,A=(0,u.X)();if(M.linearGradient2){var B=M.linearGradient2,N=this.evaluateColorStop(A,B.min);if(N.error)return N;var W=this.evaluateColorStop(A,B.max);if(W.error)return W;R={linearGradient2:{min:N.value,max:W.value}};var F=this.evaluateNullStrategy(A,B.nullColoringStrategy);if(F){if(F.error)return F;R.linearGradient2.nullColoringStrategy=F.value}}else if(M.linearGradient3){var O=M.linearGradient3,x=this.evaluateColorStop(A,O.min);if(x.error)return x;var I=this.evaluateColorStop(A,O.mid);if(I.error)return I;var L=this.evaluateColorStop(A,O.max);if(L.error)return L;R={linearGradient3:{min:x.value,mid:I.value,max:L.value}};var K=this.evaluateNullStrategy(A,O.nullColoringStrategy);if(K){if(K.error)return K;R.linearGradient3.nullColoringStrategy=K.value}}return{value:R}}evaluateColorStop(M,A){a.f.assertValue(M,"evalContext"),a.f.assertValue(A,"colorStop");var R=this.evaluateColor(M,A.color,!1);if(R.error)return R;var B={color:R.value},N=this.evaluateValue(M,A.value,D.numericType);return null!=N&&(B.value=N),{value:B}}evaluateColor(M,A,R){a.f.assertValue(M,"evalContext"),a.f.assertValue(A,"evaluateColor - color");var B=this.evaluateValue(M,A,D.colorValueType),N=null!=B?(0,t.pe)(this.visualStyle,B):B;if(null!=N)return{value:N};if(null===B&&R)return{value:null};if(!B)return{value:void 0};var W=B.toString();if(W){var F=W.replace(/\s+/g,"");(0,i.HS)(F)?W=F:null==(W=(0,i.iC)(F))&&(W=(0,t.js)(F))}return void 0===W?{error:{expr:A,value:B}}:{value:W}}evaluateNullStrategy(M,A){if(A){a.f.assertValue(M,"evaluateNullStrategy - undefined evalContext"),a.f.assertValue(A.strategy,"evaluateNullStrategy - undefined strategy");var R={strategy:this.evaluateValue(M,A.strategy,D.nullStrategyType)};if(A.color){var B=this.evaluateColor(M,A.color,!1);if(B.error)return B;R.color=B.value}return{value:R}}}evaluateQueryTransform(M,A){if(a.f.assertValue(M,"evalContext"),a.f.assertAnyValue(A,"definition"),A)return{algorithm:A.algorithm,parameters:A.parameters.map(R=>({name:R.name,value:this.evaluateValue(M,R.expr,c.Ge.fromDescriptor({}))}))}}evaluateImage(M,A){if(a.f.assertValue(M,"evalContext"),a.f.assertAnyValue(A,"definition"),A){var R={name:this.evaluateValue(M,A.name,D.textType),url:this.evaluateValue(M,A.url,c.Ge.fromDescriptor(d.z))};return A.scaling&&(R.scaling=this.evaluateValue(M,A.scaling,D.textType)),R}}evaluateParagraphs(M,A){if(a.f.assertValue(M,"evalContext"),a.f.assertAnyValue(A,"definition"),A)return this.evaluateArrayCopyOnChange(M,A,(R,B)=>this.evaluateParagraph(R,B))}evaluateParagraph(M,A){a.f.assertValue(M,"evalContext"),a.f.assertValue(A,"definition");var R,B=A.textRuns,N=this.evaluateArrayCopyOnChange(M,B,(W,F)=>this.evaluateTextRun(W,F));return B!==N&&((R=_.clone(A)).textRuns=N),R||A}evaluateTextRun(M,A){return a.f.assertValue(M,"evalContext"),a.f.assertValue(A,"definition"),(0,o.IM)(A)?this.evaluateTextRunDefinition(M,A):(0,o.Kt)(A)?this.evaluateTextRunConditional(M,A):void a.f.assertNever(A)}evaluateTextRunDefinition(M,A){var R,B;A.value instanceof n.Il?(R=A.value,B=this.evaluateValue(M,A.value,D.textType)):B=A.value;var N={value:B};return A.textStyle&&(N.textStyle=A.textStyle),A.url&&(N.url=A.url),A.mentionEmail&&(N.mentionEmail=A.mentionEmail),A.mentionKey&&(N.mentionKey=A.mentionKey),R&&(N.valueExpr=R),N}evaluateTextRunConditional(M,A){return{cases:this.evaluateArrayCopyOnChange(M,A.cases,(B,N)=>this.evaluateTextRunConditionalCase(B,N)),defaultCase:this.evaluateTextRunCaseValue(M,A.defaultCase),expression:this.evaluateTextRunConditionalExpression(M,A.expression)}}evaluateTextRunConditionalCase(M,A){return{pattern:this.evaluateValue(M,A.pattern,D.textType),...this.evaluateTextRunCaseValue(M,A)}}evaluateTextRunCaseValue(M,A){return{textRuns:this.evaluateArrayCopyOnChange(M,A.textRuns,(B,N)=>this.evaluateTextRunDefinition(B,N))}}evaluateTextRunConditionalExpression(M,A){return A instanceof n.Il?this.evaluateValue(M,A,D.textType):(0,m.U)(A)?A:void a.f.assertNever(A)}evaluateGeoJson(M,A){if(a.f.assertValue(M,"evalContext"),a.f.assertAnyValue(A,"definition"),A)return{name:this.evaluateValue(M,A.name,D.textType),type:this.evaluateValue(M,A.type,D.textType),content:this.evaluateValue(M,A.content,D.textType)}}evaluateDataBars(M,A){var R=this.evaluateSolidColorFill(M,A.positiveColor,!1);if(R.error)return{error:R.error};var B=this.evaluateSolidColorFill(M,A.negativeColor,!1);if(B.error)return{error:B.error};var N=this.evaluateSolidColorFill(M,A.axisColor,!1);return N.error?{error:N.error}:{value:{minValue:this.evaluateValue(M,A.minValue,D.numericType),maxValue:this.evaluateValue(M,A.maxValue,D.numericType),positiveColor:R.value,negativeColor:B.value,axisColor:N.value,reverseDirection:this.evaluateValue(M,A.reverseDirection,D.boolType),hideText:this.evaluateValue(M,A.hideText,D.boolType),totalMatchingOption:this.evaluateValue(M,A.totalMatchingOption,D.integerType)}}}evaluateIcon(M,A){if(a.f.assertValue(M,"evalContext"),a.f.assertAnyValue(A,"definition"),(0,v.r)(A)){var R={kind:g.q.Icon};if(A.layout&&(R.layout=this.evaluateValue(M,A.layout,D.textType)),A.verticalAlignment&&(R.verticalAlignment=this.evaluateValue(M,A.verticalAlignment,D.textType)),A.value){var B=this.evaluateValue(M,A.value,D.textType);if(null===B)R.value=null;else if(void 0===B)R.value=null;else{var N=(0,t.lQ)(this.visualStyle,B);if(N)if(N.svgId){var W=N.description?.resourceKey;R.value={svgId:N.svgId},W&&(R.value.descriptionKey=W)}else N.url?R.value={url:N.url}:a.f.assertFail("incorrect themeIcon");else R.value={url:B}}}return R}}evaluateThemeDataColor(M){return(0,t.GK)(this.visualStyle,M)}evaluateExprList(M){if(a.f.assertAnyValue(M,"definition"),(0,v.bA)(M))return{exprs:M.exprs,kind:g.q.ExprList}}evaluateArrayCopyOnChange(M,A,R){a.f.assertValue(M,"evalContext"),a.f.assertValue(A,"definitions"),a.f.assertValue(R,"evaluator");for(var B,N=0,W=A.length;N<W;N++){var F=A[N],U=R(M,F);!B&&F!==U&&(B=_.take(A,N)),B&&B.push(U)}return B||A}evaluateErrorRange(M,A){if(a.f.assertValue(M,"evalContext"),a.f.assertValue(A,"definition"),(0,v.ZG)(A)){if(A.explicit)return this.evaluateExplicitErrorRange(M,A.explicit);if(A.symmetricalExplicit)return this.evaluateSymmetricalErrorRange(M,A.symmetricalExplicit);if(A.standardDeviation)return this.evaluateStandardDeviationErrorRange(M,A.standardDeviation);if(A.percentage)return this.evaluatePercentageErrorRange(M,A.percentage);if(A.percentile)return this.evaluatePercentileErrorRange(M,A.percentile)}}evaluateExplicitErrorRange(M,A){var R={isRelative:!0===this.evaluateValue(M,A.isRelative,D.boolType)};return A.lowerBound&&(R.lowerBound=this.evaluateValue(M,A.lowerBound,D.numericType)),A.upperBound&&(R.upperBound=this.evaluateValue(M,A.upperBound,D.numericType)),{explicit:R}}evaluateSymmetricalErrorRange(M,A){return{symmetricalExplicit:{delta:this.evaluateValue(M,A.delta,D.numericType)}}}evaluateStandardDeviationErrorRange(M,A){return{standardDeviation:{value:this.evaluateValue(M,A.value,D.numericType),multiplier:this.evaluateValue(M,A.multiplier,D.numericType)}}}evaluatePercentageErrorRange(M,A){return{percentage:{lowerBoundDelta:this.evaluateValue(M,A.lowerBoundDelta,D.numericType),upperBoundDelta:this.evaluateValue(M,A.upperBoundDelta,D.numericType)}}}evaluatePercentileErrorRange(M,A){return{percentile:{lowerBound:this.evaluateValue(M,A.lowerBound,D.numericType),upperBound:this.evaluateValue(M,A.upperBound,D.numericType)}}}evaluateQnaVisualLink(M,A){if(a.f.assertValue(M,"evalContext"),a.f.assertValue(A,"definition"),(0,v.Xz)(A))return{suggestedUtterances:_.map(A.suggestedUtterances,R=>({utterance:R.utterance}))}}evaluateItemLocation(M,A){if(a.f.assertValue(M,"evalContext"),a.f.assertValue(A,"definition"),(0,v.DS)(A)){var R;if(A.byReference&&(R={byReference:{itemId:this.evaluateValue(M,A.byReference.itemId,D.textType)}},A.byReference.workspaceId&&(R.byReference.workspaceId=this.evaluateValue(M,A.byReference.workspaceId,D.textType)),A.byReference.folderId&&(R.byReference.folderId=this.evaluateValue(M,A.byReference.folderId,D.textType))),R){var B=A.metadata;if(B){R.metadata={};var N=B.dataFunction;N&&(R.metadata.dataFunction={name:N.name,autoRefresh:N.autoRefresh,parameters:N.parameters.map(W=>{switch(W.type){case"SlicerParameter":return{...W};case"ValueParameter":return{...W,value:this.evaluateValue(M,W.value)}}})})}}return R}}evaluateAnnotationTemplate(M,A,R){if(a.f.assertValue(M,"evalContext"),a.f.assertValue(A,"definition"),(0,v.oQ)(A)){if((0,b.$V)(R)){var B=A;if(!B.text)return;var N={annotationType:b.Sc.Callout,text:this.evaluateValue(M,B.text,D.textType)};return null!=B.offsetX&&(N.offsetX=this.evaluateValue(M,B.offsetX,D.numericType)),null!=B.offsetY&&(N.offsetY=this.evaluateValue(M,B.offsetY,D.numericType)),null!=B.width&&(N.width=this.evaluateValue(M,B.width,D.numericType)),null!=B.height&&(N.height=this.evaluateValue(M,B.height,D.numericType)),null!=B.lastEditUTCTimestamp&&(N.lastEditUTCTimestamp=this.evaluateValue(M,B.lastEditUTCTimestamp,D.numericType)),N}var W=A;if(!W.color)return;var F={annotationType:b.Sc.Highlight,color:this.evaluateValue(M,W.color,D.textType)};return null!=W.backgroundColor&&(F.backgroundColor=this.evaluateValue(M,W.backgroundColor,D.textType)),W.fontColor&&(F.fontColor=this.evaluateValue(M,W.fontColor,D.textType)),null!=W.emphasizeText&&(F.emphasizeText=this.evaluateValue(M,W.emphasizeText,D.boolType)),W.shouldOffsetVisibleOutlinesInbound&&(F.shouldOffsetVisibleOutlinesInbound=this.evaluateValue(M,W.shouldOffsetVisibleOutlinesInbound,D.boolType)),W.targets&&(F.targets=_.map(W.targets,U=>this.evaluateValue(M,U,D.textType))),W.strokeDasharray&&(F.strokeDasharray=this.evaluateValue(M,W.strokeDasharray,D.textType)),F}}evaluateValue(M,A,R){return A instanceof n.Il?this.expressionEvaluator.evaluate(A,M):A instanceof f.t?A.evaluate(M):void 0}}return D.boolType=c.Ge.fromDescriptor({bool:!0}),D.colorValueType=c.Ge.fromDescriptor({formatting:{color:!0}}),D.numericType=c.Ge.fromDescriptor({numeric:!0}),D.integerType=c.Ge.fromDescriptor({integer:!0}),D.textType=c.Ge.fromDescriptor({text:!0}),D.nullStrategyType=c.Ge.fromDescriptor({enumeration:s.dt}),D})();class P extends p.Ml{constructor(w,M){super(),this.dataColorEvaluator=w,this.colorAllocatorGetter=M}evaluate(w,M){if(null!=w)return w.accept(this,M)}visitColumnRef(w,M){return M.getExprValue(w)}visitConstant(w,M){return w.value}visitMeasureRef(w,M){return M.getExprValue(w)}visitArithmetic(w,M){return M.getExprValue(w)}visitNativeMeasure(w,M){return M.getExprValue(w)}visitAggr(w,M){return M.getExprValue(w)}visitScopedEval(w,M){return M.getScopedEvalExprValue(w)}visitFillRule(w,M){var A=this.colorAllocatorGetter(w,M);if(A){var R=this.evaluate(w.input,M);if(void 0!==R)return A.color(R)}}visitPercentile(w,M){return M.getExprValue(w)}visitRangePercent(w,M){var A=this.evaluate(w.min,M);if(_.isFinite(A)){var R=this.evaluate(w.max,M);if(_.isFinite(R)){var B=w.percent;return 0===B?A:1===B?R:A+B*(R-A)}}}visitSelectRef(w,M){return M.getExprValue(w)}visitThemeDataColor(w,M){var A=this.dataColorEvaluator(w.colorId);if(A)return(0,i.HO)(A,w.percent)}visitNot(w,M){return!this.evaluate(w.arg,M)}visitAnd(w,M){return w.left.accept(this,M)&&w.right.accept(this,M)}visitContains(w,M){if(!w.isOrdinalEvaluation())return a.f.assertFail("Contains expression should be evaluated as ordinal"),!1;var A=this.getExprString(w.left,M),R=this.getExprString(w.right,M);return _.isString(A)?(0,l.r3)(A,R):(a.f.warn("Contains expression should only be applied to string types"),!1)}visitStartsWith(w,M){if(!w.isOrdinalEvaluation())return a.f.assertFail("StartsWith expression should be evaluated as ordinal"),!1;var A=this.getExprString(w.left,M),R=this.getExprString(w.right,M);return _.isString(A)?(0,l.Ny)(A,R):(a.f.warn("StartsWith expression should only be applied to strings"),!1)}getExprString(w,M){if(null!==w)return(0,n.Ls)(w)??this.evaluate(w,M)}visitCompare(w,M){var A=this.evaluate(w.left,M);if(_.isNaN(A))return!1;var R=this.evaluate(w.right,M);if(_.isNaN(R))return!1;var B=w.comparison;if(w.isOrdinalEvaluation())return B===r.uu.Equal?A===R:(a.f.assertFail("An ordinal comparison with QueryExpressionKind other than 'Equal' is not supported"),!1);if(null===R||null===A)return R===A&&(B===r.uu.Equal||B===r.uu.GreaterThanOrEqual||B===r.uu.LessThanOrEqual);switch(B){case r.uu.Equal:return A===R;case r.uu.GreaterThan:return A>R;case r.uu.GreaterThanOrEqual:return A>=R;case r.uu.LessThan:return A<R;case r.uu.LessThanOrEqual:return A<=R}}visitConditional(w,M){var A=w.cases;if(a.f.assertNonEmpty(A,"ExpressionEvaluator.visitConditional - Empty cases"),!_.isEmpty(A))for(var R of A){var N=R.value;if(!0===this.evaluate(R.condition,M))return this.evaluate(N,M)}return this.evaluate(w.defaultValue,M)}}},674660:function(ve,j,e){e.d(j,{AR:function(){return s},wi:function(){return v}});var r=e(990297),i=e(650543),a=e(896286),t=e(630881),l=e(173775),g=e(87072),n=e(455235),p=e(315815);function s(S,h,E,u,f,b){!h||1!==h.length||!E.categorical||!E.categorical.dataReductionAlgorithm||S&&function(S){return!(!d(S.Primary)||!d(S.Secondary)||1!==S.Secondary.Groupings[0].Projections.length||S.DataReduction&&(S.DataReduction.Primary||S.DataReduction.Secondary||S.DataReduction.Intersection))}(S)&&(S.Primary.Groupings=[S.Secondary.Groupings[0],S.Primary.Groupings[0]],S.Secondary=void 0,S.DataReduction={Primary:(0,l.P)(E.categorical.dataReductionAlgorithm,u),DataVolume:b||E.categorical.dataVolume||f})}function d(S){return S&&S.Groupings&&1===S.Groupings.length&&!_.isEmpty(S.Groupings[0].Projections)&&!S.Groupings[0].Subtotal&&_.isEmpty(S.Groupings[0].SuppressedProjections)}function v(S,h,E,u,f){if(!function(S,h,E,u,f){if(_.isEmpty(h)||!S||_.isEmpty(f))return!1;var b=_.filter(f,R=>!(0,g.zY)(R));if(1!==b.length)return!1;var V=b[0].categorical;if(!V)return!1;var T=S.matrix;if(!T||!T.rows||!T.rows.levels||2!==T.rows.levels.length)return!1;var P=[],D=[],w=(R,B)=>{var N=u[R];if(N)for(var W of N.all())E[W.queryRef]===t.DW.Grouping&&B.push(W.queryRef)};if((0,n.Sr)(V.categories,{visitRole:R=>{w(R,P)}}),(0,n.vS)(V.values,{visitRole:R=>{w(R,D)}}),(0,n.fl)(V.values,{visitRole:R=>{w(R,D)}}),_.isEmpty(P)||_.isEmpty(D))return!1;for(var M of T.columns.levels)for(var A of M.sources)if(!A.isMeasure)return!1;return!0}(S,h,E,u,f))return S;var b={metadata:{columns:(0,r.JG)(S.metadata.columns)}};if(S.single&&(b.single=S.single),S.table&&(b.table=S.table),S.matrix){var V=function(S){var re,te,h=S.rows,E=h.root,u=E.children,f=[],b=h.levels[0],V=E.childIdentityFields,T={},P=[],D=h.levels[1],w=_.isEmpty(u)?void 0:u[0].childIdentityFields,M=S.valueSources.length,A=re=>{var te=T[re.key];return i.f.assert(()=>void 0!==te,"findcat() !== undefined"),te};if(u){for(var B of u)for(var N of(f.push(B),B.children))te=void 0,void 0,void 0===T[te=(re=N).identity.key]&&(T[te]=P.length,P.push(re))}for(var W=new Array(P.length),F=0;F<f.length;++F){var U=u[F];for(var O of U.children){var x=A(O.identity);W[x]||(W[x]=new Array(f.length)),W[x][F]=O.values}}var I={root:{children:_.map(f,re=>{var te=(0,a.qO)(re);return te.level=0,te.children=void 0,te.childIdentityFields=void 0,te}),childIdentityFields:V},levels:[b]};if(M>0){var L=_.map(S.columns.root.children,re=>{var te={level:1};return re.levelSourceIndex&&(te.levelSourceIndex=re.levelSourceIndex),te});for(var K of I.root.children)K.children=L;I.levels.push(S.columns.levels[0])}var z={root:{children:_.map(P,re=>{var te=(0,a.qO)(re);return te.level=0,te.children=void 0,te.childIdentityFields=void 0,te}),childIdentityFields:w},levels:[D]};if(M>0)for(var H=0;H<P.length;++H){for(var J=z.root.children[H],k={},G=0;G<f.length;++G)for(var q=W[H]&&W[H][G],Q=0;Q<M;++Q)k[G*M+Q]=q?q[Q]:0===Q?{value:null}:{value:null,valueSourceIndex:Q};J.values=k}return{rows:z,columns:I,valueSources:S.valueSources}}(S.matrix);_.isEmpty(V.valueSources)||(0,p.CF)(V.columns)||(b.categorical=function(S,h){for(var E=S.columns.root.children.length,u=S.valueSources,f=u.length,b=function(S){i.f.assertValue(S,"unpivotedMatrix"),i.f.assert(()=>S&&S.rows&&S.rows.levels&&1===S.rows.levels.length,"pre-condition: unpivotedMatrix should have exactly one level in row hierarchy");for(var h=_.map(S.rows.root.children,P=>P.identity),E=S.rows.root.childIdentityFields,u=S.rows.levels[0].sources,f=[],b=0,V=u.length;b<V;b++){var T=_.map(S.rows.root.children,P=>{var D=P.levelValues;if(void 0!==D)return i.f.assert(()=>D[b]&&D[b].levelSourceIndex===b,"pre-condition: DataViewMatrixNode.levelValues is expected to have one DataViewMatrixGroupValue node per level source column, sorted by levelSourceIndex."),D[b].value});f.push({source:u[b],values:T,identity:h,identityFields:E})}return f}(S),V=[],T=0;T<E;++T){var P=S.columns.root.children[T],D={values:[],identity:P.identity,name:null!=P.value?P.value:null};V.push(D);for(var w=0;w<f;++w){var A={...u[w]};A.groupName=D.name,h.push(A);var R={source:A,values:[],identity:D.identity};D.values.push(R);var B=w+T*f;for(var N of S.rows.root.children)R.values.push(N.values[B].value)}}var F=[];for(var U of V)for(var O=0;O<f;++O)F.push(U.values[O]);return F.grouped=()=>V,F.identityFields=S.columns.root.childIdentityFields,F.source=S.columns.levels[0].sources[0],{categories:b,values:F}}(V,b.metadata.columns))}return b}},318556:function(ve,j,e){e.d(j,{JM:function(){return V},KH:function(){return c}});var r=e(929248),i=e(650543),a=e(630881),t=e(442407),l=e(36146),g=e(87072),n=e(230343),p=e(402623),s=e(36432),d=e(317571),o="RegressionX",v="RegressionSeries",m="RegressionY";function c(P){i.f.assertValue(P,"options");var D=P.visualDataViews,w=P.dataRoles,M=P.objectDescriptors,A=P.objectDefinitions,R=P.transformSelects,B=P.applicableDataViewMappings,N=P.roleKindByQueryRef,W=P.queryProjectionsByRole,F=P.visualStyle,U=P.featureSwitches;if(!_.isEmpty(D)&&R){if(!N||!W||_.isEmpty(B)||!M||!A)return D;var O=_.find(B,K=>!!(0,g.zY)(K));if(O){var x=[];for(var I of D){var L=C(I,B,w,O,M,A,F,U);L&&x.push(L)}_.isEmpty(x)||D.push(...x||[])}}return D}function C(P,D,w,M,A,R,B,N){return i.f.assertValue(D,"applicableDataViewMappings"),(0,g._1)(D)===r.m.Matrix?function(){function P(N,W,F,U,O,x,I){i.f.assertValue(N,"sourceDataView"),i.f.assertValue(N.matrix,"sourceDataView.matrix"),i.f.assertValue(W,"dataRoles"),i.f.assertValue(U,"objectDescriptors"),i.f.assertValue(O,"objectDefinitions");var L=N.matrix;if(L&&L.rows&&L.rows.root&&0!==_.size(L.rows.root.children)&&!(_.size(L.rows.levels)>2)){var K=D(a.Lv.X,L,W),z=D(a.Lv.Y,L,W);if(void 0!==K&&void 0!==z){var H=K.valuesCol,J=z.valuesCol,k=function(N,W,F){var U=N.matrix;if(U){var O=(H,J)=>{if(H.children)for(var k of H.children)k.isSubtotal||(J.xValues.push(W(k)),J.yValues.push(F(k)))},x=[],I=U.rows;if(2===I.levels.length){for(var L of U.rows.root.children)if(!L.isSubtotal){var K={xValues:[],yValues:[]};x.push(K),O(L,K)}}else if(1===I.levels.length){var z={xValues:[],yValues:[]};x.push(z),O(I.root,z)}return x}}(N,K.getValues,z.getValues),G=!0,q=(0,g.zY)(F);if(q&&N.metadata.objects){var Q=q.combineSeries;Q&&(G=(0,n.NA)(N.metadata.objects,Q,!0))}var Z=k;G&&(Z=function(N){var W=[];for(var F of N)_.isEmpty(F.xValues)||_.isEmpty(F.yValues)||(W[0]||W.push({xValues:[],yValues:[]}),W[0].xValues.push(...F.xValues||[]),W[0].yValues.push(...F.yValues||[]));return W}(k));var X=E(Z);if(u(X)){var re=X.xMin,te=X.xMax,se=[];for(var Ve of X.lineDefs)se.push(T(Ve,+re,+te));return function(N,W,F,U,O,x,I,L,K,z){i.f.assertValue(N,"xColumnSource"),i.f.assertValue(W,"yColumnSource"),i.f.assertValue(U,"categories"),i.f.assertValue(O,"values"),i.f.assertValue(I,"objectDescriptors"),i.f.assertValue(L,"objectDefinitions");var X,q={[x.matrix.values.select[0].for.in]:!0},Q={[x.matrix.rows.select[1].bind.to]:!0},Z={columns:[]},re={levels:[],root:{children:[]}},te={metadata:Z,matrix:{rows:re,columns:X,valueSources:[]}},se=h(N,o,!1,"",{[x.matrix.rows.select[0].bind.to]:!0}),Ve=h(W,v,W.isMeasure,"Regression",Q),ke=h(W,m,W.isMeasure,"",q);Z.columns.push(Ve),Z.columns.push(se),Z.columns.push(ke),re.levels.push({sources:[Ve]}),re.levels.push({sources:[se]}),te.matrix.valueSources.push(ke);for(var Ue=(0,t.Oh)((0,t.nw)("s","RegressionEntity"),"RegressionSeries"),ot=(0,t.Oh)((0,t.nw)("s","RegressionEntity"),"RegressionCategories"),ft=0;ft<F.length;ft++){var Ct=F[ft],Ke={level:0,value:Ct,levelValues:[{levelSourceIndex:0,value:Ct}],children:[],childIdentityFields:[ot],identity:(0,p.TZ)((0,t.xD)(Ue,(0,t.kQ)(Ct,Ve.type)))};_.isEmpty(re.root.childIdentityFields)&&(re.root.childIdentityFields=[Ue]),re.root.children.push(Ke);for(var Ae=0;Ae<U.length;Ae++){var we=U[Ae],Ne={level:1,value:we,levelValues:[{levelSourceIndex:1,value:we}],values:{},identity:(0,p.TZ)((0,t.xD)(ot,(0,t.kQ)(we,se.type)))};Ne.values[0]={value:O[ft][Ae]},Ke.children.push(Ne)}}return(0,s.ni)(te,r.m.Categorical,I,L,[],K,z),te}(H,J,G?["combinedRegressionSeries"]:2===L.rows.levels.length?_.chain(L.rows.root.children).filter(ot=>!ot.isSubtotal).map(ot=>ot.value).value():["combinedRegressionSeries"],[re,te],se,F,U,O,x,I)}}}}function D(N,W,F){var O,x,U=W.valueSources,I=function(N,W,F){if(!_.isEmpty(W))return _.findIndex(W,U=>{var x,O=function(L){if(!U.roles[L])return 0;var K=_.find(F,z=>z.name===L);return K&&K.cartesianKind===N?{v:!0}:void 0};for(var I in U.roles)if(0!==(x=O(I))&&x)return x.v})}(N,W.valueSources,F);if(I>=0&&void 0!==I)O=U[I],x=K=>K.values[I].value;else{var L=function(N,W,F){if(!_.isEmpty(W.root.children)){for(var U=-1,O=0,x=W.levels.length;O<x&&-1===(U=_.findIndex(W.levels[O].sources,L=>{var z,K=function(J){if(!L.roles[J])return 0;var k=_.find(F,G=>G.name===J);return k&&k.cartesianKind===N?{v:!0}:void 0};for(var H in L.roles)if(0!==(z=K(H))&&z)return z.v}));O++);return{level:O,index:U}}}(N,W.rows,F);if(-1===(I=L?L.index:-1))return;O=W.rows.levels[L.level].sources[I],x=K=>K.levelValues[I].value}return{valuesCol:O,getValues:x}}return{apply:(N,W,F,U,O,x,I)=>P(N,W,F,U,O,x,I)}}().apply(P,w,M,A,R,B,N):function(){function P(W,F,U,O,x,I,L){if(i.f.assertValue(W,"sourceDataView"),i.f.assertValue(W.categorical,"sourceDataView.categorical"),i.f.assertValue(F,"dataRoles"),i.f.assertValue(O,"objectDescriptors"),i.f.assertValue(x,"objectDefinitions"),W.categorical){var K=D(a.Lv.X,W.categorical,F),z=D(a.Lv.Y,W.categorical,F);if(!_.isEmpty(K)&&!_.isEmpty(z)){var H=K[0].source,J=z[0].source,k=!0,G=(0,g.zY)(U);if(G&&W.metadata.objects){var q=G.combineSeries;q&&(k=(0,n.NA)(W.metadata.objects,q,!0))}var Z=E(R(K,z,k,!1));if(u(Z)){var se,X=Z.xMin,re=Z.xMax,te=N(z)||N(K);te&&(u(se=E(R(K,z,k,!0)))?(X=_.min([X,se.xMin]),re=_.max([re,se.xMax])):te=!1);var ot,Ct,ke=[];for(var Ue of Z.lineDefs)ke.push(T(Ue,+X,+re));if(te)for(var ft of(ot=[],se.lineDefs))ot.push(T(ft,+X,+re));if(k)Ct=["combinedRegressionSeries"];else if(W.categorical.values.source){var Ke=W.categorical.values.grouped();Ct=_.map(Ke,we=>we.name)}else Ct=_.map(z,we=>we.source.queryName);return function(W,F,U,O,x,I,L,K,z,H,J){i.f.assertValue(W,"xColumnSource"),i.f.assertValue(F,"yColumnSource"),i.f.assertValue(O,"categories"),i.f.assertValue(x,"values"),i.f.assertValue(K,"objectDescriptors"),i.f.assertValue(z,"objectDefinitions"),i.f.assertAnyValue(I,"highlights"),i.f.assert(()=>!I||I.length===x.length,"highlights should have the same length as values");var q,Q,k=L.categorical.categories.for.in,G=L.categorical.values.group;if(G&&!_.isEmpty(G.select)&&(q=G.select[0].for?G.select[0].for.in:G.select[0].bind.to,Q=G.by),q&&Q){var Z={[k]:!0},X={[q]:!0},re={[Q]:!0},te=[];for(var se in x){var Ve={values:x[se]};I&&(Ve.highlights=I[se]),te.push([Ve])}var ke=(0,l.h)().withCategory({source:h(W,o,!1,"",Z),values:O,identityFrom:{fields:[(0,t.Oh)((0,t.nw)("s","RegressionEntity"),"RegressionCategories")]}}).withGroupedValues({groupColumn:{source:h(F,v,F.isMeasure,"Regression",re),values:U,identityFrom:{fields:[(0,t.Oh)((0,t.nw)("s","RegressionEntity"),"RegressionSeries")]}},valueColumns:[{source:h(F,m,F.isMeasure,"",X)}],data:te}).build();return(0,s.ni)(ke,r.m.Categorical,K,z,[],H,J),ke}}(H,J,Ct,[X,re],ke,ot,U,O,x,I,L)}}}}function D(W,F,U){i.f.assertValue(W,"roleKind"),i.f.assertValue(F,"categorical");var O=w(W,F.values,U);if(!_.isEmpty(O))return O;var x=F.categories;if(!_.isEmpty(x)){var I=x[0],L=w(W,[I],U);if(!_.isEmpty(L)&&(1===x.length||_.isEmpty(I.values)||!_.isEmpty(I.objects)&&void 0!==M(I.objects[0])))return L}}function w(W,F,U){if(!_.isEmpty(F))return _.filter(F,O=>{var I,x=function(K){if(!O.source.roles[K])return 0;var z=_.find(U,H=>H.name===K);return z&&z.cartesianKind===W?{v:!0}:void 0};for(var L in O.source.roles)if(0!==(I=x(L))&&I)return I.v;return!1})}function M(W){return(0,n.NA)(W,d.i)}function A(W,F){var U=_.head(W.objects);return U&&M(U)?_.map(W.objects,x=>M(x)):F&&W.highlights?W.highlights:W.values}function R(W,F,U,O){for(var x=[],I=_.map(W,k=>A(k,O)),L=_.map(F,k=>A(k,O)),K=W.length>1,z=0;z<L.length;z++){var H=K?I[z]:I[0],J=L[z];U&&x.length>0?(x[0].xValues=x[0].xValues.concat(H),x[0].yValues=x[0].yValues.concat(J)):x.push({xValues:H,yValues:J})}return x}function N(W){return _.some(W,F=>null!=F.highlights)}return{apply:(W,F,U,O,x,I,L)=>P(W,F,U,O,x,I,L)}}().apply(P,w,M,A,R,B,N)}function h(P,D,w,M,A){return{displayName:P.displayName+M,queryName:D,type:P.type,isMeasure:w,roles:A}}function E(P){var D,w,M=[];for(var A of P){var R=A.xValues,B=A.yValues;if(_.isEmpty(R)||_.isEmpty(B))M.push(null);else{var N=f(R),W=f(B);if(N&&W){var F=b(R,B);if(!F||_.isEmpty(F.xValues)||_.isEmpty(F.yValues))M.push(null);else{var U=F.xValues[0],O=F.xValues[F.xValues.length-1],x=V(F.xValues,F.yValues);D=_.min([D,U]),w=_.max([w,O]),M.push(x)}}else M.push(null)}}return{lineDefs:M,xMin:D,xMax:w}}function u(P){return P&&!_.isEmpty(P.lineDefs)&&_.some(P.lineDefs,D=>D)}function f(P){var D=_.find(P,M=>null!=M);if(null!=D){var w=typeof D;if(!_.some(P,M=>null!=M&&typeof M!==w))return w}}function b(P,D){i.f.assertValue(P,"unsortedXValues"),i.f.assertValue(D,"unsortedYValues");var w=_.zip(P,D),[M,A]=_.chain(w).filter(R=>null!=R[0]&&null!=R[1]).sortBy(R=>R[0]).unzip().value();return{xValues:M=_.map(M,_.toNumber),yValues:A=_.map(A,_.toNumber)}}function V(P,D,w=!1){i.f.assertValue(P,"xValues"),i.f.assertValue(D,"yValues");var M=_.sum(P),A=_.sum(D),R=M/P.length,B=A/D.length,N=_.chain(P).map(H=>(H-R)**2).sum().value();if(0!==N){var O,F=_.chain(P).map((H,J)=>(H-R)*(D[J]-B)).sum().value()/N,U=B-R*F;if(w){var x=_.size(P),I=_.chain(P).map((H,J)=>H*D[J]).sum().value(),L=_.chain(P).map(H=>H*H).sum().value(),K=_.chain(D).map(H=>H*H).sum().value(),z=Math.sqrt((x*L-M**2)*(x*K-A**2));0!==z&&(O=((x*I-M*A)/z)**2)}return{incline:F,intercept:U,rSquared:O}}}function T(P,D,w){return P?[D*P.incline+P.intercept,w*P.incline+P.intercept]:[null,null]}},123916:function(ve,j,e){e.d(j,{Yp:function(){return g},fS:function(){return n}});var r=e(990297),i=e(650543),a=e(16990),t=e(935183),l=e(387864);function g(s){return new p(s)}function n(s,d){return s.key&&d.key&&s.key===d.key&&(0,r.NF)(s.roles,d.roles,(o,v)=>o===v)}class p{constructor(d){this.kind=l.i.RoleWildcard,i.f.assertNonEmpty(d,"roles"),this._roles=d,this._key=new a.o(()=>JSON.stringify(this.roles))}get roles(){return this._roles}get key(){return this._key.getValue()}}(0,t.y)(p.prototype)},402623:function(ve,j,e){e.d(j,{Lu:function(){return m},SN:function(){return v},TZ:function(){return c},fS:function(){return d},rP:function(){return C},yz:function(){return o}});var r=e(650543),i=e(16990),a=e(935183),t=e(387864),l=e(827161),g=e(914094),n=e(442407),p=e(989259),s=e(426313);function d(y,S,h){return(y=y||null)===(S=S||null)||!y==!S&&(r.f.assertValue(y,"x"),r.f.assertValue(S,"y"),(0,s.fS)(y.expr,S.expr,h))}function o(y,S,h){if(!(y=y||null)!=!(S=S||null))return!1;r.f.assertValue(y,"thisComparisonExpr"),r.f.assertValue(S,"otherComparisonIdentity");var u=y,f=(0,l.Dh)(S.expr),b=(0,l.Dh)(u);if(!f||!b)return d(c(u),S,h);var T,V=function(D){if(!_.some(f,w=>(0,s.fS)(D,w,h)))return{v:!1}};for(var P of b)if(T=V(P))return T.v;return!0}function v(y,S){if(!_.isEmpty(y)){var h=[];for(var E of y)h.push(E.expr);return m(h,S)}}function m(y,S){if(!_.isEmpty(y)){var h;for(var E of y){var u=(0,l.FD)(E);h=h?(0,n.or)(h,u):u||E}return h&&S&&(h=(0,n.ff)(h)),(0,l.Cj)(h)?void r.f.assertFail("SelectRef based identities can not be translated into a filter without additional context."):g.yl.fromSQExpr(h)}}function c(y){return new C(y)}class C{constructor(S){this.kind=t.i.ScopeIdentity,r.f.assertValue(S,"expr"),this._expr=S,this._key=new i.o(()=>(0,p.qC)(S))}get expr(){return this._expr}get key(){return this._key.getValue()}}(0,a.y)(C.prototype)},532370:function(ve,j,e){e.d(j,{fS:function(){return p},ms:function(){return s},wB:function(){return n}});var r=e(650543),i=e(16990),a=e(935183),t=e(387864),l=e(832573),g=e(989259);function n(o,v){return!_.isEmpty(v)&&l.m.sequenceEqual(o.exprs,v)}function p(o,v){return o===v||l.m.sequenceEqual(o.exprs,v.exprs)}function s(o){return new d(o)}class d{constructor(v){this.kind=t.i.ScopeTotal,r.f.assertValue(v,"scopeExprs"),this._exprs=v,this._key=new i.o(()=>(0,g.Gg)(v))}get exprs(){return this._exprs}get key(){return this._key.getValue()}}(0,a.y)(d.prototype)},29706:function(ve,j,e){e.d(j,{fS:function(){return s},ms:function(){return d},wB:function(){return p}});var r=e(650543),i=e(16990),a=e(935183),t=e(387864),l=e(827161),g=e(832573),n=e(989259);function p(v,m){var c=(0,l.RR)(m.expr);return!!c&&g.m.sequenceEqual(v.exprs,c)}function s(v,m){return v===m||g.m.sequenceEqual(v.exprs,m.exprs)}function d(v){return new o(v)}class o{constructor(m){this.kind=t.i.ScopeWildcard,r.f.assertValue(m,"exprs"),this._exprs=m,this._key=new i.o(()=>(0,n.Gg)(m))}get exprs(){return this._exprs}get key(){return this._key.getValue()}}(0,a.y)(o.prototype)},313750:function(ve,j,e){e.d(j,{_v:function(){return g},bG:function(){return n},f_:function(){return d},ij:function(){return s}});var r=e(60978),i=e(426313),a=e(650543),t=e(630881),l=e(481785);function g(o,v){if(a.f.assertAnyValue(o,"selects"),a.f.assertAnyValue(v,"projectionActiveItems"),_.isEmpty(o))return{};var m={};for(var c of o)if(c){var C=c.roles;if(C)for(var y in C)if(C[y]){var S=m[y];S||(S=m[y]=new l.NQ([])),S.addProjection({queryRef:c.queryName}),v&&v[y]&&(S.activeProjectionRefs=_.map(v[y],h=>h.queryRef))}}return m}function n(o,v){var m={};for(var c of v.columns)if(!(!c.index&&0!==c.index||c.index<0||c.index>=o.length)){var C=o[c.index];if(C){var y=C.queryName;y&&void 0===m[y]&&(m[y]=c.isMeasure?t.DW.Measure:t.DW.Grouping)}}return m}function s(o,v,m){if(a.f.assertValue(o,"expr"),a.f.assertAnyValue(v,"selectTransforms"),!v)return-1;var c;(0,r.NH)(o)&&(c=o.expressionName);for(var C=m||0,y=v.length;C<y;C++){var S=v[C];if(S&&(!c||S.queryName))if(c){if(S.queryName===c)return C}else if((0,i.fS)(S.expr,o))return C}return-1}function d(o,v){if(!_.isEmpty(o)&&!_.isEmpty(v)){for(var m={},c=function(h){var E=o[h];if(!_.isEmpty(E.relatedSelects)){var u=function(){var b=f.queryName,V=_.findIndex(o,A=>A.queryName&&A.queryName===b),T=o[V];if(V>-1)for(var P of _.keys(T.roles)){var D=_.remove(v[P],A=>A===h);if(!_.isEmpty(D)){var w=m[V]=m[V]||{};(w[P]=w[P]||[]).push(h)}}};for(var f of E.relatedSelects)u()}},C=0;C<o.length;C++)c(C);if(!_.isEmpty(m)){var y=function(h){var E=m[h];for(var u in E){var f=v[u],b=_.findIndex(f,V=>V===parseInt(h,10));f.splice(b+1,0,...E[u])}};for(var S in m)y(S)}}}},461361:function(ve,j,e){e.d(j,{nn:function(){return _r},G3:function(){return _e},iZ:function(){return gr}});var r=e(929248),i=e(990297),a=e(650543),t=e(896286),l=e(695795),g=e(128735),n=e(827161),p=e(832573),s=e(248505),d=e(36432);function o(Le){return void 0===Le.source.index}function v(Le){return _.some(Le,o)}var c=e(237008);function C(Le){a.f.assertValue(Le,"categorical");var Ye=Le.values;if(Ye){var gt;if(Ye.source){gt=(0,t.qO)(Ye.grouped());var Vt=0===(0,c.Ed)(Le),xt=Ye.length>=1&&(Vt||void 0!==_.head(Ye).identity);if(!_.isEmpty(Ye)&&xt)for(var jt,At=0,Nt=function(){var nt=Ye[Yt];if(o(nt))return 1;if(!jt||nt.identity!==jt.identity){var _t=gt[At];_t?jt=(0,t.qO)(_t):(a.f.assert(()=>!nt.identity,"!currentValueColumn.identity -- Extra valueGroup items should be statics (no identity)."),jt=_t=gt[At]={values:null}),gt[At]=jt,jt.values=[],At++,a.f.assert(()=>nt.identity===jt.identity,"expecting the value columns are sequenced by series groups")}jt.values.push(nt)},Yt=0,rr=Ye.length;Yt<rr;Yt++)Nt();else for(var dr=0,Ut=gt.length;dr<Ut;dr++){var Te=gt[dr];_.isEmpty(Te.values)||(gt[dr]=Te=(0,t.qO)(Te),Te.values=[])}}else gt=[{values:Ye}];Ye.grouped=()=>gt,Le.values=Ye}}var y=e(87072),S=e(995649);function R(Le,Ye){a.f.assertValue(Le,"measureSources"),a.f.assertValue(Ye,"projectionOrder");var ht=(0,S.jh)(Le,Ye);if(ht=_.chain(ht).filter(Vt=>void 0!==Vt.projectionOrderIndex).sortBy(Vt=>Vt.projectionOrderIndex).value(),!(0,i.NF)(Le,ht,(Vt,xt)=>Vt.index===xt.metadataColumn.index))return ht}function N(Le){if(a.f.assertValue(Le,"groups"),!_.isEmpty(Le))return _.chain(Le[0].values).map(ht=>ht.source).filter(ht=>void 0!==ht.index).value()}var W=e(34842),F=e(734531),U=e(442407),O=e(890486),x=e(370918),I=e(402623),L=e(806982),K=e(317571);function H(Le,Ye,ht){if(a.f.assertValue(Ye,"Category type is not specified"),!_.isDate(Le)||!Ye||!Ye.temporal)return null;var gt=Le;return Ye.temporal.year?function(Le){return a.f.assertValue(Le,"date"),Le.getFullYear()}(gt):Ye.temporal.quarter?function(Le,Ye){a.f.assertValue(Le,"date");var gt=Math.floor((Le.getMonth()+3)/3);return(0,F.W)(Ye,gt.toLocaleString())}(gt,ht):Ye.temporal.month?function(Le){return a.f.assertValue(Le,"date"),x.dx.formatValue(Le,"MMMM")}(gt):Ye.temporal.day?function(Le){return a.f.assertValue(Le,"date"),Le.getDate()}(gt):void 0}function Q(Le,Ye){a.f.assertValue(Le,"dataViewMatrix"),Ye.columnHierarchyRewritten||(Le.columns=(0,t.ED)(Le.columns));var ht=Le.columns;Ye.rowHierarchyRewritten||(Le.rows=(0,t.ED)(Le.rows));var gt=Le.rows;if(!(ht.levels.length>1)){var Vt={level:0},xt=ht.root.children,At=_.size(xt),jt=gt.levels.length;if(At>0){var Nt=0,Yt=function(Ut){if(Ut.values){Vt.values||(Vt.values={});for(var Te=0;Te<At;Te++)Vt.values[Nt++]=Ut.values[Te];Ut.values=void 0}if(At>1){Ut.children||(Ut.children=[]);for(var nt=0;nt<At;nt++){var _t={level:jt};_t.levelSourceIndex=xt[nt].levelSourceIndex,Ut.isSubtotal&&(_t.isSubtotal=!0),Ut.children.push(_t)}}};Ye.hierarchyTreesRewritten?Z(gt.root,Yt):Le.columns.root=re(gt.root,Yt)}else Ye.hierarchyTreesRewritten||(Le.columns.root=function(Le){return re(Le)}(gt.root));if(At>1&&(gt.levels.push({sources:ht.levels[0].sources}),ht.levels.length=0),Ye.hierarchyTreesRewritten)Le.columns.root=gt.root,Le.rows.root={children:[Vt]};else{var dr=(0,t.ED)(Le.rows.root);dr.children=[Vt],Le.rows.root=dr}Le.columns.levels=gt.levels,Le.rows.levels=[]}}function Z(Le,Ye){var ht=Le.children;if(ht&&ht.length>0)for(var gt=0,Vt=ht.length;gt<Vt;gt++)Z(ht[gt],Ye);else Ye(Le)}function re(Le,Ye){var ht={};return Ye&&(ht.nodeProcessor=gt=>{_.isEmpty(gt.children)&&Ye(gt)}),te(Le,ht)}function te(Le,Ye){var ht=(0,t.ED)(Le),gt=Le.children;if(!(Ye.nodeProcessor&&Ye.nodeProcessor(ht),_.isEmpty(gt)||Ye.skipChildren?.(Le)))for(var xt=gt.length,At=ht.children=new Array(xt),jt=0;jt<xt;jt++)At[jt]=te(gt[jt],Ye);return ht}var se=e(315815);function ke(Le,Ye,ht){if(_.isEmpty(ht))return[];var gt=y.nG.fromMatrixValues(Ye);if(_.isEmpty(gt))return[];var Vt=ft(Le,gt),xt=(0,S.jh)(ht,Vt,gt);return _.chain(xt).filter(At=>void 0!==At.projectionOrderIndex).sortBy(At=>At.projectionOrderIndex).value()}function ft(Le,Ye){a.f.assertValue(Le,"projectionOrdering"),a.f.assertValue(Ye,"roles");var ht=[];for(var gt of Ye){var Vt=Le[gt];_.isEmpty(Vt)||ht.push(...Vt||[])}return ht}function Ct(Le,Ye){return a.f.assertValue(Le,"valueSources"),a.f.assertValue(Ye,"valueProjectionOrdering"),(0,i.NF)(Le,Ye,(ht,gt)=>ht===gt.metadataColumn)}function Ke(Le,Ye,ht,gt,Vt){a.f.assertValue(Le,"prototypeRowHierarchy"),a.f.assertNonEmpty(Ye,"originalValueSources"),a.f.assertValue(ht,"projectedValueSourceEntries"),a.f.assert(()=>void 0===Vt||0===gt.length,"staticValueSources are not supported with Scoped Measures");var jt,Yt,xt=Ye.length,At=ht.length,Nt=(0,t.qO)(Le),rr=(Ut,Te)=>{var nt=Te?Ut.values:(0,se.Lr)(Ut);if(nt&&0!==xt){if(!Yt){Yt=0;var _t={};for(var wt in nt)Yt++,_t[nt[wt].valueSourceIndex||0]=!0;xt=Object.keys(_t).length}if(void 0===jt){if(xt>At&&gt.length>0&&(xt-=gt.length,0==(Yt-=gt.length)))return;a.f.assert(()=>Yt%xt==0,"expecting the intersection values to have one value per measure column per column group instance"),jt=Yt/xt}else a.f.assert(()=>jt===Yt/xt,"expecting every interaction values collection to have the same length");var Ft;if(At>0){Ft={};for(var zt=0;zt<jt;zt++)for(var er=zt*xt,or=zt*At,ur=0;ur<At;ur++){var Cr=nt[er+ht[ur].sourceIndex];ur!==(Cr.valueSourceIndex||0)&&((Cr=(0,t.qO)(Cr)).valueSourceIndex=ur||void 0),Ft[or+ur]=Cr}for(var br=At,Dr=Object.keys(Ft).length,Wr=Yt+gt.length,Pr=Yt;Pr<Wr;Pr++){var Tr=nt[Pr];Tr.valueSourceIndex=br++||void 0,Ft[Dr++]=Tr}}else Ft=void 0;Te?Ut.values=Ft:Ut.nodeValues=Ft?{0:Ft}:void 0}};return Nt.root=void 0===Vt?re(Nt.root,Ut=>rr(Ut,!0)):te(Nt.root,{nodeProcessor:Ut=>{Ut.level===Vt&&rr(Ut,!1)},skipChildren:Ut=>Ut.level>=Vt}),Nt}function we(Le,Ye){a.f.assertValue(Le,"matrixHierarchy"),a.f.assertValue(Ye,"projectionOrdering");var gt,ht=Le.levels,Vt=_.chain(ht).map((dr,Ut)=>Ut).filter(dr=>{var Ut=ht[dr];return _.size(Ut.sources)>=2&&!(0,se.Ro)(Ut)}).value();if(!_.isEmpty(Vt)){for(var xt=_.uniq(Ye),At=Vt.length-1;At>=0;At--){var jt=Vt[At],Nt=Le.levels[jt],Yt=Ne(Nt,xt);if(!_.isEmpty(Yt)){void 0===gt&&((gt=(0,t.qO)(Le)).levels=(0,t.qO)(Le.levels),gt.root=(0,se.no)(Le.root,jt,!0));var rr=(0,t.qO)(Nt);gt.levels[jt]=Se(rr,Yt),Ie(gt.root,jt,Yt)}}return gt}}function Ne(Le,Ye){a.f.assertValue(Le,"hierarchyLevel"),a.f.assertValue(Ye,"hierarchyProjection");var ht,gt=Le.sources;if(gt&&gt.length>=2){var Vt=(0,S.jh)(gt,Ye);a.f.assert(()=>_.every(Vt,At=>At.metadataColumn.isMeasure||void 0!==At.projectionOrderIndex||null==Ye[At.sourceIndex]),"Removed grouping during Matrix Projection ordering");var xt=_.sortBy(Vt,At=>At.projectionOrderIndex);ht=_.map(xt,(At,jt)=>({originalSourceIndex:At.sourceIndex,newSourceIndex:jt}))}return ht}function Se(Le,Ye){a.f.assertValue(Le,"transformingHierarchyLevel"),a.f.assertNonEmpty(Ye,"levelSourceIndexMappings");var ht=Le.sources;Le.sources=ht.slice(0);var gt=function(xt){a.f.assert(()=>xt.originalSourceIndex<ht.length,"pre-condition: The value in every mapping in the specified levelSourceIndicesReorderingMap must be a valid index to the specified hierarchyLevel.sources array property"),Le.sources[xt.newSourceIndex]=ht[xt.originalSourceIndex]};for(var Vt of Ye)gt(Vt);return Le}function Ie(Le,Ye,ht){a.f.assertValue(Le,"transformingHierarchyRootNode"),a.f.assertNonEmpty(ht,"levelSourceIndexMappings"),a.f.assert(()=>ht.length===_.uniqBy(ht,Vt=>Vt.originalSourceIndex).length,"levelSourceIndexMappings must not contain duplicate originalSourceIndex");var gt=_.reduce(ht,(Vt,xt)=>(Vt[xt.originalSourceIndex]=xt,Vt),{});return(0,se.X2)(Le,Ye,Vt=>{var xt=Vt.levelValues;if(!_.isEmpty(xt)){a.f.assert(()=>_.every(xt,Ut=>!!gt[Ut.levelSourceIndex]),"Invalid levelSourceIndexMappings or transformingHierarchyRootNode: levelSourceIndexMappings should contain an entry for every levelSourceIndex in the matrix hierarchy.");for(var At=_.sortBy(xt,Ut=>{var Te=gt[Ut.levelSourceIndex];return Te&&Te.newSourceIndex}),jt=0,Nt=At.length;jt<Nt;jt++){var Yt=(0,t.qO)(At[jt]),rr=gt[Yt.levelSourceIndex];Yt.levelSourceIndex=rr&&rr.newSourceIndex,At[jt]=Yt}Vt.levelValues=At;var dr=_.last(At);Vt.value!==dr.value&&(Vt.value=dr.value),(Vt.levelSourceIndex||0)!==dr.levelSourceIndex&&(Vt.levelSourceIndex=dr.levelSourceIndex)}}),Le}function ye(Le,Ye){a.f.assert(()=>Le&&_.every(Le.children,gt=>gt.level===Le.children[0].level),"node must be defined and all of its child nodes must have the same level value."),a.f.assertValue(Ye,"measureHeadersLevelIndex");var ht=Le.children;return!_.isEmpty(ht)&&ht[0].level===Ye}function Je(Le,Ye,ht,gt){for(var Vt=new Array(Ye),xt=0,At=Ye;xt<At;xt++){var jt=void 0,Nt=gt&&gt[xt].sourceIndex;null!=Nt&&(jt=ht.children&&ht.children[Nt]);var Yt=jt?(0,t.qO)(jt):{};Yt.level=Le,ht.isSubtotal&&(Yt.isSubtotal=!0),Yt.levelSourceIndex=xt>0?xt:void 0,Vt[xt]=Yt}return Vt}function he(Le){a.f.assertValue(Le,"options");var Ye=_.filter(Le.dataRoles,ht=>!_.isEmpty(ht.requiredTypes));!function(Le,Ye,ht){if(a.f.assertValue(Le,"dataview"),!_.isEmpty(Ye)&&!_.isEmpty(ht)){var gt=function(Le,Ye){if(!Le||!Ye)return()=>!1;var ht={};for(var gt of Le){var Vt=gt.roles;if(Vt)for(var xt of Ye)if(Vt[xt.name]){ht[gt.index]=!0;break}}return At=>!isNaN(At)&&!!ht[At]}(Le.metadata.columns,ht),Vt=function(Le,Ye){if(!Le||!Ye)return()=>!0;var ht=[];for(var gt of Le){var Vt=Qe(gt,Ye);Vt&&(ht[gt.index]=Vt)}return(xt,At)=>!ht[xt]||ht[xt](At)}(Le.metadata.columns,ht),xt={};for(var At of Ye)At.table&&Le.table&&(xt.table=!0),At.matrix&&Le.matrix&&(xt.matrix=!0),At.categorical&&Le.categorical&&(xt.categorical=!0),At.tree&&Le.tree&&(xt.tree=!0),At.single&&Le.single&&(xt.single=!0);xt.categorical&&function(Le,Ye,ht){var gt=Le&&Le.values;if(gt){var Vt=gt.grouped();if(Vt)for(var xt of Vt){var At=xt.values;for(var jt of At){var Nt=jt.source.index;if(Ye(Nt))for(var Yt=0,rr=jt.values.length;Yt<rr;Yt++)jt.values=Fe(jt.values,Yt,Nt,ht)}}}}(Le.categorical,gt,Vt),xt.table&&function(Le,Ye,ht){var gt=Le&&Le.columns;if(gt){var Vt=[];for(var xt of gt)Ye(xt.index)&&Vt.push(xt.index);for(var At=Le.rows,jt=0,Nt=At.length;jt<Nt;jt++)for(var Yt of Vt)At[jt]=Fe(At[jt],Yt,Yt,ht)}}(Le.table,gt,Vt),xt.tree&&bt(Le.tree.root,gt,Vt),xt.matrix&&function(Le,Ye,ht){var gt=Le&&Le.rows&&Le.rows.root;gt&&Dt(Le,gt,Ye,ht)}(Le.matrix,gt,Vt),xt.single&&function(Le,Ye,ht,gt){if(Le.single){var Vt=[];for(var xt of ht)xt.name&&Vt.push(xt.name);var At=Le.metadata.columns;for(var jt of Ye){var Nt=jt.single.role;if(-1!==Vt.indexOf(Nt)){var Yt=qe(At,Nt);return void(Yt&&(Le.single=Fe(Le.single,"value",Yt.index,gt)))}}}}(Le,Ye,ht,Vt)}}(Le.dataview,Le.dataViewMappings,Ye)}function Qe(Le,Ye){var ht=function(Le,Ye){var ht=[],gt=Le&&Le.roles;if(!gt)return ht;for(var Vt of Ye)if(gt[Vt.name])for(var xt of Vt.requiredTypes){var At=s.Ge.fromDescriptor(xt);ht.push(At)}return ht}(Le,Ye);if(!_.isEmpty(ht))return gt=>function(Le,Ye){for(var ht of Ye)if(ht.numeric||ht.integer)return"number"==typeof Le;return!1}(gt,ht)}function bt(Le,Ye,ht){if(Le.values)for(var gt in Le.values)Ye(gt)&&("object"==typeof Le.values[gt]&&"value"in Le.values[gt]?Le.values[gt]=Fe(Le.values[gt],"value",gt,ht):Le.values=Fe(Le.values,+gt,+gt,ht));else if(Le.children)for(var Vt of Le.children)bt(Vt,Ye,ht)}function Dt(Le,Ye,ht,gt){if(Ye.values)for(var Vt in Ye.values){var xt=Ye.values[Vt],jt=Le.valueSources[xt.valueSourceIndex||0].index;_.isNumber(jt)&&ht(jt)&&(Ye.values[Vt]=Fe(xt,"value",jt,gt))}else if(Ye.children)for(var Nt of Ye.children)Dt(Le,Nt,ht,gt)}function Fe(Le,Ye,ht,gt){if(Le){var Vt=Le[Ye];return null!==Vt&&!gt(ht,Vt)&&((Le=(0,t.qO)(Le))[Ye]=null),Le}}function qe(Le,Ye){for(var ht of Le){var gt=ht&&ht.roles;if(gt&&gt[Ye])return ht}}var dt=e(230343),rt=e(630190),ce=e(820013);class ae{constructor(){this.originalDynamicFormatColumns=[],this.categoryIndexToDynamicFormatColumn=[]}trackOriginalDynamicFormatColumn(Ye,ht){this.originalDynamicFormatColumns.push({valueColumnIndex:Ye,dynamicFormatStringColumn:ht})}addPivotedDynamicFormatColumn(Ye,ht,gt){void 0===this.categoryIndexToDynamicFormatColumn[Ye]&&(this.categoryIndexToDynamicFormatColumn[Ye]=[]),a.f.assert(()=>void 0===this.categoryIndexToDynamicFormatColumn[Ye][ht],`categoryIndexToDynamicFormatColumn[${Ye}][${ht}] === undefined`),this.categoryIndexToDynamicFormatColumn[Ye][ht]=gt}getPivotedDynamicFormatColumn(Ye,ht){var gt=this.getValueColumnIndex(Ye);if(void 0!==gt)return a.f.assertValue(this.categoryIndexToDynamicFormatColumn[gt][ht],`categoryIndexToDynamicFormatColumn[${gt}][${ht}]`),this.categoryIndexToDynamicFormatColumn[gt][ht]}getValueColumnIndex(Ye){var ht=_.find(this.originalDynamicFormatColumns,gt=>gt.dynamicFormatStringColumn===Ye);if(ht)return ht.valueColumnIndex}}var de=e(674660);var it=e(318556),yt=e(36146);function Ze(Le,Ye,ht){var gt=(0,t.ED)(Le);for(var Vt of ht)gt[Vt]=Ye[Vt];return gt}var ct=e(66301),St=e(313750),kt=["Series","Category"],Gt=["Series","X","Y"];function He(Le,Ye,ht,gt){a.f.assertValue(Le,"groupingLevelSelectIndices"),a.f.assertValue(Ye,"selectTransforms"),a.f.assertAnyValue(ht,"drillableRoles"),a.f.assertValue(gt,"rolesToMatch");var Vt=0,xt=Le.length;for(var At of gt){if(xt<=Vt)return!1;var jt=Mt(Le,Ye,At);if(0===jt)return!1;if(jt>=2&&!_.includes(ht,At))return!1;Vt+=jt}return!(Vt<xt)}function Mt(Le,Ye,ht){a.f.assertValue(Le,"selectIndices"),a.f.assertValue(Ye,"selectTransforms"),a.f.assertValue(ht,"roleToMatch");var gt=0;for(var Vt of Le)if((0,S.iN)(Ye[Vt]&&Ye[Vt].roles,ht))gt++;else if(gt>0)break;return gt}var st=e(521214),Lt=e(468006),Qt=e(426313),$t=function(Le){return Le[Le.None=0]="None",Le[Le.Pivot=1]="Pivot",Le[Le.SelfCrossJoin=2]="SelfCrossJoin",Le}({}),lr={quarterPrefix:"Qtr {0}"};function gr(Le){a.f.assertValue(Le,"options"),lr=Le}function _r(Le){a.f.assertValue(Le,"options");var Ye=Le.prototype,ht=Le.objectDescriptors,gt=Le.transforms,Vt=Le.visualStyle,xt=Le.withWarnings?[]:void 0;if(!Ye)return{dataViews:Lr(ht,gt,Vt,Le.featureSwitches)};if(!gt)return{dataViews:[Ye]};var At=function(Le,Ye,ht,gt,Vt,xt,At,jt,Nt,Yt){a.f.assertValue(Le,"queryDataViewMetadata"),a.f.assertAnyValue(Ye,"objectDescriptors"),a.f.assertAnyValue(ht,"dataViewMappings"),a.f.assertAnyValue(gt,"dataRoles"),a.f.assertAnyValue(Vt,"drillCapabilities"),a.f.assertValue(At,"transforms"),a.f.assertValue(jt,"DataViewTransformContext.create - visualStyle");var rr=At.selects,dr=At.roles&&At.roles.activeItems,Ut=_.isEmpty(rr)?{}:(0,St.bG)(rr,Le),Te=(0,St._v)(rr,dr),_t=(0,ct.Lo)(Te,ht,Ut,Yt,Ye,At.objects).supportedMappings;return{queryDataViewMetadata:Le,objectDescriptors:Ye,dataRoles:gt,drillCapabilities:Vt,expandCollapseCapabilities:xt,transforms:At,selectTransforms:rr,projectionOrdering:At.roles&&At.roles.ordering,projectionActiveItems:dr,roleKindByQueryRef:Ut,queryProjectionsByRole:Te,visualCapabilitiesRoleMappings:ht,visualCapabilitiesDataViewKinds:(0,y._1)(ht),applicableRoleMappings:_t,applicableDataViewKinds:(0,y._1)(_t),visualStyle:jt,visualCapabilitiesKeepAllMetadataColumns:Nt}}(Ye.metadata,ht,Le.dataViewMappings,Le.dataRoles,Le.drillCapabilities,Le.expandCollapseCapabilties,gt,Vt,Le.keepAllMetadataColumnsCapability,Le.featureSwitches),jt=function(Le,Ye){a.f.assertValue(Le,"prototype"),a.f.assertValue(Ye,"transformContext");var ht=Ye.transforms,gt=Ye.applicableRoleMappings,Vt=(0,de.wi)(Le,Ye.selectTransforms,Ye.roleKindByQueryRef,Ye.queryProjectionsByRole,gt),xt=Ye.transforms?.roles?.isDrillDisabled;return Vt=function(Le,Ye,ht,gt){if(a.f.assertValue(Le,"prototype"),a.f.assertValue(Ye,"transformActions"),a.f.assertAnyValue(ht,"applicableRoleMappings"),a.f.assertAnyValue(gt,"drillableRoles"),!_.isEmpty(Ye.splits))return Le;var Vt=Le.matrix;if(!Vt)return Le;var xt=_.chain(ht).map(Yt=>function(Le){a.f.assertValue(Le,"dataViewMapping");var Ye=Le.matrix;if(Ye&&Ye.rows&&!Ye.columns&&!Ye.values){var ht=y.nG.fromMatrixRows(Ye.rows);if((0,i.NF)(ht,kt,(Vt,xt)=>Vt===xt)||(0,i.NF)(ht,Gt,(Vt,xt)=>Vt===xt))return{primaryAxisRoles:ht.slice(1),secondaryAxisRole:ht[0]}}}(Yt)).filter(Yt=>!!Yt).value();if(1!==xt.length)return Le;if(!function(Le,Ye,ht,gt){a.f.assertValue(Le,"dataViewSelectIndices"),a.f.assertValue(Ye,"transformActions"),a.f.assertAnyValue(ht,"drillableRoles"),a.f.assertValue(gt,"matchingUpgradeSourceRolesStructure");var Vt=Le.primaryAxis,xt=Le.secondaryAxis;if(!_.isEmpty(Le.intersection)||1!==_.size(Vt)||1!==_.size(xt))return!1;var At=Ye.selects;return!(!He(Vt[0].selectIndices,At,ht,gt.primaryAxisRoles)||!He(xt[0].selectIndices,At,ht,[gt.secondaryAxisRole]))}((0,se.GJ)(Vt),Ye,gt,xt[0]))return Le;var jt=function(Le){a.f.assertValue(Le,"dataViewMatrix"),a.f.assert(()=>1===Le.columns.levels.length,"dataViewMatrix.columns.levels.length === 1"),a.f.assert(()=>1===Le.rows.levels.length,"dataViewMatrix.rows.levels.length === 1"),a.f.assert(()=>_.isEmpty(Le.valueSources),"_.isEmpty(dataViewMatrix.valueSources)");var Ye=(0,t.qO)(Le),ht=Ye.rows=(0,t.qO)(Le.rows),gt=Ye.columns=(0,t.qO)(Le.columns),xt=(gt.levels=(0,t.qO)(gt.levels)).splice(0,1)[0];(ht.levels=(0,t.qO)(ht.levels)).splice(0,0,xt);var jt=Le.rows.root,Nt=ht.root=(0,t.qO)(gt.root);gt.root={children:[]};var Yt=(0,t.VW)(Nt.children,rr=>{var dr=(0,t.qO)(rr);return dr.childIdentityFields=jt.childIdentityFields,dr.children=function(Le){if(a.f.assertAnyValue(Le,"nodes"),!Le)return Le;var Ye=(0,t.VW)(Le,ht=>{var gt=(0,t.ED)(ht);return gt.level+=1,gt});return Ye||(0,t.ED)(Le)}(jt.children),dr});return Yt&&(Nt.children=Yt),Ye}(Vt),Nt=(0,t.qO)(Le);return Nt.matrix=jt,Nt}(Vt,ht,gt,Sr(Ye.drillCapabilities,xt)),Vt=function(Le,Ye,ht,gt){if(!function(Le,Ye,ht,gt){if(_.isEmpty(Ye)||!Le||_.isEmpty(ht))return!1;var Vt=Le.matrix;if(!Vt||!Vt.rows||_.isEmpty(Vt.rows.levels)||!Vt.columns||_.isEmpty(Vt.columns.levels))return!1;var xt=[];for(var At of Vt.columns.levels)for(var jt of At.sources)jt.isMeasure||xt.push(jt);var Nt=[];for(var Yt of Vt.rows.levels)for(var rr of Yt.sources)rr.isMeasure||Nt.push(rr);var dr=[];for(var Ut of Vt.rows.levels)for(var Te of Ut.sources)Te.isMeasure&&dr.push(Te);if(!_.isEmpty(dr)||1!==xt.length||Nt.length<1)return!1;var nt=_.filter(ht,ur=>!(0,y.zY)(ur));if(1!==nt.length)return!1;if((0,y._1)(nt)!==r.m.Matrix)return!1;var wt=nt[0].matrix;if(!wt)return!1;var Ft=y.nG.fromMatrixRows(wt.rows),zt=y.nG.fromMatrixColumns(wt.columns);if(_.size(Ft)<2||0!==_.size(zt))return!1;var er=_.uniq([].concat(..._.map(Nt,ur=>Object.keys(Ye[ur.index].roles)))),or=_.uniq([].concat(..._.map(xt,ur=>Object.keys(Ye[ur.index].roles))));return _.isEqual(Ft,[].concat(or,er))&&_.isEqual(gt,er)}(Le,Ye,gt,ht))return Le;var Vt={metadata:{columns:[...Le.metadata.columns||[]]}};if(Le.single&&(Vt.single=Le.single),Le.table&&(Vt.table=Le.table),Le.matrix){var xt=function(Le){var Ye=Le.rows,ht=Le.columns,gt=Ye.root,Vt=gt.children;a.f.assert(()=>1===Ye.levels.length,"oldRows.levels.length ===1"),a.f.assert(()=>ht.levels.length>=1,"oldColumns.levels.length >=1"),a.f.assert(()=>1===ht.levels[0].sources.length,"oldColumns.levels[0].sources.length === 1");var xt={levels:[],root:{children:[]}},jt={rows:xt,columns:{levels:[],root:{children:[]}},valueSources:Le.valueSources},Nt=xt.root.children;for(var Yt of(xt.levels.push(ht.levels[0]),xt.root.childIdentityFields=ht.root.childIdentityFields,ht.root.children))void 0!==Yt.levelValues&&void 0!==Yt.value&&Nt.push({children:[],value:Yt.value,levelValues:Yt.levelValues,identity:Yt.identity,level:0});var rr=_.size(Le.valueSources);if(xt.levels.push(Ye.levels[0]),_.isEmpty(Nt))return jt;for(var dr in Vt){var Ut=Vt[dr];for(var Te in Ut.values){var _t=Nt[Math.floor(Te/rr)];_t.childIdentityFields||(_t.childIdentityFields=gt.childIdentityFields);var wt=Ut.values[Te];if(null!=wt){var Ft=_t.children[dr];Ft||_t.children.push(Ft={level:_t.level+1,value:Ut.value,levelValues:Ut.levelValues,values:{},identity:Ut.identity}),Ft.values[Te%rr]=wt}}}return jt}(Le.matrix);_.isEmpty(xt.valueSources)||(0,se.CF)(xt.columns)||(Vt.matrix=xt)}return Vt}(Vt,Ye.selectTransforms,Sr(Ye.drillCapabilities,xt),gt),Vt}(Ye,At),Nt=function(Le,Ye,ht,gt,Vt,xt){a.f.assertValue(Ye,"transformContext");var At=[],jt=Ye.transforms.splits;if(_.isEmpty(jt))At.push(Fr(Le,Ye,ht,gt,null,Vt,xt));else for(var Nt of jt){var Yt=Fr(Le,Ye,ht,gt,Nt.selects,null,xt);At.push(Yt)}return At}(jt,At,Le.featureSwitches,xt,Le.bypassConcatenation,Le.orderIndependentSelectorMatching);return{dataViews:Nt=(0,it.KH)({visualDataViews:Nt,dataRoles:At.dataRoles,objectDescriptors:ht,objectDefinitions:gt.objects,transformSelects:gt.selects,applicableDataViewMappings:At.applicableRoleMappings,roleKindByQueryRef:At.roleKindByQueryRef,queryProjectionsByRole:At.queryProjectionsByRole,visualStyle:At.visualStyle,featureSwitches:Le.featureSwitches}),warnings:xt}}function Lr(Le,Ye,ht,gt){if(Ye&&Ye.objects){var Vt={metadata:{columns:[]}};return(0,d.ni)(Vt,r.m.None,Le,Ye.objects,Ye.selects,ht,gt),[Vt]}return[]}function Fr(Le,Ye,ht,gt,Vt,xt,At){a.f.assertValue(Le,"prototype"),a.f.assertValue(Ye,"transformContext"),a.f.assert(()=>!Vt||_.every(Vt,(zt,er)=>!zt||Ye.selectTransforms?.[er]),"If selectsToInclude is specified, every included Select must have a corresponding Select Transform.");var jt=(0,t.ED)(Le);jt.metadata=(0,t.ED)(Le.metadata),jt=function(Le,Ye){if(a.f.assertValue(Le,"prototype"),a.f.assertValue(Ye,"transformContext"),(0,l.Js)(Ye.visualCapabilitiesDataViewKinds)<=1)return Le;var gt=Ye.applicableDataViewKinds;if(0===(0,l.Js)(gt))return Le;var xt=(0,t.qO)(Le);return xt.categorical&&!(0,l.yE)(gt,r.m.Categorical)&&(xt.categorical=void 0),xt.matrix&&!(0,l.yE)(gt,r.m.Matrix)&&(xt.matrix=void 0),xt.table&&!(0,l.yE)(gt,r.m.Table)&&(xt.table=void 0),xt.tree&&!(0,l.yE)(gt,r.m.Tree)&&(xt.tree=void 0),xt.single&&!(0,l.yE)(gt,r.m.Single)&&(xt.single=void 0),xt}(jt,Ye);var Nt=Ye.visualCapabilitiesDataViewKinds,Yt=Ye.visualCapabilitiesRoleMappings,rr=Ye.selectTransforms,dr=Ye.expandCollapseCapabilities,Ut=Ye.objectDescriptors,Te=Ye.visualStyle,nt=Ye.transforms?.roles,_t=nt?.isDrillDisabled,wt={rowHierarchyRewritten:!1,columnHierarchyRewritten:!1,hierarchyTreesRewritten:!1},Ft=[];return jt=function(Le,Ye,ht,gt,Vt,xt,At,jt,Nt){a.f.assertValue(Le,"prototype"),a.f.assertValue(Ye,"targetDataViewKinds"),a.f.assert(()=>Ye===r.m.None||!_.isEmpty(ht),"if targetDataViewKinds !== None, then roleMappings must be non-empty"),a.f.assertAnyValue(gt,"selectTransforms"),a.f.assertValue(Vt,"columnRewrites"),a.f.assertValue(xt,"matrixTransformationContext"),a.f.assertValue(At,"DataViewTransform.transformSelects - visualStyle");var Yt=new ce.Q(Nt,At);return Vt.length=0,gt&&(Le.metadata.columns=function(Le,Ye,ht,gt){if(a.f.assertValue(Le,"columns"),!Ye)return Le;for(var Vt=(0,t.ED)(Le),xt={},At=function(){var _t=Le[jt],wt=Ye[_t.index];xt[_t.index]=!0;var Ft=_t;if(wt)Ft=Vt[jt]=ea(_t,wt);else if(!_.some(Le,zt=>zt.formatSource&&zt.formatSource.formatString===_t))return 1;ht.push({from:_t,to:Ft})},jt=0,Nt=Le.length;jt<Nt;jt++)At();if(gt)for(var Yt=0;Yt<Ye.length;Yt++)if(!xt[Yt]){var rr=Ye[Yt],dr={displayName:rr.displayName,index:Yt,identityExprs:rr.identityExprs};dr=Hr(rr,dr),Vt.push(dr)}var Ut={};for(var Te of Vt)if(Te.roles&&!Te.groupName&&Te.index)for(var nt in Te.rolesIndex||(Te.rolesIndex={}),Te.roles)void 0===Ut[nt]&&(Ut[nt]=0),Te.roles[nt]&&(Te.rolesIndex[nt]=[Ut[nt]++]);return a.f.assert(()=>_.every(ht,_t=>_t.from.index===_t.to.index),"post-condition: DataViewMetadataColumn.index is not expected to be rewritten by select transforms."),Vt}(Le.metadata.columns,gt,Vt,jt.visualCapabilitiesKeepAllMetadataColumns),function(Le,Ye,ht){if(a.f.assertValue(Le,"dataView"),a.f.assertAnyValue(ht,"selects"),ht)for(var Vt,gt=Le.metadata.columns,xt=0,At=ht.length;xt<At;xt++){var jt=ht[xt],Nt=jt&&jt.aggregateSources;if(Nt){Vt||(Vt=(0,Lt._x)(Le,ht));var Yt=kr(gt,xt,jt),rr=Yt.aggregates={},dr=s.Ge.fromDescriptor(Yt.type),Ut=Qr(Ye,Vt,ht,dr,Nt.min);void 0!==Ut&&(rr.min=Ut),void 0!==(Ut=Qr(Ye,Vt,ht,dr,Nt.max))&&(rr.max=Ut)}}}(Le,Yt,gt)),Le.categorical&&(0,l.yE)(Ye,r.m.Categorical)&&(Le.categorical=function(Le,Ye){a.f.assertValue(Le,"prototype"),a.f.assertValue(Ye,"columnRewrites");var ht=(0,t.ED)(Le);function gt(jt){var{source:Nt,rootSource:Yt}=function(Le,Ye){var ht={},gt=Le.source,Vt=Le.source.rootSource;for(var xt of Ye)xt.from===gt&&(ht.source=xt.to),xt.from===Vt&&(ht.rootSource=xt.to);return ht}(jt,Ye);if(Nt){var rr=(0,t.ED)(jt);return rr.source=Nt,Yt&&(rr.source.rootSource=Yt),rr}}var Vt=(0,t.VW)(Le.categories,gt);if(Vt&&(ht.categories=Vt),Le.values){var xt=(0,t.VW)(Le.values,gt)||(0,t.qO)(Le.values);if(ht.values=xt,xt.source){var At=Pt(xt.source,Ye);At&&(xt.source=At)}}return C(ht),ht}(Le.categorical,Vt),Le=function(Le,Ye){a.f.assertValue(Le,"dataView");var ht,gt=function(Le,Ye){if(Le&&!_.isEmpty(Ye)){var ht=Le.categories;if(!_.isEmpty(ht)){var gt=Le.values;if(!_.isEmpty(gt)&&!gt.grouped().some(Nt=>!!Nt.identity))for(var xt,Vt=function(){var Nt=Ye[At].categorical;if(!Nt)return 0;for(var Yt of(a.f.assert(()=>_.filter(ht,Te=>Xt(Te.source.roles,Nt.values)).length<=1,"There should never be more than one column with the secondary axis group role in a DataViewCategorical, let alone columns in DataViewCategorical.categories."),ht)){var rr=Yt.source.roles;if(Xt(rr,Nt.values)){var dr=Nt.categories;if(pr(rr,dr)||sr(rr,dr))return{v:{type:$t.SelfCrossJoin,selfCrossJoinCategory:Yt}};if(1===ht.length)return{v:{type:$t.Pivot}}}}},At=0,jt=Ye.length;At<jt;At++)if(0!==(xt=Vt())&&xt)return xt.v}}}(Le.categorical,Ye);if(gt)switch(gt.type){case $t.Pivot:ht=function(Le){a.f.assertValue(Le,"dataView");var Ye=Le.categorical;if(!Ye)return null;var ht=Ye.categories;if(!ht||1!==ht.length)return null;var gt=Ye.values;if(_.isEmpty(gt)||gt.source)return null;for(var Vt=ht[0],xt=Vt.identity,At=Vt.values,jt=[],Nt=[],Yt=new ae,rr=0,dr=At.length;rr<dr;rr++)for(var Ut=At[rr],Te=xt[rr],nt=0,_t=gt.length;nt<_t;nt++){var wt=gt[nt],Ft=Yt.getPivotedDynamicFormatColumn(wt.source,rr);if(void 0===Ft&&(Ft=(0,t.ED)(wt.source)),wt.identity)return null;if(Ft.groupName=Ut,Ft.rootSource=wt.source,Ft.formatSource?.formatString){var zt=Ft.formatSource.formatString;Yt.trackOriginalDynamicFormatColumn(nt,zt);var er=(0,t.ED)(zt);Ft.formatSource={formatString:er},Yt.addPivotedDynamicFormatColumn(nt,rr,er)}var or={source:Ft,values:[wt.values[rr]],identity:Te,min:wt.min,max:wt.max,subtotal:wt.subtotal},ur=wt.highlights;ur&&(or.highlights=[ur[rr]]),jt.push(Ft),Nt.push(or)}var Er=(0,t.ED)(Le.metadata);return Er.columns=jt,{metadata:Er,categorical:{values:gt=(0,d.Yv)(Nt,Vt.identityFields,Vt.source)},matrix:Le.matrix}}(Le);break;case $t.SelfCrossJoin:a.f.assertValue(gt.selfCrossJoinCategory,"selfCrossJoinCategory is expected to be defined when type is SelfCrossJoin"),ht=function(Le,Ye){if(a.f.assertValue(Le,"dataView"),a.f.assert(()=>!Ye||_.includes(Le.categorical.categories,Ye),"!selfCrossJoinCategory || _.includes(dataView.categorical.categories, selfCrossJoinCategory)"),Le.categorical&&Ye){var ht=Le.categorical;if(!(_.isEmpty(ht.categories)||ht.values&&ht.values.source)){var gt=function(Le,Ye){return a.f.assertValue(Le,"dataViewCategorical"),a.f.assertValue(Ye,"selfCrossJoinCategory"),a.f.assert(()=>_.includes(Le.categories,Ye),"_.includes(dataViewCategorical.categories, selfCrossJoinCategory)"),Ye.source.identityExprs||(1===Le.categories.length?Ye.identityFields:void 0)}(ht,Ye);if(!_.isEmpty(gt))return function(Le,Ye,ht,gt){a.f.assertValue(Le,"dataViewMetadata"),a.f.assertValue(Ye,"dataViewCategorical"),a.f.assertValue(Ye.categories,"dataViewCategorical.categories"),a.f.assertValue(ht,"selfCrossJoinCategory"),a.f.assert(()=>_.size(ht.values)===_.size(ht.identity),"_.size(selfCrossJoinCategory.values) === _.size(selfCrossJoinCategory.identity)"),a.f.assertValue(gt,"seriesGroupIdentityFields");var xt=ht.values.length;if(0!==xt){var At=Ye.values?Ye.values.grouped()[0].values:[],jt=function(Le,Ye,ht,gt){a.f.assertValue(Le,"category"),a.f.assertValue(Ye,"categoryLength"),a.f.assertValue(ht,"measures"),a.f.assertValue(gt,"seriesGroupIdentityFields");var Vt=function(Le){a.f.assertValue(Le,"length");for(var Ye=new Array(Le),ht=0;ht<Le;ht++)Ye[ht]=null;return Ye}(Ye),xt=function(Le,Ye){a.f.assertValue(Le,"category"),a.f.assert(()=>_.size(Le.values)===_.size(Le.identity),"_.size(category.values) === _.size(category.identity)"),a.f.assertValue(!_.isEmpty(Ye),"!_.isEmpty(seriesGroupIdentityFields)");for(var ht=Le.identity,gt=Le.values,Vt=[],xt={},At=0,jt=_.size(ht);At<jt;At++){var Yt=(0,n.J2)(ht[At].expr,Ye),rr=Yt&&(0,I.TZ)(Yt),dr=rr&&rr.key,Ut=xt[dr],Te=void 0;void 0===Ut?(Vt.push(Te={identity:rr,groupValue:gt[At],groupIndex:Vt.length,valueRowIndices:[]}),xt[dr]=Te.groupIndex):Te=Vt[Ut],Te.valueRowIndices.push(At)}return a.f.assert(()=>(0,i.pT)(Vt,(nt,_t)=>nt.groupIndex-_t.groupIndex),"post-condition: seriesGroups is sorted by group index"),Vt}(Le,gt);if(!_.isEmpty(xt)){var At=_.map(xt,jt=>{var Nt=jt.valueRowIndices;return _.map(ht,rr=>{var dr={values:Ze(Vt,rr.values,Nt)};return rr.highlights&&(dr.highlights=Ze(Vt,rr.highlights,Nt)),dr})});return{groupColumn:{source:Le.source,identityFrom:{fields:gt,identities:_.map(xt,jt=>jt.identity)},values:_.map(xt,jt=>jt.groupValue)},valueColumns:_.map(ht,jt=>({source:jt.source})),data:At}}}(ht,xt,At,gt);if(jt){var Nt=(0,yt.h)().withCategories(Ye.categories).withGroupedValues(jt).build();return(Le=(0,t.ED)(Le)).columns=Nt.metadata.columns,{metadata:Le,categorical:Nt.categorical}}}}(Le.metadata,ht,Ye,gt)}}}(Le,gt.selfCrossJoinCategory)}return ht||Le}(Le,ht)),Le.matrix&&(0,l.yE)(Ye,r.m.Matrix)&&(Le.matrix=function(Le,Ye,ht){a.f.assertValue(Le,"prototype"),a.f.assertValue(Ye,"columnRewrites");var gt=(0,t.ED)(Le),Vt=Yt=>Pt(Yt,Ye);function xt(Yt){var rr=null,dr=(0,t.VW)(Yt.levels,Ut=>{var Te=null,nt=(0,t.VW)(Ut.sources,Vt);if(nt&&(Te=tt(Te,Ut,wt=>wt.sources=nt)),Ut.valueSources){a.f.assert(()=>_.isEqual(_.keys(Ut.valueSources),["0"]),"Scoped Measures with column groupings are not supported"),a.f.assertValue(Ut.valueSources[0],"Empty Scoped measures metadata");var _t=(0,t.VW)(Ut.valueSources[0],Vt);_t&&(Te=tt(Te,Ut,wt=>wt.valueSources={0:_t}))}return Te});return dr&&(rr=tt(rr,Yt,Ut=>Ut.levels=dr)),rr}var At=xt(gt.rows);At&&(gt.rows=At,ht.rowHierarchyRewritten=!0);var jt=xt(gt.columns);jt&&(gt.columns=jt,ht.columnHierarchyRewritten=!0);var Nt=(0,t.VW)(gt.valueSources,Vt);return Nt&&(gt.valueSources=Nt),gt}(Le.matrix,Vt,xt),function(Le,Ye){if(Le&&!_.isEmpty(Ye)){var ht=Le.rows.levels;if(!(ht.length<1)){var gt=Le.rows.root.children;if(gt&&0!==gt.length)for(var Vt=ht[0].sources[0].roles,xt=0,At=Ye.length;xt<At;xt++){var jt=Ye[xt].matrix;if(jt&&!sr(Vt,jt.rows)&&sr(Vt,jt.columns))return!0}}}}(Le.matrix,jt.applicableRoleMappings)&&Q(Le.matrix,xt)),Le.table&&(0,l.yE)(Ye,r.m.Table)&&(Le.table=function(Le,Ye){a.f.assertValue(Le,"prototype"),a.f.assertValue(Ye,"columnRewrites");var ht=(0,t.ED)(Le),Vt=(0,t.VW)(Le.columns,xt=>Pt(xt,Ye));return Vt&&(ht.columns=Vt),ht}(Le.table,Vt)),Le.single&&(0,l.yE)(Ye,r.m.Single)&&(Le.single=function(Le,Ye){var ht=Pt(Le.column,Ye);return ht&&((Le=(0,t.qO)(Le)).column=ht),Le}(Le.single,Vt)),Le}(jt,Nt,Yt,rr,Ft,wt,Te,Ye,ht),(0,d.ni)(jt,Ye.visualCapabilitiesDataViewKinds,Ut,Ye.transforms.objects,rr,Te,ht,gt,At),jt=function(Le,Ye,ht,gt,Vt){a.f.assertValue(Le,"prototype"),a.f.assertValue(Ye,"transformContext"),a.f.assertValue(gt,"matrixTransformationContext"),a.f.assertAnyValue(Vt,"selectsToInclude");var xt=Ye.projectionOrdering,At=Ye.applicableRoleMappings,jt=(0,t.qO)(Le);if(function(Le,Ye,ht){if(Ye){var gt=new Array(ht.length);for(var Vt of Le)if(void 0!==Vt.index&&void 0!==Vt.roles&&null==Vt.groupName)for(var xt in gt[Vt.index]=Vt,Vt.rolesIndex=Vt.rolesIndex||{},Vt.roles)Vt.roles[xt]&&(Vt.rolesIndex[xt]=[]);for(var At in Ye)for(var jt=Ye[At],Nt=0;Nt<jt.length;Nt++){var rr=gt[jt[Nt]];rr&&rr.rolesIndex[At].push(Nt)}}}(jt.metadata.columns,xt,ht),jt.table&&(0,l.yE)(Ye.applicableDataViewKinds,r.m.Table)&&function(Le,Ye,ht){if(!Ye)return Le;var gt=function(Le,Ye){var ht=Object.keys(Le);if(1===ht.length){var gt=ht[0],Vt=_.map(Ye,At=>At.from.index);return function(Le,Ye){if(!(0,i.NF)(Le,Ye,(At,jt)=>At===jt)){for(var ht=[],gt=0,Vt=Ye.length;gt<Vt;++gt)ht[gt]=Le.indexOf(Ye[gt]);return ht}}(Vt,Le[gt])}}(Ye,ht);if(!gt)return Le;var Vt=At=>{for(var jt=gt.length,Nt=new Array(jt),Yt=0;Yt<jt;Yt++)Nt[Yt]=At[gt[Yt]];return Nt};if((Le=(0,t.qO)(Le)).columns=Vt(Le.columns),_.isEmpty(Le.rows)||(Le.rows=(0,t.VW)(Le.rows,At=>{var jt=Vt(At);return At.objects&&(jt.objects=Vt(At.objects)),jt})),Le.totals){var xt=Vt(Le.totals);Le.totals.objects&&(xt.objects=Vt(Le.totals.objects)),Le.totals=xt}}(jt.table,xt,ht),jt.matrix&&(0,l.yE)(Ye.applicableDataViewKinds,r.m.Matrix)){var Nt=_.filter(At,Yt=>!!Yt.matrix);a.f.assertValue(0!==Nt.length,"transformContext.applicableDataViewKinds should not have included Matrix if none of the applicableRoleMappings targets matrix."),a.f.assertValue(Nt.length<2,"This logic needs to be enhanced if there is more than one applicable DataViewMapping that targets matrix."),jt.matrix=function(Le,Ye,ht,gt){a.f.assertValue(Le,"prototype"),a.f.assertValue(Ye,"matrixMapping"),a.f.assertAnyValue(ht,"projectionOrdering"),a.f.assertValue(gt,"context");var Vt=Le;if(ht){Vt=function(Le,Ye,ht,gt){a.f.assertValue(Le,"prototype"),a.f.assertValue(Ye,"matrixRoleMapping"),a.f.assertValue(ht,"projectionOrdering"),a.f.assertValue(gt,"context");var Vt=Le.valueSources,xt=ke(ht,Ye.values,Vt);if(Ct(Vt,xt))return Le;a.f.assert(()=>xt.length>0||!_.isEmpty(Vt),"Nothing to re-order!");var At=(0,t.qO)(Le),jt=At.columns.levels,Nt=[];jt.length>0&&(Nt=jt[0].sources.filter(rr=>rr.isMeasure&&null!=rr.index&&!_.isEmpty(rr.roles)&&!_.find(xt,dr=>dr.metadataColumn===rr))),At.rows=Ke(At.rows,At.valueSources,xt,Nt);var Yt=_.map(xt,rr=>rr.metadataColumn);return At.valueSources=Yt,At.valueSources=At.valueSources.concat(Nt),At.columns=function(Le,Ye,ht,gt){a.f.assertValue(Le,"prototypeColumnHierarchy"),a.f.assertValue(Ye,"newValueSources");var Nt,Vt=Le.levels,xt=(0,se.Lt)(Vt),jt=(xt?_.size(Vt)>=2:_.size(Vt)>=1)?Ye.length>=2:Ye.length>=1;return Nt=xt?jt?function(Le,Ye,ht,gt){a.f.assert(()=>Le&&(0,se.Lt)(Le.levels),"prototypeColumnHierarchy && hasExistingMeasureHeadersLevel(prototypeColumnHierarchy.levels)"),a.f.assertValue(Ye,"newValueSources");var Vt=(0,t.qO)(Le),xt=Vt.levels=(0,t.qO)(Vt.levels),At=xt.length-1,jt=xt[At]=(0,t.qO)(xt[At]);return jt.sources=Ye,Vt.root=(0,se.no)(Vt.root,At,!0),(0,se.w1)(Vt.root,Nt=>{if(ye(Nt,At)){var Yt=Je(At,Ye.length,Nt,gt);if(0===At&&ht.length>0){for(var rr=jt.sources.length,dr=0;dr<ht.length;dr++)Yt.push({level:0,levelSourceIndex:rr+dr});Nt.children=Yt,jt.sources.push(...ht||[])}else Nt.children=Yt;return se.Z9.skipDescendantNodes}return se.Z9.continueToChildNodes}),Vt}(Le,Ye,ht,gt):function(Le){a.f.assert(()=>Le&&(0,se.Lt)(Le.levels),"prototypeColumnHierarchy && hasExistingMeasureHeadersLevel(prototypeColumnHierarchy.levels)");var Ye=(0,t.qO)(Le),ht=Ye.levels=(0,t.qO)(Ye.levels),gt=ht.length-1;return ht.splice(gt,1),Ye.root=(0,se.no)(Ye.root,gt,!0),(0,se.w1)(Ye.root,Vt=>ye(Vt,gt)?(Vt.children=void 0,se.Z9.skipDescendantNodes):se.Z9.continueToChildNodes),Ye}(Le):jt?function(Le,Ye){a.f.assert(()=>Le&&!(0,se.Lt)(Le.levels),"prototypeColumnHierarchy && !hasExistingMeasureHeadersLevel(prototypeColumnHierarchy.levels)"),a.f.assertValue(Ye,"newValueSources");var ht=(0,t.qO)(Le),gt=ht.levels=(0,t.qO)(ht.levels);gt.push({sources:Ye});var xt=gt.length-1;return ht.root=(0,se.no)(ht.root,xt,!0),(0,se.w1)(ht.root,At=>(0,se.N9)(At)?(At.children=Je(xt,Ye.length,At),se.Z9.skipDescendantNodes):se.Z9.continueToChildNodes),ht}(Le,Ye):Le,Nt}(At.columns,[...Yt||[]],Nt,xt),gt.hierarchyTreesRewritten=!0,At}(Vt,Ye,ht,gt),Vt=function(Le,Ye,ht){a.f.assertValue(Le,"prototype"),a.f.assertValue(Ye,"applicableDataViewMapping"),a.f.assertValue(ht,"projectionOrdering");var Yt,Vt=ft(ht,y.nG.fromMatrixRows(Ye.rows)),xt=we(Le.rows,Vt),jt=ft(ht,y.nG.fromMatrixColumns(Ye.columns)),Nt=we(Le.columns,jt);return(xt||Nt)&&((Yt=(0,t.qO)(Le)).rows=xt||Yt.rows,Yt.columns=Nt||Yt.columns),Yt||Le}(Vt,Ye,ht);var xt=Ye.rows?.values;_.isEmpty(xt)||(Vt=function(Le,Ye,ht,gt){a.f.assertValue(Le,"prototype"),a.f.assertValue(Ye,"scopedMeasuresRoleMapping"),a.f.assertValue(ht,"projectionOrdering"),a.f.assertValue(gt,"context");for(var Vt=Le,xt=0;xt<Le.rows.levels.length;xt++){var jt=(0,se.vC)(Le.rows.levels[xt]);if(!_.isEmpty(jt)){var Nt=[];xt===Le.rows.levels.length-1&&(a.f.assert(()=>(0,se.pr)(Le.columns)>0,"Scoped measures at last row level aren't expected without Column grouping"),Nt=ke(ht,Ye,jt)),Ct(jt,Nt)||((Vt=(0,t.qO)(Vt)).rows=Ke(Vt.rows,jt,Nt,[],xt),Vt.rows.levels=(0,t.qO)(Vt.rows.levels),(Vt.rows.levels[xt]=(0,t.qO)(Vt.rows.levels[xt])).valueSources=Nt.length>0?{0:_.map(Nt,rr=>rr.metadataColumn)}:void 0,gt.hierarchyTreesRewritten=!0)}}return Vt}(Vt,xt,ht,gt))}return Vt}(jt.matrix,Nt[0].matrix,xt,gt)}return jt=function(Le,Ye,ht,gt,Vt){a.f.assertValue(Le,"prototype"),a.f.assertAnyValue(Ye,"applicableRoleMappings"),a.f.assertAnyValue(ht,"dataRoles"),a.f.assertAnyValue(gt,"projectionOrdering"),a.f.assertAnyValue(Vt,"splitSelects");var xt,At=_.chain(Ye).filter(Yt=>Yt.categorical&&!(0,y.zY)(Yt)).map(Yt=>Yt.categorical).value();if(Le.categorical&&At.length>=1){var jt=Le.categorical,Nt=function(Le,Ye,ht,gt){if(a.f.assertValue(Le,"prototypeCategorical"),a.f.assertValue(Ye,"categoricalRoleMappingsWithoutRegression"),a.f.assert(()=>_.every(Ye,At=>!!At),"categoricalRoleMappingsWithoutRegression must not contain falsy elements"),a.f.assertAnyValue(ht,"projectionOrdering"),a.f.assertAnyValue(gt,"splitSelects"),!_.isEmpty(Le.categories)){var Vt=(0,y.y4)(Ye,y.O2);if(Vt){var xt=function(Le,Ye,ht){if(a.f.assertValue(Le,"roles"),a.f.assertAnyValue(Ye,"projectionOrdering"),a.f.assertAnyValue(ht,"splitSelects"),Ye){var gt=_.reduce(Le,(Vt,xt)=>{var At=_.filter(Ye[xt],jt=>!ht||ht[jt]);return Vt.push(...At||[]),Vt},[]);return gt}}(Vt,ht,gt);if(xt)return function(Le,Ye,ht){a.f.assertValue(Le,"prototypeCategorical"),a.f.assertValue(Ye,"projectionOrder"),a.f.assertValue(ht,"categoryRoles");var gt=Le.categories;if(_.isEmpty(gt))a.f.assert(()=>_.isEmpty(Ye),"If DataViewCategory.categories is empty but projectionOrder of primary axis is non-empty, then something went wrong when projectionOrder was getting deserialized or reconstructed.  If projectionOrder for primary axis is truly non-empty, then the DSR and DataView should have some data there.");else if(!function(Le,Ye){return a.f.assertValue(Le,"categories"),a.f.assertValue(Ye,"selectIndexOrder"),Le.length===Ye.length&&_.every(Ye,(ht,gt)=>Le[gt].source.index===ht)}(gt,Ye)){var Vt=_.map(gt,rr=>rr.source),xt=(0,S.jh)(Vt,Ye,ht),At=_.chain(xt).filter(rr=>void 0!==rr.projectionOrderIndex).sortBy(rr=>rr.projectionOrderIndex).value(),jt=_.map(At,rr=>gt[rr.sourceIndex]),Nt=(0,t.qO)(Le);if(_.isEmpty(jt))Nt.categories=void 0;else{var Yt=(0,c.OC)(gt);Yt&&(jt=(0,c.gp)(jt,Yt)||jt),Nt.categories=jt}return Nt}}(Le,xt,Vt)}}}(jt,At,gt,Vt);Nt=function(Le,Ye,ht,gt){a.f.assertValue(Le,"prototypeCategorical"),a.f.assertAnyValue(Ye,"dataRoles"),a.f.assertAnyValue(ht,"projectionOrdering"),a.f.assertAnyValue(gt,"splitSelects");var Vt=Le.values;if(Vt){var xt=function(Le){if(v(Le)){var Ye=(0,d.Yv)(Le.filter(ht=>!o(ht)),void 0,Le.source);return Ye.grouped=Le.grouped.bind(Ye),Ye}}(Vt),At=function(Le){a.f.assertValue(Le,"values"),a.f.assert(()=>!v(Le),"Dynamic format values should have already been removed");var ht,gt,Vt,xt,Ye=Le.source,At=Le.grouped();if(Ye){gt=N(At);var Nt=(ht=At.length)*_.size(gt),Yt=Le.length-Nt;Yt>0&&(Vt=Nt,xt=_.chain(Le).takeRight(Yt).map(rr=>rr.source).value())}else Vt=0,xt=N(At);return{secondaryAxisSource:Ye,dynamicSeriesGroupCount:ht,dynamicSeriesMeasureSources:gt,staticSeriesMeasureStartingIndex:Vt,staticSeriesMeasureSources:xt}}(xt||Vt),jt=function(Le,Ye,ht,gt){if(a.f.assertValue(Le,"valueColumnsInfo"),a.f.assertAnyValue(Ye,"dataRoles"),a.f.assertAnyValue(ht,"projectionOrdering"),a.f.assertAnyValue(gt,"splitSelects"),!ht)return function(Le,Ye){a.f.assertValue(Le,"valueColumnsInfo"),a.f.assertAnyValue(Ye,"splitSelects");var Vt=(Le.dynamicSeriesMeasureSources||[]).concat(Le.staticSeriesMeasureSources||[]),xt=_.chain(Vt).filter(At=>!Ye||!!Ye[At.index]).map(At=>At.index).uniq().value();return xt}(Le,gt);var Vt=_.reduce(Ye,(rr,dr,Ut)=>{var Te=dr.name;return void 0===rr[Te]&&(rr[Te]=Ut),rr},{}),jt=(Le.dynamicSeriesMeasureSources||[]).concat(Le.staticSeriesMeasureSources||[]),Nt=_.chain(jt).filter(rr=>!gt||!!gt[rr.index]).uniqBy(rr=>rr.index).map(rr=>{var dr=rr.roles;return dr?_.filter(Object.keys(dr),Ut=>dr[Ut]):[]}).flatten().uniq().sortBy(rr=>Vt[rr]).value(),Yt=_.chain(Nt).map(rr=>ht[rr]||[]).flatten().filter(rr=>!gt||!!gt[rr]).uniq().value();return Yt}(At,Ye,ht,gt);if(xt=function(Le,Ye,ht){a.f.assertValue(Le,"prototypeValues"),a.f.assertValue(Ye,"prototypeValueColumnsInfo"),a.f.assertValue(ht,"measureRolesProjectionOrder"),a.f.assert(()=>!v(Le),"Dynamic format values should have already been removed");var gt=function(Le,Ye,ht){if(a.f.assertValue(Le,"prototypeValues"),a.f.assertValue(Ye,"prototypeValueColumnsInfo"),a.f.assertValue(ht,"measureRolesProjectionOrder"),Ye.dynamicSeriesGroupCount&&!_.isEmpty(Ye.dynamicSeriesMeasureSources)){var gt=R(Ye.dynamicSeriesMeasureSources,ht);if(gt){var Vt=gt.length;if(0===Vt)return[];for(var xt=Ye.dynamicSeriesMeasureSources.length,At=Ye.dynamicSeriesGroupCount,jt=[],Nt=0;Nt<At;Nt++)for(var Yt=Nt*xt,rr=0;rr<Vt;rr++)jt.push(Le[Yt+gt[rr].sourceIndex]);return jt}}}(Le,Ye,ht),Vt=function(Le,Ye,ht){if(a.f.assertValue(Le,"prototypeValues"),a.f.assertValue(Ye,"prototypeValueColumnsInfo"),a.f.assertValue(ht,"measureRolesProjectionOrder"),!_.isEmpty(Ye.staticSeriesMeasureSources)){var gt=R(Ye.staticSeriesMeasureSources,ht);if(gt){var Vt=gt.length;if(0===Vt)return[];for(var xt=Ye.staticSeriesMeasureStartingIndex,At=[],jt=0;jt<Vt;jt++)At.push(Le[xt+gt[jt].sourceIndex]);return At}}}(Le,Ye,ht);if(gt||Vt){var xt=(0,t.qO)(Le);return gt?Vt?(a.f.assert(()=>_.isEmpty(gt)||_.isEmpty(Vt),"At least one of the two arrays should be empty, because visual DataView should not have a mix of dynamic and static measures."),xt.splice(0,xt.length),xt.push(...gt||[]),xt.push(...Vt||[])):(a.f.assertValue(Ye.dynamicSeriesGroupCount,"prototypeValueColumnsInfo.dynamicSeriesInstanceCount should have been populated if dynamic series measures got transformed"),a.f.assertValue(Ye.dynamicSeriesMeasureSources,"prototypeValueColumnsInfo.dynamicSeriesMeasureSources should have been populated if dynamic series measures got transformed"),xt.splice(0,Ye.dynamicSeriesMeasureSources.length*Ye.dynamicSeriesGroupCount,...gt||[])):Vt&&(a.f.assertValue(Ye.staticSeriesMeasureSources,"prototypeValueColumnsInfo.staticSeriesMeasureSources should have been populated if static series measures got transformed"),a.f.assertValue(Ye.staticSeriesMeasureStartingIndex,"prototypeValueColumnsInfo.staticSeriesMeasureStartingIndex should have been populated if static series measures got transformed"),xt.splice(Ye.staticSeriesMeasureStartingIndex,Ye.staticSeriesMeasureSources.length,...Vt||[])),xt}}(xt||Vt,At,jt)||xt,xt=function(Le,Ye){if(a.f.assertValue(Le,"prototypeValues"),a.f.assertAnyValue(Ye,"splitSelects"),Ye&&Le.source&&!Ye[Le.source.index]){var gt=(0,t.qO)(Le);return gt.source=void 0,gt.identityFields=void 0,gt}}(xt||Vt,gt)||xt,xt){var Nt=!!xt.source,Yt=xt.length>0,rr=(0,t.qO)(Le);return Nt||Yt?(rr.values=xt,C(rr)):rr.values=void 0,rr}}}(Nt||jt,ht,gt,Vt),Nt&&((xt=(0,t.qO)(Le)).categorical=Nt)}return xt||Le}(jt,At,Ye.dataRoles,xt,Vt),jt}(jt,Ye,Ft,wt,Vt),jt=function(Le,Ye,ht,gt,Vt,xt,At){if(_.isEmpty(ht)||!Vt)return Le;var jt=Vt&&Vt.roles;if(_.isEmpty(jt)||At)return Le;a.f.assertValue(Le,"dataView"),a.f.assertValue(Ye,"targetDataViewKinds"),a.f.assertNonEmpty(gt,"selectTransforms"),a.f.assertAnyValue(xt,"expansionStates");var Nt=Vt.addDataViewFlags;if(a.f.assertValue(Nt,"addDataViewFlags"),!0!==(Nt.propertyIdentifier?(0,dt.NA)(Le.metadata.objects,Nt.propertyIdentifier,Nt.defaultValue):Nt.defaultValue))return Le;var rr=_.find(ht,Te=>Te.matrix),dr=rr&&rr.matrix;if(dr&&Le.matrix&&(0,l.yE)(Ye,r.m.Matrix)){var Ut=function(Le,Ye,ht,gt,Vt,xt,At){a.f.assertNonEmpty(gt,"Expand/Collapse is not supported");var jt=y.nG.fromMatrixRows(Ye.rows),Nt=Vt&&(0,g.Vt)(Vt,jt),Yt=function(Le,Ye,ht,gt,Vt,xt,At){if(a.f.assertAnyValue(Vt,"dataViewTransform.applyExpansionStatesToHierarchy - expansionState may not exist"),!_.some(Ye,Ut=>!_.includes(gt,Ut))){var jt=0,Nt=function(Ut){_.some(Ye,Te=>Ut.roles[Te])&&jt++};for(var Yt of ht)Nt(Yt);if(jt>0){(Le=(0,t.qO)(Le)).levels=(0,t.qO)(Le.levels),a.f.assertValue(Le.levels,"hierarchy.levels");for(var rr=0;rr<Le.levels.length;rr++)rr<jt-1&&(Le.levels[rr]=(0,t.qO)(Le.levels[rr]),Le.levels[rr].canBeExpanded=!0);var dr=Xe(Le.root,Le.levels,Vt&&Vt.root,Vt&&Vt.levels,jt);return dr&&(Le.root=dr),At&&Vt&&function(Le,Ye,ht){a.f.assertValue(Le,"hierarchy"),a.f.assertValue(Ye,"metadataColumns"),a.f.assertValue(ht,"expansionState");var gt=ht.levels;if(!_.isEmpty(gt)){var Vt={};for(var xt of Ye)Vt[xt.queryName]=xt;var At=new Array(gt.length),jt=Le.levels,Nt=0,Yt=function(){var Ut=rr.queryRefs;if(!_.isEmpty(Ut)&&!_.isEmpty(jt)&&jt[Nt]){var Te=jt[Nt].sources,nt=function(wt){a.f.assert(()=>_.some(Te,Ft=>Ft.queryName===wt),"ExpansionState levels should match matrix levels.")};for(var _t of Ut)nt(_t)}At[Nt++]={isCollapsed:rr.isCollapsed,isPinned:rr.isPinned,isLocked:rr.isLocked,AIInformation:_.cloneDeep(rr.AIInformation),sources:_.map(Ut,wt=>Vt[wt])}};for(var rr of gt)Yt();var dr=Re(ht.root,At,void 0,p.m.getPrimitiveValuesFromSQConstantExpr);Le.expansionStates=[{levels:At,root:dr}]}}(Le,xt,Vt),Le}}}(Le.rows,jt,ht,gt,Nt,xt,At);if(Yt)return(Le=(0,t.qO)(Le)).rows=Yt,Le}(Le.matrix,dr,gt,jt,xt,Le.metadata.columns,Vt.addDataViewExpansionState);Ut&&((Le=(0,t.qO)(Le)).matrix=Ut)}return Le}(jt,Nt,Yt,rr,dr,Ye.transforms.expansionStates,!!_t),jt=function(Le,Ye){a.f.assertValue(Le,"prototype"),a.f.assertValue(Ye,"quarterPrefix");var ht=Le.categorical;if(!ht||_.isEmpty(ht.categories))return Le;var gt=ht.categories,Vt=(0,L.A8)(gt[0],K.i);if(!Vt||_.isEmpty(Vt.values))return Le;for(var xt,At,jt,Yt,Nt=[],rr=0,dr=gt.length;rr<dr;rr++)for(var Ut=gt[rr],Te=Ut.source.type,nt=Ut.values,_t=void 0,wt=void 0,Ft=0,zt=_.size(nt);Ft<zt;Ft++){var or=Vt.values[Ft];if(null==nt[Ft]&&null!=or){xt||(At=(xt=(0,t.qO)(Le)).categorical=(0,t.qO)(ht),jt=At.categories=(0,t.qO)(gt)),_t||(wt=(_t=jt[rr]=(0,t.qO)(Ut)).values=(0,t.qO)(nt));var ur=H(or.min,Te,Ye);wt[Ft]=ur,Nt[Ft]||(Yt||(Yt=Ft),Nt[Ft]=[]),Nt[Ft][rr]=(0,U.kQ)(ur,Te)}}for(var Er=function(){for(var Dr=jt[Cr],Wr=function(){var Kr=Nt[Pr];Kr&&(a.f.assert(()=>Kr.length===Dr.identityFields.length,"category values must match category identities"),Dr.identity[Pr]=(0,I.TZ)((0,O.R)(Dr.identityFields,Kr)))},Pr=Yt,Tr=_.size(Dr.identity);Pr<Tr;Pr++)Wr()},Cr=0,br=_.size(jt);Cr<br;Cr++)Er();return xt||Le}(jt,lr.quarterPrefix),jt=function(Le){var Ye=Le.table;if(Ye&&1===Ye.columns.length&&Ye.columns[0].isMeasure&&1===Ye.rows.length&&1===Ye.rows[0].length){var gt=Ye.rows[0];return Le.single={column:Ye.columns[0],value:gt[0]},gt.objects&&(Le.single.objects=gt.objects[0]),Le}return Le}(jt),xt||(jt=(0,W.pP)(jt,Ut,Ye.applicableRoleMappings,Ye.projectionActiveItems,Sr(Ye.drillCapabilities,_t))),he({dataview:jt,dataViewMappings:Yt,dataRoles:Ye.dataRoles}),jt.metadata&&Ye?.transforms?.isDataFilterApplied&&(jt.metadata.isDataFilterApplied=!0),nt&&jt.metadata&&(nt.drillableRoles&&(jt.metadata.dataRoles||(jt.metadata.dataRoles={}),jt.metadata.dataRoles.drillableRoles=nt.drillableRoles),void 0!==_t&&(jt.metadata.dataRoles||(jt.metadata.dataRoles={}),jt.metadata.dataRoles.isDrillDisabled=_t)),jt}function ea(Le,Ye){return a.f.assertValue(Le,"prototypeColumn"),a.f.assertValue(Ye,"select"),Hr(Ye,(0,t.ED)(Le))}function Hr(Le,Ye){return Le.roles&&(Ye.roles=Le.roles),Le.type&&(Ye.type=Le.type),Ye.format=function(Le,Ye){return Le.format||Ye.format}(Le,Ye),Le.displayName&&(Ye.displayName=Le.displayName),Le.queryName&&(Ye.queryName=Le.queryName),Le.expr&&(Ye.expr=Le.expr),Le.sourceFieldParameters&&(Ye.sourceFieldParameters=Le.sourceFieldParameters),Le.kpi&&Le.kpi.graphic&&(Ye.kpi=Le.kpi),Le.sort&&(Ye.sort=Le.sort),null!=Le.sortOrder&&(Ye.sortOrder=Le.sortOrder),Le.discourageAggregationAcrossGroups&&(Ye.discourageAggregationAcrossGroups=Le.discourageAggregationAcrossGroups),Le.parameter&&(Ye.parameter=Le.parameter),Le.relatedObjects&&(Ye.relatedObjects=Le.relatedObjects),Ye}function kr(Le,Ye,ht){for(var gt of(a.f.assertValue(Le,"columns"),a.f.assertValue(Ye,"selectIdx"),a.f.assertValue(ht,"select"),Le))if(gt.index===Ye&&void 0===gt.groupName)return gt;var Vt=ea({displayName:ht.displayName},ht);return Le.push(Vt),Vt}function Qr(Le,Ye,ht,gt,Vt){a.f.assertValue(Ye,"evalContext"),a.f.assertValue(ht,"selects"),a.f.assertValue(gt,"type"),a.f.assertValue(Vt,"source");var xt=ht[Vt.index];if(xt)return Le.evaluateValue(Ye,xt.expr,gt)}function Pt(Le,Ye){var ht=_.find(Ye,gt=>gt.from===Le);if(ht)return ht.to}function tt(Le,Ye,ht){return Le||(Le=(0,t.ED)(Ye)),ht&&ht(Le),Le}function _e(Le,Ye,ht,gt,Vt,xt,At){var jt=(0,rt.Me)(Le);if(_.isEmpty(jt.metadataOnce))return{dataViewObjects:void 0};var Nt,Yt,rr=new ce.Q(gt,ht);Yt=xt&&At?(0,Lt._x)(xt,At):(0,st.X)();var dr=Vt?{warnings:[]}:void 0;for(var Ut of jt.metadataOnce){var Te=Ut.selector&&Ut.selector.id,nt=Ut.selector?.order;dr&&(dr.selector=Ut.selector);var _t=(0,rt.PJ)(rr,Yt,Ye,Ut.objects,dr);_t&&(Nt||(Nt={}),(0,dt.PM)(Nt,_t,Te,nt))}return dr&&!_.isEmpty(dr.warnings)?{dataViewObjects:Nt,warnings:dr.warnings}:{dataViewObjects:Nt}}function Xe(Le,Ye,ht,gt,Vt){if(!Le.isSubtotal&&Le.level!==Vt-1){var xt=!1;if(void 0!==Le.level){if(Le=(0,t.qO)(Le),gt){var jt=gt[Le.level];Le.isCollapsed=!!(+!(!jt||!jt.isCollapsed)^+!(!ht||!ht.isToggled))}else Le.isCollapsed=_.isEmpty(Le.children)||1===Le.children.length&&!!Le.children[0].isSubtotal;xt=!0}if(!_.isEmpty(Le.children))for(var Yt=function(){var dr=Le.children[rr],Ut=dr.identity,Te=Ut&&(0,n.KX)(Ut.expr),nt=Te&&_.find(ht&&ht.children,wt=>(0,i.NF)(wt.identityValues,Te,Qt.fS)),_t=Xe(dr,Ye,nt,gt,Vt);_t&&((Le=(0,t.qO)(Le)).children=(0,t.qO)(Le.children),Le.children[rr]=_t,xt=!0)},rr=0;rr<Le.children.length;rr++)Yt();return xt?Le:void 0}a.f.assert(()=>_.isEmpty(Le.children),"Leaf node with children")}function Re(Le,Ye,ht,gt){if(Le){var xt,At,Vt=Le.identityValues;if(_.isEmpty(Vt)||(xt=_.map(Vt,gt)),!_.isEmpty(Le.children)){var jt=Le.children;At=new Array(jt.length);var Nt=0;for(var Yt of jt){var rr=Re(Yt,Ye,void 0===ht?0:ht+1,gt);At[Nt++]=rr}}return{isExpanded:void 0===ht?void 0:!!Ye[ht].isCollapsed==!!Le.isToggled,values:xt,children:At}}}function pr(Le,Ye){if(Le&&Ye&&Ye.bind)return Le[Ye.bind.to]}function sr(Le,Ye){if(Le&&Ye&&Ye.for)return Le[Ye.for.in]}function Xt(Le,Ye){if(Le&&Ye&&Ye.group)return Le[Ye.group.by]}function Sr(Le,Ye){return Ye?[]:Le?.roles??[]}},36432:function(ve,j,e){e.d(j,{Yv:function(){return se},ni:function(){return Ve}});var r=e(929248),i=e(650543),a=e(896286),t=e(695795),l=e(296841),g=e(191282),n=e(442407),p=e(42990),s=e(836808),d=e(13380),o=e(600140),v=e(230343),m=e(630190),c=e(146300),C=e(315815),y=e(995649);class h{constructor(Se,Ie){if(this.dataView=Se,this.featureSwitches=Ie,i.f.assertValue(Se,"dataView"),Se){this.columnLeavesPath=(0,C.sx)(Se.columns.root),this.hasColumnGrouping=(0,C.pr)(this.dataView.columns)>0,this.valueSourcesQueryNames=_.map(Se.valueSources,xe=>xe.queryName),this.scopedValueSourcesByLevel={},this.scopedValuesQueryNamesByLevel={};var me=Se.rows.levels;if(i.f.assertAnyValue(me,"A Matrix without Row groupings will not have a Row level"),!_.isEmpty(me))for(var Oe=0;Oe<me.length;Oe++){var Ee=(0,C.vC)(me[Oe]);this.scopedValueSourcesByLevel[Oe]=Ee,Ee&&(this.scopedValuesQueryNamesByLevel[Oe]=_.map(Ee,xe=>xe.queryName))}}}setAsRowNode(Se,Ie=l.e.Full,me=!1){i.f.assertNonEmpty(Se,"Invalid context: Empty rowPath"),this.rowPath=Se,this.nodeValue=void 0,this.columnPath=void 0,this.nodeValueIndex=void 0,this.forHighlight=void 0,this.isScopedValue=!1,this.hierarchyMatching=Ie,this.isWildcard=me}setAsColumnNode(Se){i.f.assertNonEmpty(Se,"Invalid context: Empty columnPath"),this.columnPath=Se,this.nodeValue=void 0,this.rowPath=void 0,this.nodeValueIndex=void 0,this.forHighlight=void 0,this.isScopedValue=!1,this.hierarchyMatching=void 0,this.isWildcard=!1}setAsIntersection(Se,Ie,me,Oe,Ee=!1){i.f.assertValue(Se,"Invalid context: Undefined intersection"),i.f.assertNonEmpty(Ie,"Intersection context must have a rowPath"),i.f.assertNonEmpty(me,"Intersection context must have a columnPath"),i.f.assert(()=>null!=Oe&&Oe>=0,"Intersection context must have a valid nodeValueIndex"),i.f.assertAnyValue(Ee,"By default, FALSE"),this.nodeValue=Se,this.rowPath=Ie,this.columnPath=me,this.nodeValueIndex=Oe,this.forHighlight=!!Ee,this.isScopedValue=!1,this.hierarchyMatching=void 0,this.isWildcard=!1}setAsScopedValue(Se,Ie,me,Oe=!1){i.f.assertValue(Se,"Invalid context: Undefined intersection"),i.f.assertNonEmpty(Ie,"Intersection context must have a rowPath"),i.f.assertAnyValue(Oe,"By default, FALSE"),this.nodeValue=Se,this.rowPath=Ie,this.columnPath=void 0,this.nodeValueIndex=me,this.forHighlight=!!Oe,this.isScopedValue=!0,this.hierarchyMatching=void 0,this.isWildcard=!1,i.f.assert(()=>_.isEqual(_.keys(_.last(Ie).nodeValues),["0"]),"Scoped Values are expected to be grouped by Rows only")}getScopedEvalExprValue(Se){var Ie=Se.decomposeGlobalAggregateOfScopedExpr();if(Ie){var me=(0,y.T5)(Ie.source,this.getContextValueSources());return me?(0,y._L)(me,Ie.func):void 0}if(Se.hasInnerMostScope())return this.getExprValue(Se.expression);Se.hasGlobalScope()?i.f.assertFail("Attempt to evaluate a scoped expression within the Global scope"):i.f.assertFail("Evaluation of Partial-Scope expressions is not supported")}getExprValue(Se){return i.f.assertValue(Se,"matrixEvalContext - Undefined expr"),this.nodeValue?this.evaluateMatrixMeasure(Se):this.rowPath?this.evaluateRowHeader(Se):this.columnPath?this.evaluateColumnHeader(Se):void i.f.assertFail("getExprValue - context is empty")}getExprColumn(Se){return(0,y.T5)(Se,this.getContextValueSources())}findExprValueSourceIndex(Se){var Ie=this.getContextValueSources();if(i.f.assertAnyValue(Ie,"For ScopedValues, DataView may contain cached Data without Value Sources"),!Ie)return-1;var me=(0,y.T5)(Se,Ie);return me?Ie.indexOf(me):-1}evaluateMatrixMeasure(Se){i.f.assertValue(this.rowPath,"matrixEvalContext.evaluateIntersection - Undefined this.rowNode"),i.f.assertValue(this.isScopedValue||this.columnPath,"matrixEvalContext.evaluateIntersection - Undefined this.columnNode");var Ie=this.nodeValue.valueSourceIndex||0,me=this.findExprValueSourceIndex(Se);if(!(me<0)){var Oe;if(me===Ie)Oe=this.nodeValue;else{var Ee=me-Ie+this.nodeValueIndex,xe=_.last(this.rowPath),ye=this.isScopedValue?(0,C.Lr)(xe):xe.values;if(Oe=ye?.[Ee],!Oe)return}return this.forHighlight?Oe.highlight:Oe.value}}evaluateRowHeader(Se){i.f.assert(()=>!this.columnPath,"matrixEvalContext.evaluateRowHeader - context has columnNode"),i.f.assert(()=>!this.nodeValue,"matrixEvalContext.evaluateRowHeader - context has value");var Ie=this.findExprValueSourceIndex(Se);if(!(Ie<0)){var me=_.last(this.rowPath);if(me){var Ee,Oe=this.isLastLevel(me.level);if(this.shouldConsiderScopedValues(me.level))Ee=(0,C.Lr)(me);else if(Ee=me.values,this.featureSwitches.rowHierarchySelector&&this.isWildcard&&!Oe&&this.hierarchyMatching===l.e.Partial&&(Ee=void 0,!_.isEmpty(me.children))){var xe=me.children[0],ye=me.children[me.children.length-1];Ee=xe.isSubtotal&&xe.values||ye.isSubtotal&&ye.values}if(i.f.assertAnyValue(Ee,"node.values or node.nodeValues may be undefined (e.g. for Synchronized Nodes) even if ValueSources exist"),Ee)return Ee[Ie].value}}}evaluateColumnHeader(Se){i.f.assert(()=>!this.rowPath,"matrixEvalContext.evaluateColumnHeader - context has rowNode"),i.f.assert(()=>!this.nodeValue,"matrixEvalContext.evaluateColumnHeader - context has value"),i.f.assertFail("matrixEvalContext.evaluateColumnHeader - only constant exprs are supported")}getRoleValues(Se){i.f.assert(()=>!this.columnPath||!this.nodeValue,"getRoleValues returns values for row groupings only"),i.f.assert(()=>!this.isScopedValue,"getRoleValues is unimplemented for ScopedMeasures");var Ie=_.last(this.rowPath);if(Ie&&!Ie.isSubtotal){for(var me=this.dataView.valueSources,Oe=[],Ee=0,xe=me.length;Ee<xe;Ee++)(0,c.nu)(me[Ee],Se)&&Oe.push(Ie.values[Ee].value);if(Oe.length>0)return Oe}}getDataView(){return this.dataView}getValueSourcesQueryNames(){return this.valueSourcesQueryNames}getScopedValueSourcesQueryNames(Se){return this.scopedValuesQueryNamesByLevel[Se]}getContextValueSourcesQueryNames(){return this.isScopedValue?(i.f.assertValue(this.nodeValue,"Checking for a Scoped Measure is only supported within a ScopedMeasure value"),this.scopedValuesQueryNamesByLevel[_.last(this.rowPath).level]):this.valueSourcesQueryNames}getContextValueSources(){if(this.nodeValue)return i.f.assertNonEmpty(this.rowPath,"Hierarchy Root doesn't have a scope"),this.isScopedValue?this.scopedValueSourcesByLevel[this.getRowLevelIndex()]:this.dataView.valueSources;if(this.rowPath){var Se=this.getRowLevelIndex();return this.shouldConsiderScopedValues(Se)?this.scopedValueSourcesByLevel[Se]:this.dataView.valueSources}i.f.assertFail(this.columnPath?"Only constant exprs are supported":"Context is empty")}shouldConsiderScopedValues(Se){return(!this.isWildcard||!this.featureSwitches.rowHierarchySelector)&&(this.hasColumnGrouping||!this.isLastLevel(Se))}getRowLevelIndex(){return i.f.assertValue(this.rowPath,"this.rowPath"),_.last(this.rowPath).level}isLastLevel(Se){return Se===this.dataView.rows.levels.length-1}}var E=e(28691);function f(Ne){if(_.isEmpty(Ne))return[];var Se=[];for(var Ie of Ne){var me=[];for(var Oe of Ie.sources)Oe.identityExprs&&me.push(...Oe.identityExprs||[]);_.isEmpty(me)||Se.push(me)}return Se}function b(Ne,Se){for(var Ie=[],me=Ne.length,Oe=0;Oe<me;Oe++)if(Ie.push(Ne[Oe]),Se.matchesKeys(Ie,me))return!0;return!1}function T(Ne,Se,Ie,me,Oe,Ee,xe,ye,Je){if(i.f.assertAnyValue(me,"dataViewMatrixHierarchy"),i.f.assertValue(Oe,"objectDescriptors"),i.f.assertValue(xe,"selector"),i.f.assertValue(Ee,"objectDefns"),me){var he=me.root;if(he){var Ce=P(Ne,Se,Ie,[he],Oe,Ee,xe,ye,Je);if(Ce){var je=(0,a.qO)(me);return je.root=Ce,je}}}}function P(Ne,Se,Ie,me,Oe,Ee,xe,ye,Je){i.f.assertValue(Se,"evalContext"),i.f.assertValue(me,"nodePath"),i.f.assertValue(Oe,"objectDescriptors"),i.f.assertValue(xe,"selectorInfo"),i.f.assertValue(Ee,"objectDefns");var he=_.last(me);return(0,C.N9)(he)?Ne===d.k0.Row&&(xe.canMatchScopedValue||xe.canMatchIntersection)?function(Ne,Se,Ie,me,Oe,Ee,xe,ye){i.f.assertNonEmpty(Ie,"evaluateDataRepetitionMatrixNodeValues - no row leaves"),i.f.assert(()=>Ee.canMatchIntersection||Ee.canMatchScopedValue,"Unexpected Selector");var Je=_.last(Ie),he=(0,a.qO)(Je),Ce=Ee.canMatchScopedValue,je=Ee.selector,pe=Ce?(0,C.Lr)(Je):Je.values,Qe=Ce?Ne.getScopedValueSourcesQueryNames(Je.level)||[]:Ne.getValueSourcesQueryNames(),ut=Ce?Qe.length:Ne.columnLeavesPath.length;if(!_.isEmpty(pe)){pe=(0,a.qO)(pe);for(var lt=!1,Et=function(Dt){var ne=pe[Dt];if(i.f.assertAnyValue(ne,"By-Design, ValueCollection can be sparse"),!ne)return 0;var qe,Fe=Ce?void 0:Ne.columnLeavesPath[Dt];if(!function(Ne,Se,Ie,me,Oe,Ee){if(Se!==Ne.metadata)return!1;var xe=[],ye=[];for(var Je of Ie)Je.identity&&xe.push(Je.identity);if(!Oe){for(var he of me)he.identity&&xe.push(he.identity);_.last(me).isSubtotal&&ye.push(...A(me)||[])}return _.last(Ie).isSubtotal&&ye.push(...A(Ie)||[]),_.isEmpty(ye)&&(ye=void 0),Ee.matches(xe,ye)}(Ee.selector,Qe[ne.valueSourceIndex||0],Ie,Fe,Ce,Ee.selectorComparer))return 0;ye&&(qe={warnings:ye,selector:je,targetExpr:(0,g.AV)(je,Se)});var dt=ce=>{Ce?Ne.setAsScopedValue(ne,Ie,Dt,ce):Ne.setAsIntersection(ne,Ie,Fe,Dt,ce);var be=(0,m.PJ)(xe,Ne,me,Oe,qe);if(be){var ae=(0,a.qO)(ne);ce&&!ae.highlightObjects?ae.highlightObjects={}:!ce&&!ae.objects&&(ae.objects={}),(0,v.PM)(ce?ae.highlightObjects:ae.objects,be,je.id,je.order),lt=!0,ne=pe[Dt]=ae}},rt=void 0!==ne.highlight;switch(je.highlightMatching){case void 0:case l.X.ValuesOnly:dt(!1);break;case l.X.ValuesAndHighlight:dt(!1),rt&&dt(!0);break;case l.X.HighlightsOrValues:dt(!!rt);break;default:i.f.assertNever(je.highlightMatching)}},Ot=0;Ot<ut;Ot++)Et(Ot);if(lt)return Ce?he.nodeValues={0:pe}:he.values=pe,he}}(Se,Ie,me,Oe,Ee,xe,ye,Je):void 0:function(Ne,Se,Ie,me,Oe,Ee,xe,ye,Je){var pe,he=xe.selector,Ce=xe.selectorComparer,je=Se.getDataView();me[0]===je.rows.root?pe=je.rows:me[0]===je.columns.root?pe=je.columns:i.f.assertFail("dataViewTransform.evaluateDataRepetitionMatrixNodeChildren: incorrect nodePath");var Qe=_.last(me),ut=Qe.children;i.f.assertNonEmpty(ut,"evaluateDataRepetitionMatrixNodeChildren - empty children list");var lt=!1,Et=!1,bt=Qe.childIdentityFields,Ot=[],Dt=ut[0].level;i.f.assert(()=>0===Dt||Dt<pe.levels.length,"evaluateDataRepetitionMatrixNodeChildren: childLevel exceeding hierarchy levels");var ne=je.valueSources.length>1&&pe===je.columns,Fe=ne&&Dt===pe.levels.length-1;if(!_.isEmpty(pe.levels)){var $e=pe.levels[Dt],qe=$e.sources;if(Fe){Ot=Se.getValueSourcesQueryNames();var rt,dt=_.compact(_.map(me,Gt=>Gt.identity));Qe.isSubtotal&&me.length>1&&(rt=me[me.length-2].childIdentityFields),lt=null!=xe.selector.metadata&&_.some(Ot,Gt=>Gt===he.metadata)&&Ce.matches(dt,rt),Et=!1}else if(!_.isEmpty(bt)){Ot=_.map(qe,Gt=>Gt.queryName);var ce=_.map(me,Gt=>Gt.childIdentityFields);lt=null==he.metadata&&Ce.matchesKeys(ce,pe.levels.length-(ne?1:0));var ae=(0,C.vC)($e);i.f.assert(()=>!ae||pe===je.rows,"Scoped measures on Column nodes are not supported"),Et=ae&&null!=he.metadata&&null!=_.find(ae,Gt=>Gt.queryName===he.metadata),i.f.assert(()=>!lt||!Et,"A Selector can't match nodes and Scoped measures")}}for(var de=!1,ee=R(Qe),Pe=0,We=ut.length;Pe<We;Pe++){var it=!1,yt=ut[Pe],et=R(yt),mt=me.concat(et),ie=!1;if(lt||Et){pe===je.rows?lt&&Se.setAsRowNode(mt,xe.selector.hierarchyMatching,xe.isWildcard):pe===je.columns?Se.setAsColumnNode(mt):i.f.assertFail("dataViewTransform.evaluateDataRepetitionMatrixNodeChildren: incorrect nodePath");var Y=[];for(var fe of mt)fe.identity&&Y.push(fe.identity);var Be=void 0;_.isEmpty(Ot)||(Be=Ot[yt.levelSourceIndex||0]);var Ze=void 0;if(yt.isSubtotal&&(Fe?me.length>1&&(Ze=me[me.length-2].childIdentityFields):Ze=bt),(null==he.metadata||he.metadata===Be&&!xe.isWildcard)&&Ce.matches(Y,Ze)){ie=!0;var St=void 0;Je&&(St={warnings:Je,selector:he,targetExpr:(0,g.AV)(he,Ie)});var Rt=(0,m.PJ)(ye,Se,Oe,Ee,St);Rt&&(it=!0,et.objects||(et.objects={}),(0,v.PM)(et.objects,Rt,he.id,he.order))}}if(ie&&!xe.isWildcard||P(Ne,Se,Ie,mt,Oe,Ee,xe,ye,Je)&&(it=!0),it&&(de=!0,ee.children[Pe]=et,!xe.containsWildcard))break}if(de)return ee}(Ne,Se,Ie,me,Oe,Ee,xe,ye,Je)}function A(Ne){var Se=_.findLast(Ne,Ie=>null!=Ie.childIdentityFields);return Se?Se.childIdentityFields:[]}function R(Ne){if(Object.getPrototypeOf(Ne)!==Object.prototype)return Ne;var Se=(0,a.qO)(Ne);return Ne.children&&(Se.children=(0,a.qO)(Ne.children)),Se}function W(Ne,Se){if(!Ne||!Se)return[];var Ie=[];for(var me of Se.levels){var Oe=[];for(var Ee of me.sources)Ee.identityExprs&&(0,o.s)([Ee],Ne)&&Oe.push(...Ee.identityExprs||[]);_.isEmpty(Oe)||Ie.push(Oe)}return Ie}var F=e(719242),U=e(482693),O=e(820013),x=e(123916),I=e(468006),K=e(824282);function z(Ne,Se){return new H(Ne,Se)}class H{constructor(Se,Ie){this.dataView=Se,this.selectTransforms=Ie,i.f.assertValue(Se,"dataView"),i.f.assertValue(Ie,"selectTransforms")}getExprColumn(Se){return(0,y.T5)(Se,this.dataView.columns)}getScopedEvalExprValue(Se){var Ie=Se.decomposeGlobalAggregateOfScopedExpr();if(Ie){var me=(0,y.T5)(Ie.source,this.dataView.columns);return me?(0,y._L)(me,Ie.func):void 0}if(Se.hasInnerMostScope())return this.getExprValue(Se.expression);Se.hasGlobalScope()?i.f.assertFail("Attempt to evaluate a scoped expression within the Global scope"):i.f.assertFail("Evaluation of Partial-Scope expressions is not supported")}getExprValue(Se){i.f.assertValue(Se,"expr");var Ie=this.row;if(null!=Ie)return(0,I.vR)(Se,this.selectTransforms,this.dataView.columns,Ie)}getRoleValues(Se){}setCurrentRow(Se){i.f.assertValue(Se,"row"),this.row=Se}}function k(Ne,Se,Ie,me,Oe,Ee,xe,ye,Je,he,Ce,je,pe){if(i.f.assertValue(Ne,"evalContext"),i.f.assertValue(Ie,"columns"),i.f.assertValue(me,"rows"),i.f.assertAnyValue(Oe,"identities"),i.f.assertAnyValue(Ee,"identityFields"),i.f.assertValue(xe,"objectDescriptors"),i.f.assertValue(ye,"selector"),i.f.assertValue(he,"objectDefns"),ye.metadata&&!_.isEmpty(ye.data)){var Qe=_.findIndex(Ie,dt=>dt.queryName===ye.metadata);if(!(Qe<0)&&Ce.matchesKeys([Ee],1)){var ut;if(_.every(Ie,dt=>dt.isMeasure)){i.f.assert(()=>_.isEmpty(Oe),"table identity mismatch with identityFields"),i.f.assert(()=>_.isEmpty(Ee),"table identity mismatch with identityFields"),i.f.assert(()=>1===me.length,"table without identity has incorrect row count");var lt=Q(Ne,Se,Ie,me[0],Ee,xe,ye,he,Ce,je,pe);lt&&((ut=(0,a.qO)(me))[0]=lt)}else{if(_.some(ye.data,dt=>(0,g.qm)(dt)&&dt.matchingOption===K.v.TotalsOnly))return;i.f.assert(()=>me.length===Oe.length,"row length mismatch");for(var Et=Ie.length,bt=0,Ot=Oe.length;bt<Ot;bt++)if(Je||Ce.matches([Oe[bt]])){Ne.setCurrentRow(me[bt]);var ne=void 0;pe&&(ne={warnings:pe,selector:ye,targetExpr:(0,g.AV)(ye,Se)});var Fe=(0,m.PJ)(je,Ne,xe,he,ne);if(Fe){ut||(ut=(0,a.qO)(me));var $e=ut[bt]=(0,a.qO)(ut[bt]),qe=$e.objects;qe||($e.objects=qe=new Array(Et)),qe[Qe]||(qe[Qe]={}),(0,v.PM)(qe[Qe],Fe,ye.id,ye.order)}if(!Je)break}}return ut}}}function G(Ne,Se){return(0,g._Q)(Se)&&(Se=(0,o.w)(Se,Ie=>function(Ne,Se){if(!Ne)return[];var Ie=[];for(var me of Se.columns)me.identityExprs&&(0,o.s)([me],Ne)&&Ie.push([...me.identityExprs||[]]);return Ie}(Ie,Ne))),Se}function Q(Ne,Se,Ie,me,Oe,Ee,xe,ye,Je,he,Ce){i.f.assertValue(Ne,"evalContext"),i.f.assertValue(Ie,"columns"),i.f.assertValue(me,"row"),i.f.assertValue(Ee,"objectDescriptors"),i.f.assertValue(xe,"selector"),i.f.assertValue(ye,"objectDefns");var je=_.isEmpty(Oe)?void 0:Oe;if(xe.metadata&&Je.matches([],je)){var pe=_.findIndex(Ie,Ot=>Ot.queryName===xe.metadata);if(!(pe<0)){var ut,lt,Qe=Ie.length;Ne.setCurrentRow(me),Ce&&(lt={warnings:Ce,selector:xe,targetExpr:(0,g.AV)(xe,Se)});var Et=(0,m.PJ)(he,Ne,Ee,ye,lt);if(Et){var bt=(ut=(0,a.qO)(me)).objects;bt||(ut.objects=bt=new Array(Qe)),bt[pe]||(bt[pe]={}),(0,v.PM)(bt[pe],Et)}return ut}}}var Z=e(62396),X=e(759162),re=e(223856);class te extends re.t{constructor(Se,Ie){i.f.assertValue(Se,"inputRole"),i.f.assertValue(Ie,"allocator"),super(),this.inputRole=Se,this.allocator=Ie}evaluate(Se){i.f.assertValue(Se,"evalContext");var Ie=Se.getRoleValues(this.inputRole);i.f.assert(()=>_.size(Ie)<=1,"Color Rule Evaluation can run with only one value");var me=_.head(Ie);if(void 0!==me)return this.allocator.color(me)}}function se(Ne=[],Se,Ie){var me=Ne;return(0,s.PO)(me),Se&&(me.identityFields=Se),Ie&&(me.source=Ie),me}function Ve(Ne,Se,Ie,me,Oe,Ee,xe,ye,Je){if(i.f.assertValue(Ne,"dataView"),i.f.assertValue(Se,"targetDataViewKinds"),i.f.assertAnyValue(Ie,"objectDescriptors"),i.f.assertAnyValue(me,"objectDefinitions"),i.f.assertAnyValue(Oe,"selectTransforms"),Ie){var he=function(Ne,Se,Ie,me,Oe){i.f.assertValue(Ne,"dataView"),i.f.assertValue(Ie,"objectDescriptors"),i.f.assertAnyValue(me,"prototype");var Ee=(0,U.$v)(Ie);if(Ee&&Ne.metadata&&!_.isEmpty(Ne.metadata.columns)){var ye,xe=!1,Je=function(){var Ce=he.queryName,je=_.find(Se,ne=>ne?.queryName===Ce);if((!je||!je.ignoreDynamicFormat)&&he.formatSource&&!he?.aggregates?.single){xe||(ye=me?(0,a.qO)(me):{},xe=!0);var Qe={metadata:he.queryName,data:[X.Ue()],highlightMatching:l.X.ValuesAndHighlight},ut=(0,n.xA)(Ce,Z.K0.FormatString);if((0,F.sO)(ye,Ee,Qe,ut),Oe?.cardReferenceLabels&&he.relatedObjects)for(var lt of Object.keys(he.relatedObjects)){var Et=he.relatedObjects[lt];for(var bt of Object.keys(Et)){var Ot=(0,U.VM)(Ie,{objectName:lt,propertyName:bt});if(Ot?.formatStringProperty)for(var Dt of Et[bt])(0,F.sO)(ye,Ot.formatStringProperty,Dt,ut)}}}};for(var he of Ne.metadata.columns)Je();return ye}}(Ne,Oe,Ie,me,xe);he&&(me=he);var Ce=(0,m.Me)(me);(0,m.UQ)(Ce,Ie,Ne.metadata.columns,Oe);var je=Ce.metadataOnce,pe=Ce.data;je&&function(Ne,Se,Ie,me,Oe,Ee,xe,ye,Je){i.f.assertValue(Ne,"dataView"),i.f.assertAnyValue(Se,"selectTransforms"),i.f.assertValue(Ie,"objectDescriptors"),i.f.assertValue(me,"objectDefnsForSelector"),i.f.assertValue(Oe,"dataObjects"),i.f.assertValue(Ee,"targetDataViewKinds");var he=new O.Q(ye,xe);for(var Ce of me){var je=Ce.selector&&Ce.selector.id,pe=Ce.selector?.order,Qe=Ce.objects;i.f.assertValue(!_.isEmpty(Qe),"objectDefns");var ut=(0,I._x)(Ne,Se),lt=void 0;Je&&(lt={warnings:Je,selector:Ce.selector,targetExpr:(0,g.AV)(Ce.selector,Se)});var Et=(0,m.PJ)(he,ut,Ie,Qe,lt);if(Et){var bt=Ne.metadata.objects;for(var Ot in bt||(bt=Ne.metadata.objects={}),(0,v.PM)(bt,Et,je,pe),Et){var Dt=Et[Ot],ne=Ie[Ot];for(var Fe in Dt){var $e=ne.properties[Fe],qe=$e.rule;if(qe){var dt=ft(Ne,qe,Ot,Dt[Fe],$e.type);_.isEmpty(dt)||Oe.push(...dt||[])}}}}}}(Ne,Oe,Ie,je,pe,Se,Ee,xe,ye);var Qe=Ce.metadata;_.isEmpty(Qe)||function(Ne,Se,Ie,me,Oe,Ee,xe){i.f.assertValue(Ne,"dataView"),i.f.assertAnyValue(Se,"selectTransforms"),i.f.assertValue(Ie,"objectDescriptors"),i.f.assertValue(me,"objectDefnsForSelector");var ye=new O.Q(Ee,Oe);for(var Je of me){var he=Je.selector,Ce=Je.objects;i.f.assertValue(he,"selector"),i.f.assertValue(Ce,"objectDefns");for(var je=Ne.metadata.columns,pe=he.metadata,Qe=(0,I._x)(Ne,Se),ut=0,lt=je.length;ut<lt;ut++){var Et=je[ut];if(Et.queryName===pe){var bt=void 0;xe&&(bt={warnings:xe,selector:he,targetExpr:(0,g.AV)(he,Se)});var Ot=(0,m.PJ)(ye,Qe,Ie,Ce,bt);Ot&&(Et.objects||(Et.objects={}),(0,v.PM)(Et.objects,Ot,he.id,he.order))}}}}(Ne,Oe,Ie,Qe,Ee,xe,ye),_.isEmpty(pe)||function(Ne,Se,Ie,me,Oe,Ee,xe,ye,Je){i.f.assertValue(Ne,"dataView"),i.f.assertValue(Se,"targetDataViewKinds"),i.f.assertAnyValue(Ie,"selectTransforms"),i.f.assertValue(me,"objectDescriptors"),i.f.assertValue(Oe,"dataViewObjectDefnsForSelector"),i.f.assertValue(Ee,"DataViewTransform.evaluateDataRepetition - visualStyle");var he=new O.Q(ye,Ee);Ne.categorical&&(0,t.yE)(Se,r.m.Categorical)&&(0,s.KH)(Ne.categorical,Ie,me,Oe,xe,he,Je&&{warnings:Je},ye);var je=Ne.matrix;if(je&&(0,t.yE)(Se,r.m.Matrix)){var pe=function(Ne,Se,Ie,me,Oe,Ee,xe,ye){i.f.assertValue(Ne,"dataViewMatrix"),i.f.assertValue(Ie,"objectDescriptors"),i.f.assertValue(me,"objectDefnsForSelector");var Je=Ne.valueSources,he=Je.length,Ce=function(Ne,Se){return new h(Ne,Se)}(Ne,Ee),je=Ne.rows.levels;i.f.assertAnyValue(je,"A Matrix with no Row groupings has empty Row levels");var pe=f(je),Qe=f(Ne.columns.levels),ut=[];ut.push(...pe||[]),ut.push(...Qe||[]);var lt=!1,Et=(0,a.qO)(Ne),bt=function(){i.f.assertValue(Ot.selector,"selector"),i.f.assertAnyValue(Ot.rules,"rules");var Dt=Ot.objects;i.f.assertValue(Dt,"objectDefns");var de,ee,ne=function(Ne,Se){return(0,g._Q)(Se)&&(Se=(0,o.w)(Se,Ie=>function(Ne,Se){if(Se){var Ie=[];return Ie.push(...W(Ne,Se.rows)||[]),Ie.push(...W(Ne,Se.columns)||[]),Ie}}(Ie,Ne))),Se}(Ne,Ot.selector),Fe=(0,E.U)(ne,Oe),$e=(0,g.GT)(ne),qe=(0,g.N6)(ne),dt=null==ne.metadata&&b(pe,Fe),rt=function(Ne,Se,Ie,me){if(i.f.assertAnyValue(Ne,"A Matrix with no Row groupings has empty Row levels and can't hold ScopedValues"),_.isEmpty(Ne)||(i.f.assertValue(Ie,"selectorComparer"),i.f.assertAnyValue(me,"selectorMetadata"),i.f.assert(()=>Ne.length===Se.length,"levels identity keys mismatch"),!me))return!1;for(var Oe=0;Oe<Ne.length;Oe++)if(Ie.matchesKeys(_.take(Se,Oe+1),Oe+1)){var Ee=(0,C.vC)(Ne[Oe]);if(!_.isEmpty(Ee)&&_.find(Ee,xe=>xe.queryName===me))return!0}return!1}(je,pe,Fe,ne.metadata),ce=(he>1||he<=1&&null==ne.metadata)&&b(Qe,Fe),be=null!=ne.metadata&&he>0&&_.some(Je,Pe=>Pe.queryName===ne.metadata)&&Fe.matchesKeys(ut,ut.length),ae={selector:ne,selectorComparer:Fe,containsWildcard:$e,isWildcard:qe,canMatchColumnNode:ce,canMatchRowNode:dt,canMatchIntersection:be,canMatchScopedValue:rt};ce&&(ee=T(d.k0.Column,Ce,Se,Et.columns,Ie,Dt,ae,xe,ye)),(be||rt||dt)&&(de=T(d.k0.Row,Ce,Se,Et.rows,Ie,Dt,ae,xe,ye)),(de||ee)&&(lt=!0,de&&(Et.rows=de),ee&&(Et.columns=ee))};for(var Ot of me)bt();if(lt)return Et}(je,Ie,me,Oe,xe,ye,he,Je);pe&&(Ne.matrix=pe)}var Qe=Ne.table;if(Qe&&(0,t.yE)(Se,r.m.Table)){var ut=function(Ne,Se,Ie,me,Oe,Ee,xe){i.f.assertValue(Ne,"dataViewTable"),i.f.assertAnyValue(Se,"selectTransforms"),i.f.assertValue(Ie,"objectDescriptors"),i.f.assertValue(me,"objectDefnsForSelector");var ye=!1;for(var Je of me){var he=Je.selector,Ce=Je.objects;i.f.assertValue(he,"selector"),i.f.assertValue(Ce,"objectDefns");var je=(0,g.GT)(he);he=G(Ne,he);var pe=(0,E.U)(he,Oe),Qe=z(Ne,Se),ut=void 0;_.isEmpty(Ne.rows)||(ut=k(Qe,Se,Ne.columns,Ne.rows,Ne.identity,Ne.identityFields,Ie,he,je,Ce,pe,Ee,xe));var lt=void 0;Ne.totals&&(lt=Q(Qe,Se,Ne.columns,Ne.totals,Ne.identityFields,Ie,he,Ce,pe,Ee,xe)),(ut||lt)&&(ye=!0,Ne=(0,a.qO)(Ne),ut&&(Ne.rows=ut),lt&&(Ne.totals=lt))}if(ye)return Ne}(Qe,Ie,me,Oe,xe,he,Je);ut&&(Ne.table=ut)}var lt=Ne.single;if(i.f.assert(()=>!lt||!!lt&&!!Qe,"DataViewTable should be always present with DataViewSingle"),lt&&Qe&&(0,t.yE)(Se,r.m.Single)){var Et=function(Ne,Se,Ie,me,Oe,Ee,xe){i.f.assertValue(Ne,"dataView"),i.f.assertAnyValue(Se,"selectTransforms"),i.f.assertValue(Ie,"objectDescriptors"),i.f.assertValue(me,"objectDefnsForSelector");var ye,Je=(0,I._x)(Ne,Se);for(var he of me){var Ce=he.selector,je=he.objects,pe=(0,E.U)(Ce,Oe);if(i.f.assertValue(Ce,"selector"),i.f.assertValue(je,"objectDefns"),Ce.metadata===Ne.single.column.queryName&&pe.matches([])){var Qe=void 0;xe&&(Qe={warnings:xe,selector:Ce,targetExpr:(0,g.AV)(Ce,Se)});var ut=(0,m.PJ)(Ee,Je,Ie,je,Qe);ut&&(ye||(ye=(0,a.qO)(Ne.single)),ye.objects||(ye.objects={}),(0,v.PM)(ye.objects,ut,Ce.id,Ce.order))}}return ye}(Ne,Ie,me,Oe,xe,he,Je);Et&&(Ne.single=Et)}Ne.metadata.objectsRules=he.getObjectsRules()}(Ne,Se,Oe,Ie,pe,Ee,Je,xe,ye)}}function ft(Ne,Se,Ie,me,Oe){i.f.assertValue(Ne,"dataView"),i.f.assertValue(Se,"ruleDesc"),i.f.assertValue(me,"propertyValue"),i.f.assertValue(Oe,"ruleType");var Ee=Se.output;if(Ee){var xe=function(Ne){return i.f.assertValue(Ne,"selectorRoles"),[{data:[(0,x.Yp)(Ne)]}]}(Ee.selector);if(Oe.fillRule)return function(Ne,Se,Ie,me,Oe){i.f.assertValue(Ne,"dataView"),i.f.assertValue(Se,"ruleDesc"),i.f.assertValue(Ie,"selectorsToCreate"),i.f.assertValue(Oe,"propertyValue");var Ee=function(Ne,Se,Ie){i.f.assertValue(Ne,"dataView"),i.f.assertValue(Se,"identifier"),i.f.assertValue(Ie,"identifierKind");var me=Ne.metadata.columns;switch(Ie){case d.Z1.Role:return _.find(me,Oe=>Oe.roles&&Oe.roles[Se]);case d.Z1.QueryName:return _.find(me,Oe=>Oe.queryName===Se&&void 0===Oe.groupName);default:i.f.assertNever(Ie)}}(Ne,Se.inputRole,d.Z1.Role);if(Ee){var xe=(0,p.V)().fromFillRule(Oe,Ee);if(xe){var ye=new te(Se.inputRole,xe),Je={};Je[Se.output.property]={solid:{color:ye}};for(var he=[],Ce=0,je=Ie.length;Ce<je;Ce++)he.push({selector:Ie[Ce],rules:[ye],objects:[{name:me,properties:Je}]});return he}}}(Ne,Se,xe,Ie,me)}}},759162:function(ve,j,e){e.d(j,{Ue:function(){return p},fS:function(){return g},wB:function(){return n}});var r=e(650543),i=e(16990),a=e(935183),t=e(387864),l=e(824282);function g(d,o){return!d&&!o||!(!d||!o)&&(r.f.assertValue(d,"x"),r.f.assertValue(o,"y"),d===o||d.matchingOption===o.matchingOption)}function n(d,o){switch(r.f.assertValue(d,"DataViewWildcard.matches - wildcard"),d.matchingOption){case l.v.InstancesAndTotals:return!0;case l.v.InstancesOnly:return!o;case l.v.TotalsOnly:return o;default:r.f.assertFail("DataViewWildcard.matches - Unsupported matchingOption")}}function p(d){return null==d&&(d=l.v.InstancesAndTotals),new s(d)}class s{constructor(o){this.kind=t.i.Wildcard,r.f.assertValue(o,"matchingOption"),this._matchingOption=o,this._key=new i.o(()=>JSON.stringify(this._matchingOption))}get matchingOption(){return this._matchingOption}get key(){return this._key.getValue()}}(0,a.y)(s.prototype)},13380:function(ve,j,e){e.d(j,{Z1:function(){return r},k0:function(){return i},wz:function(){return a}});var r=function(t){return t[t.QueryName=0]="QueryName",t[t.Role=1]="Role",t}({}),i=function(t){return t.Row="Rows",t.Column="Columns",t}({}),a=function(t){return t[t.InvalidValue=0]="InvalidValue",t[t.InvalidType=1]="InvalidType",t[t.MissingReference=2]="MissingReference",t[t.UndefinedStylePreset=3]="UndefinedStylePreset",t}({})},521214:function(ve,j,e){function r(){var i=a=>{};return{getExprValue:i,getExprColumn:i,getScopedEvalExprValue:i,getRoleValues:i}}e.d(j,{X:function(){return r}})},223856:function(ve,j,e){e.d(j,{t:function(){return i}});var r=e(650543);class i{evaluate(t){r.f.assertFail("Abstract method RuleEvaluation.evaluate not implemented.")}}},468006:function(ve,j,e){e.d(j,{_x:function(){return n},vR:function(){return s}});var r=e(60978),i=e(999787),a=e(650543),t=e(62396),l=e(313750),g=e(995649);function n(m,c){return new p(m,c)}class p{constructor(c,C){this.dataView=c,this.selectTransforms=C,a.f.assertValue(c,"dataView"),a.f.assertAnyValue(C,"selectTransforms")}getExprColumn(c){var C=(0,l.ij)(c,this.selectTransforms);if(!(C<0))return _.find(this.dataView.metadata.columns,y=>y.index===C)}getScopedEvalExprValue(c){var C=c.decomposeGlobalAggregateOfScopedExpr();if(C){var y=(0,g.T5)(C.source,this.dataView.metadata.columns);return y?(0,g._L)(y,C.func):void 0}if(c.hasGlobalScope())return this.getExprValue(c.expression);c.hasInnerMostScope()?a.f.assertFail("Attempt to evaluate a scoped expression within the Global scope"):a.f.assertFail("Evaluation of Partial-Scope expressions is not supported")}getExprValue(c){var C=this.dataView,y=this.selectTransforms;if(C&&y){if((0,r.iV)(c)||(0,r.T5)(c)||(0,r.kb)(c)||(0,r.cY)(c)||(0,r.NH)(c)){var S=function(m,c,C){a.f.assertValue(m,"expr"),a.f.assertValue(c,"selectTransforms"),a.f.assertValue(C,"columns");var y,S=-1,h=m;do{if((S=null==h?-1:(0,l.ij)(h,c,S+1))<0)break;if(y=_.find(C,u=>u.index===S&&u.aggregates&&void 0!==u.aggregates.single))return y.aggregates.single;(0,r.NH)(h)&&a.f.assertValue(h=c[S].expr,"Select that matches selectRef points to a null field.")}while(S<c.length);if((0,r.iV)(m)||(0,r.T5)(m)){var E=m.arg;if((0,r.g5)(E)&&E.hasInnerMostScope()?S=(0,l.ij)(E.expression,c):((0,r.NH)(E)||(0,r.kb)(E)||(0,r.iV)(E)||(0,r.jk)(E))&&(S=(0,l.ij)(E,c)),!(S<0)&&(y=_.find(C,u=>u.index===S&&u.aggregates)))return function(m,c){if(a.f.assertValue(m,"aggregates"),a.f.assertValue(c,"expr"),(0,r.T5)(c)){var C=_.find(m.percentiles,y=>y.k===c.k&&c.exclusive===!!y.exclusive);if(C)return C.value}else if((0,r.iV)(c))switch(a.f.assertValue(c.func,"func"),c.func){case i.B8.Min:return m.min??m.minLocal;case i.B8.Max:return m.max??m.maxLocal;case i.B8.Median:return m.median;case i.B8.Avg:return m.average}a.f.assertFail("Only Percentile, Min, Max, Median, Average are supported as Aggregate of Aggregates")}(y.aggregates,m)}}(c,y,C.metadata.columns);if(void 0!==S)return S}if(C.table)return _.isEmpty(C.table.columns)||_.isEmpty(C.table.rows)||!_.isEmpty(C.table.identityFields)?void 0:(a.f.assert(()=>1===C.table.rows.length,"A data view with no identity fields should have a single row"),s(c,y,C.table.columns,C.table.rows[0]));if(C.categorical&&!_.isEmpty(C.metadata.columns)&&!_.isEmpty(C.categorical.values))return function(m,c,C){a.f.assertValue(m,"expr"),a.f.assertValue(c,"selectTransforms"),a.f.assertValue(C,"categorical");var y=C.values;if(a.f.assertValue(y,"categorical.values"),1===y.grouped().length&&!C.categories){var S=(0,l.ij)(m,c);if(!(S<0)){var h=_.findIndex(y,u=>u.source.index===S);if(-1!==h){var E=y[h].values;if(E&&1===E.length)return E[0]}}}}(c,y,C.categorical);C.matrix||C.tree||a.f.assert(()=>_.isEqual(Object.getOwnPropertyNames(C),["metadata"]),"staticEvalContext.getExprValue received a dataView that is not currently supported (only table and categorical are implemented)")}}getRoleValues(c){}}function s(m,c,C,y){if(a.f.assertValue(m,"expr"),a.f.assertValue(c,"selectTransforms"),a.f.assertNonEmpty(C,"tableColumns"),a.f.assertValue(y,"tableRow"),1===y.length&&null===y[0])return null;var S=(0,l.ij)(m,c);if(!(S<0)){var h=_.findIndex(C,f=>f.index===S);if(!(h<0)){if((0,r.NH)(m)&&m.attributeKind===t.K0.FormatString){var E=C[h];if((h=C.indexOf(E.formatSource&&E.formatSource.formatString))<0)return}return a.f.assert(()=>h in y,"Cannot get expr value from table row. Row values don't contain an element for the matching data column"),y[h]}}}},140346:function(ve,j,e){e.d(j,{$T:function(){return c},Hc:function(){return m},QB:function(){return C},Uo:function(){return f},oy:function(){return v}});var r=e(650543),i=e(221e3),a=e(734531),t=e(301336),l=e(726988),g=e(810331),n=e(450491),p=e(230343),s=e(562832),d=e(719242),o="png";function v(P){if(r.f.assertAnyValue(P,"dataViewMappings"),P&&1===P.length&&P[0])return P[0].scriptResult}function m(P){r.f.assertAnyValue(P,"dataViewMappings");var D=v(P);if(D)return function(P,D){if(P&&P.script&&P.script.source&&P.script.provider&&D)return E((0,p.NA)(D,P.script.source),(0,p.NA)(D,P.script.provider),P.script.scriptOutputType)}(D,P[0].metadata&&P[0].metadata.objects)}function c(P,D){if(r.f.assertAnyValue(P,"dataViewMappings"),r.f.assertAnyValue(D,"objects"),D){var w=v(P);if(w&&w.script&&w.script.source&&w.script.provider){var M=(0,d.NA)(D,w.script.source,null),A=(0,d.NA)(D,w.script.provider,null);return E(M?M.value:null,A?A.value:null,w.script.scriptOutputType)}}}function C(P){return r.f.assertAnyValue(P,"dataViewMappings"),function(P){return h(P&&P.script)}(v(P))}function h(P){if(r.f.assertAnyValue(P,"scriptMapping"),P)return E(P.scriptSourceDefault,P.scriptProviderDefault,P.scriptOutputType)}function E(P,D,w){if(!(0,a.g)(P)&&!(0,a.g)(D))return{source:P,provider:D,outputType:w||o}}function f(P,D,w,M,A){r.f.assertAnyValue(P,"projections"),r.f.assertAnyValue(D,"selects"),r.f.assertAnyValue(w,"schema"),r.f.assertAnyValue(M,"scriptDefinition");var R=!!h(M),B={VariableName:"dataset",Columns:[],Parameters:[]};if(P&&D&&!_.isEmpty(D)){var N=[],W=[];for(var F in P)for(var U of P[F].all()){var O=D.withName(U.queryRef);if(O){var x={QueryName:O.name},I=(0,l.Vn)((0,g.Q)(O.expr),new T(w));R&&(x.Role=F,I=F+"."+I),W.push(x),N.push(I)}}N=(0,t.hM)(N);for(var L=0;L<N.length;L++)W[L].Name=N[L];B.Columns=W}return B.Parameters=function(P,D){var w=[];if(D)for(var M in D){var A=(0,p.RK)(D,M);if(A)for(var R in A){var B=V(P,A,M,R);B&&w.push({ObjectName:M,PropertyName:R,Value:B})}}return w}(M,A),B}function V(P,D,w,M){if(!(P&&P.source&&P.source.objectName===w&&P.source.propertyName===M||P&&P.provider&&P.provider.objectName===w&&P.provider.propertyName===M)){var A=(0,s.y)(D,M);if(A)return(0,n.fL)(A);var R=(0,s.N)(D,M);if(null!=R)switch(typeof R){case"string":return(0,n.fL)(R);case"number":var B=R;return(0,i.U)(B)?(0,n._L)(B):(0,n.tx)(B);case"boolean":return(0,n.O7)(R)}}}class T{constructor(D){this.federatedSchema=D}visitNativeVisualCalc(D){}visitColumn(D){return T.getNameForProperty(D,this.federatedSchema)}visitColumnAggr(D){return T.getNameForProperty(D,this.federatedSchema)}visitGroupingColumn(D){return T.getNameForProperty(D,this.federatedSchema)}visitGroupingColumnAggr(D){return T.getNameForProperty(D,this.federatedSchema)}visitColumnHierarchyVariation(D){return T.getVariationHierarchyName(D,this.federatedSchema)}visitColumnHierarchyLevelVariation(D){return T.getVariationLevelName(D,this.federatedSchema)}visitColumnSubquery(D){}visitColumnAggrSubquery(D){}visitColumnTransformRef(D){}visitEntity(D){return D.entity}visitEntityAggr(D){return D.entity}visitHierarchy(D){return T.getNameForHierarchy(D,this.federatedSchema)}visitHierarchyLevel(D){return T.getNameForHierarchyLevel(D,this.federatedSchema)}visitHierarchyLevelAggr(D){return T.getNameForProperty(D,this.federatedSchema)}visitMeasure(D){return T.getNameForProperty(D,this.federatedSchema)}visitSelectRef(D){return(0,l.Vn)(D,this)}visitPercentile(D){return(0,l.Vn)(D.arg,this)}visitPercentOfGrandTotal(D){return(0,l.Vn)(D.baseExpr,this)}visitPercentOfRoleTotal(D){return(0,l.Vn)(D.baseExpr,this)}visitTransformOutputRoleRef(D){return(0,l.Vn)(D,this)}visitFilteredEval(D){return(0,l.Vn)(D,this)}visitArithmetic(D){}visitConstant(D){r.f.assertFail("ScriptResultUtil - Not expecting to be called")}visitSparklineData(D){}static getNameForHierarchy(D,w){r.f.assertValue(D,"pattern");var A=w.schema(D.schema).findHierarchy(D.entity,D.name);if(A)return A.name}static getNameForHierarchyLevel(D,w){r.f.assertValue(D,"pattern");var A=w.schema(D.schema).findHierarchyLevel(D.entity,D.name,D.level);if(A)return A.column.name}static getNameForProperty(D,w){r.f.assertValue(D,"pattern");var A=w.schema(D.schema).findProperty(D.entity,D.name);if(A)return A.name}static getVariationHierarchyName(D,w){r.f.assertValue(D,"pattern"),r.f.assertValue(w,"federatedSchema");var M=D.source,A=w.schema(M.schema).findProperty(M.entity,M.name);if(A){var R=A.column.variations;for(var B of R)if(B.name===D.variationName&&D.hierarchy.name===B.defaultHierarchy.name)return D.hierarchy.name}}static getVariationLevelName(D,w){r.f.assertValue(D,"pattern");var M=D.source,A=w.schema(M.schema).findProperty(M.entity,M.name);if(A){var R=A.column.variations;for(var B of R)if(B.name===D.variationName)for(var N of B.defaultHierarchy.levels)if(N.name===D.level.level)return N.column.name}}}},28691:function(ve,j,e){e.d(j,{U:function(){return o}});var r=e(426313),i=e(990297),a=e(650543),t=e(191282),l=e(827161),g=e(402623),n=e(532370),p=e(29706),s=e(759162),d=e(296841);function o(c,C){return C?new v(c):new m(c)}class v{constructor(C){if(a.f.assertValue(C,"selector"),a.f.assertValue(C.data,"selector.data"),this.dataParts=C.data,(0,t.N6)(C))return this.isWildcard=!0,void(this.hierarchyMatching=C.hierarchyMatching);var y=_.last(C.data);this.totalIdentity=(0,t.tQ)(y)?y:null,this.totalIdentity&&(this.dataParts=this.dataParts.slice(0,C.data.length-1)),this.selectorDataExprs=v.flattenDataParts(this.dataParts),this.keys=_.map(this.selectorDataExprs,S=>S.key),this.totalIdentity&&this.keys.push(...this.totalIdentity.exprs||[])}matches(C,y){if(this.isWildcard)return(0,s.wB)(this.dataParts[0],!_.isEmpty(y));if(C.length!==this.dataParts.length||_.isEmpty(y)&&this.totalIdentity||!_.isEmpty(y)&&!this.totalIdentity||this.totalIdentity&&!(0,i.s_)(this.totalIdentity.exprs,y,r.fS))return!1;if(_.isEmpty(C)&&_.isEmpty(this.dataParts))return!0;var S=v.flattenDataParts(C);return!_.isEmpty(S)&&(0,i.s_)(this.selectorDataExprs,S,v.isDataExprsMatch)}matchesKeys(C,y){if(this.isWildcard)return C.length===y||this.hierarchyMatching===d.e.Partial;var S=_.flatten(C);return 0!==this.keys.length&&0!==S.length&&this.keys.length===S.length&&(0,i.s_)(S,this.keys,r.fS)}static flattenDataParts(C){var y=[];for(var S of C)if((0,t.yN)(S)){var h=new l.aL;S.expr.accept(h);for(var E=0;E<h.pairs.length;E++)y.push({value:h.values[E],key:h.keys[E]})}else if((0,t.QV)(S))for(var u of S.exprs)y.push({key:u});else{if(!(0,t.tQ)(S))return a.f.assertFail("unexpected Selector data item kind: "+S.kind.toString()),[];a.f.assertFail("Selector.matchesData: ScopeTotal should appear at the end of Selector.Data elements")}return y}static isDataExprsMatch(C,y){return a.f.assert(()=>null!=C.value||null!=y.value,"isDataExprsMatch cant have two dataExprs with values not defined. It means they are both wildcards."),C.value&&y.value?(0,r.fS)(C.key,y.key)&&(0,r.fS)(C.value,y.value):(0,r.fS)(C.key,y.key)}}class m{constructor(C){if(this.selector=C,a.f.assertValue(this.selector,"selector"),a.f.assertValue(this.selector.data,"selector.data"),this.isWildcard=(0,t.N6)(this.selector),this.dataParts=this.selector.data,this.keys=[],!this.isWildcard)for(var y of this.dataParts){var S=m.getDataRepetitionIdentityKeys(y);if(!S){this.keys=[];break}this.keys.push(...S)}}matches(C,y){a.f.assertValue(C,"identities");var S=this.dataParts,h=S.length,E=C.length,u=!_.isEmpty(y);if(u&&E++,this.isWildcard)return(0,s.wB)(S[0],u);if(h!==E)return!1;for(var f=0,b=C.length;f<b;f++){var V=S[f],T=C[f];if((0,t.j9)(V))return a.f.assertFail("Selector.matchesData: RoleWildCard should be converted to ScopeWildCards before matching"),!1;if((0,t.yN)(V)){if(!(0,g.fS)(V,T))return!1}else{if(!(0,t.QV)(V))return(0,t.tQ)(V)?(_.isEmpty(y)||a.f.assertFail("Selector.matchesData: ScopeTotal should appear at the end of Selector.Data elements"),!1):(a.f.assertFail("unexpected Selector data item kind: "+V.kind.toString()),!1);if(!(0,p.wB)(V,T))return!1}}if(!_.isEmpty(y)){var P=_.last(S);return(0,t.tQ)(P)&&(0,n.wB)(P,y)}return!0}matchesKeys(C,y){if(a.f.assertValue(C,"keysList"),a.f.assert(()=>C.length<=y,"expected keysList to be within the hierarchy levels"),this.isWildcard)return C.length===y||this.selector.hierarchyMatching===d.e.Partial;var S=_.flatten(C),h=this.keys.length;if(0===h||0===S.length||h!==S.length)return!1;for(var E=0;E<h;E++)if(!(0,r.fS)(S[E],this.keys[E]))return!1;return!0}static getDataRepetitionIdentityKeys(C){return(0,t.yN)(C)?(0,l.RR)(C.expr):(0,t.QV)(C)||(0,t.tQ)(C)?C.exprs:void((0,t.j9)(C)?a.f.assertFail("Selector.matchesData: RoleWildCard should be converted to ScopeWildCards before matching"):(0,t.qm)(C)?a.f.assertFail("Selector.matchesData: Wildcard should match anything without identity check"):a.f.assertNever(C))}}},237008:function(ve,j,e){e.d(j,{Ed:function(){return l},OC:function(){return a},gp:function(){return t}});var r=e(650543),i=e(896286);function a(g){return r.f.assertValue(g,"categories"),!_.isEmpty(g)&&g[0].objects}function t(g,n){if(r.f.assertValue(g,"prototypeCategories"),r.f.assertValue(n,"objects"),!_.isEmpty(g)){var p=(0,i.qO)(g);return(p[0]=(0,i.qO)(p[0])).objects=n,p}}function l(g){r.f.assertValue(g,"dataViewCategorical");var n=_.isEmpty(g.categories)?_.isEmpty(g.values)?0:g.values[0].values.length:g.categories[0].values.length;return r.f.assert(()=>_.every(g.categories,p=>p.values.length===n),"Invariant: every category column is expected to have the same number of values."),r.f.assert(()=>_.every(g.categories,p=>p.identity.length===n),"Invariant: every category column is expected to have the same number of identities as there are values."),r.f.assert(()=>_.every(g.values,p=>p.values.length===n),"Invariant: every value column is expected to have the same number of values."),n}},397645:function(ve,j,e){e.d(j,{Oj:function(){return t},VR:function(){return p},Vh:function(){return a},kK:function(){return n},qt:function(){return g}});var r=e(87072),i=e(336596);function a(s){if(_.isEmpty(s))return!1;for(var d of s)if(d.matrix&&d.matrix.rows&&void 0!==d.matrix.rows.values)return!0;return!1}function t(s){if(_.isEmpty(s))return!1;var d=s.filter(T=>void 0!==T.categorical&&void 0!==T.categorical.categories);if(_.isEmpty(d))return!1;for(var o=0;o<d.length;o++){var v=d[o],m=v.conditions;if(!_.isEmpty(m))for(var c=o+1;c<d.length;c++){var C=d[c];if(_.isEqual(v.categorical.categories,C.categorical.categories)&&!_.isEqual(v.categorical.values,C.categorical.values)){var y=C.conditions;if(_.isEmpty(y))return!0;var S=l(m),h=l(y),E=Object.keys(S),u=Object.keys(h);if(E.length!==u.length||!_.isEqual(E,u))return!0;for(var f of E)if(!_.isEqual(S[f],h[f]))return!0}}}return!1}function l(s){var d={};for(var o of s)for(var v in o)d[v]||(d[v]=o[v]);return d}function g(s,d){if(_.isEmpty(s))return!1;var o=s.map(u=>u.matrix).filter(u=>void 0!==u);if(_.isEmpty(o)||_.isEmpty(d))return!1;var v=new Set,m=new Set;for(var c of o){var C=c.rows?r.nG.fromMatrixRows(c.rows):[],y=c.columns?r.nG.fromMatrixColumns(c.columns):[];for(var S of C)v.add(S);for(var h of y)m.add(h)}for(var E of d)if(v.has(E)&&m.has(E))return!0;return!1}function n(s){if(_.isEmpty(s))return!1;var d=s.filter(m=>!(0,i.D4)(m)),o=d.some(m=>void 0!==m.categorical),v=d.some(m=>void 0!==m.matrix);return o&&v}function p(s,d){if(_.isEmpty(s))return!1;var o=s.map(f=>f.categorical).filter(f=>void 0!==f);if(_.isEmpty(o)||_.isEmpty(d))return!1;var v=new Set,m=new Set;for(var c of o){var C=c.categories?r.nG.fromCategoricalCategories(c.categories):[],y=c.values,S=y&&y.group?r.nG.FromCategoricalValues(y):[];for(var h of C)v.add(h);for(var E of S)m.add(E)}for(var u of d)if(v.has(u)&&m.has(u))return!0;return!1}},315815:function(ve,j,e){e.d(j,{CF:function(){return v},GJ:function(){return m},Lr:function(){return b},Lt:function(){return S},N9:function(){return l},Ro:function(){return h},X2:function(){return d},Z9:function(){return t},be:function(){return C},no:function(){return o},pr:function(){return y},sx:function(){return u},vC:function(){return f},w1:function(){return g},y9:function(){return p}});var r=e(990297),i=e(650543),a=e(896286),t=function(V){return V[V.stop=0]="stop",V[V.continueToChildNodes=1]="continueToChildNodes",V[V.skipDescendantNodes=2]="skipDescendantNodes",V}({});function l(V){return i.f.assertValue(V,"node"),_.isEmpty(V.children)}function g(V,T){if(i.f.assertAnyValue(V,"rootNodes"),i.f.assertValue(T,"callback"),V)if(function(V){return(0,r.rd)(V)}(V))for(var P of V)P&&n(P,[],T);else n(V,[],T)}function n(V,T,P){i.f.assertValue(V,"matrixNode"),i.f.assertValue(T,"traversalPath"),i.f.assertValue(P,"callback"),i.f.assert(()=>!_.includes(T,V),"pre-condition: traversalPath must not already contain matrixNode"),T.push(V);var D=P(V,T),w=null!=D&&D!==t.stop;if(D===t.continueToChildNodes){var M=V.children;if(!_.isEmpty(M))for(var A of M)if(A&&!(w=n(A,T,P)))break}return i.f.assert(()=>_.last(T)===V,"pre-condition: the callback given to forEachNodeDepthFirst() is not supposed to modify the traversalPath argument array."),T.pop(),w}function p(V,T){i.f.assertAnyValue(V,"rootNodes"),i.f.assertValue(T,"callback");var P=0;g(V,(D,w)=>(l(D)&&(T(D,P,w),P++),t.continueToChildNodes))}function d(V,T,P){if(i.f.assertValue(V,"node"),i.f.assert(()=>T>=0,"targetLevel >= 0"),i.f.assertValue(P,"callback"),V.level!==T){var D=V.children;if(D&&D.length>0)for(var w=0,M=D.length;w<M;w++)d(D[w],T,P)}else P(V)}function o(V,T,P){i.f.assertValue(V,"node"),i.f.assert(()=>T>=0,"deepestLevelToInherit >= 0"),i.f.assertValue(P,"useInheritSingle");var D=V,w=void 0===V.level;if(w||V.level<=T){var A=P?a.qO:a.ED,R=A(V);if((w||V.level<T)&&!_.isEmpty(V.children)){R.children=A(V.children);for(var N=0,W=R.children.length;N<W;N++)R.children[N]=o(R.children[N],T,P)}D=R}return D}function v(V){i.f.assertAnyValue(V,"matrixOrHierarchy");var T=!1;if(V)if(function(V){return"rows"in V&&"columns"in V&&"valueSources"in V}(V))T=v(V.rows)||v(V.columns);else{var P=V.levels;if(!_.isEmpty(P))for(var D of P)if(D.sources&&D.sources.length>=2&&(i.f.assert(()=>_.every(D.sources,M=>M.isMeasure===D.sources[0].isMeasure),"pre-condition: in a valid DataViewMatrix, the source columns in each of its hierarchy levels must either be all non-measure columns (i.e. a grouping level) or all measure columns (i.e. a measure headers level)"),!D.sources[0].isMeasure)){T=!0;break}}return T}function m(V){i.f.assertValue(V,"matrix");var T=V.rows&&V.rows.levels,P=V.columns&&V.columns.levels,D=V.valueSources;return{primaryAxis:!_.isEmpty(T)&&c(T),secondaryAxis:!_.isEmpty(P)&&c(P),intersection:!_.isEmpty(D)&&_.map(D,M=>M.index)}}function c(V){return i.f.assertValue(V,"levels"),_.map(V,T=>({selectIndices:_.map(T.sources,w=>w.index)}))}function C(V){return V&&V.rows&&!_.isEmpty(V.rows.levels)?V.rows.levels.length:0}function y(V){return!V||_.isEmpty(V.levels)?0:V.levels.length-(S(V.levels)?1:0)}function S(V){return i.f.assertAnyValue(V,"columnHierarchyLevels"),!_.isEmpty(V)&&h(_.last(V))}function h(V){return i.f.assertAnyValue(V,"columnHierarchyLevel"),V&&_.every(V.sources,T=>T.isMeasure)}function u(V){if(i.f.assertAnyValue(V?.children,"A Matrix with Column Totals off and all data filtered out has undefined columns root"),!V||_.isEmpty(V.children))return[];var T=[];return p(V,(P,D,w)=>{T.push(_.clone(w))}),T}function f(V){i.f.assertValue(V,"undefined Level");var T=V.valueSources;if(T)return i.f.assert(()=>_.isEqual(_.keys(T),["0"]),"There is no support for Measures with a Scope containing any column levels"),i.f.assertValue(T[0],"Empty Scoped measures metadata"),T[0]}function b(V){if(i.f.assertValue(V,"getNodeScopedValues called for an Undefined node"),i.f.assertAnyValue(V.nodeValues,"Synchronized nodes have undefined nodeValues"),V.nodeValues)return i.f.assert(()=>_.isEqual(_.keys(V.nodeValues),["0"]),"There is no support for Measures with a Scope containing any column levels"),V.nodeValues[0]}},995649:function(ve,j,e){e.d(j,{Gq:function(){return c},T5:function(){return v},_L:function(){return m},dM:function(){return d},iN:function(){return p},jh:function(){return s}});var r=e(60978),i=e(426313),a=e(999787),t=e(650543),l=e(62396);function n(C,y){t.f.assertValue(C,"metadataColumn"),t.f.assertValue(y,"targetRoles");var S=C.roles;return!!S&&_.some(y,h=>S[h])}function p(C,y){if(t.f.assertAnyValue(C,"roles"),t.f.assertValue(y,"targetRole"),!C||!C[y])return!1;if(_.size(C)>=2)for(var S in C)if(S!==y&&C[S])return!1;return!0}function s(C,y,S){t.f.assertAnyValue(C,"columnSources"),t.f.assertValue(y,"projectionOrdering"),t.f.assertAnyValue(S,"filterByRoles");var h=[];if(!_.isEmpty(C))for(var E=function(C){t.f.assertValue(C,"selectIndicesByProjectionOrder");for(var y={},S=0,h=C.length;S<h;S++){var E=C[S],u=y[E];u||(u=y[E]=[]),u.push(S)}return y}(y),u=0,f=C.length;u<f;u++){var b=C[u];if(!S||n(b,S)){var V=E[b.index];if(_.isEmpty(V))h.push({metadataColumn:b,sourceIndex:u,projectionOrderIndex:void 0});else for(var T of V)h.push({metadataColumn:b,sourceIndex:u,projectionOrderIndex:T})}}return h}function d(C){var y=_.find(C,u=>u.expr&&(0,r.ez)(u.expr));if(y){var h=y.expr.arg;if((0,r.y3)(h)){var E=h.arg;if((0,r.jc)(E))return E.property}}}function v(C,y,S){if(t.f.assertValue(C,"expr"),t.f.assertNonEmpty(y,"columns"),!(0,r.NH)(C))return _.find(y,E=>(0,i.fS)(E.expr,C)&&E.groupName===S);var h=_.find(y,E=>E.queryName===C.expressionName&&E.groupName===S);return h?C.attributeKind!==l.K0.FormatString?h:h.formatSource&&h.formatSource.formatString?h.formatSource.formatString:void 0:void 0}function m(C,y){t.f.assertValue(C,"column"),t.f.assertValue(y,"aggrFunc");var S=C.aggregates;if(S)switch(y){case a.B8.Min:return S.min;case a.B8.Max:return S.max;case a.B8.Count:return S.count;case a.B8.Avg:return S.average;case a.B8.Median:return S.median;default:return}}function c(C,y){if(!_.isEmpty(C)){var S=[],h=!0;for(var E of C)if(E.roles&&E.roles[y]&&void 0!==E.index)if(E.rolesIndex&&E.rolesIndex[y]){t.f.assert(()=>!0===h,".initMetadataColumns if any of the columns has roleIndex all of them are supposed to have it.");var u=E.rolesIndex[y];for(var f of u)S[f]=E}else h=!1,S.push(E);return S}}},391967:function(ve,j,e){e.d(j,{C0:function(){return t},F:function(){return l},Mw:function(){return a},jR:function(){return n},rX:function(){return g}});var r=e(929248),i=e(650543);function a(p,s){return!p&&!s||!(!p||!s||p.displayName!==s.displayName||p.queryName!==s.queryName||p.isMeasure!==s.isMeasure||p.type!==s.type||p.sort!==s.sort)}function t(p,s){if(!p&&!s)return!0;if(!p||!s)return!1;var o=s.columns.length;if(p.columns.length!==o)return!1;for(var v=0;v<o;v++)if(!a(p.columns[v],s.columns[v]))return!1;return!0}function l(p){return p&&p.values&&p.values[0]&&!!p.values[0].values}function g(p){return p&&void 0!==p.length}function n(p,s){return i.f.assert(()=>s!==r.m.None),!!p&&!!(s&r.m.Categorical&&p.categorical||s&r.m.Matrix&&p.matrix||s&r.m.Single&&p.single||s&r.m.Table&&p.table||s&r.m.Tree&&p.tree)}},446775:function(ve,j,e){e.d(j,{SA:function(){return t},VZ:function(){return g},XP:function(){return a},r:function(){return l}});var r=e(650543),i=e(832573);function a(s,d,o){r.f.assertValue(s,"query"),r.f.assertValue(d,"projectionsByRole"),r.f.assertValue(o,"roleName");var v=d[o];if(v){var m=v.all();return _.filter(_.map(m,c=>t(s,c)),c=>c)}}function t(s,d){var o=n(s,d);if(o)return o}function l(s,d,o){var v=d[o];if(v){var m=v.getFieldParameters();if(_.isEmpty(m)){var c=a(s,d,o);return _.map(c,P=>{var D=_.find(v.all(),w=>w.queryRef===P.name)?.hidden;return i.m.transformToVisualQueryField(P.expr,P.name,!1,P.nativeReferenceName,D)})}var C=[],y=v.all()||[],S=0,h=0;for(var E of m=_.sortBy(m,P=>P.index)){var f=E.index+h,b=y.slice(S,f);C.push(...p(s,b)),C.push(i.m.transformToVisualQueryField(E.expr,void 0,!0));var V=E.length??0;h+=V-1,S=f+V}var T=y.slice(S,y.length);return C.push(...p(s,T)),C}}function g(s,d){var o=_.filter(d,c=>c.index<s),v=s;for(var m of o)v+=(m.length??0)-1;return v}function n(s,d){if(r.f.assertValue(s,"query"),d)return s.select().withName(d.queryRef)}function p(s,d){var o=_.filter(_.map(d,v=>n(s,v)),v=>v);return _.map(o,v=>{var m=_.find(d,c=>c.queryRef===v.name)?.hidden;return i.m.transformToVisualQueryField(v.expr,v.name,!1,v.nativeReferenceName,m)})}},317571:function(ve,j,e){e.d(j,{i:function(){return r}});var r={objectName:"scalarKey",propertyName:"min"}},806982:function(ve,j,e){e.d(j,{A8:function(){return v},A9:function(){return m},YN:function(){return C},_T:function(){return c}});var r=e(650543),i=e(810331),a=e(442407),t=e(658531),l=e(832573),g=e(619538),n=e(212668),p=e(951202),s=e(230343),d=e(446775),o=e(317571);function v(y,S=o.i){var h;if(y&&(h=y.objects),!_.isEmpty(h)){for(var E,u=h.length,f=0;f<u;f++){var V=(0,s.NA)(h[f],S);void 0!==V&&(E||(E={values:new Array(u)}),E.values[f]={min:V})}return E}}function m(y){var S=!1,h={visitRole:f=>{S=S||_.some(f.items,b=>b.scalarKeyInfo&&b.scalarKeyInfo.hasScalarKey)}};return y.categorical?(0,p.Sr)(y.categorical.categories,h):y.matrix&&(0,p.Ay)(y.matrix.rows,h),S}function c(y,S,h,E){r.f.assertValue(y,"schema"),r.f.assertValue(S,"query"),r.f.assertValue(h,"projections"),r.f.assertValue(E,"roleName");var u=(0,d.XP)(S,h,E);if(_.isEmpty(u)||!(u[0]?.expr instanceof a.vD))return!1;var f=u[0]?.expr;if(1!==(0,t.q)(y,_.map(u,N=>N.expr),{}).length)return!1;var V=(0,i.Q)(f,y),T=(0,g.S7)(y,V),P=T&&T.column;if(!P)return!1;var D=P.type;if(!D.temporal||!D.temporal.year||!C(u[0]?.expr,y))return!1;var w=h[E],M=w.getLastActiveQueryReference();if(M){var A=w.all(),R=_.findIndex(A,N=>N.queryRef===M);if(-1===R)return!1;for(var B=0;B<R;B++)if(!_.includes(w.activeProjectionRefs,A[B].queryRef))return!1}return!0}function C(y,S){if(r.f.assertValue(S,"schema"),y){var h=(y=(0,n.K)(y,S)).getTargetEntity();if(h){var E=l.m.getConceptualEntity(h,S),u=_.filter(E.properties,f=>f.type.temporal&&f.type.temporal.paddedDateTableDate);if(1===u.length)return(0,a.Oh)(h,u[0].name)}}}},461995:function(ve,j,e){e.d(j,{x9:function(){return l}});var r=e(650543),i=e(179658),a=e(833059),t=e(827161);function l(d){if(d&&d.matrix&&d.matrix.rows&&d.matrix.rows.root&&!_.isEmpty(d.matrix.rows.levels))return r.f.assert(()=>_.every(d.matrix.rows.levels,o=>1===_.size(o.sources)),"Composite groups are not supported"),{levels:_.map(d.matrix.rows.levels,o=>({identityKeys:o.sources[0].identityExprs})),root:p(d.matrix.rows.root)}}function g(d,o){if(!_.isEmpty(d)){var v,m;switch(o){case i.Xt.Before:var c=_.findIndex(d,y=>y&&!y.isSubtotal&&y.identity);v=d[c],m=d[c+1];break;case i.Xt.After:var C=_.findLastIndex(d,y=>y&&!y.isSubtotal&&y.identity);v=d[C],m=d[C-1];break;default:r.f.assertFail("Unexpected restart kind "+o)}if(v&&v.restartKind===o)return v;if(m&&m.restartKind===o)return m}}function n(d){return{restartValues:d.restartValues,identityValues:(0,t.KX)(d.identity.expr),windowKind:s(d.restartKind)}}function p(d){var o=[],v=g(d.children,i.Xt.Before);v&&o.push(n(v));var m=g(d.children,i.Xt.After);m&&o.push(n(m));var c=_.filter(d.children,C=>_.some(C.children,y=>y.identity&&!y.isSubtotal));return{identityValues:d.identity&&d.identity.expr&&(0,t.KX)(d.identity.expr),children:_.map(c,C=>p(C)),windowValues:o}}function s(d){switch(d){case i.Xt.Before:return a.$s.OnOrAfter;case i.Xt.After:return a.$s.OnOrBefore}r.f.assertFail("Invalid restartKind")}},281210:function(ve,j,e){function r(a){return t=>t.get(a)}function i(a,t){return"function"==typeof a?a(t):"string"==typeof a?a:void 0}e.d(j,{G:function(){return i},V:function(){return r}})},55741:function(ve,j,e){e.d(j,{EP:function(){return p}});var r=e(650543),i=e(221e3),a=e(958497),t=e(370918),l=(()=>{class f{_ensureIncludeZero(){this.includeZero&&(this.min>0&&!this.hasFixedMin&&(this.min=0),this.max<0&&!this.hasFixedMax&&(this.max=0))}_ensureNotEmpty(){if(this.min===this.max)if(this.min){var P,V=this.min,T=(0,i.mv)(Math.abs(V));T>=0&&T<4?(P=.5,this.forcedSingleStop=V):(P=(0,i.wA)(T)/2,this.forcedSingleStop=null),this.min=V-P,this.max=V+P}else this.min=0,this.max=f.DEFAULT_MAX,this.hasFixedMin=!0,this.hasFixedMax=!0}_ensureDirection(){if(this.min>this.max){var V=this.min;this.min=this.max,this.max=V}}getSize(){return this.max-this.min}shrinkByStep(V,T){r.f.assertValue(V,"range"),r.f.assert(()=>T>0,"step");var P=this.min/T,D=V.min/T,w=Math.floor(D-P);this.min+=w*T,P=this.max/T,D=V.max/T,w=Math.ceil(D-P),this.max+=w*T}static calculate(V,T,P,D,w){r.f.assert(()=>V<=T,"dataMin should be less or equal to dataMax."),r.f.assert(()=>!P||!D||P<=D,"fixedMin should be less or equal to fixedMax.");var M=new f;return M.includeZero=!!w,M.hasDataRange=g(V)&&g(T),M.hasFixedMin=g(P),M.hasFixedMax=g(D),V=(0,i.QO)(V,f.MIN_SUPPORTED_DOUBLE,f.MAX_SUPPORTED_DOUBLE),T=(0,i.QO)(T,f.MIN_SUPPORTED_DOUBLE,f.MAX_SUPPORTED_DOUBLE),M.hasFixedMin&&M.hasFixedMax?(M.min=P,M.max=D):M.hasFixedMin?(M.min=P,M.max=T>P?T:P):M.hasFixedMax?(M.min=V<D?V:D,M.max=D):M.hasDataRange?(M.min=V,M.max=T):(M.min=0,M.max=0),M._ensureIncludeZero(),M._ensureNotEmpty(),M._ensureDirection(),0===M.min?M.hasFixedMin=!0:0===M.max&&(M.hasFixedMax=!0),M}static calculateDataRange(V,T,P){return g(V)&&g(T)?f.calculate(V,T,null,null,P):f.calculateFixedRange(0,f.DEFAULT_MAX)}static calculateFixedRange(V,T,P){r.f.assertValue(V,"fixedMin"),r.f.assertValue(T,"fixedMax");var D=new f;return D.hasDataRange=!1,D.includeZero=P,D.min=V,D.max=T,D._ensureIncludeZero(),D._ensureNotEmpty(),D._ensureDirection(),D.hasFixedMin=!0,D.hasFixedMax=!0,D}}return f.DEFAULT_MAX=10,f.MIN_SUPPORTED_DOUBLE=-1e307,f.MAX_SUPPORTED_DOUBLE=1e307,f})();function g(f){return null!=f}var n=(()=>{class f{static calculate(V,T,P,D,w,M){r.f.assertValue(V,"range"),r.f.assert(()=>void 0===T||T>=f.MIN_COUNT&&T<=f.MAX_COUNT,"expectedCount"),r.f.assert(()=>void 0===D||D>=i.Xo&&D<=i.kg,"minPower"),r.f.assert(()=>void 0===P||P>=0,"maxAllowedMargin");var A=new f;if(T=void 0===T?10:(0,i.QO)(T,f.MIN_COUNT,f.MAX_COUNT),void 0===D&&(D=i.Xo),void 0===w&&(w=!1),void 0===P&&(P=1),void 0===M&&(M=[1,2,5]),V.forcedSingleStop)return A.interval=V.getSize(),A.intervalOffset=A.interval-(V.forcedSingleStop-V.min),A.min=V.min,A.max=V.max,A.sequence=[V.forcedSingleStop],A;var L,R=0,B=0,N=9,W=P>0&&!V.hasFixedMin,F=P>0&&!V.hasFixedMax,U=V.getSize(),O=(0,i.mv)(U),x=(0,i.mv)(M[0]);if(O-=x,O-=(0,i.mv)(T),O=Math.max(O,D-x+1),0!==R){var K=(0,i.wA)(O),z=(0,i.cT)(V.min,K),H=(0,i.iD)(V.max,K),J=l.calculateFixedRange(z,H);J.shrinkByStep(V,R),B=J.min,N=J.max,L=Math.floor(J.getSize()/R)}else{var k;for(k=0;k<3;k++){for(var G=O+k,q=(0,i.wA)(G),Q=(0,i.cT)(V.min,q),Z=(0,i.iD)(V.max,q),X=M.length,re=(0,i.wA)(G-1),te=0;te<X;te++){var se=M[te]*re,Ve=l.calculateFixedRange(Q,Z,w);if(Ve.shrinkByStep(V,se),W&&V.min===Ve.min&&P>=1&&(Ve.min-=se),F&&V.max===Ve.max&&P>=1&&(Ve.max+=se),(L=(0,i.Eo)(Ve.getSize()/se,i.qO))<=T||2===k&&te===X-1||1===T&&2===L&&(se>V.getSize()||V.min<0&&V.max>0&&2*se>=V.getSize())){R=se,B=Ve.min,N=Ve.max;break}}if(0!==R)break}}(L>32*T||L>f.MAX_COUNT)&&(R=(N-B)/(L=Math.min(32*T,f.MAX_COUNT))),A.min=B,A.max=N,A.interval=R,A.intervalOffset=B-V.min,A.maxAllowedMargin=P,A.canExtendMin=W,A.canExtendMax=F;var ke=(0,i.p8)(R,0);A.precision=ke;var Ue=[],ot=(0,i.W0)(B,ke);Ue.push(ot);for(var ft=0;ft<L;ft++)ot=(0,i.W0)(ot+R,ke),Ue.push(ot);return A.sequence=Ue,A.trimMinMax(V.min,V.max),A}static calculateUnits(V,T,P,D){P=(0,i.QO)(P,f.MIN_COUNT,f.MAX_COUNT),V===T&&(T=V+1);var M=0;for(M of D)if((0,i.Eo)(T/M)-(0,i.Uy)(V/M)<=P)break;var B=-V;B%=M;var N=new f;N.sequence=[];for(var W=V+B;N.sequence.push(W),!(W>=T);W+=M);return N.interval=M,N.intervalOffset=B,N.min=N.sequence[0],N.max=N.sequence[N.sequence.length-1],N}trimMinMax(V,T){var P=(V-this.min)/this.interval,D=(this.max-T)/this.interval;(!this.canExtendMin||P>this.maxAllowedMargin&&P>.001)&&(this.min=V),(!this.canExtendMax||D>this.maxAllowedMargin&&D>.001)&&(this.max=T)}}return f.MIN_COUNT=1,f.MAX_COUNT=1e3,f})(),p=(()=>{class f{constructor(V){this.unit=V,this.sequence=[],this.min=new Date("9999-12-31T23:59:59.999Z"),this.max=new Date("0001-01-01T00:00:00.000Z")}add(V){V<this.min&&(this.min=V),V>this.max&&(this.max=V),this.sequence.push(V)}moveToCover(V,T){var P=f.getDelta(V,T,this.unit),D=Math.floor(P/this.interval);for(this.min=f.addInterval(this.min,D*this.interval,this.unit),this.sequence=[],this.sequence.push(this.min),this.max=this.min;this.max<T;)this.max=f.addInterval(this.max,this.interval,this.unit),this.sequence.push(this.max)}static calculate(V,T,P,D){switch(D||(D=f.getIntervalUnit(V,T,P)),D){case a.l.Year:return f.calculateYears(V,T,P);case a.l.Month:return f.calculateMonths(V,T,P);case a.l.Week:return f.calculateWeeks(V,T,P);case a.l.Day:return f.calculateDays(V,T,P);case a.l.Hour:return f.calculateHours(V,T,P);case a.l.Minute:return f.calculateMinutes(V,T,P);case a.l.Second:return f.calculateSeconds(V,T,P);case a.l.Millisecond:return f.calculateMilliseconds(V,T,P);default:r.f.assertFail("Unsupported DateTimeUnit")}}static calculateYears(V,T,P){r.f.assertValue(V,"dataMin"),r.f.assertValue(T,"dataMax"),r.f.assert(()=>!P||P>=f.MIN_COUNT&&P<=f.MAX_COUNT,"Expected count is out of range");var D=l.calculateDataRange(V.getFullYear(),T.getFullYear(),!1),w=n.calculate(l.calculate(0,D.max-D.min),P,0,null,null,[1,2,5]),M=Math.floor(D.min/w.interval)*w.interval,A=t.y3.fromDateParts(M,0,1);return f.fromNumericSequence(A,w,a.l.Year)}static calculateMonths(V,T,P){r.f.assertValue(V,"dataMin"),r.f.assertValue(T,"dataMax"),r.f.assert(()=>void 0===P||P>=f.MIN_COUNT&&P<=f.MAX_COUNT,"expected count is out of range");var D=V.getFullYear(),w=T.getFullYear(),M=V.getMonth(),A=12*(w-D)+T.getMonth(),R=t.y3.fromDateParts(D,0,1),B=n.calculateUnits(M,A,P,[1,2,3,6,12]);return f.fromNumericSequence(R,B,a.l.Month)}static calculateWeeks(V,T,P){r.f.assertValue(V,"dataMin"),r.f.assertValue(T,"dataMax"),r.f.assert(()=>void 0===P||P>=f.MIN_COUNT&&P<=f.MAX_COUNT,"expected count is out of range");var M=(V.getDay()-0+7)%7,A=V.getDate()-M,R=t.y3.fromDateParts(V.getFullYear(),V.getMonth(),A),N=(0,i.Eo)(f.getDelta(R,T,a.l.Week)),W=n.calculateUnits(0,N,P,[1,2,4,8]);return f.fromNumericSequence(R,W,a.l.Week)}static calculateDays(V,T,P){r.f.assertValue(V,"dataMin"),r.f.assertValue(T,"dataMax"),r.f.assert(()=>void 0===P||P>=f.MIN_COUNT&&P<=f.MAX_COUNT,"expected count is out of range");var D=t.y3.fromDateParts(V.getFullYear(),V.getMonth(),V.getDate()),M=(0,i.Eo)(f.getDelta(V,T,a.l.Day)),A=n.calculateUnits(0,M,P,[1,2,7,14]);return f.fromNumericSequence(D,A,a.l.Day)}static calculateHours(V,T,P){r.f.assertValue(V,"dataMin"),r.f.assertValue(T,"dataMax"),r.f.assert(()=>void 0===P||P>=f.MIN_COUNT&&P<=f.MAX_COUNT,"expected count is out of range");var D=t.y3.fromDateParts(V.getFullYear(),V.getMonth(),V.getDate()),w=(0,i.Uy)(f.getDelta(D,V,a.l.Hour)),M=(0,i.Eo)(f.getDelta(D,T,a.l.Hour)),A=n.calculateUnits(w,M,P,[1,2,3,6,12,24]);return f.fromNumericSequence(D,A,a.l.Hour)}static calculateMinutes(V,T,P){r.f.assertValue(V,"dataMin"),r.f.assertValue(T,"dataMax"),r.f.assert(()=>void 0===P||P>=f.MIN_COUNT&&P<=f.MAX_COUNT,"expected count is out of range");var D=t.y3.fromDateParts(V.getFullYear(),V.getMonth(),V.getDate(),V.getHours()),w=(0,i.Uy)(f.getDelta(D,V,a.l.Minute)),M=(0,i.Eo)(f.getDelta(D,T,a.l.Minute)),A=n.calculateUnits(w,M,P,[1,2,5,10,15,30,60,120,180,360,720,1440]);return f.fromNumericSequence(D,A,a.l.Minute)}static calculateSeconds(V,T,P){r.f.assertValue(V,"dataMin"),r.f.assertValue(T,"dataMax"),r.f.assert(()=>void 0===P||P>=f.MIN_COUNT&&P<=f.MAX_COUNT,"expected count is out of range");var D=t.y3.fromDateParts(V.getFullYear(),V.getMonth(),V.getDate(),V.getHours(),V.getMinutes()),w=(0,i.Uy)(f.getDelta(D,V,a.l.Second)),M=(0,i.Eo)(f.getDelta(D,T,a.l.Second)),A=n.calculateUnits(w,M,P,[1,2,5,10,15,30,60,120,300,600,900,1800,3600]);return f.fromNumericSequence(D,A,a.l.Second)}static calculateMilliseconds(V,T,P){r.f.assertValue(V,"dataMin"),r.f.assertValue(T,"dataMax"),r.f.assert(()=>void 0===P||P>=f.MIN_COUNT&&P<=f.MAX_COUNT,"expected count is out of range");var D=t.y3.fromDateParts(V.getFullYear(),V.getMonth(),V.getDate(),V.getHours(),V.getMinutes(),V.getSeconds()),w=f.getDelta(D,V,a.l.Millisecond),M=f.getDelta(D,T,a.l.Millisecond),A=n.calculate(l.calculate(w,M),P,0);return f.fromNumericSequence(D,A,a.l.Millisecond)}static addInterval(V,T,P){switch(T=Math.round(T),P){case a.l.Year:return function(f,b){var V=f.getFullYear(),T=f.getMonth(),P=f.getDate(),D=2===T&&29===P,w=t.y3.fromTimeValue(f.getTime());return V+=b,D&&!o(V)&&(P=28),w.setUTCFullYear(V,T,P),w}(V,T);case a.l.Month:return function(f,b){var V=f.getFullYear(),T=f.getMonth(),P=f.getDate(),D=t.y3.fromTimeValue(f.getTime());return V+=(b-b%12)/12,(T+=b%12)>11&&(T%=12,V++),P=Math.min(P,function(f,b){return o(f)?d[b]:s[b]}(V,T)),D.setUTCFullYear(V,T,P),D}(V,T);case a.l.Week:return function(f,b){return y(f,7*b)}(V,T);case a.l.Day:return y(V,T);case a.l.Hour:return function(f,b){return t.y3.fromTimeValue(f.getTime()+36e5*b)}(V,T);case a.l.Minute:return function(f,b){return t.y3.fromTimeValue(f.getTime()+6e4*b)}(V,T);case a.l.Second:return function(f,b){return t.y3.fromTimeValue(f.getTime()+1e3*b)}(V,T);case a.l.Millisecond:return function(f,b){return t.y3.fromTimeValue(f.getTime()+b)}(V,T)}}static fromNumericSequence(V,T,P){var D=new f(P);for(var w of T.sequence){var M=f.addInterval(V,w,P);D.add(M)}return D.interval=T.interval,D.intervalOffset=T.intervalOffset,D}static getDelta(V,T,P){var D=0;switch(P){case a.l.Year:D=T.getFullYear()-V.getFullYear();break;case a.l.Month:D=12*(T.getFullYear()-V.getFullYear())+T.getMonth()-V.getMonth();break;case a.l.Week:D=(T.getTime()-V.getTime())/6048e5;break;case a.l.Day:D=(T.getTime()-V.getTime())/864e5;break;case a.l.Hour:D=(T.getTime()-V.getTime())/36e5;break;case a.l.Minute:D=(T.getTime()-V.getTime())/6e4;break;case a.l.Second:D=(T.getTime()-V.getTime())/1e3;break;case a.l.Millisecond:D=T.getTime()-V.getTime()}return D}static getIntervalUnit(V,T,P){P=Math.max(P,2);var D=f.getDelta(V,T,a.l.Day);if(D>356&&D>=180*P)return a.l.Year;if(D>58&&D>7*P)return a.l.Month;if(D>14&&D>2*P)return a.l.Week;var w=f.getDelta(V,T,a.l.Hour);if(D>2&&w>12*P)return a.l.Day;if(w>=24&&w>=P)return a.l.Hour;var M=f.getDelta(V,T,a.l.Minute);if(M>2&&M>=P)return a.l.Minute;var A=f.getDelta(V,T,a.l.Second);if(A>2&&A>=.8*P)return a.l.Second;if(f.getDelta(V,T,a.l.Millisecond)>0)return a.l.Millisecond;var B=V;return 0!==B.getMilliseconds()?a.l.Millisecond:0!==B.getSeconds()?a.l.Second:0!==B.getMinutes()?a.l.Minute:0!==B.getHours()?a.l.Hour:1!==B.getDate()?a.l.Day:0!==B.getMonth()?a.l.Month:a.l.Year}}return f.MIN_COUNT=1,f.MAX_COUNT=1e3,f})(),s=[31,28,31,30,31,30,31,31,30,31,30,31],d=[31,29,31,30,31,30,31,31,30,31,30,31];function o(f){return f%4==0&&f%100!=0||f%400==0}function y(f,b){var V=f.getFullYear(),T=f.getMonth(),P=f.getDate(),D=t.y3.fromTimeValue(f.getTime());return D.setUTCFullYear(V,T,P+b),D}},301755:function(ve,j,e){e.d(j,{BV:function(){return y},Ms:function(){return C},iS:function(){return v},xe:function(){return S},z1:function(){return h}});var r=e(650543),i=e(221e3),a=e(370918),t=e(736165),g=1e15,n=1e-4,o=/^([0\#,]*\.[0\#]+|[0\#,]+|g)$/i,v=function(f){return f[f.Custom=-1]="Custom",f[f.Auto=0]="Auto",f[f.None=1]="None",f}({});class m{project(b){return this.value?(0,i.oI)(b/this.value):b}isApplicableTo(b){b=Math.abs(b);var V=(0,i.p8)(b,3);return(0,i.bA)(b,this.applicableRangeMin,V)&&(0,i.Po)(b,this.applicableRangeMax,V)}isScaling(){return this.value>1}}var c=(()=>{class f{constructor(V){this.units=V||[]}getUnits(V=!1){var T=_.clone(this.units);return V&&_.remove(T,P=>P.value===v.Auto),T}get title(){return this.displayUnit?this.displayUnit.title:void 0}update(V){void 0!==V&&(this.displayUnit=this.findApplicableDisplayUnit(V))}findApplicableDisplayUnit(V){for(var T of this.units)if(T.isApplicableTo(V))return T}format(V,T,P,D){r.f.assert(()=>"number"==typeof V,"value must be a number"),P=this.getNumberOfDecimalsForFormatting(P);var w="";return this.isFormatSupported(T)&&!this.hasScientificFormat(T)&&this.isScalingUnit()&&this.shouldRespectScalingUnit()&&(V=this.displayUnit.project(V),w=this.displayUnit.labelFormat),this.formatHelper(V,w,T,P,D)}isFormatSupported(V){return!f.UNSUPPORTED_FORMATS.test(V)}isPercentageFormat(V){return V&&V.indexOf("%")>=0}shouldRespectScalingUnit(){return!0}getNumberOfDecimalsForFormatting(V){return V}isScalingUnit(){return this.displayUnit&&this.displayUnit.isScaling()}formatHelper(V,T,P,D,w){if(("g"===P||"G"===P)&&null!=D&&(P=t.Pe),(P=(0,a.dc)(P,D,w))&&!a.dx.isStandardNumberFormat(P))return a.dx.formatNumberWithCustomOverride(V,P,T);P||(P="G"),T||(T="{0}");var M=a.dx.formatValue(V,P);return a.dx.format(T,[M])}formatSingleValue(V,T,P,D){return this.update(this.shouldUseValuePrecision(V)?(0,i.p8)(V,8):V),this.format(V,T,P,D)}shouldUseValuePrecision(V){if(0===this.units.length)return!0;var T=0;for(var P of this.units)if(P.isScaling()){T=P.applicableRangeMin;break}return Math.abs(V)<T}isScientific(V){return V<-g||V>g||-n<V&&V<n&&0!==V}hasScientificFormat(V){return V&&(-1!==V.toUpperCase().indexOf("E+")||-1!==V.toUpperCase().indexOf("E-"))}supportsScientificFormat(V){return!V||o.test(V)}shouldFallbackToScientific(V,T){return!this.hasScientificFormat(T)&&this.supportsScientificFormat(T)&&this.isScientific(V)}getScientificFormat(V,T,P,D){if(this.isFormatSupported(T)&&this.shouldFallbackToScientific(V,T)){var w=(0,a.IE)(V,T);return P&&(w=(0,a.dc)(w||"0",Math.abs(P),D)),w?w+"E+0":"0.##E+0"}return T}}return f.UNSUPPORTED_FORMATS=/^(p\d*)|(e\d*)$/i,f})();class C extends c{constructor(){super([])}}class y extends c{constructor(b){super(y.getUnits(b))}format(b,V,T,P){return V=this.getScientificFormat(b,V,T,P),super.format(b,V,T,P)}static reset(){y.units=null}static getUnits(b){return y.units||(y.units=E(b,(V,T,P)=>V-T>=1e3?V/10:P),y.units.length>=1&&(y.units[y.units.length-1].applicableRangeMax=1/0)),y.units}}class S extends c{constructor(b){super(S.getUnits(b))}static reset(){S.units=null}static getUnits(b){return S.units||(S.units=E(b),S.units.length>=1&&(S.units[S.units.length-1].applicableRangeMax=1/0)),S.units}format(b,V,T,P){return V=this.getScientificFormat(b,V,T,P),super.format(b,V,T,P)}}var h=(()=>{class f extends c{constructor(V){super(f.getUnits(V))}isFormatSupported(V){return!f.UNSUPPORTED_FORMATS.test(V)}static getUnits(V){if(!f.units){var T=[],P=(w,M,A)=>-1===w&&w-M>=1e3?w/10:A,D=V(-1);u(T,v.Auto,D.title,D.format,P),D=V(0),u(T,v.None,D.title,D.format,P),f.units=T.concat(E(V,P)),f.units.length>=1&&(f.units[f.units.length-1].applicableRangeMax=1/0)}return f.units}format(V,T,P,D){return T=this.getScientificFormat(V,T,P,D),super.format(V,T,P,D)}}return f.UNSUPPORTED_FORMATS=/^(e\d*)$/i,f})();function E(f,b){for(var V=[],T=3;T<24;T++){var P=f(T);P&&u(V,(0,i.wA)(T),P.title,P.format,b)}return V}function u(f,b,V,T,P){if(V||T){var D=b;if(f.length>0){var w=f[f.length-1];P&&(D=P(b,w.value,D)),w.applicableRangeMax=D}var M=new m;M.value=b,M.applicableRangeMin=D,M.applicableRangeMax=1e3*D,M.title=V,M.labelFormat=T,f.push(M)}}},271792:function(ve,j,e){e.d(j,{KO:function(){return t},Re:function(){return n},hU:function(){return l},t0:function(){return s},wj:function(){return g}});var r=e(999787),i=e(650543),a=e(370918),t=function(d){return d[d.Last=0]="Last",d[d.Current=1]="Current",d[d.Next=2]="Next",d}({}),l=function(d){return d[d.Second=0]="Second",d[d.Minute=1]="Minute",d[d.Hour=2]="Hour",d[d.Day=3]="Day",d[d.Week=4]="Week",d[d.CalendarWeek=5]="CalendarWeek",d[d.Month=6]="Month",d[d.CalendarMonth=7]="CalendarMonth",d[d.Year=8]="Year",d[d.CalendarYear=9]="CalendarYear",d}({}),g=function(d){return d[d.Unsupported=0]="Unsupported",d[d.Time=1]="Time",d[d.Date=2]="Date",d}({});function n(d){switch(d){case l.Minute:case l.Hour:return!0;default:return!1}}class s{static convertRelativeDateUnitToRelativeFilterType(o){switch(o){case l.Second:case l.Minute:case l.Hour:return g.Time;case l.Day:case l.Week:case l.CalendarWeek:case l.Month:case l.CalendarMonth:case l.Year:case l.CalendarYear:return g.Date;default:return void i.f.assertNever(o)}}static convertTimeUnitToRelativeFilterType(o){switch(o){case r.j1.Second:return g.Unsupported;case r.j1.Minute:case r.j1.Hour:return g.Time;case r.j1.Day:case r.j1.Week:case r.j1.Month:case r.j1.Year:case r.j1.Decade:return g.Date;default:return void i.f.assertNever(o)}}static getDateRange(o,v){switch(v.relativeUnit){case l.Minute:return this.getMinutesRange(o,v);case l.Hour:return this.getHoursRange(o,v);case l.Day:return this.getDaysRange(o,v);case l.Week:return this.getWeeksRange(o,v);case l.CalendarWeek:return this.getCalendarWeekRange(o,v);case l.Month:return this.getMonthRange(o,v);case l.CalendarMonth:return this.getCalendarMonthRange(o,v);case l.Year:return this.getYearRange(o,v);case l.CalendarYear:return this.getCalendarYearRange(o,v);default:return void i.f.assertFail("Unexpected RelativeDateUnit: "+v.relativeUnit)}}static getMinutesRange(o,v){var m={min:null,max:null};switch(v.relativeQualifier){case t.Last:m.min=new Date(o.valueOf()-6e4*v.duration),m.max=o;break;case t.Current:m.min=new Date(Date.UTC(o.getUTCFullYear(),o.getUTCMonth(),o.getUTCDate(),o.getUTCHours(),o.getUTCMinutes(),0)),m.max=new Date(Date.UTC(o.getUTCFullYear(),o.getUTCMonth(),o.getUTCDate(),o.getUTCHours(),o.getUTCMinutes(),59));break;case t.Next:m.min=o,m.max=new Date(o.valueOf()+6e4*v.duration)}return m}static getHoursRange(o,v){var m={min:null,max:null},c=36e5;switch(v.relativeQualifier){case t.Last:m.min=new Date(o.valueOf()-v.duration*c),m.max=o;break;case t.Current:m.min=new Date(Date.UTC(o.getUTCFullYear(),o.getUTCMonth(),o.getUTCDate(),o.getUTCHours(),0,0)),m.max=new Date(Date.UTC(o.getUTCFullYear(),o.getUTCMonth(),o.getUTCDate(),o.getUTCHours(),59,59));break;case t.Next:m.min=o,m.max=new Date(o.valueOf()+v.duration*c)}return m}static getDaysRange(o,v){var m={min:null,max:null};switch(v.relativeQualifier){case t.Last:m.max=v.includeToday?o:this.addDays(o,-1),m.min=this.addDays(m.max,1-v.duration);break;case t.Current:m.min=o,m.max=o;break;case t.Next:m.min=v.includeToday?o:this.addDays(o,1),m.max=this.addDays(m.min,v.duration-1)}return m}static getWeeksRange(o,v){var m={min:null,max:null};switch(v.relativeQualifier){case t.Last:m.max=v.includeToday?o:this.addDays(o,-1),m.min=this.addDays(m.max,-7*v.duration+1);break;case t.Current:m=this.getCalendarWeek(o);break;case t.Next:m.min=v.includeToday?o:this.addDays(o,1),m.max=this.addDays(m.min,7*v.duration-1)}return m}static getCalendarWeekRange(o,v){var m={min:null,max:null},c=o.getUTCDay();switch(v.relativeQualifier){case t.Last:var C=this.addDays(o,-c-1);m.min=this.addDays(C,-7*v.duration+1),m.max=C;break;case t.Current:m=this.getCalendarWeek(o);break;case t.Next:var y=this.addDays(o,7-c);m.min=y,m.max=this.addDays(y,7*v.duration-1)}return m}static getMonthRange(o,v){var m={min:null,max:null};switch(v.relativeQualifier){case t.Last:m.max=v.includeToday?o:this.addDays(o,-1),m.min=this.addMonths(m.max,-v.duration);break;case t.Current:m=this.getCalendarMonth(o);break;case t.Next:m.min=v.includeToday?o:this.addDays(o,1),m.max=this.addMonths(m.min,v.duration)}return m}static getCalendarMonthRange(o,v){var m={min:null,max:null};switch(v.relativeQualifier){case t.Last:m.min=new Date(Date.UTC(o.getUTCFullYear(),o.getUTCMonth()-v.duration,1)),m.max=new Date(Date.UTC(o.getUTCFullYear(),o.getUTCMonth(),0));break;case t.Current:m=this.getCalendarMonth(o);break;case t.Next:m.min=new Date(Date.UTC(o.getUTCFullYear(),o.getUTCMonth()+1,1)),m.max=new Date(Date.UTC(o.getUTCFullYear(),o.getUTCMonth()+1+v.duration,0))}return m}static getYearRange(o,v){var m={min:null,max:null};switch(v.relativeQualifier){case t.Last:m.max=v.includeToday?o:this.addDays(o,-1),m.min=this.addYears(m.max,-v.duration);break;case t.Current:m=this.getCalendarYear(o);break;case t.Next:m.min=v.includeToday?o:this.addDays(o,1),m.max=this.addYears(m.min,v.duration)}return m}static getCalendarYearRange(o,v){var m={min:null,max:null};switch(v.relativeQualifier){case t.Last:m.min=new Date(Date.UTC(o.getUTCFullYear()-v.duration,0,1)),m.max=new Date(Date.UTC(o.getUTCFullYear()-1,11,31));break;case t.Current:m=this.getCalendarYear(o);break;case t.Next:m.min=new Date(Date.UTC(o.getUTCFullYear()+1,0,1)),m.max=new Date(Date.UTC(o.getUTCFullYear()+v.duration,11,31))}return m}static getTimeRangeRestatement(o,v,m,c){return v?this.getDetailedTimeRestatement(m):this.getSimplifiedTimeRestatement(o,c)}static getDetailedTimeRestatement(o){return Math.abs(o.max.valueOf()-o.min.valueOf())/864e5>1||o.max.getUTCDate()!==o.min.getUTCDate()?a.dx.format("{0} - {1}",[o.min,o.max]):a.dx.format("{0:T} - {1:T}",[o.min,o.max])}static getSimplifiedTimeRestatement(o,v){switch(o.relativeQualifier){case t.Current:switch(o.relativeUnit){case l.Minute:return v("RelativeTimeRestatement_this_Minute");case l.Hour:return v("RelativeTimeRestatement_this_Hour");default:i.f.assertFail(`The following relative unit is not a relative time unit: ${o.relativeUnit}`)}break;case t.Last:switch(o.relativeUnit){case l.Minute:return 1===o.duration?v("RelativeTimeRestatement_last_Minute"):v("RelativeTimeRestatement_last_Minutes",o.duration);case l.Hour:return 1===o.duration?v("RelativeTimeRestatement_last_Hour"):v("RelativeTimeRestatement_last_Hours",o.duration);default:i.f.assertFail(`The following relative unit is not a relative time unit: ${o.relativeUnit}`)}break;case t.Next:switch(o.relativeUnit){case l.Minute:return 1===o.duration?v("RelativeTimeRestatement_next_Minute"):v("RelativeTimeRestatement_next_Minutes",o.duration);case l.Hour:return 1===o.duration?v("RelativeTimeRestatement_next_Hour"):v("RelativeTimeRestatement_next_Hours",o.duration);default:i.f.assertFail(`The following relative unit is not a relative time unit: ${o.relativeUnit}`)}break;default:i.f.assertFail(`The following is an Unsupported relativeQualifer: ${o.relativeQualifier}`)}return""}static getDateRangeRestatement(o){return a.dx.format("{0:d} - {1:d}",[o.min,o.max])}static getRestatement(o,v,m,c){var C;if(n(o.relativeUnit)?(i.f.assert(()=>!!c,"For Relative time restatement, anchor time should be defined"),C=c||new Date):C=new Date,o.anchorDate&&!n(o.relativeUnit)){var y=o.anchorDate;C=new Date(Date.UTC(y.getFullYear(),y.getMonth(),y.getDate(),y.getHours(),y.getMinutes(),y.getSeconds(),y.getMilliseconds()))}var S=this.getDateRange(C,o);return S.min.epochTimeStamp=S.min.getTime(),S.max.epochTimeStamp=S.max.getTime(),n(o.relativeUnit)?this.getTimeRangeRestatement(o,v,S,m):s.getDateRangeRestatement(S)}static addMinutes(o,v){return new Date(o.getFullYear(),o.getMonth(),o.getDate(),o.getHours(),o.getMinutes()+v,o.getSeconds())}static addHours(o,v){return new Date(o.getFullYear(),o.getMonth(),o.getDate(),o.getHours()+v,o.getMinutes(),o.getSeconds())}static addDays(o,v){return new Date(Date.UTC(o.getUTCFullYear(),o.getUTCMonth(),o.getUTCDate()+v))}static addMonths(o,v){if(0===v)return o;var C=o.getUTCDate()-(v>0?1:-1),y=new Date(Date.UTC(o.getUTCFullYear(),o.getUTCMonth()+v,C)),S=y.getUTCDate();if(C>0)if(S!==C&&v>0)y=new Date(Date.UTC(o.getUTCFullYear(),o.getUTCMonth()+v+1,0));else if(v<0){var h=new Date(Date.UTC(o.getUTCFullYear(),o.getUTCMonth(),C));(S!==C||h.getUTCMonth()!==o.getUTCMonth())&&(y=new Date(Date.UTC(o.getUTCFullYear(),o.getUTCMonth()+v+1,1)))}return y}static addYears(o,v){return this.addMonths(o,12*v)}static getDurationMax(o,v){if(o===t.Current)return 1;switch(v){case l.Year:case l.CalendarYear:return 100;case l.Month:case l.CalendarMonth:case l.CalendarWeek:case l.Week:return 1e3;default:return 1e4}}static getCalendarWeek(o){var v=o.getUTCDay(),m=this.addDays(o,-v);return{min:m,max:this.addDays(m,6)}}static getCalendarMonth(o){return{min:new Date(Date.UTC(o.getUTCFullYear(),o.getUTCMonth(),1)),max:new Date(Date.UTC(o.getUTCFullYear(),o.getUTCMonth()+1,0))}}static getCalendarYear(o){return{min:new Date(Date.UTC(o.getUTCFullYear(),0,1)),max:new Date(Date.UTC(o.getUTCFullYear(),11,31))}}}},762329:function(ve,j,e){e.d(j,{CH:function(){return C},Ch:function(){return k},E3:function(){return D},EO:function(){return U},G2:function(){return T},J6:function(){return c},KF:function(){return z},Ue:function(){return w},WU:function(){return M},X0:function(){return P},Ym:function(){return B},Z:function(){return S},aY:function(){return K},eU:function(){return I},g:function(){return R},h1:function(){return x},kA:function(){return A},p$:function(){return N},v1:function(){return O}});var r=e(333107),i=e(650543),a=e(221e3),t=e(84838),l=e(734531),g=e(657842),n=e(230343),p=e(370918),s=e(248505),d=e(55741),o=e(301755),v=e(736165);function c(G){C||(t.fM.information("allowFormatBeautification used",void 0,{key:G}),C=!0)}var C=!1;function S(G){return v.um[G]}var h={null:v.um.NullValue,true:v.um.BooleanTrue,false:v.um.BooleanFalse,NaN:v.um.NaNValue,infinity:v.um.InfinityValue,negativeInfinity:v.um.NegativeInfinityValue,beautify:G=>function(G){var q=v.A0[G];return q?(c(q),v.um[q]||G):G}(G),describe:G=>function(G){var q=-1===G?"Auto":G.toString(),X=v.um["DisplayUnitSystem_E"+q+"_Title"],re=G<=0?"{0}":v.um["DisplayUnitSystem_E"+q+"_LabelFormat"];if(X||re)return{title:X,format:re}}(G),restatementComma:v.um.RestatementComma,restatementCompoundAnd:v.um.RestatementCompoundAnd,restatementCompoundOr:v.um.RestatementCompoundOr},E=2,u=1e3,f=1e4,b=2,V={displayName:"",type:s.Ge.fromPrimitiveTypeAndCategory(r.M.DateTime)};function T(G){return(0,p.rH)(G)}function P(G){i.f.assertValue(G,"options"),h=G,o.BV.reset(),o.xe.reset()}function D(G,q=!1){var Q=q?h.beautify(G):G;return{format:function(Z){return null==Z?h.null:H(Z,Q)}}}function w(G){i.f.assertValue(G,"options");var q=G.allowFormatBeautification?h.beautify(G.format):G.format;if(function(G){var q=G.value,Q=G.value2,Z=G.format,X=G.columnType;if(G.formatSingleValues&&Z&&Math.abs(q)<f)if((0,p.iH)(Z)){if((0,a.U)(q))return!1}else if((0,p.rH)(Z,!0).precision<b)return!1;if("number"==typeof q||"number"==typeof Q)return!(X&&X.temporal&&X.temporal.year)}(G)){var Q=B(G.displayUnitSystemType),Z=!!G.formatSingleValues;Q.update(Math.max(Math.abs(G.value||0),Math.abs(G.value2||0)));var re,X=null!=G.precision;return X?re=-G.precision:Q.displayUnit&&Q.displayUnit.value>1&&(re=-E),{format:function(se){var Ve=J(se,!0);if(!(0,l.g)(Ve))return Ve;var ke=Number(se);return ke&&!Q.isScalingUnit()&&Math.abs(ke)<u&&!X&&(se=(0,a.W0)(ke)),Z?Q.formatSingleValue(ke,q,re,X):Q.format(ke,q,re,X)},displayUnit:Q.displayUnit,options:G}}if(function(G,q,Q){return G instanceof Date&&q instanceof Date&&null!=Q}(G.value,G.value2,G.tickCount)){var te=d.EP.getIntervalUnit(G.value,G.value2,G.tickCount);return{format:function(se){return null==se?h.null:H(se,p.dx.dateFormatString(te))},options:G}}return D(q)}function M(G,q,Q){return null==G?h.null:H(G,Q?h.beautify(q):q)}function A(G,q,Q,Z,X){return!(Q&&Q.type&&Q.type.dateTime)&&G instanceof Date?H(G,U(V,null,!1),X):H(G,I(q,Q,Z),X)}class R{constructor(q){i.f.assertValue(q,"createVariantMeasureFormatter - options"),i.f.assertValue(q.column,"createVariantMeasureFormatter - options.column"),i.f.assertValue(q.formatStringPropId,"createVariantMeasureFormatter - options.formatStringPropId"),this.options=q,this.columnFormatString=U(q.column,q.formatStringPropId,!1),this.isDateTimeColumn=q.column&&q.column.type&&q.column.type.dateTime,(null!=q.displayUnit&&1!==q.displayUnit||null!=q.precision)&&(this.displayUnitSystem=B(q.displayUnitSystemType),this.displayUnitSystem.update(q.displayUnit))}setDisplayUnitSystem(q,Q){null==q&&null==Q?this.displayUnitSystem=void 0:(this.displayUnitSystem=B(Q),this.displayUnitSystem.update(q))}format(q,Q){var Z=this.options;if(!this.isDateTimeColumn&&q instanceof Date)return H(q,U(V,null,!1),Z.nullsAreBlank);var re=this.columnFormatString;if(Q){var te=(0,n.NA)(Q,Z.formatStringPropId);null!=te&&(re=te)}if(this.displayUnitSystem&&"number"==typeof q&&null!=q){var se=Z.precision;return Z.defaultPrecisionForScaledValues&&null==(se=x(se,re))&&Z.displayUnit>1&&(se=E),Z.formatSingleValues?this.displayUnitSystem.formatSingleValue(q,re,se,Z.trailingZeroes):this.displayUnitSystem.format(q,re,se,Z.trailingZeroes)}return H(q,re,Z.nullsAreBlank)}}function B(G){if(null==G)return new o.BV(h.describe);switch(G){case g.V.Default:return new o.BV(h.describe);case g.V.WholeUnits:return new o.xe(h.describe);case g.V.Verbose:return new o.Ms;case g.V.DataLabels:return new o.z1(h.describe);default:return i.f.assertFail("Unknown display unit system type"),new o.BV(h.describe)}}function N(G=!1){return new o.z1(h.describe).getUnits(G)}function U(G,q,Q){if(G){if(q){var Z=(0,n.NA)(G.objects,q);if(Z)return Z}if(!Q&&G.type)return O(G.type)}}function O(G){return i.f.assertValue(G,"type must be defined"),G.dateTime?v.eF:G.integer?G.temporal&&G.temporal.year?"0":v.Bq:G.numeric?v.Pe:void 0}function x(G,q){if(i.f.assertAnyValue(q,"format"),void 0!==G)return G;if("g"!==q&&"G"!==q){if(q){var Q=(0,p.OQ)(q).positive,Z=(0,p.rH)(Q,!0);if(Z.hasDots)return Z.optionalPrecision?void 0:Z.precision}return 0}}function I(G,q,Q,Z){return(0,n.NA)(G,Q)||U(q,Q,Z)}function L(G,q){var Q;if(!G)return null;var Z=G.length;if(Z>0){Q=G[0];for(var X=Z-1,re=1,te=X;re<te;re++)Q=(0,l.W)(h.restatementComma,Q,G[re]);Z>1&&(Q=(0,l.W)(q,Q,G[X]))}else Q=null;return Q}function K(G){return L(G,h.restatementCompoundAnd)}function z(G){return L(G,h.restatementCompoundOr)}function H(G,q,Q){var Z=J(G,Q||!1);return(0,l.g)(Z)?p.dx.formatValue(G,q):Z}function J(G,q){return null==G&&q?h.null:!0===G?h.true:!1===G?h.false:"number"==typeof G&&isNaN(G)?h.NaN:G===Number.NEGATIVE_INFINITY?h.negativeInfinity:G===Number.POSITIVE_INFINITY?h.infinity:""}function k(G){return G?.displayUnit?.isScaling()}},736165:function(ve,j,e){e.d(j,{A0:function(){return l},Bq:function(){return r},Pe:function(){return i},eF:function(){return a},um:function(){return t}});var r="g",i="#,0.00",a="d",t={NullValue:"(Blank)",BooleanTrue:"True",BooleanFalse:"False",NaNValue:"NaN",InfinityValue:"+Infinity",NegativeInfinityValue:"-Infinity",RestatementComma:"{0}, {1}",RestatementCompoundAnd:"{0} and {1}",RestatementCompoundOr:"{0} or {1}",DisplayUnitSystem_EAuto_Title:"Auto",DisplayUnitSystem_E0_Title:"None",DisplayUnitSystem_E3_LabelFormat:"{0}K",DisplayUnitSystem_E3_Title:"Thousands",DisplayUnitSystem_E6_LabelFormat:"{0}M",DisplayUnitSystem_E6_Title:"Millions",DisplayUnitSystem_E9_LabelFormat:"{0}bn",DisplayUnitSystem_E9_Title:"Billions",DisplayUnitSystem_E12_LabelFormat:"{0}T",DisplayUnitSystem_E12_Title:"Trillions",Percentage:"#,0.##%",Percentage1:"#,0.#%",TableTotalLabel:"Total",Tooltip_HighlightedValueDisplayName:"Highlighted",Funnel_PercentOfFirst:"Percent of first",Funnel_PercentOfPrevious:"Percent of previous",Funnel_PercentOfFirst_Highlight:"Percent of first (highlighted)",Funnel_PercentOfPrevious_Highlight:"Percent of previous (highlighted)",GeotaggingString_Continent:"continent",GeotaggingString_Continents:"continents",GeotaggingString_Country:"country",GeotaggingString_Countries:"countries",GeotaggingString_State:"state",GeotaggingString_States:"states",GeotaggingString_City:"city",GeotaggingString_Cities:"cities",GeotaggingString_Town:"town",GeotaggingString_Towns:"towns",GeotaggingString_Province:"province",GeotaggingString_Provinces:"provinces",GeotaggingString_County:"county",GeotaggingString_Counties:"counties",GeotaggingString_Village:"village",GeotaggingString_Villages:"villages",GeotaggingString_Post:"post",GeotaggingString_Zip:"zip",GeotaggingString_Code:"code",GeotaggingString_Place:"place",GeotaggingString_Places:"places",GeotaggingString_Address:"address",GeotaggingString_Addresses:"addresses",GeotaggingString_Street:"street",GeotaggingString_Streets:"streets",GeotaggingString_Longitude:"longitude",GeotaggingString_Longitude_Short:"lon",GeotaggingString_Longitude_Short2:"long",GeotaggingString_Latitude:"latitude",GeotaggingString_Latitude_Short:"lat",GeotaggingString_PostalCode:"postal code",GeotaggingString_PostalCodes:"postal codes",GeotaggingString_ZipCode:"zip code",GeotaggingString_ZipCodes:"zip codes",GeotaggingString_Territory:"territory",GeotaggingString_Territories:"territories"},l={"0.00 %;-0.00 %;0.00 %":"Percentage","0.0 %;-0.0 %;0.0 %":"Percentage1"}},958497:function(ve,j,e){e.d(j,{l:function(){return r}});var r=function(i){return i[i.Year=0]="Year",i[i.Month=1]="Month",i[i.Week=2]="Week",i[i.Day=3]="Day",i[i.Hour=4]="Hour",i[i.Minute=5]="Minute",i[i.Second=6]="Second",i[i.Millisecond=7]="Millisecond",i}({})},547353:function(ve,j,e){e.d(j,{$n:function(){return a},Iu:function(){return d},dp:function(){return s}});var r=e(650543),i=e(391967);function a(S,h){if(S.matrix||r.f.assert(()=>(0,i.C0)(S.metadata,h.metadata),"Cannot merge data views with different metadata columns"),h.metadata.segment?S.metadata.segment=h.metadata.segment:delete S.metadata.segment,S.table&&h.table&&function(S,h){if(r.f.assertValue(S,"source"),r.f.assertValue(h,"segment"),!_.isEmpty(h.rows)){var E=h.lastMergeIndex+1;g(S.rows,h.rows,E),r.f.assert(()=>!S.identity==!h.identity,"The existence of identity in the new segment is different than the source"),h.identity&&g(S.identity,h.identity,E)}}(S.table,h.table),S.categorical&&h.categorical&&function(S,h){if(r.f.assertValue(S,"source"),r.f.assertValue(h,"segment"),r.f.assert(()=>_.size(S.categories)===_.size(h.categories),"pre-condition: source categories and segment categories should have the same length"),r.f.assert(()=>_.every(S.categories,D=>S.categories[0].identity===D.identity),"pre-condition: the identity property of all category columns are expected to be the same array object"),!_.isEmpty(S.categories)&&!_.isEmpty(h.categories)){for(var E=h.lastMergeIndex+1,u=h.categories.length,f=function(){var D=h.categories[b],w=S.categories[b];r.f.assert(()=>(0,i.Mw)(w.source,D.source),"Source and segment category have different sources."),r.f.assert(()=>void 0!==w.values||void 0===w.identity,"Source category is missing values but has identities."),D.values&&g(w.values,D.values,E)},b=0;b<u;b++)f();h.categories[0].identity&&g(S.categories[0].identity,h.categories[0].identity,E)}if(S.values&&h.values){var V=h.values.length;r.f.assert(()=>S.values.length===V,"Source and segment values have different lengths.");for(var T=function(){var D=h.values[P],w=S.values[P];r.f.assert(()=>(0,i.Mw)(w.source,D.source),"Source and segment value have different sources."),!w.values&&D.values&&(w.values=[]);var M=h.lastMergeIndex+1;D.values&&g(w.values,D.values,M),D.highlights&&g(w.highlights,D.highlights,M)},P=0;P<V;P++)T()}}(S.categorical,h.categorical),S.tree&&h.tree&&n(S.tree.root,h.tree.root,!0),S.matrix&&h.matrix){r.f.assertValue(S.matrix.rows,"source.matrix.rows"),r.f.assertValue(S.matrix.rows.levels,"source.matrix.rows.levels"),r.f.assertValue(h.matrix.rows,"segment.matrix.rows"),r.f.assertValue(h.matrix.rows.levels,"segment.matrix.rows.levels"),r.f.assertValue(S.metadata,"source.metadata"),r.f.assertValue(S.metadata.columns,"source.metadata.columns"),r.f.assertValue(h.metadata,"segment.metadata"),r.f.assertValue(h.metadata.columns,"segment.metadata.columns");var E=S.matrix.rows.levels.length,u=h.matrix.rows.levels.length;if(E>u)_.remove(S.metadata.columns,T=>null!=T.index&&!_.some(h.metadata.columns,P=>P.index===T.index)),S.metadata.columns.length=h.metadata.columns.length,function(S,h){var E=h.levels.length;S.levels.length=E,r.f.assert(()=>_.isEqual(S.levels,h.levels),"Segments have different levels");var u=[];for(var f of(C(S.root.children,E-1,u),u))v(f)}(S.matrix.rows,h.matrix.rows);else if(E<u){var f=_.filter(h.metadata.columns,T=>null!=T.index&&!_.some(S.metadata.columns,P=>P.index===T.index)),b=0;for(var V of f){for(;b<S.metadata.columns.length&&(null==S.metadata.columns[b].index||S.metadata.columns[b].index<V.index);)b++;S.metadata.columns.splice(b,0,V)}!function(S,h){for(var E=h.levels.length,u=S.levels.length,f=u;f<E;f++)S.levels.push(h.levels[f]);r.f.assert(()=>_.isEqual(S.levels,h.levels),"Segments have different levels");var b=[];for(var V of(C(S.root.children,u-1,b),b))c(V,u);(function(S,h){for(var E=S.root,u=0;u<h;u++)if(_.isEmpty(E.children)||(r.f.assertValue(E=E.children[0],"Segment has fewer levels than expected"),!E.isMerge||E.isSubtotal))return!1;return!0})(h,u)&&delete _.last(b).children}(S.matrix.rows,h.matrix.rows)}n(S.matrix.rows.root,h.matrix.rows.root,E!==u)}}function g(S,h,E){if(E>=h.length)return h;var u=[];return void 0!==E&&(u=h.splice(0,E)),Array.prototype.push.apply(S,h),u}function n(S,h,E){if(r.f.assertValue(S,"sourceRoot"),r.f.assertValue(h,"segmentRoot"),h.children&&0!==h.children.length){if(E&&(!S.children||0===S.children.length))return void(S.children=h.children);r.f.assert(()=>S.children&&S.children.length>=0,"Source tree has different structure than segment.");var u=p(h.children),f=S.children[S.children.length-1],b=g(S.children,h.children,u);b.length>0&&n(f,b[b.length-1],E)}}function p(S){if(0===S.length)return 0;for(var h=0;h<S.length&&S[h].isMerge;h++);return h}function s(S,h){var E;for(var u of(r.f.assertValue(S,"dataViewMerger.pruneTree - root"),r.f.assertNonEmpty(h,"dataViewMerger.pruneTree - Zero-depth index"),h)){if(E=S.children,_.isEmpty(E))return!0;if(u>=E.length)return!1;E.length=u+1,S=_.last(E)}return!0}function d(S,h){var E=S.children;r.f.assertNonEmpty(S.children,"Empty segment");for(var u=0,f=!0;!_.isEmpty(E);){var b=p(E);if(b>=E.length)f=!0;else{var V=E.length-b;f?void 0===h[u]?h[u]=V-1:h[u]+=V:h[u]=V-1,f=!1}E=_.last(E).children,u++}u<h.length&&(h.length=u)}function v(S){if(!_.isEmpty(S.children)){var h=_.find(S.children,E=>E.isSubtotal);h&&(S.values=h.values),delete S.children,delete S.childIdentityFields}}function c(S,h){S.isSubtotal||(r.f.assert(()=>S.level===h-1,"Leaf was found on a non-last level"),r.f.assert(()=>0===_.size(S.children),"Node has children"),S.children=[{isSubtotal:!0,level:h,values:S.values}],delete S.values)}function C(S,h,E){for(var u of(r.f.assertValue(S,"nodes"),S))u.isSubtotal||(u.level===h?E.push(u):!_.isEmpty(u.children)&&void 0!==u.level&&u.level<h&&C(u.children,h,E))}},257226:function(ve,j,e){e.d(j,{Y:function(){return s},dw:function(){return d},l0:function(){return p}});var r=e(650543),i=e(16990),a=e(191282),t=e(402623),l=e(391967),g=e(762329),n=function(o){return o[o.Contains=0]="Contains",o[o.Equals=1]="Equals",o}({});class p{constructor(v,m,c){this.selector=p.ensureSelector(v),this.highlight=m,this._columnLevelKeys=new i.o(()=>{if(v)return(0,a.AZ)(v,!1)}),this._identityLevelKeys=new i.o(()=>{if(v)return(0,a.AZ)(v,!0)}),this.selectorsByColumn=c}static fromSelectorsByColumn(v){var m=(0,a.tV)(v);return new p(m,!1,v)}static fromSelectorsByColumnAndRoles(v,m){var c=(0,a.tV)(v),C=new p(c,!1,v);return C.role=m,C}equals(v){return this.selector&&v.selector?this.highlight===v.highlight&&(0,a.fS)(this.selector,v.selector):!this.selector==!v.selector&&this.highlight===v.highlight}static isEqual(v,m){return v===m||null!=v&&null!=m&&v.equals(m)}includes(v,m=!1,c=!1,C){var y=this;if(!v)return!1;var S=this.selector,h=v.selector;if(!S||!h)return!1;var E=S.data,u=h.data;if(!E&&S.metadata&&S.metadata!==h.metadata||!m&&this.highlight!==v.highlight)return!1;if(E){if(!u)return!1;if(E.length>0)if(C){for(var P,f=c?n.Contains:n.Equals,b=this.getComparisonTypeCache(C,f),V=this.isOrderIndependentComparison(f),T=function(){var N=E[D];if(!u.some(W=>y.runComparison(N,W,f,b,V)))return{v:!1}},D=0,w=E.length;D<w;D++)if(P=T())return P.v}else for(var A,M=function(){var N=E[R];if(c){var W=N.expr;if(!_.some(u,F=>(0,t.yz)(W,F)))return{v:!1}}else if(!u.some(F=>(0,t.fS)(N,F)))return{v:!1}},R=0,B=E.length;R<B;R++)if(A=M())return A.v}return!0}getKey(){return void 0===this._key&&(this._key=`{selector: ${this.selector?this.getSelectorKey():null}, highlight: ${this.highlight}}`),this._key}getDecomposedKeys(v){return v?this._identityLevelKeys.getValue():this._columnLevelKeys.getValue()}getKeyWithoutHighlight(){return void 0===this._keyWithoutHighlight&&(this._keyWithoutHighlight=`{selector: ${this.selector?this.getSelectorKey():null}}`),this._keyWithoutHighlight}hasIdentity(){return this.selector&&!!this.selector.data}getSelector(){return this.selector}getSelectorsByColumn(){return this.selectorsByColumn}getSelectorKey(){return void 0===this._selectorKey&&(this._selectorKey=(0,a.km)(this.selector)),this._selectorKey}runComparison(v,m,c,C,y){var S=this.extractComparisonFromCache(v,m,C);if(void 0===S){switch(c){case n.Contains:S=(0,t.yz)(v.expr,m);break;case n.Equals:S=(0,t.fS)(v,m);break;default:r.f.assertNever(c)}this.addComparisonToCache(v,m,S,C,y)}return S}extractComparisonFromCache(v,m,c){if(c){var C=c[v.key];if(C)return C[m.key]}}addComparisonToCache(v,m,c,C,y){if(C){var S=C[v.key];if(S||(S=C[v.key]={}),S[m.key]=c,y){var h=C[m.key];h||(h=C[m.key]={}),h[v.key]=c}}}getComparisonTypeCache(v,m){switch(m){case n.Contains:return v.containsComparisonCache;case n.Equals:return v.equalsComparisonCache;default:r.f.assertNever(m)}}isOrderIndependentComparison(v){switch(v){case n.Contains:case n.Equals:return!0;default:r.f.assertNever(v)}}static createNull(v=!1){return new p(null,v)}static createWithId(v,m=!1){var c=null;return v&&(c={data:[v]}),new p(c,m)}static createWithMeasure(v,m=!1){r.f.assertValue(v,"measureId");var C=new p({metadata:v},m);return C.selectorsByColumn={metadata:[v]},C}static createWithIdAndMeasure(v,m,c=!1){var C={};return v&&(C.data=[v]),m&&(C.metadata=m),!v&&!m&&(C=null),new p(C,c)}static createWithIdAndMeasureAndCategory(v,m,c,C=!1,y=[]){var S=this.createWithIdAndMeasure(v,m,C);return S.selector&&(S.selectorsByColumn={},v&&c&&(S.selectorsByColumn.dataMap={},S.selectorsByColumn.dataMap[c]=[v]),m&&(S.selectorsByColumn.metadata=[m]),_.isEmpty(y)||(S.selectorsByColumn.valueDetails=y)),S}static createWithIds(v,m,c=!1){var C=null,y=p.idArray(v,m);return y&&(C={data:y}),new p(C,c)}static createWithIdsAndMeasure(v,m,c,C=!1){var y={},S=p.idArray(v,m);return S&&(y.data=S),c&&(y.metadata=c),!v&&!m&&!c&&(y=null),new p(y,C)}static createWithSelectorForColumnAndMeasure(v,m,c=!1,C=[]){var y={};_.isEmpty(v)||(y.dataMap=v),m&&(y.metadata=[m]),!v&&!m&&(y=null),_.isEmpty(C)||(y.valueDetails=C);var S=(0,a.tV)(y);return new p(S,c,y)}static createWithSelectorForColumnAndMeasures(v,m,c,C=!1){var y={};_.isEmpty(v)||(y.dataMap=v),_.isEmpty(m)||(y.metadata=m),c&&(y.valueDetails=c),!v&&_.isEmpty(m)&&(y=null);var S=(0,a.tV)(y);return new p(S,C,y)}static createWithHighlight(v){r.f.assertValue(v,"original"),r.f.assert(()=>!v.highlight,"!original.highlight");var m=new p(v.getSelector(),!0);return m.selectorsByColumn=v.selectorsByColumn,m}static idArray(v,m){if(v||m){var c=[];return v&&c.push(v),m&&m!==v&&c.push(m),c}}static ensureSelector(v){return v&&v.data&&(v.data=_.uniqWith(v.data,a.cY)),v}}function s(o,v,m){var C,c=o.format;return{expr:o.expr,get formattedValue(){return void 0===C&&(C=(0,g.WU)(v,c)),C},value:v,identity:m,queryName:o.queryName}}class d{static builder(){return new d}withColumnIdentity(v,m,c){return this.addItemToDataMap(m,v),c&&(this.ensureValueDetails(),this.valueDetails.push(...c)),this}withCategoryIdentity(v,m,c){return v&&v.source&&v.source.queryName&&(this.ensureValueDetails(),this.valueDetails.push(s(v.source,v.values[m],v.identity[m])),this.addItemToDataMap(v.source.queryName,c)),this}withCategory(v,m,c,C=!1){if((0,l.rX)(v)){if(C&&c)for(var y of v)this.addCategoryValueDetails(y,m);v[0]&&c&&v[0].identity&&this.addItemToDataMap(c,v[0].identity[m])}else C&&this.addCategoryValueDetails(v,m),v&&v.source&&v.source.queryName&&v.identity&&this.addItemToDataMap(v.source.queryName,v.identity[m]);return this}addCategoryValueDetails(v,m){v&&v.source&&v.source.queryName&&v.identity&&(this.ensureValueDetails(),this.valueDetails.push(s(v.source,v.values[m],v.identity[m])))}withSeries(v,m,c=!1){return v&&v.source&&v.source.queryName&&m&&(c&&(0,l.F)(m)&&(this.ensureValueDetails(),this.valueDetails.push(s(v.source,m.name,m.identity))),this.addItemToDataMap(v.source.queryName,m.identity)),this}withMeasure(v,m,c){if(this.ensureMeasures(),null!=v&&this.measures.push(v),m&&m.source.queryName===v)if(this.ensureValueDetails(),c>=0)this.valueDetails.push(s(m.source,m.values[c],void 0));else for(var C of m.values)this.valueDetails.push(s(m.source,C,void 0));return this}withMeasures(v){for(var m of(this.ensureMeasures(),v))this.measures.push(m);return this}createSelectionId(){return p.createWithSelectorForColumnAndMeasures(this.dataMap,this.measures,this.valueDetails)}clone(){var v=new d,m=this.dataMap;if(m){var c=v.dataMap={};for(var C in this.dataMap)c[C]=[...m[C]||[]]}return this.measures&&(v.measures=[...this.measures||[]]),v}ensureMeasures(){void 0===this.measures&&(this.measures=[])}ensureValueDetails(){void 0===this.valueDetails&&(this.valueDetails=[])}addItemToDataMap(v,m){if(m){this.dataMap||(this.dataMap={});var c=this.dataMap,C=c[v];if(null==C)return void(c[v]=[m]);C.push(m)}}}},62396:function(ve,j,e){e.d(j,{K0:function(){return t},bw:function(){return i},cN:function(){return r},sc:function(){return a}});var r=function(l){return l[l.invalidAggregateFunction=0]="invalidAggregateFunction",l[l.invalidSchemaReference=1]="invalidSchemaReference",l[l.invalidEntityReference=2]="invalidEntityReference",l[l.invalidColumnReference=3]="invalidColumnReference",l[l.invalidGroupingColumnReference=4]="invalidGroupingColumnReference",l[l.invalidMeasureReference=5]="invalidMeasureReference",l[l.invalidHierarchyReference=6]="invalidHierarchyReference",l[l.invalidHierarchyLevelReference=7]="invalidHierarchyLevelReference",l[l.invalidVariationReference=8]="invalidVariationReference",l[l.invalidLeftOperandType=9]="invalidLeftOperandType",l[l.invalidRightOperandType=10]="invalidRightOperandType",l[l.invalidValueType=11]="invalidValueType",l[l.invalidPercentileArgument=12]="invalidPercentileArgument",l[l.invalidPercentArgument=13]="invalidPercentArgument",l[l.invalidScopeArgument=14]="invalidScopeArgument",l[l.invalidTableReference=15]="invalidTableReference",l[l.invalidDiscretizeCount=16]="invalidDiscretizeCount",l[l.invalidFiltersForFilteredEval=17]="invalidFiltersForFilteredEval",l[l.invalidSubqueryReference=18]="invalidSubqueryReference",l}({}),i=function(l){return l[l.Default=0]="Default",l[l.Ordinal=1]="Ordinal",l}({}),a=function(l){return l[l.Entity=0]="Entity",l[l.SubqueryRef=1]="SubqueryRef",l[l.ColumnRef=2]="ColumnRef",l[l.MeasureRef=3]="MeasureRef",l[l.Aggregation=4]="Aggregation",l[l.PropertyVariationSource=5]="PropertyVariationSource",l[l.Hierarchy=6]="Hierarchy",l[l.HierarchyLevel=7]="HierarchyLevel",l[l.And=8]="And",l[l.Between=9]="Between",l[l.In=10]="In",l[l.Or=11]="Or",l[l.Contains=12]="Contains",l[l.Compare=13]="Compare",l[l.StartsWith=14]="StartsWith",l[l.Exists=15]="Exists",l[l.Not=16]="Not",l[l.Constant=17]="Constant",l[l.DateSpan=18]="DateSpan",l[l.DateAdd=19]="DateAdd",l[l.Now=20]="Now",l[l.AnyValue=21]="AnyValue",l[l.DefaultValue=22]="DefaultValue",l[l.Arithmetic=23]="Arithmetic",l[l.FillRule=24]="FillRule",l[l.ResourcePackageItem=25]="ResourcePackageItem",l[l.ScopedEval=26]="ScopedEval",l[l.WithRef=27]="WithRef",l[l.Percentile=28]="Percentile",l[l.RangePercent=29]="RangePercent",l[l.SelectRef=30]="SelectRef",l[l.TransformTableRef=31]="TransformTableRef",l[l.TransformOutputRoleRef=32]="TransformOutputRoleRef",l[l.ThemeDataColor=33]="ThemeDataColor",l[l.GroupRef=34]="GroupRef",l[l.Floor=35]="Floor",l[l.RoleRef=36]="RoleRef",l[l.AllRolesRef=37]="AllRolesRef",l[l.Discretize=38]="Discretize",l[l.NamedQueryRef=39]="NamedQueryRef",l[l.Member=40]="Member",l[l.FilteredEval=41]="FilteredEval",l[l.Conditional=42]="Conditional",l[l.NativeMeasure=43]="NativeMeasure",l[l.NativeColumn=44]="NativeColumn",l[l.SummaryValueRef=45]="SummaryValueRef",l[l.SparklineData=46]="SparklineData",l[l.NativeVisualCalc=47]="NativeVisualCalc",l[l.VisualTopN=48]="VisualTopN",l}({}),t=function(l){return l[l.FormatString=0]="FormatString",l}({})},765959:function(ve,j,e){e.d(j,{Fn:function(){return r},Ld:function(){return a},pg:function(){return i}});var r=function(t){return t[t.And=0]="And",t[t.Or=1]="Or",t[t.Undefined=2]="Undefined",t}({}),i=function(t){return t[t.None=0]="None",t[t.LessThan=1]="LessThan",t[t.LessThanOrEqual=2]="LessThanOrEqual",t[t.GreaterThan=3]="GreaterThan",t[t.GreaterThanOrEqual=4]="GreaterThanOrEqual",t[t.Contains=5]="Contains",t[t.DoesNotContain=6]="DoesNotContain",t[t.StartWith=7]="StartWith",t[t.DoesNotStartWith=8]="DoesNotStartWith",t[t.Is=9]="Is",t[t.IsNot=10]="IsNot",t[t.IsBlank=11]="IsBlank",t[t.IsNotBlank=12]="IsNotBlank",t[t.IsEmptyString=13]="IsEmptyString",t[t.IsNotEmptyString=14]="IsNotEmptyString",t}({}),a=function(t){return t[t.Column=0]="Column",t[t.Measure=1]="Measure",t[t.Exists=2]="Exists",t[t.Subquery=3]="Subquery",t[t.VisualTopN=4]="VisualTopN",t}({})},726988:function(ve,j,e){e.d(j,{$s:function(){return N},Hp:function(){return A},J1:function(){return F},Um:function(){return I},Vn:function(){return i},_6:function(){return W},gz:function(){return R},pV:function(){return L}});var r=e(650543);function i(H,J){return r.f.assertValue(H,"expr"),r.f.assertValue(J,"visitor"),r.f.assertValue(H,"expected sqExpr to conform to a fieldExprPattern"),H.column?function(H,J){return r.f.assertValue(H,"column"),r.f.assertValue(J,"visitor"),J.visitColumn(H)}(H.column,J):H.columnAggr?function(H,J){return r.f.assertValue(H,"columnAggr"),r.f.assertValue(J,"visitor"),J.visitColumnAggr(H)}(H.columnAggr,J):H.groupingColumn?function(H,J){return r.f.assertValue(H,"column"),r.f.assertValue(J,"visitor"),J.visitGroupingColumn(H)}(H.groupingColumn,J):H.groupingColumnAggr?function(H,J){return r.f.assertValue(H,"columnAggr"),r.f.assertValue(J,"visitor"),J.visitGroupingColumnAggr(H)}(H.groupingColumnAggr,J):H.columnHierarchyVariation?function(H,J){return r.f.assertValue(H,"columnHierarchyVariation"),r.f.assertValue(J,"visitor"),J.visitColumnHierarchyVariation(H)}(H.columnHierarchyVariation,J):H.columnHierarchyLevelVariation?function(H,J){return r.f.assertValue(H,"columnHierarchyLevelVariation"),r.f.assertValue(J,"visitor"),J.visitColumnHierarchyLevelVariation(H)}(H.columnHierarchyLevelVariation,J):H.columnSubquery?function(H,J){return r.f.assertValue(H,"columnSubquery"),r.f.assertValue(J,"visitor"),J.visitColumnSubquery(H)}(H.columnSubquery,J):H.columnAggrSubquery?function(H,J){return r.f.assertValue(H,"columnAggrSubquery"),r.f.assertValue(J,"visitor"),J.visitColumnAggrSubquery(H)}(H.columnAggrSubquery,J):H.columnTransformRef?function(H,J){return r.f.assertValue(H,"columnTransformRef"),r.f.assertValue(J,"visitor"),J.visitColumnTransformRef(H)}(H.columnTransformRef,J):H.entity?function(H,J){return r.f.assertValue(H,"entity"),r.f.assertValue(J,"visitor"),J.visitEntity(H)}(H.entity,J):H.entityAggr?function(H,J){return r.f.assertValue(H,"entityAggr"),r.f.assertValue(J,"visitor"),J.visitEntityAggr(H)}(H.entityAggr,J):H.hierarchy?function(H,J){return r.f.assertValue(H,"hierarchy"),r.f.assertValue(J,"visitor"),J.visitHierarchy(H)}(H.hierarchy,J):H.hierarchyLevel?function(H,J){return r.f.assertValue(H,"hierarchyLevel"),r.f.assertValue(J,"visitor"),J.visitHierarchyLevel(H)}(H.hierarchyLevel,J):H.hierarchyLevelAggr?function(H,J){return r.f.assertValue(H,"hierarchyLevelAggr"),r.f.assertValue(J,"visitor"),J.visitHierarchyLevelAggr(H)}(H.hierarchyLevelAggr,J):H.measure?function(H,J){return r.f.assertValue(H,"measure"),r.f.assertValue(J,"visitor"),J.visitMeasure(H)}(H.measure,J):H.percentile?function(H,J){return r.f.assertValue(H,"percentile"),r.f.assertValue(J,"visitor"),J.visitPercentile(H)}(H.percentile,J):H.percentOfGrandTotal?function(H,J){return r.f.assertValue(H,"percentOfGrandTotal"),r.f.assertValue(J,"visitor"),J.visitPercentOfGrandTotal(H)}(H.percentOfGrandTotal,J):H.percentOfRoleTotal?function(H,J){return r.f.assertValue(H,"percentOfRoleTotal"),r.f.assertValue(J,"visitor"),J.visitPercentOfRoleTotal(H)}(H.percentOfRoleTotal,J):H.selectRef?function(H,J){return r.f.assertValue(H,"selectRef"),r.f.assertValue(J,"visitor"),J.visitSelectRef(H)}(H.selectRef,J):H.transformOutputRoleRef?function(H,J){return r.f.assertValue(H,"transformOutputRoleRef"),r.f.assertValue(J,"visitor"),J.visitTransformOutputRoleRef(H)}(H.transformOutputRoleRef,J):H.filteredEval?function(H,J){return r.f.assertValue(H,"filteredEval"),r.f.assertValue(J,"visitor"),J.visitFilteredEval(H)}(H.filteredEval,J):H.arithmetic?function(H,J){return r.f.assertValue(H,"arithmetic"),r.f.assertValue(J,"visitor"),J.visitArithmetic(H)}(H.arithmetic,J):H.constant?function(H,J){return r.f.assertValue(H,"constant"),r.f.assertValue(J,"visitor"),J.visitConstant(H)}(H.constant,J):H.sparklineData?function(H,J){return r.f.assertValue(H,"sparkline"),r.f.assertValue(J,"visitor"),J.visitSparklineData(H)}(H.sparklineData,J):H.nativeVisualCalc?function(H,J){return r.f.assertValue(H,"nativeVisualCalc"),r.f.assertValue(J,"visitor"),J.visitNativeVisualCalc(H)}(H.nativeVisualCalc,J):void r.f.assertFail("failed to visit a fieldExprPattern.")}function A(H){var J=i(H,z.instance);return r.f.assert(()=>!J||1===_.size(J),"If there are more than 1 property names, then use getPropertyNames instead"),J?.[0]}function R(H){return i(H,z.instance)}function N(H){return H.columnHierarchyLevelVariation?H.columnHierarchyLevelVariation.source:H.column||H.groupingColumn||H.groupingColumnAggr||H.measure||H.columnAggr}function W(H){return A(H)||I(H).entity}function F(H){var J=function(H){r.f.assertValue(H,"fieldExpr");var J=L(H);return r.f.assertAnyValue(J,"expected fieldExpr to be an entity item"),_.isEmpty(J)?void 0:_.map(J,k=>k.schema)}(H);return r.f.assert(()=>!J||1===_.size(J),"If there are more than 1 schema, then use getSchemas instead"),J?.[0]}function I(H){var J=i(H,K.instance);return r.f.assert(()=>!J||1===_.size(J),"If there are more than 1 entity, then use toFieldExprEntityItemPatterns instead"),J?.[0]}function L(H){return i(H,K.instance)}var K=(()=>{class H{visitColumn(k){return[H.toEntityItemExprPattern(k)]}visitColumnAggr(k){return[H.toEntityItemExprPattern(k)]}visitGroupingColumn(k){return[H.toEntityItemExprPattern(k)]}visitGroupingColumnAggr(k){return[H.toEntityItemExprPattern(k)]}visitColumnHierarchyVariation(k){return[H.toEntityItemExprPattern(k.source)]}visitColumnHierarchyLevelVariation(k){return[H.toEntityItemExprPattern(k.source)]}visitColumnSubquery(k){}visitColumnAggrSubquery(k){}visitColumnTransformRef(k){}visitEntity(k){return[H.toEntityItemExprPattern(k)]}visitEntityAggr(k){return[H.toEntityItemExprPattern(k)]}visitHierarchy(k){return[H.toEntityItemExprPattern(k)]}visitHierarchyLevel(k){return[H.toEntityItemExprPattern(k)]}visitHierarchyLevelAggr(k){return[H.toEntityItemExprPattern(k)]}visitMeasure(k){return[H.toEntityItemExprPattern(k)]}visitSelectRef(k){}visitPercentile(k){return i(k.arg,this)}visitPercentOfGrandTotal(k){return i(k.baseExpr,this)}visitPercentOfRoleTotal(k){return i(k.baseExpr,this)}visitTransformOutputRoleRef(k){}visitFilteredEval(k){return i(k.baseExpr,this)}visitArithmetic(k){var G=i(k.left,this),q=i(k.right,this),Q=G&&q?[...G,...q]:G??q;return _.isEmpty(Q)?void 0:Q}visitConstant(k){}visitSparklineData(k){return[...i(k.measure,this),..._.chain(k.grouping).map(G=>i(G,this)).flatten().value()]}visitNativeVisualCalc(k){}static toEntityItemExprPattern(k){r.f.assertValue(k,"exprPattern");var G={schema:k.schema,entity:k.entity};return k.entityVar&&(G.entityVar=k.entityVar),G}}return H.instance=new H,H})(),z=(()=>{class H{visitColumn(k){return[k.name]}visitColumnAggr(k){return[k.name]}visitGroupingColumn(k){return[k.name]}visitGroupingColumnAggr(k){return[k.name]}visitColumnHierarchyVariation(k){}visitColumnHierarchyLevelVariation(k){}visitColumnSubquery(k){return[k.name]}visitColumnAggrSubquery(k){return[k.name]}visitColumnTransformRef(k){return[k.name]}visitEntity(k){}visitEntityAggr(k){}visitHierarchy(k){}visitHierarchyLevel(k){}visitHierarchyLevelAggr(k){}visitMeasure(k){return[k.name]}visitSelectRef(k){}visitPercentile(k){return i(k.arg,this)}visitPercentOfGrandTotal(k){return i(k.baseExpr,this)}visitPercentOfRoleTotal(k){return i(k.baseExpr,this)}visitTransformOutputRoleRef(k){}visitFilteredEval(k){return i(k.baseExpr,this)}visitArithmetic(k){var G=i(k.left,this),q=i(k.right,this),Q=G&&q?[...G,...q]:G??q;return _.isEmpty(Q)?void 0:Q}visitConstant(k){}visitSparklineData(k){return[...i(k.measure,this),..._.chain(k.grouping).map(G=>i(G,this)).flatten().value()]}visitNativeVisualCalc(k){return[k.name]}}return H.instance=new H,H})()},810331:function(ve,j,e){e.d(j,{P:function(){return s},Q:function(){return p}});var r=e(650543),i=e(914094),a=e(60978),t=e(962238),l=e(774452),g=e(579453),n=e(999787);function p(v,m){return v.accept(new s(m))}class s extends t.vq{constructor(m){super(),this.schema=m}visitColumnRef(m){var c=m.source.accept(d.instance);if(c){if(c.entity){var C=c.entity;return C.name=m.ref,{column:C}}if(c.subquery)return c.subquery.variable?{columnSubquery:{name:m.ref,subqueryRef:c.subquery.variable}}:{columnSubquery:{name:m.ref,subquery:c.subquery.query}};if(c.transform)return{columnTransformRef:{name:m.ref,transformTable:c.transform}}}}visitMeasureRef(m){var c=m.source.accept(d.instance);if(c&&c.entity){var C=c.entity;return C.name=m.ref,{measure:C}}}visitEntity(m){var c={schema:m.schema,entity:m.entity};return m.variable&&(c.entityVar=m.variable),{entity:c}}visitAggr(m){var c=m.arg.accept(this);if(c){if(c.column){var C=c.column;return C.aggregate=m.func,{columnAggr:C}}if(c.columnAggr){var y=c.columnAggr;return y.aggregate=m.func,{columnAggr:y}}if(c.groupingColumn){var S=c.groupingColumn;return S.aggregate=m.func,{groupingColumnAggr:S}}if(c.groupingColumnAggr){var h=c.groupingColumnAggr;return h.aggregate=m.func,{groupingColumnAggr:h}}if(c.hierarchyLevel){var E=c.hierarchyLevel;return E.aggregate=m.func,{hierarchyLevelAggr:E}}if(c.columnHierarchyLevelVariation){var u=c.columnHierarchyLevelVariation.level;return u.aggregate=m.func,{hierarchyLevelAggr:u}}if(c.columnSubquery){var f=c.columnSubquery;return f.aggregate=m.func,{columnAggrSubquery:f}}}var b=m.arg.accept(d.instance);if(b&&b.entity){var V=b.entity;return V.aggregate=m.func,{entityAggr:V}}}visitPercentile(m){return{percentile:{arg:m.arg.accept(this),k:m.k,exclusive:m.exclusive}}}visitGroupRef(m){var c=m.source.accept(d.instance);if(c&&c.entity){var C=c.entity;for(var y of(C.name=m.ref,C.groupedColumns=[],m.groupedExprs)){var S=y.accept(this);(S.column||S.groupingColumn||S.hierarchyLevel)&&C.groupedColumns.push(S)}return{groupingColumn:C}}}visitHierarchy(m){var c=m.arg.accept(d.instance);if(c){if(c.entity)return{hierarchy:{entity:c.entity.entity,name:m.hierarchy,schema:c.entity.schema}};if(c.variation&&c.variation.column){var C=c.variation;if((0,a.jc)(m.arg)){var y=m.arg;if((0,a.Lk)(y.arg)){var S=y.arg,h=this.schema.schema(C.column.schema).findTargetEntityOfVariation(S.entity,C.column.name,C.variationName);if(h)return{columnHierarchyVariation:{source:{...C.column},hierarchy:{schema:C.column.schema,entity:h.name,name:m.hierarchy},variationName:c.variation.variationName}}}}}}}visitHierarchyLevel(m){var c=m.arg.accept(o.instance);if(c){var C;if(c.hierarchy&&(C={entity:c.hierarchy.entity,schema:c.hierarchy.schema,name:c.hierarchy.name,level:m.level}),c.variation){if(this.schema){var y=c.variation,S=this.schema.schema(c.variation.column.schema).findTargetEntityOfVariation(C.entity,y.column.name,y.variationName);S&&(C.entity=S.name)}return{columnHierarchyLevelVariation:{source:{entity:c.variation.column.entity,schema:c.variation.column.schema,name:c.variation.column.name},level:C,variationName:c.variation.variationName}}}return{hierarchyLevel:C}}}visitArithmetic(m){if(!(0,a.g5)(m.right)||m.operator!==n.J4.Divide)return{arithmetic:{left:m.left.accept(this),right:m.right.accept(this),operator:m.operator}};var c=m.right.scope;return _.isEmpty(c)?{percentOfGrandTotal:{baseExpr:m.left.accept(this)}}:_.every(c,C=>(0,a.yL)(C))?{percentOfRoleTotal:{baseExpr:m.left.accept(this),roles:_.map(c,C=>C.role)}}:void 0}visitSelectRef(m){return{selectRef:{expressionName:m.expressionName}}}visitTransformOutputRoleRef(m){return{transformOutputRoleRef:{expressionName:m.role}}}visitFilteredEval(m){var c=_.map(m.filters,C=>{var y=(0,g.zz)(i.yl.fromSQFromAndSQFilters(new l.cL,[C]),this.schema);if(y)return r.f.assert(()=>1===y.length,"There are more than one filter pattern in this Semantic Filter"),y[0]});return{filteredEval:{baseExpr:m.expression.accept(this),filters:c}}}visitConstant(m){return{constant:{value:m.value,type:m.type}}}visitSparklineData(m){return{sparklineData:{measure:m.measure.accept(this),grouping:_.map(m.grouping,c=>c.accept(this))}}}visitNativeVisualCalc(m){return{nativeVisualCalc:{name:m.name,language:m.language,expression:m.expression}}}}var d=(()=>{class v extends t.vq{visitEntity(c){var C={schema:c.schema,entity:c.entity};return c.variable&&(C.entityVar=c.variable),{entity:C}}visitPropertyVariationSource(c){var C=c.arg;if((0,a.Lk)(C)){var y={schema:C.schema,entity:C.entity,name:c.property};return C.variable&&(y.entityVar=C.variable),{variation:{column:y,variationName:c.name}}}}visitSubqueryRef(c){return c.variable?{subquery:{variable:c.variable}}:{subquery:{query:c.query}}}visitTransformTableRef(c){return r.f.assertValue(c,"expr"),r.f.assertValue(c.source,"source"),{transform:{name:c?.source}}}}return v.instance=new v,v})(),o=(()=>{class v extends t.vq{visitHierarchy(c){var y,S,C=c.arg.accept(d.instance);return C.variation?(y={name:c.hierarchy,schema:C.variation.column.schema,entity:C.variation.column.entity},S=C.variation):y={name:c.hierarchy,schema:C.entity.schema,entity:C.entity.entity},{hierarchy:y,variation:S}}}return v.instance=new v,v})()},604481:function(ve,j,e){e.d(j,{$x:function(){return f},Bn:function(){return A},Gk:function(){return S},Ig:function(){return w},Mu:function(){return F},R$:function(){return E},SO:function(){return v},Sr:function(){return B},TI:function(){return h},U5:function(){return T},W2:function(){return b},_L:function(){return N},a4:function(){return R},bO:function(){return W},dR:function(){return c},fv:function(){return x},jS:function(){return M},lH:function(){return D},og:function(){return o},qP:function(){return u},tg:function(){return C},uT:function(){return I},vH:function(){return V},vf:function(){return P},ym:function(){return y}});var r=e(650543),i=e(442407),a=e(726988),t=e(810331),l=e(579453),g=e(765959),n=e(999787),p=e(60978),s=e(426313),d=e(548748);function o(z){var H=(0,a.Vn)(z,O.instance);return r.f.assertValue(H,"Failed to convert FieldExprPattern into SQExpr"),H}function v(z){var H={condition:(0,l.Vn)(z,m.instance)};return _.isEmpty(z.target)||(H.target=_.map(z.target,J=>o(J))),H}var m=(()=>{class z{visitIn(J){var k=(0,i.Sh)(_.map(J.args,G=>o(G)),_.map(J.values,G=>_.map(G,q=>(0,i.kQ)(q.value,q.type))));return J.not?(0,i.ff)(k):k}visitBetween(J){var k,G;if(J&&J.lower&&J.upper&&((0,l.ty)(J.lower)&&(0,l.ty)(J.upper)?(k=(0,i.uQ)(J.lower.unit,(0,i.CQ)(J.lower.value)),G=(0,i.uQ)(J.upper.unit,(0,i.CQ)(J.upper.value))):(0,l.gq)(J.lower)&&(0,l.gq)(J.upper)&&(k=(0,i.kQ)(J.lower.value,J.lower.type),G=(0,i.kQ)(J.upper.value,J.upper.type)),k&&G))return(0,i.vX)(o(J.arg),k,G)}visitRelativeDateRange(J){return(0,d.kW)({field:o(J.arg),options:J.options})}visitComposite(J){return null}visitTopN(J){return null}visitComplex(J){r.f.assertFail("cannot recreate complex patterns as SQExprs")}visitAdvanced(J){var k=J.logicalOperator,G=(0,l.kL)(J.left)?this.visitCompare(J.left):this.visitAdvanced(J.left),q=(0,l.kL)(J.right)?this.visitCompare(J.right):this.visitAdvanced(J.right);return k===g.Fn.And?(0,i.xD)(G,q):(0,i.or)(G,q)}visitCompare(J){var k=o(J.arg),G=this.getValueExpr(J.condition);if(G&&k)return this.expandExpr(J.filterOperator,G,k)}expandExpr(J,k,G){switch(J){case g.pg.Is:return(0,i.qu)(n.uu.Equal,G,k);case g.pg.IsNot:return(0,i.ff)((0,i.qu)(n.uu.Equal,G,k));case g.pg.IsBlank:return(0,i.qu)(n.uu.Equal,G,(0,i.IF)());case g.pg.IsNotBlank:return(0,i.ff)((0,i.qu)(n.uu.Equal,G,(0,i.IF)()));case g.pg.Contains:return(0,i.r3)(G,k);case g.pg.DoesNotContain:return(0,i.ff)((0,i.r3)(G,k));case g.pg.StartWith:return(0,i.Ny)(G,k);case g.pg.DoesNotStartWith:return(0,i.ff)((0,i.Ny)(G,k));case g.pg.GreaterThan:return(0,i.qu)(n.uu.GreaterThan,G,k);case g.pg.GreaterThanOrEqual:return(0,i.qu)(n.uu.GreaterThanOrEqual,G,k);case g.pg.LessThan:return(0,i.qu)(n.uu.LessThan,G,k);case g.pg.LessThanOrEqual:return(0,i.qu)(n.uu.LessThanOrEqual,G,k);case g.pg.IsEmptyString:return(0,i.qu)(n.uu.Equal,G,(0,i.fL)(""));case g.pg.IsNotEmptyString:return(0,i.ff)((0,i.qu)(n.uu.Equal,G,(0,i.fL)("")));default:r.f.assertFail("Not valid filter operator type.")}}getValueExpr(J){var k;return J.constant?k=(0,i.kQ)(J.constant.value,J.constant.type):J.dateSpan?k=(0,i.uQ)(J.dateSpan.unit,(0,i.CQ)(J.dateSpan.value)):J.defaultValue?r.f.assertFail("DefaultValue is not supported yet"):J.anyValue&&r.f.assertFail("AnyValue is not supported yet"),k}visitHierarchical(J){}visitVisualTopN(J){return new i.YX(J.itemCount)}}return z.instance=new z,z})();function c(z){return(0,i.m_)(C(z),z.aggregate)}function C(z){return(0,i.Oh)(h(z),z.name)}function y(z){return(0,i.m_)((0,i.Wp)(z.name,h(z),U(z.groupedColumns)),z.aggregate)}function S(z){return(0,i.Wp)(z.name,h(z),U(z.groupedColumns))}function h(z){return(0,i.nw)(z.schema,z.entity,z.entityVar)}function E(z){return(0,i.m_)(h(z),z.aggregate)}function u(z){var H=h(z.source),J=(0,i.yU)(H,z.variationName,z.source.name);return(0,i.bT)(J,z.hierarchy.name)}function f(z){var H=h(z.source),J=(0,i.yU)(H,z.variationName,z.source.name),k=(0,i.bT)(J,z.level.name);return(0,i.os)(k,z.level.level)}function b(z){return z.subqueryRef?(0,i.Oh)((0,i.v5)(z.subqueryRef),z.name):z.subquery?(0,i.Oh)((0,i.v5)(z.subquery),z.name):void 0}function V(z){return(0,i.m_)((0,i.Oh)((0,i.v5)(z.subqueryRef),z.name),z.aggregate)}function T(z){return(0,i.Oh)((0,i.GB)(z.transformTable.name),z.name)}function P(z){return(0,i.m_)(D(z),z.aggregate)}function D(z){return(0,i.os)(w(z),z.level)}function w(z){return(0,i.bT)(h(z),z.name)}function M(z){return(0,i.Y8)(o(z.left),o(z.right),z.operator)}function A(z){return(0,i.kQ)(z.value,z.type)}function R(z){return(0,i.Zy)(o(z.measure),_.map(z.grouping,H=>o(H)))}function B(z){return new i.Wr(z.name,z.language,z.expression)}function N(z){return r.f.assertValue(z,"fieldExpr"),(0,a.Vn)(z,L.instance)}function W(z){return r.f.assertValue(z,"fieldExpr"),(0,a.Vn)(z,K.instance)}function F(z){return(0,i.Oh)((0,i.nw)(z.schema,z.entity,z.entityVar),z.name)}function U(z){return _.map(z,H=>o(H))}var O=(()=>{class z{visitColumn(J){return C(J)}visitColumnAggr(J){return c(J)}visitGroupingColumn(J){return S(J)}visitGroupingColumnAggr(J){return y(J)}visitColumnHierarchyVariation(J){return u(J)}visitColumnHierarchyLevelVariation(J){return f(J)}visitColumnSubquery(J){return b(J)}visitColumnAggrSubquery(J){return V(J)}visitColumnTransformRef(J){return T(J)}visitEntity(J){return h(J)}visitEntityAggr(J){return E(J)}visitHierarchy(J){return w(J)}visitHierarchyLevel(J){return D(J)}visitHierarchyLevelAggr(J){return P(J)}visitMeasure(J){return(0,i.mv)(this.visitEntity(J),J.name)}visitPercentile(J){var k=o(J.arg);return(0,i.Pe)(k,J.k,J.exclusive)}visitPercentOfGrandTotal(J){var k=o(J.baseExpr);return(0,i.Y8)(k,(0,i.ed)(k,[]),n.J4.Divide)}visitPercentOfRoleTotal(J){var k=o(J.baseExpr);return(0,i.Y8)(k,(0,i.ed)(k,_.map(J.roles,G=>(0,i.Wu)(G))),n.J4.Divide)}visitSelectRef(J){return(0,i.xA)(J.expressionName)}visitTransformOutputRoleRef(J){return(0,i.hu)(J.expressionName)}visitFilteredEval(J){return(0,i.Xw)(o(J.baseExpr),_.map(J.filters,k=>v(k)))}visitArithmetic(J){return M(J)}visitConstant(J){return A(J)}visitSparklineData(J){return R(J)}visitNativeVisualCalc(J){return B(J)}}return z.instance=new z,z})();function x(z){return r.f.assertValue(z,"expr"),(0,p.lF)(z)&&(0,p.g5)(z.right)&&!_.isEmpty(z.right.scope)&&_.every(z.right.scope,H=>(0,p.yL)(H))}function I(z,H){if(r.f.assertValue(z,"expr"),!(0,p.lF)(z)||!(0,p.g5)(z.right))return!1;var J={percentOfGrandTotal:{baseExpr:z.left.accept(new t.P(H))}};return(0,s.fS)(z,o(J))}var L=(()=>{class z{visitColumn(J){}visitColumnAggr(J){return J.aggregate}visitGroupingColumn(J){}visitGroupingColumnAggr(J){return J.aggregate}visitColumnHierarchyVariation(J){}visitColumnHierarchyLevelVariation(J){}visitColumnSubquery(J){}visitColumnAggrSubquery(J){return J.aggregate}visitColumnTransformRef(J){}visitEntity(J){}visitEntityAggr(J){return J.aggregate}visitHierarchy(J){}visitHierarchyLevel(J){}visitHierarchyLevelAggr(J){return J.aggregate}visitMeasure(J){}visitSelectRef(J){}visitPercentile(J){}visitPercentOfGrandTotal(J){return(0,i._L)(o(J.baseExpr))}visitPercentOfRoleTotal(J){return(0,i._L)(o(J.baseExpr))}visitTransformOutputRoleRef(J){}visitFilteredEval(J){return(0,i._L)(o(J.baseExpr))}visitArithmetic(J){}visitConstant(J){r.f.assertFail("FieldExprPattern - Not expecting to be called")}visitSparklineData(J){}visitNativeVisualCalc(J){}}return z.instance=new z,z})(),K=(()=>{class z{visitColumn(J){return C(J)}visitColumnAggr(J){return c(J)}visitGroupingColumn(J){return S(J)}visitGroupingColumnAggr(J){return y(J)}visitColumnHierarchyVariation(J){return u(J)}visitColumnHierarchyLevelVariation(J){return f(J)}visitColumnSubquery(J){return b(J)}visitColumnAggrSubquery(J){return V(J)}visitColumnTransformRef(J){return T(J)}visitEntity(J){return h(J)}visitEntityAggr(J){return E(J)}visitHierarchy(J){return w(J)}visitHierarchyLevel(J){return D(J)}visitHierarchyLevelAggr(J){return P(J)}visitMeasure(J){return(0,i.mv)(this.visitEntity(J),J.name)}visitSelectRef(J){return(0,i.xA)(J.expressionName)}visitPercentile(J){return(0,a.Vn)((0,t.Q)(o(J.arg)),this)}visitPercentOfGrandTotal(J){return(0,a.Vn)((0,t.Q)(o(J.baseExpr)),this)}visitPercentOfRoleTotal(J){return(0,a.Vn)((0,t.Q)(o(J.baseExpr)),this)}visitTransformOutputRoleRef(J){return(0,i.hu)(J.expressionName)}visitFilteredEval(J){return(0,a.Vn)((0,t.Q)(o(J.baseExpr)),this)}visitArithmetic(J){return M(J)}visitConstant(J){r.f.assertFail("FieldExprPattern - Not expecting to be called")}visitSparklineData(J){return R(J)}visitNativeVisualCalc(J){return new i.Wr(J.name,J.language,J.expression)}}return z.instance=new z,z})()},300929:function(ve,j,e){e.d(j,{N:function(){return a}});var r=e(650543),i=e(962238);function a(l){r.f.assertValue(l,"expr");var g=new t;return l.accept(g),g.analyze()}class t extends i.PA{constructor(){super(),this.fieldsBeingFiltered=[]}analyze(){return{fieldsBeingFiltered:this.fieldsBeingFiltered,subqueryName:this.subqueryName}}visitColumnRef(g){this.fieldsBeingFiltered.push(g)}visitHierarchyLevel(g){this.fieldsBeingFiltered.push(g)}visitGroupRef(g){this.fieldsBeingFiltered.push(g)}visitSubqueryRef(g){g.variable?this.subqueryName=g.variable:r.f.assertFail("SubqueryRef with a inlined subquery not expected here")}visitAggr(g){this.fieldsBeingFiltered.push(g)}visitPropertyVariationSource(g){this.fieldsBeingFiltered.push(g)}visitMeasureRef(g){this.fieldsBeingFiltered.push(g)}}},850111:function(ve,j,e){e.d(j,{C:function(){return t},_:function(){return l}});var r=e(765959),i=e(650543),a=e(962238);function t(n){i.f.assertValue(n,"expr");var p=new g;return n.accept(p),p.analyze()}function l(n){i.f.assertValue(n,"expr");var p=new g;return n.accept(p),p.analyze().filterKind}class g extends a.PA{constructor(){super(),this.entityExprs={},this.filterKind=r.Ld.Column,this.isSubquery=!1}analyze(){return{entitiesByName:this.entityExprs,filterKind:this.isSubquery?r.Ld.Subquery:this.filterKind}}visitMeasureRef(p){this.filterKind=r.Ld.Measure,p.source.accept(this)}visitExists(p){this.filterKind=r.Ld.Exists,p.arg.accept(this)}visitAggr(p){this.filterKind=r.Ld.Measure,p.arg.accept(this)}visitSubqueryRef(p){this.isSubquery=!0}visitEntity(p){this.entityExprs[p.entity]=!0}visitVisualTopN(p){this.filterKind=r.Ld.VisualTopN}}},579453:function(ve,j,e){e.d(j,{G7:function(){return C},Vn:function(){return w},_f:function(){return b},gq:function(){return u},kL:function(){return m},ty:function(){return E},zz:function(){return c}});var r=e(60978),i=e(999787),a=e(650543),t=e(271792),l=e(442407),g=e(765959),n=e(62396),p=e(832573),s=e(810331),d=e(689813),o=e(548748),v=e(913101);function m(I){return void 0!==I.arg}function c(I,L){if(I){var K=I.where();if(K){var z=new D(L),H=I.from();return K.map(J=>{var k=z.tryMatchPattern(J,H);if(k){var G={condition:k};return _.isEmpty(J.target)||(G.target=_.map(J.target,q=>(0,s.Q)(q))),G}})}}}function C(I){if(function(I){return!!I.lower&&!!I.upper&&!!I.arg}(I))return function(I){if(I){var L,K;if(function(I){return void 0!==I.lower.unit}(I)){if(I.lower.unit!==I.upper.unit)return void a.f.assertFail("DateSpanPattern units should match");L={dateSpan:I.lower},K={dateSpan:I.upper}}else L={constant:I.lower},K={constant:I.upper};return{logicalOperator:g.Fn.And,left:{arg:I.arg,filterOperator:g.pg.GreaterThanOrEqual,condition:L},right:{arg:I.arg,filterOperator:g.pg.LessThanOrEqual,condition:K}}}}(I);var L=I.args;if(1===L.length){var z=I.not;return f(L[0],I.values,z?g.Fn.And:g.Fn.Or,z??!1)}}function E(I){return void 0!==I.unit}function u(I){return void 0!==!!I.type}function f(I,L,K,z){return 1===L.length?{arg:I,filterOperator:z?g.pg.IsNot:g.pg.Is,condition:{constant:L[0][0]}}:{logicalOperator:K,left:f(I,L.slice(0,(L.length+1)/2),K,z),right:f(I,L.slice((L.length+1)/2),K,z)}}function b(I){if(I)return m(I)?I.filterOperator!==g.pg.Is&&I.filterOperator!==g.pg.IsNot||!I.condition.constant?void 0:{args:[I.arg],values:[[I.condition.constant]],not:I.filterOperator===g.pg.IsNot}:V(I,I.logicalOperator)}function V(I,L){if(I&&I.logicalOperator===L){var K=[],z=[],H=T(I.left,L);if(H){K.push(...H.args),z.push(...H.values);var J=T(I.right,L);if(J){K.push(...J.args),z.push(...J.values);var k=K[0];if(K.every(G=>_.isEqual(G,k)))return{args:[K[0]],values:z,not:L===g.Fn.And}}}}}function T(I,L){var K=[],z=[];if(m(I)){if(!function(I,L){return I===g.Fn.And&&L===g.pg.IsNot||I===g.Fn.Or&&L===g.pg.Is}(L,I.filterOperator))return;K.push(I.arg),z.push([I.condition.constant])}else{var H=V(I,L);if(!H)return;K.push(...H.args),z.push(...H.values)}return{args:K,values:z}}class D{constructor(L){this.schema=L}tryMatchPattern(L,K){var z;if(a.f.assert(()=>void 0!==L,"There is no SQFilter for this Semantic filter"),z=this.matchTopN(L,K))return z;var H=L&&L.condition;if(H){if((z=this.tryMatchExpr(H,g.Fn.Undefined))||(z=this.tryMatchComplex(L,K)))return z;a.f.assert(()=>null==z,"There is no pattern that currently matches `expr`")}}tryMatchExpr(L,K){var z;if((z=this.matchBasicFilter(L))||(z=this.matchRelativeRange(L,t.wj.Date))||(z=this.matchRelativeRange(L,t.wj.Time))||(z=this.matchBetweenFilter(L))||(z=this.matchAdvanced(L))||(z=this.matchCompareOperator(L))||K!==g.Fn.Or&&(z=this.tryMatchHierarchical(L))||(z=this.matchComposite(L,K))||(z=this.matchVisualTopNFilter(L)))return z;a.f.assert(()=>null==z,"There is no pattern that currently matches `expr`")}tryMatchComplex(L,K){var z=(0,d.J)(L,K);if(z)return{complex:{args:_.map(z.fieldsBeingFiltered,H=>(0,s.Q)(H))}}}matchBasicFilter(L){var K=!1;if((0,r.Ym)(L)&&(K=!0,L=L.arg),(0,r.Hi)(L)&&!L.table&&L.values)return{in:{args:_.map(L.args,z=>(0,s.Q)(z)),values:_.map(L.values,z=>_.map(z,(H,J)=>({value:H.value,type:H.type}))),not:K}}}matchVisualTopNFilter(L){if((0,r.Hz)(L))return{visualTopN:{itemCount:L.itemCount}}}matchBetweenFilter(L){if((0,r.Kh)(L)){if((0,r.dZ)(L.lower)&&(0,r.dZ)(L.upper))return{between:{arg:(0,s.Q)(L.arg),lower:{value:L.lower.arg.value,unit:L.lower.unit},upper:{value:L.upper.arg.value,unit:L.upper.unit}}};if((0,r.VC)(L.lower)&&(0,r.VC)(L.upper))return{between:{arg:(0,s.Q)(L.arg),lower:{value:L.lower.value,type:L.lower.type},upper:{value:L.upper.value,type:L.upper.type}}}}}matchTopN(L,K){if(L&&K){var z=(0,v.J_)(L,K);if(z)return{topN:{fieldBeingFiltered:(0,s.Q)(z.fieldBeingFiltered),isTop:z.isTop,itemCount:z.itemCount,orderByField:(0,s.Q)(z.orderByField)}}}}matchRelativeRange(L,K){var z=(0,o.ym)(L,K);if(z)return{relativeDateRange:{arg:(0,s.Q)(z.field),options:z.options}}}matchCompareOperator(L){var K=L,z=!1;if((0,r.Ym)(L)&&(K=L.arg,z=!0),(0,r.$Q)(K)||(0,r.IS)(K)||(0,r.f8)(K)){var H=this.getValuePattern(K.left,K.right);if(H)return{compareOperator:{arg:(0,s.Q)(K.left),filterOperator:this.mapFromSQExprKindToFilterOperator(K,z),condition:H}}}}getValuePattern(L,K){if((0,r.dZ)(K)){var z=K.arg;if((0,r.VC)(z))return{dateSpan:{value:z.value,unit:K.unit}}}if((0,r.VC)(K))return{constant:{value:K.value,type:K.type}};if((0,r.FU)(K)){var H=p.m.getDefaultValue(L,this.schema);return{defaultValue:{value:H.value,type:H.type}}}return(0,r.cw)(K)?{anyValue:{}}:void 0}matchAdvanced(L){if((0,r.un)(L)||(0,r.Z8)(L)){var K=(0,r.un)(L)?g.Fn.And:g.Fn.Or,z=this.matchAdvanced(L.left)||this.matchCompareOperator(L.left);if(z){var H=this.matchAdvanced(L.right)||this.matchCompareOperator(L.right);if(H)return{advancedOperator:{logicalOperator:K,left:z.advancedOperator||z.compareOperator,right:H.advancedOperator||H.compareOperator}}}}}mapFromSQExprKindToFilterOperator(L,K){var H=g.pg.None;switch(L.kind){case n.sc.Contains:H=K?g.pg.DoesNotContain:g.pg.Contains;break;case n.sc.StartsWith:H=K?g.pg.DoesNotStartWith:g.pg.StartWith;break;case n.sc.Compare:var J=L;J.comparison===i.uu.Equal?H=(0,r.VC)(J.right)&&null==J.right.value?K?g.pg.IsNotBlank:g.pg.IsBlank:(0,r.VC)(J.right)&&""===J.right.value?K?g.pg.IsNotEmptyString:g.pg.IsEmptyString:K?g.pg.IsNot:g.pg.Is:J.comparison===i.uu.GreaterThan?H=g.pg.GreaterThan:J.comparison===i.uu.GreaterThanOrEqual?H=g.pg.GreaterThanOrEqual:J.comparison===i.uu.LessThan?H=g.pg.LessThan:J.comparison===i.uu.LessThanOrEqual&&(H=g.pg.LessThanOrEqual);break;default:H=g.pg.None}return H}tryMatchHierarchical(L){var J,k,K=[],z=[],H={hierarchical:{included:K,excluded:z}};if(L instanceof l.uV){if(J=this.tryGetHierarchicalNode(L.left,!1)||this.tryGetHierarchicalNode(L.right,!1),k=this.tryGetHierarchicalNode(L.left,!0)||this.tryGetHierarchicalNode(L.right,!0),!J||!k)return}else if(J=this.tryGetHierarchicalNode(L,!1),k=this.tryGetHierarchicalNode(L,!0),!J&&!k)return;return J&&!this.matchHierarchicalNode(J,!1,K)||k&&!this.matchHierarchicalNode(k,!0,z)?void 0:H}tryGetHierarchicalNode(L,K){if(K){if(L instanceof l.v3){if(L.arg instanceof l.Xg||L.arg instanceof l.uV)return L.arg}else if(L instanceof l.uV)return L}else if(L instanceof l.Cc||L instanceof l.Xg)return L}matchHierarchicalNode(L,K,z){if(L instanceof l.Xg)return this.matchHierarchicalExpr(L,K,z);var H=this.tryGetHierarchicalNode(L,K);if(!H)return!1;a.f.assert(()=>H instanceof l.Cc||H instanceof l.uV,".matchHierarchicalNode does not expect any other expr type");var J=H;return this.matchHierarchicalExpr(J.left,K,z)&&this.matchHierarchicalExpr(J.right,K,z)}matchHierarchicalExpr(L,K,z){if(L instanceof l.Xg){var H=this.matchBasicFilter(L);return!!H&&(z.push(H.in),H.in.not=K,!0)}return this.matchHierarchicalNode(L,K,z)}matchComposite(L,K){var z=!1;(0,r.Ym)(L)&&(z=!0,L=L.arg);var H=(0,r.Z8)(L);if((!H||K!==g.Fn.And)&&((0,r.Z8)(L)||(0,r.un)(L))){var J=H?g.Fn.Or:g.Fn.And,k=this.tryMatchExpr(L.left,J),G=this.tryMatchExpr(L.right,J);if(k&&G)return{composite:{not:z,operator:J,filters:[k,G]}}}}}function w(I,L){a.f.assertValue(I,"filterPattern"),a.f.assertValue(L,"visitor");var K=I.condition;return K.in?function(I,L){return a.f.assertValue(I,"pattern"),a.f.assertValue(L,"visitor"),L.visitIn(I)}(K.in,L):K.between?function(I,L){return a.f.assertValue(I,"pattern"),a.f.assertValue(L,"visitor"),L.visitBetween(I)}(K.between,L):K.relativeDateRange?function(I,L){return a.f.assertValue(I,"pattern"),a.f.assertValue(L,"visitor"),L.visitRelativeDateRange(I)}(K.relativeDateRange,L):K.compareOperator?function(I,L){return a.f.assertValue(I,"pattern"),a.f.assertValue(L,"visitor"),L.visitCompare(I)}(K.compareOperator,L):K.advancedOperator?function(I,L){return a.f.assertValue(I,"pattern"),a.f.assertValue(L,"visitor"),L.visitAdvanced(I)}(K.advancedOperator,L):K.composite?function(I,L){return a.f.assertValue(I,"pattern"),a.f.assertValue(L,"visitor"),L.visitComposite(I)}(K.composite,L):K.topN?function(I,L){return a.f.assertValue(I,"pattern"),a.f.assertValue(L,"visitor"),L.visitTopN(I)}(K.topN,L):K.complex?function(I,L){return a.f.assertValue(I,"pattern"),a.f.assertValue(L,"visitor"),L.visitComplex(I)}(K.complex,L):K.hierarchical?function(I,L){return a.f.assertValue(I,"pattern"),a.f.assertValue(L,"visitor"),L.visitHierarchical(I)}(K.hierarchical,L):K.visualTopN?function(I,L){return a.f.assertValue(I,"pattern"),a.f.assertValue(L,"visitor"),L.visitVisualTopN(I)}(K.visualTopN,L):void a.f.assertFail("Failed to visit filterPattern")}},600843:function(ve,j,e){e.d(j,{F8:function(){return c},Gl:function(){return d},Qq:function(){return s},Xz:function(){return m},oJ:function(){return o}});var r=e(442407),i=e(402623),a=e(650543),t=e(962238),l=e(426313),g=e(333107),n=e(999787),p=e(990297);function s(h,E){var u=d(h,E,!1);if(u)return{isNot:_.some(u,f=>!f.selected),scopeIds:[_.map(u,f=>f.identity)]}}function d(h,E,u=!0){return v(h,E,!1,u)}function o(h,E,u=!0){return v(h,E,!0,u)}function v(h,E,u,f){a.f.assertValue(h,"filter"),a.f.assertValue(E,"fieldSQExprs"),a.f.assert(()=>E.length>0,"There should be at least 1 field expression.");var b=h.conditions();a.f.assert(()=>1===b.length,"There should be exactly 1 filter expression.");var V=b[0];if(V){var T=new C(E,f,V);if(V.accept(T))return u?T.getHierarchyResult():T.getResult()}}function m(h){a.f.assertValue(h,"identity");var E=h.expr.accept(new y);if(E)return E.value}function c(h){return a.f.assertValue(h,"identity"),h.expr.accept(new S)}class C extends t.vq{constructor(E,u,f){super(),this.supportsMultiLevelFilters=u,this.filter=f,this.isNot=!1,this.isAnd=!1,this.keyIndex=0,this.valueIndex=0,this.fieldExprs=[],this.groups=[],this.supportedGroups={};var b=0,V=0;for(var T of(this.values=[],E))if(a.f.assertNonEmpty(T,"FilterScopeIdsCollectorVisitor identities should not be empty."),!_.isEmpty(T)){var P=_.map(T,D=>(0,r.p7)(D));this.supportedGroups[V+=T.length]=!0,this.fieldExprs.push(...P||[]),this.groups.push(..._.map(T,D=>b)),b++}}getResult(){return this.addScopeId(),this.toFilterNode(this.values,{index:0})}getHierarchyResult(){return this.addScopeId(),this.toHierarchyScopeIdentityFilterNode(this.values)}toFilterNode(E,u){var f=[];for(var b of E)f.push({identity:b.identity,selected:b.selected,checked:b.checked,children:_.isEmpty(b.children)?void 0:this.toFilterNode(b.children,u),index:b.checked?u.index++:void 0});return f}toHierarchyScopeIdentityFilterNode(E){var u=[];for(var f of E)u.push({identity:f.identity,operator:f.checked?f.selected?"Selected":"NotSelected":"Inherited",children:_.isEmpty(f.children)?void 0:this.toHierarchyScopeIdentityFilterNode(f.children)});return u}static getScopeIdentity(E,u){a.f.assert(()=>u.length>0,"valueExprs has at least one valueExpr"),a.f.assert(()=>u.length===E.length,"fieldExpr and valueExpr count should match");for(var f,b=0,V=E.length;b<V;b++){var T=(0,r.Dg)(E[b],u[b]);f=f?(0,r.xD)(f,T):T}return(0,i.TZ)(f)}visitOr(E){this.resetState();var u=E.left.accept(this);return this.resetState(),u&&E.right.accept(this)}visitAnd(E){if(this.supportsMultiLevelFilters){var u=!1;if((this.isNot&&(E.left instanceof r.uV||E.left instanceof r.Xg)&&(E.right instanceof r.Xg||E.right instanceof r.uV)||!this.isNot&&(E.left instanceof r.Cc||E.left instanceof r.Xg||E.left instanceof r.uV||E.left instanceof r.v3)&&(E.right instanceof r.Cc||E.right instanceof r.Xg||E.right instanceof r.uV||E.right instanceof r.v3)||(E.left instanceof r.wU||E.left instanceof r.uV)&&(E.right instanceof r.wU||E.right instanceof r.uV))&&(u=!0),u){var f=!1===this.isAnd;f&&this.resetState(),this.isAnd=!0;var b=E.left.accept(this)&&E.right.accept(this);return f&&(this.isAnd=!1),b}}return this.unsupportedSQExpr()}visitNot(E){this.isNot=!0;var u=E.arg.accept(this);return this.isNot=!1,u}visitConstant(E){return 0===this.keyIndex&&E.type.primitiveType===g.M.Null?this.unsupportedSQExpr():(this.addValue(E),!0)}visitCompare(E){return this.keyIndex>0&&!this.supportsMultiLevelFilters||E.comparison!==n.uu.Equal?this.unsupportedSQExpr():E.right instanceof r.iE||E.left.accept(this)&&E.right.accept(this)}visitIn(E){var f,u=this;if(!E.values)return!1;for(var b of(this.resetState(),E.args))if(!(f=b.accept(this)))return this.unsupportedSQExpr();if(!this.supportedGroups[this.keyIndex])return this.unsupportedSQExpr();var P,V=E.values,T=function(w){for(var M of(a.f.assert(()=>w.length===u.keyIndex,"keys count and values count should match"),w))if(!(f=M.accept(u)))return{v:u.unsupportedSQExpr()}};for(var D of V)if(P=T(D))return P.v;return f}visitColumnRef(E){var u=(0,r.p7)(E),f=(0,l.fS)(this.fieldExprs[this.keyIndex],u);return this.keyIndex++,f}visitDefaultValue(E){return this.addValue(E),!0}visitAnyValue(E){return!0}visitDefault(E){return this.unsupportedSQExpr()}unsupportedSQExpr(){return!1}addValue(E){var u=this.valueIndex%this.keyIndex,f=this.groups[u];0===u?(this.addScopeId(),this.parent=void 0,this.currentNode=this.createNode(E)):this.currentNode.groupIndex===f?(this.currentNode.values.push(E),this.currentNode.columns.push(this.fieldExprs[u])):(this.currentNode.checked=!1,this.parent=this.addScopeId(),this.currentNode=this.createNode(E)),this.valueIndex++}addScopeId(){if(this.currentNode){var E=this.currentNode,u=this.parent&&this.parent.children||this.values,f=_.find(u,b=>(0,p.NF)(b.values,E.values,l.fS));return f?E.checked&&!f.checked&&(f.selected=E.selected,f.checked=E.checked):(E.identity=C.getScopeIdentity(E.columns,E.values),u.push(E)),f||E}}createNode(E){var u=this.valueIndex%this.keyIndex;return{children:[],selected:!this.isNot,checked:!0,values:[E],columns:[this.fieldExprs[u]],groupIndex:this.groups[u],identity:void 0}}resetState(){this.keyIndex=0,this.valueIndex=0}}class y extends t.vq{visitAnd(E){return E.left.accept(this)||E.right.accept(this)}visitCompare(E){if(E.comparison===n.uu.Equal){if(E.right instanceof r.jz)return E.right;if(E.left instanceof r.jz)return E.left}}}class S extends t.vq{visitAnd(E){var u=[];return(u=u.concat(E.left.accept(this))).concat(E.right.accept(this))}visitCompare(E){if(E.comparison===n.uu.Equal){var u=[];return E.right instanceof r.jz?u.push({expr:E.left,value:E.right.value}):E.left instanceof r.jz&&u.push({expr:E.right,value:E.left.value}),u}}}},689813:function(ve,j,e){e.d(j,{J:function(){return l}});var r=e(426313),i=e(914094),a=e(5928),t=e(300929);function l(n,p){if(n){if(n instanceof i.yl){var s=n.conditions();return _.isEmpty(s)||s.length>1?void 0:g(n.from(),s[0])}return g(p,n.condition)}}function g(n,p){var s=(0,t.N)(p),d={fieldsBeingFiltered:_.uniqWith(s.fieldsBeingFiltered,r.fS),isSubquery:!1};if(s.subqueryName){d.isSubquery=!0;var o=n.sources(),m=(0,a.K)(o&&o[s.subqueryName]);m&&(d.orderByField=m.orderByField,d.itemCount=m.itemCount,d.isTop=m.isTop)}return d}},398465:function(ve,j,e){e.d(j,{VM:function(){return n},pi:function(){return l}});var r=e(60978),i=e(999787),a=e(650543),t=e(123975);function l(v){if(v){var m=v.conditions();if(m&&1===m.length)return function(v){var m=new o;return m.tryParseCondition(v)?{field:m.field,options:m.options}:null}(m[0])}}function n(v){return d(v,1)}function d(v,m){var c={};if(null!=v.min){a.f.assert(()=>(0,t.M4)(v.min),"Implementing DateWithEpochValue is needed for serialization");var C=(0,t.Fh)(v.min);C.setHours(0,0,0,0);var y=new Date(C.epochTimeStamp);y.setUTCHours(0,0,0,0),C.epochTimeStamp=y.getTime(),c.min=C}if(null!=v.max){a.f.assert(()=>(0,t.M4)(v.max),"Implementing DateWithEpochValue is needed for serialization");var S=new Date(v.max.getFullYear(),v.max.getMonth(),v.max.getDate()+m);S.epochTimeStamp=Date.UTC(S.getFullYear(),S.getMonth(),S.getDate()),c.max=S}return c}class o{tryParseCondition(m){return(0,r.un)(m)?this.tryParseAndCondition(m):!!(0,r.$Q)(m)&&this.tryParseCompareCondition(m)}tryParseAndCondition(m){var c=m;return!(!(0,r.$Q)(c.left)||!(0,r.$Q)(c.right))&&this.tryParseCompareCondition(c.left)&&this.tryParseCompareCondition(c.right)}tryParseCompareCondition(m){var c=m;return!(!(0,r.t3)(c.left)&&!(0,r.ez)(c.left))&&(this.field=c.left,this.options=this.options||{},this.tryParseNumericCompareCondition(c)||this.tryParseDateCompareCondition(c))}tryParseNumericCompareCondition(m){if(!(0,r.S9)(m.right))return!1;switch(m.comparison){case i.uu.Equal:this.options.min=m.right.value,this.options.max=m.right.value;break;case i.uu.GreaterThan:case i.uu.GreaterThanOrEqual:this.options.min=m.right.value;break;case i.uu.LessThan:case i.uu.LessThanOrEqual:this.options.max=m.right.value;break;default:return a.f.assertNever(m.comparison),!1}return!0}tryParseDateCompareCondition(m){return(0,r.dZ)(m.right)&&m.right.arg&&(0,r.fU)(m.right.arg)?this.tryParseDateConstantCondition(m.comparison,m.right.arg):!!(0,r.fU)(m.right)&&this.tryParseDateConstantCondition(m.comparison,m.right)}parseDateValue(m){return(0,t.M4)(m)?m:(0,t.Fg)(new Date(m))}tryParseDateConstantCondition(m,c){switch(m){case i.uu.Equal:this.options.min=this.parseDateValue(c.value),this.options.max=this.parseDateValue(c.value);break;case i.uu.GreaterThan:case i.uu.GreaterThanOrEqual:this.options.min=this.parseDateValue(c.value);break;case i.uu.LessThan:this.options.max=this.parseDateValue(c.value),this.options=d(this.options,-1);break;case i.uu.LessThanOrEqual:this.options.max=this.parseDateValue(c.value);break;default:return a.f.assertNever(m),!1}return m!==i.uu.LessThan&&(this.options=d(this.options,0)),!0}}},548748:function(ve,j,e){e.d(j,{UX:function(){return m},hN:function(){return S},kW:function(){return d},nh:function(){return s},pi:function(){return C},ym:function(){return y}});var r=e(60978),i=e(426313),a=e(999787),t=e(650543),l=e(271792),g=e(914094),n=e(442407),p=e(398732);function s(f){var b=d(f);return g.yl.fromSQExpr(b)}function d(f,b=!1){var V=f.field,T=f.options,P=null,D=(0,n.zO)();if(f.options.anchorDate&&!(0,l.Re)(T.relativeUnit)){var w=f.options.anchorDate;w.epochTimeStamp=Date.UTC(w.getFullYear(),w.getMonth(),w.getDate(),w.getHours(),w.getMinutes(),w.getSeconds(),w.getMilliseconds()),D=(0,n.CQ)(f.options.anchorDate)}var M=function(f){switch(f){case l.hU.CalendarYear:case l.hU.Year:return a.j1.Year;case l.hU.CalendarMonth:case l.hU.Month:return a.j1.Month;case l.hU.CalendarWeek:case l.hU.Week:return a.j1.Week;case l.hU.Day:return a.j1.Day;case l.hU.Hour:return a.j1.Hour;case l.hU.Minute:return a.j1.Minute;case l.hU.Second:return a.j1.Second;default:return void t.f.assertFail("Unsupported RelativeDateUnit")}}(T.relativeUnit),A=m(T.relativeUnit,b);switch(T.relativeQualifier){case l.KO.Current:var R=(0,n.uQ)(M,D);P=(0,n.qu)(a.uu.Equal,V,R);break;case l.KO.Last:if(A)P=o(-T.duration,-1,M,D,V);else if((0,l.Re)(T.relativeUnit)){var B=D,N=(0,n.sO)(M,-T.duration,D);P=(0,n.vX)(V,N,B)}else{var W=T.includeToday?D:(0,n.sO)(a.j1.Day,-1,D),F=(0,n.uQ)(a.j1.Day,W),U=(0,n.uQ)(a.j1.Day,(0,n.sO)(M,-T.duration,(0,n.sO)(a.j1.Day,1,W)));P=(0,n.vX)(V,U,F)}break;case l.KO.Next:if(A)P=o(1,T.duration,M,D,V);else if((0,l.Re)(T.relativeUnit)){var O=D,x=(0,n.sO)(M,T.duration,D);P=(0,n.vX)(V,O,x)}else{var I=T.includeToday?D:(0,n.sO)(a.j1.Day,1,D),L=(0,n.uQ)(a.j1.Day,I),K=(0,n.uQ)(a.j1.Day,(0,n.sO)(M,T.duration,(0,n.sO)(a.j1.Day,-1,I)));P=(0,n.vX)(V,L,K)}}return P}function o(f,b,V,T,P){var D=(0,n.uQ)(V,(0,n.sO)(V,f,T)),w=(0,n.uQ)(V,(0,n.sO)(V,b,T));return(0,n.vX)(P,D,w)}function m(f,b=!1){switch(f){case l.hU.Second:case l.hU.Minute:case l.hU.Hour:case l.hU.Year:case l.hU.Month:case l.hU.Week:return!1;case l.hU.Day:return b;case l.hU.CalendarYear:case l.hU.CalendarMonth:case l.hU.CalendarWeek:return!0;default:return void t.f.assertFail("Unsupported RelativeDateUnit")}}function c(f,b){switch(f){case a.j1.Day:return l.hU.Day;case a.j1.Week:return b?l.hU.CalendarWeek:l.hU.Week;case a.j1.Month:return b?l.hU.CalendarMonth:l.hU.Month;case a.j1.Year:return b?l.hU.CalendarYear:l.hU.Year;case a.j1.Hour:return l.hU.Hour;case a.j1.Minute:return l.hU.Minute;case a.j1.Second:return l.hU.Second;default:return}}function C(f,b){if(f){var V=f.conditions();if(V&&1===V.length)return y(V[0],b)}}function y(f,b){var V=new u(b);if(V.tryExtractParametersFrom(f))return{field:V.field,options:V.options}}function S(f){return!!f&&(!(!f.where()||!function(f){var b=new u(l.wj.Time);for(var V of f)if(V.condition&&b.tryExtractParametersFrom(V.condition))return!0;return!1}(f.where()))||function(f){var b=f.sources();if(!b)return!1;for(var V of f.keys()){var T=b[V];if((0,p.y)(T)&&T.subquery&&S(T.subquery))return!0}return!1}(f.from()))}class u{constructor(b){this.relativeFilterType=b}tryExtractParametersFrom(b){return this.tryExtractCurrent(b)||this.tryExtractLastOrNext(b)}tryExtractCurrent(b){if((0,r.$Q)(b)){var V=b;if(((0,r.t3)(V.left)||(0,r.ez)(V.left))&&(this.field=V.left,(0,r.dZ)(V.right))){var T=V.right,P=l.t0.convertTimeUnitToRelativeFilterType(T.unit);if(this.relativeFilterType!==P)return!1;if(void 0!==c(T.unit,!1)&&((0,r.jr)(T.arg)||(0,r.fU)(T.arg))&&(this.options={duration:1,includeToday:!0,includeTodayFromDefault:!0,relativeQualifier:l.KO.Current,relativeUnit:c(T.unit,!1)},(0,r.fU)(T.arg)&&(this.options.anchorDate=T.arg.value),this.validateOptions(b)))return!0}}return!1}tryExtractLastOrNext(b){if((0,r.Kh)(b)){var V=b;if((0,r.t3)(V.arg)||(0,r.ez)(V.arg))if(this.field=V.arg,(0,r.dZ)(V.upper)&&(0,r.dZ)(V.lower)){if(this.options=this.getOptionsFromDateSpan(V.lower,l.KO.Last),this.validateOptions(b)||(this.options=this.getOptionsFromDateSpan(V.upper,l.KO.Next),this.validateOptions(b)))return!0}else if((0,r.Ok)(V.upper)||(0,r.Ok)(V.lower)){var T=V.lower,P=V.upper;if(this.options=this.getOptionsFromDateAdd(T,T.unit,l.KO.Last),this.validateOptions(b)||(this.options=this.getOptionsFromDateAdd(P,P.unit,l.KO.Next),this.validateOptions(b)))return!0}}return!1}getOptionsFromDateSpan(b,V){if((0,r.dZ)(b))return this.getOptionsFromDateAdd(b.arg,b.unit,V)}getOptionsFromDateAdd(b,V,T){if((0,r.Ok)(b)){var P=b,D=l.t0.convertTimeUnitToRelativeFilterType(P.unit);if(this.relativeFilterType!==D)return;var w=V===P.unit&&V!==a.j1.Day,M=!!w||this.getIncludeToday(P.arg),A=this.getAnchorDate(P);switch(T){case l.KO.Last:if(P.amount<0)return{duration:-P.amount,includeToday:M,relativeQualifier:T,relativeUnit:c(P.unit,w),anchorDate:A};break;case l.KO.Next:if(P.amount>0)return{duration:P.amount,includeToday:M,relativeQualifier:T,relativeUnit:c(P.unit,w),anchorDate:A}}}}getAnchorDate(b){for(var V=b;(0,r.Ok)(V);)V=V.arg;if((0,r.fU)(V))return V.value}getIncludeToday(b){if((0,r.Ok)(b)){var V=b;return(0,r.jr)(V.arg)||(0,r.fU)(V.arg)}return!1}validateOptions(b){if(!this.field||!this.options)return!1;var V={field:this.field,options:this.options};return(0,i.fS)(b,d(V))||this.options.relativeUnit===l.hU.Day&&!this.options.includeToday&&(0,i.fS)(b,d(V,!0))}}},827161:function(ve,j,e){e.d(j,{Cj:function(){return c},Dh:function(){return d},FD:function(){return o},J2:function(){return v},KX:function(){return s},RR:function(){return p},aL:function(){return C},lZ:function(){return m}});var r=e(60978),i=e(426313),a=e(999787),t=e(990297),l=e(650543),g=e(442407),n=e(962238);function p(E){var u=new C;return E.accept(u),u.malformed?null:(0,t.rm)(u.keys)}function s(E){var u=new C;return E.accept(u),u.malformed?null:(0,t.rm)(u.values)}function d(E){var u=new C;return E.accept(u),u.malformed?null:(0,t.rm)(u.pairs)}function o(E){if((0,r.Hi)(E))return E;var u=new C;if(E.accept(u),!u.malformed){var f=(0,t.rm)(u.keys),b=(0,t.rm)(u.values);if(f&&b)return(0,g.Sh)(f,[b])}}function v(E,u){l.f.assertValue(E,"expr"),l.f.assertNonEmpty(u,"subsetFieldExprs");var f=new y(u);return E.accept(f),f.getResult()}function m(E,u){if(!u||!E)return[];var f=new h(E);return u.accept(f),f.getValues()}function c(E){var u=new S;return E.accept(u),!!u.containsSelectRef}class C extends n.vq{constructor(){super(...arguments),this.keys=[],this.values=[],this.pairs=[]}visitAnd(u){u.left.accept(this),u.right.accept(this)}visitCompare(u){u.comparison===a.uu.Equal?(l.f.assert(()=>u.left instanceof g.Il&&u.right instanceof g.jz,"invalid compare expr operands"),this.pairs.push(u),u.left.accept(this),u.right.accept(this)):this.visitDefault(u)}visitIn(u){for(var f of u.args)f.accept(this);for(var b of u.values)for(var V of b)V.accept(this)}visitSelectRef(u){this.keys.push(u)}visitColumnRef(u){this.keys.push(u)}visitGroupRef(u){this.keys.push(u)}visitHierarchyLevel(u){this.keys.push(u)}visitConstant(u){this.values.push(u)}visitArithmetic(u){this.keys.push(u)}visitDefault(u){this.malformed=!0}}class y extends n.vq{constructor(u){super(),l.f.assertNonEmpty(u,"identityFieldExprs"),this.identityFieldExprs=u,this.identityComparisonExprs=[],this.identityComparisonExprCount=0}getResult(){if(l.f.assert(()=>this.identityComparisonExprCount===_.filter(this.identityComparisonExprs,b=>!!b).length,"invariant: this.identityComparisonExprCount should equal to the number of defined elements in this.identityComparisonExprs array"),!this.malformed&&this.identityComparisonExprCount===this.identityFieldExprs.length){var u;for(var f of this.identityComparisonExprs)u=u?(0,g.xD)(u,f):f;return u}}visitAnd(u){u.left.accept(this),u.right.accept(this)}visitCompare(u){if(u.comparison===a.uu.Equal){var f=_.findIndex(this.identityFieldExprs,b=>(0,i.fS)(u.left,b));f>=0&&!this.identityComparisonExprs[f]&&(this.identityComparisonExprs[f]=u,this.identityComparisonExprCount++)}else this.visitDefault(u)}visitDefault(u){this.malformed=!0}}class S extends n.PA{visitSelectRef(u){this.containsSelectRef=!0}}class h extends n.vq{constructor(u){super(),this.targetExpr=u,this.orderedValues=[]}getValues(){return _.uniq(this.orderedValues)}visitAnd(u){u.left.accept(this),u.right.accept(this)}visitOr(u){u.left.accept(this),u.right.accept(this)}visitCompare(u){u.comparison===a.uu.Equal&&(u.right instanceof g.Wh&&(0,i.fS)(u.right,this.targetExpr)&&u.left instanceof g.jz&&this.orderedValues.push(u.left.value),u.left instanceof g.Wh&&(0,i.fS)(u.left,this.targetExpr)&&u.right instanceof g.jz&&this.orderedValues.push(u.right.value))}visitIn(u){var f=-1;if(!u.table){for(var b=0;b<u.args.length;b++)if((0,i.fS)(u.args[b],this.targetExpr)){f=b;break}if(-1!==f)for(var V of u.values){var T=V[f];T instanceof g.jz&&this.orderedValues.push(T.value)}}}}},5928:function(ve,j,e){e.d(j,{K:function(){return n}});var r=e(398732),i=e(318456),a=e(650543),t=e(962238),l=e(810331),g=function(s){return s[s.Root=0]="Root",s[s.InAggregate=1]="InAggregate",s}({});function n(s){if(s&&(0,r.y)(s)){var d=s.subquery.orderBy();if(!d||1!==d.length)return;var o=d[0],v=new p;return v.visitOrderBy(o.expr)?{orderByField:v.orderByField,isTop:o.direction===i.S.Descending,itemCount:s.subquery.top()}:void 0}}class p extends t.Ml{constructor(){super(),this.orderByField=null}visitOrderBy(d){return d.accept(this,g.Root)}visitAggr(d,o){return o===g.Root&&(a.f.assertValue((0,l.Q)(d),"expected field pattern"),this.orderByField=d,!0)}visitMeasureRef(d,o){return o===g.Root&&(this.orderByField=d,!0)}}},913101:function(ve,j,e){e.d(j,{J_:function(){return s},VK:function(){return d}});var r=e(318456),i=e(650543),a=e(914094),t=e(442407),l=e(962238),g=e(774452),n=e(398732),p=e(5928);function s(C,y){if(C){if(C instanceof a.yl){var S=C.conditions();return i.f.assertValue(S,"conditions"),i.f.assert(()=>1===S.length,"should be exactly one filter condition for a TopN filter"),o(C.from(),S[0])}return o(y,C.condition)}}function d(C){var y=function(C){var y=new g.cL,S=a.cX.rewrite(C.fieldBeingFiltered,null,y),h=a.cX.rewrite(C.orderByField,null,y);return a.vQ.createWith({from:y,orderBy:[{expr:h,direction:C.isTop?r.S.Descending:r.S.Ascending}],select:[{name:"field",expr:S}],top:C.itemCount})}(C),S=new g.vd(y),h=new g.cL,E=h.ensureSource(S,"subquery"),u=(0,t.dY)([C.fieldBeingFiltered],(0,t.v5)(E.name));return a.yl.fromSQFromAndSQExpr(h,u)}function o(C,y){i.f.assertValue(C,"from"),i.f.assertValue(y,"condition");var S=new c;if(S.visitCondition(y)){var h=C.sources(),E=h&&h[S.subqueryName],u=(0,p.K)(E);if(u&&(0,n.y)(E))return{fieldBeingFiltered:S.fieldBeingFiltered,isTop:u.isTop,itemCount:E.subquery.top(),orderByField:u.orderByField}}}var m=function(C){return C[C.Root=0]="Root",C[C.LeftOfIn=1]="LeftOfIn",C[C.RightOfIn=2]="RightOfIn",C}({});class c extends l.Ml{constructor(){super(),this.fieldBeingFiltered=null,this.subqueryName=null}visitCondition(y){return y.accept(this,m.Root)}visitIn(y,S){return!!(S===m.Root&&y.args&&1===y.args.length&&y.args[0].accept(this,m.LeftOfIn)&&y.table&&y.table.accept(this,m.RightOfIn))}visitColumnRef(y,S){return S===m.LeftOfIn&&(this.fieldBeingFiltered=y,!0)}visitHierarchyLevel(y,S){return S===m.LeftOfIn&&(this.fieldBeingFiltered=y,!0)}visitGroupRef(y,S){return S===m.LeftOfIn&&(this.fieldBeingFiltered=y,!0)}visitSubqueryRef(y,S){return S===m.RightOfIn&&(y.variable?this.subqueryName=y.variable:i.f.assertFail("SubqueryRef with a direct subquery not expected here"),!0)}}},267047:function(ve,j,e){e.d(j,{k:function(){return p}});var r=e(726988),i=e(810331),a=e(604481),t=e(650543),l=e(442407),g=e(358864);class n extends g.p{constructor(o){t.f.assertValue(o,"func"),super(),this.func=o}visitAggr(o){return o.func===this.func?o:new l.v0(o.arg,this.func)}visitColumnRef(o){return new l.v0(o,this.func)}visitGroupRef(o){return new l.v0(o,this.func)}visitHierarchyLevel(o){return new l.v0(o,this.func)}static rewrite(o,v){t.f.assertValue(o,"expr"),t.f.assertValue(v,"func");var m=new n(v);return o.accept(m)}}function p(d,o){return s.rewrite(d,o)}class s{constructor(o,v){this.sqExpr=o,this.aggregate=v}static rewrite(o,v){return(0,r.Vn)((0,i.Q)(o),new s(o,v))}visitPercentOfGrandTotal(o){return o.baseExpr=(0,i.Q)(n.rewrite((0,a.og)(o.baseExpr),this.aggregate)),(0,a.og)({percentOfGrandTotal:o})}visitPercentOfRoleTotal(o){return o.baseExpr=(0,i.Q)(n.rewrite((0,a.og)(o.baseExpr),this.aggregate)),(0,a.og)({percentOfRoleTotal:o})}visitFilteredEval(o){return o.baseExpr=(0,i.Q)(n.rewrite((0,a.og)(o.baseExpr),this.aggregate)),(0,a.og)({filteredEval:o})}visitColumn(o){return this.defaultRewrite()}visitColumnAggr(o){return this.defaultRewrite()}visitGroupingColumn(o){return this.defaultRewrite()}visitGroupingColumnAggr(o){return this.defaultRewrite()}visitColumnHierarchyVariation(o){return this.defaultRewrite()}visitColumnHierarchyLevelVariation(o){return this.defaultRewrite()}visitColumnSubquery(o){return this.defaultRewrite()}visitColumnAggrSubquery(o){return this.defaultRewrite()}visitColumnTransformRef(o){return this.defaultRewrite()}visitSelectRef(o){return this.defaultRewrite()}visitEntity(o){return this.defaultRewrite()}visitEntityAggr(o){return this.defaultRewrite()}visitHierarchy(o){return this.defaultRewrite()}visitHierarchyLevel(o){return this.defaultRewrite()}visitHierarchyLevelAggr(o){return this.defaultRewrite()}visitMeasure(o){return this.defaultRewrite()}visitPercentile(o){return this.defaultRewrite()}visitTransformOutputRoleRef(o){return this.defaultRewrite()}visitArithmetic(o){return this.defaultRewrite()}visitConstant(o){return this.defaultRewrite()}visitSparklineData(o){return this.defaultRewrite()}visitNativeVisualCalc(o){return this.defaultRewrite()}defaultRewrite(){return n.rewrite(this.sqExpr,this.aggregate)}}},6655:function(ve,j,e){e.d(j,{n:function(){return g}});var r=e(726988),i=e(810331),a=e(604481),t=e(358864),l=e(650543);function g(s,d){return p.rewrite(s,d)}var n=(()=>{class s extends t.p{visitAggr(o){return o.arg}static rewrite(o){return l.f.assertValue(o,"expr"),o.accept(s.instance)}}return s.instance=new s,s})();class p{constructor(d){this.sqExpr=d}static rewrite(d,o){return(0,r.Vn)((0,i.Q)(d,o),new p(d))}visitPercentOfGrandTotal(d){return p.rewrite((0,a.og)(d.baseExpr))}visitPercentOfRoleTotal(d){return p.rewrite((0,a.og)(d.baseExpr))}visitFilteredEval(d){return p.rewrite((0,a.og)(d.baseExpr))}visitColumn(d){return this.defaultRewrite()}visitColumnAggr(d){return this.defaultRewrite()}visitGroupingColumn(d){return this.defaultRewrite()}visitGroupingColumnAggr(d){return this.defaultRewrite()}visitColumnHierarchyVariation(d){return this.defaultRewrite()}visitColumnHierarchyLevelVariation(d){return this.defaultRewrite()}visitColumnSubquery(d){return this.defaultRewrite()}visitColumnAggrSubquery(d){return this.defaultRewrite()}visitColumnTransformRef(d){return this.defaultRewrite()}visitSelectRef(d){return this.defaultRewrite()}visitEntity(d){return this.defaultRewrite()}visitEntityAggr(d){return this.defaultRewrite()}visitHierarchy(d){return this.defaultRewrite()}visitHierarchyLevel(d){return this.defaultRewrite()}visitHierarchyLevelAggr(d){return this.defaultRewrite()}visitMeasure(d){return this.defaultRewrite()}visitPercentile(d){return this.defaultRewrite()}visitTransformOutputRoleRef(d){return this.defaultRewrite()}visitArithmetic(d){return this.defaultRewrite()}visitConstant(d){return this.defaultRewrite()}visitSparklineData(d){return this.defaultRewrite()}visitNativeVisualCalc(d){return this.defaultRewrite()}defaultRewrite(){return n.rewrite(this.sqExpr)}}},92702:function(ve,j,e){e.d(j,{F:function(){return l}});var r=e(247425),i=e(442407),a=e(774452),t=e(990297);class l extends r.b{constructor(n){super(),this.query=n,this.hasRewrites=!1}visitSubqueryRef(n){if(!n.query)return n;var s=new l(n.query).rewrite();this.mergedFrom||(this.mergedFrom=this.query.from());var d=new a.vd(s),o=this.mergedFrom.ensureSource(d);return this.hasRewrites=!0,(0,i.v5)(o.name)}get didRewrite(){return this.hasRewrites}rewrite(){var n=this.query.select(),p=(0,t.z8)((0,t.UU)(n,s=>{var d=s.expr.accept(this);return d===s.expr?s:{name:s.name,expr:d}}));return p===n?this.query:this.query.createModified({from:this.mergedFrom,select:p})}}},450491:function(ve,j,e){e.d(j,{CI:function(){return v},O7:function(){return o},Wv:function(){return d},_L:function(){return p},fL:function(){return s},tx:function(){return n}});var r=e(333107),i=e(650543),a=e(123975),t=/'/g,l=/\.000$/;function n(m){return i.f.assertValue(m,"value"),m+"D"}function p(m){return i.f.assertValue(m,"value"),m+"L"}function s(m){return i.f.assertValue(m,"value"),"'"+m.replace(t,"''")+"'"}function d(){return"null"}function o(m){return m?"true":"false"}function v(m,c){if(null===m)return"null";switch(c.primitiveType){case r.M.Integer:return i.f.assert(()=>_.isString(m)||_.isNumber(m),`Expected either a string or number value to encode for type ${c}`),m+"L";case r.M.Decimal:return i.f.assert(()=>_.isString(m)||_.isNumber(m),`Expected either a string or number value to encode for type ${c}`),m+"M";case r.M.Double:return i.f.assert(()=>_.isString(m)||_.isNumber(m),`Expected either a string or number value to encode for type ${c}`),m+"D";case r.M.DateTime:case r.M.Date:var y;return m instanceof Date?(y=(0,a.M4)(m)?new Date(m.epochTimeStamp).toISOString():new Date(m.getTime()-6e4*m.getTimezoneOffset()).toISOString(),_.endsWith(y,"Z")&&(y=y.substr(0,y.length-1)),y=y.replace(l,"")):(i.f.assert(()=>_.isString(m),`Expected a string or a Date value for type ${c}`),y=m),`datetime'${y}'`;case r.M.Text:return i.f.assert(()=>_.isString(m),`Expected a string value to encode for type ${c}`),s(m);case r.M.Boolean:return i.f.assert(()=>_.isBoolean(m),`Expected boolean values for type ${c}`),o(m);case r.M.Variant:return i.f.assert(()=>_.isString(m),`Expected string values to encode for type ${c}`),m;default:i.f.assertFail(`unsupported dsrValue for type ${c}`)}}},914094:function(ve,j,e){e.d(j,{cX:function(){return M},yl:function(){return w},vQ:function(){return D},Je:function(){return P},RD:function(){return W},d3:function(){return F}});var r=e(999787),i=e(990297),a=e(650543),t=e(734531),l=e(850111),g=e(442407),n=e(765959),p=e(247425),s=e(962238),d=e(774452),o=e(398732),m=e(60978),c=e(426313),C=e(567050),y=e(301336),S=e(59243);function h(O,x,I){a.f.assertValue(O,"namedItems");for(var L={},K=0,z=O.length;K<z;K++)L[O[K].name]=!0;return(0,y.zE)(L,I||(0,S.L)(x))}var E=e(509247),f=(()=>{class O extends s.vq{visitCompare(I){return I.comparison===r.uu.Equal&&I.right.accept(this)}visitAnd(I){return I.left.accept(this)&&I.right.accept(this)}visitAnyValue(I){return!0}visitDefault(I){return!1}}return O.instance=new O,O})(),b=e(25984),V=e(890486),T=e(630881);class P{constructor(x){this.exprRewriter=x}static rewriteFrom(x,I){for(var L,K=x,z=K.keys(),H=0,J=z.length;H<J;H++){var k=z[H],G=K.source(k),q=G.accept(I,k);(G!==q||L)&&(L||(L=_.pick(K.sources(),z.slice(0,H))),L[k]=q)}return L?new d.cL(L):K}rewriteFrom(x){return P.rewriteFrom(x,new d.Ww(this.exprRewriter))}rewriteSelect(x,I){return a.f.assertValue(x,"selectItems"),a.f.assertValue(I,"from"),this.rewriteNamedSQExpressions(x,I)}rewriteGroupBy(x,I){if(a.f.assertAnyValue(x,"groupByitems"),a.f.assertValue(I,"from"),!_.isEmpty(x))return this.rewriteNamedSQExpressions(x,I)}rewriteNamedSQExpressions(x,I){return a.f.assertValue(x,"expressions"),_.map(x,L=>({name:L.name,expr:M.rewrite(L.expr.accept(this.exprRewriter),I,I),nativeReferenceName:L.nativeReferenceName}))}rewriteOrderBy(x,I){if(a.f.assertAnyValue(x,"orderByItems"),a.f.assertValue(I,"from"),!_.isEmpty(x)){for(var L=[],K=0,z=x.length;K<z;K++){var H=x[K],J=M.rewrite(H.expr.accept(this.exprRewriter),I,I);L.push({direction:H.direction,expr:J})}return L}}rewriteWhere(x,I){if(a.f.assertAnyValue(x,"whereItems"),a.f.assertValue(I,"from"),!_.isEmpty(x)){for(var L=[],K=0,z=x.length;K<z;K++){var H=x[K],J={condition:M.rewrite(H.condition.accept(this.exprRewriter),I,I)};H.target&&(J.target=_.map(H.target,k=>M.rewrite(k.accept(this.exprRewriter),I,I))),H.annotations&&(J.annotations=H.annotations),L.push(J)}return L}}rewriteTransform(x,I){if(a.f.assertAnyValue(x,"transformItems"),a.f.assertAnyValue(I,"from"),!_.isEmpty(x)){var L=[];for(var K of x){var z=void 0;K.input.table&&!_.isEmpty(K.input.table.columns)&&(z=_.map(K.input.table.columns,J=>({role:J.role,expression:{name:J.expression.name,expr:M.rewrite(J.expression.expr.accept(this.exprRewriter),I,I)}})));var H={name:K.name,algorithm:K.algorithm,input:{parameters:K.input.parameters},output:K.output};K.input.table&&(H.input.table={name:K.input.table.name,columns:z}),L.push(H)}return L}}}class D{constructor(x,I,L,K,z,H,J){a.f.assertValue(x,"from"),a.f.assertValue(K,"select"),this.fromValue=x,this.whereItems=I,this.orderByItems=L,this.selectItems=K,this.groupByItems=z,this.transformItems=H,null!=J&&(this.topValue=J)}static create(){return D.empty||(D.empty=new D(new d.cL,null,null,[],null,null,null)),D.empty}static createWith(x,I){return a.f.assertValue(x,"clauses"),I||(x=D.normalize(x)),new D(x.from,x.where,x.orderBy,x.select,x.groupBy,x.transforms,x.top)}createModified(x){return D.createWith({from:void 0!==x.from?x.from:this.fromValue,where:void 0!==x.where?x.where:this.whereItems,transforms:void 0!==x.transforms?x.transforms:this.transformItems,orderBy:void 0!==x.orderBy?x.orderBy:this.orderByItems,select:void 0!==x.select?x.select:this.selectItems,groupBy:void 0!==x.groupBy?x.groupBy:this.groupByItems,top:void 0!==x.top?x.top:this.topValue})}static normalize(x){var I={clauses:{from:x.from,where:x.where,orderBy:x.orderBy,select:x.select,groupBy:x.groupBy,transforms:x.transforms,top:x.top},usedSourceNames:{}};return D.removeUnreferencedKeys(I),D.renameSources(I),D.renameSourcesInSubqueries(I),I.clauses}static removeUnreferencedKeys(x){var I=x.clauses,L=I.from,K=I.where,z=I.orderBy,H=I.select,J=I.groupBy,k=I.transforms,G=new A(L.keys());if(K)for(var q=0,Q=K.length;q<Q;q++){var Z=K[q];Z.condition.accept(G);var X=Z.target;if(X)for(var re=0,te=X.length;re<te;re++)X[re]&&X[re].accept(G)}if(k)for(var se=0,Ve=k.length;se<Ve;se++){var ke=k[se].input.table;if(ke&&!_.isEmpty(ke.columns))for(var Ue of ke.columns)Ue.expression.expr.accept(G)}if(z)for(var ot=0,ft=z.length;ot<ft;ot++)z[ot].expr.accept(G);for(var Ct=0,Ke=H.length;Ct<Ke;Ct++)H[Ct].expr.accept(G);if(J)for(var Ae=0,we=J.length;Ae<we;Ae++)J[Ae].expr.accept(G);var Ne=G.result();if(Ne){var Se=L.clone();for(var Ie of Ne)Se.remove(Ie);x.clauses.from=Se}}static renameSources(x){var I=x.clauses.from,L=I.renameSources(x.usedSourceNames);L!==I&&(x.clauses.from=L,D.rewriteClauses(x.clauses,new M(I,L)))}static renameSourcesInSubqueries(x){x.clauses.from=B.renameSources(D.renameSourcesInQuery,x.clauses.from,x.usedSourceNames)}static renameSourcesInQuery(x,I){var L={clauses:x.getClauses(),usedSourceNames:I},K=L.clauses.from;return D.renameSources(L),D.renameSourcesInSubqueries(L),L.clauses.from===K?x:D.createWith(L.clauses)}from(x){return x?this.createModified({from:x}):this.fromValue.clone()}select(x){return _.isEmpty(arguments)?this.getSelect():this.setSelect(x)}getSelect(){return D.createNamedExpressionArray(this.selectItems)}static createNamedExpressionArray(x){return(0,i.z8)(_.map(x,I=>({name:I.name,expr:I.expr,nativeReferenceName:I.nativeReferenceName})))}setSelect(x){var I=this.fromValue.clone(),L=D.rewriteExpressionsWithSourceRenames(x,I);return this.createModified({from:I,select:L})}static rewriteExpressionsWithSourceRenames(x,I){for(var L=[],K=0,z=x.length;K<z;K++){var H=x[K];L.push({name:H.name,expr:M.rewrite(H.expr,null,I)})}return L}removeSelect(x){a.f.assertValue(x,"expr");for(var I=this.selectItems,L=[],K=0,z=I.length;K<z;K++){var H=I[K];(0,c.fS)(H.expr,x)||L.push(H)}return this.createModified({select:L})}removeOrderBy(x){for(var I=this.orderBy(),L=I.length-1;L>=0;L--)(0,c.fS)(I[L].expr,x)&&I.splice(L,1);return this.createModified({orderBy:I})}removeTransform(x){for(var I=this.transforms(),L=0,K=I.length;L<K;L++)if(I[L].name===x.name){I.splice(L,1);break}return this.createModified({transforms:I})}selectNameOf(x){return this.getSelectFor(x)?.name}selectNamesOf(x){return _.map(this.getSelectsFor(x),I=>I.name)}selectNativeReferenceNameOf(x){return this.getSelectFor(x)?.nativeReferenceName}getSelectFor(x){var I=(0,C.p)(this.selectItems,x);if(I>=0)return this.selectItems[I]}getSelectsFor(x){return _.filter(this.selectItems,I=>(0,c.fS)(I.expr,x))}setSelectAt(x,I,L){if(a.f.assertValue(I,"expr"),!(x>=this.selectItems.length)){var K=this.select(),z=this.fromValue.clone(),J=L??K[x].nativeReferenceName;return K[x]={name:K[x].name,expr:M.rewrite(I,null,z),nativeReferenceName:J},this.createModified({from:z,select:K})}}addSelect(x,I,L){a.f.assertValue(x,"expr");var K=this.select(),z=this.fromValue.clone();return K.push(this.createNamedExpr(K,z,x,I,L)),this.createModified({from:z,select:K})}setNativeReferenceNameAt(x,I){a.f.assert(()=>0<=x&&x<this.selectItems.length,"index should be within the length of the selectedItems"),this.selectItems[x].nativeReferenceName=I}getNativeReferenceNameAt(x){return a.f.assert(()=>0<=x&&x<this.selectItems.length,"index should be within the length of the selectedItems"),this.selectItems[x].nativeReferenceName}getNativeReferenceNames(x){var I=this.selectItems.map(L=>L.nativeReferenceName);return x?_.filter(I,L=>!(0,t.g)(L)):I}createNamedExpr(x,I,L,K,z){return{name:h(x,L,K),expr:M.rewrite(L,I,I),nativeReferenceName:z}}groupBy(x){return _.isEmpty(arguments)?this.getGroupBy():this.setGroupBy(x)}getGroupBy(){return D.createNamedExpressionArray(this.groupByItems)}setGroupBy(x){var I=this.fromValue.clone(),L=D.rewriteExpressionsWithSourceRenames(x,I);return this.createModified({from:I,groupBy:L})}addGroupBy(x){a.f.assertValue(x,"expr");var I=this.groupBy(),L=this.fromValue.clone();return I.push(this.createNamedExpr(I,L,x)),this.createModified({from:L,groupBy:I})}orderBy(x){return _.isEmpty(arguments)?this.getOrderBy():this.setOrderBy(x)}getOrderBy(){var x=[],I=this.orderByItems;if(I)for(var L=0,K=I.length;L<K;L++){var z=I[L];x.push({expr:z.expr,direction:z.direction})}return x}setOrderBy(x){a.f.assertValue(x,"values");for(var I=[],L=this.fromValue.clone(),K=0,z=x.length;K<z;K++){var H=x[K];I.push({expr:M.rewrite(H.expr,L,L),direction:H.direction})}return this.createModified({from:L,orderBy:I})}where(x,I){return _.isEmpty(arguments)?this.getWhere():this.setWhere([],x,I)}getWhere(){var x=[],I=this.whereItems;if(I)for(var L=0,K=I.length;L<K;L++)x.push(I[L]);return x}setWhere(x,I,L){a.f.assertValue(x,"existingFilters"),a.f.assertValue(I,"newFilters");var K=_.clone(x),z=this.fromValue.clone();for(var H of I){var J={condition:M.rewrite(H.condition,L,z)};H.target&&(J.target=_.map(H.target,k=>M.rewrite(k,L,z))),H.annotations&&(J.annotations=H.annotations),K.push(J)}return this.createModified({from:z,where:K})}addWhere(x,I){return this.setWhere(this.where(),x,I)}addSemanticFilter(x){return a.f.assertValue(x,"filter"),this.setWhere(this.where(),x.where(),x.from())}transforms(x){return _.isEmpty(arguments)?this.getTransforms():this.setTransforms(x)}getTransforms(){var x=[];if(!_.isEmpty(this.transformItems))for(var I of this.transformItems)x.push(I);return x}setTransforms(x){var I=this.fromValue.clone(),L=[];for(var K of x){var z=void 0;K.input.table&&!_.isEmpty(K.input.table.columns)&&(z=_.map(K.input.table.columns,J=>({role:J.role,expression:this.createNamedExpr((0,i.z8)([]),I,J.expression.expr,J.expression.name)})));var H={name:K.name,algorithm:K.algorithm,input:{parameters:K.input.parameters},output:K.output};K.input.table&&(H.input.table={name:K.input.table.name,columns:z}),L.push(H)}return this.createModified({from:I,transforms:x})}top(x){return _.isEmpty(arguments)?this.topValue:this.setTop(x)}setTop(x){return a.f.assert(()=>null==x||x>0,"if top is specified, it must be positive"),this.createModified({top:x})}rewrite(x){var I=this.getClauses();return D.rewriteClauses(I,x),this.createModified(I)}hasVisualCalculations(){for(var x of this.selectItems)if((0,m.jX)(x.expr))return!0;return!1}getClauses(){return{from:this.fromValue,where:this.whereItems,orderBy:this.orderByItems,select:this.selectItems,groupBy:this.groupByItems,transforms:this.transformItems,top:this.topValue}}static rewriteClauses(x,I){var L=new P(I);x.from=L.rewriteFrom(x.from),x.where=L.rewriteWhere(x.where,x.from),x.orderBy=L.rewriteOrderBy(x.orderBy,x.from),x.select=L.rewriteSelect(x.select,x.from),x.groupBy=L.rewriteGroupBy(x.groupBy,x.from),x.transforms=L.rewriteTransform(x.transforms,x.from)}static willFiltersAffectQuery(x){return a.f.assertValue(x,"query"),new R(x).willFilterAffectQuery()}}class w{constructor(x,I){a.f.assertValue(x,"from"),a.f.assertValue(I,"where"),this.fromValue=x,this.whereItems=I}static fromSQExpr(x){return w.fromSQFromAndSQExpr(new d.cL,x)}static fromSQFromAndSQExpr(x,I){a.f.assertValue(x,"from"),a.f.assertValue(I,"condition");var L=M.rewrite(I,x,x);return new w(x,[{condition:L}])}static fromSQFromAndSQFilters(x,I){return new w(x,I)}static clone(x){return w.fromSQFromAndSQFilters(x.from(),x.where())}static fromMeasureFilters(x,I,L){a.f.assertValue(x,"query"),a.f.assert(()=>!_.isEmpty(I),"measureFilters not empty"),a.f.assert(()=>_.every(I,re=>(0,l._)(re.condition)===n.Ld.Measure),"Require measure filter");var K,k,z=[],H=x.where(),J=function(re){var te=_.find(H,se=>(0,c.fS)(se.condition,re.condition));if(!te||!te.target)return{v:void 0};K=K||te.target,a.f.assert(()=>(()=>{for(var se=0;se<K.length;se++)if(!(0,c.fS)(K[se],te.target[se]))return!1;return!0})(),"Expected targets to be the same."),z.push(te)};for(var G of I)if(k=J(G))return k.v;var q=_.filter(H,re=>(0,l._)(re.condition)!==n.Ld.Measure&&(0,l._)(re.condition)!==n.Ld.VisualTopN),Q=_.map(K,re=>_.find(x.select(),te=>(0,c.fS)(re,te.expr)));L&&Q.push(...this.getMeasuresForJoinPredicates(x,L)||[]);var Z=D.createWith({from:x.from(),select:Q,where:[...q||[],...z||[]]});return F(w.fromSubquery(Z,K),x)}static fromVisualTopNFilter(x,I,L,K){a.f.assertValue(x,"query"),a.f.assertValue(I,"visualTopNExpr"),a.f.assertValue(K,"capabilities");var z=this.getSubquerySelects(x,L,K),H=D.createWith({from:x.from(),select:z,orderBy:x.orderBy()||[],top:I.itemCount,where:x.where()}),J=_.chain(z).filter(G=>!(0,E.k)(G.expr)).map(G=>G.expr).value();return F(w.fromSubquery(H,J,!0),x)}static fromSubquery(x,I,L){var K=new d.vd(x,L),z=new d.cL,H=z.ensureSource(K,"subquery"),J=(0,g.dY)(I,(0,g.v5)(H.name)),k=M.rewrite(J,z,z),G=[];return G.push({condition:k}),w.fromSQFromAndSQFilters(z,G)}static getDefaultValueFilter(x){return w.getDataViewScopeIdentityComparisonFilters(x,(0,g.LS)())}static getAnyValueFilter(x){return w.getDataViewScopeIdentityComparisonFilters(x,(0,g.n7)())}static getDefaultAnyValueFilter(x,I){if(_.isEmpty(x))return w.getAnyValueFilter(I);if(_.isEmpty(I))return w.getDefaultValueFilter(x);var L=Array.apply(null,Array(x.length)).map(()=>(0,g.LS)()),K=Array.apply(null,Array(x.length)).map(()=>(0,g.n7)()),z=(0,V.R)(x,L),H=(0,V.R)(I,K),J=(0,g.xD)(z,H);return w.fromSQExpr(J)}static getDataViewScopeIdentityComparisonFilters(x,I){if(a.f.assertValue(x,"fieldSQExprs"),a.f.assertValue(I,"value"),x instanceof Array){var L=Array.apply(null,Array(x.length)).map(()=>I);return w.fromSQExpr((0,V.R)(x,L))}return w.fromSQExpr((0,g.Dg)(x,I))}from(){return this.fromValue.clone()}conditions(){for(var x=[],I=this.whereItems,L=0,K=I.length;L<K;L++)x.push(I[L].condition);return x}where(){for(var x=[],I=this.whereItems,L=0,K=I.length;L<K;L++)x.push(I[L]);return x}rewrite(x){var I=new P(x),L=I.rewriteFrom(this.fromValue),K=I.rewriteWhere(this.whereItems,L);return new w(L,K)}validate(x,I,L){var K=new g._R(x,I,L);return this.rewrite(K),K.errors}static merge(x){if(_.isEmpty(x))return null;if(1===x.length)return x[0];for(var I=x[0],L=I.from(),K=(0,i.qn)(I.whereItems,I.whereItems.length),z=1,H=x.length;z<H;z++)w.applyFilter(x[z],L,K);return new w(L,K)}static unmerge(x){var I=[];for(var L of x.whereItems){var K=new w(x.fromValue,[L]);Object.keys(K.from().sources()).length>1&&(K=w.removeUnreferencedKeys(K)),I.push(K)}return I}static removeUnreferencedKeys(x){var I=x.from(),L=x.where(),K=new A(I.keys());if(L)for(var z=0,H=L.length;z<H;z++){var J=L[z];J.condition.accept(K);var k=J.target;if(k)for(var G=0,q=k.length;G<q;G++)k[G]&&k[G].accept(K)}var Q=K.result();if(Q){for(var Z of Q)I.remove(Z);return new w(I,L)}}static getMeasuresForJoinPredicates(x,I){for(var L=this,K=x.select(),z=[],H=function(k){var G=K[k];if((0,E.k)(G.expr)){if(_.some(I.SuppressedJoinPredicates,q=>q===k))return 1;(L.isSelectProjected(I.Primary,k)||L.isSelectProjected(I.Secondary,k))&&z.push(G)}},J=0;J<K.length;J++)H(J);return z}static isSelectProjected(x,I){if(x&&x.Groupings)for(var L of x.Groupings)if(_.some(L.Projections,K=>K===I)&&!_.some(L.SuppressedProjections,K=>K===I))return!0;return!1}static getSubquerySelects(x,I,L){var z=_.chain(L.dataRoles).filter(k=>k.joinPredicate!==T.ps.None).map(k=>k.name).value(),H=_(I.projections).entries().filter(([k])=>z.includes(k)).flatMap(([,k])=>k.all().map(G=>G.queryRef)).value();return _.chain(x.select()).filter(k=>!(0,E.k)(k.expr)||H.includes(k.name)).sortBy(k=>(0,E.k)(k.expr)?1:0).value()}static isDefaultFilter(x){return!(!x||1!==x.where().length)&&(0,b.F)(x.where()[0].condition)}static isAnyFilter(x){return!(!x||1!==x.where().length)&&(O=x.where()[0].condition,a.f.assertValue(O,"expr"),O.accept(f.instance));var O}static isSameFilter(x,I){return x===I||!!(x&&I&&x.from().equals(I.from())&&(0,i.NF)(x.where(),I.where(),(L,K)=>(0,c.Me)(L,K)))&&!(w.isDefaultFilter(x)&&w.isAnyFilter(I)||w.isAnyFilter(x)&&w.isDefaultFilter(I))}static isInFilter(x){return!(!x||1!==x.where().length)&&(0,m.Hi)(x.where()[0].condition)}static applyFilter(x,I,L){a.f.assertValue(x,"filter"),a.f.assertValue(I,"from"),a.f.assertValue(L,"where");var K=x.whereItems;for(var z of K){var H={condition:M.rewrite(z.condition,x.fromValue,I)};z.target&&(H.target=_.map(z.target,J=>M.rewrite(J,x.fromValue,I))),L.push(H)}}setIgnoreMParameter(){var x=this.whereItems;for(var I of x)I.annotations||(I.annotations={}),I.annotations["PowerBI.MParameterBehavior"]=r.IZ.Ignore}}class M extends p.b{constructor(x,I){a.f.assertValue(I,"destinationFrom"),super(),this.sourceFrom=x,this.destinationFrom=I}visitEntity(x){var I=this.destinationFrom.source(x.variable);if(I&&(0,d.$r)(I)&&I.schema===x.schema&&I.entity===x.entity)return x;var L=this.destinationFrom.ensureSource(new d.SX(x.schema,x.entity),x.variable);return L.name!==x.variable?new g.PN(x.schema,x.entity,L.name):x}visitSubqueryRef(x){if(!this.sourceFrom)return a.f.assertFail("A source From clause must be provided to rewrite an expression containing a subquery reference."),x;var I=this.sourceFrom.source(x.variable);if(!I)return x;var L=this.destinationFrom.source(x.variable);if(L&&(0,o.y)(L)&&(0,c.C6)(I.subquery,L.subquery))return x;var K=this.destinationFrom.ensureSource(new d.vd(I.subquery,I.inheritsSorting),x.variable);return K.name!==x.variable?new g.wb(K.name):x}visitNamedQueryRef(x){var I=this.destinationFrom.source(x.variable);if(I&&(0,d.Ms)(I)&&(0,c.fS)(I.expr,x))return x;var K=this.destinationFrom.ensureSource(new d.Qo(x),x.variable);return K.name!==x.variable?new g.nz(x.queryName,K.name):void 0}static rewrite(x,I,L){a.f.assertValue(x,"expr"),a.f.assertValue(L,"destinationFrom");var K=new M(I,L);return x.accept(K)}}class A extends s.PA{constructor(x){a.f.assertValue(x,"keys"),super(),this.keys=x}visitEntity(x){this.removeKey(x.variable)}visitSubqueryRef(x){this.removeKey(x.variable)}visitNamedQueryRef(x){this.removeKey(x.variable)}removeKey(x){var I=this.keys.indexOf(x);I>=0&&this.keys.splice(I,1)}result(){return this.keys}}class R extends s.PA{constructor(x){super(),this.query=x,this.containsEntityRefs=!1,this.containsSubqueries=!1}visitEntity(x){this.containsEntityRefs=!0}visitPropertyVariationSource(x){this.containsEntityRefs=!0}visitSubqueryRef(x){this.containsSubqueries=!0}willFilterAffectQuery(){var x=this.query.select();for(var I of x)I.expr.accept(this);return!(!this.containsEntityRefs&&this.containsSubqueries)}}class B{constructor(x,I,L){this.renameSources=x,this.from=I,this.usedSourceNames=L,a.f.assertValue(x,"renameSources"),a.f.assertValue(I,"from"),a.f.assertValue(L,"usedSourceNames")}static renameSources(x,I,L){var K=new B(x,I,L);return P.rewriteFrom(I,K)}visitEntity(x,I){return x}visitPod(x,I){return x}visitSubquery(x,I){var L=x.subquery,K=this.renameSources(L,this.usedSourceNames);return K===L?x:new d.vd(K,x.inheritsSorting)}visitExpr(x,I){return x}}function W(O,x){var I=O.from(),L=I,K=w.merge(x);return I===(L=U.ensureFiltersInSubqueries(L,K.where(),K.from()))?O:w.fromSQFromAndSQFilters(L,O.where())}function F(O,x){var I=_.filter(_.map(x.select(),H=>H.expr),H=>!(0,E.k)(H));if(_.isEmpty(I))return O;var L=_.map(I,H=>({condition:(0,g.Dg)(H,(0,g.n7)(!0))})),K=O.from(),z=U.ensureFiltersInSubqueries(K,L,K);return K===z?O:w.fromSQFromAndSQFilters(z,O.where())}class U{constructor(x,I){this.filtersToEnsure=x,this.filtersToEnsureFrom=I,this.modifiedSubquery=!1,a.f.assertNonEmpty(x,"expected filters to ensure exist in each subquery")}static ensureFiltersInSubqueries(x,I,L){var K=new U(I,L),z=P.rewriteFrom(x,K);return a.f.assert(()=>z!==x===K.modifiedSubquery,"expected to rewrite the from clause if and only if we modified a subquery"),z}visitEntity(x,I){return x}visitPod(x,I){return x}visitSubquery(x,I){var L=x.subquery.where(),K=[],z=function(J){_.find(L,k=>(0,c.Me)(J,k))||K.push(J)};for(var H of this.filtersToEnsure)z(H);return 0===K.length?x:(this.modifiedSubquery=!0,new d.vd(x.subquery.addWhere(K,this.filtersToEnsureFrom),x.inheritsSorting))}visitExpr(x,I){return x}}},442407:function(ve,j,e){e.d(j,{X1:function(){return at},v0:function(){return z},uV:function(){return X},iE:function(){return Ie},MH:function(){return B},I6:function(){return re},Wh:function(){return x},wU:function(){return Ve},c8:function(){return ke},jz:function(){return Ke},ev:function(){return Ue},YB:function(){return we},AC:function(){return Ae},ex:function(){return je},PN:function(){return w},eX:function(){return ft},Il:function(){return D},F0:function(){return Ge},_R:function(){return It},DJ:function(){return me},Gv:function(){return F},UG:function(){return N},qg:function(){return G},jE:function(){return q},vD:function(){return Q},Xg:function(){return te},UY:function(){return I},Jm:function(){return pe},nz:function(){return R},F1:function(){return K},$f:function(){return L},Wr:function(){return M},v3:function(){return Ct},Cc:function(){return se},_n:function(){return H},c7:function(){return k},LE:function(){return J},nd:function(){return Ee},kC:function(){return W},GF:function(){return Qe},fw:function(){return ot},wb:function(){return A},YX:function(){return ut},m_:function(){return $e},lI:function(){return fe},xD:function(){return Be},n7:function(){return gr},Y8:function(){return ce},vX:function(){return Ze},O7:function(){return _r},$_:function(){return Jr},Oh:function(){return Ot},qu:function(){return Gt},u7:function(){return Ht},r3:function(){return tr},sO:function(){return Mr},uQ:function(){return Lr},CQ:function(){return Vr},gH:function(){return Fr},LS:function(){return lr},h5:function(){return Qr},tx:function(){return Ur},$t:function(){return Qt},nw:function(){return lt},Dg:function(){return He},Gg:function(){return ar},x5:function(){return Hr},Xw:function(){return de},GW:function(){return be},f7:function(){return mr},_L:function(){return Or},Ls:function(){return Xr},Wp:function(){return Pe},bT:function(){return We},os:function(){return yt},dY:function(){return St},Sh:function(){return ct},cA:function(){return Br},mv:function(){return Dt},fP:function(){return Ir},kD:function(){return bt},sl:function(){return Fe},PB:function(){return ne},YU:function(){return hr},ff:function(){return Mt},zO:function(){return $t},IF:function(){return st},or:function(){return Rt},Pe:function(){return dt},yU:function(){return it},Mj:function(){return rt},p7:function(){return Rr},nF:function(){return kr},Wu:function(){return ie},ed:function(){return ae},xA:function(){return qe},eu:function(){return ea},Zy:function(){return jr},Ny:function(){return Bt},v5:function(){return Et},bO:function(){return Y},fL:function(){return wr},e7:function(){return qr},hu:function(){return mt},GB:function(){return et},kQ:function(){return Gr},Fo:function(){return zr},Oe:function(){return ee}});var r=e(333107),i=e(999787),a=e(221e3),t=e(935183),l=e(79365),g=e(650543),n=e(171150),p=e(32077),s=e(833059),d=e(62396),o=e(370918),v=e(248505),m=e(726988),c=e(810331),C=e(450491),y=e(595086),S=Xe=>null!=Xe&&Xe[y.L]===d.bw.Ordinal,h=e(247425),E=e(426313),u=e(60978),f=e(832573),b=e(962238),V=e(619538),T=e(358864),P=e(509247);class D{constructor(ue,Re){g.f.assertValue(ue,"kind"),g.f.assertAnyValue(Re,"annotations"),this._kind=ue,this._annotations=Re}validate(ue,Re,pt,Kt){var Jt=new It(ue,Re,pt,Kt);return this.accept(Jt),Jt.errors}accept(ue,Re){g.f.assertFail("abstract method")}get kind(){return this._kind}getMetadata(ue,Re){g.f.assertValue(ue,"federatedSchema");var pt=(0,c.Q)(this,ue);if(pt)return pt.column||pt.columnAggr||pt.groupingColumn||pt.groupingColumnAggr||pt.measure?this.getMetadataForProperty(pt,ue):pt.hierarchyLevel||pt.hierarchyLevelAggr?this.getMetadataForHierarchyLevel(pt,ue):pt.columnHierarchyLevelVariation?this.getMetadataForVariation(pt,ue):pt.columnSubquery||pt.columnAggrSubquery?this.getMetadataForSubqueryColumn(pt,ue,Re):pt.columnTransformRef?this.getMetadataForColumnTransformRef():D.getMetadataForEntity(pt,ue)}isOrdinalEvaluation(){return!1}getAnnotations(){return this._annotations}getKeyColumns(ue){var Re=Tt.getColumnRefSQExpr(ue,this);if(Re){var pt=[],Kt=this.getPropertyKeys(ue);if(Kt&&Kt.length>0)for(var Jt=0,pr=Kt.length;Jt<pr;Jt++)pt.push(Ot(Re.source,Kt[Jt].name));else pt.push(Re);return pt}}hasGroupOnKeys(ue){var Re=this.getTargetColumnRef(ue);if(Re){var pt=this.getPropertyKeys(ue);if(!pt||pt.length<1)return!1;if(pt.length>1)return!0;var Kt=Ot(Re.source,pt[0].name);return!(0,E.fS)(Kt,this)}}getPropertyKeys(ue){var Re=this.getConceptualProperty(ue,!0);if(Re)return Re.column?Re.column.keys:void 0}getOrderByColumns(ue){var Re=this.getTargetColumnRef(ue);if(Re){var pt=Re.getConceptualProperty(ue,!0),Kt=pt&&pt.column&&pt.column.orderBy;if(_.isEmpty(Kt))return[];for(var Jt=new Array(Kt.length),pr=0,sr=Kt.length;pr<sr;pr++)Jt[pr]=Ot(Re.source,Kt[pr].name);return Jt}}getConceptualProperty(ue,Re){var pt=(0,c.Q)(this,ue);if(pt){var Kt=(0,m.pV)(pt);if(Kt&&1===_.size(Kt)){var Jt=(0,m.Hp)(pt);if(Jt){var pr=ue.schema(Kt[0].schema);return pr?pr.findProperty(Kt[0].entity,Jt):void 0}if(Re){var sr,Xt;if(pt.columnHierarchyLevelVariation)(sr=pt.columnHierarchyLevelVariation.level)&&(Xt=ue.schema(sr.schema).findHierarchy(sr.entity,sr.name));else if(sr=pt.hierarchyLevel||pt.hierarchyLevelAggr){var Sr=(0,m.Um)(pt);Xt=ue.schema(Sr.schema).findHierarchy(Sr.entity,sr.name)}if(Xt){var Le=Xt.levels.withName(sr.level);if(Le)return Le.column}}}}}getTargetEntityForVariation(ue,Re){var pt=this.getConceptualProperty(ue);if(pt&&pt.column&&!_.isEmpty(pt.column.variations)){var Kt=pt.column.variations;for(var Jt of Kt)if(Jt.name===Re)return Jt.navigationProperty.targetEntity.name}}getTargetEntity(){return tt.getEntityExpr(this)}getTargetSchemaName(){return _e.getSchemaName(this)}getTargetColumnRef(ue){return g.f.assertValue(ue,"schema"),Tt.getColumnRefSQExpr(ue,this)}getMetadataForVariation(ue,Re){g.f.assertValue(ue,"field"),g.f.assertValue(Re,"federatedSchema");var pt=ue.columnHierarchyLevelVariation,Kt=(0,m.Um)(ue),Jt=Re.schema(Kt.schema).findProperty(Kt.entity,pt.source.name);if(Jt&&Jt.column&&Jt.column.variations)for(var pr of Jt.column.variations)if(pr.defaultHierarchy&&pr.defaultHierarchy.levels)for(var sr of pr.defaultHierarchy.levels)if(sr.name===pt.level.level){var Xt=sr.column;return{kind:Xt.kind===s.NT.Measure?n.I.Measure:n.I.Column,type:Xt.type,format:Xt.format,idOnEntityKey:!!Xt.column&&Xt.column.idOnEntityKey,defaultAggregate:Xt.column?Xt.column.defaultAggregate:null}}}getMetadataForHierarchyLevel(ue,Re){g.f.assertValue(ue,"field"),g.f.assertValue(Re,"federatedSchema");var pt=this.getConceptualProperty(Re,!0);if(pt)return this.getPropertyMetadata(ue,pt)}getPropertyMetadata(ue,Re){var pt=ue.columnAggr||ue.groupingColumnAggr||ue.hierarchyLevelAggr,{format:Kt,type:Jt}=pt?this.getFormatAndTypeForAggregate(pt.aggregate,Re.format,Re.type):Re;return{kind:Re.kind===s.NT.Measure||pt&&void 0!==pt.aggregate?n.I.Measure:n.I.Column,type:Jt,format:Kt,idOnEntityKey:!!Re.column&&Re.column.idOnEntityKey,aggregate:pt?pt.aggregate:void 0,defaultAggregate:Re.column?Re.column.defaultAggregate:null}}getMetadataForProperty(ue,Re){g.f.assertValue(ue,"field"),g.f.assertValue(Re,"federatedSchema");var pt=this.getConceptualProperty(Re);if(pt)return this.getPropertyMetadata(ue,pt)}getFormatAndTypeForAggregate(ue,Re,pt){var Kt=Re,Jt=pt;switch(ue){case i.B8.Count:case i.B8.CountNonNull:Jt=v.Ge.fromExtendedType(p.o.Integer),Kt=void 0;break;case i.B8.Avg:case i.B8.StandardDeviation:case i.B8.Variance:Jt.integer&&(Jt=v.Ge.fromExtendedType(p.o.Double),Kt=(0,o.SU)(Kt))}return{format:Kt,type:Jt}}getMetadataForSubqueryColumn(ue,Re,pt){g.f.assertValue(ue,"field"),g.f.assertValue(Re,"federatedSchema"),g.f.assert(()=>!(!pt||!pt.sources),"context sources should be available for evaluating subquery source");var Kt=f.m.getSubqueryExpression(this,pt);g.f.assertValue(Kt,"could not find original select expr of subquery from context");var Jt=Kt.getMetadata(Re,pt);if(Jt){if(Jt.kind=n.I.Column,ue.columnAggrSubquery){var pr=this.getFormatAndTypeForAggregate(ue.columnAggrSubquery.aggregate,Jt.format,Jt.type);Jt.type=pr.type,Jt.format=pr.format,Jt.aggregate=ue.columnAggrSubquery.aggregate}else ue.columnSubquery?Jt.aggregate=void 0:g.f.assertFail("invalid field expression for subquery column");return Jt}}getMetadataForColumnTransformRef(){return{idOnEntityKey:!1,kind:n.I.Column,type:v.Ge.fromVariant([v.Ge.fromPrimitiveTypeAndCategory(r.M.Boolean),v.Ge.fromPrimitiveTypeAndCategory(r.M.DateTime),v.Ge.fromPrimitiveTypeAndCategory(r.M.Decimal),v.Ge.fromPrimitiveTypeAndCategory(r.M.Double),v.Ge.fromPrimitiveTypeAndCategory(r.M.Integer),v.Ge.fromPrimitiveTypeAndCategory(r.M.Text)])}}static getMetadataForEntity(ue,Re){g.f.assertValue(ue,"field"),g.f.assertValue(Re,"federatedSchema");var pt=(0,m.Um)(ue);if(Re.schema(pt.schema).entities.withName(pt.entity)&&ue.entityAggr)switch(ue.entityAggr.aggregate){case i.B8.Count:case i.B8.CountNonNull:return{kind:n.I.Measure,type:v.Ge.fromExtendedType(p.o.Integer),format:void 0,idOnEntityKey:!1,aggregate:ue.entityAggr.aggregate}}}}(0,t.y)(D.prototype);class w extends D{constructor(ue,Re,pt,Kt){g.f.assertValue(Re,"entity"),super(d.sc.Entity,Kt),this.schema=ue,this.entity=Re,pt&&(this.variable=pt)}accept(ue,Re){return ue.visitEntity(this,Re)}as(ue,Re){return new w(this.schema,this.entity,ue,Re)}}class M extends D{constructor(ue,Re,pt,Kt,Jt){g.f.assertValue(ue,"name"),super(d.sc.NativeVisualCalc,Jt),this.name=ue,this.language=Re,this.expression=pt,this.dataType=Kt}accept(ue,Re){return ue.visitNativeVisualCalc(this,Re)}getMetadata(ue){return{kind:n.I.Measure,type:v.Ge.fromPrimitiveTypeAndCategory(this.dataType??r.M.Double)}}}class A extends D{constructor(ue,Re){g.f.assertValue(ue,"source"),g.f.assertAnyValue(Re,"annotations"),super(d.sc.SubqueryRef,Re),_.isString(ue)?this.variable=ue:this.query=ue}accept(ue,Re){return ue.visitSubqueryRef(this,Re)}as(ue,Re){return new A(ue,Re)}}class R extends D{constructor(ue,Re,pt){g.f.assertValue(ue,"source"),super(d.sc.NamedQueryRef,pt),this.queryName=ue,Re&&(this.variable=Re)}accept(ue,Re){return ue.visitNamedQueryRef(this,Re)}as(ue,Re){return new R(this.queryName,ue,Re)}}class B extends D{constructor(ue,Re,pt,Kt){g.f.assertValue(ue,"left"),g.f.assertValue(Re,"right"),g.f.assertValue(pt,"operator"),super(d.sc.Arithmetic,Kt),this.left=ue,this.right=Re,this.operator=pt}accept(ue,Re){return ue.visitArithmetic(this,Re)}getMetadata(ue){var Re=this.left.getMetadata(ue);if((0,u.g5)(this.right))return Re?(g.f.assert(()=>this.operator===i.J4.Divide,"unexpected usage of scoped eval with arithmetic"),Re.format="#,##0.00%",Re.type=v.Ge.fromExtendedType(p.o.Double),Re):void 0;var pr,pt=this.right.getMetadata(ue),Kt=Re?.type,Jt=pt?.type;pr=Kt&&Jt?this.getArithmeticResultType(Kt,Jt):Kt??Jt,g.f.assertValue(pr,"SQExpr - cannot get proper type for arithmetic expression");var Sr,sr=Re?.format,Xt=pt?.format;return(this.operator===i.J4.Add||this.operator===i.J4.Subtract)&&(Sr=sr===Xt?sr:void 0),{format:Sr,type:pr,kind:n.I.Measure}}getArithmeticResultType(ue,Re){return this.operator!==i.J4.Add&&this.operator!==i.J4.Subtract&&this.operator!==i.J4.Multiply&&this.operator!==i.J4.Divide&&g.f.assertNever(this.operator),ue.primitiveType===r.M.Decimal?v.Ge.fromPrimitiveTypeAndCategory(this.operator===i.J4.Divide&&Re.primitiveType===r.M.Decimal?r.M.Double:r.M.Decimal):ue.primitiveType===r.M.Double?v.Ge.fromPrimitiveTypeAndCategory(this.operator!==i.J4.Divide&&Re.primitiveType===r.M.Decimal?r.M.Decimal:r.M.Double):ue.primitiveType===r.M.Integer?this.operator===i.J4.Divide&&Re.primitiveType===r.M.Integer?v.Ge.fromPrimitiveTypeAndCategory(r.M.Double):Re:void g.f.assertFail("unsupported arithmetic expression type")}}class N extends D{constructor(ue,Re,pt,Kt){g.f.assertValue(ue,"arg"),g.f.assertValue(Re,"size"),super(d.sc.Floor,Kt),this.arg=ue,this.size=Re,null!=pt&&(this.timeUnit=pt)}accept(ue,Re){return ue.visitFloor(this,Re)}}class W extends D{constructor(ue,Re,pt){g.f.assertValue(ue,"expression"),g.f.assertValue(Re,"scope"),super(d.sc.ScopedEval,pt),this.expression=ue,this.scope=Re}accept(ue,Re){return ue.visitScopedEval(this,Re)}getMetadata(ue){return this.expression.getMetadata(ue)}hasGlobalScope(){return g.f.assertValue(this.scope,"scope"),0===this.scope.length}hasInnerMostScope(){return g.f.assertValue(this.scope,"scope"),1===this.scope.length&&(0,u.LX)(this.scope[0])}static createGlobalAggregateOfScopedExpr(ue,Re){var pt=new W(ue,[new Ce]);return new W(new z(pt,Re),[])}decomposeGlobalAggregateOfScopedExpr(){if(this.hasGlobalScope()){var ue=this.expression;if((0,u.iV)(ue)){var Re=ue.arg;if((0,u.g5)(Re)&&Re.hasInnerMostScope())return{source:Re.expression,func:ue.func}}}}}class F extends D{constructor(ue,Re,pt){g.f.assertValue(ue,"expression"),g.f.assertValue(Re,"filters"),super(d.sc.FilteredEval,pt),this.expression=ue,this.filters=Re}accept(ue,Re){return ue.visitFilteredEval(this,Re)}getMetadata(ue){return this.expression.getMetadata(ue)}}class U extends D{constructor(ue,Re){g.f.assertValue(ue,"expressionName"),super(d.sc.WithRef,Re),this.expressionName=ue}accept(ue,Re){return ue.visitWithRef(this,Re)}}class O extends D{constructor(ue,Re,pt,Kt){g.f.assertValue(ue,"kind"),g.f.assertValue(Re,"source"),g.f.assertValue(pt,"ref"),super(ue,Kt),this.source=Re,this.ref=pt}}class x extends O{constructor(ue,Re,pt,Kt){super(pt||d.sc.ColumnRef,ue,Re,Kt)}accept(ue,Re){return ue.visitColumnRef(this,Re)}}class I extends O{constructor(ue,Re,pt){super(d.sc.MeasureRef,ue,Re,pt)}accept(ue,Re){return ue.visitMeasureRef(this,Re)}}class L extends D{constructor(ue,Re,pt,Kt,Jt,pr,sr){super(d.sc.NativeMeasure,sr),g.f.assertValue(ue,"language"),g.f.assertValue(Re,"expression"),g.f.assertValue(pt,"dataType"),g.f.assertAnyValue(Kt,"proposedName"),g.f.assertAnyValue(Jt,"expressionContentCache"),g.f.assertAnyValue(pr,"format"),this.language=ue,this.expression=Re,this.dataType=pt,this.proposedName=Kt,this.expressionContentCache=Jt,this.format=pr}getMetadata(ue){return g.f.assertValue(ue,"federatedSchema"),{kind:n.I.Measure,type:v.Ge.fromPrimitiveTypeAndCategory(this.dataType),format:this.format}}accept(ue,Re){return ue.visitNativeMeasure(this,Re)}}class K extends D{constructor(ue,Re,pt,Kt,Jt,pr,sr,Xt){super(d.sc.NativeColumn,Xt),g.f.assertValue(ue,"language"),g.f.assertValue(Re,"expression"),g.f.assertValue(pt,"dataType"),g.f.assertValue(Kt,"source"),g.f.assertAnyValue(Jt,"proposedName"),g.f.assertAnyValue(pr,"expressionContentCache"),g.f.assertAnyValue(sr,"format"),this.language=ue,this.expression=Re,this.dataType=pt,this.source=Kt,this.proposedName=Jt,this.expressionContentCache=pr,this.format=sr}getMetadata(ue){return g.f.assertValue(ue,"federatedSchema"),{kind:n.I.Column,type:v.Ge.fromPrimitiveTypeAndCategory(this.dataType),format:this.format}}accept(ue,Re){return ue.visitNativeColumn(this,Re)}}class z extends D{constructor(ue,Re,pt,Kt){g.f.assertValue(ue,"arg"),g.f.assertValue(Re,"func"),super(d.sc.Aggregation,Kt),this.arg=ue,this.func=Re,this.includeAllTypes=pt,g.f.assert(()=>_.isNil(this.includeAllTypes)||this.func===i.B8.Min||this.func===i.B8.Max,"includeAllTypes has a value and the aggregate is not min/max - not a valid combination.")}accept(ue,Re){return ue.visitAggr(this,Re)}getMetadata(ue,Re){if(g.f.assertValue(ue,"federatedSchema"),(0,u.jk)(this.arg)){var pt=this.getFormatAndTypeForAggregate(this.func,this.arg.format,v.Ge.fromPrimitiveTypeAndCategory(this.arg.dataType));return{kind:n.I.Measure,type:pt.type,format:pt.format}}return super.getMetadata(ue,Re)}}class H extends D{constructor(ue,Re,pt,Kt){g.f.assertValue(ue,"arg"),g.f.assertValue(Re,"k"),g.f.assert(()=>0<=Re&&Re<=1,"0 <= k && k <= 1"),g.f.assertValue(pt,"exclusive"),super(d.sc.Percentile,Kt),this.arg=ue,this.k=Re,this.exclusive=pt}getMetadata(ue){g.f.assertValue(ue,"federatedSchema");var Re=this.arg.getMetadata(ue);if(Re)return{kind:n.I.Measure,type:Re.type}}accept(ue,Re){return ue.visitPercentile(this,Re)}}class J extends D{constructor(ue,Re,pt,Kt){super(d.sc.RangePercent,Kt),this.min=ue,this.max=Re,this.percent=pt,g.f.assert(()=>pt>=0&&pt<=1,"Invalid percent value. Valid values are 0 to 1")}accept(ue,Re){return ue.visitRangePercent(this,Re)}static overRangeOf(ue,Re){var pt=W.createGlobalAggregateOfScopedExpr(ue,i.B8.Min),Kt=W.createGlobalAggregateOfScopedExpr(ue,i.B8.Max);return new J(pt,Kt,Re)}decomposeOverRangePattern(){var ue=this.min,Re=this.max;if((0,u.g5)(ue)&&(0,u.g5)(Re)){var pt=ue.decomposeGlobalAggregateOfScopedExpr(),Kt=Re.decomposeGlobalAggregateOfScopedExpr();if(pt&&Kt&&pt.func===i.B8.Min&&Kt.func===i.B8.Max&&(0,E.fS)(pt.source,Kt.source))return{sourceExpr:pt.source,percent:this.percent}}}}class k extends D{constructor(ue,Re,pt,Kt){g.f.assertValue(ue,"arg"),g.f.assertValue(Re,"name"),g.f.assertValue(pt,"property"),super(d.sc.PropertyVariationSource,Kt),this.arg=ue,this.name=Re,this.property=pt}accept(ue,Re){return ue.visitPropertyVariationSource(this,Re)}}class G extends x{constructor(ue,Re,pt,Kt){g.f.assertValue(ue,"name"),g.f.assertValue(pt,"groupedExprs"),g.f.assert(()=>pt.length>0,"groupedExprs.length > 0"),super(Re,ue,d.sc.GroupRef,Kt),this.groupedExprs=pt}accept(ue,Re){return ue.visitGroupRef(this,Re)}}class q extends D{constructor(ue,Re,pt){g.f.assertValue(ue,"arg"),g.f.assertValue(Re,"hierarchy"),super(d.sc.Hierarchy,pt),this.arg=ue,this.hierarchy=Re}accept(ue,Re){return ue.visitHierarchy(this,Re)}}class Q extends D{constructor(ue,Re,pt){g.f.assertValue(ue,"arg"),g.f.assertValue(Re,"level"),super(d.sc.HierarchyLevel,pt),this.arg=ue,this.level=Re}accept(ue,Re){return ue.visitHierarchyLevel(this,Re)}}class Z extends D{constructor(ue,Re,pt){g.f.assertValue(ue,"expressionName"),super(d.sc.SelectRef,pt),this.expressionName=ue,this.attributeKind=Re}accept(ue,Re){return ue.visitSelectRef(this,Re)}}class X extends D{constructor(ue,Re,pt){g.f.assertValue(ue,"left"),g.f.assertValue(Re,"right"),super(d.sc.And,pt),this.left=ue,this.right=Re}accept(ue,Re){return ue.visitAnd(this,Re)}}class re extends D{constructor(ue,Re,pt,Kt){g.f.assertValue(ue,"arg"),g.f.assertValue(Re,"lower"),g.f.assertValue(pt,"upper"),super(d.sc.Between,Kt),this.arg=ue,this.lower=Re,this.upper=pt}accept(ue,Re){return ue.visitBetween(this,Re)}}class te extends D{constructor(ue,Re,pt,Kt){g.f.assertValue(ue,"args"),g.f.assert(()=>null==Re!=(null==pt),"values or table"),super(d.sc.In,Kt),this.args=ue,Re&&(this.values=Re),pt&&(this.table=pt)}accept(ue,Re){return ue.visitIn(this,Re)}}class se extends D{constructor(ue,Re,pt){g.f.assertValue(ue,"left"),g.f.assertValue(Re,"right"),super(d.sc.Or,pt),this.left=ue,this.right=Re}accept(ue,Re){return ue.visitOr(this,Re)}}class Ve extends D{constructor(ue,Re,pt,Kt){g.f.assertValue(ue,"kind"),g.f.assertValue(Re,"left"),g.f.assertValue(pt,"right"),super(d.sc.Compare,Kt),this.comparison=ue,this.left=Re,this.right=pt}accept(ue,Re){return ue.visitCompare(this,Re)}isOrdinalEvaluation(){return S(this.getAnnotations())}}class ke extends D{constructor(ue,Re,pt){g.f.assertNonEmpty(ue,"cases"),g.f.assertAnyValue(Re,"defaultValue"),super(d.sc.Conditional,pt),this.cases=ue,this.defaultValue=Re}accept(ue,Re){return ue.visitConditional(this,Re)}}class Ue extends D{constructor(ue,Re,pt){g.f.assertValue(ue,"left"),g.f.assertValue(Re,"right"),super(d.sc.Contains,pt),this.left=ue,this.right=Re}accept(ue,Re){return ue.visitContains(this,Re)}isOrdinalEvaluation(){return S(this.getAnnotations())}}class ot extends D{constructor(ue,Re,pt){g.f.assertValue(ue,"left"),g.f.assertValue(Re,"right"),super(d.sc.StartsWith,pt),this.left=ue,this.right=Re}accept(ue,Re){return ue.visitStartsWith(this,Re)}isOrdinalEvaluation(){return S(this.getAnnotations())}}class ft extends D{constructor(ue,Re){g.f.assertValue(ue,"arg"),g.f.assert(()=>ue instanceof w,"Exists only supports Entity argument"),super(d.sc.Exists,Re),this.arg=ue}accept(ue,Re){return ue.visitExists(this,Re)}}class Ct extends D{constructor(ue,Re){g.f.assertValue(ue,"arg"),super(d.sc.Not,Re),this.arg=ue}accept(ue,Re){return ue.visitNot(this,Re)}}class Ke extends D{get valueEncoded(){return void 0===this.typeEncodedValue&&(this.typeEncodedValue=(0,C.CI)(this.rawValue||this.value,this.type)),this.typeEncodedValue}constructor(ue,Re,pt,Kt,Jt){g.f.assertValue(ue,"type"),super(d.sc.Constant,Jt),this.type=ue,this.value=Re,this.typeEncodedValue=pt,Kt&&(this.rawValue=Kt)}accept(ue,Re){return ue.visitConstant(this,Re)}getMetadata(){return{kind:n.I.Measure,type:this.type}}static getNumericValue(ue){if((0,u.S9)(ue)&&_.isNumber(ue.value))return ue.value;g.f.assertFail("SQConstantExpr.getNumericValue - Unexpected SQExpr kind/value")}static getTextValue(ue){if((0,u.AW)(ue)&&_.isString(ue.value))return ue.value;g.f.assertFail("SQConstantExpr.getTextValue - Unexpected SQExpr kind/value")}static getBooleanValue(ue){if((0,u.g)(ue)&&_.isBoolean(ue.value))return ue.value;g.f.assertFail("SQConstantExpr.getBooleanValue - Unexpected SQExpr kind/value")}static getDateValue(ue){if((0,u.fU)(ue)&&_.isDate(ue.value))return ue.value;g.f.assertFail("SQConstantExpr.getDateValue - Unexpected SQExpr kind/value")}}(0,t.y)(Ke.prototype);class Ae extends D{constructor(ue,Re,pt){g.f.assertValue(ue,"unit"),g.f.assertValue(Re,"arg"),super(d.sc.DateSpan,pt),this.unit=ue,this.arg=Re}accept(ue,Re){return ue.visitDateSpan(this,Re)}}class we extends D{constructor(ue,Re,pt,Kt){g.f.assertValue(ue,"unit"),g.f.assertValue(Re,"amount"),g.f.assertValue(pt,"arg"),super(d.sc.DateAdd,Kt),this.unit=ue,this.arg=pt,this.amount=Re}accept(ue,Re){return ue.visitDateAdd(this,Re)}getMetadata(ue){return this.arg.getMetadata(ue)}}class Ne extends D{constructor(ue){super(d.sc.Now,ue)}accept(ue,Re){return ue.visitNow(this,Re)}getMetadata(){return{kind:n.I.Measure,type:v.Ge.fromExtendedType(p.o.DateTime)}}}class Se extends D{constructor(ue){super(d.sc.DefaultValue,ue)}accept(ue,Re){return ue.visitDefaultValue(this,Re)}}class Ie extends D{constructor(ue,Re){g.f.assertAnyValue(ue,"defaultValueOverridesAncestors"),super(d.sc.AnyValue,Re),this.defaultValueOverridesAncestors=ue}accept(ue,Re){return ue.visitAnyValue(this,Re)}}class me extends D{constructor(ue,Re,pt){g.f.assertValue(ue,"input"),g.f.assertValue(Re,"fillRule"),super(d.sc.FillRule,pt),this.input=ue,this.rule=Re}accept(ue,Re){return ue.visitFillRule(this,Re)}}class Oe extends D{constructor(ue,Re,pt){g.f.assertValue(ue,"SQThemeDataColorExpr - colorId"),g.f.assertValue(Re,"SQThemeDataColorExpr - percent"),g.f.assertValue(-1<=Re&&Re<=1,"percent"),super(d.sc.ThemeDataColor,pt),this.colorId=ue,this.percent=Re}accept(ue,Re){return ue.visitThemeDataColor(this,Re)}}class Ee extends D{constructor(ue,Re,pt,Kt){g.f.assertValue(ue,"packageName"),g.f.assertValue(pt,"itemName"),super(d.sc.ResourcePackageItem,Kt),this.packageName=ue,this.packageType=Re,this.itemName=pt}accept(ue,Re){return ue.visitResourcePackageItem(this,Re)}}class xe extends D{constructor(ue,Re){g.f.assertValue(ue,"source"),super(d.sc.TransformTableRef,Re),this.source=ue}accept(ue,Re){return ue.visitTransformTableRef(this,Re)}}class ye extends D{constructor(ue,Re,pt){g.f.assertValue(ue,"role"),super(d.sc.TransformOutputRoleRef,pt),this.role=ue,Re&&(this.transform=Re)}accept(ue,Re){return ue.visitTransformOutputRoleRef(this,Re)}getMetadata(ue){}}class Je extends D{constructor(ue,Re){g.f.assertValue(ue,"role"),super(d.sc.RoleRef,Re),this.role=ue}accept(ue,Re){return ue.visitRoleRef(this,Re)}}class he extends D{constructor(ue,Re){g.f.assert(()=>!_.isEmpty(ue),"name"),g.f.assertAnyValue(Re,"annotations"),super(d.sc.SummaryValueRef,Re),this.name=ue}accept(ue,Re){return ue.visitSummaryValueRef(this,Re)}}class Ce extends D{constructor(ue){super(d.sc.AllRolesRef,ue)}accept(ue,Re){return ue.visitAllRolesRef(this,Re)}}class je extends D{constructor(ue,Re,pt){g.f.assertValue(ue,"source"),super(d.sc.Discretize,pt),this.source=ue,this.count=Re}accept(ue,Re){return ue.visitDiscretize(this,Re)}}class pe extends D{constructor(ue,Re,pt){g.f.assertValue(ue,"source"),g.f.assertValue(Re,"member"),super(d.sc.Member,pt),this.source=ue,this.member=Re}accept(ue,Re){return ue.visitMember(this,Re)}}class Qe extends D{constructor(ue,Re,pt,Kt,Jt,pr){super(d.sc.SparklineData,pr),g.f.assertValue(ue,"measure"),g.f.assertValue(Re,"grouping"),g.f.assertAnyValue(pt,"scalarKey"),g.f.assert(()=>1===_.size(Re),"exactly 1 grouping is allowed"),this.measure=ue,this.grouping=Re,this.scalarKey=pt,this.pointsPerSparkline=Kt,this.includeMinGroupingInterval=Jt}getMetadata(ue){return g.f.assertValue(ue,"federatedSchema"),g.f.assert(()=>1===_.size(this.grouping),"exactly 1 grouping is allowed"),{kind:n.I.Measure,type:v.Ge.fromDescriptor({misc:{sparkline:{groupingType:this.grouping[0].getMetadata(ue)?.type}}})}}accept(ue,Re){return ue.visitSparklineData(this,Re)}}class ut extends D{constructor(ue){super(d.sc.VisualTopN),g.f.assertValue(ue,"itemCount"),this.itemCount=ue}accept(ue,Re){return ue.visitVisualTopN(this,Re)}}function lt(Xe,ue,Re,pt){return new w(Xe,ue,Re,pt)}function Et(Xe,ue){return _.isString(Xe),new A(Xe,ue)}function bt(Xe,ue,Re){return new R(Xe,ue,Re)}function Ot(Xe,ue,Re){return new x(Xe,ue,null,Re)}function Dt(Xe,ue,Re){return new I(Xe,ue,Re)}function ne(Xe,ue,Re,pt,Kt,Jt,pr){return new L(Xe,ue,Re,pt,Kt,Jt,pr)}function Fe(Xe,ue,Re,pt,Kt,Jt,pr,sr){return new K(Xe,ue,Re,pt,Kt,Jt,pr,sr)}function $e(Xe,ue,Re,pt){return new z(Xe,ue,Re,pt)}function qe(Xe,ue,Re){return new Z(Xe,ue,Re)}function dt(Xe,ue,Re,pt){return new H(Xe,ue,Re,pt)}function rt(Xe,ue,Re,pt){return new J(Xe,ue,Re,pt)}function ce(Xe,ue,Re,pt){return new B(Xe,ue,Re,pt)}function be(Xe,ue,Re,pt){return new N(Xe,ue,Re,pt)}function ae(Xe,ue,Re){return new W(Xe,ue,Re)}function de(Xe,ue,Re){return new F(Xe,ue,Re)}function ee(Xe,ue){return new U(Xe,ue)}function Pe(Xe,ue,Re,pt){return new G(Xe,ue,Re,pt)}function We(Xe,ue,Re){return new q(Xe,ue,Re)}function it(Xe,ue,Re,pt){return new k(Xe,ue,Re,pt)}function yt(Xe,ue,Re){return new Q(Xe,ue,Re)}function et(Xe,ue){return new xe(Xe,ue)}function mt(Xe,ue,Re){return new ye(Xe,ue,Re)}function ie(Xe,ue){return new Je(Xe,ue)}function Y(Xe,ue){return new he(Xe,ue)}function fe(Xe){return new Ce(Xe)}function Be(Xe,ue,Re){return Xe?ue?new X(Xe,ue,Re):Xe:ue}function Ze(Xe,ue,Re,pt){return new re(Xe,ue,Re,pt)}function ct(Xe,ue,Re){return new te(Xe,ue,null,Re)}function St(Xe,ue,Re){return new te(Xe,null,ue,Re)}function Rt(Xe,ue,Re){if(!Xe)return ue;if(!ue)return Xe;if((0,u.Hi)(Xe)&&(0,u.Hi)(ue)){var pt=function(Xe,ue,Re){if(Xe.args&&ue.args&&Xe.values&&ue.values){var pt=Xe.args.length;if(pt===ue.args.length){for(var Jt=0;Jt<pt;++Jt)if(!(0,E.fS)(Xe.args[Jt],ue.args[Jt]))return;var pr=Xe.values.concat(ue.values);return ct(Xe.args,pr,Re)}}}(Xe,ue,Re);if(pt)return pt}return new se(Xe,ue,Re)}function Gt(Xe,ue,Re,pt){return new Ve(Xe,ue,Re,pt)}function Ht(Xe,ue,Re){return new ke(Xe,ue,Re)}function tr(Xe,ue,Re){return new Ue(Xe,ue,Re)}function ar(Xe,ue){return new ft(Xe,ue)}function He(Xe,ue,Re){return Gt(i.uu.Equal,Xe,ue,Re)}function Mt(Xe,ue){return new Ct(Xe,ue)}function Bt(Xe,ue,Re){return new ot(Xe,ue,Re)}var ze=new Ke(v.Ge.fromExtendedType(p.o.Null),null,(0,C.Wv)());function st(){return ze}var Lt=new Ke(v.Ge.fromExtendedType(p.o.Text),"");function Qt(){return Lt}function $t(Xe){return new Ne(Xe)}function lr(Xe){return new Se(Xe)}function gr(Xe,ue){return new Ie(Xe,ue)}function _r(Xe,ue){return new Ke(v.Ge.fromExtendedType(p.o.Boolean),Xe,(0,C.O7)(Xe),void 0,ue)}function Mr(Xe,ue,Re,pt){return new we(Xe,ue,Re,pt)}function Vr(Xe,ue,Re){return new Ke(v.Ge.fromExtendedType(p.o.DateTime),Xe,ue,void 0,Re)}function Lr(Xe,ue,Re){return new Ae(Xe,ue,Re)}function Fr(Xe,ue,Re){return new Ke(v.Ge.fromExtendedType(p.o.Decimal),Xe,ue,void 0,Re)}function Ur(Xe,ue,Re){return new Ke(v.Ge.fromExtendedType(p.o.Double),Xe,ue,void 0,Re)}function Br(Xe,ue,Re){return new Ke(v.Ge.fromExtendedType(p.o.Integer),Xe,ue,void 0,Re)}function wr(Xe,ue,Re){return g.f.assert(()=>!ue||ue===(0,C.fL)(Xe),"Incorrect encoded value specified."),new Ke(v.Ge.fromExtendedType(p.o.Text),Xe,ue,void 0,Re)}function Gr(Xe,ue){return null==Xe?st():_.isBoolean(Xe)?_r(Xe):_.isString(Xe)?wr(Xe):_.isNumber(Xe)?ue.integer&&(0,a.U)(Xe)?Br(Xe):Ur(Xe):Xe instanceof Date?Vr(Xe):void 0}function mr(Xe,ue,Re,pt){return new Ke(v.Ge.fromExtendedType(Xe),ue,void 0,Re,pt)}function jr(Xe,ue,Re,pt,Kt,Jt){return new Qe(Xe,ue,Re,pt,Kt,Jt)}function Rr(Xe){return Ge.rewrite(Xe)}function ea(Xe,ue,Re,pt){if((0,u.jX)(Xe))return Me.rewrite(Xe,ue,Re,pt)}function Hr(Xe,ue,Re){return g.f.assertValue(Xe,"expr"),g.f.assertValue(ue,"rule"),new me(Xe,ue,Re)}function qr(Xe,ue,Re){return g.f.assertValue(Xe,"themeDataColor - colorId"),g.f.assertValue(ue,"themeDataColor - percent"),new Oe(Xe,ue,Re)}function kr(Xe,ue,Re,pt){return new Ee(Xe,ue,Re,pt)}function Qr(Xe,ue,Re){return new je(Xe,ue,Re)}function Ir(Xe,ue,Re){return new pe(Xe,ue,Re)}function Jr(Xe,ue,Re){return g.f.assertValue(null==Xe||(0,l.A7)(Xe),"SQExprBuilder.color - hexCode has to either not exist or be a valid hex code"),g.f.assertValue(ue,"SQExprBuilder.color - colorName has to exist"),wr(Xe||ue,void 0,Re)}function hr(Xe,ue,Re,pt){return new M(Xe,"dax",ue,Re,pt)}function zr(Xe){return new ut(Xe)}function Or(Xe){return Pt.getAggregate(Xe)}function Xr(Xe){if(g.f.assertValue(Xe,"expr"),(0,u.VC)(Xe)&&Xe.type.text)return Xe.value}class It extends h.b{constructor(ue,Re,pt,Kt){g.f.assertValue(ue,"schema"),g.f.assertValue(Re,"aggrUtils"),super(),this.schema=ue,this.aggrUtils=Re,this.context=Kt,pt&&(this.errors=pt)}visitIn(ue){var Re=this,pt=super.visitIn(ue),Kt=pt.args,Jt=pt.values;if(Jt){g.f.assert(()=>!pt.table,"values and table cannot both be specified for the In operator");var pr=function(Sr){g.f.assert(()=>Sr.length===Kt.length,"args and value tuple are not the same length");for(var Le=0,Ye=Sr.length;Le<Ye;++Le)Re.validateCompatibleType(Kt[Le],Sr[Le])};for(var sr of Jt)pr(sr)}else{var Xt=pt.table;g.f.assert(()=>!!Xt,"either values or table must be non-null for an In operator"),this.validateIsTableRef(Xt)}return pt}visitCompare(ue){var Re=super.visitCompare(ue);return this.validateCompatibleType(Re.left,Re.right),Re}visitColumnRef(ue){if((0,u.jv)(ue.source))return f.m.getSubqueryExpression(ue,this.context)||this.register(d.cN.invalidSubqueryReference),ue;var pt=(0,c.Q)(ue);return pt&&this.validateColumnExpr(pt),ue}visitMeasureRef(ue){var Re=(0,c.Q)(ue);if(Re){var pt=(0,m.Um)(Re),Kt=this.validateEntity(pt.schema,pt.entity);if(Kt){var Jt=Kt.properties.withName(Re.measure.name);(!Jt||Jt.kind!==s.NT.Measure||!this.isQueryable(Re))&&this.register(d.cN.invalidMeasureReference)}}return ue}visitAggr(ue){var Re=super.visitAggr(ue);return Tt.getColumnRefSQExpr(this.schema,Re.arg)&&(this.aggrUtils.isSupportedAggregate(ue,this.schema,ue.func,null,this.context)||this.register(d.cN.invalidAggregateFunction)),Re}visitGroupRef(ue){var Re=(0,c.Q)(ue);if(Re){var pt=(0,m.Um)(Re),Kt=this.validateEntity(pt.schema,pt.entity);if(Kt){var Jt=Kt.properties.withName(Re.groupingColumn.name);(!Jt||Jt.kind!==s.NT.Column||!this.validateExprSequence(ue.groupedExprs)||!Jt.column.groupingMetadata||!this.isQueryable(Re))&&this.register(d.cN.invalidGroupingColumnReference)}}return ue}visitHierarchy(ue){var Re=(0,c.Q)(ue);if(Re){var pt=Re.hierarchy;pt?this.validateHierarchy(pt.schema,pt.entity,pt.name):this.register(d.cN.invalidHierarchyReference)}return ue}visitHierarchyLevel(ue){var Re=(0,c.Q)(ue);if(Re){var pt=Re.hierarchyLevel,Kt=Re.columnHierarchyLevelVariation;pt?this.validateHierarchyLevel(pt.schema,pt.entity,pt.name,pt.level):Kt?this.validateHierarchyLevelVariation(Kt):this.register(d.cN.invalidHierarchyLevelReference)}return ue}visitPercentile(ue){if(ue.arg.accept(this),_.isEmpty(this.errors)){var Re=ue.arg.getMetadata(this.schema,this.context);(!Re||Re.kind!==n.I.Column||!Re.type||!Re.type.integer&&!Re.type.numeric)&&this.register(d.cN.invalidPercentileArgument)}return ue}visitRangePercent(ue){return(ue.percent>1||ue.percent<0)&&this.register(d.cN.invalidPercentArgument),ue.min.accept(this),ue.max.accept(this),ue}visitDiscretize(ue){return ue.source.accept(this),ue.count<=0&&this.register(d.cN.invalidDiscretizeCount),ue}visitEntity(ue){return this.validateEntity(ue.schema,ue.entity),ue}visitSubqueryRef(ue){return ue}visitNamedQueryRef(ue){return ue}visitContains(ue){return this.validateStartOrContainsArgs(ue.left,ue.right),ue}visitStartsWith(ue){return this.validateStartOrContainsArgs(ue.left,ue.right),ue}visitArithmetic(ue){return this.validateArithmeticTypes(ue.operator,ue.left,ue.right),ue}visitScopedEval(ue){if(ue.hasGlobalScope()||ue.hasInnerMostScope())return ue;for(var Re of ue.scope)(0,u.DB)(Re)||(0,u.t3)(Re)||this.register(d.cN.invalidScopeArgument);return ue}visitFilteredEval(ue){for(var Re of(ue.expression.accept(this),0===_.size(ue.filters)&&this.register(d.cN.invalidFiltersForFilteredEval),ue.filters)){if(!_.isEmpty(Re.target))for(var pt of Re.target)pt.accept(this);Re.condition.accept(this)}return ue}visitWithRef(ue){return ue}visitTransformTableRef(ue){return ue}visitTransformOutputRoleRef(ue){return ue}visitRoleRef(ue){return ue}visitSummaryValueRef(ue){return ue}visitAllRolesRef(ue){return ue}visitSparklineData(ue){if((0,P.k)(ue.measure)){var Re=ue.measure.getMetadata(this.schema),pt=Re?.type;!pt?.numeric&&!pt?.integer&&this.register(d.cN.invalidMeasureReference)}else this.register(d.cN.invalidMeasureReference);for(var Kt of(g.f.assert(()=>1===_.size(ue.grouping),"Only support 1 grouping for now"),_.some(ue.grouping,Jt=>(0,P.k)(Jt))&&this.register(d.cN.invalidColumnReference),ue.measure.accept(this),ue.grouping))Kt.accept(this);return ue.scalarKey&&ue.scalarKey.accept(this),ue}visitNativeVisualCalc(ue){return ue}validateExprSequence(ue){return _.reduce(ue,(Re,pt)=>Re&&_.isEmpty(pt.validate(this.schema,this.aggrUtils,this.errors,this.context)),!0)}validateStartOrContainsArgs(ue,Re){ue.accept(this),Re.accept(this),_.isEmpty(this.errors)&&((0,u.VC)(Re)&&Re.type.text?this.validateCompatibleType(ue,Re,!0):this.register(d.cN.invalidRightOperandType))}validateArithmeticTypes(ue,Re,pt){f.m.supportsArithmetic(ue,Re,this.schema)||this.register(d.cN.invalidLeftOperandType),f.m.supportsArithmetic(ue,pt,this.schema)||this.register(d.cN.invalidRightOperandType)}validateCompatibleType(ue,Re,pt){var Kt=ue.getMetadata(this.schema,this.context),Jt=Kt&&Kt.type,pr=Re.getMetadata(this.schema,this.context),sr=pr&&pr.type;(pt?!Jt||!sr||!Jt.isCompatibleFrom(sr):Jt&&sr&&!Jt.isCompatibleFrom(sr))&&this.register(d.cN.invalidValueType)}validateEntity(ue,Re){var pt=this.schema.schema(ue);if(pt){var Kt=pt.entities.withName(Re);if(Kt)return Kt;this.register(d.cN.invalidEntityReference)}else this.register(d.cN.invalidSchemaReference)}validateIsTableRef(ue){ue.kind!==d.sc.SubqueryRef&&ue.kind!==d.sc.Entity&&this.register(d.cN.invalidTableReference)}validateHierarchy(ue,Re,pt){var Kt=this.validateEntity(ue,Re);if(Kt){var Jt=Kt.hierarchies.withName(pt);if(Jt)return Jt;this.register(d.cN.invalidHierarchyReference)}}validateHierarchyLevel(ue,Re,pt,Kt){var Jt=this.validateHierarchy(ue,Re,pt);if(Jt){var pr=Jt.levels.withName(Kt);if(pr)return pr;this.register(d.cN.invalidHierarchyLevelReference)}}validateHierarchyLevelVariation(ue){var Re=ue.source,pt=this.schema.schema(Re.schema),Kt=pt.findProperty(Re.entity,Re.name);if(this.validateColumnExpr({column:ue.source}),Kt&&Kt.column){var pr=Kt.column.variations.withName(ue.variationName);if(pr){var sr=pt.findHierarchyByVariation(Re.entity,Re.name,ue.variationName,ue.level.name);if(sr&&sr.levels.withName(ue.level.level))return pr}this.register(d.cN.invalidVariationReference)}}validateColumnExpr(ue){var Re=ue.column,pt=this.validateEntity(Re.schema,Re.entity);if(pt){var Kt=pt.properties.withName(Re.name);if(Kt&&Kt.kind===s.NT.Column&&this.isQueryable(ue))return Kt;this.register(d.cN.invalidColumnReference)}}register(ue){this.errors||(this.errors=[]),this.errors.push(ue)}isQueryable(ue){var Re=(0,m.Um)(ue);if(ue.hierarchyLevel||ue.hierarchyLevelAggr){var pt=(0,V.S7)(this.schema,ue);return pt&&pt.column.queryable!==s.rW.Error}return this.schema.schema(Re.schema).findProperty(Re.entity,(0,m.Hp)(ue)).queryable!==s.rW.Error}}class Pt extends b.vq{visitAggr(ue){return ue.func}visitDefault(ue){}static getAggregate(ue){var Re=new Pt;return ue.accept(Re)}}class Tt extends b.vq{constructor(ue){super(),this.schema=ue}visitColumnRef(ue){return ue}visitGroupRef(ue){return ue}visitHierarchyLevel(ue){var Re=ue.level,pt=ue.arg,Kt=pt.accept(this);if(pt&&(0,u.jc)(pt.arg)){var pr=Kt.getTargetEntityForVariation(this.schema,pt.arg.name);if(Kt&&pr){var sr=Kt.source.schema,Xt=lt(sr,pr),Sr=this.schema.schema(sr).findHierarchy(pr,pt.hierarchy);if(Sr)for(var Le of Sr.levels)if(Le.name===Re)return new x(Xt,Le.column.name)}}else{var Ye=pt.arg,ht=(0,V.g8)(this.schema,Ye.schema,Ye.entity,pt.hierarchy,ue.level);if(ht)return new x(pt.arg,ht.column.name)}}visitHierarchy(ue){return ue.arg.accept(this)}visitPropertyVariationSource(ue){return new x(ue.arg,ue.property)}visitAggr(ue){return ue.arg.accept(this)}visitDefault(ue){}static getColumnRefSQExpr(ue,Re){var pt=new Tt(ue);return Re.accept(pt)}}class tt extends b.PA{visitEntity(ue){var Re=this.result;this.result=void 0===Re||(0,E.fS)(Re,ue)?ue:null}visitFilteredEval(ue){ue.expression.accept(this)}static getEntityExpr(ue){var Re=new tt;return ue.accept(Re),Re.result||void 0}}var _e=(()=>{class Xe extends b.vq{visitNativeVisualCalc(Re){}visitDefault(Re){return Re.getTargetEntity()?.schema}static getSchemaName(Re){return Re.accept(Xe.instance)}}return Xe.instance=new Xe,Xe})(),Ge=(()=>{class Xe extends h.b{visitEntity(Re){return Re.variable?lt(Re.schema,Re.entity):Re}static rewrite(Re){return g.f.assertValue(Re,"expr"),Re.accept(Xe.instance)}}return Xe.instance=new Xe,Xe})(),Me=(()=>{class Xe extends T.p{static rewrite(Re,pt,Kt,Jt){return g.f.assertValue(Re,"expr"),g.f.assert(()=>(0,u.jX)(Re),"should be a native visual calc"),Re.accept(Xe.instance,{expression:pt,name:Kt,dataType:Jt})}visitNativeVisualCalc(Re,pt){return hr(pt.name,pt.expression,pt.dataType,Re.getAnnotations())}}return Xe.instance=new Xe,Xe})();class at extends b.vq{visitHierarchyLevel(ue){return ue.arg.accept(this)}visitHierarchy(ue){return ue.arg.accept(this)}visitPropertyVariationSource(ue){return ue.property}static getProperty(ue){var Re=new at;return ue.accept(Re)}}},426313:function(ve,j,e){e.d(j,{C6:function(){return S},FK:function(){return p},Me:function(){return n},fS:function(){return l},ll:function(){return d},qV:function(){return s}});var r=e(301336),i=e(990297),a=e(650543),t=e(60978);function l(h,E,u,f,b){return g.run(h,E,u,f,b)}var g=(()=>{class h{static getInstance(u,f,b){u||(u=!1),f||(f=!1),b||(b=!1);var V=[+u,+f,+b].reduce((P,D)=>P<<1|D),T=h.instances[V];return T||(T=new h(u,f,b)),T}static run(u,f,b,V,T){return(u=u||null)===(f=f||null)||!u==!f&&(a.f.assertValue(u,"x"),a.f.assertValue(f,"y"),u.accept(h.getInstance(b,V,T),f))}constructor(u,f,b){this.ignoreCase=u,this.ignoreVariables=f,this.ignoreAnnotations=b}visitColumnRef(u,f){return!(!(0,t.t3)(f)&&!(0,t.wD)(f))&&u.ref===f.ref&&this.equals(u.source,f.source)&&this.equalAnnotations(u,f)}visitMeasureRef(u,f){return!(!(0,t.kb)(f)||!this.equalAnnotations(u,f))&&u.ref===f.ref&&this.equals(u.source,f.source)}visitNativeMeasure(u,f){if(!(0,t.cY)(f)||u.language!==f.language||u.expression!==f.expression||u.dataType!==f.dataType||u.format!==f.format||u.proposedName!==f.proposedName||!this.equalAnnotations(u,f))return!1;var b=u.expressionContentCache,V=f.expressionContentCache;return!b&&!V||!(!b||!V)&&b.unrecognizedIdentifiers===V.unrecognizedIdentifiers&&this.equalsAll(b.dependencies,V.dependencies)}visitNativeColumn(u,f){if(!(0,t.jk)(f)||u.language!==f.language||u.expression!==f.expression||u.dataType!==f.dataType||u.proposedName!==f.proposedName||u.format!==f.format||!this.equals(u.source,f.source)||!this.equalAnnotations(u,f))return!1;var b=u.expressionContentCache,V=f.expressionContentCache;return!b&&!V||!(!b||!V)&&b.unrecognizedIdentifiers===V.unrecognizedIdentifiers&&this.equalsAll(b.dependencies,V.dependencies)}visitAggr(u,f){return(0,t.iV)(f)&&this.equalAnnotations(u,f)&&u.func===f.func&&this.equals(u.arg,f.arg)}visitPercentile(u,f){return!(!(0,t.T5)(f)||!this.equalAnnotations(u,f))&&u.exclusive===f.exclusive&&u.k===f.k&&this.equals(u.arg,f.arg)}visitRangePercent(u,f){return!(!(0,t.YF)(f)||!this.equalAnnotations(u,f))&&u.percent===f.percent&&this.equals(u.min,f.min)&&this.equals(u.max,f.max)}visitGroupRef(u,f){var b=!1;return((0,t.wD)(f)||(0,t.t3)(f))&&(b=u.ref===f.ref&&this.equals(u.source,f.source)&&this.equalAnnotations(u,f)),(0,t.wD)(f)&&this.equalAnnotations(u,f)&&(b=b&&this.equalsAll(u.groupedExprs,f.groupedExprs)),b}visitHierarchy(u,f){return!(!(0,t.y3)(f)||!this.equalAnnotations(u,f))&&u.hierarchy===f.hierarchy&&this.equals(u.arg,f.arg)}visitHierarchyLevel(u,f){return!(!(0,t.ez)(f)||!this.equalAnnotations(u,f))&&u.level===f.level&&this.equals(u.arg,f.arg)}visitPropertyVariationSource(u,f){return!(!(0,t.jc)(f)||!this.equalAnnotations(u,f))&&u.name===f.name&&u.property===f.property&&this.equals(u.arg,f.arg)}visitSelectRef(u,f){return!(!(0,t.NH)(f)||!this.equalAnnotations(u,f)||u.expressionName!==f.expressionName||u.attributeKind!==f.attributeKind&&this.isNullOrUndefined(u.attributeKind)!==this.isNullOrUndefined(f.attributeKind))}isNullOrUndefined(u){return null==u}visitBetween(u,f){return!(!(0,t.Kh)(f)||!this.equalAnnotations(u,f))&&this.equals(u.arg,f.arg)&&this.equals(u.lower,f.lower)&&this.equals(u.upper,f.upper)}visitIn(u,f){if(!(0,t.Hi)(f)||!this.equalsAll(u.args,f.args)||!this.equalAnnotations(u,f))return!1;var b=f,V=u.values;if(V){var T=b.values;if(!T||V.length!==T.length)return!1;for(var P=0,D=V.length;P<D;P++)if(!this.equalsAll(V[P],T[P]))return!1}else if(a.f.assert(()=>!!u.table,"either values or table must be non-null for an In operator"),!b.table||!this.equals(u.table,b.table))return!1;return!0}visitEntity(u,f){return!(!(0,t.Lk)(f)||!this.equalAnnotations(u,f))&&u.schema===f.schema&&u.entity===f.entity&&(this.ignoreVariables||this.optionalEqual(u.variable,f.variable))}visitSubqueryRef(u,f){return!(!(0,t.jv)(f)||!this.equalAnnotations(u,f)||!u.query&&f.query||u.query&&!f.query)&&(u.query&&f.query?u.variable===f.variable&&S(u.query,f.query):u.variable===f.variable)}visitNamedQueryRef(u,f){return!(!(0,t.Il)(f)||!this.equalAnnotations(u,f))&&u.queryName===f.queryName&&(this.ignoreVariables||this.optionalEqual(u.variable,f.variable))}visitAnd(u,f){return!(!(0,t.un)(f)||!this.equalAnnotations(u,f))&&this.equals(u.left,f.left)&&this.equals(u.right,f.right)}visitOr(u,f){return!(!(0,t.Z8)(f)||!this.equalAnnotations(u,f))&&this.equals(u.left,f.left)&&this.equals(u.right,f.right)}visitCompare(u,f){return!(!(0,t.$Q)(f)||!this.equalAnnotations(u,f))&&u.comparison===f.comparison&&this.equals(u.left,f.left)&&this.equals(u.right,f.right)}visitConditional(u,f){return!(!(0,t.Gs)(f)||!this.equalAnnotations(u,f))&&(0,i.NF)(u.cases,f.cases,(b,V)=>this.visitCase(b,V))&&this.equalsNullableObject(u.defaultValue,f.defaultValue,(b,V)=>this.equals(b,V))}visitCase(u,f){return this.equals(u.condition,f.condition)&&this.equals(u.value,f.value)}visitContains(u,f){return!(!(0,t.IS)(f)||!this.equalAnnotations(u,f))&&this.equals(u.left,f.left)&&this.equals(u.right,f.right)}visitDateSpan(u,f){return!(!(0,t.dZ)(f)||!this.equalAnnotations(u,f))&&u.unit===f.unit&&this.equals(u.arg,f.arg)}visitDateAdd(u,f){return!(!(0,t.Ok)(f)||!this.equalAnnotations(u,f))&&u.unit===f.unit&&u.amount===f.amount&&this.equals(u.arg,f.arg)}visitExists(u,f){return!(!(0,t.hV)(f)||!this.equalAnnotations(u,f))&&this.equals(u.arg,f.arg)}visitNot(u,f){return!(!(0,t.Ym)(f)||!this.equalAnnotations(u,f))&&this.equals(u.arg,f.arg)}visitNow(u,f){return!!this.equalAnnotations(u,f)&&(0,t.jr)(f)}visitDefaultValue(u,f){return!!this.equalAnnotations(u,f)&&(0,t.FU)(f)}visitAnyValue(u,f){return!!this.equalAnnotations(u,f)&&(0,t.cw)(f)}visitResourcePackageItem(u,f){return!(!(0,t.MI)(f)||!this.equalAnnotations(u,f))&&u.packageName===f.packageName&&u.packageType===f.packageType&&u.itemName===f.itemName}visitStartsWith(u,f){return!(!(0,t.f8)(f)||!this.equalAnnotations(u,f))&&this.equals(u.left,f.left)&&this.equals(u.right,f.right)}visitConstant(u,f){return!!((0,t.VC)(f)&&u.type.equals(f.type)&&this.equalAnnotations(u,f))&&(u.type.text&&this.ignoreCase?(0,r.vr)(u.valueEncoded,f.valueEncoded):u.valueEncoded===f.valueEncoded)}visitFillRule(u,f){if(!(0,t.Tu)(f)||!this.equals(u.input,f.input)||!this.equalAnnotations(u,f))return!1;var b=u.rule,V=f.rule;return b===V||this.equalsNullableObject(b.linearGradient2,V.linearGradient2,(T,P)=>this.visitLinearGradient2(T,P))&&this.equalsNullableObject(b.linearGradient3,V.linearGradient3,(T,P)=>this.visitLinearGradient3(T,P))}visitLinearGradient2(u,f){return a.f.assertValue(u,"left"),a.f.assertValue(f,"right"),this.equalsFillRuleStop(u.min,f.min)&&this.equalsFillRuleStop(u.max,f.max)&&this.equalsNullableObject(u.nullColoringStrategy,f.nullColoringStrategy,(b,V)=>this.equalsNullStrategy(b,V))}visitLinearGradient3(u,f){return a.f.assertValue(u,"left"),a.f.assertValue(f,"right"),this.equalsFillRuleStop(u.min,f.min)&&this.equalsFillRuleStop(u.mid,f.mid)&&this.equalsFillRuleStop(u.max,f.max)&&this.equalsNullableObject(u.nullColoringStrategy,f.nullColoringStrategy,(b,V)=>this.equalsNullStrategy(b,V))}visitThemeDataColor(u,f){return a.f.assertValue(u,"expr"),a.f.assertValue(f,"comparand"),(0,t.wt)(f)&&u.colorId===f.colorId&&u.percent===f.percent}equalsFillRuleStop(u,f){return a.f.assertValue(u,"stop1"),a.f.assertValue(f,"stop2"),this.equals(u.color,f.color)&&this.equalsNullable(u.value,f.value)}equalsNullStrategy(u,f){return a.f.assertValue(u,"equalsNullStrategy - left"),a.f.assertValue(f,"equalsNullStrategy - right"),this.equals(u.strategy,f.strategy)&&this.equalsNullable(u.color,f.color)}visitArithmetic(u,f){return!(!(0,t.lF)(f)||!this.equalAnnotations(u,f))&&u.operator===f.operator&&this.equals(u.left,f.left)&&this.equals(u.right,f.right)}visitFloor(u,f){return!(!(0,t.xb)(f)||!this.equalAnnotations(u,f))&&u.timeUnit===f.timeUnit&&u.size===f.size&&this.equals(u.arg,f.arg)}visitScopedEval(u,f){return!(!(0,t.g5)(f)||!this.equalAnnotations(u,f))&&this.equals(u.expression,f.expression)&&this.equalsAll(u.scope,f.scope)}visitFilteredEval(u,f){return!(!(0,t.ZG)(f)||!this.equalAnnotations(u,f))&&this.equals(u.expression,f.expression)&&u.filters.length===f.filters.length&&_.every(u.filters,(b,V)=>n(b,f.filters[V]))}visitWithRef(u,f){return!(!(0,t.DB)(f)||!this.equalAnnotations(u,f))&&u.expressionName===f.expressionName}visitTransformTableRef(u,f){return!(!(0,t.PA)(f)||!this.equalAnnotations(u,f))&&u.source===f.source}visitTransformOutputRoleRef(u,f){return!(!(0,t.Im)(f)||!this.equalAnnotations(u,f))&&u.role===f.role&&u.transform===f.transform}visitRoleRef(u,f){return!(!(0,t.yL)(f)||!this.equalAnnotations(u,f))&&u.role===f.role}visitSummaryValueRef(u,f){return!(!(0,t.Bm)(f)||!this.equalAnnotations(u,f))&&u.name===f.name}visitAllRolesRef(u,f){return(0,t.LX)(f)}visitDiscretize(u,f){return!(!(0,t.P4)(f)||!this.equalAnnotations(u,f))&&u.count===f.count&&this.equals(u.source,f.source)}visitMember(u,f){return!(!(0,t.RN)(f)||!this.equalAnnotations(u,f))&&u.member===f.member&&this.equals(u.source,f.source)}visitSparklineData(u,f){return!!(0,t.tO)(f)&&this.equals(u.measure,f.measure)&&this.equalsAll(u.grouping,f.grouping)&&!!(!u.scalarKey&&!f.scalarKey||u.scalarKey&&f.scalarKey&&this.equals(u.scalarKey,f.scalarKey))&&u.pointsPerSparkline===f.pointsPerSparkline&&u.includeMinGroupingInterval===f.includeMinGroupingInterval}optionalEqual(u,f){return!u||!f||u===f}equals(u,f){return u.accept(this,f)}equalsNullable(u,f){return this.equalsNullableObject(u,f,(b,V)=>this.equals(b,V))}equalsNullableObject(u,f,b){return null==u&&null==f||null!=u&&null!=f&&b(u,f)}equalsAll(u,f){return(0,i.NF)(u,f,(b,V)=>this.equals(b,V))}equalAnnotations(u,f){return!(!this.ignoreAnnotations&&!_.isEqual(u.getAnnotations(),f.getAnnotations()))}visitNativeVisualCalc(u,f){return!(!this.ignoreAnnotations&&!_.isEqual(u.getAnnotations(),f.getAnnotations()))&&u.language===f.language&&u.expression===f.expression&&u.name===f.name&&u.dataType===f.dataType}visitVisualTopN(u,f){return!!(0,t.Hz)(f)&&u.itemCount===f.itemCount}}return h.instances=[],h})();function n(h,E){return a.f.assertAnyValue(h,"leftFilter"),a.f.assertAnyValue(E,"rightFilter"),h||(h=null),E||(E=null),h===E||!(!!h!=!!E||!p(h,E))&&l(h.condition,E.condition)}function p(h,E){return a.f.assertValue(h,"leftFilter"),a.f.assertValue(E,"rightFilter"),(0,i.NF)(h.target,E.target,l)}function s(h,E){return a.f.assertAnyValue(h,"filters"),a.f.assertValue(E,"searchTarget"),!_.isEmpty(h)&&_.some(h,u=>n(u,E))}function d(h,E){return!h&&!E||!(!h||!E)&&h.direction===E.direction&&l(h.expr,E.expr)}function o(h,E){return!h&&!E||!(!h||!E)&&l(h.expr,E.expr)}function m(h,E){return!h&&!E||!(!h||!E)&&(0,i.NF)(h.columns,E.columns,(u,f)=>function(h,E){return!h&&!E||!(!h||!E)&&h.role===E.role&&o(h.expression,E.expression)}(u,f))}function y(h,E){return!h&&!E||!(!h||!E)&&h.algorithm===E.algorithm&&function(h,E){return!h&&!E||!(!h||!E)&&(0,i.NF)(h.parameters,E.parameters,(u,f)=>o(u,f))&&m(h.table,E.table)}(h.input,E.input)&&function(h,E){return!h&&!E||!(!h||!E)&&m(h.table,E.table)}(h.output,E.output)}function S(h,E){return a.f.assertValue(h,"x SemanticQuery"),a.f.assertValue(E,"y SemanticQuery"),h.from().equals(E.from())&&(0,i.NF)(h.where(),E.where(),n)&&(0,i.NF)(h.orderBy(),E.orderBy(),d)&&(0,i.NF)(h.select(),E.select(),o)&&(0,i.NF)(h.groupBy(),E.groupBy(),o)&&(0,i.NF)(h.transforms(),E.transforms(),y)&&h.top()===E.top()}},658531:function(ve,j,e){e.d(j,{q:function(){return g}});var r=e(650543),i=e(60978),a=e(426313),t=e(832573),l=e(619538);function g(p,s,d){var c,{disableHierarchyLevelGrouping:o,useNativeReferenceNames:v}=d,m=[];if(0===s.length)return m;for(var C=0,y=(c=t.m.isSQExprArray(s)?s.map(u=>t.m.transformToVisualQueryField(u)):s).length;C<y;C++){var S=c[C],h=S.expr,E=S.isFieldParameter;r.f.assertValue(h,"Expression not found"),v||!(0,i.ez)(h)?m.push({expr:h,children:null,selectQueryIndex:C,isHierarchyLevelsGroup:!1,isFieldParameter:E}):n(p,m,h,C,o)}return m}function n(p,s,d,o,v){var m=!0,c=(0,l.ZB)(d)||(0,l.uW)(d),C=_.last(s);if(!v&&C&&C.children&&(0,a.fS)(C.expr,c)){var y=(0,l.wA)(p,d.arg);y instanceof Array&&(m=!(0,l.hG)(y,_.last(C.children),d))}m||v?s.push({expr:c,children:[d],selectQueryIndex:o,isHierarchyLevelsGroup:!0,isFieldParameter:!1}):(r.f.assertValue(C,"There should be a group to add the variation to"),r.f.assertValue(C.children,"The group should have children to add the variation to"),C.children.push(d))}},947500:function(ve,j,e){e.d(j,{H:function(){return l}});var r=e(650543),i=e(810331),a=e(358864),t=e(604481);function l(n){return g.rewrite(n)}var g=(()=>{class n extends a.p{static rewrite(s){return r.f.assertValue(s,"expr"),s.accept(n.instance)}visitDefault(s){var d=(0,i.Q)(s);return d&&d.percentOfGrandTotal&&(s=(0,t.og)(d.percentOfGrandTotal.baseExpr)),s}}return n.instance=new n,n})()},310178:function(ve,j,e){e.d(j,{E:function(){return l}});var r=e(650543),i=e(810331),a=e(358864),t=e(604481);function l(n){return g.rewrite(n)}var g=(()=>{class n extends a.p{static rewrite(s){return r.f.assertValue(s,"expr"),s.accept(n.instance)}visitDefault(s){var d=(0,i.Q)(s);return d&&d.percentOfRoleTotal&&(s=(0,t.og)(d.percentOfRoleTotal.baseExpr)),s}}return n.instance=new n,n})()},247425:function(ve,j,e){e.d(j,{b:function(){return l}});var r=e(990297),i=e(650543),a=e(442407),t=e(426313);class l{visitColumnRef(p){var s=p.source,d=s.accept(this);return s===d?p:new a.Wh(d,p.ref,void 0,p.getAnnotations())}visitMeasureRef(p){var s=p.source,d=s.accept(this);return s===d?p:new a.UY(d,p.ref,p.getAnnotations())}visitNativeMeasure(p){var s=p.expressionContentCache&&p.expressionContentCache.dependencies,d=s&&this.rewriteAll(s);return s===d?p:new a.$f(p.language,p.expression,p.dataType,p.proposedName,{...p.expressionContentCache,dependencies:d},p.format,p.getAnnotations())}visitNativeColumn(p){var s=p.expressionContentCache&&p.expressionContentCache.dependencies,d=s&&this.rewriteAll(s),o=p.source.accept(this);if(s===d&&p.source===o)return p;var v=p.expressionContentCache?{...p.expressionContentCache,dependencies:d}:void 0;return new a.F1(p.language,p.expression,p.dataType,o,p.proposedName,v,p.format,p.getAnnotations())}visitAggr(p){var s=p.arg,d=s.accept(this);return s===d?p:new a.v0(d,p.func,p.includeAllTypes,p.getAnnotations())}visitSelectRef(p){return p}visitPercentile(p){var s=p.arg,d=s.accept(this);return s===d?p:new a._n(d,p.k,p.exclusive,p.getAnnotations())}visitRangePercent(p){var s=p.min,d=s.accept(this),o=p.max,v=o.accept(this);return s===d&&o===v?p:new a.LE(d,v,p.percent,p.getAnnotations())}visitGroupRef(p){for(var s=p.source,d=p.source.accept(this),o=p.groupedExprs,v=new Array(o.length),m=0;m<o.length;m++)v[m]=o[m].accept(this);return s===d&&function(n,p){i.f.assertValue(n,"x"),i.f.assertValue(p,"y");var s=n.length;if(s!==p.length)return!1;for(var d=0;d<s;d++)if(!(0,t.fS)(n[d],p[d]))return!1;return!0}(o,v)?p:new a.qg(p.ref,d,v,p.getAnnotations())}visitHierarchy(p){var s=p.arg,d=s.accept(this);return s===d?p:new a.jE(d,p.hierarchy,p.getAnnotations())}visitHierarchyLevel(p){var s=p.arg,d=s.accept(this);return s===d?p:new a.vD(d,p.level,p.getAnnotations())}visitPropertyVariationSource(p){var s=p.arg,d=s.accept(this);return s===d?p:new a.c7(d,p.name,p.property,p.getAnnotations())}visitEntity(p){return p}visitSubqueryRef(p){return p}visitNamedQueryRef(p){return p}visitAnd(p){var s=p.left,d=s.accept(this),o=p.right,v=o.accept(this);return s===d&&o===v?p:new a.uV(d,v,p.getAnnotations())}visitBetween(p){var s=p.arg,d=s.accept(this),o=p.lower,v=o.accept(this),m=p.upper,c=m.accept(this);return s===d&&o===v&&m===c?p:new a.I6(d,v,c,p.getAnnotations())}visitIn(p){var v,s=p.args,d=this.rewriteAll(s),o=p.values,m=p.table,c=m;if(o){i.f.assert(()=>!m,"values and table cannot be both specified for the In operator");for(var C=0,y=o.length;C<y;C++){var S=o[C],h=this.rewriteAll(S);S!==h&&!v&&(v=(0,r.qn)(o,C)),v&&v.push(h)}}return m&&(i.f.assert(()=>!o,"values and table cannot be both specified for the In operator"),c=m.accept(this)),s!==d||v||m!==c?new a.Xg(d,v||o,c,p.getAnnotations()):p}rewriteAll(p){return i.f.assertValue(p,"origExprs"),(0,r.UU)(p,s=>s.accept(this))}visitOr(p){var s=p.left,d=s.accept(this),o=p.right,v=o.accept(this);return s===d&&o===v?p:new a.Cc(d,v,p.getAnnotations())}visitCompare(p){var s=p.left,d=s.accept(this),o=p.right,v=o.accept(this);return s===d&&o===v?p:new a.wU(p.comparison,d,v,p.getAnnotations())}visitConditional(p){i.f.assertNonEmpty(p.cases,"orig.cases");for(var v,s=p.defaultValue,d=s&&s.accept(this),o=p.cases,m=0,c=o.length;m<c;m++){var C=o[m],y=this.visitCase(C);C!==y&&!v&&(v=(0,r.qn)(o,m)),v&&v.push(y)}return v||(v=o),d===s&&v===o?p:new a.c8(v,d,p.getAnnotations())}visitCase(p){var s=p.condition,d=s.accept(this),o=p.value,v=o.accept(this);return s===d&&o===v?p:{condition:d,value:v}}visitContains(p){var s=p.left,d=s.accept(this),o=p.right,v=o.accept(this);return s===d&&o===v?p:new a.ev(d,v,p.getAnnotations())}visitExists(p){var s=p.arg,d=s.accept(this);return s===d?p:new a.eX(d,p.getAnnotations())}visitNot(p){var s=p.arg,d=s.accept(this);return s===d?p:new a.v3(d,p.getAnnotations())}visitStartsWith(p){var s=p.left,d=s.accept(this),o=p.right,v=o.accept(this);return s===d&&o===v?p:new a.fw(d,v,p.getAnnotations())}visitConstant(p){return p}visitFloor(p){var s=p.arg,d=s.accept(this);return s===d?p:new a.UG(d,p.size,p.timeUnit,p.getAnnotations())}visitDateSpan(p){var s=p.arg,d=s.accept(this);return s===d?p:new a.AC(p.unit,d,p.getAnnotations())}visitDateAdd(p){var s=p.arg,d=s.accept(this);return s===d?p:new a.YB(p.unit,p.amount,d,p.getAnnotations())}visitNow(p){return p}visitDefaultValue(p){return p}visitAnyValue(p){return p}visitArithmetic(p){var s=p.left,d=s.accept(this),o=p.right,v=o.accept(this);return s===d&&o===v?p:new a.MH(d,v,p.operator,p.getAnnotations())}visitScopedEval(p){var s=p.expression,d=s.accept(this),o=p.scope,v=this.rewriteAll(o);return s===d&&o===v?p:new a.kC(d,v,p.getAnnotations())}visitFilteredEval(p){var s=p.expression,d=s.accept(this),o=!1,v=[];for(var m of p.filters){var c=m.target,C=void 0;_.isEmpty(c)||(C=this.rewriteAll(c));var y=m.condition,S=m.condition.accept(this);(c!==C||y!==S)&&(o=!0),v.push({target:C,condition:S})}return s!==d||o?new a.Gv(d,v,p.getAnnotations()):p}visitWithRef(p){return p}visitTransformTableRef(p){return p}visitTransformOutputRoleRef(p){return p}visitRoleRef(p){return p}visitSummaryValueRef(p){return p}visitAllRolesRef(p){return p}visitFillRule(p){var s=p.input,d=s.accept(this),o=p.rule,v=o.linearGradient2,m=v;v&&(m=this.visitLinearGradient2(v));var c=o.linearGradient3,C=c;if(c&&(C=this.visitLinearGradient3(c)),s!==d||v!==m||c!==C){var y={};return m&&(y.linearGradient2=m),C&&(y.linearGradient3=C),new a.DJ(d,y,p.getAnnotations())}return p}visitLinearGradient2(p){i.f.assertValue(p,"origGradient");var s=p.min,d=this.visitFillRuleStop(s),o=p.max,v=this.visitFillRuleStop(o),m=p.nullColoringStrategy,c=this.visitFillNullStrategy(m);if(s!==d||o!==v||m!==c){var C={min:d,max:v};return c&&(C.nullColoringStrategy=c),C}return p}visitLinearGradient3(p){i.f.assertValue(p,"origGradient");var s=p.min,d=this.visitFillRuleStop(s),o=p.mid,v=this.visitFillRuleStop(o),m=p.max,c=this.visitFillRuleStop(m),C=p.nullColoringStrategy,y=this.visitFillNullStrategy(C);if(s!==d||o!==v||m!==c||C!==y){var S={min:d,mid:v,max:c};return y&&(S.nullColoringStrategy=y),S}return p}visitFillRuleStop(p){i.f.assertValue(p,"stop");var s=p.color,d=p.color.accept(this),o=p.value,v=o;if(o&&(v=o.accept(this)),s!==d||o!==v){var m={color:d};return v&&(m.value=v),m}return p}visitFillNullStrategy(p){if(p){var s=p.strategy,d=s.accept(this),o=p.color,v=o;if(o&&(v=o.accept(this)),s!==d||o!==v){var m={strategy:d};return v&&(m.color=v),m}return p}}visitThemeDataColor(p){return p}visitResourcePackageItem(p){return p}visitDiscretize(p){var s=p.source.accept(this);return s===p.source?p:new a.ex(s,p.count,p.getAnnotations())}visitMember(p){var s=p.source.accept(this);return s===p.source?p:new a.Jm(s,p.member,p.getAnnotations())}visitSparklineData(p){var s=p.measure.accept(this),d=this.rewriteAll(p.grouping),o=p.scalarKey?.accept(this),v=p.pointsPerSparkline,m=p.includeMinGroupingInterval;return s===p.measure&&d===p.grouping&&p.scalarKey===o&&p.pointsPerSparkline===v&&p.includeMinGroupingInterval===m?p:new a.GF(s,d,o,v,m)}visitNativeVisualCalc(p){return p}visitVisualTopN(p){return p}}},358864:function(ve,j,e){e.d(j,{p:function(){return r}});class r{visitEntity(a,t){return this.visitDefault(a,t)}visitSubqueryRef(a,t){return this.visitDefault(a,t)}visitColumnRef(a,t){return this.visitDefault(a,t)}visitMeasureRef(a,t){return this.visitDefault(a,t)}visitAggr(a,t){return this.visitDefault(a,t)}visitPercentile(a,t){return this.visitDefault(a,t)}visitRangePercent(a,t){return this.visitDefault(a,t)}visitGroupRef(a,t){return this.visitDefault(a,t)}visitHierarchy(a,t){return this.visitDefault(a,t)}visitHierarchyLevel(a,t){return this.visitDefault(a,t)}visitPropertyVariationSource(a,t){return this.visitDefault(a,t)}visitSelectRef(a,t){return this.visitDefault(a,t)}visitAnd(a,t){return this.visitDefault(a,t)}visitBetween(a,t){return this.visitDefault(a,t)}visitIn(a,t){return this.visitDefault(a,t)}visitOr(a,t){return this.visitDefault(a,t)}visitCompare(a,t){return this.visitDefault(a,t)}visitConditional(a,t){return this.visitDefault(a,t)}visitContains(a,t){return this.visitDefault(a,t)}visitExists(a,t){return this.visitDefault(a,t)}visitNot(a,t){return this.visitDefault(a,t)}visitStartsWith(a,t){return this.visitDefault(a,t)}visitConstant(a,t){return this.visitDefault(a,t)}visitDateSpan(a,t){return this.visitDefault(a,t)}visitDateAdd(a,t){return this.visitDefault(a,t)}visitNow(a,t){return this.visitDefault(a,t)}visitDefaultValue(a,t){return this.visitDefault(a,t)}visitAnyValue(a,t){return this.visitDefault(a,t)}visitArithmetic(a,t){return this.visitDefault(a,t)}visitFloor(a,t){return this.visitDefault(a,t)}visitFillRule(a,t){return this.visitDefault(a,t)}visitThemeDataColor(a,t){return this.visitDefault(a,t)}visitResourcePackageItem(a,t){return this.visitDefault(a,t)}visitScopedEval(a,t){return this.visitDefault(a,t)}visitFilteredEval(a,t){return this.visitDefault(a,t)}visitWithRef(a,t){return this.visitDefault(a,t)}visitTransformTableRef(a,t){return this.visitDefault(a,t)}visitTransformOutputRoleRef(a,t){return this.visitDefault(a,t)}visitRoleRef(a,t){return this.visitDefault(a,t)}visitAllRolesRef(a,t){return this.visitDefault(a,t)}visitDiscretize(a,t){return this.visitDefault(a,t)}visitMember(a,t){return this.visitDefault(a,t)}visitNamedQueryRef(a,t){return this.visitDefault(a,t)}visitNativeMeasure(a,t){return this.visitDefault(a,t)}visitNativeColumn(a,t){return this.visitDefault(a,t)}visitSummaryValueRef(a,t){return this.visitDefault(a,t)}visitSparklineData(a,t){return this.visitDefault(a,t)}visitNativeVisualCalc(a,t){return this.visitDefault(a,t)}visitVisualTopN(a,t){return this.visitDefault(a,t)}visitDefault(a,t){return a}}},603375:function(ve,j,e){e.d(j,{F:function(){return l}});var r=e(650543),i=e(810331),a=e(604481),t=e(358864);function l(n){return g.rewrite(n)}var g=(()=>{class n extends t.p{static rewrite(s){return r.f.assertValue(s,"expr"),s.accept(n.instance)}visitDefault(s){var d=(0,i.Q)(s);return d&&!d.percentOfGrandTotal&&(s=(0,a.og)({percentOfGrandTotal:{baseExpr:d}})),s}}return n.instance=new n,n})()},76967:function(ve,j,e){e.d(j,{z:function(){return l}});var r=e(650543),i=e(810331),a=e(358864),t=e(604481);function l(n,p){return g.rewrite(n,p)}var g=(()=>{class n extends a.p{static rewrite(s,d){return r.f.assertValue(s,"expr"),s.accept(n.instance,d)}visitDefault(s,d){var o=(0,i.Q)(s);return o&&!o.percentOfRoleTotal&&(s=(0,t.og)({percentOfRoleTotal:{baseExpr:o,roles:d}})),s}}return n.instance=new n,n})()},60978:function(ve,j,e){e.d(j,{$Q:function(){return Z},AW:function(){return v},Az:function(){return Ee},Bm:function(){return H},DB:function(){return U},FU:function(){return ot},Gs:function(){return X},HK:function(){return Oe},Hi:function(){return S},Hz:function(){return xe},IS:function(){return re},Il:function(){return k},Im:function(){return x},Kh:function(){return G},LX:function(){return J},Lk:function(){return c},MI:function(){return I},NH:function(){return B},Ny:function(){return f},Ok:function(){return se},P4:function(){return we},PA:function(){return O},Pe:function(){return L},RN:function(){return Ne},S9:function(){return s},T5:function(){return M},Tu:function(){return Ke},VC:function(){return p},WC:function(){return Ie},X5:function(){return E},Xx:function(){return b},YF:function(){return A},Ym:function(){return ke},Z8:function(){return Q},ZG:function(){return W},cY:function(){return D},cw:function(){return ft},dZ:function(){return te},ez:function(){return y},f8:function(){return Ct},fU:function(){return o},g:function(){return d},g5:function(){return N},hJ:function(){return T},hV:function(){return Ve},iV:function(){return h},jX:function(){return me},jc:function(){return R},jk:function(){return w},jr:function(){return Ue},jv:function(){return F},kb:function(){return P},lF:function(){return l},lg:function(){return u},sK:function(){return V},t3:function(){return n},tO:function(){return Se},uR:function(){return m},un:function(){return q},wD:function(){return K},wt:function(){return Ae},xb:function(){return g},y3:function(){return C},yL:function(){return z}});var r=e(333107),i=e(999787),a=e(650543),t=e(62396);function l(ye){return a.f.assertValue(ye,"expr"),ye.kind===t.sc.Arithmetic}function g(ye){return a.f.assertValue(ye,"expr"),ye.kind===t.sc.Floor}function n(ye){return a.f.assertValue(ye,"expr"),ye.kind===t.sc.ColumnRef}function p(ye){return a.f.assertValue(ye,"expr"),ye.kind===t.sc.Constant}function s(ye){return a.f.assertValue(ye,"expr"),p(ye)&&ye.type.numeric}function d(ye){return a.f.assertValue(ye,"expr"),p(ye)&&ye.type.bool}function o(ye){return a.f.assertValue(ye,"expr"),p(ye)&&ye.type.dateTime}function v(ye){return a.f.assertValue(ye,"expr"),p(ye)&&ye.type.text}function m(ye){return a.f.assertValue(ye,"expr"),p(ye)&&ye.type.primitiveType===r.M.Null&&null===ye.value}function c(ye){return a.f.assertValue(ye,"expr"),ye.kind===t.sc.Entity}function C(ye){return a.f.assertValue(ye,"expr"),ye.kind===t.sc.Hierarchy}function y(ye){return a.f.assertValue(ye,"expr"),ye.kind===t.sc.HierarchyLevel}function S(ye){return a.f.assertValue(ye,"expr"),ye.kind===t.sc.In}function h(ye){return a.f.assertValue(ye,"expr"),ye.kind===t.sc.Aggregation}function E(ye){return a.f.assertValue(ye,"expr"),h(ye)&&ye.func===i.B8.Min}function u(ye){return a.f.assertValue(ye,"expr"),h(ye)&&ye.func===i.B8.Max}function f(ye){return a.f.assertValue(ye,"expr"),h(ye)&&ye.func===i.B8.Avg}function b(ye){return a.f.assertValue(ye,"expr"),h(ye)&&ye.func===i.B8.Median}function V(ye){return a.f.assertValue(ye,"expr"),h(ye)&&ye.func===i.B8.StandardDeviation}function T(ye){return a.f.assertValue(ye,"expr"),h(ye)&&ye.func===i.B8.Variance}function P(ye){return a.f.assertValue(ye,"expr"),ye.kind===t.sc.MeasureRef}function D(ye){return a.f.assertValue(ye,"expr"),ye.kind===t.sc.NativeMeasure}function w(ye){return a.f.assertValue(ye,"expr"),ye.kind===t.sc.NativeColumn}function M(ye){return a.f.assertValue(ye,"expr"),ye.kind===t.sc.Percentile}function A(ye){return a.f.assertValue(ye,"expr"),ye.kind===t.sc.RangePercent}function R(ye){return a.f.assertValue(ye,"expr"),ye.kind===t.sc.PropertyVariationSource}function B(ye){return a.f.assertValue(ye,"expr"),ye.kind===t.sc.SelectRef}function N(ye){return a.f.assertValue(ye,"expr"),ye.kind===t.sc.ScopedEval}function W(ye){return a.f.assertValue(ye,"expr"),ye.kind===t.sc.FilteredEval}function F(ye){return a.f.assertValue(ye,"expr"),ye.kind===t.sc.SubqueryRef}function U(ye){return a.f.assertValue(ye,"expr"),ye.kind===t.sc.WithRef}function O(ye){return a.f.assertValue(ye,"expr"),ye.kind===t.sc.TransformTableRef}function x(ye){return a.f.assertValue(ye,"expr"),ye.kind===t.sc.TransformOutputRoleRef}function I(ye){return a.f.assertValue(ye,"expr"),ye.kind===t.sc.ResourcePackageItem}function L(ye){return a.f.assertValue(ye,"expr"),ye.kind===t.sc.Compare}function K(ye){return a.f.assertValue(ye,"expr"),ye.kind===t.sc.GroupRef}function z(ye){return a.f.assertValue(ye,"expr"),ye.kind===t.sc.RoleRef}function H(ye){return a.f.assertValue(ye,"expr"),ye.kind===t.sc.SummaryValueRef}function J(ye){return a.f.assertValue(ye,"expr"),ye.kind===t.sc.AllRolesRef}function k(ye){return a.f.assertValue(ye,"expr"),ye.kind===t.sc.NamedQueryRef}function G(ye){return a.f.assertValue(ye,"expr"),ye.kind===t.sc.Between}function q(ye){return a.f.assertValue(ye,"expr"),ye.kind===t.sc.And}function Q(ye){return a.f.assertValue(ye,"expr"),ye.kind===t.sc.Or}function Z(ye){return a.f.assertValue(ye,"expr"),ye.kind===t.sc.Compare}function X(ye){return a.f.assertValue(ye,"expr"),ye.kind===t.sc.Conditional}function re(ye){return a.f.assertValue(ye,"expr"),ye.kind===t.sc.Contains}function te(ye){return a.f.assertValue(ye,"expr"),ye.kind===t.sc.DateSpan}function se(ye){return a.f.assertValue(ye,"expr"),ye.kind===t.sc.DateAdd}function Ve(ye){return a.f.assertValue(ye,"expr"),ye.kind===t.sc.Exists}function ke(ye){return a.f.assertValue(ye,"expr"),ye.kind===t.sc.Not}function Ue(ye){return a.f.assertValue(ye,"expr"),ye.kind===t.sc.Now}function ot(ye){return a.f.assertValue(ye,"expr"),ye.kind===t.sc.DefaultValue}function ft(ye){return a.f.assertValue(ye,"expr"),ye.kind===t.sc.AnyValue}function Ct(ye){return a.f.assertValue(ye,"expr"),ye.kind===t.sc.StartsWith}function Ke(ye){return a.f.assertValue(ye,"expr"),ye.kind===t.sc.FillRule}function Ae(ye){return a.f.assertValue(ye,"expr"),ye.kind===t.sc.ThemeDataColor}function we(ye){return a.f.assertValue(ye,"expr"),ye.kind===t.sc.Discretize}function Ne(ye){return a.f.assertValue(ye,"expr"),ye.kind===t.sc.Member}function Se(ye){return a.f.assertValue(ye,"expr"),ye.kind===t.sc.SparklineData}function Ie(ye){return a.f.assertValue(ye,"expr"),ye.comparison===i.uu.Equal&&(m(ye.right)||m(ye.left))}function me(ye){return a.f.assertValue(ye,"expr"),ye.kind===t.sc.NativeVisualCalc}function Oe(ye){return a.f.assertValue(ye,"expr"),h(ye)&&ye.func===i.B8.Count}function Ee(ye){return a.f.assertValue(ye,"expr"),h(ye)&&ye.func===i.B8.CountNonNull}function xe(ye){return a.f.assertValue(ye,"expr"),ye.kind===t.sc.VisualTopN}},595086:function(ve,j,e){e.d(j,{L:function(){return r},Q:function(){return i}});var r="PowerBI.SQExprEvaluationKind",i="PowerBI.SQExprTextOperatorOption"},832573:function(ve,j,e){e.d(j,{m:function(){return h}});var r=e(999787),i=e(990297),a=e(650543),t=e(179658),l=e(402623),g=e(726988),n=e(810331),p=e(827161),s=e(442407),d=e(833059),o=e(62396),v=e(962238),m=e(774452),c=e(398732),C=e(60978),y=e(426313),S=e(890486),h=(()=>{class V{static supportsArithmetic(P,D,w){var M=D.getMetadata(w),A=M&&M.type;return!(!M||!A)&&(P===r.J4.Multiply||P===r.J4.Divide?A.numeric:A.numeric||A.dateTime||A.duration)}static indexOfExpr(P,D){a.f.assertValue(P,"items"),a.f.assertValue(D,"searchElement");for(var w=0,M=P.length;w<M;w++)if((0,y.fS)(P[w],D))return w;return-1}static sequenceEqual(P,D){a.f.assertValue(P,"x"),a.f.assertValue(D,"y");var w=P.length;if(w!==D.length)return!1;for(var M=0;M<w;M++)if(!(0,y.fS)(P[M],D[M]))return!1;return!0}static isSubset(P,D){a.f.assertValue(P,"x"),a.f.assertValue(D,"y");var M,w=function(R){if(-1===_.findIndex(D,N=>(0,y.fS)(N,R)))return{v:!1}};for(var A of P)if(M=w(A))return M.v;return!0}static isFromVariation(P){return a.f.assertValue(P,"expr"),(0,C.y3)(P)&&(0,C.jc)(P.arg)||(0,C.ez)(P)&&this.isFromVariation(P.arg)}static discourageAggregation(P,D){var w=this.getSchemaCapabilities(P,D);return _.some(w,M=>M.discourageQueryAggregateUsage)}static getAggregateBehavior(P,D){a.f.assertValue(P,"expr"),a.f.assertValue(D,"schema");var w=this.getConceptualColumn(P,D);if(w)return w.aggregateBehavior}static getSchemaCapabilities(P,D){a.f.assertValue(P,"expr"),a.f.assertValue(D,"schema");var w=(0,n.Q)(P,D);if(w){var M=(0,g.pV)(w);return _.chain(M).map(A=>D.schema(A.schema)?.capabilities).filter(A=>!!A).value()}}static getKpiMetadata(P,D){var w=this.getKpiStatusProperty(P,D);if(w)return w.kpiValue.measure.kpi.statusMetadata;var M=this.getKpiTrendProperty(P,D);return M?M.kpiValue.measure.kpi.trendMetadata:void 0}static getParameterMetadata(P,D){var w=P.getConceptualProperty(D,!0),M=w&&w.column&&w.column.parameterMetadata;return M&&this.getDataViewParameterColumnMetadata(M)}static getWhatIfParameterMetadata(P){if(P&&P.parameterMetadata&&P.parameterMetadata.kind===d.OT.WhatIf)return P.parameterMetadata}static getFieldParameterQuerySelects(P,D){if(!_.isEmpty(P)){var w=P.getConceptualProperty(D);if(w){var M=w.column;if(M&&P.kind===o.sc.ColumnRef&&M.parameterMetadata?.kind===d.OT.Field){var A=P.getTargetEntity(),R=D.schema(A.schema).entities.withName(A.entity),B=_.some(R.properties,F=>F.column&&F.column.keys);for(var N of(a.f.assert(()=>B,"A key should always exist within the fieldParameter entity"),R.properties))if(N.column&&N.column.keys&&1===N.column.keys.length){var W=N.column.keys[0];if(W===w)return{parameterColumn:P,labelColumn:(0,s.Oh)(A,N.name)};if(w===N)return{labelColumn:P,parameterColumn:(0,s.Oh)(A,W.name)}}return{parameterColumn:P}}}}}static getFieldParameters(P){var D=[];for(var w in P){var A=P[w].getFieldParameters();D.push({role:w,parameters:A})}return D}static getParameterValuesOrder(P,D){if(!_.isEmpty(P))for(var w of P){var M=w?.conditions();if(!_.isEmpty(M)){var A=(0,p.lZ)(D,M[0]);if(!_.isEmpty(A))return A}}return[]}static isFilterForFieldParameter(P,D,w){if(P){var M=V.getFieldParameters(P);for(var A of M)for(var R of A.parameters){var B=V.getFieldParameterQuerySelects(R.expr,w);if(B&&!_.isEmpty(V.getParameterValuesOrder([D],B.parameterColumn)))return!0}}return!1}static shouldUseAsFieldParameter(P,D,w,M,A){return!(!P||A||!M||(0,C.ez)(w)||!V.getFieldParameterQuerySelects(w,D))}static getDataViewParameterColumnMetadata(P){return{kind:this.getDataViewParameterKind(P),mappedMParameterNames:P.mappedMParameterNames,supportsMultipleValues:P.supportsMultipleValues,supportsSelectAll:P.supportsSelectAll}}static getDataViewParameterKind(P){if(null!=P){var D=P.kind;if(null==D)return t.DG.WhatIf;switch(D){case d.OT.WhatIf:return t.DG.WhatIf;case d.OT.MParameters:return t.DG.MParameters;case d.OT.Field:return t.DG.Field;default:return void a.f.assertNever(D)}}}static hasMappedMParameter(P,D){var w=this.getConceptualParameterMetadata(P,D);return w?.kind===d.OT.MParameters}static isSupportMulitpleValuesEnabled(P,D){var w=this.getConceptualParameterMetadata(P,D);return w?.supportsMultipleValues}static getConceptualParameterMetadata(P,D){var w=this.getConceptualColumn(P,D);return w?.parameterMetadata}static getConceptualEntity(P,D){return a.f.assertValue(P,"entityExpr"),D.schema(P.schema).entities.withName(P.entity)}static hasMappedColumn(P,D){return E.hasMappedColumn(P,D)}static isSingleDateColumn(P,D){if(1!==_.size(P))return!1;var M=P[0].getMetadata(D);return M&&!!M.type.dateTime}static getColumnnsWithKey(P,D){a.f.assertValue(P,"keyExpr"),a.f.assertValue(D,"schema");var w=P.getTargetColumnRef(D);if(w){var M=w.getConceptualProperty(D);if(M&&M.column){var A=w.getTargetEntity();if(A){var R=this.getConceptualEntity(A,D);if(R){var B=[];for(var N of R.properties)N.column&&N.column.keys&&_.includes(N.column.keys,M)&&B.push((0,s.Oh)(A,N.name));return B}}}}}static tryGetExprFromFilter(P){if((0,C.Hi)(P.condition)&&1===_.size(P.condition.args))return P.condition.args[0];if((0,C.$Q)(P.condition)){if((0,C.VC)(P.condition.left))return P.condition.right;if((0,C.VC)(P.condition.right))return P.condition.left}}static checkExprForValidMParameters(P,D){return this.checkExprForMapped(P,D).isValidSQExpr}static checkExprForMapped(P,D){return(0,C.$Q)(P)?this.checkComparsionForMapped(P,D):(0,C.Hi)(P)?this.checkInForMapped(P,D):(0,C.Z8)(P)?this.checkOrForMapped(P,D):{isValidSQExpr:!V.hasMappedColumn(P,D)}}static checkComparsionForMapped(P,D){if(!(0,C.t3)(P.left))return{isValidSQExpr:!0};var A,w=V.getConceptualParameterMetadata(P.left,D);if(w?.kind===d.OT.MParameters){if(P.comparison!==r.uu.Equal||(0,C.uR)(P.right))return{isValidSQExpr:!1};if(!w.supportsSelectAll&&(0,C.cw)(P.right))return{isValidSQExpr:!1};A=P.left}return{isValidSQExpr:!0,columnExpr:A}}static checkInForMapped(P,D){var M,w=P.args,A=!1,R=!1;for(var B of w)if((0,C.t3)(B)){var N=V.getConceptualParameterMetadata(B,D);if(A=N?.kind===d.OT.MParameters){M=B,R=N?.supportsMultipleValues;break}}if(A){if(w.length>1||P.table&&(0,C.jv)(P.table)||P.values.length>1&&!R)return{isValidSQExpr:!1};if(_.some(P.values,F=>_.some(F,U=>(0,C.uR)(U))))return{isValidSQExpr:!1}}return{isValidSQExpr:!0,columnExpr:M}}static checkOrForMapped(P,D){var w=this.checkExprForMapped(P.left,D),M=this.checkExprForMapped(P.right,D),A=w.columnExpr,R=M.columnExpr;return(0,y.fS)(A,R)?A&&!V.isSupportMulitpleValuesEnabled(A,D)||R&&!V.isSupportMulitpleValuesEnabled(R,D)?{isValidSQExpr:!1}:{isValidSQExpr:w.isValidSQExpr&&M.isValidSQExpr,columnExpr:A}:{isValidSQExpr:!1}}static getKpiStatusProperty(P,D){var w=P.getConceptualProperty(D);if(w){var M=w.kpiValue;if(M&&M.measure.kpi.status===w)return w}}static getKpiTrendProperty(P,D){var w=P.getConceptualProperty(D);if(w){var M=w.kpiValue;if(M&&M.measure.kpi.trend===w)return w}}static getDefaultValue(P,D){var w=this.getConceptualColumn(P,D);if(w)return w.defaultValue}static getConceptualColumn(P,D){if(P&&D){var w=(0,n.Q)(P);if(w){var M=w.column||w.groupingColumn;if(M){if(D.schema(M.schema)&&M.name){var A=D.schema(M.schema).findProperty(M.entity,M.name);if(A)return A.column}}else{var R=w.hierarchyLevel;if(R){var B=(0,g.Um)(w),N=B.schema;if(D.schema(N)){var W=D.schema(N).findHierarchy(B.entity,R.name);if(W){var F=W.levels.withName(R.level);if(F&&F.column)return F.column.column}}}}}}}static getDefaultValues(P,D){if(!_.isEmpty(P)&&D){var w=[];for(var M of P){var A=this.getDefaultValue(M,D);A&&w.push(A)}return w}}static getPrimitiveValuesFromSQConstantExpr(P){if((0,C.VC)(P)){if((0,C.AW)(P))return s.jz.getTextValue(P);if((0,C.fU)(P))return s.jz.getDateValue(P);if((0,C.S9)(P))return s.jz.getNumericValue(P);if((0,C.g)(P))return s.jz.getBooleanValue(P)}}static convertSemanticFilterToDataViewScopeIdentity(P){var D=[],w=P.conditions();if(w)for(var M of w){var A=new p.aL;if(M.accept(A),A.keys&&A.values&&A.values.length>0&&A.keys.length>0&&A.values.length%A.keys.length==0)for(var R=0;R<A.values.length;R+=A.keys.length){for(var B=[],N=[],W=0;W<A.keys.length;W++)B.push(A.keys[W]),N.push(A.values[R+W]);var F=(0,S.R)(B,N),U=(0,l.TZ)(F);D.push(U)}}return D}static getActiveTablesNames(P){var w=new m.Nh;if(P){var M=P.from();if(void 0!==M)for(var A of M.keys())M.source(A).accept(w,null)}return _.map(w.entities,R=>R.entity)}static isRelatedToMany(P,D,w,M){return this.isRelated(P,D,w,d.s3.ZeroOrOne,d.s3.Many,M)||this.isRelated(P,w,D,d.s3.Many,d.s3.ZeroOrOne,M)}static isRelatedToOne(P,D,w,M){return this.isRelated(P,D,w,d.s3.Many,d.s3.ZeroOrOne,M)||this.isRelated(P,w,D,d.s3.ZeroOrOne,d.s3.Many,M)}static isRelated(P,D,w,M,A,R){var B=V.getConceptualEntity(D,P);if(a.f.assertValue(B,"could not resolve conceptual entity form sourceExpr."),_.isEmpty(B.navigationProperties))return!1;var N=V.getConceptualEntity(w,P);a.f.assertValue(N,"could not resolve conceptual entity form targetExpr.");var W=[];for(W.push(B);!_.isEmpty(W);){var U=W.shift().navigationProperties;if(!_.isEmpty(U))for(var O of U)if(O.isActive&&(null==R||O.behavior===R)&&O.targetMultiplicity===A&&O.sourceMultiplicity===M){if(O.targetEntity===N)return!0;W.push(O.targetEntity)}}return!1}static isRelatedOneToOne(P,D,w,M){var A=V.getConceptualEntity(D,P);a.f.assertValue(A,"could not resolve conceptual entity form sourceExpr.");var R=V.getConceptualEntity(w,P);a.f.assertValue(R,"could not resolve conceptual entity form targetExpr.");var B=A.navigationProperties,N=R.navigationProperties;return(!_.isEmpty(B)||!_.isEmpty(N))&&(this.hasOneToOneNavigation(B,R,M)||this.hasOneToOneNavigation(N,A,M))}static haveTheSameSchema(P){a.f.assertNonEmpty(P,"exprs should not be null, undefined, or empty");var D=P[0].schema;return _.chain(P).drop(1).every(w=>w.schema===D).value()}static areHierarchicallyRelated(P,D){if(_.isEmpty(D)||!this.haveTheSameSchema(D))return!1;if(1===(D=_.values(_.keyBy(D,N=>N.entity))).length)return!0;var w=D[0].schema,M=_.find(P.schemas,N=>N.name===w);if(!M)return!1;var A=D.map(N=>V.getConceptualEntity(N,P));if(_.some(A,N=>!N))return!1;var R=d.gi.Default,B=V.buildEntityGraph(A,this.allowedHierarchicalMultiplicityPairForTraversal,R);return!!this.searchEntityGraph(A,B)||(B=V.buildEntityGraph(M.entities,this.allowedHierarchicalMultiplicityPairForTraversal,R),this.searchEntityGraph(A,B))}static searchEntityGraph(P,D){var w=[].concat(P),M=w.shift(),A=this.findEntityPath([M],w,D,!0);if(1===A.length&&0===A[0].unableToVisit.length)return!0;var R=_.values(_.keyBy(_.flatten(A.map(U=>U.unableToVisit)),U=>U.name)),B=this.findEntityPath([M],R,D,!1);if(1===B.length&&0===B[0].unableToVisit.length)return!0;var W,N=function(U){if(_.find(B,x=>{var I=!0;for(var L of U.unableToVisit)if(x.unableToVisit.indexOf(L)>=0){I=!1;break}return I}))return{v:!0}};for(var F of A)if(W=N(F))return W.v;return!1}static buildEntityGraph(P,D,w){var M={};for(var A of P)M[A.name]={entity:A};for(var R of P){var B=R.navigationProperties;if(!_.isEmpty(B)){var N=M[R.name];for(var W of B)if(W.isActive&&(void 0===W.behavior||void 0===w||W.behavior===w)){var F=M[W.targetEntity.name];F&&(this.multiplicityPairMatches([W.targetMultiplicity,W.sourceMultiplicity],D)&&this.addTraversalNodes(F,N),W.crossFilterDirection===d.oL.Both&&this.multiplicityPairMatches([W.sourceMultiplicity,W.targetMultiplicity],D)&&this.addTraversalNodes(N,F))}}}return M}static addTraversalNodes(P,D){P.forwardNodes=P.forwardNodes||[],_.find(P.forwardNodes,w=>w.entity.name===D.entity.name)||P.forwardNodes.push(D),D.backwardNodes=D.backwardNodes||[],_.find(D.backwardNodes,w=>w.entity.name===P.entity.name)||D.backwardNodes.push(P)}static multiplicityPairMatches(P,D){if(P&&2===P.length&&!_.isEmpty(D))for(var w of D)if(2===w.length&&P[0]===w[0]&&P[1]===w[1])return!0;return!1}static findEntityPath(P,D,w,M){if(D=D||[],0===(P=P||[]).length||0===D.length||!w)return[{path:P,unableToVisit:D}];for(var A of P)if(!w[A.name])return[{path:P,unableToVisit:D}];var B=w[P[P.length-1].name],N=M?B.forwardNodes:B.backwardNodes;if(!N||0===N.length)return[{path:P,unableToVisit:D}];var W=this.getEntityLoopPatterns(P),F=[];for(var U of N){var O=U.entity,x=[].concat(P);x.push(O);var I=!1;for(var L of W)if(this.endsWith(x,L)){I=!0;break}if(!I){var K=D,z=D.indexOf(O);z>=0&&(K=[].concat(D)).splice(z,1);var H=this.findEntityPath(x,K,w,M);if(1===H.length&&0===H[0].unableToVisit.length){F=H;break}for(var J of H)F.push(J)}}return 0===F.length&&(F=[{path:P,unableToVisit:D}]),F}static getEntityLoopPatterns(P){var D=[],w=_.values(_.keyBy(P,R=>R.name)),M=function(R){if(P.filter(F=>F===R).length>=2){var N,B=R;for(var W of P)W===B?(N&&(N.push(W),D.push(N)),N=[W]):N&&N.push(W)}};for(var A of w)M(A);return D}static endsWith(P,D){if(D.length>P.length)return!1;for(var w=!0,M=P.length-1,A=D.length-1;A>=0;--A){if(D[A]!==P[M]){w=!1;break}M--}return w}static hasOneToOneNavigation(P,D,w){if(_.isEmpty(P))return!1;for(var M of P)if(M.isActive&&(null==w||M.behavior===w)&&M.targetEntity===D&&M.sourceMultiplicity===d.s3.ZeroOrOne&&M.targetMultiplicity===d.s3.ZeroOrOne)return!0;return!1}static concatUnique(P,D){a.f.assertValue(P,"leftExprs"),a.f.assertValue(D,"rightExprs");var w=(0,i.JG)(P);for(var M of D)-1===this.indexOfExpr(w,M)&&w.push(M);return w}static detectTransformExpr(P){a.f.assertValue(P,"expr");var D=new u;return P.accept(D),D.sawTransformOutputRoleRef}static isExprValidForAggregation(P){return a.f.assertValue(P,"expr"),!this.isFromVariation(P)&&!(0,C.y3)(P)}static isExprValidForSorting(P){return a.f.assertValue(P,"expr"),!(0,C.ZG)(P)}static isExprValidForFiltering(P){return a.f.assertValue(P,"expr"),!((0,C.ZG)(P)||(0,C.Im)(P)||(0,C.tO)(P)||(0,C.jX)(P))}static isExprValidForClustering(P){return a.f.assertValue(P,"expr"),!((0,C.ZG)(P)||(0,C.y3)(P)||(0,C.ez)(P)||(0,C.tO)(P)||(0,C.jX)(P))}static isExprValidForAnalysisTransform(P){return a.f.assertValue(P,"expr"),!(0,C.ZG)(P)}static getSubqueryExpression(P,D){var M,A,w=(0,n.Q)(P);if(w.columnSubquery)w.columnSubquery.subqueryRef?M=w.columnSubquery.subqueryRef:w.columnSubquery.subquery?A=new m.vd(w.columnSubquery.subquery):a.f.assertFail("fieldExpr needs to contain either a subquery reference or an inlined query");else{if(!w.columnAggrSubquery)return void a.f.assertFail("invalid fieldExpr in subquery");w.columnAggrSubquery.subqueryRef?M=w.columnAggrSubquery.subqueryRef:w.columnAggrSubquery.subquery?A=new m.vd(w.columnAggrSubquery.subquery):a.f.assertFail("fieldExpr needs to contain either a subquery reference or an inlined query")}A||(a.f.assert(()=>!(!D||!D.sources),"context sources should be available for evaluating subquery source"),D.sources[M]?(A=D.sources[M],a.f.assert(()=>A&&(0,c.y)(A),"column referencing source should be available and be a subquery source")):a.f.assertFail("No context for the subquery ref.  Cannot construct SQFromSubquerySource without underlying reference."));var R=A;if(R){var N,B=(0,g._6)(w);if(R.subquery&&(N=R.subquery.select().withName(B)),N)return N.expr}}static buildExprEvaluationContext(P){a.f.assertValue(P,"from");var D=P.sources();if(D)return{sources:D}}static transformToVisualQueryField(P,D,w,M,A){return{expr:P,queryName:D,isFieldParameter:!!w,nativeReferenceName:M,isHidden:A}}static isSQExprArray(P){return P[0]instanceof s.Il}static syncSQExprWithFilterIdenities(P,D){var w=new b(P,(0,C.Ym)(D)),M=D.accept(w);if(M)return M.accept(new f)}static validate(P,D,w){a.f.assertValue(D,"schema");var M=[];if(P&&(M=P.validate(D,w,M)),!_.isEmpty(M))return M}static tryMergeSQInExprs(P,D,w){if("Replace"===w)return D;var M=P.args,A=D.args;if(M.length===A.length&&M.every((B,N)=>(0,y.fS)(B,A[N],!1,!0,!0))){var R=[];return"Append"===w?(R=_.concat(P.values,D.values),R=_.uniqWith(R,(B,N)=>(0,y.fS)(B[0],N[0],!1,!0,!0))):R=_.filter(P.values,B=>!_.some(D.values,N=>(0,y.fS)(B[0],N[0],!1,!0,!0))),(0,s.Sh)(M,R)}}}return V.allowedHierarchicalMultiplicityPairForTraversal=[[d.s3.ZeroOrOne,d.s3.Many],[d.s3.ZeroOrOne,d.s3.ZeroOrOne]],V})();class E extends v.PA{constructor(T){super(),this.schema=T,this.detectedMappedColumn=!1}visitIn(T){for(var P of T.args)if(P.accept(this),this.detectedMappedColumn)return}visitColumnRef(T){h.hasMappedMParameter(T,this.schema)&&(this.detectedMappedColumn=!0)}static hasMappedColumn(T,P){var D=new E(P);return T.accept(D),D.detectedMappedColumn}}class u extends v.PA{constructor(){super(),this.sawTransformOutputRoleRef=!1}visitTransformOutputRoleRef(T){this.sawTransformOutputRoleRef=!0}}class f extends v.vq{visitIn(T){return(0,s.Sh)(T.args,this.removeDuplicates(T.values),T.getAnnotations())}visitAnd(T){var P=T.right.accept(this),D=T.left.accept(this);return(0,s.xD)(D,P,T.getAnnotations())}visitOr(T){var P=T.right.accept(this),D=T.left.accept(this);return(0,s.or)(D,P,T.getAnnotations())}visitDefault(T){return T}removeDuplicates(T){return _.uniqWith(T,(P,D)=>{for(var w=P.length,M=0;M<w;M++)if(!(0,y.fS)(P[M],D[M]))return!1;return!0})}}class b extends v.vq{constructor(T,P){super(),this.isRootNotExpr=!1,this.hasBeenModified=!1,this.isSupportedSQExpr=!1,this.filterIdentities=T,this.isRootNotExpr=P}visitIn(T){if(this.verifyIsSupportedSQExpr(T),!this.shouldDropWholeSQExpr()){if(this.noChangeRequired(T.args))return T;var{newArgs:P,newValues:D}=this.tryToRemoveColumnsToMatchVisual(T);if(!this.shouldDropWholeSQExpr()&&0!==P.length)return(0,s.Sh)(P,D,T.getAnnotations())}}visitDefault(T){if(this.verifyIsSupportedSQExpr(T),!this.shouldDropWholeSQExpr()){var P=T.left,D=T.right;if(P&&_.some(this.filterIdentities,w=>(0,y.fS)(w,P))||D&&_.some(this.filterIdentities,w=>(0,y.fS)(w,D)))return T;this.hasBeenModified=!0}}visitAnd(T){if(this.verifyIsSupportedSQExpr(T),!this.shouldDropWholeSQExpr()){var P=T.right.accept(this),D=T.left.accept(this);if(!this.shouldDropWholeSQExpr()){if(D&&P)return(0,s.xD)(D,P,T.getAnnotations());if(D)return D;if(P)return P}}}visitOr(T){if(this.verifyIsSupportedSQExpr(T),!this.shouldDropWholeSQExpr()){var P=T.right.accept(this),D=T.left.accept(this);if(!this.shouldDropWholeSQExpr()){if(D&&P)return(0,s.or)(D,P,T.getAnnotations());if(D)return D;if(P)return P}}}visitNot(T){if(this.verifyIsSupportedSQExpr(T),!this.shouldDropWholeSQExpr()){var P=T.arg.accept(this);if(P&&(this.isRootNotExpr||!this.hasBeenModified))return(0,s.ff)(P,T.getAnnotations())}}verifyIsSupportedSQExpr(T){this.isSupportedSQExpr=(0,C.Z8)(T)?(0,C.Hi)(T.right)&&((0,C.Z8)(T.left)||(0,C.Hi)(T.left)):(0,C.un)(T)?(0,C.Ym)(T.right)&&((0,C.Hi)(T.left)||(0,C.Z8)(T.left)):(0,C.Ym)(T)?(0,C.Z8)(T.arg)||(0,C.Ym)(T.arg):!(0,C.Hi)(T)||!!T.values&&T.values.length>0}shouldDropWholeSQExpr(){return this.hasBeenModified&&!this.isSupportedSQExpr}noChangeRequired(T){var P=T.map(D=>({expr:[D],index:_.findIndex(this.filterIdentities,M=>(0,y.fS)(M,D))}));return 0===P[0].index&&P.every((D,w)=>D.index>-1&&(w===P.length-1||D.index+1===P[w+1].index))}tryToRemoveColumnsToMatchVisual(T){var P=[],D=[],{args:w,values:M}=T,A=w.map(F=>({expr:[F],index:_.findIndex(this.filterIdentities,O=>(0,y.fS)(O,F))}));if(A[0].index>0)return this.hasBeenModified=!0,{newArgs:P,newValues:D};M=_.unzip(M);var R=A.map((F,U)=>({expr:M[U],index:F.index}));P=A.filter(F=>F.index>-1).map(F=>F.expr[0]),D=R.filter(F=>F.index>-1).map(F=>F.expr),A=A.filter(F=>F.index>-1);for(var B=0;B<A.length-1;B++)if(A[B].index+1<A[B+1].index){P=P.splice(0,B+1),D=D.splice(0,B+1);break}return D=_.unzip(D),this.hasBeenModified=!0,{newArgs:P,newValues:D}}}},59243:function(ve,j,e){e.d(j,{L:function(){return t}});var r=e(999787),i=e(124271),a=e(962238);function t(g,n="select"){return g?g.accept(l.instance,n):n}var l=(()=>{class g extends a.Ml{visitEntity(p){return p.entity}visitNamedQueryRef(p){return`QueryRef(${p.queryName})`}visitColumnRef(p){return p.source.accept(this)+"."+p.ref}visitGroupRef(p){return p.source.accept(this)+"."+p.ref}visitMeasureRef(p){return p.source.accept(this)+"."+p.ref}visitNativeMeasure(p){return`NativeMeasure(${p.proposedName})`}visitNativeColumn(p){return`NativeColumn(${p.proposedName})`}visitHierarchy(p){return p.arg.accept(this)+"."+p.hierarchy}visitHierarchyLevel(p){return p.arg.accept(this)+"."+p.level}visitPropertyVariationSource(p){return p.arg.accept(this)+"."+p.property+"."+p.name}visitAggr(p){return(0,i.b)(p.func)+"("+p.arg.accept(this)+")"}visitPercentile(p){return(p.exclusive?"Percentile.Exc(":"Percentile.Inc(")+p.arg.accept(this)+", "+p.k+")"}visitRangePercent(p){return"RangePercent("+p.min.accept(this)+", "+p.max.accept(this)+", "+p.percent.toString()+")"}visitArithmetic(p){return(0,i.K)(p.operator)+"("+p.left.accept(this)+", "+p.right.accept(this)+")"}visitConstant(p){return"const"}visitTransformOutputRoleRef(p){var s=p.role;return p.transform&&(s+="."+p.transform),s}visitScopedEval(p){return"ScopedEval("+p.expression.accept(this)+", ["+_.map(p.scope,s=>s.accept(this)).join(", ")+"])"}visitFilteredEval(p){var s=d=>{var o="{";return _.isEmpty(d.target)||(o+=`Target(${_.map(d.target,v=>v.accept(this)).join(", ")}), `),o+`Condition(${d.condition.accept(this)})}`};return`FilteredEval(${p.expression.accept(this)}, [${_.map(p.filters,d=>s(d)).join(", ")}])`}visitRoleRef(p){return"Role."+p.role}visitSummaryRef(p){return"SummaryValueRef."+p.name}visitAllRolesRef(p){return"AllRoles"}visitDiscretize(p){return`Discretize(${p.source.accept(this)}, ${p.count})`}visitMember(p){return`Member(${p.source.accept(this)}, ${p.member})`}visitCompare(p){var s=p.left.accept(this),d=p.right.accept(this),o="";switch(p.comparison){case r.uu.Equal:o="=";break;case r.uu.GreaterThan:o=">";break;case r.uu.GreaterThanOrEqual:o=">=";break;case r.uu.LessThan:o="<";break;case r.uu.LessThanOrEqual:o="<="}return`${s}${o}${d}`}visitSparklineData(p){return`SparklineData(${p.measure.accept(this)}_[${_.map(p.grouping,s=>s.accept(this)).join(",")}])`}visitDefault(p,s){return s||"expr"}}return g.instance=new g,g})()},890486:function(ve,j,e){e.d(j,{R:function(){return t}});var r=e(999787),i=e(650543),a=e(442407);function t(l,g){i.f.assert(()=>l.length===g.length,"fileds and values need to be the same size");for(var n=[],p=0;p<l.length;p++)n.push((0,a.qu)(r.uu.Equal,l[p],g[p]));if(!_.isEmpty(n)){var s;for(var d of n)s=(0,a.xD)(s,d);return s}}},567050:function(ve,j,e){e.d(j,{p:function(){return a}});var r=e(650543),i=e(426313);function a(t,l){r.f.assertValue(t,"items"),r.f.assertValue(l,"searchElement");for(var g=0,n=t.length;g<n;g++){var p=t[g];if(p&&(0,i.fS)(p.expr,l))return g}return-1}},25984:function(ve,j,e){e.d(j,{F:function(){return t}});var r=e(999787),i=e(650543),a=e(962238);function t(g){return i.f.assertValue(g,"expr"),g.accept(l.instance)}var l=(()=>{class g extends a.vq{visitCompare(p){return p.comparison===r.uu.Equal&&p.right.accept(this)}visitAnd(p){return p.left.accept(this)&&p.right.accept(this)}visitDefaultValue(p){return!0}visitDefault(p){return!1}}return g.instance=new g,g})()},509247:function(ve,j,e){e.d(j,{k:function(){return a}});var r=e(650543),i=e(962238);function a(l){return r.f.assertValue(l,"expr"),l.accept(t.instance)}var t=(()=>{class l extends i.vq{visitMeasureRef(n){return!0}visitNativeMeasure(n){return!0}visitNativeVisualCalc(n){return!0}visitAggr(n){return!0}visitArithmetic(n){return!0}visitFilteredEval(n){return n.expression.accept(this)}visitSparklineData(n){return!0}visitDefault(n){return!1}}return l.instance=new l,l})()},962238:function(ve,j,e){e.d(j,{Ml:function(){return t},PA:function(){return g},vq:function(){return l}});var r=e(650543),i=e(392617),a=e(675032);class t{visitEntity(p,s){return this.visitDefault(p,s)}visitSubqueryRef(p,s){return this.visitDefault(p,s)}visitNamedQueryRef(p,s){return this.visitDefault(p,s)}visitColumnRef(p,s){return this.visitDefault(p,s)}visitMeasureRef(p,s){return this.visitDefault(p,s)}visitAggr(p,s){return this.visitDefault(p,s)}visitPercentile(p,s){return this.visitDefault(p,s)}visitRangePercent(p,s){return this.visitDefault(p,s)}visitGroupRef(p,s){return this.visitDefault(p,s)}visitHierarchy(p,s){return this.visitDefault(p,s)}visitHierarchyLevel(p,s){return this.visitDefault(p,s)}visitPropertyVariationSource(p,s){return this.visitDefault(p,s)}visitSelectRef(p,s){return this.visitDefault(p,s)}visitBetween(p,s){return this.visitDefault(p,s)}visitIn(p,s){return this.visitDefault(p,s)}visitAnd(p,s){return this.visitDefault(p,s)}visitOr(p,s){return this.visitDefault(p,s)}visitCompare(p,s){return this.visitDefault(p,s)}visitConditional(p,s){return this.visitDefault(p,s)}visitContains(p,s){return this.visitDefault(p,s)}visitExists(p,s){return this.visitDefault(p,s)}visitNot(p,s){return this.visitDefault(p,s)}visitStartsWith(p,s){return this.visitDefault(p,s)}visitConstant(p,s){return this.visitDefault(p,s)}visitDateSpan(p,s){return this.visitDefault(p,s)}visitDateAdd(p,s){return this.visitDefault(p,s)}visitNow(p,s){return this.visitDefault(p,s)}visitDefaultValue(p,s){return this.visitDefault(p,s)}visitAnyValue(p,s){return this.visitDefault(p,s)}visitArithmetic(p,s){return this.visitDefault(p,s)}visitFloor(p,s){return this.visitDefault(p,s)}visitFillRule(p,s){return this.visitDefault(p,s)}visitThemeDataColor(p,s){return this.visitDefault(p,s)}visitResourcePackageItem(p,s){return this.visitDefault(p,s)}visitScopedEval(p,s){return this.visitDefault(p,s)}visitFilteredEval(p,s){return this.visitDefault(p,s)}visitWithRef(p,s){return this.visitDefault(p,s)}visitTransformTableRef(p,s){return this.visitDefault(p,s)}visitTransformOutputRoleRef(p,s){return this.visitDefault(p,s)}visitRoleRef(p,s){return this.visitDefault(p,s)}visitSummaryValueRef(p,s){return this.visitDefault(p,s)}visitAllRolesRef(p,s){return this.visitDefault(p,s)}visitDiscretize(p,s){return this.visitDefault(p,s)}visitMember(p,s){return this.visitDefault(p,s)}visitNativeMeasure(p,s){return this.visitDefault(p,s)}visitNativeColumn(p,s){return this.visitDefault(p,s)}visitSparklineData(p,s){return this.visitDefault(p,s)}visitNativeVisualCalc(p,s){return this.visitDefault(p,s)}visitVisualTopN(p,s){return this.visitDefault(p,s)}visitDefault(p,s){}}class l extends t{}class g{visitEntity(p){this.visitDefault(p)}visitSubqueryRef(p){this.visitDefault(p)}visitNamedQueryRef(p){this.visitDefault(p)}visitColumnRef(p){p.source.accept(this)}visitMeasureRef(p){p.source.accept(this)}visitAggr(p){p.arg.accept(this)}visitPercentile(p){p.arg.accept(this)}visitRangePercent(p){p.min.accept(this),p.max.accept(this)}visitGroupRef(p){for(var s of(p.source.accept(this),p.groupedExprs))s.accept(this)}visitHierarchy(p){p.arg.accept(this)}visitHierarchyLevel(p){p.arg.accept(this)}visitPropertyVariationSource(p){p.arg.accept(this)}visitSelectRef(p){this.visitDefault(p)}visitBetween(p){p.arg.accept(this),p.lower.accept(this),p.upper.accept(this)}visitIn(p){for(var s=p.args,d=0,o=s.length;d<o;d++)s[d].accept(this);var v=p.values;if(v)for(var m=0,c=v.length;m<c;m++)for(var C=v[m],y=0,S=C.length;y<S;y++)C[y].accept(this);else p.table.accept(this)}visitAnd(p){p.left.accept(this),p.right.accept(this)}visitOr(p){p.left.accept(this),p.right.accept(this)}visitCompare(p){p.left.accept(this),p.right.accept(this)}visitConditional(p){for(var s of(r.f.assertValue(p,"expr"),r.f.assertNonEmpty(p.cases,"expr.cases"),p.cases))s.condition.accept(this),s.value.accept(this);p.defaultValue&&p.defaultValue.accept(this)}visitContains(p){p.left.accept(this),p.right.accept(this)}visitExists(p){p.arg.accept(this)}visitNot(p){p.arg.accept(this)}visitStartsWith(p){p.left.accept(this),p.right.accept(this)}visitConstant(p){this.visitDefault(p)}visitDateSpan(p){p.arg.accept(this)}visitDateAdd(p){p.arg.accept(this)}visitNow(p){this.visitDefault(p)}visitDefaultValue(p){this.visitDefault(p)}visitAnyValue(p){this.visitDefault(p)}visitArithmetic(p){p.left.accept(this),p.right.accept(this)}visitFloor(p){p.arg.accept(this)}visitFillRule(p){p.input.accept(this),(0,i.RL)(p.rule,new a._(this,null))}visistExists(p){p.arg.accept(this)}visitThemeDataColor(p){this.visitDefault(p)}visitResourcePackageItem(p){this.visitDefault(p)}visitScopedEval(p){for(var s of(p.expression.accept(this),p.scope))s.accept(this)}visitFilteredEval(p){for(var s of(p.expression.accept(this),p.filters)){if(!_.isEmpty(s.target))for(var d of s.target)d.accept(this);s.condition.accept(this)}}visitWithRef(p){this.visitDefault(p)}visitTransformTableRef(p){this.visitDefault(p)}visitTransformOutputRoleRef(p){this.visitDefault(p)}visitRoleRef(p){this.visitDefault(p)}visitSummaryValueRef(p){this.visitDefault(p)}visitAllRolesRef(p){this.visitDefault(p)}visitDiscretize(p){this.visitDefault(p)}visitMember(p){this.visitDefault(p)}visitNativeMeasure(p){this.visitDefault(p)}visitNativeColumn(p){this.visitDefault(p)}visitSparklineData(p){for(var s of(p.measure.accept(this),p.grouping))s.accept(this);p.scalarKey?.accept(this)}visitNativeVisualCalc(p,s){this.visitDefault(p)}visitVisualTopN(p,s){this.visitDefault(p)}visitDefault(p){}}},774452:function(ve,j,e){e.d(j,{$r:function(){return m},Ms:function(){return C},Nh:function(){return S},QS:function(){return p},Qo:function(){return d},SX:function(){return n},Ww:function(){return h},Yg:function(){return c},cL:function(){return o},vd:function(){return s}});var r=e(990297),i=e(650543),a=e(301336),t=e(442407),l=e(426313),g=e(398732);class n{constructor(u,f){this.schema=u,this.entity=f}accept(u,f){return u.visitEntity(this,f)}equals(u){return u&&this.entity===u.entity&&this.schema===u.schema}}class p{constructor(u,f){this.schema=u,this.pod=f}accept(u,f){return u.visitPod(this,f)}equals(u){return u&&this.pod===u.pod&&this.schema===u.schema}}class s{constructor(u,f){this.subquery=u,this.inheritsSorting=f}accept(u,f){return u.visitSubquery(this,f)}equals(u){return u&&(0,l.C6)(this.subquery,u.subquery)}}class d{constructor(u){this.expr=u}accept(u,f){return u.visitExpr(this,f)}equals(u){return u&&(0,l.fS)(this.expr,u.expr)}}class o{constructor(u,f){if(this.items=u||{},this.usedNames=f||{},!_.isEmpty(this.items))for(var b of this.keys())this.usedNames[b]=!0}keys(){return Object.keys(this.items)}source(u){return this.items[u]}sources(){return this.items}usedSourceNames(){return this.usedNames}ensureSource(u,f){i.f.assertValue(u,"source");var b=this.getSourceKeyFromItems(u);return b?{name:b}:{name:this.addSource(u,f),new:!0}}remove(u){this.items[u]&&delete this.usedNames[u],delete this.items[u]}getSourceKeyFromItems(u){var f=this.keys();for(var b in f){var V=f[b];if(v(this.items[V],u))return V}}addSource(u,f){var V=f||u.accept(new y,null);return V=(0,a.zE)(this.usedNames,V),this.items[V]=u,this.usedNames[V]=!0,V}clone(){var u=new o(null,_.clone(this.usedNames));return $.extend(u.items,this.items),u}equals(u){if(!u)return!1;var f=this.keys(),b=u.keys();return f.length===b.length&&(0,r.NF)(f,b,(V,T)=>v(this.source(V),u.source(T)))}renameSources(u){for(var b,f=this.items,V=Object.keys(f),T=0,P=V.length;T<P;T++){var D=V[T],w=D;if(u[D]&&(w=(0,a.zE)(u,D),!b)){b={};for(var M=0;M<T;M++){var A=V[M];b[A]=f[A]}}u[w]=!0,b&&(b[w]=f[D])}return b?new o(b):this}getSubquerySources(){var u={};for(var f in this.items){var b=this.items[f];(0,g.y)(b)&&(u[f]=b)}return u}}function v(E,u){if(E===u)return!0;if(E&&u){if(m(E)&&m(u)||c(E)&&c(u))return E.equals(u);if((0,g.y)(E)&&(0,g.y)(u))return E.equals(u);if(C(E)&&C(u))return E.equals(u)}return!1}function m(E){return i.f.assertValue(E,"source"),null!=E.entity}function c(E){return i.f.assertValue(E,"source"),null!=E.pod}function C(E){return i.f.assertValue(E,"source"),null!=E.expr}class y{visitEntity(u){return this.getShortName(u.entity)}visitPod(u){return this.getShortName(u.pod)}visitSubquery(u){return"q"}visitExpr(u){return"x"}getShortName(u){var f=u,b=f.lastIndexOf(".");return b>=0&&b!==f.length-1&&(f=f.substr(b+1)),(0,a.Nx)(f.charCodeAt(0))?f.charAt(0).toLowerCase():"a"}}class S{constructor(){this.entities=[]}visitEntity(u,f){this.entities.push(new t.PN(u.schema,u.entity,f))}visitPod(u,f){}visitSubquery(u,f){}visitExpr(u,f){}}class h{constructor(u){this.exprRewriter=u}visitEntity(u,f){var V=(0,t.nw)(u.schema,u.entity,f).accept(this.exprRewriter);return new n(V.schema,V.entity)}visitPod(u,f){var V=(0,t.nw)(u.schema,u.pod,f).accept(this.exprRewriter);return new p(V.schema,V.entity)}visitSubquery(u,f){var V=u.subquery.rewrite(this.exprRewriter);return new s(V,u.inheritsSorting)}visitExpr(u,f){var V=u.expr.accept(this.exprRewriter);return new d(V)}}},398732:function(ve,j,e){e.d(j,{y:function(){return i}});var r=e(650543);function i(a){return r.f.assertValue(a,"source"),null!=a.subquery}},619538:function(ve,j,e){e.d(j,{hG:function(){return S},OQ:function(){return u},wA:function(){return v},tB:function(){return o},g8:function(){return d},S7:function(){return s},cH:function(){return y},u8:function(){return h},uW:function(){return C},ZB:function(){return c},K8:function(){return m}});var r=e(650543),i=e(810331),a=e(442407),t=e(426313),l=e(832573),g=e(726988);function s(f,b){var V=function(f){return f.hierarchyLevel||f.hierarchyLevelAggr||f.columnHierarchyLevelVariation&&f.columnHierarchyLevelVariation.level}(b);if(V)return d(f,V.schema,V.entity,V.name,V.level)}function d(f,b,V,T,P){var w=f.schema(b).findHierarchy(V,T);if(w)return w.levels.withName(P)}function o(f,b){if(f instanceof a.jE){var V=f;if(f.arg instanceof a.PN){var T=f.arg;return b.schema(T.schema).findHierarchy(T.entity,V.hierarchy)}if(f.arg instanceof a.c7){var P=f.arg,D=P.arg;return b.schema(D.schema).findHierarchyByVariation(D.entity,P.property,P.name,V.hierarchy)}}}function v(f,b,V){return u(b,f)||function(f,b){r.f.assertValue(f,"sqExpr"),r.f.assertValue(b,"federatedSchema");var V,T=f.getConceptualProperty(b);if(T){var P=T.column;if(P&&P.variations&&P.variations.length>0){var D=P.variations;r.f.assert(()=>1===D.length,"variations.length");var w=D[0],M=(0,i.Q)(f),A=(0,g.Um)(M);if(V=[],w.defaultHierarchy){var R=(0,a.bT)((0,a.yU)((0,a.nw)(A.schema,A.entity,A.entityVar),w.name,T.name),w.defaultHierarchy.name);for(var B of w.defaultHierarchy.levels)V.push((0,a.os)(R,B.name))}}}return V}(b,f)||!V&&function(f,b){r.f.assertValue(f,"sqExpr"),r.f.assertValue(b,"federatedSchema");var V=[];if(f instanceof a.vD){var T=(0,i.Q)(f);if(T.hierarchyLevel){var P=(0,g.Um)(T),D=b.schema(P.schema).findHierarchy(P.entity,T.hierarchyLevel.name);if(D){var w=D.levels;for(var M of w){if(M.name===T.hierarchyLevel.level){V.push(f);break}V.push((0,a.os)((0,a.bT)((0,a.nw)(P.schema,P.entity,P.entityVar),D.name),M.name))}}}}if(!_.isEmpty(V))return V}(b,f)||b}function m(f,b){if(b instanceof a.jE||b instanceof a.vD)return!0;var V=b.getConceptualProperty(f);if(V){var T=V.column;if(T&&T.variations&&T.variations.length>0)return!0}return!1}function c(f){var b=(0,i.Q)(f);if(b.columnHierarchyLevelVariation){var V=(0,a.nw)(b.columnHierarchyLevelVariation.source.schema,b.columnHierarchyLevelVariation.source.entity);return(0,a.Oh)(V,b.columnHierarchyLevelVariation.source.name)}}function C(f){var V=(0,i.Q)(f).hierarchyLevel;if(V){var T=(0,a.nw)(V.schema,V.entity,V.entityVar);return(0,a.bT)(T,V.name)}}function y(f){if(f.arg instanceof a.jE){var b=f.arg;if(b.arg instanceof a.c7)return b.arg}}function S(f,b,V){if(!(b instanceof a.vD&&V instanceof a.vD))return!1;var T=b,P=V;if(!(0,t.fS)(T.arg,P.arg))return!1;var D=l.m.indexOfExpr(f,T),w=l.m.indexOfExpr(f,P);return-1!==D&&-1!==w&&D<w}function h(f,b,V){for(var T=0;T<b.length&&S(f,b[T],V);)T++;return T}function u(f,b){if(r.f.assertValue(f,"sqExpr"),r.f.assertValue(b,"federatedSchema"),f instanceof a.jE){var T=o(f,b);if(T)return _.map(T.levels,P=>(0,a.os)(f,P.name))}}},212668:function(ve,j,e){e.d(j,{K:function(){return t}});var r=e(650543),i=e(442407),a=e(247425);function t(g,n){return r.f.assertValue(g,"expr"),r.f.assertValue(n,"schema"),g.accept(new l(n))}class l extends a.b{constructor(n){super(),this.schema=n}visitPropertyVariationSource(n){var p=n.arg.getTargetEntity();if(!p)return n;var s=p.schema,d=this.schema.schema(s).findTargetEntityOfVariation(p.entity,n.property,n.name);return d?(0,i.nw)(s,d.name):n}}},370918:function(ve,j,e){e.d(j,{y3:function(){return c},dc:function(){return Q},dx:function(){return Je},OQ:function(){return re},rH:function(){return Ae},SU:function(){return Ve},IE:function(){return G},iH:function(){return se},JN:function(){return h}});var t,r=e(650543),i=e(221e3),a=e(756646),n=e(149222),p=e(123975),s=e(62414),d=e(301336),o=e(958497);class v{static canFormat(Ce){return Ce instanceof Date}static format(Ce,je,pe){je=je||"G",(0,p.M4)(Ce)&&(Ce=c.fromTimeValue(Ce.epochTimeStamp));var lt=1===je.length;try{return lt?A(Ce,je,pe):function(he,Ce,je){var pe,Qe=[];if((Ce=h(Ce,Qe)).indexOf("F")>-1){Ce=(0,d.ko)(Ce,"FFFF","FFF");var ut=he.getMilliseconds();if(ut%10>=1&&(Ce=(0,d.ko)(Ce,"FFF","fff")),Ce=(0,d.ko)(Ce,"FFF","FF"),ut%100/10>=1&&(Ce=(0,d.ko)(Ce,"FF","ff")),Ce=(0,d.ko)(Ce,"FF","F"),ut%1e3/100>=1&&(Ce=(0,d.ko)(Ce,"F","f")),""===(Ce=(0,d.ko)(Ce,"F",""))||"%"===Ce)return""}var lt=function(he){return null!=he.match(/gg/)}(Ce);Ce=function(he){return he===w?M:(w=he,he=function(he){if(he=(he=(he=(he=(he=(he=(he=(he=he.replace(/%K/g,"zzz")).replace(/K/g,"zzz")).replace(/fffffff/g,"fff0000")).replace(/ffffff/g,"fff000")).replace(/fffff/g,"fff00")).replace(/ffff/g,"fff0")).replace(/yyyyy/g,"0yyyy")).replace(/(^y|^)yyy(^y|$)/g,"yyyy"),t||(t=["d","f","F","g","h","H","K","m","M","s","t","y","z",":","/"].map(je=>({r:new RegExp("%"+je+"(?!"+je+")","g"),s:je}))),-1!==he.indexOf("%")&&he.length>2)for(var Ce of t)he=he.replace(Ce.r,Ce.s);return he}(he),M=he,he)}(Ce);var Et=je.calendar;return lt&&(je.calendar=je.calendars.Japanese),pe=Globalize.format(he,Ce,je),lt&&(je.calendar=Et),pe=E(pe=v.localize(pe,je.calendar),Qe,!1)}(Ce,je,pe)}catch{return A(Ce,"G",pe)}}static localize(Ce,je){var pe=je[":"];if(":"===pe)return Ce;for(var Qe="",ut=Ce.length,lt=0;lt<ut;lt++){var Et=Ce.charAt(lt);Qe+=":"===Et?pe:Et}return Qe}}class m{static canFormat(Ce){return"number"==typeof Ce}static format(Ce,je,pe){je=je||"G";try{return se(je)?function(he,Ce,je){var pe,Qe=Ce.length>1?parseInt(Ce.substr(1,Ce.length-1),10):void 0,ut=je.numberFormat,lt=Ce.charAt(0);switch(lt){case"e":case"E":void 0===Qe&&(Qe=6);var Et=_.repeat("0",Qe);pe=ot(he,Ce="0."+Et+lt+"+000",je);break;case"f":case"F":pe=he.toFixed(void 0!==Qe?Qe:ut.decimals),pe=m.localize(pe,ut);break;case"g":case"G":var bt=Math.abs(he);if(0===bt||1e-4<=bt&&bt<1e15)pe=void 0!==Qe?he.toPrecision(Qe):he.toString();else{if(r.f.assert(()=>"number"==typeof he,"value must be a number"),"number"!=typeof he)return String(he);pe=(pe=void 0!==Qe?he.toExponential(Qe):he.toExponential()).replace("e","E")}pe=m.localize(pe,ut);break;case"r":case"R":pe=he.toString(),pe=m.localize(pe,ut);break;case"x":case"X":if(pe=he.toString(16),"X"===lt&&(pe=pe.toUpperCase()),void 0!==Qe){var Ot=pe.length,Dt=he<0;Dt&&Ot--;var Fe,ne=Qe-Ot;ne>0&&(Fe=_.repeat("0",ne)),pe=Dt?"-"+Fe+pe.substr(1):Fe+pe}pe=m.localize(pe,ut);break;default:pe=Globalize.format(he,Ce,je)}return pe}(Ce,je,pe):ot(Ce,je,pe)}catch{return Globalize.format(Ce,void 0,pe)}}static localize(Ce,je){var pe=je["+"],Qe=je["-"],ut=je["."],lt=je[","];if("+"===pe&&"-"===Qe&&"."===ut&&","===lt)return Ce;for(var Et=Ce.length,bt="",Ot=0;Ot<Et;Ot++){var Dt=Ce.charAt(Ot);switch(Dt){case"+":bt+=pe;break;case"-":bt+=Qe;break;case".":bt+=ut;break;case",":bt+=lt;break;default:bt+=Dt}}return bt}}class c extends Date{constructor(Ce){super(Ce)}static fromTimeValue(Ce){return new c(Ce)}static fromDateParts(Ce,je=0,pe=1,Qe=0,ut=0,lt=0,Et=0){var bt=Date.UTC(Ce,je,pe,Qe,ut,lt,Et);return new c(bt)}static fromString(Ce){r.f.assert(()=>/^[\+-]?\d{4}-\d{2}-\d{2}(T\d{2}\:\d{2}\:\d{2}(\.\d{3})?Z)?$/.test(Ce),"Only ISO 8601 is guaranteed to be parsed as UTC");var je=new Date(Ce);return new c(je.getTime())}static fromDateWithEpochValue(Ce){return c.fromTimeValue(Ce.epochTimeStamp)}static isDate(Ce){return Ce instanceof Date}getDate(){return this.getUTCDate()}getDay(){return this.getUTCDay()}getFullYear(){return this.getUTCFullYear()}getHours(){return this.getUTCHours()}getMilliseconds(){return this.getUTCMilliseconds()}getMinutes(){return this.getUTCMinutes()}getMonth(){return this.getUTCMonth()}getSeconds(){return this.getUTCSeconds()}setDate(Ce){return this.setUTCDate.apply(this,arguments)}setFullYear(Ce,je,pe){return this.setUTCFullYear.apply(this,arguments)}setHours(Ce,je,pe,Qe){return this.setUTCHours.apply(this,arguments)}setMilliseconds(Ce){return this.setUTCMilliseconds.apply(this,arguments)}setMinutes(Ce,je,pe){return this.setUTCMinutes.apply(this,arguments)}setMonth(Ce,je){return this.setUTCMonth.apply(this,arguments)}setSeconds(Ce,je){return this.setUTCSeconds.apply(this,arguments)}toString(){var Ce=this.toUTCString(),je=Ce.length-4;return Ce.indexOf(" GMT")===je&&(Ce=Ce.substr(0,je)),Ce}}var y=new RegExp(["'[^']*'",'"[^"]*"',"\\\\.","'[^']*$",'"[^"]*$',"\\\\$"].join("|"),"g");function S(he){return y.lastIndex=0,he.replace(y,"\ue100")}function h(he,Ce){for(y.lastIndex=0;;){var je=y.exec(he);if(!je)break;var pe=je[0],Qe=y.lastIndex-pe.length,ut=String.fromCharCode(57600+Ce.length);Ce.push(pe),he=he.substr(0,Qe)+ut+he.substr(y.lastIndex),y.lastIndex=Qe+1}return he}function E(he,Ce,je=!0){for(var pe=Ce.length,Qe=0;Qe<pe;Qe++){var ut=String.fromCharCode(57600+Qe),lt=Ce[Qe];if(!je){var Et=lt[0];lt="\\"===Et||1===lt.length||lt[lt.length-1]!==Et?lt.substring(1):lt.substring(1,lt.length-1)}he=he.replace(ut,lt)}return he}var w,M,u=/({{)|(}})|{(\d+[^}]*)}/g,f="0",b="#",V="E",P=new RegExp([f,b].join("|"),"g");function A(he,Ce,je){var pe=je.calendar.patterns;!function(he){var Ce=he.patterns;void 0===Ce.g&&(Ce.g=Ce.f.replace(Ce.D,Ce.d),Ce.G=Ce.F.replace(Ce.D,Ce.d))}(je.calendar);var Qe=function(he,Ce,je){switch(Ce){case"m":Ce="M";break;case"O":case"o":Ce="yyyy'-'MM'-'dd'T'HH':'mm':'ss'.'fff'0000'";break;case"R":case"r":he=new Date(he.getUTCFullYear(),he.getUTCMonth(),he.getUTCDate(),he.getUTCHours(),he.getUTCMinutes(),he.getUTCSeconds(),he.getUTCMilliseconds()),Ce="ddd, dd MMM yyyy HH':'mm':'ss 'GMT'";break;case"s":Ce="S";break;case"u":he=new Date(he.getUTCFullYear(),he.getUTCMonth(),he.getUTCDate(),he.getUTCHours(),he.getUTCMinutes(),he.getUTCSeconds(),he.getUTCMilliseconds()),Ce="yyyy'-'MM'-'dd HH':'mm':'ss'Z'";break;case"U":he=new Date(he.getUTCFullYear(),he.getUTCMonth(),he.getUTCDate(),he.getUTCHours(),he.getUTCMinutes(),he.getUTCSeconds(),he.getUTCMilliseconds()),Ce="F";break;case"y":case"Y":switch(je){case"default":case"en":case"en-US":Ce="MMMM, yyyy";break;default:Ce="Y"}}return{value:he,format:Ce}}(he,Ce,je.name);return Ce=1===Qe.format.length?pe[Qe.format]:Qe.format,Globalize.format(Qe.value,Ce,je)}var te,F=/^\{.+\}.*/,U=/\{.+\}/,O=/e[+-]*[0#]+/i,x=/^[a-z]\d{0,2}$/i,I=/0+$/,L=/([,]*)\.([0#]*)/g,K=/[0#,\.]+[0,#]*/g,z=/([0#])(?=[^0#]*$)/,H=".",J=";";function G(he,Ce){if(null==Ce)return Ce;if(X(Ce)){var{positive:je,negative:pe,zero:Qe}=re(Ce);return q(he>0?je:0===he?Qe:pe)}return q(Ce)}function q(he){var Ce=(0,s.KH)(K,he);return Ce?Ce[0]:he}function Q(he,Ce,je){if(null==Ce)return he;if(null==he&&(he=f),X(he)){for(var{positive:pe,negative:Qe,zero:ut}=re(he),lt=[pe,Qe,ut],Et=0;Et<lt.length;Et++)lt[Et]=Z(lt[Et],Ce,je);return lt.join(J)}return Z(he,Ce,je)}function Z(he,Ce,je){if((Ce=Math.abs(Ce))>=0){var pe=[];he=h(he,pe);var ut=_.repeat(je?f:b,Math.abs(Ce)),lt=(0,s.KH)(L,he);if(lt){var Et=he.substr(0,lt.index+lt[1].length),bt=he.substr(lt.index+lt[1].length+1,lt[2].length),Ot=lt[1],Dt=he.substr(lt.index+lt[0].length);if(je)bt=ut;else{var ne=ut.length-bt.length;ne>0?bt+=ut.slice(-ne):ne<0&&(bt=bt.slice(0,ne))}bt.length>0?bt=H+bt:Ot.length>0&&(bt=H),he=Et+bt+Dt}else ut.length>0&&(he=he.replace(z,"$1"+H+ut));0!==pe.length&&(he=E(he,pe))}return he}function X(he){return-1!==S(he).indexOf(J)}function re(he){var Ce={hasNegative:!1,positive:he,negative:he,zero:he},je=[],pe=(he=h(he,je)).split(J),Qe=pe.length;return Qe>1&&(0!==je.length&&(pe=_.map(pe,ut=>E(ut,je))),Ce.hasNegative=!0,Ce.positive=Ce.zero=pe[0],Ce.negative=pe[1],Qe>2&&(Ce.zero=pe[2])),Ce}function se(he){return r.f.assertValue(he,"format"),x.test(he)}function Ve(he){return!he||se(he)||Ae(he).hasDots?he:Q(he,2,!0)}function ot(he,Ce,je,pe){var Qe,ut=je.numberFormat;if(!isFinite(he))return Globalize.format(he,void 0);var lt=re(Ce);Ce=he>0?lt.positive:0===he?lt.zero:lt.negative,lt.hasNegative&&(he=Math.abs(he));var Et=Ae(Ce,!0),bt=[];if(Et.hasLiterals&&(Ce=h(Ce,bt)),Et.hasE&&!pe){var Ot=(0,s.KH)(O,Ce);if(Ot){var Dt=Ce.substr(0,Ot.index),ne=Ce.substr(Ot.index+2),Fe=we(Dt,Et),$e=me(Dt,Et);if(1!==$e&&(he*=$e),r.f.assert(()=>"number"==typeof he,"value must be a number"),"number"!=typeof he)return String(he);var qe=he.toExponential(Fe),dt=qe.indexOf("e"),rt=qe.substr(0,dt),ce=qe.substr(dt+1),be=Oe(rt,Dt,ut),ae=Oe(ce,ne,ut);"+"===ae.charAt(0)&&"+"!==Ot[0].charAt(1)&&(ae=ae.substr(1)),Qe=be+Ot[0].charAt(0)+ae}}if(void 0===Qe){var ee,Pe=!1,We=we(Ce,Et),it=me(Ce,Et);if(1!==it&&(he*=it),he=parseFloat(Ct(he,We)),!isFinite(he))return Globalize.format(he,void 0);pe?(pe=function(he,Ce){return Ce&&void 0!==he?he.replace("{0}","{0:"+Ce+"}"):he}(pe,G(he,Ce)),ee=Je.format(pe,[he],je.name),Pe=!0):(ee=Ct(he,We),ee=function(he,Ce,je,pe){if(0===pe)return Ce;var Qe=Ce.indexOf(".");if(-1===Qe)return Ce;for(var ut=Qe+1,Et=ut+(je-pe);Et<Ce.length;++Et){var bt=Ce[Et];if("0"===bt||"9"===bt){var Ot=Ct(he,Et-ut);if(parseFloat(Ot)===he)return Ot}}return Ce}(he,ee,We,function(he,Ce){return Se(he,Ce),Ce.optionalPrecision}(Ce,Et))),Qe=Oe(ee,Ce,ut,pe,Pe)}return Et.hasLiterals&&(Qe=E(Qe,bt,!1)),te=Et,Qe}function Ct(he,Ce){var je="",pe=0;Ce>16&&(pe=Ce-16,Ce=16);var Qe=(0,i.mv)(Math.abs(he))+1;if(Qe<16){if(Qe>0){var ut=16-Qe;Ce>ut&&(pe+=Ce-ut,Ce=ut)}je=function(he,Ce){if(!he||isFinite(he)){var je=he<0;je&&(he=-he);var pe=Math.pow(2,Math.floor(Math.log(he)/Math.LN2)-52),Qe=Math.pow(10,Ce);1/Qe>10*pe&&(he=Math.round((he+pe)*Qe)/Qe),je&&(he=-he)}return he.toFixed(Ce)}(he,Ce)}else if(16===Qe)je=he.toFixed(0),(pe+=Ce)>0&&(je+=".");else{if(r.f.assert(()=>"number"==typeof he,"value must be a number"),"number"!=typeof he)return String(he);var lt=(je=he.toExponential(15)).indexOf("e");if(lt>0){var Et=je.indexOf("."),bt=je.substr(0,lt),Ot=je.substr(lt+1),Dt=parseInt(Ot,10)-(bt.length-Et-1);je=bt.replace(".","")+_.repeat("0",Dt),Ce>0&&(je=je+"."+_.repeat("0",Ce))}}return pe>0&&(je+=_.repeat("0",pe)),je}function Ae(he,Ce,je,pe){if(void 0!==te&&he===te.format)return te;for(var Qe=[],ut=h(he,Qe),lt={format:he,hasLiterals:0!==Qe.length,hasE:!1,hasCommas:!1,hasDots:!1,hasPercent:!1,hasPermile:!1,precision:void 0,optionalPrecision:void 0,scale:void 0,partsPerScale:void 0},Et=0,bt=ut.length;Et<bt;Et++)switch(ut.charAt(Et)){case"e":case"E":lt.hasE=!0;break;case",":lt.hasCommas=!0;break;case".":lt.hasDots=!0;break;case"%":lt.hasPercent=!0;break;case"\u2030":lt.hasPermile=!0}var Dt=re(he);return Ce&&(lt.precision=we(Dt.positive,lt)),pe&&(lt.partsPerScale=Ie(Dt.positive,lt)),je&&(lt.scale=me(Dt.positive,lt)),lt}function we(he,Ce){return Se(he,Ce),Ce.precision}function Se(he,Ce){if(!(Ce.precision>-1)){var je=0,pe=0;if(Ce.hasDots){Ce.hasLiterals&&(he=S(he));var Qe=he.indexOf(".");if(Qe>-1){for(var ut=he.length,lt=Qe;lt<ut;lt++){var Et=he.charAt(lt);if(Et.match(P)&&++je,Et===b?++pe:pe=0,Et===V)break}je>19&&(pe=Math.max(0,pe-(je-19)),je=19)}}Ce.precision=je,Ce.optionalPrecision=pe}}function Ie(he,Ce){if(null!=Ce.partsPerScale)return Ce.partsPerScale;var je=1;return Ce.hasPercent&&he.indexOf("%")>-1&&(je*=100),Ce.hasPermile&&he.indexOf("\u2030")>-1&&(je*=1e3),Ce.partsPerScale=je,je}function me(he,Ce){if(Ce.scale>-1)return Ce.scale;var je=Ie(he,Ce);if(Ce.hasCommas){var pe=he.indexOf(".");if(-1===pe)for(pe=he.length;pe>0&&")"===he.charAt(pe-1);)pe--;for(var Qe=pe-1;Qe>-1&&","===he.charAt(Qe);Qe--)je/=1e3}return Ce.scale=je,je}function Oe(he,Ce,je,pe,Qe){var ut=!!pe,lt=Ce.split(".",2);if(2===lt.length){var Et=lt[0],bt=lt[1],Ot="";pe&&(r.f.assert(()=>F.test(pe),"Number should always precede the display unit"),Ot=pe.replace(U,""),he=he.replace(Ot,""));var Dt=je["."],Fe=he.split(Qe?Dt:".",2),$e=1===Fe.length?Fe[0]+Ot:Fe[0],qe=2===Fe.length?Fe[1]+Ot:"";qe=qe.replace(I,"");var dt=Ee($e,Et,je,ut),rt=function(he,Ce,je){var pe=0,Qe=Ce.length,ut=he.length;if(je){r.f.assert(()=>Qe>0,"Empty formatting string");var lt=Ce.charAt(Qe-1);return lt.match(P)?{value:he,fmtOnly:""===he}:{value:he+lt,fmtOnly:""===he}}for(var Et="",bt=!0,Ot=0;Ot<Qe;Ot++){var Dt=Ce.charAt(Ot);if(pe<ut)switch(Dt){case f:case b:Et+=he[pe++],bt=!1;break;default:Et+=Dt}else Dt!==b&&(Et+=Dt,bt=bt&&Dt!==f)}return{value:Et,fmtOnly:bt}}(qe,bt,ut);return rt.fmtOnly||""===rt.value?dt+rt.value:dt+Dt+rt.value}return Ee(he,Ce,je,ut)}function Ee(he,Ce,je,pe){var Qe=Ce.indexOf(","),ut=Qe>-1&&Qe<Math.max(Ce.lastIndexOf("0"),Ce.lastIndexOf("#"))&&je[","],lt=0,Et=0,bt=je.groupSizes||[3],Ot=bt[0],Dt=je[","],ne="",Fe=he.charAt(0);("+"===Fe||"-"===Fe)&&(ne=je[Fe],he=he.substr(1));for(var $e="0"===he,qe="",dt="",rt=he.length-1,ce=!0,be=Ce.length-1;be>-1;be--){var ae=Ce.charAt(be);switch(ae){case f:case b:ce=!1,""!==dt&&(qe=dt+qe,dt=""),pe||((rt>-1||ae===f)&&ut&&(lt===Ot?(qe=Dt+qe,++Et<bt.length&&(Ot=bt[Et]),lt=1):lt++),rt>-1?($e&&ae===b||(qe=he.charAt(rt)+qe),rt--):ae!==b&&(qe=ae+qe));break;case",":break;default:dt=ae+dt}}if(!pe){if(rt>-1&&""!==qe)if(ut)for(;rt>-1;)lt===Ot?(qe=Dt+qe,++Et<bt.length&&(Ot=bt[Et]),lt=1):lt++,qe=he.charAt(rt)+qe,rt--;else qe=he.substr(0,rt+1)+qe;return ne+dt+qe}return ce?ne+dt+qe:ne+dt+he+qe}class ye{constructor(Ce){var je=Ce.calendar,pe=je.patterns,Qe=null!=je.months?.namesAbbr?.[0],ut=pe.Y,lt=pe.M,Et=pe.f,bt=pe.T,Ot=pe.t,Dt=Et.indexOf(",")>-1?", ":" ",ne=0===ut.indexOf("yyyy'")&&ut.length>6&&"'"===ut[6];this.YearPattern=ne?ut.substr(0,7):"yyyy";var Fe=Et.indexOf("yy"),$e=Et.indexOf("MMMM");this.MonthPattern=Qe&&$e>-1?Fe>$e?"MMM yyyy":"yyyy MMM":ut,this.DayPattern=Qe?lt.replace("MMMM","MMM"):lt;var qe=Et.indexOf("mm"),rt=Et.indexOf("tt")>-1?Ot.replace(":mm ",""):Ot;this.HourPattern=Fe<qe?this.DayPattern+Dt+rt:rt+Dt+this.DayPattern,this.MinutePattern=Ot,this.SecondPattern=bt,this.MillisecondPattern=bt.replace("ss","ss.fff")}getFormatString(Ce){switch(Ce){case o.l.Year:return this.YearPattern;case o.l.Month:return this.MonthPattern;case o.l.Week:case o.l.Day:return this.DayPattern;case o.l.Hour:return this.HourPattern;case o.l.Minute:return this.MinutePattern;case o.l.Second:return this.SecondPattern;case o.l.Millisecond:return this.MillisecondPattern}r.f.assertFail("Unexpected unit: "+Ce)}}var Je=new class{formatValue(Ce,je,pe){if(null==Ce)return"";var Qe=this.getCulture(pe);return v.canFormat(Ce)?v.format(Ce,je,Qe):m.canFormat(Ce)?m.format(Ce,je,Qe):Ce.toString()}format(Ce,je,pe){return Ce?Ce.replace(u,(ut,lt,Et,bt)=>{if(lt)return"{";if(Et)return"}";var Ot=bt.split(":"),Dt=parseInt(Ot[0],10);return this.formatValue(je[Dt],Ot[1],pe)}):""}isStandardNumberFormat(Ce){return se(Ce)}formatNumberWithCustomOverride(Ce,je,pe,Qe){return function(he,Ce,je,pe){return r.f.assertValue(he,"value"),r.f.assert(()=>"number"==typeof he,"value must be a number"),r.f.assertValue(Ce,"format"),r.f.assertValue(je,"nonScientificOverrideFormat"),r.f.assertValue(pe,"culture"),r.f.assert(()=>!se(Ce),"Standard format"),ot(he,Ce,pe,je)}(Ce,je,pe,this.getCulture(Qe))}dateFormatString(Ce){return this._dateTimeScaleFormatInfo||this.initialize(),this._dateTimeScaleFormatInfo.getFormatString(Ce)}setCurrentCulture(Ce){this._currentCultureSelector!==Ce&&(this._currentCulture=this.getCulture(Ce),this._currentCultureSelector=Ce,this._dateTimeScaleFormatInfo=new ye(this._currentCulture))}normalizeCultureSelector(Ce){var je=Ce.split("-");return 2===je.length&&2===je[1].length&&(Ce=je[0]+"-"+je[1].toUpperCase()),Ce}getCulture(Ce){if(null==Ce)return null==this._currentCulture&&this.initialize(),this._currentCulture;Ce=this.normalizeCultureSelector(Ce);var je=Globalize.findClosestCulture(Ce);return je||(je=Globalize.culture("en-US")),je}parseFloat(Ce){return Globalize.parseFloat(Ce,this.getCulture())}parseDate(Ce){var je=Globalize.parseDate(Ce,null,this.getCulture());return je&&(0,p.Fg)(je)}getCurrentCulture(){return this.getCulture()}initialize(){var Ce=this.getCurrentLocale();this.setCurrentCulture(Ce);var je=this.getUrlParam("calendar");if(je){var pe=this._currentCulture,Qe=pe.calendars[je];Qe&&(pe.calendar=Qe)}}getCurrentLocale(){var Ce=n.M.getLanguage()||Globalize.culture().name,je=(0,a.hG)().cultureInfo;return Ce=(0,a.hG)().formattingLocale||je||Ce,this.getUrlParam("formatLocale")||this.getUrlParam("language")||Ce}getUrlParam(Ce){var je=window.location.search.match(RegExp("[?&]"+Ce+"=([^&]*)"));return je?je[1]:void 0}}},989259:function(ve,j,e){e.d(j,{Gg:function(){return g},qC:function(){return l}});var r=e(650543),i=e(123975),a=e(962238),t=e(370918);function l(s){return JSON.stringify(s.accept(n.instance))}function g(s){for(var d="[",o=0,v=s.length;o<v;o++)o>0&&(d+=","),d+=l(s[o]);return d+"]"}var n=(()=>{class s extends a.vq{visitColumnRef(o){return{col:{s:o.source.accept(this),r:o.ref}}}visitMeasureRef(o){return{measure:{s:o.source.accept(this),r:o.ref}}}visitNativeMeasure(o){var v={l:o.language,e:o.expression,t:o.dataType};return o.proposedName&&(v.p=o.proposedName),o.expressionContentCache&&(v.c={}),o.expressionContentCache.dependencies&&(v.c.d=g(o.expressionContentCache.dependencies)),null!=o.expressionContentCache.unrecognizedIdentifiers&&(v.c.u=o.expressionContentCache.unrecognizedIdentifiers),{nativeMeasure:v}}visitNativeColumn(o){var v={l:o.language,e:o.expression,t:o.dataType,s:o.source.accept(this),f:o.format};return o.proposedName&&(v.p=o.proposedName),o.expressionContentCache&&(v.c={}),o.expressionContentCache.dependencies&&(v.c.d=g(o.expressionContentCache.dependencies)),null!=o.expressionContentCache.unrecognizedIdentifiers&&(v.c.u=o.expressionContentCache.unrecognizedIdentifiers),{nativeColumn:v}}visitAggr(o){return{agg:{a:o.arg.accept(this),f:o.func}}}visitEntity(o){return r.f.assertValue(o,"expr"),r.f.assertValue(o.entity,"expr.entity"),{e:o.entity}}visitHierarchyLevel(o){return{h:o.arg.accept(this),l:o.level}}visitHierarchy(o){return{e:o.arg.accept(this),h:o.hierarchy}}visitPropertyVariationSource(o){return{e:o.arg.accept(this),n:o.name,p:o.property}}visitAnd(o){return r.f.assertValue(o,"expr"),{and:{l:o.left.accept(this),r:o.right.accept(this)}}}visitCompare(o){return r.f.assertValue(o,"expr"),{comp:{k:o.comparison,l:o.left.accept(this),r:o.right.accept(this)}}}visitConstant(o){return r.f.assertValue(o,"expr"),{const:{t:o.type.primitiveType,v:p(o.value)}}}visitArithmetic(o){return r.f.assertValue(o,"expr"),{arithmetic:{o:o.operator,l:o.left.accept(this),r:o.right.accept(this)}}}visitScopedEval(o){return r.f.assertValue(o,"expr"),{scopedEval:{e:o.expression.accept(this),s:g(o.scope)}}}visitFilteredEval(o){r.f.assertValue(o,"expr");var v=m=>{var c={};return _.isEmpty(m.target)||(c.t=_.map(m.target,C=>C.accept(this))),c.c=m.condition.accept(this),c};return{filteredEval:{e:o.expression.accept(this),f:`[${_.map(o.filters,m=>JSON.stringify(v(m))).join(", ")}]`}}}visitWithRef(o){return r.f.assertValue(o,"expr"),{withRef:{e:o.expressionName}}}visitTransformTableRef(o){return r.f.assertValue(o,"expr"),{transformTableRef:{source:o.source}}}visitTransformOutputRoleRef(o){r.f.assertValue(o,"expr");var v={transformOutputRoleRef:{role:o.role}};return o.transform&&(v.transformOutputRoleRef.transform=o.transform),v}visitFloor(o){r.f.assertValue(o,"expr");var v={floor:{a:o.arg.accept(this),s:o.size}};return null!=o.timeUnit&&(v.floor.timeunit=o.timeUnit),v}visitRoleRef(o){return r.f.assertValue(o,"expr"),{roleRef:{role:o.role}}}visitSummaryValueRef(o){return r.f.assertValue(o,"expr"),{summaryValueRef:{name:o.name}}}visitAllRolesRef(o){return r.f.assertValue(o,"expr"),{allRolesRef:{}}}visitNot(o){return r.f.assertValue(o,"expr"),{not:o.arg.accept(this)}}visitIn(o){return r.f.assertValue(o,"expr"),{in:{c:g(o.args),v:_.map(o.values,v=>g(v))}}}visitSelectRef(o){return r.f.assertValue(o,"expr"),{n:o.expressionName}}visitSparklineData(o){return r.f.assertValue(o,"expr"),{sparklineData:{m:o.measure.accept(this),g:g(o.grouping),s:o.scalarKey?.accept(this)}}}visitDefault(o){r.f.assertFail("Unexpected expression type found in DataViewScopeIdentity.")}}return s.instance=new s,s})();function p(s){return(0,i.M4)(s)?t.y3.fromDateWithEpochValue(s):s}},582358:function(ve,j,e){e.d(j,{C:function(){return t},J:function(){return a}});var r=e(650543),i=e(56604);function a(l,g){if(r.f.assertValue(l,"getStylePreset called with undefined stylePresets"),l){_.isEmpty(g)&&(g=l.defaultPresetName);var n=l.presets[g];return n||(n=l.presets[l.defaultPresetName]),r.f.assertValue(n,"VisualStylePreset not found and no valid default exists"),n}}function t(l,g){var n=[];if(l){var p=l.presets;if(p)for(var s in p){var d=p[s];d.isDeprecated&&d.name!==g||n.push({value:d.name,displayName:d.displayName})}}return(0,i.i)(n)}},338898:function(ve,j,e){e.d(j,{RL:function(){return t},lP:function(){return i}});var r=e(581130);function i(l){return l.annotationType===r.x.Callout}function t(l,g){l.annotationType===r.x.Callout?(l.text&&g.visitExpr(l.text),l.offsetX&&g.visitExpr(l.offsetX),l.offsetY&&g.visitExpr(l.offsetY),l.width&&g.visitExpr(l.width),l.height&&g.visitExpr(l.height),l.lastEditUTCTimestamp&&g.visitExpr(l.lastEditUTCTimestamp)):l.annotationType===r.x.Highlight&&(l.color&&g.visitExpr(l.color),l.fontColor&&g.visitExpr(l.fontColor),l.backgroundColor&&g.visitExpr(l.backgroundColor),l.emphasizeText&&g.visitExpr(l.emphasizeText),l.strokeDasharray&&g.visitExpr(l.strokeDasharray),l.shouldOffsetVisibleOutlinesInbound&&g.visitExpr(l.shouldOffsetVisibleOutlinesInbound),l.targets&&_.forEach(l.targets,n=>g.visitExpr(n)))}},530268:function(ve,j,e){e.d(j,{R:function(){return a}});var r=e(650543),i=e(882553);function a(t,l){r.f.assertValue(t,"dataBars"),t.minValue&&l.visitExpr(t.minValue),t.maxValue&&l.visitExpr(t.maxValue),t.totalMatchingOption&&l.visitExpr(t.totalMatchingOption),(0,i.RL)(t.positiveColor,l),(0,i.RL)(t.negativeColor,l),(0,i.RL)(t.axisColor,l),l.visitExpr(t.reverseDirection),l.visitExpr(t.hideText)}},56604:function(ve,j,e){e.d(j,{i:function(){return i}});var r=e(650543);function i(t){return new a(t)}class a{constructor(l){r.f.assertValue(l,"allMembers"),this.allMembers=l}members(l){var g=this.allMembers;if(!l)return g;var n=[];for(var p of g)_.includes(l,p.value)&&n.push(p);return n}}},581130:function(ve,j,e){e.d(j,{x:function(){return r}});var r=function(i){return i.Callout="callout",i.Highlight="highlight",i}({})},621542:function(ve,j,e){e.d(j,{RL:function(){return i}});var r=e(650543);function i(n,p){n.explicit?function(n,p){p.visitExpr(n.isRelative),n.lowerBound&&p.visitExpr(n.lowerBound),n.upperBound&&p.visitExpr(n.upperBound)}(n.explicit,p):n.symmetricalExplicit?p.visitExpr(n.symmetricalExplicit.delta):n.standardDeviation?function(n,p){n.visitExpr(p.value),n.visitExpr(p.multiplier)}(p,n.standardDeviation):n.percentage?function(n,p){p.visitExpr(n.lowerBoundDelta),p.visitExpr(n.upperBoundDelta)}(n.percentage,p):n.percentile?function(n,p){p.visitExpr(n.lowerBound),p.visitExpr(n.upperBound)}(n.percentile,p):r.f.assertFail("Unsupported ErrorRangeDefinition")}},882553:function(ve,j,e){e.d(j,{AG:function(){return g},EV:function(){return l},Gl:function(){return a},RL:function(){return t}});var r=e(650543),i=e(442407);function a(n){return n&&(void 0!==n.solid&&void 0!==n.solid.color||void 0!==n.gradient&&(void 0!==n.gradient.startColor||void 0!==n.gradient.endColor)||void 0!==n.pattern&&(void 0!==n.pattern.patternKind||void 0!==n.pattern.color))}function t(n,p){r.f.assertValue(n,"fill"),n.solid&&n.solid.color?p.visitExpr(n.solid.color):r.f.assertFail("Unsupported FillDefinition")}function l(n,p){return p?{solid:{color:(0,i.$_)(n,p)}}:null===n?{solid:{color:(0,i.IF)()}}:n?{solid:{color:(0,i.fL)(n)}}:void 0}function g(n){return r.f.assertValue(n,"descriptor"),!0!==n&&!!n.nullable}},392617:function(ve,j,e){e.d(j,{LX:function(){return a},RL:function(){return n},Sx:function(){return l},TJ:function(){return t},dt:function(){return g}});var r=e(650543),i=e(56604),a="asZero",t="noColor",l="specificColor",g=(0,i.i)([{value:a,displayName:v=>v.get("ConditionalFormattingDialog_FormatNull_AsZero")},{value:t,displayName:v=>v.get("ConditionalFormattingDialog_FormatNull_NoFormat")},{value:l,displayName:v=>v.get("ConditionalFormattingDialog_FormatNull_SpecificColor")}]);function n(v,m){r.f.assertValue(v,"fillRule"),v.linearGradient2?function(v,m){r.f.assertValue(v,"gradient2"),d(v.min,m),d(v.max,m),o(v.nullColoringStrategy,m)}(v.linearGradient2,m):v.linearGradient3?function(v,m){r.f.assertValue(v,"gradient3"),d(v.min,m),d(v.mid,m),d(v.max,m),o(v.nullColoringStrategy,m)}(v.linearGradient3,m):r.f.assertFail("Unsupported FillRuleDefinition")}function d(v,m){r.f.assertValue(v,"stop"),m.visitExpr(v.color);var c=v.value;c&&m.visitExpr(c)}function o(v,m){v&&(m.visitExpr(v.strategy),v.color&&m.visitExpr(v.color))}},231418:function(ve,j,e){e.d(j,{BD:function(){return i},Ms:function(){return a},c1:function(){return r},t_:function(){return t}});var r="shared",i="packaged",a="geojson",t="topojson"},385441:function(ve,j,e){e.d(j,{R:function(){return i}});var r=e(650543);function i(a,t){r.f.assertValue(a,"fillRule"),a.layout&&t.visitExpr(a.layout),a.verticalAlignment&&t.visitExpr(a.verticalAlignment),a.value&&t.visitExpr(a.value)}},353230:function(ve,j,e){e.d(j,{z:function(){return r}});var r={misc:{imageUrl:!0}}},310270:function(ve,j,e){function r(i,a){var t=i.metadata;if(t){var l=t.dataFunction;if(l)for(var g of l.parameters)"ValueParameter"===g.type&&g.value&&a.visitExpr(g.value)}}e.d(j,{R:function(){return r}})},428776:function(ve,j,e){e.d(j,{IM:function(){return l},Kt:function(){return p},RL:function(){return t},Y0:function(){return g},Zm:function(){return s}});var r=e(650543),i=e(442407),a=e(853450);function t(c,C){for(var y of(r.f.assertValue(c,"paragraphs"),c))d(y,C)}function l(c){var C=c;return r.f.assertValue(C,"textRunDefinition"),_.isString(C.value)||(0,a.U)(C.value)||C.value instanceof i.Il}function g(c){var C=c;return r.f.assertValue(C,"textRunDefinitionGeneric"),_.isString(C.value)||function(c){return c&&c.expr}(C.value)||(0,a.U)(C.value)}function p(c){var C=c;return r.f.assertValue(C,"textRunConditionalDefinition"),_.isArray(C.cases)&&void 0!==C.defaultCase&&_.isArray(C.defaultCase.textRuns)&&(0,a.U)(C.expression)}function s(c){var C=c;return r.f.assertValue(C,"conditionalDefinitionGeneric"),_.isArray(C.cases)&&void 0!==C.defaultCase&&void 0!==C.expression}function d(c,C){if(r.f.assertValue(c,"paragraph"),!_.isEmpty(c.textRuns))for(var y of c.textRuns)l(y)?o(y,C):p(y)?m(y,C):r.f.assertNever(y)}function o(c,C){r.f.assertValue(c,"textRun"),r.f.assertValue(c.value,"textRun.value"),!_.isString(c.value)&&v(c.value,C)}function v(c,C){if((0,a.U)(c))return C.visitValueRef(c);C.visitExpr(c)}function m(c,C){for(var y of(r.f.assertValue(c,"textRunConditional"),r.f.assertValue(c.expression,"expression"),r.f.assertValue(c.defaultCase,"defaultCase"),r.f.assertValue(c.cases,"cases"),c.cases))for(var S of y.textRuns)o(S,C);for(var h of c.defaultCase.textRuns)o(h,C);(0,a.U)(c.expression)&&v(c.expression,C)}},675032:function(ve,j,e){e.d(j,{_:function(){return i}});var r=e(650543);class i{constructor(t,l){this.exprVisitor=t,this.valueRefVisitor=l}visitExpr(t){return r.f.assertValue(t,"expr"),r.f.assertValue(this.exprVisitor,"exprVisitor"),t.accept(this.exprVisitor)}visitValueRef(t){return r.f.assertValue(this.valueRefVisitor,"valueRefVisitor"),this.valueRefVisitor.accept(t)}}},436043:function(ve,j,e){e.d(j,{DS:function(){return w},Fq:function(){return E},Hr:function(){return f},JY:function(){return N},Jg:function(){return R},RL:function(){return A},TS:function(){return B},X2:function(){return C},Xz:function(){return D},ZG:function(){return P},bA:function(){return T},dS:function(){return m},gO:function(){return y},hl:function(){return c},oQ:function(){return M},r:function(){return V}});var r=e(650543),i=e(553962),a=e(914094),t=e(442407),l=e(530268),g=e(621542),n=e(310270),p=e(338898),s=e(882553),d=e(392617),o=e(385441),v=e(428776);function m(W){var F=W.kind;if(!F)return!1;switch(F){case i.q.AnnotationTemplate:case i.q.Icon:case i.q.ExprList:case i.q.ErrorRange:case i.q.ItemLocation:return!0;default:return r.f.assertNever(F),!1}return!1}function c(W){return!!W&&(W instanceof a.yl||C(W)||y(W)||function(W){return!!W.identityFieldsValues}(W)||function(W){return W.name instanceof t.Il&&W.url instanceof t.Il}(W)||E(W)||function(W){return W.name instanceof t.Il&&W.content instanceof t.Il&&W.type instanceof t.Il}(W)||f(W)||b(W)||V(W)||T(W)||P(W)||D(W)||w(W)||M(W))}function C(W){return!!(W.gradient||W.solid||W.pattern)}function y(W){return!(!W.linearGradient2&&!W.linearGradient3)}function E(W){var F=W;if(!_.isArray(F))return!1;for(var U of F)if(!U.textRuns)return!1;return!0}function f(W){return!(!W.algorithm||!W.parameters)}function b(W){return!!(W.axisColor&&W.negativeColor&&W.negativeColor)}function V(W){return W.kind===i.q.Icon}function T(W){return W.kind===i.q.ExprList}function P(W){return null!=W&&W.kind===i.q.ErrorRange}function D(W){var F=W;return null!=F?.suggestedUtterances}function w(W){if(null==W)return!1;if(W.kind!==i.q.ItemLocation)return!1;var U=W.byReference;if(U.folderId&&!(U.folderId instanceof t.Il)||U.workspaceId&&!(U.workspaceId instanceof t.Il)||U.itemId&&!(U.itemId instanceof t.Il))return!1;var O=W.metadata;if(O){var x=O.dataFunction;if(x&&_.some(x.parameters,I=>"ValueParameter"===I.type&&!(I.value instanceof t.Il)))return!1}return!0}function M(W){return null!=W&&W.kind===i.q.AnnotationTemplate}function A(W,F){C(W)?F.visitFillDefinition(W):y(W)?F.visitFillRuleDefinition(W):E(W)?F.visitParagraphs(W):b(W)?F.visitDataBarsDefinition(W):V(W)?F.visitIconDefinition(W):P(W)?F.visitErrorRangeDefinition(W):w(W)?F.visitItemLocationDefinition(W):M(W)&&F.visitAnnotationTemplateDefinition(W)}function R(W,F){C(W)?(0,s.RL)(W,F):y(W)?(0,d.RL)(W,F):E(W)?(0,v.RL)(W,F):b(W)?(0,l.R)(W,F):V(W)?(0,o.R)(W,F):P(W)?(0,g.RL)(W,F):w(W)?(0,n.R)(W,F):M(W)&&(0,p.RL)(W,F)}function B(W,F){return F?W?W.kind===i.q.Icon&&F.kind===i.q.Icon?{kind:i.q.Icon,layout:null!=F.layout?F.layout:W.layout,verticalAlignment:null!=F.verticalAlignment?F.verticalAlignment:W.verticalAlignment,value:void 0!==F.value?F.value:W.value}:void r.f.assertFail("unsupported StructuralObjectValues merging"):F:W}function N(W){return r.f.assertValue(W,"type"),!!(W.fill||W.fillRule||W.filter||W.expression||W.image||W.paragraphs||W.geoJson||W.queryTransform||W.dataBars||W.icon||W.exprList||W.errorRange||W.qnaVisualLink||W.itemLocation||W.annotationTemplate)}},853450:function(ve,j,e){function r(a){return!!a&&(void 0!==a.selector&&void 0!==a.propertyIdentifier)}e.d(j,{S:function(){return i},U:function(){return r}});class i{constructor(){this.references=[]}accept(t){this.references.push(t)}}},248505:function(ve,j,e){e.d(j,{Ep:function(){return m},Ge:function(){return g},yf:function(){return c}});var r=e(333107),i=e(650543),a=e(935183),t=e(695795),l=e(32077),g=(()=>{class T{constructor(D,w,M,A,R,B){i.f.assert(()=>!!D&&null!=c[D]||D===l.o.Null,"type"),i.f.assert(()=>!!w||null===w,"category"),i.f.assert(()=>D!==l.o.Enumeration||!!M,"enumType"),i.f.assert(()=>D!==l.o.FlagsEnumeration||!!A,"flagsEnumType"),this.underlyingType=D,this.category=w,(0,t.yE)(D,l.o.Temporal)&&(this.temporalType=new p(D)),(0,t.yE)(D,l.o.Geography)&&(this.geographyType=new s(D)),(0,t.yE)(D,l.o.Miscellaneous)&&(this.miscType=new d(D,B)),(0,t.yE)(D,l.o.Formatting)&&(this.formattingType=new v(D)),(0,t.yE)(D,l.o.Enumeration)&&(this.enumType=M),(0,t.yE)(D,l.o.FlagsEnumeration)&&(this.flagsEnumType=A),(0,t.yE)(D,l.o.Scripting)&&(this.scriptingType=new n(D)),(0,t.yE)(D,l.o.Reference)&&(this.referenceType=new o(D)),(0,t.yE)(D,l.o.Variant)&&(this.variationTypes=R)}static isValueTypeDescriptor(D){return T.fromDescriptor(D).primitiveType!==r.M.Null}static fromDescriptor(D){if((D=D||{}).scripting&&D.scripting.source)return T.fromExtendedType(l.o.ScriptSource);if(D.enumeration)return T.fromEnum(D.enumeration);if(D.flagsEnumeration)return T.fromFlagsEnum(D.flagsEnumeration);if(D.temporal){if(D.temporal.year)return T.fromExtendedType(l.o.Years_Integer);if(D.temporal.quarter)return T.fromExtendedType(l.o.Quarters_Integer);if(D.temporal.month)return T.fromExtendedType(l.o.Months_Integer);if(D.temporal.day)return T.fromExtendedType(l.o.DayOfMonth_Integer);if(D.temporal.paddedDateTableDate)return T.fromExtendedType(l.o.PaddedDateTableDates)}if(D.geography){if(D.geography.address)return T.fromExtendedType(l.o.Address);if(D.geography.city)return T.fromExtendedType(l.o.City);if(D.geography.continent)return T.fromExtendedType(l.o.Continent);if(D.geography.country)return T.fromExtendedType(l.o.Country);if(D.geography.county)return T.fromExtendedType(l.o.County);if(D.geography.region)return T.fromExtendedType(l.o.Region);if(D.geography.postalCode)return T.fromExtendedType(l.o.PostalCode_Text);if(D.geography.stateOrProvince)return T.fromExtendedType(l.o.StateOrProvince);if(D.geography.place)return T.fromExtendedType(l.o.Place);if(D.geography.latitude)return T.fromExtendedType(l.o.Latitude_Double);if(D.geography.longitude)return T.fromExtendedType(l.o.Longitude_Double)}if(D.misc){if(D.misc.image)return T.fromExtendedType(l.o.Image);if(D.misc.imageUrl)return T.fromExtendedType(l.o.ImageUrl);if(D.misc.webUrl)return T.fromExtendedType(l.o.WebUrl);if(D.misc.barcode)return T.fromExtendedType(l.o.Barcode_Text);if(D.misc.sparkline)return T.fromSparklineType(D.misc.sparkline)}if(D.formatting){if(D.formatting.color)return T.fromExtendedType(l.o.Color);if(D.formatting.formatString)return T.fromExtendedType(l.o.FormatString);if(D.formatting.alignment)return T.fromExtendedType(l.o.Alignment);if(D.formatting.labelDisplayUnits)return T.fromExtendedType(l.o.LabelDisplayUnits);if(D.formatting.displayUnitsWithoutAuto)return T.fromExtendedType(l.o.DisplayUnitsWithoutAuto);if(D.formatting.fontFamily)return T.fromExtendedType(l.o.FontFamily);if(D.formatting.fontSize)return T.fromExtendedType(l.o.FontSize);if(D.formatting.altText)return T.fromExtendedType(l.o.AltText);if(D.formatting.stylePreset)return T.fromExtendedType(l.o.StylePreset);if(D.formatting.dashArray)return T.fromExtendedType(l.o.DashArray)}if(D.text)return T.fromExtendedType(l.o.Text);if(D.integer)return T.fromExtendedType(l.o.Integer);if(D.numeric)return T.fromExtendedType(l.o.Double);if(D.bool)return T.fromExtendedType(l.o.Boolean);if(D.dateTime)return T.fromExtendedType(l.o.DateTime);if(D.duration)return T.fromExtendedType(l.o.Duration);if(D.binary)return T.fromExtendedType(l.o.Binary);if(D.json)return T.fromExtendedType(l.o.Json);if(D.none)return T.fromExtendedType(l.o.None);if(D.extendedType)return T.fromExtendedType(D.extendedType);if(D.operations&&D.operations.searchEnabled)return T.fromExtendedType(l.o.SearchEnabled);if(D.reference){if(D.reference.bookmark)return T.fromExtendedType(l.o.BookmarkRef);if(D.reference.bookmarkGroup)return T.fromExtendedType(l.o.BookmarkGroupRef);if(D.reference.section)return T.fromExtendedType(l.o.SectionRef);if(D.reference.perspective)return T.fromExtendedType(l.o.PerspectiveRef);if(D.reference.rowRefText)return T.fromExtendedType(l.o.RowRefText)}if(D.variant){var w=_.map(D.variant,M=>T.fromDescriptor(M));return T.fromVariant(w)}return T.fromExtendedType(l.o.Null)}static fromExtendedType(D){var w=E(D=D||l.o.Null),M=function(T){if(function(T){return(T&S)===T}(T))return null;var P=c[T];if(!P)return null;var D=P.lastIndexOf("_");if(D>0){var w=P.slice(0,D);w in C&&(i.f.assert(()=>(T&h)==(T&h),"Unexpected value for ExtendedType base member of "+T),P=w)}return P}(D);return i.f.assert(()=>w!==r.M.Null||D===l.o.Null,"Cannot create ValueType for abstract extended type. Consider using fromDescriptor instead."),T.fromPrimitiveTypeAndCategory(w,M)}static fromPrimitiveTypeAndCategory(D,w){w=w||null;var M=(D=D||r.M.Null).toString();return w&&(M+="|"+w),T.typeCache[M]||(T.typeCache[M]=new T(function(T,P){var D=m[T],w=C[D];if(null==w&&(i.f.assertFail("Unexpected primitiveType "+T),w=l.o.Null),T&&P){var M=C[P];if(M){var A=E(M);A===r.M.Null?c[M|=w]&&(i.f.assert(()=>c[M]===P+"_"+D,"Unexpected name for ExtendedType member "+M),w=M):A===T&&(w=M)}}return w}(D,w),w))}static fromEnum(D){return i.f.assertValue(D,"enumType"),new T(l.o.Enumeration,null,D)}static fromFlagsEnum(D){return i.f.assertValue(D,"enumType"),new T(l.o.FlagsEnumeration,null,null,D)}static fromVariant(D){return i.f.assertValue(D,"variantTypes"),new T(l.o.Variant,null,null,null,D)}static fromSparklineType(D){return new T(l.o.Sparkline,"Sparkline",null,null,null,D)}static isCompatibleFromAny(D,w,M){i.f.assertValue(D,"type"),i.f.assertValue(w,"otherType");var A=T.fromDescriptor(D);return!!T.isCompatibleTo(A,[w],M)||A&&A.isCompatibleFrom(T.fromDescriptor(w),M)}static isCompatibleTo(D,w,M){i.f.assertValue(D,"type"),i.f.assertValue(w,"otherTypes");var A=T.fromDescriptor(D);for(var R of w)if(T.fromDescriptor(R).isCompatibleFrom(A,M))return!0;return!1}isCompatibleFrom(D,w){if(i.f.assertValue(D,"other"),this===D)return!0;if(D.variant)for(var M of D.variant)if(!this.isCompatibleFrom(M,w))return!1;if(this.variant)for(var A of this.variant)if(A.isCompatibleFrom(D,w))return!0;var R=D.primitiveType;return this.primitiveType===R||R===r.M.Null||this.numeric&&D.numeric&&(!w||!this.integer||D.integer)}equals(D){return _.isEqual(this,D)}get primitiveType(){return E(this.underlyingType)}get extendedType(){return this.underlyingType}get categoryString(){return this.category}get text(){return this.primitiveType===r.M.Text}get numeric(){return(0,t.yE)(this.underlyingType,l.o.Numeric)}get integer(){return this.primitiveType===r.M.Integer}get bool(){return this.primitiveType===r.M.Boolean}get dateTime(){return this.primitiveType===r.M.DateTime||this.primitiveType===r.M.Date||this.primitiveType===r.M.Time}get duration(){return this.primitiveType===r.M.Duration}get binary(){return this.primitiveType===r.M.Binary}get json(){return this.primitiveType===r.M.Json}get none(){return this.primitiveType===r.M.None}get temporal(){return this.temporalType}get geography(){return this.geographyType}get misc(){return this.miscType}get formatting(){return this.formattingType}get enum(){return this.enumType}get flagsEnum(){return this.flagsEnumType}get scripting(){return this.scriptingType}get reference(){return this.referenceType}get variant(){return this.variationTypes}}return T.typeCache={},T})();(0,a.y)(g.prototype);class n{constructor(P){i.f.assert(()=>!!P&&(0,t.yE)(P,l.o.Scripting),"type"),this.underlyingType=P}get source(){return V(this.underlyingType,l.o.ScriptSource)}}class p{constructor(P){i.f.assert(()=>!!P&&(0,t.yE)(P,l.o.Temporal),"type"),this.underlyingType=P}get year(){return V(this.underlyingType,l.o.Years)}get quarter(){return V(this.underlyingType,l.o.Quarters)}get month(){return V(this.underlyingType,l.o.Months)}get day(){return V(this.underlyingType,l.o.DayOfMonth)}get paddedDateTableDate(){return V(this.underlyingType,l.o.PaddedDateTableDates)}}class s{constructor(P){i.f.assert(()=>!!P&&(0,t.yE)(P,l.o.Geography),"type"),this.underlyingType=P}get address(){return V(this.underlyingType,l.o.Address)}get city(){return V(this.underlyingType,l.o.City)}get continent(){return V(this.underlyingType,l.o.Continent)}get country(){return V(this.underlyingType,l.o.Country)}get county(){return V(this.underlyingType,l.o.County)}get region(){return V(this.underlyingType,l.o.Region)}get postalCode(){return V(this.underlyingType,l.o.PostalCode)}get stateOrProvince(){return V(this.underlyingType,l.o.StateOrProvince)}get place(){return V(this.underlyingType,l.o.Place)}get latitude(){return V(this.underlyingType,l.o.Latitude)}get longitude(){return V(this.underlyingType,l.o.Longitude)}}class d{constructor(P,D){i.f.assert(()=>!!P&&(0,t.yE)(P,l.o.Miscellaneous),"type"),this.underlyingType=P,this.sparklineType=D}get image(){return V(this.underlyingType,l.o.Image)}get imageUrl(){return V(this.underlyingType,l.o.ImageUrl)}get webUrl(){return V(this.underlyingType,l.o.WebUrl)}get barcode(){return V(this.underlyingType,l.o.Barcode)}get sparkline(){if(V(this.underlyingType,l.o.Sparkline))return this.sparklineType}}Object.getOwnPropertyNames(d.prototype).forEach(T=>{"constructor"!==T&&Object.defineProperty(d.prototype,T,{enumerable:!0})});class o{constructor(P){i.f.assert(()=>!!P&&(0,t.yE)(P,l.o.Reference),"type"),this.underlyingType=P}get bookmark(){return V(this.underlyingType,l.o.BookmarkRef)}get bookmarkGroup(){return V(this.underlyingType,l.o.BookmarkGroupRef)}get section(){return V(this.underlyingType,l.o.SectionRef)}get perspective(){return V(this.underlyingType,l.o.PerspectiveRef)}get rowRefText(){return V(this.underlyingType,l.o.RowRefText)}}class v{constructor(P){i.f.assert(()=>!!P&&(0,t.yE)(P,l.o.Formatting),"type"),this.underlyingType=P}get color(){return V(this.underlyingType,l.o.Color)}get formatString(){return V(this.underlyingType,l.o.FormatString)}get alignment(){return V(this.underlyingType,l.o.Alignment)}get labelDisplayUnits(){return V(this.underlyingType,l.o.LabelDisplayUnits)}get displayUnitsWithoutAuto(){return V(this.underlyingType,l.o.DisplayUnitsWithoutAuto)}get fontFamily(){return V(this.underlyingType,l.o.FontFamily)}get fontSize(){return V(this.underlyingType,l.o.FontSize)}get altText(){return V(this.underlyingType,l.o.AltText)}get stylePreset(){return V(this.underlyingType,l.o.StylePreset)}get dashArray(){return V(this.underlyingType,l.o.DashArray)}}Object.getOwnPropertyNames(v.prototype).forEach(T=>{"constructor"!==T&&Object.defineProperty(v.prototype,T,{enumerable:!0})});var m={[r.M.Null]:"Null",[r.M.Text]:"Text",[r.M.Decimal]:"Decimal",[r.M.Double]:"Double",[r.M.Integer]:"Integer",[r.M.Boolean]:"Boolean",[r.M.Date]:"Date",[r.M.DateTime]:"DateTime",[r.M.DateTimeZone]:"DateTimeZone",[r.M.Time]:"Time",[r.M.Duration]:"Duration",[r.M.Binary]:"Binary",[r.M.None]:"None",[r.M.Variant]:"Variant",[r.M.Json]:"Json"},c={[l.o.Numeric]:"Numeric",[l.o.Temporal]:"Temporal",[l.o.Geography]:"Geography",[l.o.Miscellaneous]:"Miscellaneous",[l.o.Formatting]:"Formatting",[l.o.Scripting]:"Scripting",[l.o.Null]:"Null",[l.o.Text]:"Text",[l.o.Decimal]:"Decimal",[l.o.Double]:"Double",[l.o.Integer]:"Integer",[l.o.Boolean]:"Boolean",[l.o.Date]:"Date",[l.o.DateTime]:"DateTime",[l.o.DateTimeZone]:"DateTimeZone",[l.o.Time]:"Time",[l.o.Duration]:"Duration",[l.o.Binary]:"Binary",[l.o.None]:"None",[l.o.Variant]:"Variant",[l.o.Years]:"Years",[l.o.Years_Text]:"Years_Text",[l.o.Years_Integer]:"Years_Integer",[l.o.Years_Date]:"Years_Date",[l.o.Years_DateTime]:"Years_DateTime",[l.o.Months]:"Months",[l.o.Months_Text]:"Months_Text",[l.o.Months_Integer]:"Months_Integer",[l.o.Months_Date]:"Months_Date",[l.o.Months_DateTime]:"Months_DateTime",[l.o.PaddedDateTableDates]:"PaddedDateTableDates",[l.o.Quarters]:"Quarters",[l.o.Quarters_Text]:"Quarters_Text",[l.o.Quarters_Integer]:"Quarters_Integer",[l.o.Quarters_Date]:"Quarters_Date",[l.o.Quarters_DateTime]:"Quarters_DateTime",[l.o.DayOfMonth]:"DayOfMonth",[l.o.DayOfMonth_Text]:"DayOfMonth_Text",[l.o.DayOfMonth_Integer]:"DayOfMonth_Integer",[l.o.DayOfMonth_Date]:"DayOfMonth_Date",[l.o.DayOfMonth_DateTime]:"DayOfMonth_DateTime",[l.o.Address]:"Address",[l.o.City]:"City",[l.o.Continent]:"Continent",[l.o.Country]:"Country",[l.o.County]:"County",[l.o.Region]:"Region",[l.o.PostalCode]:"PostalCode",[l.o.PostalCode_Text]:"PostalCode_Text",[l.o.PostalCode_Integer]:"PostalCode_Integer",[l.o.StateOrProvince]:"StateOrProvince",[l.o.Place]:"Place",[l.o.Latitude]:"Latitude",[l.o.Latitude_Decimal]:"Latitude_Decimal",[l.o.Latitude_Double]:"Latitude_Double",[l.o.Longitude]:"Longitude",[l.o.Longitude_Decimal]:"Longitude_Decimal",[l.o.Longitude_Double]:"Longitude_Double",[l.o.Image]:"Image",[l.o.ImageUrl]:"ImageUrl",[l.o.WebUrl]:"WebUrl",[l.o.Barcode]:"Barcode",[l.o.Barcode_Text]:"Barcode_Text",[l.o.Barcode_Integer]:"Barcode_Integer",[l.o.Color]:"Color",[l.o.FormatString]:"FormatString",[l.o.Alignment]:"Alignment",[l.o.LabelDisplayUnits]:"LabelDisplayUnits",[l.o.DisplayUnitsWithoutAuto]:"DisplayUnitsWithoutAuto",[l.o.FontFamily]:"FontFamily",[l.o.AltText]:"AltText",[l.o.FontSize]:"FontSize",[l.o.Enumeration]:"Enumeration",[l.o.FlagsEnumeration]:"FlagsEnumeration",[l.o.ScriptSource]:"ScriptSource",[l.o.SearchEnabled]:"SearchEnabled",[l.o.BookmarkRef]:"BookmarkRef",[l.o.BookmarkGroupRef]:"BookmarkGroupRef",[l.o.SectionRef]:"SectionRef",[l.o.StylePreset]:"StylePreset",[l.o.DashArray]:"DashArray",[l.o.PerspectiveRef]:"PerspectiveRef",[l.o.Reference]:"Reference",[l.o.Json]:"Json",[l.o.Sparkline]:"Sparkline",[l.o.RowRefText]:"RowRefText"},C={Numeric:l.o.Numeric,Temporal:l.o.Temporal,Geography:l.o.Geography,Miscellaneous:l.o.Miscellaneous,Formatting:l.o.Formatting,Scripting:l.o.Scripting,Null:l.o.Null,Text:l.o.Text,Decimal:l.o.Decimal,Double:l.o.Double,Integer:l.o.Integer,Boolean:l.o.Boolean,Date:l.o.Date,DateTime:l.o.DateTime,DateTimeZone:l.o.DateTimeZone,Time:l.o.Time,Duration:l.o.Duration,Binary:l.o.Binary,None:l.o.None,Variant:l.o.Variant,Years:l.o.Years,Years_Text:l.o.Years_Text,Years_Integer:l.o.Years_Integer,Years_Date:l.o.Years_Date,Years_DateTime:l.o.Years_DateTime,Months:l.o.Months,Months_Text:l.o.Months_Text,Months_Integer:l.o.Months_Integer,Months_Date:l.o.Months_Date,Months_DateTime:l.o.Months_DateTime,PaddedDateTableDates:l.o.PaddedDateTableDates,Quarters:l.o.Quarters,Quarters_Text:l.o.Quarters_Text,Quarters_Integer:l.o.Quarters_Integer,Quarters_Date:l.o.Quarters_Date,Quarters_DateTime:l.o.Quarters_DateTime,DayOfMonth:l.o.DayOfMonth,DayOfMonth_Text:l.o.DayOfMonth_Text,DayOfMonth_Integer:l.o.DayOfMonth_Integer,DayOfMonth_Date:l.o.DayOfMonth_Date,DayOfMonth_DateTime:l.o.DayOfMonth_DateTime,Address:l.o.Address,City:l.o.City,Continent:l.o.Continent,Country:l.o.Country,County:l.o.County,Region:l.o.Region,PostalCode:l.o.PostalCode,PostalCode_Text:l.o.PostalCode_Text,PostalCode_Integer:l.o.PostalCode_Integer,StateOrProvince:l.o.StateOrProvince,Place:l.o.Place,Latitude:l.o.Latitude,Latitude_Decimal:l.o.Latitude_Decimal,Latitude_Double:l.o.Latitude_Double,Longitude:l.o.Longitude,Longitude_Decimal:l.o.Longitude_Decimal,Longitude_Double:l.o.Longitude_Double,Image:l.o.Image,ImageUrl:l.o.ImageUrl,WebUrl:l.o.WebUrl,Barcode:l.o.Barcode,Barcode_Text:l.o.Barcode_Text,Barcode_Integer:l.o.Barcode_Integer,Color:l.o.Color,FormatString:l.o.FormatString,Alignment:l.o.Alignment,LabelDisplayUnits:l.o.LabelDisplayUnits,DisplayUnitsWithoutAuto:l.o.DisplayUnitsWithoutAuto,FontFamily:l.o.FontFamily,AltText:l.o.AltText,FontSize:l.o.FontSize,Enumeration:l.o.Enumeration,FlagsEnumeration:l.o.FlagsEnumeration,ScriptSource:l.o.ScriptSource,SearchEnabled:l.o.SearchEnabled,BookmarkRef:l.o.BookmarkRef,BookmarkGroupRef:l.o.BookmarkGroupRef,SectionRef:l.o.SectionRef,StylePreset:l.o.StylePreset,DashArray:l.o.DashArray,PerspectiveRef:l.o.PerspectiveRef,Reference:l.o.Reference,Json:l.o.Json,Sparkline:l.o.Sparkline,RowRefText:l.o.RowRefText},y=255,S=65535,h=4294901760;function E(T){return T&y}function V(T,P){return(T&h)==(P&h)}},380988:function(ve,j,e){e.d(j,{L:function(){return r}});var r=(()=>{class i{constructor(t){this.options=t,this.flow=void 0,this.options=_.defaults(t,{duration:250,easing:d3.easeCubicInOut,suppressed:!1,suppressFullToFull:!0}),this.options.duration=Math.max(0,this.options.duration)}get duration(){return this.suppressed?0:this.options.duration}get suppressed(){return this.options.suppressed}get easing(){return this.options.easing}get isActive(){return this.duration>0}get isSuppressed(){return this.suppressed}suppress(t=!0){return this.options.suppressed=t,this}transition(t,l){return this.isActive?t.transition().duration(this.duration).ease(this.easing):l?t.interrupt():t}transitionForced(t){return t.transition().duration(this.duration).ease(this.easing)}FullToHighlighted(){return this.isHighlighted()&&!this.wasHighlighted()}HighlightedToFull(){return this.wasHighlighted()&&!this.isHighlighted()}HighlightedToHighlighted(){return this.wasHighlighted()&&this.isHighlighted()}FullToFull(){return!this.wasHighlighted()&&!this.isHighlighted()}hasSelection(){return!!(this.flow&i.Bit_HasSelection)}hadSelection(){return!!(this.flow&i.Bit_HasSelection<<i.BitArraySize)}isHighlighted(){return!!(this.flow&i.Bit_Highlighted)}wasHighlighted(){return!!(this.flow&i.Bit_Highlighted<<i.BitArraySize)}highlightOverflows(){return!!(this.flow&i.Bit_HighlightOverflows)}didHighlightOverflow(){return!!(this.flow&i.Bit_HighlightOverflows<<i.BitArraySize)}isFiltered(){return!!(this.flow&i.Bit_Filtered)}wasFiltered(){return!!(this.flow&i.Bit_Filtered<<i.BitArraySize)}advanceFlow(t=!1,l=!1,g,n=!1){this.suppress(t||null===this.flow||this.didHighlightOverflow()||n),this.flow=this.flow<<i.BitArraySize|(l&&i.Bit_Highlighted)|(n&&i.Bit_HighlightOverflows)|(g?.hasSelection()&&i.Bit_HasSelection),this.options.suppressFullToFull&&this.FullToFull()&&this.suppress(!0)}}return i.BitArraySize=16,i.Bit_Highlighted=1,i.Bit_HighlightOverflows=2,i.Bit_HasSelection=4,i.Bit_Filtered=8,i})()},363081:function(ve,j,e){e.d(j,{Mb:function(){return a},dt:function(){return i},r5:function(){return t}});var i=1e3;function a(l,g){return g||!l?0:l.getDuration()}class t{constructor(g){g&&g.duration&&(this.animationDuration=g.duration),this.animationDuration=this.animationDuration>=0?this.animationDuration:250}getDuration(){return this.animationDuration}animate(g){return null}getEasing(){return d3.easeCubicInOut}}},161214:function(ve,j,e){e.d(j,{LK:function(){return o},aH:function(){return p},k6:function(){return g},kx:function(){return s}});var r=e(33199),i=e(281210),a=e(847005),t=e(758038),l=e(772247),g={fill:l.OV.fill,outline:l.OV.outline,text:t.nm.text,icon:t.nm.icon,shape:l.OV.shape,shadow:l.OV.shadow,glow:l.OV.glow,rotation:{angle:{objectName:"rotation",propertyName:"angle"},shapeAngle:{objectName:"rotation",propertyName:"shapeAngle"},textAngle:{objectName:"rotation",propertyName:"textAngle"}}},p={...l.Mn,...t.WI,rotation:"angle"},s={default:"default",hover:"hover",selected:"selected",disabled:"disabled",loading:"loading"},o={objects:{[l.eM.fill]:l.zC.fill,[l.eM.outline]:l.zC.outline,[t.Vz.text]:t.p.text,[t.Vz.icon]:t.p.icon,[l.eM.shape]:l.zC.shape,[l.eM.shadow]:l.zC.shadow,[l.eM.glow]:l.zC.glow,rotation:{displayName:(0,i.V)("Visual_BasicShape_Rotate"),properties:{[p.rotation]:a.iD.genericRotation,[p.shapeRotation]:a.iD.shapeRotation,[p.textRotation]:a.iD.textRotation}}},suppressDefaultTitle:!0,suppressDefaultPadding:!0,supportsSelection:!1,supportsVisualLink:!0,ariaRole:r.e.Button,disableFormatMode:!0}},951504:function(ve,j,e){e.d(j,{$u:function(){return w},B0:function(){return o},EG:function(){return W},Hy:function(){return S},O:function(){return f},P8:function(){return B},R9:function(){return v},VD:function(){return N},d1:function(){return R},yD:function(){return M}});var r=e(630881),i=e(281210),a=e(710817),t=e(74443),l=e(847005),g=e(159601),n=e(772247),p=e(405604),s=e(56604),d=e(621083),o={Tooltips:"Tooltips"},v={accentBar:"accentBar",altText:"altText",textRotation:"textAngle",field:"field",fill:n.eM.fillCustom,fontColor:"fontColor",fontSize:"fontSize",fontFamily:"fontFamily",outline:n.eM.outline,shapeCustomRectangle:n.eM.shapeCustomRectangle,layout:"layout",shadowCustom:n.eM.shadowCustom,glowCustom:n.eM.glowCustom,verticalAlignment:"verticalAlignment",overFlow:"overFlow",Rotation:"textAngle",rotation:"rotation",cards:"cards",icon:"icon",image:"image",imageType:"imageType",imageUrl:"imageUrl",imageAreaSize:"imageAreaSize",isHorizontal:"isHorizontal",isPaginated:"isPaginated",iconType:"iconType",iconUrl:"iconUrl",ignorePadding:"ignorePadding",imageFit:"imageFit",angle:"angle",position:"position",padding:"padding",setAsBackGround:"setAsBackGround",shapeRotation:"shapeAngle",color:"color",width:"width",size:"size",spacing:"spacing",text:"text",transparency:"transparency",saturation:"saturation",blur:"blur",background:"background",wrapContent:"wrapContent",indentation:"indentation",reverseIndentation:"reverseIndentation",containerIndentation:"containerIndentation",fixedButtonsCount:"fixedButtonsCount"},m={icon:{show:{objectName:"icon",propertyName:"show"},iconType:{objectName:"icon",propertyName:"iconType"},icon:{objectName:"icon",propertyName:"icon"},iconUrl:{objectName:"icon",propertyName:"iconUrl"},transparency:{objectName:"icon",propertyName:"transparency"},position:{objectName:"icon",propertyName:"position"},padding:{objectName:"icon",propertyName:"padding"},size:{objectName:"icon",propertyName:"size"},altText:{objectName:"icon",propertyName:"altText"}},image:{image:{objectName:"image",propertyName:"image"},imageFit:{objectName:"image",propertyName:"imageFit"},transparency:{objectName:"image",propertyName:"transparency"},saturation:{objectName:"image",propertyName:"saturation"},blur:{objectName:"image",propertyName:"blur"},position:{objectName:"image",propertyName:"position"},ignorePadding:{objectName:"image",propertyName:"ignorePadding"},setAsBackGround:{objectName:"image",propertyName:"setAsBackGround"},padding:{objectName:"image",propertyName:"padding"},size:{objectName:"image",propertyName:"size"},altText:{objectName:"image",propertyName:"altText"},imageAreaSize:{objectName:"image",propertyName:"imageAreaSize"}},overFlow:{isHorizontal:{objectName:"overFlow",propertyName:"isHorizontal"},isPaginated:{objectName:"overFlow",propertyName:"isPaginated"}},background:{show:{objectName:"background",propertyName:"show"},transparency:{objectName:"background",propertyName:"transparency"},color:{objectName:"background",propertyName:"color"},wrapContent:{objectName:"background",propertyName:"wrapContent"}},layout:{...n.OV.layout,style:{objectName:"layout",propertyName:"style"},customizeLines:{objectName:"layout",propertyName:"customizeLines"},lineStyle:{objectName:"layout",propertyName:"lineStyle"},lineTransparency:{objectName:"layout",propertyName:"lineTransparency"},lineWidth:{objectName:"layout",propertyName:"lineWidth"},lineColor:{objectName:"layout",propertyName:"lineColor"},gridlineStyle:{objectName:"layout",propertyName:"gridlineStyle"},gridlineTransparency:{objectName:"layout",propertyName:"gridlineTransparency"},gridlineWidth:{objectName:"layout",propertyName:"gridlineWidth"},gridlineColor:{objectName:"layout",propertyName:"gridlineColor"},borderStyle:{objectName:"layout",propertyName:"borderStyle"},borderTransparency:{objectName:"layout",propertyName:"borderTransparency"},borderWidth:{objectName:"layout",propertyName:"borderWidth"},borderColor:{objectName:"layout",propertyName:"borderColor"},rectangleRoundedCurveCustomStyle:{objectName:"layout",propertyName:"rectangleRoundedCurveCustomStyle"},rectangleRoundedCurve:{objectName:"layout",propertyName:"rectangleRoundedCurve"},rectangleRoundedCurveLeftTop:{objectName:"layout",propertyName:"rectangleRoundedCurveLeftTop"},rectangleRoundedCurveRightTop:{objectName:"layout",propertyName:"rectangleRoundedCurveRightTop"},rectangleRoundedCurveLeftBottom:{objectName:"layout",propertyName:"rectangleRoundedCurveLeftBottom"},rectangleRoundedCurveRightBottom:{objectName:"layout",propertyName:"rectangleRoundedCurveRightBottom"},backgroundShow:{objectName:"layout",propertyName:"backgroundShow"},backgroundFillColor:{objectName:"layout",propertyName:"backgroundFillColor"},backgroundTransparency:{objectName:"layout",propertyName:"backgroundTransparency"},backgroundImage:{objectName:"layout",propertyName:"backgroundImage"},backgroundImageTransparency:{objectName:"layout",propertyName:"backgroundImageTransparency"}},selectionIcon:{color:{objectName:"selectionIcon",propertyName:"color"},overlayPosition:{objectName:"selectionIcon",propertyName:"overlayPosition"},overlayToggle:{objectName:"selectionIcon",propertyName:"overlayToggle"},position:{objectName:"selectionIcon",propertyName:"position"},size:{objectName:"selectionIcon",propertyName:"size"},show:{objectName:"selectionIcon",propertyName:"show"},showIconByState:{objectName:"selectionIcon",propertyName:"showIconByState"},spacing:{objectName:"selectionIcon",propertyName:"spacing"},transparency:{objectName:"selectionIcon",propertyName:"transparency"},verticalAlignment:{objectName:"selectionIcon",propertyName:"verticalAlignment"}},expansionIcon:{color:{objectName:"expansionIcon",propertyName:"color"},position:{objectName:"expansionIcon",propertyName:"position"},size:{objectName:"expansionIcon",propertyName:"size"},spacing:{objectName:"expansionIcon",propertyName:"spacing"},transparency:{objectName:"expansionIcon",propertyName:"transparency"},verticalAlignment:{objectName:"expansionIcon",propertyName:"verticalAlignment"}},actionState:{isCalloutValueAdvanced:{objectName:"actionState",propertyName:"isCalloutValuesAdvanced"},isImageAdvanced:{objectName:"actionState",propertyName:"isImageAdvanced"},isSelectionIconAdvanced:{objectName:"actionState",propertyName:"isSelectionIconAdvanced"},isExpansionIconAdvanced:{objectName:"actionState",propertyName:"isExpansionIconAdvanced"},isButtonsAdvanced:{objectName:"actionState",propertyName:"IsButtonsAdvanced"}}},c={show:l.iD.show,[v.iconType]:{displayName:(0,i.V)("Button_Icon_Type"),type:{enumeration:a.j}},[v.icon]:l.iD.image,[v.iconUrl]:{displayName:(0,i.V)("Image_Url"),type:{text:!0}},[v.transparency]:l.iD.backgroundTransparency,[v.position]:{displayName:(0,i.V)("Visual_Position"),type:{enumeration:t.CX}},[v.padding]:{displayName:(0,i.V)("Visual_Padding"),type:{integer:!0}},[v.size]:{displayName:(0,i.V)("Visual_BubbleSize"),type:{integer:!0}},[v.altText]:{displayName:(0,i.V)("Visual_General_Properties_Description"),type:{formatting:{altText:!0}}}},C={show:l.iD.show,[v.color]:l.iD.fill,[v.transparency]:l.iD.backgroundTransparency,[v.wrapContent]:{displayName:(0,i.V)("ButtonSlicer_Objects_WrapContent"),type:{bool:!0}}},y=(F,U)=>({[v.image]:{displayName:(0,i.V)("Field"),type:{variant:[{text:!0}]}},[v.imageFit]:{displayName:(0,i.V)("PagePropertyPane_PageBackgroundImageFit"),type:{enumeration:p.H}},[v.transparency]:l.iD.backgroundTransparency,[v.position]:{displayName:(0,i.V)("Visual_Position"),type:{enumeration:U?.advancedSlicerTypeList&&F===d.yY.List?E:t.CX}},[v.saturation]:{displayName:(0,i.V)("Visual_Saturation"),type:{integer:!0}},[v.blur]:{displayName:(0,i.V)("Visual_DropShadow_Blur"),type:{integer:!0}},[v.ignorePadding]:{displayName:(0,i.V)("Visual_Divider_IgnorePadding"),type:{bool:!0}},[v.setAsBackGround]:{displayName:(0,i.V)("Visual_SetAsBackGround"),type:{bool:!0}},[v.padding]:{displayName:(0,i.V)("Visual_Space_Between_Image"),type:{integer:!0}},[v.imageAreaSize]:{displayName:(0,i.V)("Visual_Image_Area_Size"),type:{integer:!0}}}),S=function(F){return F.TopLeft="topLeft",F.TopCenter="topCenter",F.TopRight="topRight",F.MiddleLeft="middleLeft",F.MiddleRight="middleRight",F.BottomLeft="bottomLeft",F.BottomCenter="bottomCenter",F.BottomRight="bottomRight",F}({}),h=(0,s.i)([{value:S.TopLeft,displayName:F=>F.get("Visual_LabelPosition_TopLeft")},{value:S.TopCenter,displayName:F=>F.get("Visual_LabelPosition_TopCenter")},{value:S.TopRight,displayName:F=>F.get("Visual_LabelPosition_TopRight")},{value:S.MiddleLeft,displayName:F=>F.get("Visual_LabelPosition_MiddleLeft")},{value:S.MiddleRight,displayName:F=>F.get("Visual_LabelPosition_MiddleRight")},{value:S.BottomLeft,displayName:F=>F.get("Visual_LabelPosition_BottomLeft")},{value:S.BottomCenter,displayName:F=>F.get("Visual_LabelPosition_BottomCenter")},{value:S.BottomRight,displayName:F=>F.get("Visual_LabelPosition_BottomRight")}]),E=(0,s.i)([{value:t.zw.left,displayName:F=>F.get("Visual_TextAlignment_Left")},{value:t.zw.right,displayName:F=>F.get("Visual_TextAlignment_Right")}]),u={displayName:(0,i.V)("Role_DisplayName_Values"),properties:{...n.zC.value.properties,[v.verticalAlignment]:l.iD.verticalAlignment,[v.text]:{displayName:(0,i.V)("Text"),placeHolderText:(0,i.V)("Visual_Auto"),type:{text:!0}}}};function f(F,U){return F=F??d.yY.Tile,{dataRoles:[{name:g.CT.value,kind:r.DW.Grouping,displayName:(0,i.V)("Field"),description:(0,i.V)("Role_DisplayName_FieldDescription")},{name:o.Tooltips,kind:r.DW.Measure,displayName:(0,i.V)("Role_DisplayName_Tooltips"),description:(0,i.V)("Role_Tooltips_Description")}],objects:D(F,U),dataViewMappings:P(F,U),drilldown:V(F,U),expandCollapse:T(F,U),tooltips:{showByDefault:!1,supportedTypes:{default:!0,canvas:!0},roles:[o.Tooltips],supportEnhancedTooltips:!0},sorting:{default:{}},supportsKeyboardFocus:!0,supportsOnObjectFormatting:!0,hasFilterOptions:!0,supportsSynchronizingFilterState:!0,supportsMultiVisualSelection:!0,disableFocusMode:!0,supportsFilterClearButton:!0,suppressVisualCalc:!0,keepAllMetadataColumns:!0}}function b(F){var U=n.zC.layout;return F===d.yY.List&&(U={displayName:U.displayName,properties:{...U.properties,[v.indentation]:{displayName:(0,i.V)("Visual_PivotTable_Indentation"),type:{integer:!0}},[v.reverseIndentation]:{displayName:(0,i.V)("Visual_ReverseIndentation"),type:{bool:!0}},[v.containerIndentation]:{displayName:(0,i.V)("Visual_ContainerIndentation"),type:{bool:!0}},[v.fixedButtonsCount]:{displayName:(0,i.V)("Visual_FixedButtonsCount"),type:{bool:!0}}}}),U}function V(F,U){if(U?.advancedSlicerTypeList&&F===d.yY.List)return{roles:[g.CT.value],suppresDrillOperations:!0}}function T(F,U){if(U?.advancedSlicerTypeList&&F===d.yY.List)return{roles:[g.CT.value],addDataViewFlags:{defaultValue:!0},supportsMerge:!0}}function P(F,U){var O=[];return O.push(U?.advancedSlicerTypeList&&F===d.yY.List?{conditions:[{[g.CT.value]:{min:1,areHierarchicallyRelated:!0,multiTableTupleFiltersSupported:!0,suppressDrill:!0}}],matrix:{rows:{for:{in:g.CT.value},dataReductionAlgorithm:{window:{count:500}}},values:{select:[{for:{in:o.Tooltips}}]},includeEmptyGroups:!0}}:{conditions:[{[g.CT.value]:{max:1,suppressDrill:!0}}],matrix:{rows:{select:[{for:{in:g.CT.value}}],dataReductionAlgorithm:{window:{count:100}}},values:{select:[{for:{in:o.Tooltips}}]},includeEmptyGroups:!0}}),O}function D(F,U){var O={general:{displayName:(0,i.V)("Visual_General"),properties:{formatString:l.iD.formatString,filter:{suppressFormatPainterCopy:!0,type:{filter:{}}},selfFilter:{suppressFormatPainterCopy:!0,type:{filter:{selfFilter:!0}}},selfFilterEnabled:{suppressFormatPainterCopy:!0,type:{operations:{searchEnabled:!0}}}}},[v.fill]:n.zC.fillCustom,[v.outline]:n.zC.outline,[n.eM.value]:u,[n.eM.label]:A(n.zC.label),[v.shapeCustomRectangle]:n.zC.shapeCustomRectangle,[v.layout]:b(F),[n.eM.overFlow]:n.zC.overFlow,[v.shadowCustom]:n.zC.shadowCustom,[v.glowCustom]:n.zC.glowCustom,[v.rotation]:{displayName:(0,i.V)("Visual_BasicShape_Rotate"),properties:{[v.angle]:l.iD.genericRotation,[v.shapeRotation]:l.iD.shapeRotation,[v.textRotation]:l.iD.textRotation}},[v.spacing]:n.zC.spacing,[v.padding]:n.zC.padding,[v.accentBar]:n.zC.accentBar,[v.icon]:{displayName:(0,i.V)("Icon"),properties:c},[v.image]:{displayName:(0,i.V)("Image"),properties:y(F,U)},[v.background]:{displayName:(0,i.V)("Visual_Background"),properties:C},selection:{displayName:(0,i.V)("Visual_SelectionControls"),properties:{selectAllCheckboxEnabled:{displayName:(0,i.V)("Visual_SelectAll"),description:(0,i.V)("Visual_SelectAll_Description"),type:{bool:!0}},strictSingleSelect:{displayName:(0,i.V)("Visual_ForceSelection"),description:(0,i.V)("Visual_StrictSingleSelect_Description"),type:{bool:!0},filterState:!0},singleSelect:{displayName:(0,i.V)("Visual_StrictSingleSelect"),description:(0,i.V)("Visual_StrictSingleSelect"),type:{bool:!0}},restrictToLeafNodes:{displayName:(0,i.V)("Visual_SelectionLastLevelOnly"),description:(0,i.V)("Visual_SelectionLastLevelOnly_Description"),type:{bool:!0},filterState:!0}}},data:{suppressFormatPainterCopy:!0,properties:{isInvertedSelectionMode:{type:{bool:!0},filterState:!0}}},selectionIcon:{displayName:(0,i.V)("Visual_SelectionIcon_Label"),properties:{color:l.iD.genericColor,overlayPosition:{displayName:(0,i.V)("Visual_Position"),type:{enumeration:h}},overlayToggle:{displayName:(0,i.V)("Visual_Overlay"),type:{bool:!0}},position:{displayName:(0,i.V)("Visual_Position"),type:{enumeration:E}},size:{displayName:(0,i.V)("Visual_BubbleSize"),type:{integer:!0}},show:l.iD.show,showIconByState:l.iD.show,spacing:{displayName:(0,i.V)("Visual_Spacing"),type:{integer:!0}},transparency:l.iD.genericTransparency,verticalAlignment:l.iD.verticalAlignment}},actionState:{properties:{isCalloutValuesAdvanced:{displayName:(0,i.V)("Advanced"),type:{bool:!0}},isImageAdvanced:{displayName:(0,i.V)("Advanced"),type:{bool:!0}},isSelectionIconAdvanced:{displayName:(0,i.V)("Advanced"),type:{bool:!0}},isExpansionIconAdvanced:{displayName:(0,i.V)("Advanced"),type:{bool:!0}},IsButtonsAdvanced:{displayName:(0,i.V)("Advanced"),type:{bool:!0}}}}};return F===d.yY.List&&(O.expansionIcon={displayName:(0,i.V)("Slicer_ExpandCollapse_Toggle"),properties:{color:l.iD.genericColor,position:{displayName:(0,i.V)("Visual_Position"),type:{enumeration:E}},size:{displayName:(0,i.V)("Visual_BubbleSize"),type:{integer:!0}},spacing:{displayName:(0,i.V)("Visual_Spacing"),type:{integer:!0}},transparency:l.iD.genericTransparency,verticalAlignment:{displayName:(0,i.V)("Visual_Alignment_Vertical"),type:{formatting:{alignment:!0}}}}}),O}var w={...n.OV.value,verticalAlignment:{objectName:"value",propertyName:"verticalAlignment"},text:{objectName:"value",propertyName:"text"}},M={general:{formatString:l.e0.formatString},fillCustom:n.OV.fillCustom,outline:n.OV.outline,value:w,label:n.OV.label,shapeCustomRectangle:n.OV.shapeCustomRectangle,layout:m.layout,shadowCustom:n.OV.shadowCustom,glowCustom:n.OV.glowCustom,spacing:n.OV.spacing,padding:n.OV.padding,accentBar:n.OV.accentBar,icon:m.icon,image:m.image,overFlow:n.OV.overFlow,background:m.background,selection:{advancedSlicerType:{objectName:"selection",propertyName:"type"}},selectionIcon:m.selectionIcon,expansionIcon:m.expansionIcon,actionState:m.actionState};function A(F){var U=_.cloneDeep(F);return delete U.properties[n.Mn.text],U.properties[v.field]={displayName:(0,i.V)("Field"),type:{variant:[{text:!0},{integer:!0},{dateTime:!0}]}},U}var R={default:"default",hover:"hover",press:"press",selected:"selected",mixed:"mixed"},B={hover:"hover",press:"press",rest:"rest",disabled:"disabled"},N={mixed:"mixed",selected:"selected",unselected:"unselected",default:"default"},W={expanded:"expanded",default:"default",collapsed:"collapsed"}},631402:function(ve,j,e){e.d(j,{Tf:function(){return t},w$:function(){return g}});var r=e(251868),i=e(281210),a=e(847005);function t(){return l}var l={objects:{userPrompt:{properties:{text:{displayName:(0,i.V)("Text"),type:{text:!0},suppressFormatPainterCopy:!0},selectedVisualsJson:{displayName:(0,i.V)("ExplorationBookmarks_SelectedVisuals"),type:{text:!0}},useAllVisuals:{type:{bool:!0}},useCurrentLocale:{type:{bool:!0}}}},text:{displayName:"Text",properties:{fontColor:a.iD.fontColor,fontSize:a.iD.fontSize,fontFamily:a.iD.fontFamily,textAlignment:a.iD.textAlignment}},narrativeSelection:{properties:{dismissSelectionScreen:{type:{bool:!0}}}}},tooltips:{supportedTypes:{default:!0,canvas:!0},roles:["Tooltips"],supportEnhancedTooltips:!0},suppressDefaultTitle:!0,supportsEmptyDataView:!0,supportsKeyboardFocus:!0,supportsLandingPage:!0,supportsSelection:!1},g=(0,r.wZ)(l.objects)},490881:function(ve,j,e){e.d(j,{JS:function(){return d},K1:function(){return i},lo:function(){return o},oN:function(){return p},oR:function(){return l},r3:function(){return t},rj:function(){return g},vb:function(){return n},xn:function(){return a},z$:function(){return s}});var r=e(868797),i={CategoryValue:"CategoryValue",Value:"Value",ExpectedValue:"ExpectedValue",ExpectedLow:"ExpectedLow",ExpectedHigh:"ExpectedHigh",RawScore:"RawScore",Anomaly:"Anomaly",BatchStart:"BatchStart",BatchEnd:"BatchEnd",FormattedCategoryValue:"FormattedCategoryValue",ValueFormatString:"ValueFormatString"},a="anomalyDetection",t="anomaly",l="sensitivity",g=_.mapValues(i,v=>`${a}.${v}`),n="SampleAndDetectAnomaly",p="SampleSizePerSeries",s=.7,d={showAnomalies:"show",displayName:"displayName",transform:"transform",explainBy:"explainBy",isAnomalyHighlighted:"isAnomalyHighlighted",sensitivity:"Sensitivity",confidenceBandShow:"confidenceBandShow",confidenceBandStyle:"confidenceBandStyle",confidenceBandTransparency:"transparency",confidenceBandColor:"confidenceBandColor"},o={showAnomalies:{objectName:a,propertyName:d.showAnomalies},displayName:{objectName:a,propertyName:d.displayName},transform:{objectName:a,propertyName:d.transform},isAnomalyHighlighted:{objectName:a,propertyName:d.isAnomalyHighlighted},explainBy:{objectName:a,propertyName:d.explainBy},sensitivity:{objectName:a,propertyName:d.sensitivity},confidenceBandShow:{objectName:a,propertyName:d.confidenceBandShow},confidenceBandStyle:{objectName:a,propertyName:d.confidenceBandStyle},confidenceBandTransparency:{objectName:a,propertyName:d.confidenceBandTransparency},confidenceBandColor:{objectName:a,propertyName:d.confidenceBandColor},show:{objectName:a,propertyName:r.m6.show},shape:{objectName:a,propertyName:r.m6.shape},size:{objectName:a,propertyName:r.m6.size},color:{objectName:a,propertyName:r.m6.color},transparency:{objectName:a,propertyName:r.m6.transparency},rotation:{objectName:a,propertyName:r.m6.rotation},strokeShow:{objectName:a,propertyName:r.m6.strokeShow},strokeColorMatch:{objectName:a,propertyName:r.m6.strokeColorMatch},strokeColor:{objectName:a,propertyName:r.m6.strokeColor},strokeTransparency:{objectName:a,propertyName:r.m6.strokeTransparency},strokeWidth:{objectName:a,propertyName:r.m6.strokeWidth}}},582166:function(ve,j,e){e.d(j,{$E:function(){return D},Ad:function(){return c},C0:function(){return d},DQ:function(){return P},Do:function(){return T},G3:function(){return C},Nq:function(){return m},Wx:function(){return s},a:function(){return y},azureMapProps:function(){return B},gc:function(){return v},xP:function(){return o}});var r=e(318456),i=e(630881),a=e(281210),t=e(56604),l=e(231418),g=e(124374),n=e(519908),p=e(847005),s={pathID:"PathID",category:"Category",series:"Series",x:"X",y:"Y",size:"Size",tooltips:"Tooltips",pointOrder:"PointOrder"},d=function(N){return N[N.Box=0]="Box",N[N.Cylinder=1]="Cylinder",N}({}),o=function(N){return N[N.Linear=0]="Linear",N[N.Log=1]="Log",N[N.CubicBezier=2]="CubicBezier",N}({}),v=function(N){return N.AboveLabels="",N.BelowLabels="labels",N.BelowRoads="transit",N}({}),m=function(N){return N.Url="url",N.FileUpload="file_upload",N}({}),c=function(N){return N.map="map",N.viewport="viewport",N}({}),C=function(N){return N.pixels="pixels",N.meters="meters",N}({}),y={road:"road",satellite:"satellite",satelliteRoadLabels:"satellite_road_labels",grayscaleDark:"grayscale_dark",night:"night",grayscaleLight:"grayscale_light",roadShadedRelief:"road_shaded_relief",blank:"blank",blankAccessible:"blank_accessible",highContrastDark:"high_contrast_dark",highContrastLight:"high_contrast_light"},S=(0,t.i)([{value:y.road,displayName:(0,a.V)("Visual_MapThemeRoad")},{value:y.satellite,displayName:(0,a.V)("Visual_AzureMapsSatelliteStyle")},{value:y.satelliteRoadLabels,displayName:(0,a.V)("ContentList_Datasets_Hybrid")},{value:y.grayscaleDark,displayName:(0,a.V)("Visual_AzureMapsGrayScaleDarkStyle")},{value:y.night,displayName:(0,a.V)("Visual_AzureMapsNightStyle")},{value:y.grayscaleLight,displayName:(0,a.V)("Visual_AzureMapsGrayScaleLightStyle")},{value:y.roadShadedRelief,displayName:(0,a.V)("Visual_AzureMapsTerraStyle")},{value:y.blank,displayName:(0,a.V)("ReportAppBar_Blank")},{value:y.blankAccessible,displayName:(0,a.V)("Visual_AzureMapsBlankAccessibleStyle")},{value:y.highContrastDark,displayName:(0,a.V)("Visual_AzureMapsHighContrastDarkStyle")},{value:y.highContrastLight,displayName:(0,a.V)("Visual_AzureMapsHighContrastLightStyle")}]),h=(0,t.i)([{value:d.Box,displayName:(0,a.V)("Visual_AzureMapsBoxShape")},{value:d.Cylinder,displayName:(0,a.V)("Visual_AzureMapsCylinderShape")}]),E=(0,t.i)([{value:o.Linear,displayName:(0,a.V)("Visual_Axis_Linear")},{value:o.Log,displayName:(0,a.V)("Visual_Axis_Log")},{value:o.CubicBezier,displayName:(0,a.V)("Visual_AzureMapsCubicBezier")}]),u=(0,t.i)([{value:c.map,displayName:(0,a.V)("Visual_ShapeMap_Map")},{value:c.viewport,displayName:(0,a.V)("Visual_AzureMapsViewport")}]),f=(0,t.i)([{value:v.AboveLabels,displayName:(0,a.V)("Visual_AzureMapsLayerAboveLabels")},{value:v.BelowLabels,displayName:(0,a.V)("Visual_AzureMapsLayerBelowLabels")},{value:v.BelowRoads,displayName:(0,a.V)("Visual_AzureMapsLayerBelowRoads")}]),b=(0,t.i)([{value:C.pixels,displayName:N=>N.get("Generic_Pixels")},{value:C.meters,displayName:N=>N.get("Visual_MapUnitMeters")}]),V=(0,t.i)([{value:m.Url,displayName:(0,a.V)("Url")},{value:m.FileUpload,displayName:(0,a.V)("Visual_AzureMapsFileUpload")}]),T={mapControls:"mapControls",traffic:"traffic",tileLayer:"tileLayer",bubbleLayer:"bubbleLayer",categoryLabels:"categoryLabels",heatMapLayer:"heatMapLayer",barChart:"barChart",commonDataOptions:"commonDataOptions",referenceLayer:"referenceLayer",filledMap:"filledMap",pathLayer:"pathLayer"},P={defaultStyle:"defaultStyle",showStylePicker:"showStylePicker",showLabels:"showLabels",showNavigationControls:"showNavigationControls",zoom:"zoom",centerLatitude:"centerLatitude",centerLongitude:"centerLongitude",heading:"heading",pitch:"pitch",showIncidents:"showIncidents",showTrafficControl:"showTrafficControl",tileLayerUrl:"tileLayerUrl",tileSize:"tileSize",northBounds:"northBounds",southBounds:"southBounds",eastBounds:"eastBounds",westBounds:"westBounds",mapTransparency:"mapTransparency",isTMS:"isTMS",minZoom:"minZoom",maxZoom:"maxZoom",barShape:"barShape",height:"barHeight",scaleHeightOnZoom:"scaleHeightOnZoom",thickness:"thickness",scaleThicknessOnZoom:"scaleThicknessOnZoom",unselectedTransparency:"unselectedTransparency",show:"show",bubbleRadius:"bubbleRadius",minBubbleRadius:"minBubbleRadius",markerRangeType:"markerRangeType",radiusScalingMethod:"radiusScalingMethod",maxRadius:"maxRadius",showZeros:"showZeros",showNegatives:"showNegatives",defaultColor:"defaultColor",strokeColor:"strokeColor",autoStrokeColor:"autoStrokeColor",strokeTransparency:"strokeTransparency",bubbleStrokeWidth:"bubbleStrokeWidth",strokeWidth:"strokeWidth",blur:"blur",pitchAlignment:"pitchAlignment",layerPosition:"layerPosition",minDataValue:"minDataValue",maxDataValue:"maxDataValue",zoomScaleFactor:"zoomScaleFactor",logScale:"logScale",x1:"x1",x2:"x2",y1:"y1",y2:"y2",autoZoom:"autoZoom",autoZoomIncludesReferenceLayer:"autoZoomIncludesReferenceLayer",worldWrap:"worldWrap",additionalDatasource:"additionalDatasource",showSelectionControl:"showSelectionControl",geocodingCulture:"geocodingCulture",heatMapRadius:"heatMapRadius",heatMapRadiusUnit:"heatMapRadiusUnit",heatMapIntensity:"heatMapIntensity",heatMapColorLow:"heatMapColorLow",heatMapColorCenter:"heatMapColorCenter",heatMapColorHigh:"heatMapColorHigh",heatMapUseSize:"heatMapUseSize",clusteringEnabled:"clusteringEnabled",clusteredBubbleRadius:"clusteredBubbleRadius",clusteredBubbleFillColor:"clusteredBubbleFillColor",clusteredBubbleFontSize:"clusteredBubbleFontSize",clusteredBubbleFontColor:"clusteredBubbleFontColor",clusteredBubbleStrokeColor:"clusteredBubbleStrokeColor",clusteredBubbleStrokeWidth:"clusteredBubbleStrokeWidth",datasourceType:"datasourceType",referenceLayerUrl:"referenceLayerUrl",bubbleFillColor:"bubbleFillColor",bubbleStrokeColor:"bubbleStrokeColor",bubbleStrokeTransparency:"bubbleStrokeTransparency",lineStrokeColor:"lineStrokeColor",lineStrokeWidth:"lineStrokeWidth",lineStrokeTransparency:"lineStrokeTransparency",polygonFillColor:"polygonFillColor",polygonStrokeColor:"polygonStrokeColor",polygonStrokeWidth:"polygonStrokeWidth",polygonStrokeTransparency:"polygonStrokeTransparency",unmappedObjectFillColor:"unmappedObjectFillColor",unmappedObjectStrokeColor:"unmappedObjectStrokeColor",dataSource:"dataSource",point:"point",line:"line",polygon:"polygon",unmappedObject:"unmappedObject",unmappedObjectVisibility:"unmappedObjectVisibility",unmappedObjectUseCustomColors:"unmappedObjectUseCustomColors"};function D(N){return{dataRoles:w(N),objects:M(N),dataViewMappings:A(N),visualShapeDataViewMappings:R(N),sorting:{custom:{},implicit:{clauses:[...N?.azureMapsPathLayer?[{role:s.pointOrder,direction:r.S.Ascending}]:[],{role:s.size,direction:r.S.Descending}]}},drilldown:{roles:[s.category],...N?.azureMapsPathLayer?{canDisableDrill:{}}:{}},tooltips:{supportedTypes:{default:!0,canvas:!0},roles:[s.tooltips],supportEnhancedTooltips:!0},supportsKeyboardFocus:!0,supportsLandingPage:!0,supportsOnObjectFormatting:!0,suppressVisualCalc:!N?.enableCalculationScatterChartMap}}function w(N){var W=[{name:s.y,kind:i.DW.GroupingOrMeasure,displayName:(0,a.V)("Role_DisplayName_Latitude"),description:(0,a.V)("Role_DisplayName_LatitudeMapDescription"),preferredTypes:[{geography:{latitude:!0}}],cartesianKind:i.Lv.Y},{name:s.x,kind:i.DW.GroupingOrMeasure,displayName:(0,a.V)("Role_DisplayName_Longitude"),description:(0,a.V)("Role_DisplayName_LongitudeMapDescription"),preferredTypes:[{geography:{longitude:!0}}],cartesianKind:i.Lv.X},{name:s.series,kind:i.DW.Grouping,displayName:(0,a.V)("Role_DisplayName_Legend"),description:(0,a.V)("Role_DisplayName_LegendDescription")},{name:s.size,kind:i.DW.Measure,displayName:(0,a.V)("Role_DisplayName_Size"),description:(0,a.V)("Role_DisplayName_SizeDescription"),requiredTypes:[{numeric:!0},{integer:!0}]},{name:s.tooltips,kind:i.DW.Measure,displayName:(0,a.V)("Role_DisplayName_Tooltips"),description:(0,a.V)("Role_Tooltips_Description"),joinPredicate:i.ps.None}];return N?.azureMapsGeocoding&&W.unshift({name:s.category,kind:i.DW.Grouping,displayName:(0,a.V)("Role_DisplayName_Location"),description:(0,a.V)("Role_DisplayName_LocationMapDescription"),preferredTypes:[{geography:{address:!0}},{geography:{city:!0}},{geography:{continent:!0}},{geography:{country:!0}},{geography:{county:!0}},{geography:{place:!0}},{geography:{postalCode:!0}},{geography:{region:!0}},{geography:{stateOrProvince:!0}}]}),N?.azureMapsPathLayer&&W.push({name:s.pathID,kind:i.DW.Grouping,displayName:(0,a.V)("Role_DisplayName_PathID"),description:(0,a.V)("Role_DisplayName_PathIDMapDescription"),disallowedWithVisualCalculations:!N?.azureMapsPathLayerVisualCalculation},{name:s.pointOrder,kind:i.DW.Grouping,displayName:(0,a.V)("Role_DisplayName_PointOrder"),description:(0,a.V)("Role_DisplayName_PointOrderDescription"),preferredTypes:[{numeric:!0},{integer:!0},{dateTime:!0}],disallowedWithVisualCalculations:!N?.azureMapsPathLayerVisualCalculation}),W}function M(N){var W={general:{displayName:(0,a.V)("Visual_General"),properties:{formatString:p.iD.formatString}},legend:p.TQ.legend,dataPoint:{displayName:(0,a.V)("Visual_DataPoint"),description:(0,a.V)("Visual_DataPointDescription"),properties:{showAllDataPoints:p.iD.showAllDataPoints,fill:p.iD.genericColor}},labels:{displayName:(0,a.V)("Visual_DataPointsLabels"),properties:{show:p.iD.show,color:p.iD.dataColor,labelDisplayUnits:p.iD.labelDisplayUnits,labelPrecision:p.iD.labelPrecision}},[T.mapControls]:{displayName:(0,a.V)("Visual_AzureMapsMapSettings"),description:(0,a.V)("Visual_MapControlsDescription"),properties:{[P.defaultStyle]:{displayName:(0,a.V)("Visual_AzureMapsDefaultStyle"),description:(0,a.V)("Visual_AzureMapsDefaultStyleDescription"),type:{enumeration:S}},[P.showStylePicker]:{displayName:(0,a.V)("Visual_AzureMapsStylePicker"),description:(0,a.V)("Visual_AzureMapsStylePickerDescription"),type:{bool:!0}},[P.showLabels]:{displayName:(0,a.V)("Visual_MapShowLabels"),description:(0,a.V)("Visual_AzureMapsShowLabelsDescription"),type:{bool:!0}},[P.showNavigationControls]:{displayName:(0,a.V)("Visual_AzureMapsNavigationControls"),description:(0,a.V)("Visual_AzureMapsNavigationControlsDescription"),type:{bool:!0}},[P.zoom]:{displayName:(0,a.V)("Visual_ShapeMap_Zoom"),description:(0,a.V)("Visual_AzureMapsZoomDescription"),type:{numeric:!0}},[P.centerLatitude]:{displayName:(0,a.V)("Visual_AzureMapsCenterLatitude"),description:(0,a.V)("Visual_AzureMapsCenterLatitudeDescription"),type:{numeric:!0}},[P.centerLongitude]:{displayName:(0,a.V)("Visual_AzureMapsCenterLongitude"),description:(0,a.V)("Visual_AzureMapsCenterLongitudeDescription"),type:{numeric:!0}},[P.heading]:{displayName:(0,a.V)("Visual_AzureMapsHeading"),description:(0,a.V)("Visual_AzureMapsHeadingDescription"),type:{numeric:!0}},[P.pitch]:{displayName:(0,a.V)("Visual_AzureMapsPitch"),description:(0,a.V)("Visual_AzureMapsPitchDescription"),type:{numeric:!0}},[P.autoZoom]:{displayName:(0,a.V)("Visual_AutoZoom"),description:(0,a.V)("Visual_AzureMapsAutoZoomDescription"),type:{bool:!0}},[P.autoZoomIncludesReferenceLayer]:{displayName:(0,a.V)("Visual_AzureMapsAutoZoomIncludesReferenceLayer"),description:(0,a.V)("Visual_AzureMapsAutoZoomIncludesReferenceLayerDescription"),type:{bool:!0}},[P.worldWrap]:{displayName:(0,a.V)("Visual_AzureMapsWorldWrap"),description:(0,a.V)("Visual_AzureMapsWorldWrapDescription"),type:{bool:!0}},[P.showSelectionControl]:{displayName:(0,a.V)("Visual_AzureMapsSelectionControl"),description:(0,a.V)("Visual_AzureMapsSelectionControlDescription"),type:{bool:!0}}}},[T.filledMap]:{displayName:(0,a.V)("FilledMap_ToolTip"),description:(0,a.V)("Visual_AzureMapsFilledMapDescription"),properties:{show:p.iD.show,[P.defaultColor]:{displayName:(0,a.V)("Visual_FillColor"),type:{fill:{solid:{color:!0}}}},[P.mapTransparency]:{displayName:(0,a.V)("Visual_Fill_Transparency"),type:{numeric:!0}},[P.strokeColor]:{displayName:(0,a.V)("Visual_OutlineColor"),type:{fill:{solid:{color:!0}}}},[P.strokeTransparency]:{displayName:(0,a.V)("Visual_AzureMapsBubbleStrokeTransparency"),type:{numeric:!0}},[P.strokeWidth]:{displayName:(0,a.V)("Visual_AzureMapsBubbleStrokeWidth"),type:{integer:!0}},[P.minZoom]:{displayName:(0,a.V)("Visual_AzureMapsMinZoom"),description:(0,a.V)("Visual_AzureMapsMinZoomDescription"),type:{integer:!0}},[P.maxZoom]:{displayName:(0,a.V)("Visual_AzureMapsMaxZoom"),description:(0,a.V)("Visual_AzureMapsMaxZoomDescription"),type:{integer:!0}},[P.layerPosition]:{displayName:(0,a.V)("Visual_AzureMapsLayerPosition"),description:(0,a.V)("Visual_AzureMapsLayerPositionDescription"),type:{enumeration:f}}}},[T.bubbleLayer]:{displayName:(0,a.V)("Visual_Bubbles"),description:(0,a.V)("Visual_BubblesDescription"),properties:{show:p.iD.show,[P.mapTransparency]:{displayName:(0,a.V)("Visual_Fill_Transparency"),description:(0,a.V)("Visual_AzureMapsBubbleTransparencyDescription"),type:{numeric:!0}},[P.bubbleRadius]:{displayName:(0,a.V)("Visual_BubbleSize"),description:(0,a.V)("Visual_AzureMapsBubbleRadiusDescription"),type:{integer:!0}},[P.minBubbleRadius]:{displayName:(0,a.V)("Visual_AzureMapsMinBubbleRadius"),description:(0,a.V)("Visual_AzureMapsMinBubbleRadiusDescription"),type:{integer:!0}},[P.markerRangeType]:{displayName:(0,a.V)("Visual_MarkerRangeType"),description:(0,a.V)("Visual_MarkerRangeType"),type:{enumeration:g.v6}},[P.radiusScalingMethod]:{displayName:(0,a.V)("Visual_AzureMapsBubbleRadiusScalingMethod"),description:(0,a.V)("Visual_AzureMapsBubbleRadiusScalingMethodDescription"),type:{enumeration:E}},[P.maxRadius]:{displayName:(0,a.V)("Visual_AzureMapsBubbleMaxRadius"),description:(0,a.V)("Visual_AzureMapsBubbleMaxRadiusDescription"),type:{integer:!0}},[P.logScale]:{displayName:(0,a.V)("Visual_AzureMapsLogScale"),description:(0,a.V)("Visual_AzureMapsLogScaleDescription"),type:{integer:!0}},[P.x1]:{displayName:(0,a.V)("Visual_AzureMapsX1"),description:(0,a.V)("Visual_AzureMapsX1Description"),type:{numeric:!0}},[P.x2]:{displayName:(0,a.V)("Visual_AzureMapsX2"),description:(0,a.V)("Visual_AzureMapsX2Description"),type:{numeric:!0}},[P.y1]:{displayName:(0,a.V)("Visual_AzureMapsY1"),description:(0,a.V)("Visual_AzureMapsY1Description"),type:{numeric:!0}},[P.y2]:{displayName:(0,a.V)("Visual_AzureMapsY2"),description:(0,a.V)("Visual_AzureMapsY2Description"),type:{numeric:!0}},[P.strokeColor]:{displayName:(0,a.V)("Visual_OutlineColor"),description:(0,a.V)("Visual_AzureMapsBubbleStrokeColorDescription"),type:{fill:{solid:{color:!0}}}},[P.autoStrokeColor]:{displayName:(0,a.V)("Visual_AzureMapsBubbleAutoStrokeColor"),description:(0,a.V)("Visual_AzureMapsBubbleAutoStrokeColorDescription"),type:{bool:!0}},[P.strokeTransparency]:{displayName:(0,a.V)("Visual_AzureMapsBubbleStrokeTransparency"),description:(0,a.V)("Visual_AzureMapsBubbleStrokeTransparencyDescription"),type:{numeric:!0}},[P.bubbleStrokeWidth]:{displayName:(0,a.V)("Visual_AzureMapsBubbleStrokeWidth"),description:(0,a.V)("Visual_AzureMapsBubbleStrokeWidthDescription"),type:{integer:!0}},[P.blur]:{displayName:(0,a.V)("Visual_DropShadow_Blur"),description:(0,a.V)("Visual_AzureMapsBubbleBlurDescription"),type:{numeric:!0}},[P.pitchAlignment]:{displayName:(0,a.V)("Visual_AzureMapsBubblePitchAlignment"),description:(0,a.V)("Visual_AzureMapsBubblePitchAlignmentDescription"),type:{enumeration:u}},[P.zoomScaleFactor]:{displayName:(0,a.V)("Visual_AzureMapsZoomScaleFactor"),description:(0,a.V)("Visual_AzureMapsZoomScaleFactorDescription"),type:{integer:!0}},[P.minZoom]:{displayName:(0,a.V)("Visual_AzureMapsMinZoom"),description:(0,a.V)("Visual_AzureMapsMinZoomDescription"),type:{integer:!0}},[P.maxZoom]:{displayName:(0,a.V)("Visual_AzureMapsMaxZoom"),description:(0,a.V)("Visual_AzureMapsMaxZoomDescription"),type:{integer:!0}},[P.layerPosition]:{displayName:(0,a.V)("Visual_AzureMapsLayerPosition"),description:(0,a.V)("Visual_AzureMapsLayerPositionDescription"),type:{enumeration:f}}}},[T.categoryLabels]:{displayName:(0,a.V)("Visual_CategoryLabels"),description:(0,a.V)("Visual_CategoryLabelsDescription"),properties:{...p.PP,...p.BO}},[T.heatMapLayer]:{displayName:(0,a.V)("Visual_HeatMap"),description:(0,a.V)("Visual_HeatMapDescription"),properties:{show:p.iD.show,[P.heatMapRadius]:{displayName:(0,a.V)("Visual_Radius"),description:(0,a.V)("Visual_AzureMapsHeatMapRadiusDescription"),type:{numeric:!0}},[P.heatMapRadiusUnit]:{displayName:(0,a.V)("Visual_Forecast_Parameter_Units"),description:(0,a.V)("Visual_AzureMapsHeatMapRadiusUnitDescription"),type:{enumeration:b}},[P.mapTransparency]:{displayName:(0,a.V)("Transparency"),description:(0,a.V)("Visual_AzureMapsHeatMapTransparencyDescription"),type:{numeric:!0}},[P.heatMapIntensity]:{displayName:(0,a.V)("Visual_AzureMapsHeatMapIntensity"),description:(0,a.V)("Visual_AzureMapsHeatMapIntensityDescription"),type:{numeric:!0}},[P.heatMapColorLow]:{displayName:(0,a.V)("Visual_Color0"),description:(0,a.V)("Visual_AzureMapsHeatMapColorLowDescription"),type:{fill:{solid:{color:!0}}}},[P.heatMapColorCenter]:{displayName:(0,a.V)("Visual_Color50"),description:(0,a.V)("Visual_AzureMapsHeatMapColorCenterDescription"),type:{fill:{solid:{color:!0}}}},[P.heatMapColorHigh]:{displayName:(0,a.V)("Visual_Color100"),description:(0,a.V)("Visual_AzureMapsHeatMapColorHighDescription"),type:{fill:{solid:{color:!0}}}},[P.heatMapUseSize]:{displayName:(0,a.V)("Visual_AzureMapsHeatMapUseSize"),description:(0,a.V)("Visual_AzureMapsHeatMapUseSizeDescription"),type:{bool:!0}},[P.minZoom]:{displayName:(0,a.V)("Visual_AzureMapsMinZoom"),description:(0,a.V)("Visual_AzureMapsMinZoomDescription"),type:{integer:!0}},[P.maxZoom]:{displayName:(0,a.V)("Visual_AzureMapsMaxZoom"),description:(0,a.V)("Visual_AzureMapsMaxZoomDescription"),type:{integer:!0}},[P.layerPosition]:{displayName:(0,a.V)("Visual_AzureMapsLayerPosition"),description:(0,a.V)("Visual_AzureMapsLayerPositionDescription"),type:{enumeration:f}}}},[T.barChart]:{displayName:(0,a.V)("Visual_AzureMapsBarChart"),description:(0,a.V)("Visual_AzureMapsBarChartDescription"),properties:{show:p.iD.show,[P.barShape]:{displayName:(0,a.V)("Visual_AzureMapsBarShape"),description:(0,a.V)("Visual_AzureMapsBarShapeDescription"),type:{enumeration:h}},[P.height]:{displayName:(0,a.V)("Visual_General_Properties_Height"),description:(0,a.V)("Visual_AzureMapsBarHeightDescription"),type:{integer:!0}},[P.scaleHeightOnZoom]:{displayName:(0,a.V)("Visual_AzureMapsScaleBarHeight"),description:(0,a.V)("Visual_AzureMapsScaleBarHeightDescription"),type:{bool:!0}},[P.thickness]:{displayName:(0,a.V)("Visual_General_Properties_Width"),description:(0,a.V)("Visual_AzureMapsBarThicknessDescription"),type:{integer:!0}},[P.scaleThicknessOnZoom]:{displayName:(0,a.V)("Visual_AzureMapsScaleBarThickness"),description:(0,a.V)("Visual_AzureMapsScaleBarThicknessDescription"),type:{bool:!0}},[P.defaultColor]:{displayName:(0,a.V)("Visual_FillColor"),description:(0,a.V)("Visual_AzureMapsBarChartDefaultColorDescription"),type:{fill:{solid:{color:!0}}}},[P.mapTransparency]:{displayName:(0,a.V)("Transparency"),description:(0,a.V)("Visual_AzureMapsBarTransparencyDescription"),type:{numeric:!0}},[P.minZoom]:{displayName:(0,a.V)("Visual_AzureMapsMinZoom"),description:(0,a.V)("Visual_AzureMapsMinZoomDescription"),type:{integer:!0}},[P.maxZoom]:{displayName:(0,a.V)("Visual_AzureMapsMaxZoom"),description:(0,a.V)("Visual_AzureMapsMaxZoomDescription"),type:{integer:!0}},[P.layerPosition]:{displayName:(0,a.V)("Visual_AzureMapsLayerPosition"),description:(0,a.V)("Visual_AzureMapsLayerPositionDescription"),type:{enumeration:f}}}},[T.commonDataOptions]:{displayName:(0,a.V)("Visual_AzureMapsCommonDataLayer"),description:(0,a.V)("Visual_AzureMapsCommonDataLayerDescription"),properties:{[P.unselectedTransparency]:{displayName:(0,a.V)("Visual_AzureMapsUnselectedTransparency"),description:(0,a.V)("Visual_AzureMapsUnselectedTransparencyDescription"),type:{numeric:!0}},[P.showZeros]:{displayName:(0,a.V)("Visual_AzureMapsShowZeros"),description:(0,a.V)("Visual_AzureMapsShowZerosDescription"),type:{bool:!0}},[P.showNegatives]:{displayName:(0,a.V)("Visual_AzureMapsShowNegatives"),description:(0,a.V)("Visual_AzureMapsShowNegativesDescription"),type:{bool:!0}},[P.minDataValue]:{displayName:(0,a.V)("Visual_AzureMapsMinDataValue"),description:(0,a.V)("Visual_AzureMapsMinDataValueDescription"),type:{numeric:!0}},[P.maxDataValue]:{displayName:(0,a.V)("Visual_AzureMapsMaxDataValue"),description:(0,a.V)("Visual_AzureMapsMaxDataValueDescription"),type:{numeric:!0}}}},[T.referenceLayer]:{displayName:(0,a.V)("Visual_AzureMapsReferenceLayer"),description:(0,a.V)(N?.azureMapsMultiDataFormats?"Visual_AzureMapsReferenceLayerDescriptionMultiDataFormats":"Visual_AzureMapsReferenceLayerDescription"),properties:{[P.additionalDatasource]:{displayName:N?.azureMapsMultiDataFormats?"":(0,a.V)("Visual_AzureMapsReferenceLayerDatasource"),type:{geoJson:{contentType:l.Ms}}}}},[T.traffic]:{displayName:(0,a.V)("Visual_AzureMapsTrafficLayer"),description:(0,a.V)("Visual_AzureMapsTrafficLayerDescription"),properties:{show:p.iD.show,[P.showIncidents]:{displayName:(0,a.V)("Visual_AzureMapsShowIncidents"),description:(0,a.V)("Visual_AzureMapsShowIncidentsDescription"),type:{bool:!0}},[P.showTrafficControl]:{displayName:(0,a.V)("Visual_AzureMapsShowTrafficControl"),description:(0,a.V)("Visual_AzureMapsShowTrafficControlDescription"),type:{bool:!0}}}},[T.tileLayer]:{displayName:(0,a.V)("Visual_AzureMapsTileLayer"),description:(0,a.V)("Visual_AzureMapsTileLayerDescription"),properties:{[P.tileLayerUrl]:{displayName:(0,a.V)("Url"),description:(0,a.V)("Visual_AzureMapsTileUrlDescription"),type:{text:!0},suppressFormatPainterCopy:!0},[P.tileSize]:{displayName:(0,a.V)("Visual_AzureMapsTileSize"),description:(0,a.V)("Visual_AzureMapsTileSizeDescription"),type:{numeric:!0}},[P.northBounds]:{displayName:(0,a.V)("Visual_AzureMapsTileNorthBounds"),description:(0,a.V)("Visual_AzureMapsTileNorthBoundsDescription"),type:{numeric:!0}},[P.southBounds]:{displayName:(0,a.V)("Visual_AzureMapsTileSouthBounds"),description:(0,a.V)("Visual_AzureMapsTileSouthBoundsDescription"),type:{numeric:!0}},[P.eastBounds]:{displayName:(0,a.V)("Visual_AzureMapsTileEastBounds"),description:(0,a.V)("Visual_AzureMapsTileEastBoundsDescription"),type:{numeric:!0}},[P.westBounds]:{displayName:(0,a.V)("Visual_AzureMapsTileWestBounds"),description:(0,a.V)("Visual_AzureMapsTileWestBoundsDescription"),type:{numeric:!0}},[P.mapTransparency]:{displayName:(0,a.V)("Transparency"),description:(0,a.V)("Visual_AzureMapsTileTransparencyDescription"),type:{numeric:!0}},[P.isTMS]:{displayName:(0,a.V)("Visual_AzureMapsTileIsTMS"),description:(0,a.V)("Visual_AzureMapsTileIsTMSDescription"),type:{bool:!0}},[P.minZoom]:{displayName:(0,a.V)("Visual_AzureMapsMinZoom"),description:(0,a.V)("Visual_AzureMapsMinZoomDescription"),type:{integer:!0}},[P.maxZoom]:{displayName:(0,a.V)("Visual_AzureMapsMaxZoom"),description:(0,a.V)("Visual_AzureMapsMaxZoomDescription"),type:{integer:!0}},[P.layerPosition]:{displayName:(0,a.V)("Visual_AzureMapsLayerPosition"),description:(0,a.V)("Visual_AzureMapsLayerPositionDescription"),type:{enumeration:f}}}}};return N?.azureMapsMultiDataFormats&&(W[T.referenceLayer].properties[P.datasourceType]={displayName:(0,a.V)("Type"),description:(0,a.V)("Visual_AzureMapsTypeDescription"),type:{enumeration:V}},W[T.referenceLayer].properties[P.referenceLayerUrl]={displayName:(0,a.V)("Visual_AzureMapsEnterAUrl"),description:(0,a.V)("Visual_AzureMapsReferenceLayerUploadAFileDescription"),type:{text:!0}}),N?.azureMapsCustomFormattingReferenceLayer&&(W[T.referenceLayer].properties[P.bubbleFillColor]={displayName:(0,a.V)("Visual_FillColor"),type:{fill:{solid:{color:!0}}}},W[T.referenceLayer].properties[P.bubbleStrokeColor]={displayName:(0,a.V)("Visual_ShapeMap_BorderColor"),type:{fill:{solid:{color:!0}}}},W[T.referenceLayer].properties[P.bubbleStrokeWidth]={displayName:(0,a.V)("Visual_DonutBorderWidth"),type:{integer:!0}},W[T.referenceLayer].properties[P.bubbleStrokeTransparency]={displayName:(0,a.V)("Visual_Border_Transparency"),type:{numeric:!0}},W[T.referenceLayer].properties[P.polygonFillColor]={displayName:(0,a.V)("Visual_FillColor"),type:{fill:{solid:{color:!0}}}},W[T.referenceLayer].properties[P.polygonStrokeColor]={displayName:(0,a.V)("Visual_ShapeMap_BorderColor"),type:{fill:{solid:{color:!0}}}},W[T.referenceLayer].properties[P.polygonStrokeWidth]={displayName:(0,a.V)("Visual_DonutBorderWidth"),type:{integer:!0}},W[T.referenceLayer].properties[P.polygonStrokeTransparency]={displayName:(0,a.V)("Visual_Border_Transparency"),type:{numeric:!0}},W[T.referenceLayer].properties[P.lineStrokeColor]={displayName:(0,a.V)("Generic_Color"),type:{fill:{solid:{color:!0}}}},W[T.referenceLayer].properties[P.lineStrokeWidth]={displayName:(0,a.V)("Visual_General_Properties_Width"),type:{integer:!0}},W[T.referenceLayer].properties[P.lineStrokeTransparency]={displayName:(0,a.V)("Transparency"),type:{numeric:!0}},W[T.referenceLayer].properties[P.unmappedObjectVisibility]={displayName:(0,a.V)("Visual_Show"),type:{bool:!0}},W[T.referenceLayer].properties[P.unmappedObjectUseCustomColors]={displayName:(0,a.V)("Visual_AzureMapsUnmappedObjectUseCustomColors"),type:{bool:!0}},W[T.referenceLayer].properties[P.unmappedObjectFillColor]={displayName:(0,a.V)("Visual_FillColor"),type:{fill:{solid:{color:!0}}}},W[T.referenceLayer].properties[P.unmappedObjectStrokeColor]={displayName:(0,a.V)("Visual_ShapeMap_BorderColor"),type:{fill:{solid:{color:!0}}}}),N?.azureMapsGeocoding&&(W[T.mapControls].properties[P.geocodingCulture]={displayName:(0,a.V)("Visual_MapGeocodingCulture"),type:{enumeration:n.dt}}),N?.azureMapsBubbleCluster&&(W[T.bubbleLayer].properties[P.clusteringEnabled]={displayName:(0,a.V)("Visual_AzureMapsClusterBubbles"),description:(0,a.V)("Visual_AzureMapsClusterBubbles_Description"),type:{bool:!0}},W[T.bubbleLayer].properties[P.clusteredBubbleRadius]={displayName:(0,a.V)("Visual_AzureMapsClusterSize"),type:{integer:!0}},W[T.bubbleLayer].properties[P.clusteredBubbleFillColor]={displayName:(0,a.V)("Visual_AzureMapsClusterColor"),type:{fill:{solid:{color:!0}}}},W[T.bubbleLayer].properties[P.clusteredBubbleFontSize]=p.iD.fontSize,W[T.bubbleLayer].properties[P.clusteredBubbleFontColor]={displayName:(0,a.V)("Text_Color"),type:{fill:{solid:{color:!0}}}},W[T.bubbleLayer].properties[P.clusteredBubbleStrokeColor]=p.iD.borderColor,W[T.bubbleLayer].properties[P.clusteredBubbleStrokeWidth]={displayName:(0,a.V)("Visual_DonutBorderWidth"),type:{integer:!0}}),N?.azureMapsPathLayer&&(W[T.pathLayer]={displayName:(0,a.V)("Visual_AzureMaps_PathLayer"),description:(0,a.V)("Visual_AzureMaps_PathLayerDescription"),properties:{color:{displayName:(0,a.V)("Generic_Color"),type:{fill:{solid:{color:!0}}}},strokeWidth:{displayName:(0,a.V)("Visual_General_Properties_Width"),type:{integer:!0}},strokeTransparency:{displayName:(0,a.V)("Transparency"),type:{numeric:!0}},[P.minZoom]:{displayName:(0,a.V)("Visual_AzureMapsMinZoom"),description:(0,a.V)("Visual_AzureMapsMinZoomDescription"),type:{integer:!0}},[P.maxZoom]:{displayName:(0,a.V)("Visual_AzureMapsMaxZoom"),description:(0,a.V)("Visual_AzureMapsMaxZoomDescription"),type:{integer:!0}}}}),W}function A(N){var W=[{conditions:[{Category:{min:1},Series:{max:1},X:{min:1,max:1,kind:i.DW.Measure},Y:{max:1,kind:i.DW.Measure},Size:{max:1}},{Category:{min:1},Series:{max:1},X:{max:1,kind:i.DW.Measure},Y:{min:1,max:1,kind:i.DW.Measure},Size:{max:1}},{Category:{min:1},Series:{max:1},X:{max:1,kind:i.DW.Measure},Y:{max:1,kind:i.DW.Measure},Size:{min:1,max:1}},{Category:{min:1},Series:{max:1},X:{max:1,kind:i.DW.Measure},Y:{max:1,kind:i.DW.Measure},Size:{max:1},Tooltips:{min:1}},{Category:{min:1},Series:{max:0},X:{max:1,kind:i.DW.Measure},Y:{max:1,kind:i.DW.Measure},Size:{max:1}}],matrix:{rows:{select:[{composite:[{for:{in:s.category}}]}],dataReductionAlgorithm:{top:{}}},columns:{for:{in:s.series},dataReductionAlgorithm:{top:{}}},values:{select:[{bind:{to:s.y}},{bind:{to:s.x}},{bind:{to:s.size}},{for:{in:s.tooltips}}]},dataVolume:6}},{conditions:[{Category:{min:1},Series:{max:1,min:1},X:{max:0},Y:{max:0},Size:{max:0},Tooltips:{max:0}}],matrix:{rows:{select:[{bind:{to:s.series}},{composite:[{for:{in:s.category}}]}],dataReductionAlgorithm:{top:{}}},dataVolume:6}},{conditions:[{Category:{max:0},Series:{max:1},X:{max:1,kind:i.DW.Grouping},Y:{max:1,kind:i.DW.Grouping},Size:{max:1}}],matrix:{rows:{select:[{bind:{to:s.series}},{composite:[{bind:{to:s.x}},{bind:{to:s.y}}]}],dataReductionAlgorithm:{overlappingPointsSample:{}}},values:{select:[{bind:{to:s.size}},{bind:{to:s.tooltips}}]},dataVolume:6}}];return N?.azureMapsPathLayer&&(W.forEach(F=>{F.conditions.forEach(U=>{U[s.pointOrder]={max:0},U[s.pathID]={max:0}})}),W.push({conditions:[{[s.series]:{max:1},[s.pathID]:{min:1,max:1},[s.category]:{min:1},[s.pointOrder]:{max:1},[s.x]:{max:1,kind:i.DW.Measure},[s.y]:{max:1,kind:i.DW.Measure},[s.size]:{max:1}}],matrix:{rows:{select:[{bind:{to:s.series}},{bind:{to:s.pathID}},{composite:[{for:{in:s.category}},{bind:{to:s.pointOrder}}]}],dataReductionAlgorithm:{top:{}}},values:{select:[{bind:{to:s.y}},{bind:{to:s.x}},{bind:{to:s.size}},{for:{in:s.tooltips}}]},dataVolume:6}},{conditions:[{[s.series]:{max:1},[s.pathID]:{min:1,max:1},[s.category]:{max:0},[s.pointOrder]:{max:1},[s.x]:{min:1,max:1,kind:i.DW.Grouping},[s.y]:{min:1,max:1,kind:i.DW.Grouping},[s.size]:{max:1}}],matrix:{rows:{select:[{bind:{to:s.series}},{bind:{to:s.pathID}},{composite:[{bind:{to:s.x}},{bind:{to:s.y}},{bind:{to:s.pointOrder}}]}],dataReductionAlgorithm:{top:{}}},values:{select:[{bind:{to:s.size}},{for:{in:s.tooltips}}]},dataVolume:6}})),W}function R(N){var W=[{conditions:[{[s.category]:{min:1},[s.series]:{max:1},[s.x]:{min:1,max:1,kind:i.DW.Measure},[s.y]:{max:1,kind:i.DW.Measure},[s.size]:{max:1}},{[s.category]:{min:1},[s.series]:{max:1},[s.x]:{max:1,kind:i.DW.Measure},[s.y]:{min:1,max:1,kind:i.DW.Measure},[s.size]:{max:1}},{[s.category]:{min:1},[s.series]:{max:1},[s.x]:{max:1,kind:i.DW.Measure},[s.y]:{max:1,kind:i.DW.Measure},[s.size]:{min:1,max:1}},{[s.category]:{min:1},[s.series]:{max:1},[s.x]:{max:1,kind:i.DW.Measure},[s.y]:{max:1,kind:i.DW.Measure},[s.size]:{max:1},[s.tooltips]:{min:1}},{[s.category]:{min:1},[s.series]:{max:0},[s.x]:{max:1,kind:i.DW.Measure},[s.y]:{max:1,kind:i.DW.Measure},[s.size]:{max:1}},{[s.category]:{min:1},[s.series]:{max:1,min:1},[s.x]:{max:0},[s.y]:{max:0},[s.size]:{max:0},[s.tooltips]:{max:0}}],matrix:{rows:{select:[{bind:{to:s.category}}]},columns:{for:{in:s.series}},values:{select:[{bind:{to:s.x}},{bind:{to:s.y}},{bind:{to:s.size}},{for:{in:s.tooltips}}]}}},{conditions:[{[s.category]:{max:0},[s.series]:{max:1},[s.x]:{max:1,kind:i.DW.Grouping},[s.y]:{max:1,kind:i.DW.Grouping},[s.size]:{max:1}}],matrix:{rows:{select:[{composite:[{for:{in:s.x}},{for:{in:s.y}}]}]},columns:{for:{in:s.series}},values:{select:[{bind:{to:s.size}},{for:{in:s.tooltips}}]}}}];return N?.azureMapsPathLayer&&N?.azureMapsPathLayerVisualCalculation&&(W.forEach(F=>{F.conditions.forEach(U=>{U[s.pointOrder]={max:0},U[s.pathID]={max:0}})}),W.push({conditions:[{[s.series]:{max:1},[s.pathID]:{min:1,max:1},[s.category]:{min:1},[s.pointOrder]:{max:1},[s.x]:{max:1,kind:i.DW.Measure},[s.y]:{max:1,kind:i.DW.Measure},[s.size]:{max:1}}],matrix:{rows:{select:[{bind:{to:s.pathID}},{composite:[{for:{in:s.category}},{bind:{to:s.pointOrder}}]}]},columns:{for:{in:s.series}},values:{select:[{bind:{to:s.x}},{bind:{to:s.y}},{bind:{to:s.size}},{for:{in:s.tooltips}}]}}},{conditions:[{[s.series]:{max:1},[s.pathID]:{min:1,max:1},[s.category]:{max:0},[s.pointOrder]:{max:1},[s.x]:{min:1,max:1,kind:i.DW.Grouping},[s.y]:{min:1,max:1,kind:i.DW.Grouping},[s.size]:{max:1}}],matrix:{rows:{select:[{bind:{to:s.pathID}},{composite:[{bind:{to:s.x}},{bind:{to:s.y}},{bind:{to:s.pointOrder}}]}]},columns:{for:{in:s.series}},values:{select:[{bind:{to:s.size}},{for:{in:s.tooltips}}]}}})),W}var B={general:{formatString:{objectName:"general",propertyName:"formatString"}},dataPoint:{defaultColor:{objectName:"dataPoint",propertyName:"defaultColor"},fill:{objectName:"dataPoint",propertyName:"fill"},showAllDataPoints:{objectName:"dataPoint",propertyName:"showAllDataPoints"}},legend:{show:{objectName:"legend",propertyName:"show"},position:{objectName:"legend",propertyName:"position"},showTitle:{objectName:"legend",propertyName:"showTitle"},titleText:{objectName:"legend",propertyName:"titleText"}},labels:{show:{objectName:"labels",propertyName:"show"},color:{objectName:"labels",propertyName:"color"},labelDisplayUnits:{objectName:"labels",propertyName:"labelDisplayUnits"},labelPrecision:{objectName:"labels",propertyName:"labelPrecision"}},categoryLabels:{show:{objectName:"categoryLabels",propertyName:"show"},color:{objectName:"categoryLabels",propertyName:"color"},fontSize:{objectName:"categoryLabels",propertyName:"fontSize"},bold:{objectName:"categoryLabels",propertyName:"bold"},italic:{objectName:"categoryLabels",propertyName:"italic"},underline:{objectName:"categoryLabels",propertyName:"underline"},fontFamily:{objectName:"categoryLabels",propertyName:"fontFamily"},enableBackground:{objectName:"categoryLabels",propertyName:"enableBackground"},backgroundColor:{objectName:"categoryLabels",propertyName:"backgroundColor"},backgroundTransparency:{objectName:"categoryLabels",propertyName:"backgroundTransparency"}},mapControls:{defaultStyle:{objectName:"mapControls",propertyName:"defaultStyle"},showStylePicker:{objectName:"mapControls",propertyName:"showStylePicker"},showLabels:{objectName:"mapControls",propertyName:"showLabels"},showNavigationControls:{objectName:"mapControls",propertyName:"showNavigationControls"},zoom:{objectName:"mapControls",propertyName:"zoom"},centerLatitude:{objectName:"mapControls",propertyName:"centerLatitude"},centerLongitude:{objectName:"mapControls",propertyName:"centerLongitude"},heading:{objectName:"mapControls",propertyName:"heading"},pitch:{objectName:"mapControls",propertyName:"pitch"},autoZoom:{objectName:"mapControls",propertyName:"autoZoom"},autoZoomIncludesReferenceLayer:{objectName:"mapControls",propertyName:"autoZoomIncludesReferenceLayer"},worldWrap:{objectName:"mapControls",propertyName:"worldWrap"},showSelectionControl:{objectName:"mapControls",propertyName:"showSelectionControl"},geocodingCulture:{objectName:"mapControls",propertyName:"geocodingCulture"}},traffic:{showTraffic:{objectName:"traffic",propertyName:"show"},showIncidents:{objectName:"traffic",propertyName:"showIncidents"},showTrafficControl:{objectName:"traffic",propertyName:"showTrafficControl"}},tileLayer:{tileLayerUrl:{objectName:"tileLayer",propertyName:"tileLayerUrl"},tileSize:{objectName:"tileLayer",propertyName:"tileSize"},northBounds:{objectName:"tileLayer",propertyName:"northBounds"},southBounds:{objectName:"tileLayer",propertyName:"southBounds"},eastBounds:{objectName:"tileLayer",propertyName:"eastBounds"},westBounds:{objectName:"tileLayer",propertyName:"westBounds"},transparency:{objectName:"tileLayer",propertyName:"mapTransparency"},isTMS:{objectName:"tileLayer",propertyName:"isTMS"},minZoom:{objectName:"tileLayer",propertyName:"minZoom"},maxZoom:{objectName:"tileLayer",propertyName:"maxZoom"},layerPosition:{objectName:"bubbleLayer",propertyName:"layerPosition"}},filledMap:{show:{objectName:"filledMap",propertyName:"show"},defaultColor:{objectName:"filledMap",propertyName:"defaultColor"},transparency:{objectName:"filledMap",propertyName:"mapTransparency"},strokeColor:{objectName:"filledMap",propertyName:"strokeColor"},strokeTransparency:{objectName:"filledMap",propertyName:"strokeTransparency"},strokeWidth:{objectName:"filledMap",propertyName:"strokeWidth"},minZoom:{objectName:"filledMap",propertyName:"minZoom"},maxZoom:{objectName:"filledMap",propertyName:"maxZoom"},layerPosition:{objectName:"filledMap",propertyName:"layerPosition"}},bubbleLayer:{show:{objectName:"bubbleLayer",propertyName:"show"},transparency:{objectName:"bubbleLayer",propertyName:"mapTransparency"},radius:{objectName:"bubbleLayer",propertyName:"bubbleRadius"},minRadius:{objectName:"bubbleLayer",propertyName:"minBubbleRadius"},markerRangeType:{objectName:"bubbleLayer",propertyName:"markerRangeType"},radiusScalingMethod:{objectName:"bubbleLayer",propertyName:"radiusScalingMethod"},maxRadius:{objectName:"bubbleLayer",propertyName:"maxRadius"},strokeColor:{objectName:"bubbleLayer",propertyName:"strokeColor"},autoStrokeColor:{objectName:"bubbleLayer",propertyName:"autoStrokeColor"},strokeTransparency:{objectName:"bubbleLayer",propertyName:"strokeTransparency"},strokeWidth:{objectName:"bubbleLayer",propertyName:"bubbleStrokeWidth"},blur:{objectName:"bubbleLayer",propertyName:"blur"},pitchAlignment:{objectName:"bubbleLayer",propertyName:"pitchAlignment"},zoomScaleFactor:{objectName:"bubbleLayer",propertyName:"zoomScaleFactor"},logScale:{objectName:"bubbleLayer",propertyName:"logScale"},x1:{objectName:"bubbleLayer",propertyName:"x1"},x2:{objectName:"bubbleLayer",propertyName:"x2"},y1:{objectName:"bubbleLayer",propertyName:"y1"},y2:{objectName:"bubbleLayer",propertyName:"y2"},minZoom:{objectName:"bubbleLayer",propertyName:"minZoom"},maxZoom:{objectName:"bubbleLayer",propertyName:"maxZoom"},layerPosition:{objectName:"bubbleLayer",propertyName:"layerPosition"},clusteringEnabled:{objectName:"bubbleLayer",propertyName:"clusteringEnabled"},clusteredBubbleRadius:{objectName:"bubbleLayer",propertyName:"clusteredBubbleRadius"},clusteredBubbleFillColor:{objectName:"bubbleLayer",propertyName:"clusteredBubbleFillColor"},clusteredBubbleFontSize:{objectName:"bubbleLayer",propertyName:"clusteredBubbleFontSize"},clusteredBubbleFontColor:{objectName:"bubbleLayer",propertyName:"clusteredBubbleFontColor"},clusteredBubbleStrokeColor:{objectName:"bubbleLayer",propertyName:"clusteredBubbleStrokeColor"},clusteredBubbleStrokeWidth:{objectName:"bubbleLayer",propertyName:"clusteredBubbleStrokeWidth"}},heatMapLayer:{show:{objectName:"heatMapLayer",propertyName:"show"},heatMapRadius:{objectName:"heatMapLayer",propertyName:"heatMapRadius"},heatMapRadiusUnit:{objectName:"heatMapLayer",propertyName:"heatMapRadiusUnit"},heatMapTransparency:{objectName:"heatMapLayer",propertyName:"mapTransparency"},heatMapIntensity:{objectName:"heatMapLayer",propertyName:"heatMapIntensity"},heatMapColorLow:{objectName:"heatMapLayer",propertyName:"heatMapColorLow"},heatMapColorCenter:{objectName:"heatMapLayer",propertyName:"heatMapColorCenter"},heatMapColorHigh:{objectName:"heatMapLayer",propertyName:"heatMapColorHigh"},heatMapUseSize:{objectName:"heatMapLayer",propertyName:"heatMapUseSize"},minZoom:{objectName:"heatMapLayer",propertyName:"minZoom"},maxZoom:{objectName:"heatMapLayer",propertyName:"maxZoom"},layerPosition:{objectName:"heatMapLayer",propertyName:"layerPosition"}},barChart:{show:{objectName:"barChart",propertyName:"show"},barShape:{objectName:"barChart",propertyName:"barShape"},height:{objectName:"barChart",propertyName:"barHeight"},scaleHeightOnZoom:{objectName:"barChart",propertyName:"scaleHeightOnZoom"},thickness:{objectName:"barChart",propertyName:"thickness"},scaleThicknessOnZoom:{objectName:"barChart",propertyName:"scaleThicknessOnZoom"},defaultColor:{objectName:"barChart",propertyName:"defaultColor"},transparency:{objectName:"barChart",propertyName:"mapTransparency"},unselectedTransparency:{objectName:"barChart",propertyName:"unselectedTransparency"},minZoom:{objectName:"barChart",propertyName:"minZoom"},maxZoom:{objectName:"barChart",propertyName:"maxZoom"},layerPosition:{objectName:"barChart",propertyName:"layerPosition"}},commonDataOptions:{unselectedTransparency:{objectName:"commonDataOptions",propertyName:"unselectedTransparency"},showZeros:{objectName:"commonDataOptions",propertyName:"showZeros"},showNegatives:{objectName:"commonDataOptions",propertyName:"showNegatives"},minDataValue:{objectName:"commonDataOptions",propertyName:"minDataValue"},maxDataValue:{objectName:"commonDataOptions",propertyName:"maxDataValue"}},referenceLayer:{additionalDatasource:{objectName:"referenceLayer",propertyName:"additionalDatasource"},referenceLayerUrl:{objectName:"referenceLayer",propertyName:"referenceLayerUrl"},datasourceType:{objectName:"referenceLayer",propertyName:"datasourceType"},unmappedObjectVisibility:{objectName:"referenceLayer",propertyName:"unmappedObjectVisibility"},unmappedObjectUseCustomColors:{objectName:"referenceLayer",propertyName:"unmappedObjectUseCustomColors"},unmappedObjectFillColor:{objectName:"referenceLayer",propertyName:"unmappedObjectFillColor"},unmappedObjectStrokeColor:{objectName:"referenceLayer",propertyName:"unmappedObjectStrokeColor"}},referenceLayerBubble:{fillColor:{objectName:"referenceLayer",propertyName:"bubbleFillColor"},fillOpacity:{objectName:"referenceLayer",propertyName:"bubbleFillOpacity"},strokeColor:{objectName:"referenceLayer",propertyName:"bubbleStrokeColor"},strokeWidth:{objectName:"referenceLayer",propertyName:"bubbleStrokeWidth"},strokeTransparency:{objectName:"referenceLayer",propertyName:"bubbleStrokeTransparency"}},referenceLayerPolygon:{fillColor:{objectName:"referenceLayer",propertyName:"polygonFillColor"},fillOpacity:{objectName:"referenceLayer",propertyName:"polygonFillOpacity"},strokeColor:{objectName:"referenceLayer",propertyName:"polygonStrokeColor"},strokeWidth:{objectName:"referenceLayer",propertyName:"polygonStrokeWidth"},strokeTransparency:{objectName:"referenceLayer",propertyName:"polygonStrokeTransparency"}},referenceLayerLine:{strokeColor:{objectName:"referenceLayer",propertyName:"lineStrokeColor"},strokeWidth:{objectName:"referenceLayer",propertyName:"lineStrokeWidth"},strokeTransparency:{objectName:"referenceLayer",propertyName:"lineStrokeTransparency"}},pathLayer:{show:{objectName:"pathLayer",propertyName:"show"},color:{objectName:"pathLayer",propertyName:"color"},strokeWidth:{objectName:"pathLayer",propertyName:"strokeWidth"},strokeTransparency:{objectName:"pathLayer",propertyName:"strokeTransparency"},minZoom:{objectName:"pathLayer",propertyName:"minZoom"},maxZoom:{objectName:"pathLayer",propertyName:"maxZoom"}}}},434662:function(ve,j,e){e.d(j,{O:function(){return l},T:function(){return t}});var r=e(33199),i=e(281210),a=e(847005),t={objects:{line:{displayName:(0,i.V)("Visual_BasicShape_Line"),properties:{lineColor:a.iD.lineColor,transparency:a.iD.backgroundTransparency,weight:{displayName:(0,i.V)("Visual_BasicShape_Weight"),type:{numeric:!0}},roundEdge:{displayName:(0,i.V)("Visual_BasicShape_RoundEdges"),type:{integer:!0}}}},fill:{displayName:(0,i.V)("Visual_Fill"),properties:{show:a.iD.show,fillColor:{displayName:(0,i.V)("Visual_FillColor"),type:{fill:{solid:{color:!0}}}},transparency:a.iD.backgroundTransparency}},rotation:{displayName:(0,i.V)("Visual_BasicShape_Rotate"),properties:{angle:a.iD.genericRotation}},general:{properties:{shapeType:{type:{text:!0},suppressFormatPainterCopy:!0}}}},suppressDefaultTitle:!0,suppressDefaultPadding:!0,canRotate:!1,supportsSelection:!1,supportsVisualLink:!0,ariaRole:r.e.Img},l={general:{shapeType:{objectName:"general",propertyName:"shapeType"}},line:{transparency:{objectName:"line",propertyName:"transparency"},weight:{objectName:"line",propertyName:"weight"},roundEdge:{objectName:"line",propertyName:"roundEdge"},lineColor:{objectName:"line",propertyName:"lineColor"}},fill:{transparency:{objectName:"fill",propertyName:"transparency"},fillColor:{objectName:"fill",propertyName:"fillColor"},show:{objectName:"fill",propertyName:"show"}},rotation:{angle:{objectName:"rotation",propertyName:"angle"}}}},3640:function(ve,j,e){e.d(j,{C:function(){return t},cardProps:function(){return l}});var r=e(630881),i=e(281210),a=e(847005),t={dataRoles:[{name:"Values",kind:r.DW.Measure,displayName:(0,i.V)("Role_DisplayName_Fields"),description:(0,i.V)("Role_DisplayName_FieldsDescription")}],objects:{general:{displayName:(0,i.V)("Visual_General"),properties:{formatString:a.iD.formatString}},labels:{displayName:(0,i.V)("Visual_DataPointLabel"),properties:{...a.Ns,labelDisplayUnits:a.iD.labelDisplayUnits,labelPrecision:a.iD.labelPrecision,preserveWhitespace:{displayName:(0,i.V)("Visual_LabelPreserveWhitespace"),description:(0,i.V)("Visual_LabelPreserveWhitespace_Description"),type:{bool:!0}}}},categoryLabels:{displayName:(0,i.V)("Visual_CategoryLabel"),properties:{show:a.iD.show,...a.Ns,preserveWhitespace:{displayName:(0,i.V)("Visual_LabelPreserveWhitespace"),description:(0,i.V)("Visual_CategoryLabelPreserveWhitespace_Description"),type:{bool:!0}}}},wordWrap:{displayName:(0,i.V)("Visual_WordWrap"),properties:{show:a.iD.show}}},dataViewMappings:[{conditions:[{Values:{max:1}}],single:{role:"Values"}}],suppressDefaultTitle:!0,supportsSelection:!1,disableFocusMode:!0,tooltips:{showByDefault:!1,supportedTypes:{default:!0,canvas:!0},supportEnhancedTooltips:!0},supportsKeyboardFocus:!0,supportsDataDrivenAlerts:!0,analyze:{supportsAnalyzeHighLowValues:!0},supportsOnObjectFormatting:!0},l={categoryLabels:{show:{objectName:"categoryLabels",propertyName:"show"},color:{objectName:"categoryLabels",propertyName:"color"},fontSize:{objectName:"categoryLabels",propertyName:"fontSize"},bold:{objectName:"categoryLabels",propertyName:"bold"},italic:{objectName:"categoryLabels",propertyName:"italic"},underline:{objectName:"categoryLabels",propertyName:"underline"},fontFamily:{objectName:"categoryLabels",propertyName:"fontFamily"},preserveWhitespace:{objectName:"categoryLabels",propertyName:"preserveWhitespace"}},labels:{color:{objectName:"labels",propertyName:"color"},labelPrecision:{objectName:"labels",propertyName:"labelPrecision"},labelDisplayUnits:{objectName:"labels",propertyName:"labelDisplayUnits"},fontSize:{objectName:"labels",propertyName:"fontSize"},bold:{objectName:"labels",propertyName:"bold"},italic:{objectName:"labels",propertyName:"italic"},underline:{objectName:"labels",propertyName:"underline"},fontFamily:{objectName:"labels",propertyName:"fontFamily"},preserveWhitespace:{objectName:"labels",propertyName:"preserveWhitespace"}},wordWrap:{show:{objectName:"wordWrap",propertyName:"show"}}}},579010:function(ve,j,e){e.d(j,{NX:function(){return c},cardVisualProps:function(){return S},gl:function(){return w},pz:function(){return C}});var r=e(630881),i=e(281210),a=e(710817),t=e(74443),l=e(847005),g=e(772247),n=e(960444),p=e(936438),s=e(601548),d=e(835119),o=e(246479),v=e(584174),m=e(336596),c={Data:"Data",Tooltips:"Tooltips",Rows:"Rows"},C={accentBar:"accentBar",altText:"altText",backgroundColor:"backgroundColor",backgroundShow:"backgroundShow",backgroundTransparency:"backgroundTransparency",border:"border",angle:"angle",cards:"cards",color:"color",customFormatString:"customFormatString",detailFontColor:"detailFontColor",detailFontSize:"detailFontSize",detailFontFamily:"detailFontFamily",detailItalic:"detailItalic",detailBold:"detailBold",detailUnderline:"detailUnderline",detailTransparency:"detailTransparency",detailPrecision:"detailPrecision",detailDisplayUnits:"detailDisplayUnits",detailValue:"detailValue",detailBackgroundColor:"detailBackgroundColor",dividerColor:"dividerColor",dividerLineStyle:"dividerLineStyle",dividerWidth:"dividerWidth",dividerIgnorePadding:"dividerIgnorePadding",dividerTransparency:"dividerTransparency",fill:g.eM.fillCustom,fixedSize:"fixedSize",fontSize:"fontSize",fontFamily:"fontFamily",fontColor:"fontColor",glowCustom:g.eM.glowCustom,grid:"grid",image:"image",imageType:"imageType",imageUrl:"imageUrl",imageAreaSize:"imageAreaSize",layout:"layout",outline:g.eM.outline,padding:"padding",position:"position",Rotation:"textAngle",referenceLabel:"referenceLabel",referenceLabelDetail:"referenceLabelDetail",referenceLabelLayout:"referenceLabelLayout",referenceLabelTitle:"referenceLabelTitle",referenceLabelValue:"referenceLabelValue",divider:"divider",rotation:"rotation",smallMultiplesLayout:"smallMultiplesLayout",smallMultiplesBorder:"smallMultiplesBorder",smallMultiplesGrid:"smallMultiplesGrid",smallMultiplesOverFlow:"smallMultiplesOverFlow",smallMultiplesHeader:"smallMultiplesHeader",smallMultiplesAccentBar:"smallMultiplesAccentBar",spacing:"spacing",size:"size",shapeCustomRectangle:g.eM.shapeCustomRectangle,shadowCustom:g.eM.shadowCustom,shapeRotation:"shapeAngle",title:"title",titleFontFamily:"titleFontFamily",titleFontSize:"titleFontSize",titleContentType:"titleContentType",titleText:"titleText",titleTransparency:"titleTransparency",titleUnderline:"titleUnderline",titleItalic:"titleItalic",titleFontColor:"titleFontColor",titleBold:"titleBold",textRotation:"textAngle",transparency:"transparency",verticalAlignment:"verticalAlignment",value:"value",valueFontColor:"valueFontColor",valueFontSize:"valueFontSize",valueFontFamily:"valueFontFamily",valueItalic:"valueItalic",valueBold:"valueBold",valueUnderline:"valueUnderline",valueTransparency:"valueTransparency",valuePrecision:"valuePrecision",valueDisplayUnits:"valueDisplayUnits",showBlankAs:"showBlankAs",width:"width"},y={border:{show:{objectName:"border",propertyName:"show"},style:{objectName:"border",propertyName:"style"},transparency:{objectName:"border",propertyName:"transparency"},width:{objectName:"border",propertyName:"width"},color:{objectName:"border",propertyName:"color"}},grid:{show:{objectName:"grid",propertyName:"show"},style:{objectName:"grid",propertyName:"style"},transparency:{objectName:"grid",propertyName:"transparency"},width:{objectName:"grid",propertyName:"width"},color:{objectName:"grid",propertyName:"color"}},image:{show:{objectName:"image",propertyName:"show"},imageType:{objectName:"image",propertyName:"imageType"},image:{objectName:"image",propertyName:"image"},imageUrl:{objectName:"image",propertyName:"imageUrl"},transparency:{objectName:"image",propertyName:"transparency"},position:{objectName:"image",propertyName:"position"},padding:{objectName:"image",propertyName:"padding"},size:{objectName:"image",propertyName:"size"},altText:{objectName:"image",propertyName:"altText"},fixedSize:{objectName:"image",propertyName:"fixedSize"},imageAreaSize:{objectName:"image",propertyName:"imageAreaSize"},verticalAlignment:{objectName:"image",propertyName:"verticalAlignment"},horizontalAlignment:{objectName:"image",propertyName:"horizontalAlignment"}},referenceLabel:{value:{objectName:"referenceLabel",propertyName:"value"},formatString:{objectName:"referenceLabel",propertyName:"formatString"},backgroundShow:{objectName:"referenceLabel",propertyName:"backgroundShow"},backgroundColor:{objectName:"referenceLabel",propertyName:"backgroundColor"},backgroundTransparency:{objectName:"referenceLabel",propertyName:"backgroundTransparency"}},referenceLabelTitle:{show:{objectName:"referenceLabelTitle",propertyName:"show"},titleContentType:{objectName:"referenceLabelTitle",propertyName:"titleContentType"},titleText:{objectName:"referenceLabelTitle",propertyName:"titleText"},titleFontColor:{objectName:"referenceLabelTitle",propertyName:"titleFontColor"},titleFontSize:{objectName:"referenceLabelTitle",propertyName:"titleFontSize"},titleFontFamily:{objectName:"referenceLabelTitle",propertyName:"titleFontFamily"},titleItalic:{objectName:"referenceLabelTitle",propertyName:"titleItalic"},titleBold:{objectName:"referenceLabelTitle",propertyName:"titleBold"},titleUnderline:{objectName:"referenceLabelTitle",propertyName:"titleUnderline"},titleTransparency:{objectName:"referenceLabelTitle",propertyName:"titleTransparency"}},referenceLabelValue:{show:{objectName:"referenceLabelValue",propertyName:"show"},valueFontColor:{objectName:"referenceLabelValue",propertyName:"valueFontColor"},valueFontSize:{objectName:"referenceLabelValue",propertyName:"valueFontSize"},valueFontFamily:{objectName:"referenceLabelValue",propertyName:"valueFontFamily"},valueItalic:{objectName:"referenceLabelValue",propertyName:"valueItalic"},valueBold:{objectName:"referenceLabelValue",propertyName:"valueBold"},valueUnderline:{objectName:"referenceLabelValue",propertyName:"valueUnderline"},valueTransparency:{objectName:"referenceLabelValue",propertyName:"valueTransparency"},valuePrecision:{objectName:"referenceLabelValue",propertyName:"valuePrecision"},valueDisplayUnits:{objectName:"referenceLabelValue",propertyName:"valueDisplayUnits"},showBlankAs:{objectName:"referenceLabelValue",propertyName:"showBlankAs"},customFormatString:{objectName:"referenceLabelValue",propertyName:"customFormatString"}},referenceLabelDetail:{show:{objectName:"referenceLabelDetail",propertyName:"show"},detailFontColor:{objectName:"referenceLabelDetail",propertyName:"detailFontColor"},detailFontSize:{objectName:"referenceLabelDetail",propertyName:"detailFontSize"},detailFontFamily:{objectName:"referenceLabelDetail",propertyName:"detailFontFamily"},detailItalic:{objectName:"referenceLabelDetail",propertyName:"detailItalic"},detailBold:{objectName:"referenceLabelDetail",propertyName:"detailBold"},detailUnderline:{objectName:"referenceLabelDetail",propertyName:"detailUnderline"},detailTransparency:{objectName:"referenceLabelDetail",propertyName:"detailTransparency"},detailPrecision:{objectName:"referenceLabelDetail",propertyName:"detailPrecision"},detailDisplayUnits:{objectName:"referenceLabelDetail",propertyName:"detailDisplayUnits"},showBlankAs:{objectName:"referenceLabelDetail",propertyName:"showBlankAs"},detailValue:{objectName:"referenceLabelDetail",propertyName:"detailValue"},detailBackgroundColor:{objectName:"referenceLabelDetail",propertyName:"detailBackgroundColor"},customFormatString:{objectName:"referenceLabelDetail",propertyName:"customFormatString"},formatString:{objectName:"referenceLabelDetail",propertyName:"formatString"}},referenceLabelLayout:{position:{objectName:"referenceLabelLayout",propertyName:"position"},arrangement:{objectName:"referenceLabelLayout",propertyName:"arrangement"},style:{objectName:"referenceLabelLayout",propertyName:"style"},horizontalAlignment:{objectName:"referenceLabelLayout",propertyName:"horizontalAlignment"},verticalAlignment:{objectName:"referenceLabelLayout",propertyName:"verticalAlignment"},valueArea:{objectName:"referenceLabelLayout",propertyName:"valueArea"},textWrap:{objectName:"referenceLabelLayout",propertyName:"textWrap"},labelSpace:{objectName:"referenceLabelLayout",propertyName:"labelSpace"},outerPadding:{objectName:"referenceLabelLayout",propertyName:"outerPadding"},customizePadding:{objectName:"referenceLabelLayout",propertyName:"customizePadding"},paddingBeforeDivider:{objectName:"referenceLabelLayout",propertyName:"paddingBeforeDivider"},paddingAfterDivider:{objectName:"referenceLabelLayout",propertyName:"paddingAfterDivider"}},divider:{show:{objectName:"divider",propertyName:"show"},dividerColor:{objectName:"divider",propertyName:"dividerColor"},dividerLineStyle:{objectName:"divider",propertyName:"dividerLineStyle"},dividerWidth:{objectName:"divider",propertyName:"dividerWidth"},dividerIgnorePadding:{objectName:"divider",propertyName:"dividerIgnorePadding"},dividerTransparency:{objectName:"divider",propertyName:"dividerTransparency"}}},S={general:{formatString:l.e0.formatString},fillCustom:g.OV.fillCustom,outline:g.OV.outline,value:g.OV.value,label:g.OV.label,referenceLabel:y.referenceLabel,shapeCustomRectangle:g.OV.shapeCustomRectangle,layout:g.OV.layout,border:y.border,grid:y.grid,overFlow:g.OV.overFlow,shadowCustom:g.OV.shadowCustom,glowCustom:g.OV.glowCustom,spacing:g.OV.spacing,padding:g.OV.padding,accentBar:g.OV.accentBar,image:y.image,referenceLabelTitle:y.referenceLabelTitle,referenceLabelValue:y.referenceLabelValue,referenceLabelDetail:y.referenceLabelDetail,referenceLabelLayout:y.referenceLabelLayout,divider:y.divider,smallMultiplesLayout:n.WK.smallMultiplesLayout,smallMultiplesBorder:n.WK.smallMultiplesBorder,smallMultiplesGrid:n.WK.smallMultiplesGrid,smallMultiplesOverFlow:n.WK.smallMultiplesOverFlow,smallMultiplesHeader:n.WK.smallMultiplesHeader,smallMultiplesAccentBar:n.WK.smallMultiplesAccentBar,smallMultiplesCellBackGround:n.WK.smallMultiplesCellBackGround,smallMultiplesOuterShape:n.WK.smallMultiplesOuterShape},h={...(0,l.uH)({strokeShow:"show",strokePattern:"style",strokeTransparency:"transparency",strokeWidth:"width",strokeColor:"color"})},E={...(0,l.uH)({strokeShow:"show",strokePattern:"style",strokeTransparency:"transparency",strokeWidth:"width",strokeColor:"color"})},u={show:l.iD.show,[C.imageType]:{displayName:(0,i.V)("Visual_ImageType"),type:{enumeration:a.j}},[C.image]:l.iD.image,[C.imageUrl]:{displayName:(0,i.V)("Image_Url"),type:{text:!0}},[C.transparency]:l.iD.backgroundTransparency,[C.position]:{displayName:(0,i.V)("Visual_Position"),type:{enumeration:t.g4}},[C.padding]:{displayName:(0,i.V)("Visual_Space_Between_Image"),type:{integer:!0}},[C.size]:{displayName:(0,i.V)("Visual_BubbleSize"),type:{integer:!0}},[C.altText]:{displayName:(0,i.V)("Visual_General_Properties_Description"),type:{formatting:{altText:!0}}},[C.fixedSize]:{displayName:(0,i.V)("Visual_FixSize"),type:{bool:!0}},[C.imageAreaSize]:{displayName:(0,i.V)("Visual_Image_Area_Size"),type:{integer:!0}},[C.verticalAlignment]:l.iD.verticalAlignment,horizontalAlignment:l.iD.horizontalAlignment},f={[C.value]:{displayName:(0,i.V)("Visual_Add_Label"),formatStringProperty:S.referenceLabel.formatString,type:{variantDeleteEmpty:!0,variant:[{text:!0},{numeric:!0},{integer:!0},{bool:!0},{dateTime:!0},{duration:!0},{binary:!0}]}},formatString:l.iD.formatString,[C.backgroundColor]:l.iD.genericColor,[C.backgroundTransparency]:l.iD.backgroundTransparency,[C.backgroundShow]:l.iD.show},b={show:l.iD.show,[C.titleText]:{displayName:(0,i.V)("Text"),type:{text:!0}},[C.titleFontSize]:l.iD.fontSize,[C.titleFontFamily]:l.iD.fontFamily,[C.titleUnderline]:l.iD.underline,[C.titleItalic]:l.iD.italic,[C.titleBold]:l.iD.bold,[C.titleFontColor]:l.iD.genericColor,[C.titleTransparency]:l.iD.genericTransparency,[C.titleContentType]:{displayName:(0,i.V)("Content"),type:{enumeration:s.FH}}},V={show:l.iD.show,[C.valueFontColor]:l.iD.genericColor,[C.valueFontSize]:l.iD.fontSize,[C.valueFontFamily]:l.iD.fontFamily,[C.valueUnderline]:l.iD.underline,[C.valueBold]:l.iD.bold,[C.valueItalic]:l.iD.italic,[C.valueTransparency]:l.iD.genericTransparency,[C.valuePrecision]:l.iD.labelPrecision,[C.valueDisplayUnits]:{...l.iD.labelDisplayUnits,type:{enumeration:d.d}},[C.showBlankAs]:l.iD.showBlankAs,[C.customFormatString]:l.iD.dataLabelCustomFormatString},T={show:l.iD.show,[C.detailFontColor]:l.iD.fontColor,[C.detailFontSize]:l.iD.fontSize,[C.detailFontFamily]:l.iD.fontFamily,[C.detailUnderline]:l.iD.underline,[C.detailBold]:l.iD.bold,[C.detailItalic]:l.iD.italic,[C.detailTransparency]:l.iD.genericTransparency,[C.detailPrecision]:l.iD.labelPrecision,[C.detailDisplayUnits]:{...l.iD.labelDisplayUnits,type:{enumeration:d.d}},[C.showBlankAs]:l.iD.showBlankAs,[C.detailValue]:{...l.iD.dynamicLabelValue,formatStringProperty:S.referenceLabelDetail.formatString},formatString:l.iD.formatString,[C.detailBackgroundColor]:l.iD.genericColor,[C.customFormatString]:l.iD.dataLabelCustomFormatString},P={...(0,l.uH)({strokeShow:"show",strokeColor:"dividerColor",strokeTransparency:"dividerTransparency",strokeWidth:"dividerWidth",strokePattern:"dividerLineStyle"}),dividerIgnorePadding:{displayName:(0,i.V)("Visual_Divider_IgnorePadding"),type:{bool:!0}}},D={position:{displayName:(0,i.V)("Visual_Position"),type:{enumeration:p.C}},arrangement:{displayName:(0,i.V)("Visual_Arrangement"),type:{enumeration:o.b}},style:{displayName:(0,i.V)("Visual_Axis_Style"),type:{enumeration:v.e}},horizontalAlignment:l.iD.horizontalAlignment,verticalAlignment:l.iD.verticalAlignment,valueArea:{displayName:(0,i.V)("Visual_Label_ValueArea"),type:{numeric:!0}},textWrap:l.iD.textWrap,labelSpace:{displayName:(0,i.V)("Visual_LabelSpacing"),type:{numeric:!0}},outerPadding:{displayName:(0,i.V)("Visual_OuterPadding"),type:{numeric:!0}},customizePadding:{displayName:(0,i.V)("Visual_OuterPadding_Custom"),type:{bool:!0}},paddingBeforeDivider:{displayName:(0,i.V)("Visual_LabelPadding_DividerBefore"),type:{numeric:!0}},paddingAfterDivider:{displayName:(0,i.V)("Visual_LabelPadding_DividerAfter"),type:{numeric:!0}}};function w(A){return{dataRoles:M(A),objects:{general:{displayName:(0,i.V)("Visual_General"),properties:{formatString:l.iD.formatString}},[C.fill]:g.zC.fillCustom,[C.outline]:g.zC.outline,[g.eM.value]:g.zC.value,[g.eM.label]:g.zC.label,[C.shapeCustomRectangle]:g.zC.shapeCustomRectangle,[C.layout]:g.zC.layout,[C.border]:{displayName:(0,i.V)("Visual_Border"),properties:h},[C.grid]:{displayName:(0,i.V)("Visual_Grid"),properties:E},[g.eM.overFlow]:g.zC.overFlow,[C.shadowCustom]:g.zC.shadowCustom,[C.glowCustom]:g.zC.glowCustom,[C.rotation]:{displayName:(0,i.V)("Visual_BasicShape_Rotate"),properties:{[C.angle]:l.iD.genericRotation,[C.shapeRotation]:l.iD.shapeRotation,[C.textRotation]:l.iD.textRotation}},[C.spacing]:g.zC.spacing,[C.padding]:g.zC.padding,[C.accentBar]:g.zC.accentBar,[C.image]:{displayName:(0,i.V)("Images"),properties:u},[C.referenceLabel]:{displayName:(0,i.V)("Visual_Reference_Labels"),properties:f},[C.referenceLabelTitle]:{displayName:(0,i.V)("Title"),properties:b},[C.referenceLabelValue]:{displayName:(0,i.V)("Value"),properties:V},[C.referenceLabelDetail]:{displayName:(0,i.V)("Visual_Label_DetailLabelName"),properties:T},[C.referenceLabelLayout]:{displayName:(0,i.V)("Layout"),properties:D},[C.divider]:{displayName:(0,i.V)("Visual_Divider"),properties:P},[C.smallMultiplesLayout]:n.Ff.smallMultiplesLayout,[C.smallMultiplesBorder]:n.Ff.smallMultiplesBorder,[C.smallMultiplesGrid]:n.Ff.smallMultiplesGrid,[C.smallMultiplesOverFlow]:n.Ff.smallMultiplesOverFlow,[C.smallMultiplesHeader]:n.Ff.smallMultiplesHeader,[C.smallMultiplesAccentBar]:n.Ff.smallMultiplesAccentBar,[n.MS.smallMultiplesOuterShape]:n.Ff.smallMultiplesOuterShape,[n.MS.smallMultiplesCellBackGround]:n.Ff.smallMultiplesCellBackGround},dataViewMappings:[{conditions:[{[c.Rows]:{max:1}},{[c.Data]:{min:1}}],matrix:{rows:{select:[{composite:[{for:{in:c.Rows}}],dataReductionAlgorithm:{window:{count:(0,m.r8)(4,4)}}}]},values:{select:[{for:{in:c.Data}},{for:{in:c.Tooltips}}]}}}],suppressDefaultTitle:!0,supportsSelection:!1,disableFocusMode:!0,tooltips:{showByDefault:!1,supportedTypes:{default:!0,canvas:!0},roles:["Tooltips"],supportEnhancedTooltips:!0},supportsKeyboardFocus:!0,supportsOnObjectFormatting:!0,sorting:{default:{}}}}function M(A){var R=[{name:c.Data,kind:r.DW.Measure,displayName:(0,i.V)("Data"),displayOrder:0},{name:c.Tooltips,kind:r.DW.Measure,displayName:(0,i.V)("Role_DisplayName_Tooltips"),description:(0,i.V)("Role_Tooltips_Description"),joinPredicate:r.ps.None,displayOrder:2}];return A&&A.cardVisualSmallMultiples&&R.push({name:c.Rows,kind:r.DW.Grouping,displayName:(0,i.V)("Visual_Categories"),displayOrder:1,description:(0,i.V)("Role_DisplayName_SmallMultiples_Description")}),R}},147818:function(ve,j,e){e.d(j,{IT:function(){return n},Po:function(){return c},Rm:function(){return l},TL:function(){return g},VU:function(){return v},aJ:function(){return o},au:function(){return t},cartesianChartProps:function(){return s},j3:function(){return d},rJ:function(){return p},s4:function(){return m},xV:function(){return a}});var r=e(317571),i=e(847005),a={category:"Category",series:"Series",x:"X",y:"Y",y2:"Y2",gradient:"Gradient",tooltips:"Tooltips",rows:"Rows"},t={category:a.category,series:a.series,rows:a.rows,y:a.y,gradient:a.gradient,tooltips:a.tooltips},l={Rows:a.rows,Category:a.category,Series:a.series,Y:a.y,Y2:a.y2,Tooltips:a.tooltips},g={category:a.category,series:a.series,x:a.x,y:a.y,gradient:a.gradient,tooltips:a.tooltips,size:"Size",play:"Play"},n={category:a.category,y:a.y,tooltips:a.tooltips,breakdown:"Breakdown"},p={category:a.category,series:a.series,y:a.y,y2:a.y2,tooltips:a.tooltips,rows:a.rows},s={scalarKey:{min:r.i},filters:{filteredToUniqueValue:{objectName:"filters",propertyName:"filteredToUniqueValue"}},categoryAxis:{show:{objectName:"categoryAxis",propertyName:"show"},fontFamily:{objectName:"categoryAxis",propertyName:"fontFamily"},fontSize:{objectName:"categoryAxis",propertyName:"fontSize"},bold:{objectName:"categoryAxis",propertyName:"bold"},italic:{objectName:"categoryAxis",propertyName:"italic"},underline:{objectName:"categoryAxis",propertyName:"underline"},showAxisTitle:{objectName:"categoryAxis",propertyName:"showAxisTitle"},titleFontFamily:{objectName:"categoryAxis",propertyName:"titleFontFamily"},titleFontSize:{objectName:"categoryAxis",propertyName:"titleFontSize"},titleBold:{objectName:"categoryAxis",propertyName:"titleBold"},titleItalic:{objectName:"categoryAxis",propertyName:"titleItalic"},titleUnderline:{objectName:"categoryAxis",propertyName:"titleUnderline"},concatenateLabels:{objectName:"categoryAxis",propertyName:"concatenateLabels"},start:{objectName:"categoryAxis",propertyName:"start"},end:{objectName:"categoryAxis",propertyName:"end"},position:{objectName:"categoryAxis",propertyName:"position"},axisType:{objectName:"categoryAxis",propertyName:"axisType"},axisScale:{objectName:"categoryAxis",propertyName:"axisScale"},axisStyle:{objectName:"categoryAxis",propertyName:"axisStyle"},labelDisplayUnits:{objectName:"categoryAxis",propertyName:"labelDisplayUnits"},labelPrecision:{objectName:"categoryAxis",propertyName:"labelPrecision"},labelColor:{objectName:"categoryAxis",propertyName:"labelColor"},logAxisScale:{objectName:"categoryAxis",propertyName:"logAxisScale"},titleText:{objectName:"categoryAxis",propertyName:"titleText"},titleColor:{objectName:"categoryAxis",propertyName:"titleColor"},preferredCategoryWidth:{objectName:"categoryAxis",propertyName:"preferredCategoryWidth"},gridlineShow:{objectName:"categoryAxis",propertyName:"gridlineShow"},gridlineColor:{objectName:"categoryAxis",propertyName:"gridlineColor"},gridlineTransparency:{objectName:"categoryAxis",propertyName:"gridlineTransparency"},gridlineThickness:{objectName:"categoryAxis",propertyName:"gridlineThickness"},gridlineStyle:{objectName:"categoryAxis",propertyName:"gridlineStyle"},gridlineDashArray:{objectName:"categoryAxis",propertyName:"gridlineDashArray"},gridlineDashCap:{objectName:"categoryAxis",propertyName:"gridlineDashCap"},gridlineAutoScale:{objectName:"categoryAxis",propertyName:"gridlineAutoScale"},maxMarginFactor:{objectName:"categoryAxis",propertyName:"maxMarginFactor"},innerPadding:{objectName:"categoryAxis",propertyName:"innerPadding"},invertAxis:{objectName:"categoryAxis",propertyName:"invertAxis"},switchAxisPosition:{objectName:"categoryAxis",propertyName:"switchAxisPosition"}},valueAxis:{show:{objectName:"valueAxis",propertyName:"show"},fontFamily:{objectName:"valueAxis",propertyName:"fontFamily"},fontSize:{objectName:"valueAxis",propertyName:"fontSize"},bold:{objectName:"valueAxis",propertyName:"bold"},italic:{objectName:"valueAxis",propertyName:"italic"},underline:{objectName:"valueAxis",propertyName:"underline"},showAxisTitle:{objectName:"valueAxis",propertyName:"showAxisTitle"},titleFontFamily:{objectName:"valueAxis",propertyName:"titleFontFamily"},titleFontSize:{objectName:"valueAxis",propertyName:"titleFontSize"},titleBold:{objectName:"valueAxis",propertyName:"titleBold"},titleItalic:{objectName:"valueAxis",propertyName:"titleItalic"},titleUnderline:{objectName:"valueAxis",propertyName:"titleUnderline"},concatenateLabels:{objectName:"valueAxis",propertyName:"concatenateLabels"},start:{objectName:"valueAxis",propertyName:"start"},end:{objectName:"valueAxis",propertyName:"end"},invertAxis:{objectName:"valueAxis",propertyName:"invertAxis"},sharedAxis:{objectName:"valueAxis",propertyName:"sharedAxis"},scaleToFit:{objectName:"valueAxis",propertyName:"scaleToFit"},totalsEnabled:{objectName:"valueAxis",propertyName:"totalsEnabled"},position:{objectName:"valueAxis",propertyName:"position"},axisType:{objectName:"valueAxis",propertyName:"axisType"},axisScale:{objectName:"valueAxis",propertyName:"axisScale"},axisStyle:{objectName:"valueAxis",propertyName:"axisStyle"},labelDisplayUnits:{objectName:"valueAxis",propertyName:"labelDisplayUnits"},labelPrecision:{objectName:"valueAxis",propertyName:"labelPrecision"},labelColor:{objectName:"valueAxis",propertyName:"labelColor"},logAxisScale:{objectName:"valueAxis",propertyName:"logAxisScale"},titleText:{objectName:"valueAxis",propertyName:"titleText"},titleColor:{objectName:"valueAxis",propertyName:"titleColor"},preferredCategoryWidth:{objectName:"valueAxis",propertyName:"preferredCategoryWidth"},axisLabel:{objectName:"valueAxis",propertyName:"axisLabel"},gridlineShow:{objectName:"valueAxis",propertyName:"gridlineShow"},gridlineColor:{objectName:"valueAxis",propertyName:"gridlineColor"},gridlineTransparency:{objectName:"valueAxis",propertyName:"gridlineTransparency"},gridlineThickness:{objectName:"valueAxis",propertyName:"gridlineThickness"},gridlineStyle:{objectName:"valueAxis",propertyName:"gridlineStyle"},gridlineDashArray:{objectName:"valueAxis",propertyName:"gridlineDashArray"},gridlineDashCap:{objectName:"valueAxis",propertyName:"gridlineDashCap"},gridlineAutoScale:{objectName:"valueAxis",propertyName:"gridlineAutoScale"},secShow:{objectName:"valueAxis",propertyName:"secShow"},alignZeros:{objectName:"valueAxis",propertyName:"alignZeros"},secShowAxisTitle:{objectName:"valueAxis",propertyName:"secShowAxisTitle"},secFontFamily:{objectName:"valueAxis",propertyName:"secFontFamily"},secFontSize:{objectName:"valueAxis",propertyName:"secFontSize"},secBold:{objectName:"valueAxis",propertyName:"secBold"},secItalic:{objectName:"valueAxis",propertyName:"secItalic"},secUnderline:{objectName:"valueAxis",propertyName:"secUnderline"},secTitleFontFamily:{objectName:"valueAxis",propertyName:"secTitleFontFamily"},secTitleFontSize:{objectName:"valueAxis",propertyName:"secTitleFontSize"},secTitleBold:{objectName:"valueAxis",propertyName:"secTitleBold"},secTitleItalic:{objectName:"valueAxis",propertyName:"secTitleItalic"},secTitleUnderline:{objectName:"valueAxis",propertyName:"secTitleUnderline"},secStart:{objectName:"valueAxis",propertyName:"secStart"},secEnd:{objectName:"valueAxis",propertyName:"secEnd"},secInvertAxis:{objectName:"valueAxis",propertyName:"secInvertAxis"},secPosition:{objectName:"valueAxis",propertyName:"secPosition"},secAxisScale:{objectName:"valueAxis",propertyName:"secAxisScale"},secAxisStyle:{objectName:"valueAxis",propertyName:"secAxisStyle"},secLogAxisScale:{objectName:"valueAxis",propertyName:"secLogAxisScale"},secLabelDisplayUnits:{objectName:"valueAxis",propertyName:"secLabelDisplayUnits"},secLabelPrecision:{objectName:"valueAxis",propertyName:"secLabelPrecision"},secLabelColor:{objectName:"valueAxis",propertyName:"secLabelColor"},secTitleText:{objectName:"valueAxis",propertyName:"secTitleText"},secTitleColor:{objectName:"valueAxis",propertyName:"secTitleColor"},switchAxisPosition:{objectName:"valueAxis",propertyName:"switchAxisPosition"}},y2Axis:{show:{objectName:"y2Axis",propertyName:"show"},secShowAxisTitle:{objectName:"y2Axis",propertyName:"secShowAxisTitle"},secFontFamily:{objectName:"y2Axis",propertyName:"secFontFamily"},secFontSize:{objectName:"y2Axis",propertyName:"secFontSize"},secBold:{objectName:"y2Axis",propertyName:"secBold"},secItalic:{objectName:"y2Axis",propertyName:"secItalic"},secUnderline:{objectName:"y2Axis",propertyName:"secUnderline"},secTitleFontFamily:{objectName:"y2Axis",propertyName:"secTitleFontFamily"},secTitleFontSize:{objectName:"y2Axis",propertyName:"secTitleFontSize"},secTitleBold:{objectName:"y2Axis",propertyName:"secTitleBold"},secTitleItalic:{objectName:"y2Axis",propertyName:"secTitleItalic"},secTitleUnderline:{objectName:"y2Axis",propertyName:"secTitleUnderline"},secStart:{objectName:"y2Axis",propertyName:"secStart"},secEnd:{objectName:"y2Axis",propertyName:"secEnd"},secInvertAxis:{objectName:"y2Axis",propertyName:"secInvertAxis"},secAxisScale:{objectName:"y2Axis",propertyName:"secAxisScale"},secAxisStyle:{objectName:"y2Axis",propertyName:"secAxisStyle"},secLabelDisplayUnits:{objectName:"y2Axis",propertyName:"secLabelDisplayUnits"},secLabelPrecision:{objectName:"y2Axis",propertyName:"secLabelPrecision"},secLabelColor:{objectName:"y2Axis",propertyName:"secLabelColor"},secLogAxisScale:{objectName:"y2Axis",propertyName:"secLogAxisScale"},secTitleText:{objectName:"y2Axis",propertyName:"secTitleText"},secTitleColor:{objectName:"y2Axis",propertyName:"secTitleColor"},invertAxis:{objectName:"y2Axis",propertyName:"invertAxis"}},general:{responsive:{objectName:"general",propertyName:"responsive"},responsiveLegacy:{objectName:"general",propertyName:"responsiveLegacy"},formatString:{objectName:"general",propertyName:"formatString"}},plotArea:{image:{objectName:"plotArea",propertyName:"image"},transparency:{objectName:"plotArea",propertyName:"transparency"}},dataPoint:{defaultColor:{objectName:"dataPoint",propertyName:"defaultColor"},fill:{objectName:"dataPoint",propertyName:"fill"}},legend:{},annotationTemplates:{callout:i.Wv}},d={generic:"referenceLine",x:"xAxisReferenceLine",y1:"y1AxisReferenceLine"},o={show:"show",displayName:"displayName",value:"value",position:"position",...i.vi,shadeShow:"shadeShow",shadeRegion:"shadeRegion",shadeColor:"shadeColor",shadeColorMatchStroke:"shadeColorMatchStroke",shadeTransparency:"shadeTransparency",dataLabelShow:"dataLabelShow",dataLabelColor:"dataLabelColor",dataLabelText:"dataLabelText",dataLabelDecimalPoints:"dataLabelDecimalPoints",dataLabelHorizontalPosition:"dataLabelHorizontalPosition",dataLabelVerticalPosition:"dataLabelVerticalPosition",dataLabelDisplayUnits:"dataLabelDisplayUnits"},v={show:"show",displayName:"displayName",lineColor:"lineColor",transparency:"transparency",style:"style",combineSeries:"combineSeries",useHighlightValues:"useHighlightValues"},m="trend",c="forecast"},112754:function(ve,j,e){e.d(j,{IO:function(){return p},Ns:function(){return d},columnChartProps:function(){return v},gE:function(){return s},nn:function(){return o}});var r=e(251868),i=e(630881),a=e(33199),t=e(281210),l=e(336596),g=e(147818),n=e(847005),p={borderShow:{displayName:(0,t.V)("Visual_Border"),type:{bool:!0}},borderSize:n.iD.width,borderColorMatchFill:{displayName:(0,t.V)("Visual_MatchFillColor"),description:(0,t.V)("Visual_MatchFillColor_Description"),type:{bool:!0}},borderColor:n.iD.genericColor,borderTransparency:n.iD.genericTransparency},s=(0,r.wZ)(d(!1,!1,!1,!1,!0));function d(m=!1,c=!1,C=!1,y=!1,S=!1){var h=C||c&&!y;return{general:{displayName:(0,t.V)("Visual_General"),properties:{formatString:n.iD.formatString,responsive:n.iD.responsive,responsiveLegacy:n.iD.responsiveLegacy}},legend:{displayName:n.TQ.legend.displayName,description:n.TQ.legend.description,properties:{...n.TQ.legend.properties,showGradientLegend:n.iD.showGradientLegend}},subheader:n.TQ.subheader,[l.Xi]:n.TQ.smallMultiplesLayout,categoryAxis:{displayName:(0,t.V)(m?"Visual_YAxis":"Visual_XAxis"),properties:{show:n.iD.show,...n.pT,...n.Mu,...n.wF,...(0,n.Me)(m?"y":"x"),...n.WV,switchAxisPosition:n.iD.switchAxisPosition}},valueAxis:{displayName:(0,t.V)(m?"Visual_XAxis":"Visual_YAxis"),properties:{show:n.iD.show,...n.yl,...n.wF,...(0,n.Me)(m?"x":"y"),...n.WV,switchAxisPosition:n.iD.switchAxisPosition}},zoom:{displayName:n.TQ.zoom.displayName,properties:{show:n.TQ.zoom.properties.show,showOnCategoryAxis:{displayName:(0,t.V)(m?"Visual_YAxis":"Visual_XAxis"),type:{bool:!0}},categoryMin:n.TQ.zoom.properties.categoryMin,categoryMax:n.TQ.zoom.properties.categoryMax,categorySize:n.TQ.zoom.properties.categorySize,showOnValueAxis:{displayName:(0,t.V)(m?"Visual_XAxis":"Visual_YAxis"),type:{bool:!0}},valueMin:n.TQ.zoom.properties.valueMin,valueMax:n.TQ.zoom.properties.valueMax,valueSize:n.TQ.zoom.properties.valueSize,showLabels:n.TQ.zoom.properties.showLabels,showTooltip:n.TQ.zoom.properties.showTooltip}},dataPoint:{displayName:(0,t.V)("Visual_DataPoint"),description:(0,t.V)("Visual_DataPointDescription"),properties:{defaultColor:{...n.iD.defaultColor,...y&&{displayName:(0,t.V)("Visual_DefaultColumnColor")}},fill:n.iD.genericColor,fillRule:{displayName:(0,t.V)("Visual_Gradient"),type:{fillRule:{}},rule:{inputRole:g.au.gradient,output:{property:"fill",selector:[g.au.category]}}},fillTransparency:n.iD.genericTransparency,...p,...(c||S)&&{borderOutlineOnly:n.iD.borderOutlineOnly}}},layout:{displayName:(0,t.V)("Layout"),properties:{seriesOrderReversed:n.iD.seriesOrderReversed,seriesOrderSorted:n.iD.seriesOrderSorted,...(c||S)&&{stackedGapSize:n.iD.stackedGapSize,...(!y||S)&&{stackedGapExplodes:n.iD.stackedGapExplodes}},...(!c||S)&&{clusteredGapSize:n.iD.clusteredGapSize,clusteredGapOverlaps:n.iD.clusteredGapOverlaps,clusteredGapOverlapReverse:n.iD.clusteredGapOverlapReverse},...(h||S)&&{ribbonGapSize:n.iD.ribbonGapSize}}},labels:{displayName:(0,t.V)("Visual_DataPointsLabels"),description:(0,t.V)("Visual_DataPointsLabelsDescription"),properties:{show:n.iD.show,showByDefault:n.iD.boolWithoutDescription,showSeries:n.iD.show,showAll:n.iD.labelSeriesShowAll,...n.Zt,labelOrientation:n.iD.labelOrientation,labelOverflow:{displayName:(0,t.V)("Visual_LabelOverflow"),description:(0,t.V)("Visual_LabelOverflow_Description"),type:{bool:!0}},wordWrap:n.iD.wordWrap,...n.BO,...n.t_,...n.QN,...n.Xn,...n.gq,labelContentLayout:n.iD.labelContentLayout,horizontalAlignment:n.iD.horizontalAlignment}},...(c||S)&&{totals:n.TQ.totalsWithNet},plotArea:n.TQ.plotArea,[g.j3.y1]:{displayName:(0,t.V)("Visual_Reference_Line"),description:(0,t.V)("Visual_Reference_Line_Description"),objectCategory:i.fv.Analytics,suppressFormatPainterCopy:!0,properties:n.I3},[g.j3.x]:{displayName:(0,t.V)("Visual_Reference_Line_X"),description:(0,t.V)("Visual_Reference_Line_Description"),objectCategory:i.fv.Analytics,suppressFormatPainterCopy:!0,properties:n.Hk},trend:(0,n.Fe)(!0),error:{displayName:n.TQ.error.displayName,objectCategory:n.TQ.error.objectCategory,suppressFormatPainterCopy:n.TQ.error.suppressFormatPainterCopy,properties:{enabled:n.TQ.error.properties.enabled,errorRange:n.TQ.error.properties.errorRange,barShow:n.TQ.error.properties.barShow,barMatchSeriesColor:n.TQ.error.properties.barMatchSeriesColor,barColor:n.TQ.error.properties.barColor,barWidth:n.TQ.error.properties.barWidth,barBorderColor:n.TQ.error.properties.barBorderColor,barBorderSize:n.TQ.error.properties.barBorderSize,markerShow:n.TQ.error.properties.markerShow,markerShape:n.TQ.error.properties.markerShape,markerSize:n.TQ.error.properties.markerSize,labelShow:n.TQ.error.properties.labelShow,labelFontFamily:n.TQ.error.properties.labelFontFamily,labelFontSize:n.TQ.error.properties.labelFontSize,labelBold:n.TQ.error.properties.labelBold,labelItalic:n.TQ.error.properties.labelItalic,labelUnderline:n.TQ.error.properties.labelUnderline,labelColor:n.TQ.error.properties.labelColor,labelMatchSeriesColor:n.TQ.error.properties.labelMatchSeriesColor,labelFormat:n.TQ.error.properties.labelFormat,labelBackground:n.TQ.error.properties.labelBackground,labelBackgroundColor:n.TQ.error.properties.labelBackgroundColor,labelBackgroundTransparency:n.TQ.error.properties.labelBackgroundTransparency,tooltipShow:n.TQ.error.properties.tooltipShow,tooltipFormat:n.TQ.error.properties.tooltipFormat}},filters:{properties:{filteredToUniqueValue:{type:{bool:!0}}}},...(!c||S)&&{[g.j3.generic]:{displayName:(0,t.V)("Visual_Reference_Line"),description:(0,t.V)("Visual_Reference_Line_Description"),objectCategory:i.fv.Analytics,suppressFormatPainterCopy:!0,properties:n.I3}},...(h||S)&&{ribbonBands:{displayName:(0,t.V)("RibbonChart"),description:(0,t.V)("RibbonChart_Description"),properties:{show:n.iD.show,fillMatchColor:{displayName:(0,t.V)("RibbonChart_Color"),description:(0,t.V)("RibbonChart_ColorDescription"),type:{bool:!0}},fillColor:n.iD.genericColor,fillTransparency:n.iD.genericTransparency,...p}}},...(0,n.A5)({callout:!0},!0)}}function o(m=!1,c=!1,C=!1,y){var T,P,D,w,S=y?.cartesianConditionalFormatting,h=y?.useModernFormatPane;return{dataRoles:(T=m,P=S,D=h,w=[{name:g.au.category,kind:i.DW.Grouping,displayName:(0,t.V)(D?T?"Visual_YAxis_Hyphen":"Visual_XAxis_Hyphen":"Role_DisplayName_Axis"),displayOrder:1,description:(0,t.V)("Role_DisplayName_AxisDescription"),cartesianKind:i.Lv.X},{name:g.au.series,kind:i.DW.Grouping,displayName:(0,t.V)("Role_DisplayName_Legend"),displayOrder:D?3:2,description:(0,t.V)("Role_DisplayName_LegendDescription")},{name:g.au.y,kind:i.DW.Measure,displayName:(0,t.V)(D?T?"Visual_XAxis_Hyphen":"Visual_YAxis_Hyphen":"Role_DisplayName_Values"),displayOrder:D?2:3,description:(0,t.V)("Role_DisplayName_ValuesDescription"),requiredTypes:[{numeric:!0},{integer:!0}],cartesianKind:i.Lv.Y}],P||w.push({name:g.au.gradient,kind:i.DW.Measure,displayName:(0,t.V)("Role_DisplayName_Gradient"),displayOrder:4,description:(0,t.V)("Role_DisplayName_GradientDescription"),requiredTypes:[{numeric:!0},{integer:!0}],joinPredicate:i.ps.None}),w.push({name:g.au.rows,kind:i.DW.Grouping,displayName:(0,t.V)("Role_DisplayName_SmallMultiples"),displayOrder:5,description:(0,t.V)("Role_DisplayName_SmallMultiples_Description"),disallowedWithVisualCalculations:!0}),w.push({name:g.au.tooltips,kind:i.DW.Measure,displayName:(0,t.V)("Role_DisplayName_Tooltips"),displayOrder:6,description:(0,t.V)("Role_Tooltips_Description"),joinPredicate:i.ps.None}),w),objects:d(m,c,C,void 0,void 0),dataViewMappings:[{conditions:[{[g.au.rows]:{min:1},[g.au.series]:{max:0}},{[g.au.rows]:{min:1},[g.au.series]:{min:1,max:1},[g.au.y]:{max:1}},{[g.au.rows]:{min:1},[g.au.series]:{min:1,max:1},[g.au.y]:{max:0}}],matrix:{rows:{select:[{composite:[{for:{in:g.au.rows}}],dataReductionAlgorithm:{window:{count:l.QS}}},{composite:[{for:{in:g.au.category}}],synchronized:!0,dataReductionAlgorithm:{top:{}}}]},columns:{for:{in:g.au.series},dataReductionAlgorithm:{top:{}}},values:{select:[{for:{in:g.au.y}},{for:{in:g.au.tooltips}}]},dataVolume:6}},{conditions:[{[g.au.rows]:{max:0},[g.au.series]:{max:0},[g.au.gradient]:{max:0}},{[g.au.rows]:{max:0},[g.au.series]:{min:1,max:1},[g.au.y]:{max:1},[g.au.gradient]:{max:0}},{[g.au.rows]:{max:0},[g.au.series]:{max:0},[g.au.y]:{min:0,max:1},[g.au.gradient]:{max:1}}],categorical:{categories:{for:{in:g.au.category},dataReductionAlgorithm:{window:{count:200}}},values:{group:{by:g.au.series,select:[{for:{in:g.au.y}},{bind:{to:g.au.gradient}},{for:{in:g.au.tooltips}}],dataReductionAlgorithm:{top:{count:60}}}},rowCount:{preferred:{min:2},supported:{min:0}}}},{conditions:[{[g.xV.rows]:{max:0},[g.au.series]:{max:0},[g.au.gradient]:{max:0}},{[g.xV.rows]:{max:0},[g.au.series]:{min:1,max:1},[g.au.y]:{max:1},[g.au.gradient]:{max:0}},{[g.xV.rows]:{max:0},[g.au.series]:{max:0},[g.au.y]:{min:0,max:1},[g.au.gradient]:{max:1}}],requiredProperties:[{objectName:"trend",propertyName:"show"}],usage:{regression:{combineSeries:{objectName:"trend",propertyName:"combineSeries"}}},categorical:{categories:{for:{in:"regression.X"}},values:{group:{by:"regression.Series",select:[{for:{in:"regression.Y"}}]}}}}],supportsHighlight:!0,tooltips:{supportedTypes:{default:!0,canvas:!0},roles:[g.au.tooltips],supportEnhancedTooltips:!0},sorting:{default:{}},drilldown:{roles:[g.au.category]},annotationTemplates:(0,n.kW)({callout:!0}),grouping:{groupingRules:[{condition:{[g.au.category]:{min:1,max:1},[g.au.y]:{min:1,max:1},[g.au.series]:{max:0},[g.au.gradient]:{max:0}},groupingTargetRole:g.au.series,kind:a.t.Color},{condition:{[g.au.category]:{min:1,max:1},[g.au.y]:{min:1},[g.au.series]:{max:0},[g.au.gradient]:{max:0}},groupingTargetRole:g.au.category,kind:a.t.GroupInPlace},{condition:{[g.au.category]:{min:1,max:1},[g.au.y]:{min:0,max:1},[g.au.series]:{max:0},[g.au.gradient]:{max:1}},groupingTargetRole:g.au.category,kind:a.t.GroupInPlace},{condition:{[g.au.category]:{max:0},[g.au.y]:{min:1,max:1},[g.au.series]:{max:1},[g.au.gradient]:{max:0}},groupingTargetRole:g.au.series,kind:a.t.Color}]},supportsMultiVisualSelection:!0,supportsKeyboardFocus:!0,expandAndSort:m?[]:[g.au.category],supportsOnObjectFormatting:!0}}var v={dataPoint:{defaultCategoryColor:{objectName:"dataPoint",propertyName:"defaultCategoryColor"}},labels:{show:{objectName:"labels",propertyName:"show"},showByDefault:{objectName:"labels",propertyName:"showByDefault"},showSeries:{objectName:"labels",propertyName:"showSeries"},color:{objectName:"labels",propertyName:"color"},labelContentLayout:{objectName:"labels",propertyName:"labelContentLayout"},labelDisplayUnits:{objectName:"labels",propertyName:"labelDisplayUnits"},valueCustomFormatString:{objectName:"labels",propertyName:"valueCustomFormatString"},labelPrecision:{objectName:"labels",propertyName:"labelPrecision"},labelOrientation:{objectName:"labels",propertyName:"labelOrientation"},labelPosition:{objectName:"labels",propertyName:"labelPosition"},enableBackground:{objectName:"labels",propertyName:"enableBackground"},backgroundColor:{objectName:"labels",propertyName:"backgroundColor"},backgroundTransparency:{objectName:"labels",propertyName:"backgroundTransparency"},labelOverflow:{objectName:"labels",propertyName:"labelOverflow"},showAll:{objectName:"labels",propertyName:"showAll"},fontSize:{objectName:"labels",propertyName:"fontSize"},bold:{objectName:"labels",propertyName:"bold"},italic:{objectName:"labels",propertyName:"italic"},underline:{objectName:"labels",propertyName:"underline"},fontFamily:{objectName:"labels",propertyName:"fontFamily"},labelDensity:{objectName:"labels",propertyName:"labelDensity"},showDynamicLabels:{objectName:"labels",propertyName:"showDynamicLabels"},dynamicLabelValue:{objectName:"labels",propertyName:"dynamicLabelValue"},enableValueDataLabel:{objectName:"labels",propertyName:"enableValueDataLabel"},showBlankAs:{objectName:"labels",propertyName:"showBlankAs"},transparency:{objectName:"labels",propertyName:"transparency"},wordWrap:{objectName:"labels",propertyName:"wordWrap"},titleFontSize:{objectName:"labels",propertyName:"titleFontSize"},titleBold:{objectName:"labels",propertyName:"titleBold"},titleItalic:{objectName:"labels",propertyName:"titleItalic"},titleUnderline:{objectName:"labels",propertyName:"titleUnderline"},titleFontFamily:{objectName:"labels",propertyName:"titleFontFamily"},titleColor:{objectName:"labels",propertyName:"titleColor"},titleTransparency:{objectName:"labels",propertyName:"titleTransparency"},titleLabelDisplayUnits:{objectName:"labels",propertyName:"titleLabelDisplayUnits"},titleCustomFormatString:{objectName:"labels",propertyName:"titleCustomFormatString"},titleLabelPrecision:{objectName:"labels",propertyName:"titleLabelPrecision"},titleShowBlankAs:{objectName:"labels",propertyName:"titleShowBlankAs"},titleContentType:{objectName:"labels",propertyName:"titleContentType"},enableTitleDataLabel:{objectName:"labels",propertyName:"enableTitleDataLabel"},dynamicLabelTitle:{objectName:"labels",propertyName:"dynamicLabelTitle"},detailFontSize:{objectName:"labels",propertyName:"detailFontSize"},detailBold:{objectName:"labels",propertyName:"detailBold"},detailItalic:{objectName:"labels",propertyName:"detailItalic"},dynamicLabelDetail:{objectName:"labels",propertyName:"dynamicLabelDetail"},detailUnderline:{objectName:"labels",propertyName:"detailUnderline"},detailFontFamily:{objectName:"labels",propertyName:"detailFontFamily"},detailColor:{objectName:"labels",propertyName:"detailColor"},detailTransparency:{objectName:"labels",propertyName:"detailTransparency"},enableDetailDataLabel:{objectName:"labels",propertyName:"enableDetailDataLabel"},detailLabelDisplayUnits:{objectName:"labels",propertyName:"detailLabelDisplayUnits"},detailCustomFormatString:{objectName:"labels",propertyName:"detailCustomFormatString"},detailLabelPrecision:{objectName:"labels",propertyName:"detailLabelPrecision"},detailShowBlankAs:{objectName:"labels",propertyName:"detailShowBlankAs"},detailContentType:{objectName:"labels",propertyName:"detailContentType"},optimizeLabelDisplay:{objectName:"labels",propertyName:"optimizeLabelDisplay"},labelContainerMaxWidth:{objectName:"labels",propertyName:"labelContainerMaxWidth"},horizontalAlignment:{objectName:"labels",propertyName:"horizontalAlignment"}},legend:{labelColor:{objectName:"legend",propertyName:"labelColor"}},totals:{show:{objectName:"totals",propertyName:"show"},color:{objectName:"totals",propertyName:"color"},labelDisplayUnits:{objectName:"totals",propertyName:"labelDisplayUnits"},labelPrecision:{objectName:"totals",propertyName:"labelPrecision"},enableBackground:{objectName:"totals",propertyName:"enableBackground"},backgroundColor:{objectName:"totals",propertyName:"backgroundColor"},backgroundTransparency:{objectName:"totals",propertyName:"backgroundTransparency"},fontSize:{objectName:"totals",propertyName:"fontSize"},fontFamily:{objectName:"totals",propertyName:"fontFamily"},bold:{objectName:"totals",propertyName:"bold"},italic:{objectName:"totals",propertyName:"italic"},underline:{objectName:"totals",propertyName:"underline"},showPositiveAndNegative:{objectName:"totals",propertyName:"showPositiveAndNegative"}}}},515996:function(ve,j,e){e.d(j,{O:function(){return d},p:function(){return o}});var r=e(251868),i=e(630881),a=e(33199),t=e(281210),l=e(336596),g=e(147818),n=e(112754),p=e(847005),s=e(223789),d=(0,r.wZ)(o(!0).objects);function o(m,c){var C=(0,n.Ns)(!1,m,!1,!0),y=(0,s.My)(!1,!1,!0);return{dataRoles:[{name:g.rJ.category,kind:i.DW.Grouping,displayName:(0,t.V)(c?.useModernFormatPane?"Visual_XAxis_Hyphen":"Role_ComboChart_Category"),displayOrder:1,description:(0,t.V)("Role_ComboChart_CategoryDescription"),cartesianKind:i.Lv.X},{name:g.rJ.series,kind:i.DW.Grouping,displayName:(0,t.V)(c?.useModernFormatPane?"Role_ComboChart_Legend":"Role_ComboChart_Series"),displayOrder:c?.useModernFormatPane?4:2},{name:g.rJ.y,kind:i.DW.Measure,displayName:(0,t.V)(c?.useModernFormatPane?"Role_ComboChart_Y_Axis":"Role_ComboChart_Y"),displayOrder:c?.useModernFormatPane?2:3,description:(0,t.V)("Role_ComboChart_YDescription"),requiredTypes:[{numeric:!0},{integer:!0}],cartesianKind:i.Lv.Y},{name:g.rJ.y2,kind:i.DW.Measure,displayName:(0,t.V)(c?.useModernFormatPane?"Role_ComboChart_Y2_Axis":"Role_ComboChart_Y2"),displayOrder:c?.useModernFormatPane?3:4,description:(0,t.V)("Role_ComboChart_Y2Description"),requiredTypes:[{numeric:!0},{integer:!0}],cartesianKind:i.Lv.Y},{name:g.rJ.rows,kind:i.DW.Grouping,displayName:(0,t.V)("Role_DisplayName_SmallMultiples"),displayOrder:5,description:(0,t.V)("Role_DisplayName_SmallMultiples_Description"),disallowedWithVisualCalculations:!0},{name:g.rJ.tooltips,kind:i.DW.Measure,displayName:(0,t.V)("Role_DisplayName_Tooltips"),displayOrder:6,description:(0,t.V)("Role_Tooltips_Description"),joinPredicate:i.ps.None}],objects:{general:{displayName:(0,t.V)("Visual_General"),properties:{formatString:p.iD.formatString,visualType1:{type:{text:!0}},visualType2:{type:{text:!0}},responsive:p.iD.responsive,responsiveLegacy:p.iD.responsiveLegacy}},legend:{displayName:p.TQ.legend.displayName,description:p.TQ.legend.description,properties:{...p.TQ.legend.properties,legendMarkerRendering:p.iD.legendMarkerRendering,matchLineColor:p.iD.matchLineColor}},subheader:{...p.TQ.subheader},[l.Xi]:p.TQ.smallMultiplesLayout,categoryAxis:{displayName:(0,t.V)("Visual_XAxis"),properties:{show:p.iD.show,...p.pT,...p.Mu,...p.wF,...p.WV,...(0,p.Me)("x"),reverseStackOrder:p.iD.reverseStackOrder}},valueAxis:{displayName:(0,t.V)("Visual_YAxis"),properties:{show:p.iD.show,...p.yl,...p.wF,...(0,p.Me)("y"),...p.WV,switchAxisPosition:p.iD.switchAxisPosition,axisLabel:{displayName:(0,t.V)("Visual_YAxis_ColumnTitle"),type:{none:!0}},...p.sJ}},zoom:{displayName:p.TQ.zoom.displayName,properties:{...p.TQ.zoom.properties,...p.DW.zoom.properties}},dataPoint:{displayName:(0,t.V)("Visual_DataPoint"),description:(0,t.V)("Visual_DataPointDescription"),properties:{...C.dataPoint.properties,transparency:y.dataPoint.properties.transparency}},layout:C.layout,lineStyles:y.lineStyles,markers:y.markers,labels:{displayName:(0,t.V)("Visual_DataPointsLabels"),description:(0,t.V)("Visual_DataPointsLabelsDescription"),properties:{show:p.iD.show,showByDefault:p.iD.boolWithoutDescription,showSeries:p.iD.show,showAll:p.iD.labelSeriesShowAll,...p.Zt,labelOrientation:p.iD.labelOrientation,...p.BO,...p.t_,...p.QN,...p.Xn,...p.gq,labelDisplayUnits:p.iD.dataLabelDisplayUnits,labelContentLayout:p.iD.labelContentLayout}},seriesLabels:p.TQ.seriesLabels,error:p.TQ.error,plotArea:p.TQ.plotArea,filters:{properties:{filteredToUniqueValue:{type:{bool:!0}}}},[g.j3.x]:{displayName:(0,t.V)("Visual_Reference_Line_X"),description:(0,t.V)("Visual_Reference_Line_Description"),objectCategory:i.fv.Analytics,suppressFormatPainterCopy:!0,properties:p.Hk},[g.j3.y1]:{displayName:(0,t.V)("Visual_Reference_Line_Y"),description:(0,t.V)("Visual_Reference_Line_Description"),objectCategory:i.fv.Analytics,suppressFormatPainterCopy:!0,properties:p.I3},...!m&&{[g.j3.generic]:{displayName:(0,t.V)("Visual_Reference_Line"),description:(0,t.V)("Visual_Reference_Line_Description"),objectCategory:i.fv.Analytics,suppressFormatPainterCopy:!0,properties:p.I3}},...m&&{totals:p.TQ.totalsWithNet},...!m&&{trend:(0,p.Fe)(!0)},...(0,p.A5)({callout:!0},!0)},dataViewMappings:[{conditions:[{Series:{max:0},[g.rJ.rows]:{max:0}},{Series:{min:1,max:1},Y:{max:1},[g.rJ.rows]:{max:0}}],categorical:{categories:{for:{in:"Category"},dataReductionAlgorithm:{window:{count:200}}},values:{group:{by:"Series",select:[{for:{in:"Y"}},{for:{in:"Tooltips"}}],dataReductionAlgorithm:{top:{count:60}}}},rowCount:{preferred:{min:2},supported:{min:0}}}},{conditions:[{Series:{max:0},Y2:{min:1},[g.rJ.rows]:{max:0}},{Series:{min:1,max:1},Y:{max:1},Y2:{min:1},[g.rJ.rows]:{max:0}}],categorical:{categories:{for:{in:"Category"},dataReductionAlgorithm:{window:{count:200}}},values:{select:[{for:{in:"Y2"}}]},rowCount:{preferred:{min:2},supported:{min:0}}}},{conditions:[{Series:{max:0},[g.rJ.rows]:{max:0}},{Series:{min:1,max:1},Y:{max:1},[g.rJ.rows]:{max:0}}],requiredProperties:[{objectName:"trend",propertyName:"show"}],usage:{regression:{combineSeries:{objectName:"trend",propertyName:"combineSeries"}}},categorical:{categories:{for:{in:"regression.X"}},values:{group:{by:"regression.Series",select:[{for:{in:"regression.Y"}}]}}}},{conditions:[{[g.rJ.series]:{max:0},[g.rJ.rows]:{min:1}}],matrix:v(!1)},{conditions:[{[g.rJ.series]:{min:1,max:1},[g.rJ.y]:{max:1},[g.rJ.rows]:{min:1}}],matrix:v(!0)}],supportsHighlight:!0,sorting:{default:{}},drilldown:{roles:["Category"]},grouping:{groupingRules:[{condition:{Category:{min:1,max:1},Y:{min:1,max:1},Series:{max:0},Gradient:{max:0}},groupingTargetRole:"Series",kind:a.t.Color},{condition:{Category:{max:0},Y:{min:1,max:1},Series:{min:1,max:1},Gradient:{max:0}},groupingTargetRole:"Series",kind:a.t.Color}]},supportsMultiVisualSelection:!0,tooltips:{supportedTypes:{default:!0,canvas:!0},roles:["Tooltips"],supportEnhancedTooltips:!0},supportsKeyboardFocus:!0,expandAndSort:[g.au.category],supportsOnObjectFormatting:!0,suppressVisualCalc:!c?.visualCalculationOnComboChart,annotationTemplates:(0,p.kW)({callout:!0})}}function v(m){var c={rows:{select:[{composite:[{for:{in:g.rJ.rows}}],dataReductionAlgorithm:{window:{count:l.QS}}},{composite:[{for:{in:g.rJ.category}}],synchronized:!0,dataReductionAlgorithm:{sample:{}}}]},columns:{for:{in:g.rJ.series},dataReductionAlgorithm:{top:{}}},values:{select:[{for:{in:g.rJ.y}},{for:{in:g.rJ.tooltips}}]},dataVolume:6};return m?c.rows.values={select:[{for:{in:g.rJ.y2}}]}:c.values.select.push({for:{in:g.rJ.y2}}),c}},678359:function(ve,j,e){e.d(j,{KK:function(){return a},Qw:function(){return l},Te:function(){return g},YE:function(){return n},iu:function(){return t}});var r=e(630881),i=e(847005),a={values:"Values"},t={objectName:"general",propertyName:"formatString"},l={objectName:"overrideDataReduction",propertyName:"count"},g={objectName:"columnOptions",propertyName:"suppressJoinPredicate"},n={dataRoles:[{name:"Values",kind:r.DW.GroupingOrMeasure}],objects:{general:{properties:{formatString:i.iD.formatString}},overrideDataReduction:{properties:{count:{type:{numeric:!0}}}},columnOptions:{properties:{suppressJoinPredicate:{type:{bool:!0}}}}},dataViewMappings:[{table:{rows:{for:{in:"Values"},dataReductionAlgorithm:{top:{count:2}}}}}]}},847005:function(ve,j,e){e.d(j,{PO:function(){return Ue},WV:function(){return Je},pT:function(){return ot},wF:function(){return se},Mu:function(){return Ve},yl:function(){return ke},Ns:function(){return I},d4:function(){return K},KG:function(){return L},Wv:function(){return Dt},PP:function(){return Ne},iQ:function(){return Qe},Oc:function(){return pe},Qx:function(){return Et},BO:function(){return J},gq:function(){return te},t_:function(){return Z},Zt:function(){return Q},Xn:function(){return re},QN:function(){return X},hk:function(){return q},r8:function(){return Se},I3:function(){return Ae},xF:function(){return Ke},Hk:function(){return we},sJ:function(){return x},DW:function(){return Ot},u0:function(){return me},TQ:function(){return Ie},N_:function(){return lt},iD:function(){return O},e0:function(){return bt},PK:function(){return je},ZB:function(){return Ce},Hs:function(){return he},vi:function(){return Ct},GY:function(){return H},kW:function(){return $e},A5:function(){return Fe},Me:function(){return ft},uH:function(){return Oe},pN:function(){return xe},CG:function(){return Ee},Fe:function(){return ut}});var r=e(251868),i=e(630881),a=e(281210),t=e(56604),l=e(650543),g=e(326189),n=e(846552),p=e(850234),o=(0,t.i)([{value:"Number of bins",displayName:qe=>qe.get("BinsDialog_ModeByCount")},{value:"Bin size",displayName:qe=>qe.get("BinsDialog_ModeBySize")}]),v=e(807341),m=e(465404),c=e(835119),C=e(99676),y=e(323205),S=e(519137),h=e(908976),E=e(534562),u=e(549915),f=e(576255),b=e(501327),V=e(74443),T=e(124374),P=e(538451),D=e(41394),w=e(966740),M=e(55778),A=e(109471),R=e(641702),B=e(464464),N=e(2065),W=e(469768),F=e(41534),U=e(230711),O={axisEnd:{displayName:(0,a.V)("Visual_Axis_End"),description:(0,a.V)("Visual_Axis_EndDescription"),placeHolderText:(0,a.V)("Visual_Auto"),type:{variant:[{numeric:!0},{dateTime:!0}]},suppressFormatPainterCopy:!0},axisStart:{displayName:(0,a.V)("Visual_Axis_Start"),description:(0,a.V)("Visual_Axis_StartDescription"),placeHolderText:(0,a.V)("Visual_Auto"),type:{variant:[{numeric:!0},{dateTime:!0}]},suppressFormatPainterCopy:!0},axisStyle:{displayName:(0,a.V)("Visual_Axis_Style"),type:{enumeration:n.d}},axisType:{displayName:(0,a.V)("Type"),type:{enumeration:p.F}},backColor:{displayName:(0,a.V)("Background_Color"),description:(0,a.V)("Visual_Tablix_BackColor_Desc"),type:{fill:{solid:{color:!0}}}},binType:{displayName:(0,a.V)("BinsDialog_BinType"),type:{enumeration:o}},bold:{displayName:(0,a.V)("Bold"),type:{bool:!0}},borderColor:{displayName:(0,a.V)("Visual_ShapeMap_BorderColor"),type:{fill:{solid:{color:!0}}}},borderOutlineOnly:{displayName:(0,a.V)("Visual_Border_OutlineOnly"),type:{bool:!0}},numOfBins:{displayName:(0,a.V)("BinsDialog_ModeByCount"),type:{numeric:!0}},binSize:{displayName:(0,a.V)("BinsDialog_ModeBySize"),type:{numeric:!0}},dataColor:{displayName:(0,a.V)("Generic_Color"),description:(0,a.V)("Visual_LabelsFillDescription"),type:{fill:{solid:{color:!0}}}},dataLabelCustomFormatString:{displayName:(0,a.V)("Visual_FormatCode"),description:(0,a.V)("Visual_FormatCode_Description"),type:{text:!0}},dataLabelDisplayUnits:{displayName:(0,a.V)("Visual_DisplayUnits"),description:(0,a.V)("Visual_DisplayUnitsDescription"),type:{formatting:{labelDisplayUnits:!0}},suppressFormatPainterCopy:!0},dataLabelDisplayUnitsWithCustom:{displayName:(0,a.V)("Visual_DisplayUnits"),description:(0,a.V)("Visual_DisplayUnitsDescription"),type:{enumeration:c.d},suppressFormatPainterCopy:!0},defaultColor:{displayName:(0,a.V)("Visual_DefaultColor"),type:{fill:{solid:{color:!0}}}},defaultCategoryColor:{displayName:(0,a.V)("Visual_DefaultColor"),type:{fill:{solid:{color:!0}}}},defaultDataPointColor:{displayName:(0,a.V)("DataPointColorTitle"),type:{fill:{solid:{color:!0}}}},dynamicLabelValue:{displayName:(0,a.V)("Field"),type:{variantDeleteEmpty:!0,variant:[{text:!0},{numeric:!0},{integer:!0},{bool:!0},{dateTime:!0},{duration:!0},{binary:!0}]}},errorFormat:{displayName:(0,a.V)("Visual_Error_Format"),type:{enumeration:C.y}},fill:{displayName:(0,a.V)("Visual_FillColor"),type:{fill:{solid:{color:!0}}}},genericColor:{displayName:(0,a.V)("Generic_Color"),type:{fill:{solid:{color:!0}}}},genericTransparency:{displayName:(0,a.V)("Transparency"),type:{numeric:!0}},genericRotation:{displayName:(0,a.V)("Visual_BasicShape_Rotate"),type:{numeric:!0}},shapeRotation:{displayName:(0,a.V)("Visual_ShapeRotation"),type:{integer:!0}},textRotation:{displayName:(0,a.V)("Visual_TextRotation"),type:{integer:!0}},fontColor:{displayName:(0,a.V)("Visual_FontColor"),type:{fill:{solid:{color:!0}}}},fontSize:{displayName:(0,a.V)("Visual_TextSize"),type:{formatting:{fontSize:!0}}},fontFamily:{displayName:(0,a.V)("Visual_FontFamily"),type:{formatting:{fontFamily:!0}}},formatString:{type:{formatting:{formatString:!0}}},horizontalAlignment:{displayName:(0,a.V)("Visual_Alignment_Horizontal"),type:{formatting:{alignment:!0}}},iconSize:{displayName:(0,a.V)("Visual_IconSize"),type:{formatting:{fontSize:!0}}},italic:{displayName:(0,a.V)("Italic"),type:{bool:!0}},image:{type:{image:{}}},labelBackgroundColor:{displayName:(0,a.V)("Background_Color"),type:{fill:{solid:{color:!0}}}},labelBackgroundTransparency:{displayName:(0,a.V)("Visual_Reference_Line_Transparency"),type:{integer:!0}},labelContentLayout:{displayName:(0,a.V)("Layout"),type:{enumeration:S.c}},labelDisplayUnits:{displayName:(0,a.V)("Visual_DisplayUnits"),description:(0,a.V)("Visual_DisplayUnitsDescription"),type:{formatting:{labelDisplayUnits:!0}}},labelEnableBackground:{displayName:(0,a.V)("Visual_LabelEnableBackground"),type:{bool:!0}},labelOrientation:{displayName:(0,a.V)("Visual_LabelOrientation"),type:{enumeration:h.sg}},labelPosition:{displayName:(0,a.V)("Visual_Position"),type:{enumeration:E.O}},labelPrecision:{displayName:(0,a.V)("Visual_Precision"),description:(0,a.V)("Visual_PrecisionDescription"),placeHolderText:(0,a.V)("Visual_Auto"),type:{integer:!0}},labelSeriesShowAll:{displayName:(0,a.V)("Visual_LabelSeriesShowAll"),type:{bool:!0}},leaderLines:{displayName:(0,a.V)("Visual_LeaderLines"),type:{bool:!0}},matchLineColor:{displayName:(0,a.V)("Visual_LegendMatchLineColor"),description:(0,a.V)("Visual_LegendMatchLineColorDescription"),type:{bool:!0}},maximumOffset:{displayName:(0,a.V)("Visual_Label_Maximum_Offset"),placeHolderText:(0,a.V)("Visual_Auto"),type:{numeric:!0}},minimumOffset:{displayName:(0,a.V)("Visual_Label_Minimum_Offset"),placeHolderText:(0,a.V)("Visual_Auto"),type:{numeric:!0}},percentageLabelPrecision:{displayName:(0,a.V)("Visual_Percentage_Precision"),description:(0,a.V)("Visual_Percentage_PrecisionDescription"),placeHolderText:(0,a.V)("Visual_Auto"),type:{integer:!0}},legendMarkerRendering:{displayName:(0,a.V)("Visual_Axis_Style"),description:(0,a.V)("Visual_LegendStyleDescription"),type:{enumeration:b.A}},legendPosition:{displayName:(0,a.V)("Visual_LegendPosition"),description:(0,a.V)("Visual_LegendPositionDescription"),type:{enumeration:V.FJ}},legendTitle:{displayName:(0,a.V)("Visual_LegendName"),description:(0,a.V)("Visual_Title_Text"),type:{text:!0},suppressFormatPainterCopy:!0},lineColor:{displayName:(0,a.V)("Visual_LineColor"),type:{fill:{solid:{color:!0}}}},textWrap:{displayName:(0,a.V)("TextWrap"),type:{bool:!0}},titleColor:{displayName:(0,a.V)("Visual_AxisTitleColor"),type:{fill:{solid:{color:!0}}}},titleFontSize:{displayName:(0,a.V)("Visual_AxisTitleTextSize"),type:{formatting:{fontSize:!0}}},titleText:{displayName:(0,a.V)("Visual_AxisTitleText"),placeHolderText:(0,a.V)("Visual_Auto"),type:{text:!0},suppressFormatPainterCopy:!0},outline:{displayName:(0,a.V)("Visual_Outline"),type:{enumeration:D.dt}},outlineStyle:{displayName:(0,a.V)("Visual_Outline"),type:{flagsEnumeration:D.Ob}},outlineColor:{displayName:(0,a.V)("Visual_OutlineColor"),description:(0,a.V)("Visual_OutlineColor_Desc"),type:{fill:{solid:{color:!0}}}},outlineWeight:{displayName:(0,a.V)("Visual_OutlineWeight"),description:(0,a.V)("Visual_OutlineWeight_Desc"),type:{numeric:!0}},reverseStackOrder:{displayName:(0,a.V)("Visual_ReverseStackOrder"),type:{bool:!0}},show:{displayName:(0,a.V)("Visual_Show"),type:{bool:!0}},showAllDataPoints:{displayName:(0,a.V)("ShowAll"),type:{bool:!0}},showBlankAs:{displayName:(0,a.V)("Visual_ShowBlankAs"),type:{text:!0}},showDynamicLabels:{displayName:(0,a.V)("Visual_ShowCustomLabel"),type:{bool:!0}},showLegendTitle:{displayName:(0,a.V)("Visual_LegendShowTitle"),description:(0,a.V)("Visual_LegendShowTitleDescription"),type:{bool:!0}},seriesOrderReversed:{displayName:(0,a.V)("Visual_SeriesOrderReversed"),description:(0,a.V)("Visual_SeriesOrderReversed_Description"),type:{bool:!0}},seriesOrderSorted:{displayName:(0,a.V)("Visual_SeriesOrderSorted"),description:(0,a.V)("Visual_SeriesOrderSorted_Description"),type:{bool:!0}},stackedGapSize:{displayName:(0,a.V)("Visual_Space_Between_Series"),type:{numeric:!0}},stackedGapExplodes:{displayName:(0,a.V)("Visual_Spacing_Explode"),type:{bool:!0}},clusteredGapSize:{displayName:(0,a.V)("Visual_Space_Between_Series"),type:{numeric:!0}},clusteredGapOverlaps:{displayName:(0,a.V)("Visual_Overlap_ClusteredSeries"),type:{bool:!0}},clusteredGapOverlapReverse:{displayName:(0,a.V)("Visual_Overlap_ClusteredSeries_Flip"),type:{bool:!0}},switchAxisPosition:{displayName:(0,a.V)("Visual_SwitchAxisPosition"),type:{bool:!0}},showIcon:{displayName:(0,a.V)("Visual_ShowIcon"),type:{bool:!0}},markerShape:{displayName:(0,a.V)("Type"),type:{enumeration:P.ls}},markerSize:{displayName:(0,a.V)("Visual_BubbleSize"),type:{numeric:!0}},markerRangeType:{displayName:(0,a.V)("Visual_MarkerRangeType"),type:{enumeration:T.v6}},boolWithoutDescription:{type:{bool:!0}},matchSeriesColor:{displayName:(0,a.V)("RibbonChart_Color"),type:{bool:!0}},ribbonGapSize:{displayName:(0,a.V)("Visual_Space_Around_RibbonBands"),description:(0,a.V)("Visual_Space_Around_RibbonBands"),type:{numeric:!0}},backgroundTransparency:{displayName:(0,a.V)("Transparency"),description:(0,a.V)("Visual_Background_TransparencyDescription"),type:{numeric:!0}},lineTransparency:{displayName:(0,a.V)("Transparency"),description:(0,a.V)("Visual_Background_TransparencyLineDescription"),type:{numeric:!0}},responsive:{displayName:(0,a.V)("Visual_General_ResponsiveLabel"),description:(0,a.V)("Visual_General_ResponsiveLabelDescription"),type:{bool:!0}},responsiveLegacy:{type:{bool:!0}},showAxisTitle_Y:{displayName:(0,a.V)("Visual_Axis_Title"),description:(0,a.V)("Visual_Axis_YTitleDescription"),type:{bool:!0}},showAxisTitle_X:{displayName:(0,a.V)("Visual_Axis_Title"),description:(0,a.V)("Visual_Axis_XTitleDescription"),type:{bool:!0}},showGradientLegend:{displayName:(0,a.V)("Visual_Show"),type:{bool:!0}},tablixFontColor:{displayName:(0,a.V)("Visual_FontColor"),description:(0,a.V)("Visual_Tablix_FontColor_Desc"),type:{fill:{solid:{color:{nullable:!0}}}}},textAlignment:{displayName:(0,a.V)("Visual_TextAlignment"),type:{enumeration:W.K}},underline:{displayName:(0,a.V)("Underline"),type:{bool:!0}},verticalAlignment:{displayName:(0,a.V)("Visual_Alignment_Vertical"),type:{formatting:{alignment:!0}}},width:{displayName:(0,a.V)("Visual_General_Properties_Width"),type:{numeric:!0}},wordWrap:{displayName:(0,a.V)("Visual_WordWrap"),type:{bool:!0}}},x={secShow:{displayName:(0,a.V)("Visual_YAxis_ShowSecondary"),type:{bool:!0}},alignZeros:{displayName:(0,a.V)("Visual_YAxis_AlignZeros"),description:(0,a.V)("Visual_YAxis_AlignZeros_Description"),type:{bool:!0}},secLogAxisScale:{displayName:(0,a.V)("Visual_LogarithmicScale"),type:{bool:!0}},secAxisLabel:{displayName:(0,a.V)("Visual_YAxis_LineTitle"),type:{none:!0}},secStart:{displayName:(0,a.V)("Visual_Axis_Start"),description:(0,a.V)("Visual_Axis_StartDescription"),placeHolderText:(0,a.V)("Visual_Auto"),type:{numeric:!0},suppressFormatPainterCopy:!0},secEnd:{displayName:(0,a.V)("Visual_Axis_End"),description:(0,a.V)("Visual_Axis_EndDescription"),placeHolderText:(0,a.V)("Visual_Auto"),type:{numeric:!0},suppressFormatPainterCopy:!0},secShowAxisTitle:O.showAxisTitle_Y,secAxisStyle:O.axisStyle,secLabelColor:O.genericColor,secFontFamily:O.fontFamily,secFontSize:O.fontSize,secBold:O.bold,secItalic:O.italic,secUnderline:O.underline,secLabelDisplayUnits:O.labelDisplayUnits,secLabelPrecision:O.labelPrecision,secTitleColor:O.titleColor,secTitleFontFamily:O.fontFamily,secTitleFontSize:O.titleFontSize,secTitleBold:O.bold,secTitleItalic:O.italic,secTitleUnderline:O.underline,secTitleText:O.titleText},I={fontFamily:O.fontFamily,fontSize:O.fontSize,bold:O.bold,italic:O.italic,underline:O.underline,color:O.dataColor},L={fontFamily:O.fontFamily,fontSize:O.fontSize,bold:O.bold,italic:O.italic,underline:O.underline,fontColor:O.fontColor},K={fontFamily:O.fontFamily,textSize:O.fontSize,bold:O.bold,italic:O.italic,underline:O.underline,fontColor:O.fontColor,background:O.labelBackgroundColor},z={fontFamily:O.fontFamily,fontSize:O.fontSize,bold:O.bold,italic:O.italic,underline:O.underline,labelColor:O.genericColor},H={fontFamily:O.fontFamily,fontSize:O.fontSize,bold:O.bold,italic:O.italic,underline:O.underline,fontColor:O.tablixFontColor,backColor:O.backColor},J={enableBackground:O.labelEnableBackground,backgroundColor:O.labelBackgroundColor,backgroundTransparency:O.labelBackgroundTransparency},k={displayName:(0,a.V)("Visual_DataTotalLabels"),description:(0,a.V)("Visual_DataTotalLabelsDescription"),properties:{show:O.show,labelDisplayUnits:O.dataLabelDisplayUnits,labelPrecision:{...O.labelPrecision,suppressFormatPainterCopy:!0},...I,...J}},G=_.cloneDeep(k);G.properties.showPositiveAndNegative={displayName:(0,a.V)("Visual_LabelPosAndNeg"),description:(0,a.V)("Visual_LabelPosAndNeg_Description"),type:{bool:!0}};var q={transparency:{objectName:"markers",propertyName:"transparency"},rotation:{objectName:"markers",propertyName:"rotation"},strokeShow:{objectName:"markers",propertyName:"borderShow"},strokeColorMatch:{objectName:"markers",propertyName:"borderColorMatchFill"},strokeColor:{objectName:"markers",propertyName:"borderColor"},strokeTransparency:{objectName:"markers",propertyName:"borderTransparency"},strokeWidth:{objectName:"markers",propertyName:"borderWidth"}},Q={labelPosition:O.labelPosition,labelDensity:{displayName:(0,a.V)("Visual_LabelDensity"),type:{integer:!0}},optimizeLabelDisplay:{displayName:(0,a.V)("Visual_Label_OptimizeLabelDisplay"),type:{bool:!0}},labelContainerMaxWidth:{displayName:(0,a.V)("Visual_Max_Width"),type:{numeric:!0}}},Z={showDynamicLabels:O.showDynamicLabels,dynamicLabelValue:O.dynamicLabelValue,dynamicLabelTitle:O.dynamicLabelValue,dynamicLabelDetail:O.dynamicLabelValue},X={enableValueDataLabel:O.boolWithoutDescription,...I,transparency:O.genericTransparency,labelDisplayUnits:O.dataLabelDisplayUnitsWithCustom,valueCustomFormatString:O.dataLabelCustomFormatString,labelPrecision:{...O.labelPrecision,suppressFormatPainterCopy:!0},showBlankAs:O.showBlankAs},re={enableTitleDataLabel:O.boolWithoutDescription,titleContentType:{displayName:(0,a.V)("Content"),type:{enumeration:F.D}},titleFontFamily:O.fontFamily,titleFontSize:O.fontSize,titleBold:O.bold,titleItalic:O.italic,titleUnderline:O.underline,titleColor:O.dataColor,titleTransparency:O.genericTransparency,titleLabelDisplayUnits:O.dataLabelDisplayUnitsWithCustom,titleCustomFormatString:O.dataLabelCustomFormatString,titleLabelPrecision:O.labelPrecision,titleShowBlankAs:O.showBlankAs},te={enableDetailDataLabel:O.boolWithoutDescription,detailContentType:{displayName:(0,a.V)("Content"),type:{enumeration:m.w}},detailFontFamily:O.fontFamily,detailFontSize:O.fontSize,detailBold:O.bold,detailItalic:O.italic,detailUnderline:O.underline,detailColor:O.dataColor,detailTransparency:O.genericTransparency,detailLabelDisplayUnits:O.dataLabelDisplayUnitsWithCustom,detailCustomFormatString:O.dataLabelCustomFormatString,detailLabelPrecision:O.labelPrecision,detailShowBlankAs:O.showBlankAs},se={...z,labelDisplayUnits:O.labelDisplayUnits,labelPrecision:O.labelPrecision},Ve={start:O.axisStart,end:O.axisEnd,invertAxis:{displayName:(0,a.V)("Visual_InvertAxis"),type:{bool:!0}},logAxisScale:{displayName:(0,a.V)("Visual_LogarithmicScale"),type:{bool:!0}}},ke={...Ve,sharedAxis:{displayName:(0,a.V)("Visual_Shared_YAxis"),type:{bool:!0}},scaleToFit:{displayName:(0,a.V)("ScaleToFit"),type:{bool:!0}}},Ue={axisType:O.axisType,preferredCategoryWidth:{displayName:(0,a.V)("Visual_Category_Width"),type:{numeric:!0}},maxMarginFactor:{displayName:(0,a.V)("Visual_MaxMarginFactor"),description:(0,a.V)("Visual_MaxMarginFactorDescription"),type:{integer:!0}},innerPadding:{displayName:(0,a.V)("Visual_Axis_InnerPadding"),description:(0,a.V)("Visual_Axis_InnerPaddingDescription"),type:{integer:!0}}},ot={...Ue,concatenateLabels:{displayName:(0,a.V)("Visual_Axis_ConcatenateLabels"),description:(0,a.V)("Visual_Axis_ConcatenateLabelsDescription"),type:{bool:!0}}};function ft(qe){return{showAxisTitle:"y"===qe?O.showAxisTitle_Y:O.showAxisTitle_X,titleText:O.titleText,axisStyle:O.axisStyle,titleFontFamily:O.fontFamily,titleFontSize:O.titleFontSize,titleBold:O.bold,titleItalic:O.italic,titleUnderline:O.underline,titleColor:O.titleColor}}var Ct={strokeShow:"show",strokeColor:"lineColor",strokeTransparency:"transparency",strokeWidth:"width",strokePattern:"style",strokeDashArray:"dashArray",strokeDashCap:"dashCap",strokeAutoScale:"autoScale"},Ke=Ee(Ct),Ae={displayName:{displayName:(0,a.V)("Name"),description:(0,a.V)("Visual_Reference_Line_DisplayName_Description"),type:{text:!0}},value:{displayName:(0,a.V)("Visual_Reference_Line_Value"),description:(0,a.V)("Visual_Reference_Line_Value_Description"),type:{numeric:!0}},position:{displayName:(0,a.V)("Visual_Reference_Line_Arrange"),description:(0,a.V)("Visual_Reference_Line_Arrange_Description"),type:{enumeration:w.VH}},...Ke,dataLabelShow:{displayName:(0,a.V)("Visual_Reference_Line_Data_Label"),description:(0,a.V)("Visual_Reference_Line_Data_Label_Show_Description"),type:{bool:!0}},dataLabelText:{displayName:(0,a.V)("Text"),description:(0,a.V)("Visual_Reference_Line_Data_Label_Text_Description"),type:{enumeration:f._}},dataLabelColor:{displayName:(0,a.V)("Generic_Color"),description:(0,a.V)("Visual_Reference_Line_Data_Label_Color_Description"),type:{fill:{solid:{color:!0}}}},dataLabelDecimalPoints:{displayName:(0,a.V)("Visual_Precision"),placeHolderText:(0,a.V)("Visual_Auto"),type:{numeric:!0}},dataLabelHorizontalPosition:{displayName:(0,a.V)("Visual_Reference_Line_Data_Horizontal_Position"),description:(0,a.V)("Visual_Reference_Line_Data_Label_Horizontal_Position_Description"),type:{enumeration:w.ae}},dataLabelVerticalPosition:{displayName:(0,a.V)("Visual_Reference_Line_Data_Vertical_Position"),description:(0,a.V)("Visual_Reference_Line_Data_Label_Vertical_Position_Description"),type:{enumeration:w.wt}},dataLabelDisplayUnits:O.dataLabelDisplayUnits,shadeShow:O.show,shadeRegion:{displayName:(0,a.V)("Visual_ShadeRegion"),type:{enumeration:w.Xw}},shadeColor:{displayName:(0,a.V)("Visual_ShadeColor"),type:{fill:{solid:{color:!0}}}},shadeColorMatchStroke:O.matchLineColor,shadeTransparency:{displayName:(0,a.V)("Visual_ShadeTransparency"),type:{numeric:!0}}},we={...Ae,value:{displayName:(0,a.V)("Visual_Reference_Line_Value"),description:(0,a.V)("Visual_Reference_Line_Value_Numeric_DateTime_Description"),type:{variant:[{numeric:!0},{dateTime:!0}]}}},Ne={show:O.show,...I,color:{displayName:(0,a.V)("Generic_Color"),description:(0,a.V)("Visual_LabelStyle_CategoryDescription"),type:{fill:{solid:{color:!0}}}}},Se={outlineStyle:O.outlineStyle,outlineColor:O.outlineColor,outlineWeight:O.outlineWeight},Ie={legend:{displayName:(0,a.V)("Visual_Legend"),description:(0,a.V)("Visual_LegendDescription"),properties:{show:{displayName:(0,a.V)("Visual_Show"),type:{bool:!0}},position:{displayName:(0,a.V)("Visual_LegendPosition"),description:(0,a.V)("Visual_LegendPositionDescription"),type:{enumeration:V.FJ}},showTitle:{displayName:(0,a.V)("Visual_LegendShowTitle"),description:(0,a.V)("Visual_LegendShowTitleDescription"),type:{bool:!0}},titleText:{displayName:(0,a.V)("Visual_LegendName"),description:(0,a.V)("Visual_Title_Text"),type:{text:!0},suppressFormatPainterCopy:!0},...z}},labels:{displayName:(0,a.V)("Visual_DataPointsLabels"),description:(0,a.V)("Visual_DataPointsLabelsDescription"),properties:{show:O.show,showSeries:{displayName:(0,a.V)("Visual_Show"),type:{bool:!0}},enableBackground:O.labelEnableBackground,labelPosition:{displayName:(0,a.V)("Visual_Position"),type:{enumeration:E.O}}}},totals:k,totalsWithNet:G,zoom:{displayName:(0,a.V)("Visual_ZoomSlider"),properties:{show:{displayName:(0,a.V)("Visual_Show"),type:{bool:!0}},showOnCategoryAxis:{displayName:(0,a.V)("Visual_XAxis"),type:{bool:!0}},categoryMin:{type:{numeric:!0},captureState:!0},categoryMax:{type:{numeric:!0},captureState:!0},categorySize:{type:{numeric:!0},captureState:!0},showOnValueAxis:{displayName:(0,a.V)("Visual_YAxis"),type:{bool:!0}},valueMin:{type:{numeric:!0},captureState:!0},valueMax:{type:{numeric:!0},captureState:!0},valueSize:{type:{numeric:!0},captureState:!0},showLabels:{displayName:(0,a.V)("Visual_ZoomLabels"),type:{bool:!0}},showTooltip:{displayName:(0,a.V)("Visual_ZoomTooltips"),type:{bool:!0}}}},plotArea:{displayName:(0,a.V)("Visual_Plot"),properties:{transparency:O.backgroundTransparency,image:O.image}},markers:{displayName:(0,a.V)("Visual_Markers"),properties:{transparency:O.genericTransparency,rotation:O.genericRotation,borderShow:{displayName:(0,a.V)("Visual_Border"),type:{bool:!0}},borderWidth:O.width,borderColorMatchFill:{displayName:(0,a.V)("Visual_MatchFillColor"),description:(0,a.V)("Visual_MatchFillColor_Description"),type:{bool:!0}},borderColor:O.genericColor,borderTransparency:O.genericTransparency}},subheader:{displayName:(0,a.V)("Small_Multiples_Title"),description:(0,a.V)("Small_Multiples_Title_Description"),properties:{show:O.show,...L,alignment:{displayName:(0,a.V)("Visual_Title_Alignment"),description:(0,a.V)("Visual_Title_AlignmentDescription"),type:{formatting:{alignment:!0}}},position:{displayName:(0,a.V)("Visual_Position"),type:{enumeration:U.bZ}},titleWrap:O.wordWrap}},smallMultiplesLayout:{displayName:(0,a.V)("Small_Multiples_Layout"),description:(0,a.V)("Small_Multiples_Layout_Description"),properties:{layoutType:{displayName:(0,a.V)("Small_Multiples_Layout"),type:{enumeration:M.h}},rowCount:{displayName:(0,a.V)("Small_Multiples_Layout_Rows"),type:{integer:!0}},columnCount:{displayName:(0,a.V)("Small_Multiples_Layout_Columns"),type:{integer:!0}},backgroundColor:{displayName:(0,a.V)("Background_Color"),description:(0,a.V)("Small_Multiples_Layout_Background_Desc"),type:{fill:{solid:{color:{nullable:!0}}}}},backgroundTransparency:{...O.backgroundTransparency,displayName:(0,a.V)("Small_Multiples_Layout_Background_Transparency")},gridLineType:{displayName:(0,a.V)("Visual_Gridline_Show"),description:(0,a.V)("Small_Multiples_Layout_Grid_Line_Type_Desc"),type:{enumeration:y.d}},...Oe({strokeShow:"gridLineShow",strokeColor:"gridLineColor",strokeTransparency:"gridLineTransparency",strokeWidth:"gridLineWidth",strokePattern:"gridLineStyle"}),gridPadding:{displayName:(0,a.V)("Small_Multiples_Grid_Padding"),type:{numeric:!0}},advancedPaddingOptions:{displayName:(0,a.V)("Small_Multiples_Advanced_Padding"),type:{bool:!0}},columnPaddingInner:{displayName:(0,a.V)("Small_Multiples_Column_Padding_Inner"),type:{numeric:!0}},columnPaddingOuter:{displayName:(0,a.V)("Small_Multiples_Column_Padding_Outer"),type:{numeric:!0}},rowPaddingInner:{displayName:(0,a.V)("Small_Multiples_Row_Padding_Inner"),type:{numeric:!0}},rowPaddingOuter:{displayName:(0,a.V)("Small_Multiples_Row_Padding_Outer"),type:{numeric:!0}}}},error:{displayName:(0,a.V)("Visual_Error_Bars"),objectCategory:i.fv.Analytics,suppressFormatPainterCopy:!0,properties:{enabled:{displayName:(0,a.V)("Enabled"),type:{bool:!0}},errorRange:{displayName:(0,a.V)("Desktop_FileMenu_Options"),type:{errorRange:{}}},barShow:O.show,barMatchSeriesColor:O.matchSeriesColor,barColor:{displayName:(0,a.V)("Visual_MultiRowCard_BarColor"),type:{fill:{solid:{color:!0}}}},barWidth:O.width,barBorderColor:O.borderColor,barBorderSize:{displayName:(0,a.V)("Visual_Border_Size"),type:{integer:!0}},shadeShow:O.show,shadeBandStyle:{displayName:(0,a.V)("Visual_Axis_Style"),type:{enumeration:v.uv}},shadeColor:{displayName:(0,a.V)("Visual_Error_BandColor"),type:{fill:{solid:{color:!0}}}},shadeMatchSeriesColor:O.matchSeriesColor,shadeTransparency:O.backgroundTransparency,markerShape:{displayName:(0,a.V)("Visual_MarkerShape"),type:{enumeration:(0,t.i)([...P.Dt,{value:"none",displayName:qe=>qe.get("None")}])}},showMarkerByDefault:O.boolWithoutDescription,markerShow:O.show,markerSize:O.markerSize,labelShow:O.show,labelFontFamily:O.fontFamily,labelFontSize:O.fontSize,labelBold:O.bold,labelItalic:O.italic,labelUnderline:O.underline,labelColor:O.genericColor,labelMatchSeriesColor:O.matchSeriesColor,labelFormat:O.errorFormat,labelBackground:O.labelEnableBackground,labelBackgroundColor:O.labelBackgroundColor,labelBackgroundTransparency:O.labelBackgroundTransparency,tooltipShow:{...O.show,displayName:(0,a.V)("Visual_ShowInTooltip")},tooltipFormat:O.errorFormat}},seriesLabels:{displayName:(0,a.V)("Visual_SeriesLabels"),description:(0,a.V)("Visual_SeriesDescription"),properties:{show:{displayName:(0,a.V)("Visual_ShowForThisSeries"),type:{bool:!0}},showByDefault:{type:{bool:!0}},seriesColor:{displayName:(0,a.V)("Visual_SeriesColor"),type:{fill:{solid:{color:!0}}}},seriesPosition:{displayName:(0,a.V)("Visual_SeriesPosition"),type:{enumeration:u.B}},...J,showAll:{displayName:(0,a.V)("Visual_LabelSeriesShowAll"),type:{bool:!0}},textSize:{displayName:(0,a.V)("Visual_SeriesSize"),type:{formatting:{fontSize:!0}}},bold:O.bold,italic:O.italic,underline:O.underline,seriesFontFamily:{displayName:(0,a.V)("Visual_SeriesFontFamily"),type:{formatting:{fontFamily:!0}}},seriesWordWrap:O.wordWrap,seriesMaximumWidth:{displayName:(0,a.V)("Visual_Max_Width"),placeHolderText:(0,a.V)("Visual_Auto"),type:{integer:!0}}}},sparklines:{displayName:(0,a.V)("Sparkline_Label"),properties:{chartType:{displayName:(0,a.V)("Sparkline_Formatting_Slice_ChartType"),type:{enumeration:A.O}},dataColor:{displayName:(0,a.V)("DataColor"),type:{fill:{solid:{color:!0}}}},strokeWidth:O.width,markers:{displayName:(0,a.V)("Sparkline_Formatting_Slice_Show_These_Markers"),type:{flagsEnumeration:R._}},markerColor:O.genericColor,markerSize:O.markerSize,markerShape:O.markerShape}}},me={chartType:{objectName:"sparklines",propertyName:"chartType"},dataColor:{objectName:"sparklines",propertyName:"dataColor"},strokeWidth:{objectName:"sparklines",propertyName:"strokeWidth"},markers:{objectName:"sparklines",propertyName:"markers"},markerColor:{objectName:"sparklines",propertyName:"markerColor"},markerSize:{objectName:"sparklines",propertyName:"markerSize"},markerShape:{objectName:"sparklines",propertyName:"markerShape"}};function Oe(qe){return Ee(qe,!0)}function Ee(qe,dt){var rt={[qe.strokeShow]:O.show,[qe.strokeWidth]:O.width,[qe.strokeColor]:O.genericColor,[qe.strokeColorMatch]:O.matchLineColor,[qe.strokeTransparency]:O.genericTransparency,[qe.strokePattern]:{displayName:(0,a.V)("Visual_LineStyle"),type:{enumeration:dt?N.yV:N.sb}},[qe.strokeAutoScale]:{displayName:(0,a.V)("Visual_StrokeAutoScale"),description:(0,a.V)("Visual_StrokeAutoScale_Description"),type:{bool:!0}},[qe.strokeDashArray]:{displayName:(0,a.V)("Visual_StrokeDashArray"),type:{formatting:{dashArray:!0}}},[qe.strokeDashCap]:{displayName:(0,a.V)("Visual_StrokeDashCap"),type:{enumeration:N.Dd}},[qe.strokeLineJoin]:{displayName:(0,a.V)("Visual_StrokeLineJoin"),type:{enumeration:B.A}}};return delete rt.undefined,rt}function xe(qe,dt){var rt={};return g.f.forEach(ce=>{dt[ce]&&(rt[ce]={objectName:qe,propertyName:dt[ce]})}),rt}var Je=Ee({strokeShow:"gridlineShow",strokeColor:"gridlineColor",strokeTransparency:"gridlineTransparency",strokeWidth:"gridlineThickness",strokePattern:"gridlineStyle",strokeDashArray:"gridlineDashArray",strokeDashCap:"gridlineDashCap",strokeAutoScale:"gridlineAutoScale"}),he={strokeShow:"leaderLines",strokeColor:"leaderLineColor",strokeTransparency:"leaderLineTransparency",strokeWidth:"leaderLineWidth",strokePattern:"leaderLinePattern",strokeDashArray:"leaderLineDashArray",strokeDashCap:"leaderLineDashCap",strokeAutoScale:"leaderLineAutoScale"},Ce={...Ct,strokeTransparency:"strokeTransparency"},je={strokeShow:"bandLineShow",strokeColor:"bandLineColor",strokeTransparency:"bandLineTransparency",strokeWidth:"bandLineWidth",strokePattern:"bandLinePattern",strokeDashArray:"bandLineDashArray",strokeDashCap:"bandLineDashCap",strokeAutoScale:"bandLineAutoScale",strokeColorMatch:"bandLineMatchColor"},pe={...Ee(je),bandLineMatchColor:O.matchLineColor},Qe={bandAreaShow:O.show,bandAreaMatchColor:O.matchLineColor,bandAreaColor:O.genericColor,bandAreaTransparency:O.genericTransparency};function ut(qe){return{displayName:(0,a.V)("Visual_Trend_Line"),objectCategory:i.fv.Analytics,suppressFormatPainterCopy:!0,properties:{...Ke,displayName:{displayName:(0,a.V)("Name"),description:(0,a.V)("Visual_Trend_Line_DisplayName_Description"),type:{text:!0}},combineSeries:{displayName:(0,a.V)("Visual_Trend_Line_Combine_Series"),description:(0,a.V)("Visual_Trend_Line_Combine_Series_Description"),type:{bool:!0}},...qe&&{useHighlightValues:{displayName:(0,a.V)("Visual_Trend_Line_UseHighlightValues"),description:(0,a.V)("Visual_Trend_Line_UseHighlightValues_Description"),type:{bool:!0}}}}}}var lt=(0,r.wZ)(Ie),Et=lt.error,bt={formatString:{objectName:"general",propertyName:"formatString"},smallMultiplesBackgroundColor:{objectName:"smallMultiplesLayout",propertyName:"backgroundColor"},dynamicLabelValue:{objectName:"labels",propertyName:"dynamicLabelValue"},dynamicLabelEnabled:{objectName:"labels",propertyName:"showDynamicLabels"}},Ot={zoom:{properties:{showOnValueSecAxis:{displayName:(0,a.V)("Visual_Y2Axis"),type:{bool:!0}},valueSecMin:{type:{numeric:!0},captureState:!0},valueSecMax:{type:{numeric:!0},captureState:!0},valueSecSize:{type:{numeric:!0},captureState:!0}}}},Dt={objectName:"annotationTemplate",propertyName:"callout"},ne={objectName:"annotationTemplate",propertyName:"highlight"};function Fe(qe,dt=!1){l.f.assert(()=>Dt.objectName===ne.objectName,"objectName should be the same");var rt={[Dt.objectName]:{properties:{}}},ce=rt[Dt.objectName];if(qe.callout){var be=Dt.propertyName;ce.properties[be]={type:{annotationTemplate:{callout:!0}}},dt&&(ce.properties[be].captureState=!0)}if(qe.highlight){var ae=ne.propertyName;ce.properties[ae]={type:{annotationTemplate:{highlight:!0}}},dt&&(ce.properties[ae].captureState=!0)}return rt}function $e(qe){var dt=[];return qe.callout&&dt.push(Dt),qe.highlight&&dt.push(ne),{annotationTemplateProperties:dt}}},27663:function(ve,j,e){e.d(j,{$D:function(){return d},F2:function(){return n},Fw:function(){return l},I8:function(){return o},O9:function(){return s},Sd:function(){return c},bR:function(){return m},fi:function(){return g},hq:function(){return v},r7:function(){return p}});var r=e(630881),i=e(281210),a=e(56604),t=e(847005),l={analyze:"Analyze",explainBy:"ExplainBy",tooltips:"Tooltips"},g=function(C){return C.Dense="dense",C.Default="default",C.Sparse="sparse",C}({}),n=function(C){return C.Select="select",C.Toggle="toggle",C}({}),p=function(C){return C.Curve="curve",C.Round="round",C}({}),s=function(C){return C.TopNode="topNode",C.ParentNode="parentNode",C.LevelMaximum="levelMaximum",C}({}),d=function(C){return C.Absolute="absolute",C.Relative="relative",C}({}),o={analysis:"analysis",tree:"tree",categoryLabels:"categoryLabels",dataBars:"dataBars",dataLabels:"dataLabels",levelHeader:"levelHeader",insights:"insights"},v={aiEnabled:"aiEnabled",aiMode:"aiMode",axisEnd:"axisEnd",axisStart:"axisStart",barsPerLevel:"barsPerLevel",categoryLabelFontColor:"categoryLabelFontColor",categoryLabelFontFamily:"categoryLabelFontFamily",categoryLabelFontSize:"categoryLabelFontSize",categoryLabelBold:"categoryLabelBold",categoryLabelItalic:"categoryLabelItalic",categoryLabelUnderline:"categoryLabelUnderline",dataLabelFontColor:"dataLabelFontColor",dataLabelFontFamily:"dataLabelFontFamily",dataLabelFontSize:"dataLabelFontSize",dataLabelDisplayUnits:"dataLabelDisplayUnits",dataLabelPrecision:"dataLabelPrecision",dataLabelBold:"dataLabelBold",dataLabelItalic:"dataLabelItalic",dataLabelUnderline:"dataLabelUnderline",defaultClickAction:"defaultClickAction",density:"density",connectorType:"connectorType",dataBarScalingType:"dataBarScalingType",dataBarBackgroundColor:"dataBarBackgroundColor",dataBarWidthPercent:"dataBarWidthPercent",isAINode:"isAINode",levelHeaderBackgroundColor:"levelHeaderBackgroundColor",levelTitleFontColor:"levelTitleFontColor",levelTitleFontFamily:"levelTitleFontFamily",levelTitleFontSize:"levelTitleFontSize",levelTitleBold:"levelTitleBold",levelTitleItalic:"levelTitleItalic",levelTitleUnderline:"levelTitleUnderline",levelSubtitleFontColor:"levelSubtitleFontColor",levelSubtitleFontFamily:"levelSubtitleFontFamily",levelSubtitleFontSize:"levelSubtitleFontSize",levelSubtitleBold:"levelSubtitleBold",levelSubtitleItalic:"levelSubtitleItalic",levelSubtitleUnderline:"levelSubtitleUnderline",showSubtitles:"showSubtitles",positiveBarColor:"positiveBarColor",negativeBarColor:"negativeBarColor",accentColor:"accentColor",connectorDefaultColor:"connectorDefaultColor",responsiveLayout:"responsiveLayout",dataBarColor:"dataBarColor",effectiveBarsPerLevel:"effectiveBarsPerLevel"},m={defaultValue:10,minValue:3,maxValue:30};function c(C){return{dataRoles:[{name:l.analyze,kind:r.DW.Measure,kindPreference:r.u3.Measure,requiredTypes:[{numeric:!0},{integer:!0}],displayName:(0,i.V)("Role_DisplayName_Target"),description:(0,i.V)("DecompositionTree_Analyze_Tooltip")},{name:l.explainBy,kind:r.DW.Grouping,displayName:(0,i.V)("Role_DisplayName_ExplainBy"),description:(0,i.V)("DecompositionTree_ExplainBy_Tooltip"),noDuplicates:!0},{name:l.tooltips,kind:r.DW.Measure,displayName:(0,i.V)("Role_DisplayName_Tooltips"),description:(0,i.V)("Role_Tooltips_Description"),joinPredicate:r.ps.None}],dataViewMappings:[{conditions:[{[l.analyze]:{max:1}}],matrix:{rows:{for:{in:l.explainBy},dataReductionAlgorithm:{topNPerLevel:{count:10,fallbackTopCount:500}}},values:{select:[{for:{in:l.analyze}},{for:{in:l.tooltips}}]}}}],tooltips:{supportedTypes:{default:!0,canvas:!0},roles:[l.tooltips],supportEnhancedTooltips:!1},objects:{general:{displayName:(0,i.V)("Visual_General"),properties:{formatString:t.iD.formatString}},[o.analysis]:{displayName:(0,i.V)("Analysis"),description:(0,i.V)("Analysis"),properties:{[v.aiEnabled]:{displayName:(0,i.V)("DecompositionTree_Formatting_EnableAI"),description:(0,i.V)("DecompositionTree_Formatting_EnableAI_Tooltip"),type:{bool:!0}},[v.aiMode]:{displayName:(0,i.V)("DecompositionTree_AnalysisType"),description:(0,i.V)("DecompositionTree_AnalysisTypeDescription"),type:{enumeration:(0,a.i)([{displayName:(0,i.V)("DecompositionTree_AnalysisType_Absolute"),value:d.Absolute},{displayName:(0,i.V)("DecompositionTree_AnalysisType_Relative"),value:d.Relative}])}}}},[o.tree]:{displayName:(0,i.V)("DecompositionTree_Formatting_Tree"),description:(0,i.V)("DecompositionTree_Formatting_Tree"),properties:{[v.density]:{displayName:(0,i.V)("DecompositionTree_Density"),description:(0,i.V)("DecompositionTree_Density_Description"),type:{enumeration:(0,a.i)([{displayName:(0,i.V)("DecompositionTree_Density_Dense"),value:g.Dense},{displayName:(0,i.V)("Default"),value:g.Default},{displayName:(0,i.V)("DecompositionTree_Density_Sparse"),value:g.Sparse}])}},[v.accentColor]:{displayName:(0,i.V)("DecompositionTree_Formatting_Selected_Line"),description:(0,i.V)("Visual_KeyDriversVisualColors_PrimaryColor_Description"),type:{fill:{solid:{color:!0}}}},[v.connectorDefaultColor]:{displayName:(0,i.V)("DecompositionTree_Formatting_Unselected_Line"),description:(0,i.V)("DecompositionTree_Formatting_Deselected_Connectors_Description"),type:{fill:{solid:{color:!0}}}},[v.connectorType]:{displayName:(0,i.V)("Style"),description:(0,i.V)("DecompositionTree_Formatting_ConnectorShape_Tooltip"),type:{enumeration:(0,a.i)([{displayName:(0,i.V)("Default"),value:p.Curve},{displayName:(0,i.V)("Visual_StrokeLineJoin_Round"),value:p.Round}])}},[v.responsiveLayout]:{displayName:(0,i.V)("Visual_General_ResponsiveLabel"),description:(0,i.V)("Visual_General_ResponsiveLabelDescription"),type:{bool:!0}},[v.effectiveBarsPerLevel]:{type:{integer:!0}},[v.barsPerLevel]:{displayName:(0,i.V)("DecompositionTree_BarsPerLevel"),description:(0,i.V)("DecompositionTree_BarsPerLevel_Description"),type:{integer:!0}},[v.defaultClickAction]:{displayName:(0,i.V)("DecompositionTree_DefaultAction"),description:(0,i.V)("DecompositionTree_DefaultAction_Description"),type:{enumeration:(0,a.i)([{displayName:(0,i.V)("DecompositionTree_DefaultAction_Filter"),value:n.Select},{displayName:(0,i.V)("Collapse"),value:n.Toggle}])}}}},[o.dataBars]:{displayName:(0,i.V)("Visual_Bars_Title"),description:(0,i.V)("Visual_ConditionalFormatting_DataBars"),properties:{[v.positiveBarColor]:{displayName:(0,i.V)("DataBarsDialog_PositiveBar"),description:(0,i.V)("DecompositionTree_Formatting_PositiveBar_Tooltip"),type:{fill:{solid:{color:!0}}}},[v.negativeBarColor]:{displayName:(0,i.V)("DataBarsDialog_NegativeBar"),description:(0,i.V)("DecompositionTree_Formatting_NegativeBar_Tooltip"),type:{fill:{solid:{color:!0}}}},[v.dataBarBackgroundColor]:{displayName:(0,i.V)("DecompositionTree_Formatting_BarBackground"),description:(0,i.V)("DecompositionTree_Formatting_BarBackground_Description"),type:{fill:{solid:{color:!0}}}},[v.dataBarColor]:{displayName:(0,i.V)("DecompositionTree_DataBarColor"),description:(0,i.V)("DecompositionTree_Formatting_DataBarColor_Tooltip"),type:{fill:{solid:{color:!0}}}},[v.dataBarWidthPercent]:{displayName:(0,i.V)("DecompositionTree_Formatting_DataBarSize"),description:(0,i.V)("DecompositionTree_Formatting_DataBarSize"),type:{integer:!0}},[v.dataBarScalingType]:{displayName:(0,i.V)("DecompositionTree_Formatting_ScaleType"),description:(0,i.V)("DecompositionTree_Formatting_ScaleType_Tooltip"),type:{enumeration:(0,a.i)([{displayName:(0,i.V)("DecompositionTree_Formatting_ScaleType_TopNode"),value:s.TopNode},{displayName:(0,i.V)("DecompositionTree_Formatting_ScaleType_ParentNode"),value:s.ParentNode},{displayName:(0,i.V)("DecompositionTree_Formatting_ScaleType_LevelMaximum"),value:s.LevelMaximum}])}},[v.axisStart]:t.iD.axisStart,[v.axisEnd]:t.iD.axisEnd}},[o.categoryLabels]:{displayName:(0,i.V)("Visual_CategoryLabels"),description:(0,i.V)("DecompositionTree_Formatting_CategoryLabels_Description"),properties:{[v.categoryLabelFontFamily]:t.iD.fontFamily,[v.categoryLabelFontSize]:t.iD.fontSize,[v.categoryLabelBold]:t.iD.bold,[v.categoryLabelItalic]:t.iD.italic,[v.categoryLabelUnderline]:t.iD.underline,[v.categoryLabelFontColor]:t.iD.fontColor}},[o.dataLabels]:{displayName:(0,i.V)("Visual_Tablix_Values"),description:(0,i.V)("DecompositionTree_Formatting_ValueLabels_Description"),properties:{[v.dataLabelFontFamily]:t.iD.fontFamily,[v.dataLabelFontSize]:t.iD.fontSize,[v.dataLabelBold]:t.iD.bold,[v.dataLabelItalic]:t.iD.italic,[v.dataLabelUnderline]:t.iD.underline,[v.dataLabelFontColor]:t.iD.fontColor,[v.dataLabelDisplayUnits]:t.iD.labelDisplayUnits,[v.dataLabelPrecision]:t.iD.labelPrecision}},[o.levelHeader]:{displayName:(0,i.V)("Header_Plural"),description:(0,i.V)("DecompositionTree_Formatting_TreeHeader_Description"),properties:{[v.levelHeaderBackgroundColor]:{displayName:(0,i.V)("Generic_Color"),description:(0,i.V)("VisualGroup_Background_ColorDescription"),type:{fill:{solid:{color:!0}}}},[v.levelTitleFontFamily]:{displayName:(0,i.V)("DecompositionTree_Formatting_LevelTitle_FontFamily"),description:(0,i.V)("DecompositionTree_Formatting_LevelTitle_FontFamily"),type:{formatting:{fontFamily:!0}}},[v.levelTitleFontSize]:{displayName:(0,i.V)("DecompositionTree_Formatting_LevelTitle_FontSize"),description:(0,i.V)("DecompositionTree_Formatting_LevelTitle_FontSize"),type:{formatting:{fontSize:!0}}},[v.levelTitleBold]:t.iD.bold,[v.levelTitleItalic]:t.iD.italic,[v.levelTitleUnderline]:t.iD.underline,[v.levelTitleFontColor]:{displayName:(0,i.V)("Generic_Color"),description:(0,i.V)("Generic_Color"),type:{fill:{solid:{color:!0}}}},[v.showSubtitles]:{displayName:(0,i.V)("DecompositionTree_Formatting_ShowSubtitles"),description:(0,i.V)("DecompositionTree_Formatting_ShowSubtitles"),type:{bool:!0}},[v.levelSubtitleFontFamily]:{displayName:(0,i.V)("DecompositionTree_Formatting_LevelSubtitle_FontFamily"),description:(0,i.V)("DecompositionTree_Formatting_LevelSubtitle_FontFamily"),type:{formatting:{fontFamily:!0}}},[v.levelSubtitleFontSize]:{displayName:(0,i.V)("DecompositionTree_Formatting_LevelSubtitle_FontSize"),description:(0,i.V)("DecompositionTree_Formatting_LevelSubtitle_FontSize"),type:{formatting:{fontSize:!0}}},[v.levelSubtitleBold]:t.iD.bold,[v.levelSubtitleItalic]:t.iD.italic,[v.levelSubtitleUnderline]:t.iD.underline,[v.levelSubtitleFontColor]:{displayName:(0,i.V)("Generic_Color"),description:(0,i.V)("Generic_Color"),type:{fill:{solid:{color:!0}}}}}},[o.insights]:{properties:{[v.isAINode]:{type:{bool:!0}}}}},drilldown:{suppresDrillOperations:!0},expandCollapse:{roles:[l.explainBy],addDataViewFlags:{defaultValue:!0},supportsMerge:!0,restoreProjectionsOrderFromBookmark:!0,addDataViewExpansionState:!0,collapseParentAfterRemovingChildLevel:!0},filterMappings:{measureFilter:{targetRoles:[l.explainBy]}},sorting:{default:{}},suppressDefaultTitle:!0,supportsHighlight:!0,supportsSelection:!0,supportsKeyboardFocus:!0,noDefaultProjections:!0,keepAllMetadataColumns:!0,insights:{decomposition:{analyzeRole:l.analyze,explainByRole:l.explainBy,enableAIProperty:{objectName:o.analysis,propertyName:v.aiEnabled},highlightedAIMatrixNode:{objectName:o.insights,propertyName:v.isAINode},analysisType:{objectName:o.analysis,propertyName:v.aiMode}},ignoreHighlightFilter:!0},suppressVisualCalc:!0}}},214201:function(ve,j,e){e.d(j,{Ag:function(){return d},V9:function(){return o},cw:function(){return v}});var r=e(251868),i=e(630881),a=e(33199),t=e(281210),l=e(865130),g=e(707161),n=e(790443),p=e(112754),s=e(847005),d={category:"Category",series:"Series",y:"Y",tooltips:"Tooltips"},o=(0,r.wZ)(v().objects);function v(m){return{dataRoles:[{name:d.category,kind:i.DW.Grouping,displayName:(0,t.V)("Role_DisplayName_Legend"),displayOrder:1,description:(0,t.V)("Role_DisplayName_LegendDescription")},{name:d.series,kind:i.DW.Grouping,displayName:(0,t.V)("Details"),displayOrder:m?.useModernFormatPane?3:2,description:(0,t.V)("Role_DisplayName_DetailsDonutChartDescription")},{name:d.y,kind:i.DW.Measure,displayName:(0,t.V)("Role_DisplayName_Values"),displayOrder:m?.useModernFormatPane?2:3,description:(0,t.V)("Role_DisplayName_ValuesDescription"),requiredTypes:[{numeric:!0},{integer:!0}]},{name:d.tooltips,kind:i.DW.Measure,displayName:(0,t.V)("Role_DisplayName_Tooltips"),displayOrder:4,description:(0,t.V)("Role_Tooltips_Description"),joinPredicate:i.ps.None}],objects:{general:{displayName:(0,t.V)("Visual_General"),properties:{formatString:s.iD.formatString}},legend:s.TQ.legend,dataPoint:{displayName:(0,t.V)("Visual_DataPoint"),description:(0,t.V)("Visual_DataPointDescription"),properties:{defaultColor:s.iD.defaultColor,fill:s.iD.fill,fillTransparency:s.iD.genericTransparency,...p.IO,borderOutlineOnly:s.iD.borderOutlineOnly}},labels:{displayName:(0,t.V)("Visual_DetailLabels"),properties:{show:s.iD.show,...s.Ns,labelDisplayUnits:s.iD.dataLabelDisplayUnits,labelPrecision:{...s.iD.labelPrecision,suppressFormatPainterCopy:!0},percentageLabelPrecision:{...s.iD.percentageLabelPrecision,suppressFormatPainterCopy:!0},labelStyle:{displayName:(0,t.V)("Visual_LabelStyle"),type:{enumeration:n.dt}},position:{displayName:(0,t.V)("Visual_DonutLabelPosition"),type:{enumeration:g.dt}},overflow:{displayName:(0,t.V)("Visual_LabelOverflow"),type:{bool:!0}},background:{displayName:(0,t.V)("Visual_Background"),type:{enumeration:l.dt}}}},slices:{displayName:(0,t.V)("Visual_Shapes"),description:(0,t.V)("Visual_ShapesDescription"),properties:{innerRadiusRatio:{displayName:(0,t.V)("Visual_DonutInnerRadius"),type:{integer:!0}},startAngle:{displayName:(0,t.V)("Visual_DonutStartAngle"),type:{integer:!0}}}},...(0,s.A5)({callout:!0},!0)},dataViewMappings:[{conditions:[{Category:{max:1},Series:{max:0}},{Category:{max:1},Series:{min:1,max:1},Y:{max:1}}],categorical:{categories:{for:{in:"Category"},dataReductionAlgorithm:{top:{}}},values:{group:{by:"Series",select:[{bind:{to:"Y"}},{for:{in:"Tooltips"}}],dataReductionAlgorithm:{top:{}}}},rowCount:{preferred:{min:2},supported:{min:1}}}}],sorting:{default:{}},supportsHighlight:!0,drilldown:{roles:["Category"]},annotationTemplates:(0,s.kW)({callout:!0}),grouping:{groupingRules:[{condition:{Category:{min:1,max:1},Y:{min:1,max:1},Series:{max:0}},groupingTargetRole:"Category",groupSourceTargetRole:"Series",kind:a.t.Color},{condition:{Category:{min:1,max:1},Y:{min:1},Series:{max:0}},groupingTargetRole:"Category",kind:a.t.GroupInPlace},{condition:{Category:{max:0},Y:{min:1,max:1},Series:{max:1}},groupingTargetRole:"Series",kind:a.t.Color}]},supportsMultiVisualSelection:!0,tooltips:{supportedTypes:{default:!0,canvas:!0},roles:["Tooltips"],supportEnhancedTooltips:!0},supportsKeyboardFocus:!0,supportsOnObjectFormatting:!0}}},525350:function(ve,j,e){e.d(j,{Vh:function(){return d},XN:function(){return p}});var r=e(318456),i=e(630881),a=e(281210),t=e(35015),l=e(519908),g=e(847005),n={category:"Category",series:"Series",x:"X",y:"Y",gradient:"Size",tooltips:"Tooltips"};function p(o){return{dataRoles:s(o&&o.cartesianConditionalFormatting),objects:{general:{displayName:(0,a.V)("Visual_General"),properties:{formatString:g.iD.formatString}},legend:g.TQ.legend,dataPoint:{displayName:(0,a.V)("Visual_DataPoint"),description:(0,a.V)("Visual_DataPointDescription"),properties:{defaultColor:g.iD.defaultColor,showAllDataPoints:g.iD.showAllDataPoints,fill:g.iD.defaultCategoryColor,fillRule:{displayName:(0,a.V)("Role_DisplayName_Values"),description:(0,a.V)("Role_DisplayName_ValuesDescription"),type:{fillRule:{}},rule:{conditions:[{Series:{max:0}}],inputRole:n.gradient,output:{property:"fill",selector:[n.category]}}},transparency:g.iD.genericTransparency}},labels:{displayName:(0,a.V)("Visual_DataPointsLabels"),properties:{show:g.iD.show,color:g.iD.dataColor,labelDisplayUnits:g.iD.labelDisplayUnits,labelPrecision:g.iD.labelPrecision}},categoryLabels:{displayName:(0,a.V)("Visual_CategoryLabels"),properties:{show:g.iD.show}},mapControls:{displayName:(0,a.V)("Visual_MapControls"),description:(0,a.V)("Visual_MapControlsDescription"),properties:{autoZoom:{displayName:(0,a.V)("Visual_AutoZoom"),type:{bool:!0}},zoomLevel:{type:{numeric:!0}},centerLatitude:{type:{numeric:!0}},centerLongitude:{type:{numeric:!0}},showZoomButtons:{displayName:(0,a.V)("Visual_MapZoomButtons"),type:{bool:!0}},showLassoButton:{displayName:(0,a.V)("Visual_MapLassoButton"),type:{bool:!0}},minZoom:{displayName:(0,a.V)("Visual_MapMinZoomLevel"),type:{numeric:!0}},maxZoom:{displayName:(0,a.V)("Visual_MapMaxZoomLevel"),type:{numeric:!0}},geocodingCulture:{displayName:(0,a.V)("Visual_MapGeocodingCulture"),type:{enumeration:l.dt}}}},mapStyles:{displayName:(0,a.V)("Visual_MapStyles"),description:(0,a.V)("Visual_MapStylesDescription"),properties:{mapTheme:{displayName:(0,a.V)("Visual_MapTheme"),type:{enumeration:t.dt}},showLabels:{displayName:(0,a.V)("Visual_MapShowLabels"),type:{bool:!0}}}},stroke:{displayName:"Shape outline",properties:{show:g.iD.show,strokeColor:g.iD.genericColor,strokeWidth:g.iD.width}}},dataViewMappings:[{conditions:[{Category:{},Series:{max:1},X:{min:1,max:1},Y:{max:1},Size:{max:0}},{Category:{},Series:{max:1},X:{max:1},Y:{min:1,max:1},Size:{max:0}},{Category:{},Series:{max:1},X:{max:1},Y:{max:1},Size:{max:0},Tooltips:{min:1}},{Category:{},Series:{max:0},X:{max:1},Y:{max:1},Size:{max:1}}],categorical:{categories:{for:{in:n.category},dataReductionAlgorithm:{top:{}}},values:{group:{by:n.series,select:[{bind:{to:n.x}},{bind:{to:n.y}},{bind:{to:n.gradient}},{for:{in:n.tooltips}}],dataReductionAlgorithm:{top:{}}}},rowCount:{preferred:{min:2}},dataVolume:4}},{conditions:[{Category:{max:1},Series:{max:1,min:1},X:{max:0},Y:{max:0},Size:{max:0},Tooltips:{max:0}}],matrix:{rows:{select:[{bind:{to:n.series}},{composite:[{for:{in:n.category}}]}],dataReductionAlgorithm:{top:{}}},dataVolume:4}}],visualShapeDataViewMappings:[{conditions:[{[n.category]:{max:1},[n.series]:{max:1,min:1},[n.x]:{max:0},[n.y]:{max:0},[n.gradient]:{max:0},[n.tooltips]:{max:0}},{[n.category]:{},[n.series]:{max:1},[n.x]:{min:1,max:1},[n.y]:{max:1},[n.gradient]:{max:0}},{[n.category]:{},[n.series]:{max:1},[n.x]:{max:1},[n.y]:{min:1,max:1},[n.gradient]:{max:0}},{[n.category]:{},[n.series]:{max:1},[n.x]:{max:1},[n.y]:{max:1},[n.gradient]:{max:0},[n.tooltips]:{min:1}},{[n.category]:{},[n.series]:{max:0},[n.x]:{max:1},[n.y]:{max:1},[n.gradient]:{max:1}}],matrix:{rows:{select:[{bind:{to:n.category}}]},columns:{for:{in:n.series}},values:{select:[{bind:{to:n.x}},{bind:{to:n.y}},{bind:{to:n.gradient}},{for:{in:n.tooltips}}]}}}],sorting:{custom:{},implicit:{clauses:[{role:n.gradient,direction:r.S.Descending}]}},drilldown:{roles:[n.category]},supportsKeyboardFocus:!0,tooltips:{supportedTypes:{default:!0,canvas:!0},roles:[n.tooltips],supportEnhancedTooltips:!0},suppressVisualCalc:!o?.enableCalculationScatterChartMap}}function s(o){var v=[{name:n.category,kind:i.DW.Grouping,displayName:(0,a.V)("Role_DisplayName_Location"),description:(0,a.V)("Role_DisplayName_LocationFilledMapDescription"),preferredTypes:[{geography:{address:!0}},{geography:{city:!0}},{geography:{continent:!0}},{geography:{country:!0}},{geography:{county:!0}},{geography:{place:!0}},{geography:{postalCode:!0}},{geography:{region:!0}},{geography:{stateOrProvince:!0}}]},{name:n.series,kind:i.DW.Grouping,displayName:(0,a.V)("Role_DisplayName_Legend"),description:(0,a.V)("Role_DisplayName_LegendDescription")},{name:n.y,kind:i.DW.Measure,displayName:(0,a.V)("Role_DisplayName_Latitude"),description:(0,a.V)("Role_DisplayName_LatitudeFilledMapDescription"),preferredTypes:[{geography:{latitude:!0}}]},{name:n.x,kind:i.DW.Measure,displayName:(0,a.V)("Role_DisplayName_Longitude"),description:(0,a.V)("Role_DisplayName_LongitudeFilledMapDescription"),preferredTypes:[{geography:{longitude:!0}}]}];return o||v.push({name:n.gradient,kind:i.DW.Measure,displayName:(0,a.V)("Role_DisplayName_Gradient"),description:(0,a.V)("Role_DisplayName_GradientDescription"),requiredTypes:[{numeric:!0},{integer:!0}]}),v.push({name:n.tooltips,kind:i.DW.Measure,displayName:(0,a.V)("Role_DisplayName_Tooltips"),description:(0,a.V)("Role_Tooltips_Description"),joinPredicate:i.ps.None}),v}var d={general:{formatString:{objectName:"general",propertyName:"formatString"}},dataPoint:{defaultColor:{objectName:"dataPoint",propertyName:"defaultColor"},fill:{objectName:"dataPoint",propertyName:"fill"},showAllDataPoints:{objectName:"dataPoint",propertyName:"showAllDataPoints"},transparency:{objectName:"dataPoint",propertyName:"transparency"}},legend:{show:{objectName:"legend",propertyName:"show"},position:{objectName:"legend",propertyName:"position"},showTitle:{objectName:"legend",propertyName:"showTitle"},titleText:{objectName:"legend",propertyName:"titleText"}},labels:{show:{objectName:"labels",propertyName:"show"},color:{objectName:"labels",propertyName:"color"},labelDisplayUnits:{objectName:"labels",propertyName:"labelDisplayUnits"},labelPrecision:{objectName:"labels",propertyName:"labelPrecision"}},categoryLabels:{show:{objectName:"categoryLabels",propertyName:"show"}},mapControls:{autoZoom:{objectName:"mapControls",propertyName:"autoZoom"},zoomLevel:{objectName:"mapControls",propertyName:"zoomLevel"},centerLatitude:{objectName:"mapControls",propertyName:"centerLatitude"},centerLongitude:{objectName:"mapControls",propertyName:"centerLongitude"},showZoomButtons:{objectName:"mapControls",propertyName:"showZoomButtons"},showLassoButton:{objectName:"mapControls",propertyName:"showLassoButton"},minZoom:{objectName:"mapControls",propertyName:"minZoom"},maxZoom:{objectName:"mapControls",propertyName:"maxZoom"},geocodingCulture:{objectName:"mapControls",propertyName:"geocodingCulture"}},stroke:{show:{objectName:"stroke",propertyName:"show"},color:{objectName:"stroke",propertyName:"strokeColor"},width:{objectName:"stroke",propertyName:"strokeWidth"}}}},630652:function(ve,j,e){e.d(j,{IW:function(){return n},jP:function(){return p},qW:function(){return s}});var r=e(251868),i=e(630881),a=e(281210),t=e(365478),l=e(534562),g=e(847005),n={category:"Category",y:"Y",gradient:"Gradient",tooltips:"Tooltips"},p=(0,r.wZ)(s().objects);function s(d){return{dataRoles:[{name:n.category,kind:i.DW.Grouping,displayName:(0,a.V)(d?.useModernFormatPane?"Role_DisplayName_Category":"Group"),description:(0,a.V)("Role_DisplayName_GroupFunnelDescription")},{name:n.y,kind:i.DW.Measure,displayName:(0,a.V)("Role_DisplayName_Values"),description:(0,a.V)("Role_DisplayName_ValuesDescription"),requiredTypes:[{numeric:!0},{integer:!0}]},!d?.cartesianConditionalFormatting&&{name:n.gradient,kind:i.DW.Measure,displayName:(0,a.V)("Role_DisplayName_Gradient"),description:(0,a.V)("Role_DisplayName_GradientDescription"),requiredTypes:[{numeric:!0},{integer:!0}],joinPredicate:i.ps.None},{name:n.tooltips,kind:i.DW.Measure,displayName:(0,a.V)("Role_DisplayName_Tooltips"),description:(0,a.V)("Role_Tooltips_Description"),joinPredicate:i.ps.None}].filter(o=>o),dataViewMappings:[{conditions:[{Category:{max:0},Gradient:{max:0}},{Category:{max:1},Y:{max:1},Gradient:{max:1}}],categorical:{categories:{for:{in:"Category"},dataReductionAlgorithm:{top:{}}},values:{select:[{for:{in:"Y"}},{bind:{to:"Gradient"}},{for:{in:"Tooltips"}}]},rowCount:{preferred:{min:1}}}}],objects:{general:{displayName:(0,a.V)("Visual_General"),properties:{formatString:g.iD.formatString}},categoryAxis:{displayName:(0,a.V)("Visual_CategoryLabels"),description:(0,a.V)("Visual_CategoryLabelOptionsDescription"),properties:{...g.PP}},dataPoint:{displayName:(0,a.V)("Visual_DataPoint"),description:(0,a.V)("Visual_DataPointDescription"),properties:{defaultColor:g.iD.defaultColor,showAllDataPoints:g.iD.showAllDataPoints,fill:g.iD.defaultCategoryColor,fillRule:{displayName:(0,a.V)("Visual_Gradient"),type:{fillRule:{}},rule:{inputRole:"Gradient",output:{property:"fill",selector:["Category"]}}}}},labels:{displayName:(0,a.V)("Visual_DataPointsLabels"),description:(0,a.V)("Visual_DataPointsLabelsDescription"),properties:{show:g.iD.show,labelPosition:{displayName:(0,a.V)("Visual_Position"),type:{enumeration:l.O},suppressFormatPainterCopy:!0},labelDisplayUnits:g.iD.dataLabelDisplayUnits,labelPrecision:{...g.iD.labelPrecision,suppressFormatPainterCopy:!0},percentageLabelPrecision:{...g.iD.percentageLabelPrecision,suppressFormatPainterCopy:!0},funnelLabelStyle:{displayName:(0,a.V)("Visual_LabelStyle"),type:{enumeration:t.dt}},...g.Ns,...g.BO}},percentBarLabel:{displayName:(0,a.V)("Visual_PercentBarLabel"),description:(0,a.V)("Visual_PercentBarLabelDescription"),properties:{show:g.iD.show,...g.Ns}}},supportsHighlight:!0,supportsKeyboardFocus:!0,sorting:{default:{}},drilldown:{roles:["Category"]},supportsMultiVisualSelection:!0,tooltips:{supportedTypes:{default:!0,canvas:!0},roles:["Tooltips"],supportEnhancedTooltips:!0},supportsOnObjectFormatting:!0}}},357030:function(ve,j,e){e.d(j,{J:function(){return l},V:function(){return t},gaugeProps:function(){return g}});var r=e(630881),i=e(281210),a=e(847005),t={y:"Y",minValue:"MinValue",maxValue:"MaxValue",targetValue:"TargetValue",tooltips:"Tooltips"},l={dataRoles:[{name:t.y,kind:r.DW.Measure,displayName:(0,i.V)("Role_DisplayName_Value"),description:(0,i.V)("Role_DisplayName_ValueDescription"),requiredTypes:[{numeric:!0},{integer:!0}]},{name:t.minValue,kind:r.DW.Measure,displayName:(0,i.V)("Role_DisplayName_MinValue"),description:(0,i.V)("Role_DisplayName_MinValueDescription"),requiredTypes:[{numeric:!0},{integer:!0}]},{name:t.maxValue,kind:r.DW.Measure,displayName:(0,i.V)("Role_DisplayName_MaxValue"),description:(0,i.V)("Role_DisplayName_MaxValueDescription"),requiredTypes:[{numeric:!0},{integer:!0}]},{name:t.targetValue,kind:r.DW.Measure,displayName:(0,i.V)("Role_DisplayName_TargetValue"),description:(0,i.V)("Role_DisplayName_TargetValueDescription"),requiredTypes:[{numeric:!0},{integer:!0}]},{name:"Tooltips",kind:r.DW.Measure,displayName:(0,i.V)("Role_DisplayName_Tooltips"),description:(0,i.V)("Role_Tooltips_Description"),joinPredicate:r.ps.None}],objects:{general:{properties:{formatString:a.iD.formatString}},axis:{displayName:(0,i.V)("Visual_Gauge_Axis"),properties:{min:{displayName:(0,i.V)("Min"),placeHolderText:(0,i.V)("Visual_Auto"),type:{numeric:!0}},max:{displayName:(0,i.V)("Max"),placeHolderText:(0,i.V)("Visual_Auto"),type:{numeric:!0}},target:{displayName:(0,i.V)("Visual_Gauge_Axis_Target"),placeHolderText:(0,i.V)("Visual_Auto"),type:{numeric:!0}}}},dataPoint:{displayName:(0,i.V)("Visual_DataPoint"),properties:{fill:a.iD.fill,target:{displayName:(0,i.V)("Visual_Gauge_Axis_TargetColor"),type:{fill:{solid:{color:!0}}}}}},labels:{displayName:(0,i.V)("Visual_DataPointsLabels"),properties:{show:a.iD.show,...a.Ns,labelDisplayUnits:a.iD.labelDisplayUnits,labelPrecision:a.iD.labelPrecision}},target:{displayName:(0,i.V)("Visual_Gauge_Axis_Target"),properties:{show:a.iD.show,...a.Ns,labelDisplayUnits:a.iD.labelDisplayUnits,labelPrecision:a.iD.labelPrecision}},calloutValue:{displayName:(0,i.V)("Visual_Gauge_CalloutValue"),properties:{show:a.iD.show,..._.omit(a.Ns,["fontSize"]),labelDisplayUnits:a.iD.labelDisplayUnits,labelPrecision:a.iD.labelPrecision,showDynamicLabels:a.iD.showDynamicLabels,dynamicLabelValue:a.iD.dynamicLabelValue}}},dataViewMappings:[{conditions:[{Y:{max:1},MinValue:{max:1},MaxValue:{max:1},TargetValue:{max:1}}],categorical:{values:{select:[{bind:{to:"Y"}},{bind:{to:"MinValue"}},{bind:{to:"MaxValue"}},{bind:{to:"TargetValue"}},{for:{in:"Tooltips"}}]}}}],supportsSelection:!1,tooltips:{supportedTypes:{default:!0,canvas:!0},roles:["Tooltips"],supportEnhancedTooltips:!0},supportsKeyboardFocus:!0,supportsOnObjectFormatting:!0,supportsDataDrivenAlerts:!0},g={general:{formatString:{objectName:"general",propertyName:"formatString"}},axis:{min:{objectName:"axis",propertyName:"min"},max:{objectName:"axis",propertyName:"max"},target:{objectName:"axis",propertyName:"target"}},dataPoint:{fill:{objectName:"dataPoint",propertyName:"fill"},target:{objectName:"dataPoint",propertyName:"target"}},target:{show:{objectName:"target",propertyName:"show"},labelDisplayUnits:{objectName:"target",propertyName:"labelDisplayUnits"},labelPrecision:{objectName:"target",propertyName:"labelPrecision"},fontSize:{objectName:"target",propertyName:"fontSize"},fontFamily:{objectName:"target",propertyName:"fontFamily"},color:{objectName:"target",propertyName:"color"},bold:{objectName:"target",propertyName:"bold"},italic:{objectName:"target",propertyName:"italic"},underline:{objectName:"target",propertyName:"underline"}},labels:{show:{objectName:"labels",propertyName:"show"},labelDisplayUnits:{objectName:"labels",propertyName:"labelDisplayUnits"},labelPrecision:{objectName:"labels",propertyName:"labelPrecision"},fontSize:{objectName:"labels",propertyName:"fontSize"},fontFamily:{objectName:"labels",propertyName:"fontFamily"},color:{objectName:"labels",propertyName:"color"},bold:{objectName:"labels",propertyName:"bold"},italic:{objectName:"labels",propertyName:"italic"},underline:{objectName:"labels",propertyName:"underline"}},calloutValue:{show:{objectName:"calloutValue",propertyName:"show"},color:{objectName:"calloutValue",propertyName:"color"},labelDisplayUnits:{objectName:"calloutValue",propertyName:"labelDisplayUnits"},labelPrecision:{objectName:"calloutValue",propertyName:"labelPrecision"},fontFamily:{objectName:"calloutValue",propertyName:"fontFamily"},bold:{objectName:"calloutValue",propertyName:"bold"},italic:{objectName:"calloutValue",propertyName:"italic"},underline:{objectName:"calloutValue",propertyName:"underline"},showDynamicLabels:{objectName:"calloutValue",propertyName:"showDynamicLabels"},dynamicLabelValue:{objectName:"calloutValue",propertyName:"dynamicLabelValue"}}}},497737:function(ve,j,e){e.d(j,{Jz:function(){return g},_g:function(){return l}});var r=e(251868),i=e(281210),a=e(405604),t={general:{properties:{imageUrl:{type:{misc:{imageUrl:!0}},suppressFormatPainterCopy:!0}}},imageScaling:{displayName:(0,i.V)("Visual_Image_Scaling_Type"),properties:{imageScalingType:{displayName:(0,i.V)("Visual_Image_Scaling_Type"),type:{enumeration:a.H}}}}},l=(0,r.wZ)(t),g={objects:t,suppressDefaultTitle:!0,supportsSelection:!1,supportsVisualLink:!0,disableFormatMode:!0}},322543:function(ve,j,e){e.d(j,{ml:function(){return d},qG:function(){return p},yM:function(){return o}});var r=e(251868),i=e(630881),a=e(281210),t=e(411760),l=e(514692),g=e(369503),n=e(258996),p={target:"Target",explainBy:"ExplainBy",details:"Details"},s={keyDrivers:{displayName:(0,a.V)("Analysis"),description:(0,a.V)("Visual_KeyDriversDescription"),properties:{allowKeyDrivers:{displayName:(0,a.V)("Visual_KeyDrivers_AllowKeyDrivers"),description:(0,a.V)("Visual_KeyDrivers_AllowKeyDriversDescription"),type:{bool:!0}},allowProfiles:{displayName:(0,a.V)("Visual_KeyDrivers_AllowProfiles"),description:(0,a.V)("Visual_KeyDrivers_AllowProfilesDescription"),type:{bool:!0}},selectedNumericAnalysis:{displayName:(0,a.V)("Visual_KeyDrivers_NumericAnalysis"),description:(0,a.V)("Visual_KeyDrivers_NumericAnalysisDescription"),type:{enumeration:g.dt},suppressFormatPainterCopy:!0},allowKeyDriversCounting:{displayName:(0,a.V)("Visual_KeyDrivers_AllowKeyDriversCounting"),description:(0,a.V)("Visual_KeyDrivers_AllowKeyDriversCountingDescription"),type:{bool:!0}},countType:{displayName:(0,a.V)("KeyDriver_CountType"),description:(0,a.V)("KeyDriver_CountType_Description"),type:{enumeration:l.dt}},selectedAnalysis:{type:{enumeration:t.dt},suppressFormatPainterCopy:!0},selectedSort:{type:{enumeration:n.dt},suppressFormatPainterCopy:!0},targetValue:{type:{text:!0},suppressFormatPainterCopy:!0},numericTargetSelectedKind:{type:{numeric:!0},suppressFormatPainterCopy:!0}}},keyInfluencersVisual:{displayName:(0,a.V)("Visual_KeyDriversVisualColors"),description:(0,a.V)("Visual_KeyDriversVisualColors_Description"),properties:{primaryColor:{displayName:(0,a.V)("Visual_KeyDriversVisualColors_PrimaryColor"),description:(0,a.V)("Visual_KeyDriversVisualColors_PrimaryColor_Description"),type:{fill:{solid:{color:!0}}}},primaryFontColor:{displayName:(0,a.V)("Visual_KeyDriversVisualColors_PrimaryFontColor"),description:(0,a.V)("Visual_KeyDriversVisualColors_PrimaryFontColor_Description"),type:{fill:{solid:{color:!0}}}},secondaryColor:{displayName:(0,a.V)("Visual_KeyDriversVisualColors_SecondaryColor"),description:(0,a.V)("Visual_KeyDriversVisualColors_SecondaryColor_Description"),type:{fill:{solid:{color:!0}}}},secondaryFontColor:{displayName:(0,a.V)("Visual_KeyDriversVisualColors_SecondaryFontColor"),description:(0,a.V)("Visual_KeyDriversVisualColors_SecondaryFontColor_Description"),type:{fill:{solid:{color:!0}}}},canvasColor:{displayName:(0,a.V)("Background_Color"),description:(0,a.V)("Visual_KeyDriversVisualColors_CanvasColor_Description"),type:{fill:{solid:{color:!0}}}},fontColor:{displayName:(0,a.V)("Visual_FontColor"),description:(0,a.V)("Visual_FontColor"),type:{fill:{solid:{color:!0}}}}}},keyDriversDrillVisual:{displayName:(0,a.V)("Visual_KeyDriversDrillVisualColors"),description:(0,a.V)("Visual_KeyDriversDrillVisualColors_Description"),properties:{defaultColor:{displayName:(0,a.V)("Visual_DefaultColor"),description:(0,a.V)("Visual_DefaultColor"),type:{fill:{solid:{color:!0}}}},referenceLineColor:{displayName:(0,a.V)("Visual_KeyDriversDrillVisualColors_ReferenceLineColor"),description:(0,a.V)("Visual_Reference_Line_Color_Description"),type:{fill:{solid:{color:!0}}}}}}},d=(0,r.wZ)(s);function o(){return{dataRoles:[{name:p.target,kind:i.DW.GroupingOrMeasure,kindPreference:i.u3.Grouping,displayName:(0,a.V)("Role_DisplayName_Target"),description:(0,a.V)("Role_DisplayName_TargetDescription")},{name:p.explainBy,kind:i.DW.GroupingOrMeasure,displayName:(0,a.V)("Role_DisplayName_ExplainBy"),description:(0,a.V)("Role_DisplayName_ExplainByDescription")},{name:p.details,kind:i.DW.Grouping,displayName:(0,a.V)("Role_DisplayName_Details"),description:(0,a.V)("Role_DisplayName_DetailsKeyDriversDescription")}],objects:s,suppressDefaultTitle:!0,dataViewMappings:[{conditions:[{[p.target]:{min:1,max:1}}],table:{rows:{select:[{bind:{to:p.target}},{for:{in:p.explainBy}}],dataReductionAlgorithm:{window:{count:500}}},rowCount:{preferred:{min:1}}}}],supportsKeyboardFocus:!0,supportsSelection:!1,tooltips:{supportEnhancedTooltips:!0}}}},40545:function(ve,j,e){e.d(j,{Pn:function(){return s},Te:function(){return v},pW:function(){return o},xg:function(){return m}});var r=e(318456),i=e(251868),a=e(630881),t=e(281210),l=e(291078),g=e(946740),n=e(984955),p=e(847005),s={indicator:"Indicator",trendLine:"TrendLine",goal:"Goal"};function d(c){var C=c&&c.useModernFormatPane;return[{name:s.indicator,kind:a.DW.Measure,displayName:(0,t.V)(C?"KpiValueFieldListDisplayName":"Role_DisplayName_KPI_Indicator"),description:(0,t.V)("Role_DisplayName_KPI_IndicatorDescription"),requiredTypes:[{numeric:!0},{integer:!0}]},{name:s.trendLine,kind:a.DW.Grouping,displayName:(0,t.V)("Role_DisplayName_KPI_TrendLine"),description:(0,t.V)("Role_DisplayName_KPI_Trendline_Description")},{name:s.goal,kind:a.DW.Measure,displayName:(0,t.V)(C?"Target":"Role_DisplayName_KPI_Goal"),description:(0,t.V)("Role_DisplayName_KPI_GoalDescription"),requiredTypes:[{numeric:!0},{integer:!0}]}]}function o(c){return{dataRoles:d(c),dataViewMappings:[{conditions:[{Indicator:{max:1},TrendLine:{max:1},Goal:{max:2}}],categorical:{categories:{for:{in:"TrendLine"},dataReductionAlgorithm:{bottom:{}}},values:{select:[{bind:{to:"Indicator"}},{bind:{to:"Goal"}}]}}}],objects:{general:{displayName:(0,t.V)("Visual_General"),properties:{formatString:p.iD.formatString}},indicator:{displayName:(0,t.V)("Role_DisplayName_KPI_Indicator"),description:(0,t.V)("Role_DisplayName_KPI_IndicatorDescription"),properties:{indicatorDisplayUnits:{displayName:(0,t.V)("Visual_DisplayUnits"),description:(0,t.V)("Visual_DisplayUnitsDescription"),type:{formatting:{labelDisplayUnits:!0}}},indicatorPrecision:p.iD.labelPrecision,...p.KG,showIcon:p.iD.showIcon,iconSize:p.iD.iconSize,verticalAlignment:p.iD.verticalAlignment,horizontalAlignment:p.iD.horizontalAlignment}},trendline:{displayName:(0,t.V)("Role_DisplayName_KPI_TrendLine"),description:(0,t.V)("Role_DisplayName_KPI_Trendline_Description"),properties:{show:p.iD.show,transparency:p.iD.genericTransparency}},goals:{displayName:(0,t.V)("Role_DisplayName_KPI_Goals"),description:(0,t.V)("Role_DisplayName_KPI_Goals"),properties:{showGoal:{displayName:(0,t.V)("Role_DisplayName_KPI_Show_Goal"),type:{bool:!0}},goalText:{displayName:(0,t.V)("Role_DisplayName_Label"),type:{text:!0}},fontSize:p.iD.fontSize,bold:p.iD.bold,italic:p.iD.italic,underline:p.iD.underline,goalFontFamily:p.iD.fontFamily,goalFontColor:p.iD.fontColor,showDistance:{displayName:(0,t.V)("Distance"),type:{bool:!0}},distanceLabel:{displayName:(0,t.V)("Role_DisplayName_Label"),type:{enumeration:n.dt}},labelPrecision:p.iD.labelPrecision,titleFontSize:p.iD.fontSize,titleBold:p.iD.bold,titleItalic:p.iD.italic,titleUnderline:p.iD.underline,distanceFontFamily:p.iD.fontFamily,distanceFontColor:p.iD.fontColor,direction:{displayName:(0,t.V)("Visual_KPI_DistanceDirection"),type:{enumeration:g.dt}}}},status:{displayName:(0,t.V)("Role_DisplayName_KPI_Color_Coding"),description:(0,t.V)("Role_DisplayName_KPI_Color_Coding"),properties:{direction:{displayName:(0,t.V)("Visual_KPI_Direction"),type:{enumeration:l.dt}},goodColor:{displayName:(0,t.V)("Visual_KPI_Good_Color"),type:{fill:{solid:{color:!0}}}},neutralColor:{displayName:(0,t.V)("Visual_KPI_Neutral_Color"),type:{fill:{solid:{color:!0}}}},badColor:{displayName:(0,t.V)("Visual_KPI_Bad_Color"),type:{fill:{solid:{color:!0}}}}}},lastDate:{displayName:(0,t.V)("ConditionalFormattingDialog_Date"),description:(0,t.V)("Role_DisplayName_KPI_Date_Description"),properties:{show:p.iD.show,..._.omit(p.Ns,["fontFamily","color"]),lastDateFontFamily:p.iD.fontFamily,lastDateFontColor:p.iD.fontColor}}},sorting:{custom:{},implicit:{clauses:[{role:"TrendLine",direction:r.S.Ascending}]}},supportsKeyboardFocus:!0,supportsDataDrivenAlerts:!0}}var v=(0,i.wZ)(o().objects),m={directionTypeStringProp:{objectName:"status",propertyName:"direction"},goodColorProp:{objectName:"status",propertyName:"goodColor"},neutralColorProp:{objectName:"status",propertyName:"neutralColor"},badColorProp:{objectName:"status",propertyName:"badColor"},showKPIGoal:{objectName:"goals",propertyName:"showGoal"},showKPIDistance:{objectName:"goals",propertyName:"showDistance"},showKPITrendLine:{objectName:"trendline",propertyName:"show"},showKPILastDate:{objectName:"lastDate",propertyName:"show"},indicatorDisplayUnitsProp:{objectName:"indicator",propertyName:"indicatorDisplayUnits"},indicatorPrecisionProp:{objectName:"indicator",propertyName:"indicatorPrecision"},indicatorFontSizeProp:{objectName:"indicator",propertyName:"fontSize"},indicatorBoldProp:{objectName:"indicator",propertyName:"bold"},indicatorItalicProp:{objectName:"indicator",propertyName:"italic"},indicatorUnderlineProp:{objectName:"indicator",propertyName:"underline"},indicatorFontFamilyProp:{objectName:"indicator",propertyName:"fontFamily"},indicatorFontColorProp:{objectName:"indicator",propertyName:"fontColor"},indicatorIconSizeProp:{objectName:"indicator",propertyName:"iconSize"},indicatorIconShowIconProp:{objectName:"indicator",propertyName:"showIcon"},indicatorTransparencyProp:{objectName:"trendline",propertyName:"transparency"},indicatorHorizontalAlignmentProp:{objectName:"indicator",propertyName:"horizontalAlignment"},indicatorVerticalAlignmentProp:{objectName:"indicator",propertyName:"verticalAlignment"},goalTextProp:{objectName:"goals",propertyName:"goalText"},goalFontSizeProp:{objectName:"goals",propertyName:"fontSize"},goalBoldProp:{objectName:"goals",propertyName:"bold"},goalItalicProp:{objectName:"goals",propertyName:"italic"},goalUnderlineProp:{objectName:"goals",propertyName:"underline"},goalFontFamilyProp:{objectName:"goals",propertyName:"goalFontFamily"},goalFontColorProp:{objectName:"goals",propertyName:"goalFontColor"},distanceLabelProp:{objectName:"goals",propertyName:"distanceLabel"},distancePrecisionProp:{objectName:"goals",propertyName:"labelPrecision"},distanceFontSizeProp:{objectName:"goals",propertyName:"titleFontSize"},distanceBoldProp:{objectName:"goals",propertyName:"titleBold"},distanceItalicProp:{objectName:"goals",propertyName:"titleItalic"},distanceUnderlineProp:{objectName:"goals",propertyName:"titleUnderline"},distanceFontFamilyProp:{objectName:"goals",propertyName:"distanceFontFamily"},distanceFontColorProp:{objectName:"goals",propertyName:"distanceFontColor"},distanceDirectionTypeStringProp:{objectName:"goals",propertyName:"direction"},lastDateFontSizeProp:{objectName:"lastDate",propertyName:"fontSize"},lastDateBoldProp:{objectName:"lastDate",propertyName:"bold"},lastDateItalicProp:{objectName:"lastDate",propertyName:"italic"},lastDateUnderlineProp:{objectName:"lastDate",propertyName:"underline"},lastDateFontFamilyProp:{objectName:"lastDate",propertyName:"lastDateFontFamily"},lastDateFontColorProp:{objectName:"lastDate",propertyName:"lastDateFontColor"}}},223789:function(ve,j,e){e.d(j,{BX:function(){return u},My:function(){return m},lineChartObjectProps:function(){return c},yg:function(){return C},zK:function(){return h}});var r=e(650543),i=e(251868),a=e(630881),t=e(281210),l=e(336596),g=e(490881),n=e(538451),p=e(807341),s=e(828087),d=e(147818),o=e(847005),v=e(868797);function m(b,V,T=!1){var P={general:{displayName:(0,t.V)("Visual_General"),properties:{formatString:o.iD.formatString,responsive:o.iD.responsive,responsiveLegacy:o.iD.responsiveLegacy}},legend:{displayName:o.TQ.legend.displayName,description:o.TQ.legend.description,properties:{...o.TQ.legend.properties,legendMarkerRendering:o.iD.legendMarkerRendering,matchLineColor:o.iD.matchLineColor}},subheader:{...o.TQ.subheader},[l.Xi]:{...o.TQ.smallMultiplesLayout},categoryAxis:{displayName:(0,t.V)("Visual_XAxis"),properties:{show:o.iD.show,...o.pT,...o.Mu,...o.wF,...(0,o.Me)("x"),...o.WV,...(b&&V||T)&&{reverseStackOrder:o.iD.reverseStackOrder}}},valueAxis:{displayName:(0,t.V)("Visual_YAxis"),properties:{show:o.iD.show,...o.yl,...o.wF,...(0,o.Me)("y"),...o.WV,switchAxisPosition:o.iD.switchAxisPosition}},y2Axis:{displayName:(0,t.V)("Visual_Y2Axis"),properties:{show:o.iD.show,..._.omit(o.sJ,["alignZeros","switchAxisPosition","secShow"])}},zoom:{displayName:o.TQ.zoom.displayName,properties:{...o.TQ.zoom.properties,...o.DW.zoom.properties}},dataPoint:{displayName:(0,t.V)("Visual_DataPoint"),description:(0,t.V)("Visual_DataPointDescription"),properties:{transparency:{displayName:(0,t.V)("Visual_AreaTransparency"),type:{numeric:!0}},defaultColor:o.iD.defaultColor,fill:o.iD.genericColor,showAllDataPoints:o.iD.showAllDataPoints}},layout:{displayName:(0,t.V)("Layout"),properties:{...(b&&V||T)&&{seriesOrderReversed:o.iD.seriesOrderReversed}}},labels:{displayName:(0,t.V)("Visual_DataPointsLabels"),description:(0,t.V)("Visual_DataPointsLabelsDescription"),properties:{show:o.iD.show,showByDefault:o.iD.boolWithoutDescription,showSeries:o.iD.show,showAll:o.iD.labelSeriesShowAll,...o.Zt,maximumOffset:o.iD.maximumOffset,minimumOffset:o.iD.minimumOffset,...o.BO,...o.t_,...o.QN,...o.Xn,...o.gq,labelContentLayout:o.iD.labelContentLayout,horizontalAlignment:o.iD.horizontalAlignment,leaderLines:o.iD.leaderLines,...(!b||T)&&(0,o.CG)(o.Hs)}},...(b||T)&&{totals:o.TQ.totals},seriesLabels:o.TQ.seriesLabels,lineStyles:{displayName:(0,t.V)("Visual_Shapes"),description:(0,t.V)("Visual_ShapesDescription"),properties:{...(0,o.CG)({strokeShow:"strokeShow",strokeWidth:"strokeWidth",strokeColor:void 0,strokeTransparency:"strokeTransparency",strokePattern:"lineStyle",strokeLineJoin:"strokeLineJoin",strokeAutoScale:"strokeAutoScale",strokeDashArray:"strokeDashArray",strokeDashCap:"strokeDashCap"}),showMarker:o.iD.show,markerShape:o.iD.markerShape,markerSize:o.iD.markerSize,markerColor:o.iD.genericColor,showMarkerByDefault:o.iD.boolWithoutDescription,showSeries:o.iD.labelSeriesShowAll,...S({interpolation:"lineChartType"}),areaShow:{displayName:(0,t.V)("Visual_Shapes_ShadeArea"),type:{bool:!0}},areaColor:o.iD.genericColor,areaMatchStrokeColor:o.iD.matchLineColor}},markers:o.TQ.markers,plotArea:o.TQ.plotArea,trend:(0,o.Fe)(!0),scalarKey:{properties:{min:{type:{dateTime:!0}}}},[d.j3.y1]:{displayName:(0,t.V)("Visual_Reference_Line_Y"),description:(0,t.V)("Visual_Reference_Line_Description"),objectCategory:a.fv.Analytics,suppressFormatPainterCopy:!0,properties:o.I3},[d.j3.x]:{displayName:(0,t.V)("Visual_Reference_Line_X"),description:(0,t.V)("Visual_Reference_Line_Description"),objectCategory:a.fv.Analytics,suppressFormatPainterCopy:!0,properties:o.Hk},...(!b||T)&&{[d.j3.generic]:{displayName:(0,t.V)("Visual_Reference_Line"),description:(0,t.V)("Visual_Reference_Line_Description"),objectCategory:a.fv.Analytics,suppressFormatPainterCopy:!0,properties:o.I3}},...(!b&&!V||T)&&{error:{...o.TQ.error},forecast:{displayName:(0,t.V)("Visual_Forecast"),objectCategory:a.fv.Analytics,suppressFormatPainterCopy:!0,properties:{displayName:{displayName:(0,t.V)("Name"),description:(0,t.V)("Visual_Forecast_DisplayName_Description"),type:{text:!0}},...(0,o.CG)(o.ZB),...o.Oc,...o.iQ,matchSeriesInterpolation:{displayName:(0,t.V)("Visual_MatchSeriesInterpolation"),type:{bool:!0}},...S(),transform:{type:{queryTransform:{}}}}}},filters:{properties:{filteredToUniqueValue:{type:{bool:!0}}}},...(0,o.A5)({callout:!0},!0)};return delete P.categoryAxis.properties.innerPadding,P}var c=(0,i.wZ)(m(!0,!0,!0));function C(b,V,T){var P=T&&T.useModernFormatPane;r.f.assert(()=>!b||V,"Non-area stacked line is not supported");var D=m(b,V,void 0),w=[{name:d.Rm.Category,kind:a.DW.Grouping,displayName:(0,t.V)(P?"Visual_XAxis_Hyphen":"Role_DisplayName_Axis"),displayOrder:1,description:(0,t.V)("Role_DisplayName_AxisDescription"),cartesianKind:a.Lv.X},{name:d.Rm.Series,kind:a.DW.Grouping,displayName:(0,t.V)("Role_DisplayName_Legend"),displayOrder:P?4:2,description:(0,t.V)("Role_DisplayName_LegendDescription")},{name:d.Rm.Y,kind:a.DW.Measure,displayName:(0,t.V)(P?"Visual_YAxis_Hyphen":"Role_DisplayName_Values"),displayOrder:P?2:3,description:(0,t.V)("Role_DisplayName_ValuesDescription"),requiredTypes:[{numeric:!0},{integer:!0}],cartesianKind:a.Lv.Y}];b||w.push({name:d.Rm.Y2,kind:a.DW.Measure,displayName:(0,t.V)(P?"Visual_Y2Axis_Hyphen":"Role_DisplayName_Y2"),displayOrder:P?3:4,description:(0,t.V)("Role_DisplayName_ValuesDescription"),requiredTypes:[{numeric:!0},{integer:!0}],cartesianKind:a.Lv.Y}),w.push({name:d.Rm.Rows,kind:a.DW.Grouping,displayName:(0,t.V)("Role_DisplayName_SmallMultiples"),displayOrder:5,description:(0,t.V)("Role_DisplayName_SmallMultiples_Description"),disallowedWithVisualCalculations:!0}),w.push({name:d.Rm.Tooltips,kind:a.DW.Measure,displayName:(0,t.V)("Role_DisplayName_Tooltips"),displayOrder:6,description:(0,t.V)("Role_Tooltips_Description"),joinPredicate:a.ps.None});var F,M={dataRoles:w,objects:D,dataViewMappings:[(F={conditions:[{[d.Rm.Series]:{max:0},[d.Rm.Rows]:{min:1}},{[d.Rm.Series]:{min:1,max:1},[d.Rm.Y]:{max:1},[d.Rm.Rows]:{min:1}},{[d.Rm.Series]:{min:1,max:1},[d.Rm.Y]:{max:0},[d.Rm.Rows]:{min:1}}],matrix:{rows:{select:[{composite:[{for:{in:d.Rm.Rows}}],dataReductionAlgorithm:{window:{count:l.QS}}},{composite:[{for:{in:d.Rm.Category}}],synchronized:!0,dataReductionAlgorithm:{sample:{}}}]},columns:{for:{in:d.Rm.Series},dataReductionAlgorithm:{top:{}}},values:{select:[{for:{in:d.Rm.Y}},{for:{in:d.Rm.Tooltips}}]},dataVolume:6}},b||y(F),F),function(){var F={conditions:[{[d.Rm.Series]:{max:0},[d.Rm.Rows]:{max:0}},{[d.Rm.Series]:{min:1,max:1},[d.Rm.Y]:{max:1},[d.Rm.Rows]:{max:0}},{[d.Rm.Series]:{min:1,max:1},[d.Rm.Y]:{max:0},[d.Rm.Rows]:{max:0}}],categorical:{categories:{for:{in:d.Rm.Category}},values:{group:{by:d.Rm.Series,select:[{for:{in:d.Rm.Y}},{for:{in:d.Rm.Tooltips}}]}}}};return b?function(b){r.f.assertValue(b,"mapping"),r.f.assertValue(b.categorical,"categorical mapping");var V=b.categorical;V.dataReductionAlgorithm=void 0,V.categories.dataReductionAlgorithm={sample:{}},V.values.group.dataReductionAlgorithm={top:{}}}(F):function(b){if(r.f.assertValue(b,"mapping"),b.categorical){var V=b.categorical;V.dataReductionAlgorithm={binnedLineSample:{}},V.categories.dataReductionAlgorithm=void 0,V.values.group.dataReductionAlgorithm=void 0}else b.matrix&&r.f.assertFail("Binned sampling not supported in this configuration")}(F),b||y(F),F}(),{conditions:[{[d.xV.rows]:{max:0},[d.Rm.Series]:{max:0}},{[d.xV.rows]:{max:0},[d.Rm.Series]:{min:1,max:1},[d.Rm.Y]:{max:1},[d.Rm.Y2]:{max:0}},{[d.xV.rows]:{max:0},[d.Rm.Series]:{min:1,max:1},[d.Rm.Y]:{max:0},[d.Rm.Y2]:{max:1}}],requiredProperties:[{objectName:"trend",propertyName:"show"}],usage:{regression:{combineSeries:{objectName:"trend",propertyName:"combineSeries"}}},categorical:{categories:{for:{in:"regression.X"}},values:{group:{by:"regression.Series",select:[{for:{in:"regression.Y"}}]}}}},{conditions:[{[d.xV.rows]:{max:0},[d.Rm.Series]:{max:0},[d.Rm.Category]:{min:1},[d.Rm.Y]:{min:1,max:1},[d.Rm.Y2]:{max:0}}],requiredProperties:[{objectName:"forecast",propertyName:"show"}],usage:{forecast:{}},categorical:{categories:{for:{in:d.Rm.Category}},values:{group:{by:d.Rm.Series,select:[{for:{in:"forecast.ForecastValue"}},{for:{in:"forecast.ConfidenceHighBound"}},{for:{in:"forecast.ConfidenceLowBound"}}]}}}},{conditions:[{[d.Rm.Rows]:{max:0},[d.Rm.Series]:{max:0},[d.Rm.Category]:{min:1},[d.Rm.Y]:{min:1,max:1},[d.Rm.Y2]:{max:0}}],requiredProperties:[{objectName:g.xn,propertyName:"show"}],usage:{anomalyDetection:{}},categorical:{categories:{for:{in:d.Rm.Category}},values:{group:{by:d.Rm.Series,select:[{for:{in:g.rj.ExpectedValue}},{for:{in:g.rj.ExpectedLow}},{for:{in:g.rj.ExpectedHigh}},{for:{in:g.rj.RawScore}},{for:{in:g.rj.Anomaly}},{for:{in:g.rj.BatchStart}},{for:{in:g.rj.BatchEnd}}]}}}}],sorting:{default:{}},drilldown:{roles:[d.Rm.Category]},supportsMultiVisualSelection:!0,supportsKeyboardFocus:!0,tooltips:{supportedTypes:{default:!0,canvas:!0},supportEnhancedTooltips:!0,roles:[d.Rm.Tooltips]},supportsDataDrivenAlerts:!0,insights:{explainAnomalies:{anomalyDataPointObjectName:g.r3}},expandAndSort:[d.Rm.Category],supportsOnObjectFormatting:!0,annotationTemplates:(0,o.kW)({callout:!0})};return!b&&!V&&T&&T.daxTransformEnabled&&(M.objects[g.xn]={displayName:(0,t.V)("Visual_AnomalyDetection"),objectCategory:a.fv.Analytics,suppressFormatPainterCopy:!0,properties:{[g.JS.showAnomalies]:o.iD.show,[g.JS.displayName]:{displayName:(0,t.V)("Name"),description:(0,t.V)("Visual_AnomalyDetection_DisplayName_Description"),type:{text:!0}},[v.m6.show]:o.iD.show,[v.m6.shape]:{displayName:(0,t.V)("Type"),description:(0,t.V)("Visual_AnomalyDetection_AnomalyShape_Description"),type:{enumeration:n.XM}},[v.m6.size]:o.iD.markerSize,[v.m6.color]:o.iD.genericColor,[v.m6.transparency]:o.iD.genericTransparency,[v.m6.rotation]:o.iD.genericRotation,...(0,o.CG)(v.m6),[g.JS.confidenceBandShow]:o.iD.show,[g.JS.confidenceBandStyle]:{displayName:(0,t.V)("Style"),description:(0,t.V)("Visual_AnomalyDetection_RangeStyle_Description"),type:{enumeration:p.Qm}},[g.JS.confidenceBandTransparency]:o.iD.genericTransparency,[g.JS.confidenceBandColor]:o.iD.genericColor,[g.K1.CategoryValue]:{type:{dateTime:!0}},[g.K1.Value]:{type:{numeric:!0}},[g.K1.ExpectedValue]:{type:{numeric:!0}},[g.K1.ExpectedLow]:{type:{numeric:!0}},[g.K1.ExpectedHigh]:{type:{numeric:!0}},[g.K1.BatchStart]:{type:{dateTime:!0}},[g.K1.BatchEnd]:{type:{dateTime:!0}},transform:{type:{queryTransform:{}}},[g.JS.explainBy]:{type:{exprList:{}}},[g.JS.isAnomalyHighlighted]:{type:{bool:!0}}}}),M}function y(b){var V;_.find(b.conditions,T=>_.isEqual(T[d.Rm.Series],{min:1,max:1})&&_.isEqual(T[d.Rm.Y],{max:1}))[d.Rm.Y2]={max:0},_.find(b.conditions,T=>_.isEqual(T[d.Rm.Series],{min:1,max:1})&&_.isEqual(T[d.Rm.Y],{max:0}))[d.Rm.Y2]={max:1},b.categorical?V=b.categorical.values.group.select:b.matrix&&(V=b.matrix.values.select),V.splice(1,0,{for:{in:d.Rm.Y2}})}function S(b={}){var{interpolation:V="interpolation",interpolationStep:T="interpolationStep",interpolationSmooth:P="interpolationSmooth",interpolationSmoothParam:D="interpolationSmoothParam"}=b;return{[V]:{displayName:(0,t.V)("Visual_Interpolation"),description:(0,t.V)("Visual_InterpolationDescription"),type:{enumeration:s.CO}},[T]:{displayName:(0,t.V)("Visual_SteppedPosition"),type:{enumeration:s.oI}},[P]:{displayName:(0,t.V)("Visual_SmoothType"),type:{enumeration:s.cZ}},[D]:{displayName:(0,t.V)("Visual_LineInterp_Tension"),type:{numeric:!0}}}}var h={dataPoint:{showAllDataPoints:{objectName:"dataPoint",propertyName:"showAllDataPoints"}},layout:{seriesOrderReversed:{objectName:"layout",propertyName:"seriesOrderReversed"}},trend:{show:{objectName:"trend",propertyName:"show"}},forecast:{show:{objectName:"forecast",propertyName:"show"}},legend:{legendMarkerRendering:{objectName:"legend",propertyName:"legendMarkerRendering"},matchLineColor:{objectName:"legend",propertyName:"matchLineColor"}},labels:{labelDensity:{objectName:"labels",propertyName:"labelDensity"},showByDefault:{objectName:"labels",propertyName:"showByDefault"},showDynamicLabels:{objectName:"labels",propertyName:"showDynamicLabels"},dynamicLabelValue:{objectName:"labels",propertyName:"dynamicLabelValue"},minimumOffset:{objectName:"labels",propertyName:"minimumOffset"},maximumOffset:{objectName:"labels",propertyName:"maximumOffset"},enableValueDataLabel:{objectName:"labels",propertyName:"enableValueDataLabel"},valueCustomFormatString:{objectName:"labels",propertyName:"valueCustomFormatString"},showBlankAs:{objectName:"labels",propertyName:"showBlankAs"},titleFontSize:{objectName:"labels",propertyName:"titleFontSize"},titleBold:{objectName:"labels",propertyName:"titleBold"},titleItalic:{objectName:"labels",propertyName:"titleItalic"},titleUnderline:{objectName:"labels",propertyName:"titleUnderline"},titleFontFamily:{objectName:"labels",propertyName:"titleFontFamily"},titleColor:{objectName:"labels",propertyName:"titleColor"},titleTransparency:{objectName:"labels",propertyName:"titleTransparency"},titleLabelDisplayUnits:{objectName:"labels",propertyName:"titleLabelDisplayUnits"},titleCustomFormatString:{objectName:"labels",propertyName:"titleCustomFormatString"},titleLabelPrecision:{objectName:"labels",propertyName:"titleLabelPrecision"},titleShowBlankAs:{objectName:"labels",propertyName:"titleShowBlankAs"},titleContentType:{objectName:"labels",propertyName:"titleContentType"},enableTitleDataLabel:{objectName:"labels",propertyName:"enableTitleDataLabel"},dynamicLabelTitle:{objectName:"labels",propertyName:"dynamicLabelTitle"},detailFontSize:{objectName:"labels",propertyName:"detailFontSize"},detailBold:{objectName:"labels",propertyName:"detailBold"},detailItalic:{objectName:"labels",propertyName:"detailItalic"},dynamicLabelDetail:{objectName:"labels",propertyName:"dynamicLabelDetail"},detailUnderline:{objectName:"labels",propertyName:"detailUnderline"},detailFontFamily:{objectName:"labels",propertyName:"detailFontFamily"},detailColor:{objectName:"labels",propertyName:"detailColor"},detailTransparency:{objectName:"labels",propertyName:"detailTransparency"},enableDetailDataLabel:{objectName:"labels",propertyName:"enableDetailDataLabel"},detailLabelDisplayUnits:{objectName:"labels",propertyName:"detailLabelDisplayUnits"},detailCustomFormatString:{objectName:"labels",propertyName:"detailCustomFormatString"},detailLabelPrecision:{objectName:"labels",propertyName:"detailLabelPrecision"},detailShowBlankAs:{objectName:"labels",propertyName:"detailShowBlankAs"},detailContentType:{objectName:"labels",propertyName:"detailContentType"},labelContentLayout:{objectName:"labels",propertyName:"labelContentLayout"},optimizeLabelDisplay:{objectName:"labels",propertyName:"optimizeLabelDisplay"},labelContainerMaxWidth:{objectName:"labels",propertyName:"labelContainerMaxWidth"},horizontalAlignment:{objectName:"labels",propertyName:"horizontalAlignment"},leaderLines:{objectName:"labels",propertyName:"leaderLines"},leaderLineColor:{objectName:"labels",propertyName:"leaderLineColor"},leaderLineTransparency:{objectName:"labels",propertyName:"leaderLineTransparency"},leaderLineWidth:{objectName:"labels",propertyName:"leaderLineWidth"},leaderLinePattern:{objectName:"labels",propertyName:"leaderLinePattern"},leaderLineDashArray:{objectName:"labels",propertyName:"leaderLineDashArray"},leaderLineDashCap:{objectName:"labels",propertyName:"leaderLineDashCap"},leaderLineAutoScale:{objectName:"labels",propertyName:"leaderLineAutoScale"}},seriesLabels:{show:{objectName:"seriesLabels",propertyName:"showSeries"},showByDefault:{objectName:"seriesLabels",propertyName:"showByDefault"},seriesColor:{objectName:"seriesLabels",propertyName:"seriesColor"},seriesPosition:{objectName:"seriesLabels",propertyName:"seriesPosition"},enableBackground:{objectName:"seriesLabels",propertyName:"enableBackground"},backgroundColor:{objectName:"seriesLabels",propertyName:"backgroundColor"},backgroundTransparency:{objectName:"seriesLabels",propertyName:"backgroundTransparency"},showAll:{objectName:"seriesLabels",propertyName:"showAll"},textSize:{objectName:"seriesLabels",propertyName:"textSize"},seriesFontFamily:{objectName:"seriesLabels",propertyName:"seriesFontFamily"},seriesWordWrap:{objectName:"seriesLabels",propertyName:"seriesWordWrap"},seriesMaximumWidth:{objectName:"seriesLabels",propertyName:"seriesMaximumWidth"},bold:{objectName:"seriesLabels",propertyName:"bold"},italic:{objectName:"seriesLabels",propertyName:"italic"},underline:{objectName:"seriesLabels",propertyName:"underline"}},markers:{show:{objectName:"lineStyles",propertyName:"showMarker"},shape:{objectName:"lineStyles",propertyName:"markerShape"},size:{objectName:"lineStyles",propertyName:"markerSize"},color:{objectName:"lineStyles",propertyName:"markerColor"},...o.hk},lineStyles:{areaShow:{objectName:"lineStyles",propertyName:"areaShow"},areaTransparency:{objectName:"dataPoint",propertyName:"transparency"},areaColor:{objectName:"lineStyles",propertyName:"areaColor"},areaMatchStrokeColor:{objectName:"lineStyles",propertyName:"areaMatchStrokeColor"},strokeShow:{objectName:"lineStyles",propertyName:"strokeShow"},strokeColor:{objectName:"dataPoint",propertyName:"fill"},strokeTransparency:{objectName:"lineStyles",propertyName:"strokeTransparency"},strokeWidth:{objectName:"lineStyles",propertyName:"strokeWidth"},strokeLineJoin:{objectName:"lineStyles",propertyName:"strokeLineJoin"},strokePattern:{objectName:"lineStyles",propertyName:"lineStyle"},strokeDashArray:{objectName:"lineStyles",propertyName:"strokeDashArray"},strokeDashCap:{objectName:"lineStyles",propertyName:"strokeDashCap"},strokeAutoScale:{objectName:"lineStyles",propertyName:"strokeAutoScale"},showMarkerByDefault:{objectName:"lineStyles",propertyName:"showMarkerByDefault"},showSeries:{objectName:"lineStyles",propertyName:"showSeries"},interpolation:{objectName:"lineStyles",propertyName:"lineChartType"},interpolationStep:{objectName:"lineStyles",propertyName:"interpolationStep"},interpolationSmooth:{objectName:"lineStyles",propertyName:"interpolationSmooth"},interpolationSmoothParam:{objectName:"lineStyles",propertyName:"interpolationSmoothParam"}}};function u(b,V){if(r.f.assertValue(b,"mapping"),b.categorical){var T=b.categorical;if(!T)return;T.dataReductionAlgorithm=void 0,T.categories.dataReductionAlgorithm={window:{count:200}},T.values.group.dataReductionAlgorithm={top:{count:60}}}else V&&(0,l.qO)(b)&&(b.matrix.rows.select[1].dataReductionAlgorithm={top:{}})}},257790:function(ve,j,e){e.d(j,{N:function(){return o},a:function(){return d},mapProps:function(){return C}});var r=e(318456),i=e(630881),a=e(33199),t=e(281210),l=e(35015),g=e(226524),n=e(519908),p=e(124374),s=e(847005),d={category:"Category",series:"Series",x:"X",y:"Y",size:"Size",gradient:"Gradient",tooltips:"Tooltips"};function o(y){return{dataRoles:v(y&&y.cartesianConditionalFormatting,y&&y.useModernFormatPane),objects:{general:{displayName:(0,t.V)("Visual_General"),properties:{formatString:s.iD.formatString}},legend:s.TQ.legend,dataPoint:{displayName:(0,t.V)("Visual_DataPoint"),description:(0,t.V)("Visual_DataPointDescription"),properties:{defaultColor:s.iD.defaultColor,showAllDataPoints:s.iD.showAllDataPoints,fill:s.iD.defaultCategoryColor,fillRule:{displayName:(0,t.V)("Visual_Gradient"),type:{fillRule:{}},rule:{inputRole:d.gradient,output:{property:"fill",selector:[d.category,d.x,d.y]}}},transparency:s.iD.genericTransparency}},categoryLabels:{displayName:(0,t.V)("Visual_CategoryLabels"),description:(0,t.V)("Visual_CategoryLabelsDescription"),properties:{...s.PP,...s.BO}},bubbles:{displayName:(0,t.V)("Visual_Bubbles"),description:(0,t.V)("Visual_BubblesDescription"),properties:{bubbleSize:{displayName:(0,t.V)("Visual_BubbleSize"),type:{integer:!0}},markerRangeType:{displayName:(0,t.V)("Visual_MarkerRangeType"),type:{enumeration:p.v6}}}},mapControls:{displayName:(0,t.V)("Visual_MapControls"),description:(0,t.V)("Visual_MapControlsDescription"),properties:{autoZoom:{displayName:(0,t.V)("Visual_AutoZoom"),type:{bool:!0}},zoomLevel:{type:{numeric:!0}},centerLatitude:{type:{numeric:!0}},centerLongitude:{type:{numeric:!0}},showZoomButtons:{displayName:(0,t.V)("Visual_MapZoomButtons"),type:{bool:!0}},showLassoButton:{displayName:(0,t.V)("Visual_MapLassoButton"),type:{bool:!0}},minZoom:{displayName:(0,t.V)("Visual_MapMinZoomLevel"),type:{numeric:!0}},maxZoom:{displayName:(0,t.V)("Visual_MapMaxZoomLevel"),type:{numeric:!0}},geocodingCulture:{displayName:(0,t.V)("Visual_MapGeocodingCulture"),type:{enumeration:n.dt}}}},mapStyles:{displayName:(0,t.V)("Visual_MapStyles"),description:(0,t.V)("Visual_MapStylesDescription"),properties:{mapTheme:{displayName:(0,t.V)("Visual_MapTheme"),type:{enumeration:l.dt}},showLabels:{displayName:(0,t.V)("Visual_MapShowLabels"),type:{bool:!0}}}},heatMap:{displayName:(0,t.V)("Visual_HeatMap"),properties:{show:s.iD.show,filterRadius:{displayName:(0,t.V)("Visual_Radius"),type:{numeric:!0}},transparency:s.iD.backgroundTransparency,unit:{displayName:(0,t.V)("Visual_Forecast_Parameter_Units"),type:{enumeration:g.dt}},color0:{displayName:(0,t.V)("Visual_Color0"),type:{fill:{solid:{color:!0}}}},color50:{displayName:(0,t.V)("Visual_Color50"),type:{fill:{solid:{color:!0}}}},color100:{displayName:(0,t.V)("Visual_Color100"),type:{fill:{solid:{color:!0}}}}}}},dataViewMappings:[{conditions:[{Category:{min:1},Series:{max:1},X:{max:1,kind:i.DW.Measure},Y:{max:1,kind:i.DW.Measure},Size:{max:1,min:1},Gradient:{max:0}},{Category:{min:1},Series:{max:1},X:{max:1,min:1,kind:i.DW.Measure},Y:{max:1,kind:i.DW.Measure},Size:{max:1},Gradient:{max:0}},{Category:{min:1},Series:{max:1},X:{max:1,kind:i.DW.Measure},Y:{max:1,min:1,kind:i.DW.Measure},Size:{max:1},Gradient:{max:0}},{Category:{min:1},Series:{max:1},X:{max:1,kind:i.DW.Measure},Y:{max:1,kind:i.DW.Measure},Size:{max:1},Gradient:{max:0},Tooltips:{min:1}},{Category:{min:1},Series:{max:0},X:{max:1,kind:i.DW.Measure},Y:{max:1,kind:i.DW.Measure},Size:{max:1},Gradient:{max:1}}],categorical:{categories:{for:{in:d.category},dataReductionAlgorithm:{top:{}}},values:{group:{by:d.series,select:[{bind:{to:d.x}},{bind:{to:d.y}},{bind:{to:d.size}},{bind:{to:d.gradient}},{for:{in:d.tooltips}}],dataReductionAlgorithm:{top:{}}}},rowCount:{preferred:{min:2}},dataVolume:4}},{conditions:[{Category:{max:0},Series:{max:1},X:{max:1,kind:i.DW.Grouping},Y:{max:1,kind:i.DW.Grouping},Size:{max:1,min:1},Gradient:{max:0}},{Category:{max:0},Series:{max:0},X:{max:1,kind:i.DW.Grouping},Y:{max:1,kind:i.DW.Grouping},Size:{max:1},Gradient:{max:1}}],categorical:{categories:{select:[{bind:{to:d.x}},{bind:{to:d.y}}],dataReductionAlgorithm:{top:{}}},values:{group:{by:d.series,select:[{bind:{to:d.size}},{bind:{to:d.gradient}},{for:{in:d.tooltips}}],dataReductionAlgorithm:{top:{}}}},rowCount:{preferred:{min:2}},dataVolume:4}},{conditions:[{Category:{max:1,min:1},Series:{max:1,min:1},X:{max:0},Y:{max:0},Size:{max:0},Gradient:{max:0},Tooltips:{max:0}}],matrix:{rows:{select:[{bind:{to:d.series}},{composite:[{for:{in:d.category}}]}],dataReductionAlgorithm:{top:{}}},dataVolume:4}},{conditions:[{Category:{max:0},Series:{max:1,min:1},X:{max:1,kind:i.DW.Grouping},Y:{max:1,kind:i.DW.Grouping},Size:{max:0},Gradient:{max:0},Tooltips:{}}],matrix:{rows:{select:[{bind:{to:d.series}},{composite:[{bind:{to:d.x}},{bind:{to:d.y}}]}],dataReductionAlgorithm:{overlappingPointsSample:{}}},values:{for:{in:d.tooltips}},dataVolume:4}}],visualShapeDataViewMappings:[{conditions:[{[d.category]:{max:1,min:1},[d.series]:{max:1,min:1},[d.x]:{max:0},[d.y]:{max:0},[d.size]:{max:0},[d.gradient]:{max:0},[d.tooltips]:{max:0}},{[d.category]:{min:1},[d.series]:{max:1},[d.x]:{max:1,kind:i.DW.Measure},[d.y]:{max:1,kind:i.DW.Measure},[d.size]:{max:1,min:1},[d.gradient]:{max:0}},{[d.category]:{min:1},[d.series]:{max:1},[d.x]:{max:1,min:1,kind:i.DW.Measure},[d.y]:{max:1,kind:i.DW.Measure},[d.size]:{max:1},[d.gradient]:{max:0}},{[d.category]:{min:1},[d.series]:{max:1},[d.x]:{max:1,kind:i.DW.Measure},[d.y]:{max:1,min:1,kind:i.DW.Measure},[d.size]:{max:1},[d.gradient]:{max:0}},{[d.category]:{min:1},[d.series]:{max:1},[d.x]:{max:1,kind:i.DW.Measure},[d.y]:{max:1,kind:i.DW.Measure},[d.size]:{max:1},[d.gradient]:{max:0},[d.tooltips]:{min:1}},{[d.category]:{min:1},[d.series]:{max:0},[d.x]:{max:1,kind:i.DW.Measure},[d.y]:{max:1,kind:i.DW.Measure},[d.size]:{max:1},[d.gradient]:{max:1}}],matrix:{rows:{select:[{bind:{to:d.category}}]},columns:{for:{in:d.series}},values:{select:[{bind:{to:d.x}},{bind:{to:d.y}},{bind:{to:d.size}},{for:{in:d.tooltips}}]}}},{conditions:[{[d.category]:{max:0},[d.series]:{max:1,min:1},[d.x]:{max:1,kind:i.DW.Grouping},[d.y]:{max:1,kind:i.DW.Grouping},[d.size]:{max:0},[d.gradient]:{max:0},[d.tooltips]:{}},{[d.category]:{max:0},[d.series]:{max:1},[d.x]:{max:1,kind:i.DW.Grouping},[d.y]:{max:1,kind:i.DW.Grouping},[d.size]:{max:1,min:1},[d.gradient]:{max:0}},{[d.category]:{max:0},[d.series]:{max:0},[d.x]:{max:1,kind:i.DW.Grouping},[d.y]:{max:1,kind:i.DW.Grouping},[d.size]:{max:1},[d.gradient]:{max:1}}],matrix:{rows:{select:[{composite:[{for:{in:d.x}},{for:{in:d.y}}]}]},columns:{for:{in:d.series}},values:{select:[{bind:{to:d.size}},{for:{in:d.tooltips}}]}}}],sorting:{custom:{},implicit:{clauses:[{role:d.size,direction:r.S.Descending}]}},drilldown:{roles:[d.category]},grouping:{groupingRules:[{condition:{Category:{min:1,max:1},X:{max:1},Y:{max:1},Gradient:{max:0}},groupingTargetRole:d.series,kind:a.t.Color}]},supportsMultiVisualSelection:!0,supportsKeyboardFocus:!0,tooltips:{supportedTypes:{default:!0,canvas:!0},roles:[d.tooltips],supportEnhancedTooltips:!0},suppressVisualCalc:!y?.enableCalculationScatterChartMap}}function v(y,S){var h=[{name:d.category,kind:i.DW.Grouping,displayName:(0,t.V)("Role_DisplayName_Location"),description:(0,t.V)("Role_DisplayName_LocationMapDescription"),preferredTypes:[{geography:{address:!0}},{geography:{city:!0}},{geography:{continent:!0}},{geography:{country:!0}},{geography:{county:!0}},{geography:{place:!0}},{geography:{postalCode:!0}},{geography:{region:!0}},{geography:{stateOrProvince:!0}}]},{name:d.series,kind:i.DW.Grouping,displayName:(0,t.V)("Role_DisplayName_Legend"),description:(0,t.V)("Role_DisplayName_LegendDescription")},{name:d.y,kind:i.DW.GroupingOrMeasure,displayName:(0,t.V)("Role_DisplayName_Latitude"),description:(0,t.V)("Role_DisplayName_LatitudeMapDescription"),preferredTypes:[{geography:{latitude:!0}}],cartesianKind:i.Lv.Y},{name:d.x,kind:i.DW.GroupingOrMeasure,displayName:(0,t.V)("Role_DisplayName_Longitude"),description:(0,t.V)("Role_DisplayName_LongitudeMapDescription"),preferredTypes:[{geography:{longitude:!0}}],cartesianKind:i.Lv.X},{name:d.size,kind:i.DW.Measure,displayName:(0,t.V)(S?"Visual_BubbleSize_Fieldwell":"Role_DisplayName_Size"),description:(0,t.V)(S?"Role_DisplayName_SizeDescription_Bubble":"Role_DisplayName_SizeDescription"),requiredTypes:[{numeric:!0},{integer:!0}]}];return y||h.push({name:d.gradient,kind:i.DW.Measure,displayName:(0,t.V)("Role_DisplayName_Gradient"),description:(0,t.V)("Role_DisplayName_GradientDescription"),requiredTypes:[{numeric:!0},{integer:!0}],joinPredicate:i.ps.None}),h.push({name:d.tooltips,kind:i.DW.Measure,displayName:(0,t.V)("Role_DisplayName_Tooltips"),description:(0,t.V)("Role_Tooltips_Description"),joinPredicate:i.ps.None}),h}var C={general:{formatString:{objectName:"general",propertyName:"formatString"}},dataPoint:{defaultColor:{objectName:"dataPoint",propertyName:"defaultColor"},defaultCategoryColor:{objectName:"dataPoint",propertyName:"defaultCategoryColor"},fill:{objectName:"dataPoint",propertyName:"fill"},showAllDataPoints:{objectName:"dataPoint",propertyName:"showAllDataPoints"},transparency:{objectName:"dataPoint",propertyName:"transparency"}},categoryLabels:{show:{objectName:"categoryLabels",propertyName:"show"},color:{objectName:"categoryLabels",propertyName:"color"},fontSize:{objectName:"categoryLabels",propertyName:"fontSize"},bold:{objectName:"categoryLabels",propertyName:"bold"},italic:{objectName:"categoryLabels",propertyName:"italic"},underline:{objectName:"categoryLabels",propertyName:"underline"},fontFamily:{objectName:"categoryLabels",propertyName:"fontFamily"},enableBackground:{objectName:"categoryLabels",propertyName:"enableBackground"},backgroundColor:{objectName:"categoryLabels",propertyName:"backgroundColor"},backgroundTransparency:{objectName:"categoryLabels",propertyName:"backgroundTransparency"}},legend:{show:{objectName:"legend",propertyName:"show"},position:{objectName:"legend",propertyName:"position"},showTitle:{objectName:"legend",propertyName:"showTitle"},titleText:{objectName:"legend",propertyName:"titleText"}},bubbles:{bubbleSize:{objectName:"bubbles",propertyName:"bubbleSize"},markerRangeType:{objectName:"bubbles",propertyName:"markerRangeType"}},mapControls:{autoZoom:{objectName:"mapControls",propertyName:"autoZoom"},zoomLevel:{objectName:"mapControls",propertyName:"zoomLevel"},centerLatitude:{objectName:"mapControls",propertyName:"centerLatitude"},centerLongitude:{objectName:"mapControls",propertyName:"centerLongitude"},showZoomButtons:{objectName:"mapControls",propertyName:"showZoomButtons"},showLassoButton:{objectName:"mapControls",propertyName:"showLassoButton"},minZoom:{objectName:"mapControls",propertyName:"minZoom"},maxZoom:{objectName:"mapControls",propertyName:"maxZoom"},geocodingCulture:{objectName:"mapControls",propertyName:"geocodingCulture"}},mapStyles:{mapTheme:{objectName:"mapStyles",propertyName:"mapTheme"},showLabels:{objectName:"mapStyles",propertyName:"showLabels"}},heatMap:{show:{objectName:"heatMap",propertyName:"show"},filterRadius:{objectName:"heatMap",propertyName:"filterRadius"},transparency:{objectName:"heatMap",propertyName:"transparency"},unit:{objectName:"heatMap",propertyName:"unit"},color0:{objectName:"heatMap",propertyName:"color0"},color50:{objectName:"heatMap",propertyName:"color50"},color100:{objectName:"heatMap",propertyName:"color100"}}}},399669:function(ve,j,e){e.d(j,{N6:function(){return l},Wj:function(){return a},eT:function(){return t}});var r=e(621083),i=e(882856);function a(g){var n=g.dataViewMappings[0];if(n.categorical){var s,p=n.categorical.categories;if(p.select&&(s=n.categorical.values,_.isEmpty(s.group.select[0].bind.to.items))){p.dataReductionAlgorithm=void 0,s.group.dataReductionAlgorithm=void 0;var o={},v=_.find(p.select,C=>"X"===C.bind.to.role),m=_.find(p.select,C=>"Y"===C.bind.to.role);o.x=v?{role:v.bind.to}:void 0,o.y=m?{role:m.bind.to}:void 0,n.categorical.dataReductionAlgorithm={overlappingPointsSample:o}}(!s||_.isEmpty(s.group.by.items))&&n.metadata&&n.metadata.objects&&n.metadata.objects.heatMap&&n.metadata.objects.heatMap.show&&(n.categorical.dataVolume=5)}}function t(g,n){if(g&&n)for(var p of n)if(p.categorical&&p.categorical.categories&&p.categorical.categories.select&&!g.Size&&g.Series)return!0}function l(g){return(0,i.T6)(g,r.B3.Cartesian)}},543922:function(ve,j,e){e.d(j,{d:function(){return l},r:function(){return t}});var r=e(630881),i=e(281210),a=e(847005),t={rows:"Rows",columns:"Columns",values:"Values"},l={dataRoles:[{name:t.rows,kind:r.DW.Grouping,displayName:(0,i.V)("Role_DisplayName_Rows"),description:(0,i.V)("Role_DisplayName_RowsDescription")},{name:t.columns,kind:r.DW.Grouping,displayName:(0,i.V)("Role_DisplayName_Columns"),description:(0,i.V)("Role_DisplayName_ColumnsDescription")},{name:t.values,kind:r.DW.Measure,displayName:(0,i.V)("Role_DisplayName_Values")}],objects:{general:{displayName:(0,i.V)("Visual_General"),properties:{formatString:a.iD.formatString,columnWidth:{type:{numeric:!0}},rowSubtotals:{type:{bool:!0},displayName:(0,i.V)("Visual_TotalRow"),suppressFormatPainterCopy:!0},columnSubtotals:{type:{bool:!0},displayName:(0,i.V)("Visual_TotalColumn"),suppressFormatPainterCopy:!0},autoSizeColumnWidth:{type:{bool:!0},displayName:(0,i.V)("Visual_Adjust_Column_Width"),suppressFormatPainterCopy:!0},textSize:{displayName:(0,i.V)("Visual_TextSize"),type:{numeric:!0}}}},grid:{displayName:(0,i.V)("Visual_Grid"),properties:{outlineColor:a.iD.outlineColor,outlineWeight:a.iD.outlineWeight,gridVertical:{displayName:(0,i.V)("Visual_GridVertical"),description:(0,i.V)("Visual_GridVertical_Desc"),type:{bool:!0}},gridVerticalColor:{displayName:(0,i.V)("Visual_GridVertical_Color"),description:(0,i.V)("Visual_GridVertical_Color_Desc"),type:{fill:{solid:{color:!0}}}},gridVerticalWeight:{displayName:(0,i.V)("Visual_GridVertical_Weight"),description:(0,i.V)("Visual_GridVertical_Weight_Desc"),type:{numeric:!0}},gridHorizontal:{displayName:(0,i.V)("Visual_GridHorizontal"),description:(0,i.V)("Visual_GridHorizontal_Desc"),type:{bool:!0}},gridHorizontalColor:{displayName:(0,i.V)("Visual_GridHorizontal_Color"),description:(0,i.V)("Visual_GridHorizontal_Color_Desc"),type:{fill:{solid:{color:!0}}}},gridHorizontalWeight:{displayName:(0,i.V)("Visual_GridHorizontal_Weight"),description:(0,i.V)("Visual_GridHorizontal_Weight_Desc"),type:{numeric:!0}},rowPadding:{displayName:(0,i.V)("Visual_RowPadding"),description:(0,i.V)("Visual_RowPadding_Desc"),type:{numeric:!0}},imageHeight:{displayName:(0,i.V)("Visual_Tablix_ImageHeight"),description:(0,i.V)("Visual_Tablix_ImageHeight_Desc"),type:{numeric:!0}}}},columnHeaders:{displayName:(0,i.V)("Visual_Tablix_ColumnHeaders"),properties:{outline:a.iD.outline,fontColor:a.iD.tablixFontColor,backColor:a.iD.backColor}},rowHeaders:{displayName:(0,i.V)("Visual_Tablix_RowHeaders"),properties:{outline:a.iD.outline,fontColor:a.iD.tablixFontColor,backColor:a.iD.backColor,wordWrap:a.iD.wordWrap}},values:{displayName:(0,i.V)("Visual_Tablix_Values"),properties:{outline:a.iD.outline,backColor:{displayName:(0,i.V)("Background_Color"),description:(0,i.V)("Visual_ConditionalFormatting_ColorScales_BackColor_Desc"),type:{fill:{solid:{color:!0}}}},fontColorPrimary:{displayName:(0,i.V)("Visual_FontColor"),description:(0,i.V)("Visual_Tablix_FontColorPrimary_Desc"),type:{fill:{solid:{color:!0}}}},backColorPrimary:{displayName:(0,i.V)("Background_Color"),description:(0,i.V)("Visual_Tablix_BackColorPrimary_Desc"),type:{fill:{solid:{color:!0}}}},fontColorSecondary:{displayName:(0,i.V)("Visual_Tablix_FontColorSecondary"),description:(0,i.V)("Visual_Tablix_FontColorSecondary_Desc"),type:{fill:{solid:{color:!0}}}},backColorSecondary:{displayName:(0,i.V)("Visual_Tablix_BackColorSecondary"),description:(0,i.V)("Visual_Tablix_BackColorSecondary_Desc"),type:{fill:{solid:{color:!0}}}}}},subTotals:{displayName:(0,i.V)("Visual_Tablix_TotalSub"),properties:{outline:a.iD.outline,fontColor:a.iD.tablixFontColor,backColor:a.iD.backColor}},total:{displayName:(0,i.V)("Visual_Tablix_Matrix_TotalGrand"),properties:{outline:a.iD.outline,fontColor:a.iD.tablixFontColor,backColor:a.iD.backColor,applyToHeaders:{displayName:(0,i.V)("Visual_Tablix_ApplyToHeaders"),type:{bool:!0}}}},columnFormatting:{displayName:(0,i.V)("Visual_Tablix_ColumnFormatting"),properties:{fontColor:a.iD.tablixFontColor,backColor:a.iD.backColor,styleHeader:{displayName:(0,i.V)("Visual_Tablix_ColumnFormatting_ColorHeader"),type:{bool:!0}},styleValues:{displayName:(0,i.V)("Visual_Tablix_ColumnFormatting_ColorValues"),type:{bool:!0}},styleSubtotals:{displayName:(0,i.V)("Visual_Tablix_ColumnFormatting_ColorSubTotals"),type:{bool:!0}},styleTotal:{displayName:(0,i.V)("Visual_Tablix_ColumnFormatting_ColorTotal"),type:{bool:!0}}}}},dataViewMappings:[{conditions:[{Rows:{max:0},Columns:{max:0},Values:{min:1}},{Rows:{min:1},Columns:{min:0},Values:{min:0}},{Rows:{min:0},Columns:{min:1},Values:{min:0}}],matrix:{rows:{for:{in:"Rows"},dataReductionAlgorithm:{window:{count:500}}},columns:{for:{in:"Columns"},dataReductionAlgorithm:{top:{count:100}}},values:{for:{in:"Values"}}}}],filterMappings:{measureFilter:{targetRoles:[t.rows]}},sorting:{custom:{}},dataRoleTotals:[{roles:[t.columns],displayName:(0,i.V)("DisplayName_QuickCalc_PercentOfColumnTotal"),shortDisplayName:(0,i.V)("DisplayName_QuickCalc_PercentOfColumnTotalShort"),tooltip:(0,i.V)("DisplayName_QuickCalc_PercentOfColumnTotalTooltip")},{roles:[t.rows],displayName:(0,i.V)("DisplayName_QuickCalc_PercentOfRowTotal"),shortDisplayName:(0,i.V)("DisplayName_QuickCalc_PercentOfRowTotalShort"),tooltip:(0,i.V)("DisplayName_QuickCalc_PercentOfRowTotalTooltip")}],suppressDefaultTitle:!0,supportsSelection:!1,supportsMultiVisualSelection:!0}},686631:function(ve,j,e){e.d(j,{Mb:function(){return g},Pt:function(){return p},_i:function(){return n}});var r=e(251868),i=e(630881),a=e(281210),t=e(847005),l={general:{properties:{formatString:t.iD.formatString}},dataLabels:{displayName:(0,a.V)("Visual_DataPointsLabels"),description:(0,a.V)("Visual_DataPointsLabelsDescription"),properties:{...t.Ns}},categoryLabels:{displayName:(0,a.V)("Visual_CategoryLabels"),description:(0,a.V)("Visual_CategoryLabelsDescription"),properties:{...t.PP}},cardTitle:{displayName:(0,a.V)("Visual_CardTitle"),description:(0,a.V)("Visual_CardTitleDescription"),properties:{...t.Ns}},card:{displayName:(0,a.V)("Card_ToolTip"),properties:{...t.r8,barShow:{displayName:(0,a.V)("Visual_MultiRowCard_BarShow"),description:(0,a.V)("Visual_MultiRowCard_BarShow_Desc"),type:{bool:!0}},barColor:{displayName:(0,a.V)("Visual_MultiRowCard_BarColor"),type:{fill:{solid:{color:!0}}}},barWeight:{displayName:(0,a.V)("Visual_MultiRowCard_BarWeight"),description:(0,a.V)("Visual_MultiRowCard_BarWeight_Desc"),type:{numeric:!0}},cardPadding:{displayName:(0,a.V)("Visual_Padding"),description:(0,a.V)("Visual_MultiRowCard_CardBackground"),type:{numeric:!0}},cardBackground:{displayName:(0,a.V)("Background_Color"),type:{fill:{solid:{color:!0}}}}}}},g=(0,r.wZ)(l),n={dataRoles:[{name:"Values",kind:i.DW.GroupingOrMeasure,displayName:(0,a.V)("Role_DisplayName_Fields"),description:(0,a.V)("Role_DisplayName_FieldsDescription")}],objects:l,dataViewMappings:[{table:{rows:{for:{in:"Values"},dataReductionAlgorithm:{window:{}}},rowCount:{preferred:{min:1}}}}],sorting:{default:{}},suppressDefaultTitle:!0,supportsSelection:!0,disableVisualDetails:!0,supportsMultiVisualSelection:!0,supportsKeyboardFocus:!0},p={card:{outlineStyle:{objectName:"card",propertyName:"outlineStyle"},outlineColor:{objectName:"card",propertyName:"outlineColor"},outlineWeight:{objectName:"card",propertyName:"outlineWeight"},barShow:{objectName:"card",propertyName:"barShow"},barColor:{objectName:"card",propertyName:"barColor"},barWeight:{objectName:"card",propertyName:"barWeight"},cardPadding:{objectName:"card",propertyName:"cardPadding"},cardBackground:{objectName:"card",propertyName:"cardBackground"}}}},882856:function(ve,j,e){e.d(j,{DS:function(){return s},T6:function(){return o},YW:function(){return y},gY:function(){return m},hK:function(){return g},vx:function(){return d}});var r=e(621083),i=e(962442),a=e(147818),t=e(40545),l=e(150190);function g(S){return(0,l.uS)(S)&&S.for?p(S.for.in,r.MC.Value):(0,l.Ci)(S)&&S.bind?p(S.bind.to,r.MC.Value):void 0}function n(S){return S&&S.scalarKeyInfo&&S.scalarKeyInfo.hasScalarKey||(0,i.Hx)(S&&S.type)?r.MC.ContinuousCategory:r.MC.DiscreteCategory}function p(S,h){var E=[];if(!S||S.role===a.xV.tooltips||_.isEmpty(S.items))return E;var u=S.activeItems;for(var f of S.items)if(!_.some(u)||_.includes(u,f.queryName)){var b=r.MD.None;S.role===t.Pn.goal&&(b=r.MD.TargetValue),E.push({selectName:f.queryName,kind:h,roleKind:b})}return E}function s(S){var u,h=[],E=S.categorical.categories;return(0,l.uS)(E)&&E.for&&E.for.in&&(u=n(_.first(E.for.in.items)),h.push(...p(E.for.in,u))),h}function d(S){var h=[],E=S.categorical.values;if(E&&E.group){var u=E.group;if(h.push(...p(u.by,r.MC.DiscreteCategory)),u.select)for(var f of u.select){var b=g(f);_.isEmpty(b)||h.push(...b)}}if(E&&E.select)for(var V of E.select){var T=g(V);_.isEmpty(T)||h.push(...T)}return h}function o(S,h){var E=_.first(S.dataViewMappings);if(!E||!E.categorical||!E.categorical.categories)return{subjectKind:h,error:r.Ru.NoValidBindings,bindings:void 0};var u=s(E);return u.push(...d(E)),_.isEmpty(u)?{subjectKind:h,error:r.Ru.NoValidBindings,bindings:void 0}:{subjectKind:h,error:void 0,bindings:u}}function m(S,h){var E=function(S){var h=[],E=S.rows,u=[],f=[];for(var b of E.select)if((0,l.Ci)(b)&&b.bind&&b.bind.to){var T=n(_.first(b.bind.to.items));f.push(...p(b.bind.to,T))}else if((0,l.k2)(b)&&b.composite&&b.composite)for(var P of b.composite)if((0,l.uS)(P)&&P.for&&P.for.in){var w=n(_.first(P.for.in.items));u.push(...p(P.for.in,w))}h.push(...u),h.push(...f);var M=S.values;if(M&&M.select)for(var A of M.select){var R=g(A);_.isEmpty(R)||h.push(...R)}return h}(S);return _.isEmpty(E)?{subjectKind:h,error:r.Ru.NoValidBindings,bindings:void 0}:{subjectKind:h,error:void 0,bindings:E}}function c(S){var h=[],E=S.activeItems;for(var u of S.items)if(!_.some(E)||_.includes(E,u.queryName)){var f=r.MD.None;switch(S.role){case"MinValue":f=r.MD.MinimumValue;break;case"MaxValue":f=r.MD.MaximumValue;break;case"TargetValue":f=r.MD.TargetValue}h.push({selectName:u.queryName,kind:r.MC.Value,roleKind:f})}return h}function C(S,h){var E=[];if(!S||!h)return E;var u,f=r.MC.None,b=r.MD.None;switch(S.role){case"MinValue":h.min&&(u=h.min.toString(),f=r.MC.ConstantValue,b=r.MD.MinimumValue);break;case"MaxValue":h.max&&(u=h.max.toString(),f=r.MC.ConstantValue,b=r.MD.MaximumValue);break;case"TargetValue":h.target&&(u=h.target.toString(),f=r.MC.ConstantValue,b=r.MD.TargetValue)}return u&&E.push({selectName:u,kind:f,roleKind:b}),E}function y(S){var h=[];if(!S||!S.categorical||!S.categorical.values)return h;var E=S.categorical.values;if(!E||!E.select)return h;for(var u of E.select)if((0,l.Ci)(u)&&u.bind){var f=u.bind.to;f&&f.items?h.push(...c(f)):f&&void 0===f.items&&S.metadata&&S.metadata.objects&&S.metadata.objects.axis&&h.push(...C(f,S.metadata.objects.axis))}return h}},323078:function(ve,j,e){e.d(j,{JT:function(){return o},LU:function(){return u},QP:function(){return b},RI:function(){return p},Uo:function(){return v},a5:function(){return s},h:function(){return c},hx:function(){return n},j0:function(){return V},mr:function(){return d},tP:function(){return m},tp:function(){return g}});var r=e(281210),i=e(144537),a=e(847005),t=e(758038),l=e(772247),g={fill:l.OV.fill,outline:l.OV.outline,text:t.nm.text,shape:l.OV.shape,layout:{orientation:{objectName:"layout",propertyName:"orientation"},rowCount:{objectName:"layout",propertyName:"rowCount"},columnCount:{objectName:"layout",propertyName:"columnCount"},cellPadding:{objectName:"layout",propertyName:"cellPadding"}},shadow:l.OV.shadow,glow:l.OV.glow,accentBar:l.OV.accentBar,rotation:{angle:{objectName:"rotation",propertyName:"angle"},shapeAngle:{objectName:"rotation",propertyName:"shapeAngle"},textAngle:{objectName:"rotation",propertyName:"textAngle"}}},n={...g,pages:{showHiddenPages:{objectName:"pages",propertyName:"showHiddenPages"},showTooltipPages:{objectName:"pages",propertyName:"showTooltipPages"},showByDefault:{objectName:"pages",propertyName:"showByDefault"},showPage:{objectName:"pages",propertyName:"showPage"}}},p={...g,bookmarks:{bookmarkGroup:{objectName:"bookmarks",propertyName:"bookmarkGroup"},allowDeselectionBookmark:{objectName:"bookmarks",propertyName:"allowDeselectionBookmark"},deselectionBookmark:{objectName:"bookmarks",propertyName:"deselectionBookmark"},hideDeselectedBookmark:{objectName:"bookmarks",propertyName:"hideDeselectedBookmark"},selectedBookmark:{objectName:"bookmarks",propertyName:"selectedBookmark"}}},s={fill:l.eM.fill,outline:l.eM.outline,text:t.Vz.text,shape:l.eM.shape,layout:"layout",shadow:l.eM.shadow,glow:l.eM.glow,accentBar:l.eM.accentBar,rotation:"rotation"},d={...s,pages:"pages"},o={...s,bookmarks:"bookmarks"},v={...l.Mn,...t.WI,orientation:"orientation",rowCount:"rowCount",columnCount:"columnCount",cellPadding:"cellPadding",rotation:"angle"},m={...v,showHiddenPages:"showHiddenPages",showTooltipPages:"showTooltipPages",showByDefault:"showByDefault",showPage:"showPage"},c={...v,bookmarkGroup:"bookmarkGroup",allowDeselectionBookmark:"allowDeselectionBookmark",deselectionBookmark:"deselectionBookmark",hideDeselectedBookmark:"hideDeselectedBookmark",selectedBookmark:"selectedBookmark"},C={show:a.iD.show,[l.Mn.fillColor]:a.iD.fill,[l.Mn.fillTransparency]:a.iD.backgroundTransparency},y={show:a.iD.show,...a.KG,[t.WI.textVerticalAlignment]:a.iD.verticalAlignment,[t.WI.textHorizontalAlignment]:a.iD.horizontalAlignment,[t.WI.textLeftMargin]:{displayName:(0,r.V)("Visual_Margin_Left"),type:{integer:!0}},[t.WI.textRightMargin]:{displayName:(0,r.V)("Visual_Margin_Right"),type:{integer:!0}},[t.WI.textTopMargin]:{displayName:(0,r.V)("Visual_Margin_Top"),type:{integer:!0}},[t.WI.textBottomMargin]:{displayName:(0,r.V)("Visual_Margin_Bottom"),type:{integer:!0}}},S={[v.orientation]:{displayName:(0,r.V)("Slicer_Orientation"),type:{enumeration:i.oh}},[v.rowCount]:{displayName:(0,r.V)("Small_Multiples_Layout_Rows"),type:{integer:!0}},[v.columnCount]:{displayName:(0,r.V)("Small_Multiples_Layout_Columns"),type:{integer:!0}},[v.cellPadding]:{displayName:(0,r.V)("Visual_Padding"),type:{integer:!0}}},h={[m.showHiddenPages]:{displayName:(0,r.V)("Visual_Navigator_ShowHiddenPages"),type:{bool:!0}},[m.showTooltipPages]:{displayName:(0,r.V)("Visual_Navigator_ShowTooltipPages"),type:{bool:!0}},[m.showByDefault]:{displayName:(0,r.V)("Visual_Navigator_ShowByDefault"),type:{bool:!0}},[m.showPage]:{displayName:(0,r.V)("Show"),type:{bool:!0},suppressFormatPainterCopy:!0}},E={[c.bookmarkGroup]:{displayName:(0,r.V)("Generic_Bookmark"),type:{reference:{bookmarkGroup:!0}}},[c.allowDeselectionBookmark]:{displayName:(0,r.V)("Visual_AllowDeselection"),description:(0,r.V)("Visual_AllowDeselection_Description"),type:{bool:!0}},[c.deselectionBookmark]:{displayName:(0,r.V)("Visual_LaunchOnDeselection"),description:(0,r.V)("Visual_LaunchOnDeselection_Description"),type:{reference:{bookmark:!0}}},[c.hideDeselectedBookmark]:{displayName:(0,r.V)("Visual_HideDeselectionBookmark"),description:(0,r.V)("Visual_HideDeselectionBookmark_Description"),type:{bool:!0}},[c.selectedBookmark]:{type:{text:!0}}},u={default:"default",hover:"hover",press:"press",selected:"selected"},f={[s.fill]:{displayName:(0,r.V)("Visual_Fill"),properties:C},[s.outline]:l.zC.outline,[s.text]:{displayName:(0,r.V)("Text"),properties:y},[s.shape]:l.zC.shape,[s.layout]:{displayName:(0,r.V)("Small_Multiples_Layout"),properties:S},[s.shadow]:l.zC.shadow,[s.glow]:l.zC.glow,[s.accentBar]:l.zC.accentBar,[s.rotation]:{displayName:(0,r.V)("Visual_BasicShape_Rotate"),properties:{[v.rotation]:a.iD.genericRotation,[v.shapeRotation]:a.iD.shapeRotation,[v.textRotation]:a.iD.textRotation}}},b={objects:{...f,[d.pages]:{displayName:(0,r.V)("Pages"),properties:h}},suppressDefaultTitle:!0,suppressDefaultPadding:!0,supportsSelection:!1,supportsKeyboardFocus:!0},V={objects:{...f,[o.bookmarks]:{displayName:(0,r.V)("ExplorationBookmarksPane_Title"),properties:E}},suppressDefaultTitle:!0,suppressDefaultPadding:!0,supportsSelection:!1,supportsKeyboardFocus:!0}},561449:function(ve,j,e){e.d(j,{R:function(){return d},t:function(){return o}});var r=e(251868),i=e(630881),a=e(281210),t=e(114672),l=e(288497),g=e(613384),n=e(469768),p=e(847005),s=e(543922);function d(v){return{dataRoles:[{name:s.r.rows,kind:i.DW.Grouping,displayName:(0,a.V)("Role_DisplayName_Rows"),description:(0,a.V)("Role_DisplayName_RowsDescription")},{name:s.r.columns,kind:i.DW.Grouping,displayName:(0,a.V)("Role_DisplayName_Columns"),description:(0,a.V)("Role_DisplayName_ColumnsDescription")},{name:s.r.values,kind:i.DW.Measure,displayName:(0,a.V)("Role_DisplayName_Values"),supportsSparklines:!0}],objects:{general:{displayName:(0,a.V)("Visual_General"),properties:{formatString:p.iD.formatString,layout:{displayName:(0,a.V)("Layout"),type:{enumeration:l.e}}}},grid:{displayName:(0,a.V)("Visual_Grid"),properties:{...p.r8,gridVertical:{displayName:(0,a.V)("Visual_GridVertical"),description:(0,a.V)("Visual_GridVertical_Desc"),type:{bool:!0}},gridVerticalColor:{displayName:(0,a.V)("Visual_GridVertical_Color"),description:(0,a.V)("Visual_GridVertical_Color_Desc"),type:{fill:{solid:{color:!0}}}},gridVerticalWeight:{displayName:(0,a.V)("Visual_GridVertical_Weight"),description:(0,a.V)("Visual_GridVertical_Weight_Desc"),type:{numeric:!0}},gridHorizontal:{displayName:(0,a.V)("Visual_GridHorizontal"),description:(0,a.V)("Visual_GridHorizontal_Desc"),type:{bool:!0}},gridHorizontalColor:{displayName:(0,a.V)("Visual_GridHorizontal_Color"),description:(0,a.V)("Visual_GridHorizontal_Color_Desc"),type:{fill:{solid:{color:!0}}}},gridHorizontalWeight:{displayName:(0,a.V)("Visual_GridHorizontal_Weight"),description:(0,a.V)("Visual_GridHorizontal_Weight_Desc"),type:{numeric:!0}},rowPadding:{displayName:(0,a.V)("Visual_RowPadding"),description:(0,a.V)("Visual_RowPadding_Desc"),type:{numeric:!0}},textSize:{displayName:(0,a.V)("Visual_TextSize"),type:{numeric:!0}},imageHeight:{displayName:(0,a.V)("Visual_General_Properties_Height"),description:(0,a.V)("Visual_Tablix_ImageHeight_Desc"),type:{numeric:!0}},imageWidth:{displayName:(0,a.V)("Visual_General_Properties_Width"),description:(0,a.V)("Visual_Tablix_ImageWidth_Desc"),type:{numeric:!0}}}},columnHeaders:{displayName:(0,a.V)("Visual_Tablix_ColumnHeaders"),properties:{...p.r8,...p.GY,alignment:p.iD.textAlignment,titleAlignment:{displayName:(0,a.V)("Visual_TextAlignment_Title"),type:{enumeration:n.K}},autoSizeColumnWidth:{type:{bool:!0},displayName:(0,a.V)("Visual_Adjust_Column_Width"),suppressFormatPainterCopy:!0},urlIcon:{displayName:(0,a.V)("Visual_Tablix_UrlIcon"),description:(0,a.V)("Visual_Tablix_UrlIcon_Desc"),type:{bool:!0}},wordWrap:p.iD.wordWrap}},rowHeaders:{displayName:(0,a.V)("Visual_Tablix_RowHeaders"),properties:{unfrozen:{type:{bool:!0},transient:!0},...p.r8,...p.GY,alignment:p.iD.textAlignment,stepped:{displayName:(0,a.V)("Visual_PivotTable_SteppedLayout"),description:(0,a.V)("Visual_PivotTable_SteppedLayout_Description"),type:{bool:!0}},steppedLayoutIndentation:{displayName:(0,a.V)(v?.matrixLayouts?"Visual_PivotTable_Indentation":"Visual_PivotTable_SteppedLayoutIndentation"),description:(0,a.V)("Visual_PivotTable_SteppedLayoutIndentation_Description"),type:{numeric:!0}},urlIcon:{displayName:(0,a.V)("Visual_Tablix_UrlIcon"),description:(0,a.V)("Visual_Tablix_UrlIcon_Desc"),type:{bool:!0}},wordWrap:p.iD.wordWrap,showExpandCollapseButtons:{displayName:(0,a.V)("Visual_PivotTable_ExpandCollapseButtons_Toggle"),type:{bool:!0}},expandCollapseButtonsColor:{displayName:(0,a.V)("Visual_PivotTable_ExpandCollapseButtons_Color"),type:{fill:{solid:{color:!0}}}},expandCollapseButtonsSize:{displayName:(0,a.V)("Visual_PivotTable_ExpandCollapseButtons_Size"),type:{formatting:{fontSize:!0}}},expandCompositeHierarchy:{type:{bool:!0}},repeatRowHeaders:{displayName:(0,a.V)("Visual_RepeatRowHeaders"),type:{bool:!0}},legacyStyleDisabled:{type:{bool:!0}}}},values:{displayName:(0,a.V)("Visual_Tablix_Values"),properties:{...p.r8,...p.GY,backColor:{displayName:(0,a.V)("Background_Color"),description:(0,a.V)("Visual_ConditionalFormatting_ColorScales_WithSource_BackColor_Desc"),type:{fill:{solid:{color:!0}}}},fontColor:{displayName:(0,a.V)("Visual_FontColor"),description:(0,a.V)("Visual_ConditionalFormatting_ColorScales_WithSource_FontColor_Desc"),type:{fill:{solid:{color:!0}}}},fontColorPrimary:{displayName:(0,a.V)("Visual_FontColor"),description:(0,a.V)("Visual_Tablix_FontColorPrimary_Desc"),type:{fill:{solid:{color:!0}}}},backColorPrimary:{displayName:(0,a.V)("Background_Color"),description:(0,a.V)("Visual_Tablix_BackColorPrimary_Desc"),type:{fill:{solid:{color:!0}}}},fontColorSecondary:{displayName:(0,a.V)("Visual_Tablix_FontColorSecondary"),description:(0,a.V)("Visual_Tablix_FontColorSecondary_Desc"),type:{fill:{solid:{color:!0}}}},backColorSecondary:{displayName:(0,a.V)("Visual_Tablix_BackColorSecondary"),description:(0,a.V)("Visual_Tablix_BackColorSecondary_Desc"),type:{fill:{solid:{color:!0}}}},bandedRowHeaders:{displayName:(0,a.V)("Visual_PivotTable_ValuesBandedRowHeaders"),description:(0,a.V)("Visual_PivotTable_ValuesBandedRowHeaders_Description"),type:{bool:!0}},urlIcon:{displayName:(0,a.V)("Visual_Tablix_UrlIcon"),description:(0,a.V)("Visual_Tablix_UrlIcon_Desc"),type:{bool:!0}},wordWrap:p.iD.wordWrap,valuesOnRow:{displayName:(0,a.V)("Visual_PivotTable_ValuesOnRow"),description:(0,a.V)("Visual_PivotTable_ValuesOnRow_Description"),type:{bool:!0}},icon:{displayName:(0,a.V)("Visual_Tablix_Icons"),description:(0,a.V)("Visual_Tablix_Icons_Desc"),type:{icon:{}}},webURL:{displayName:(0,a.V)("Web_Url"),type:{misc:{webUrl:!0}}}}},subTotals:{displayName:(0,a.V)("Visual_Tablix_TotalSub"),properties:{...p.GY,rowSubtotals:{type:{bool:!0},displayName:(0,a.V)("Visual_SubtotalRow"),description:(0,a.V)("Visual_SubtotalRow_Desc"),suppressFormatPainterCopy:!0},rowSubtotalsLabel:{type:{text:!0},displayName:(0,a.V)("Visual_PivotTable_TotalLabel_RowSubtotals"),suppressFormatPainterCopy:!0},rowSubtotalsPosition:{displayName:(0,a.V)("Visual_SubtotalRow_Position"),type:{enumeration:g.dt},suppressFormatPainterCopy:!0},perRowLevel:{displayName:(0,a.V)("Visual_SubtotalRow_PerLevel"),type:{bool:!0},suppressFormatPainterCopy:!0},columnSubtotals:{type:{bool:!0},displayName:(0,a.V)("Visual_SubtotalColumn"),description:(0,a.V)("Visual_SubtotalColumn_Desc"),suppressFormatPainterCopy:!0},columnSubtotalsLabel:{type:{text:!0},displayName:(0,a.V)("Visual_PivotTable_TotalLabel_ColumnSubtotals"),suppressFormatPainterCopy:!0},perColumnLevel:{displayName:(0,a.V)("Visual_SubtotalColumn_PerLevel"),type:{bool:!0},suppressFormatPainterCopy:!0},applyToHeaders:{displayName:(0,a.V)("Visual_Tablix_ApplyToHeaders"),type:{bool:!0}},levelSubtotalEnabled:{type:{bool:!0}},levelSubtotalLabel:{type:{text:!0},suppressFormatPainterCopy:!0}}},total:{displayName:(0,a.V)("Visual_Tablix_Matrix_TotalGrand"),properties:{...p.GY,applyToHeaders:{displayName:(0,a.V)("Visual_Tablix_ApplyToHeaders"),type:{bool:!0}}}},rowTotal:{displayName:(0,a.V)("Visual_Tablix_Matrix_Row_TotalGrand"),properties:{...p.GY,applyToHeaders:{displayName:(0,a.V)("Visual_Tablix_ApplyToHeaders"),type:{bool:!0}}}},columnTotal:{displayName:(0,a.V)("Visual_Tablix_Matrix_Column_TotalGrand"),properties:{...p.GY,applyToHeaders:{displayName:(0,a.V)("Visual_Tablix_ApplyToHeaders"),type:{bool:!0}}}},columnFormatting:{displayName:(0,a.V)("Visual_Tablix_ColumnFormatting"),properties:{labelDisplayUnits:{displayName:(0,a.V)("Visual_DisplayUnits"),description:(0,a.V)("Visual_DisplayUnitsDescription"),type:{formatting:{displayUnitsWithoutAuto:!0}},suppressFormatPainterCopy:!0},labelPrecision:p.iD.labelPrecision,fontColor:p.iD.tablixFontColor,backColor:p.iD.backColor,alignment:p.iD.textAlignment,styleHeader:{displayName:(0,a.V)("Visual_Tablix_ColumnFormatting_ColorHeader"),type:{bool:!0}},styleValues:{displayName:(0,a.V)("Visual_Tablix_ColumnFormatting_ColorValues"),type:{bool:!0}},styleSubtotals:{displayName:(0,a.V)("Visual_Tablix_ColumnFormatting_ColorSubTotals"),type:{bool:!0}},styleTotal:{displayName:(0,a.V)("Visual_Tablix_ColumnFormatting_ColorTotal"),type:{bool:!0}},dataBars:{displayName:(0,a.V)("Visual_ConditionalFormatting_DataBars"),description:(0,a.V)("Visual_ConditionalFormatting_DataBars_Desc"),type:{dataBars:{}},suppressFormatPainterCopy:!0}}},columnWidth:{properties:{value:{type:{numeric:!0}}}},sparklines:p.TQ.sparklines,accessibility:{displayName:(0,a.V)("Accessibility"),properties:{altTextColumns:{displayName:(0,a.V)("Visual_Tablix_AltTextColumns_Label"),type:{text:!0}}}},blankRows:{displayName:(0,a.V)("Visual_Blank_Rows"),properties:{showBlankRows:p.iD.show,blankRowColor:p.iD.genericColor,blankRowTransparency:{displayName:(0,a.V)("Transparency"),type:{numeric:!0}},showBorder:p.iD.show,borderPosition:{displayName:(0,a.V)("Visual_Position"),type:{enumeration:t.y}},borderColor:p.iD.genericColor,borderTransparency:{displayName:(0,a.V)("Transparency"),type:{numeric:!0}},borderWidth:{displayName:(0,a.V)("Visual_General_Properties_Width"),type:{numeric:!0}}}},...(0,p.A5)({highlight:!0},!1)},annotationTemplates:(0,p.kW)({highlight:!0}),dataViewMappings:[{conditions:[{Rows:{max:0},Columns:{max:0},Values:{min:1}},{Rows:{min:1},Columns:{min:0},Values:{min:0}},{Rows:{min:0},Columns:{min:1},Values:{min:0}}],matrix:{rows:{for:{in:"Rows"},dataReductionAlgorithm:{window:{count:500}}},columns:{for:{in:"Columns"},dataReductionAlgorithm:{top:{count:100}}},values:{for:{in:"Values"}}}}],dataRoleTotals:[{roles:[s.r.columns],displayName:(0,a.V)("DisplayName_QuickCalc_PercentOfColumnTotal"),shortDisplayName:(0,a.V)("DisplayName_QuickCalc_PercentOfColumnTotalShort"),tooltip:(0,a.V)("DisplayName_QuickCalc_PercentOfColumnTotalTooltip")},{roles:[s.r.rows],displayName:(0,a.V)("DisplayName_QuickCalc_PercentOfRowTotal"),shortDisplayName:(0,a.V)("DisplayName_QuickCalc_PercentOfRowTotalShort"),tooltip:(0,a.V)("DisplayName_QuickCalc_PercentOfRowTotalTooltip")}],filterMappings:{measureFilter:{targetRoles:[s.r.rows]}},sorting:{default:{},custom:{}},drilldown:{roles:[s.r.rows,s.r.columns]},expandCollapse:{roles:[s.r.rows],addDataViewFlags:{defaultValue:!0},supportsMerge:!!v?.fieldParameterDynamicSlicer},suppressDefaultTitle:!0,supportsMultiVisualSelection:!0,tooltips:{showByDefault:!1,supportedTypes:{default:!0,canvas:!0},supportEnhancedTooltips:!0},supportsKeyboardFocus:!0,supportsOnObjectFormatting:!0}}var o=(0,r.wZ)(d().objects)},150190:function(ve,j,e){e.d(j,{Bx:function(){return d},Ci:function(){return l},_F:function(){return o},k2:function(){return n},pn:function(){return v},uS:function(){return g},vR:function(){return p}});var r=e(87072),i=e(230343),a=e(336596),t=e(109471);function l(m){return m&&!!m.bind}function g(m){return m&&!!m.for}function n(m){return m&&!!m}function p(m,c){var C=m.metadata.objects;if(!C||!C.valueAxis||!1!==C.valueAxis.sharedAxis||!0!==C.valueAxis.scaleToFit){var y=m.matrix,S=s(y.values.select,c),h=y.rows.values;_.isEmpty(h)||S.push(...s(h.select,c)),d(S,{min:!0,max:!0})}}function s(m,c){return m.filter(C=>{if(!g(C))return!1;var y=C.for.in.role;return _.some(c,S=>S===y)})}function d(m,c){for(var C of m){var S=(0,r.eD)(C).items;if(!_.isEmpty(S))for(var h of S)h.hidden||(h.aggregates=h.aggregates||[]).push(c)}}function o(m){var c=m.matrix.rows.select[0].dataReductionAlgorithm;if(c.window){var C=m.metadata&&m.metadata.objects,y=C&&C[a.Xi];y&&(c.window.count=(0,a.r8)(y.rowCount||a.UE,y.columnCount||a.ZO))}}function v(m,c){var C=_.filter(m.metadata.columns,y=>{var S=y.type?.misc?.sparkline?.groupingType;if(!S)return!1;var h=S.temporal||S.dateTime||S.numeric,E=(0,i.NA)(y.objects,{objectName:"sparklines",propertyName:"chartType"},void 0);return h&&E===t.U.column});_.forEach(C,y=>{var S=_.find(c,h=>y.queryName===h.queryName);S&&(S.sparklineInfo={includeMinGroupingInterval:!0})})}},681973:function(ve,j,e){e.d(j,{Fp:function(){return l},OF:function(){return g}});var r=e(251868),i=e(281210),a=e(847005),t={inputBox:{displayName:(0,i.V)("Visual_Qna_QuestionBox"),properties:{background:{displayName:(0,i.V)("Background_Color"),description:(0,i.V)("Visual_Qna_QuestionBackgroundColorDescription"),type:{fill:{solid:{color:!0}}}},questionFontColor:{displayName:(0,i.V)("Visual_Qna_QuestionFontColor"),description:(0,i.V)("Visual_Qna_QuestionFontColorDescription"),type:{fill:{solid:{color:!0}}}},questionFontSize:{displayName:(0,i.V)("Visual_Qna_QuestionFontSize"),description:(0,i.V)("Visual_Qna_QuestionFontSizeDescription"),type:{formatting:{fontSize:!0}}},questionBold:a.iD.bold,questionItalic:a.iD.italic,questionUnderline:a.iD.underline,questionFontFamily:{displayName:(0,i.V)("Visual_Qna_QuestionFontFamily"),description:(0,i.V)("Visual_Qna_QuestionFontFamilyDescription"),type:{formatting:{fontFamily:!0}}},hoverColor:{displayName:(0,i.V)("Visual_Qna_HoverColor"),description:(0,i.V)("Visual_Qna_HoverColorDescription"),type:{fill:{solid:{color:!0}}}},acceptedColor:{displayName:(0,i.V)("Visual_Qna_AcceptedUnderlineColor"),description:(0,i.V)("Visual_Qna_AcceptedUnderlineColorDescription"),type:{fill:{solid:{color:!0}}}},errorColor:{displayName:(0,i.V)("Visual_Qna_ErrorUnderlineColor"),description:(0,i.V)("Visual_Qna_ErrorUnderlineColorDescription"),type:{fill:{solid:{color:!0}}}},warningColor:{displayName:(0,i.V)("Visual_Qna_WarningUnderlineColor"),description:(0,i.V)("Visual_Qna_WarningUnderlineColorDescription"),type:{fill:{solid:{color:!0}}}},restatementFontColor:{displayName:(0,i.V)("Visual_Qna_RestatementFontColor"),description:(0,i.V)("Visual_Qna_RestatementFontColorDescription"),type:{fill:{solid:{color:!0}}}},restatementFontSize:{displayName:(0,i.V)("Visual_Qna_RestatementFontSize"),description:(0,i.V)("Visual_Qna_RestatementFontSizeDescription"),type:{formatting:{fontSize:!0}}},restatementFontFamily:{displayName:(0,i.V)("Visual_Qna_RestatementFontFamily"),description:(0,i.V)("Visual_Qna_RestatementFontFamilyDescription"),type:{formatting:{fontFamily:!0}}},commitButtonBackgroundColor:{displayName:(0,i.V)("Visual_Qna_CommitButtonBackgroundColor"),description:(0,i.V)("Visual_Qna_CommitButtonBackgroundColorDescription"),type:{fill:{solid:{color:!0}}}}}},suggestions:{displayName:(0,i.V)("Suggestions"),properties:{show:a.iD.show,headerFontColor:{displayName:(0,i.V)("Visual_Qna_HeaderFontColor"),description:(0,i.V)("Visual_Qna_HeaderFontColorDescription"),type:{fill:{solid:{color:!0}}}},headerFontSize:{displayName:(0,i.V)("Visual_Qna_HeaderFontSize"),description:(0,i.V)("Visual_Qna_HeaderFontSizeDescription"),type:{formatting:{fontSize:!0}}},headerBold:a.iD.bold,headerItalic:a.iD.italic,headerUnderline:a.iD.underline,headerFontFamily:{displayName:(0,i.V)("Visual_Qna_HeaderFontFamily"),description:(0,i.V)("Visual_Qna_HeaderFontFamilyDescription"),type:{formatting:{fontFamily:!0}}},cardBackground:{displayName:(0,i.V)("Visual_Qna_CardBackgroundColor"),description:(0,i.V)("Visual_Qna_CardBackgroundColorDescription"),type:{fill:{solid:{color:!0}}}},cardFontColor:{displayName:(0,i.V)("Visual_Qna_CardFontColor"),description:(0,i.V)("Visual_Qna_CardFontColorDescription"),type:{fill:{solid:{color:!0}}}},cardFontSize:{displayName:(0,i.V)("Visual_Qna_CardFontSize"),description:(0,i.V)("Visual_Qna_CardFontSizeDescription"),type:{formatting:{fontSize:!0}}},cardBold:a.iD.bold,cardItalic:a.iD.italic,cardUnderline:a.iD.underline,cardFontFamily:{displayName:(0,i.V)("Visual_Qna_CardFontFamily"),description:(0,i.V)("Visual_Qna_CardFontFamilyDescription"),type:{formatting:{fontFamily:!0}}}}},hiddenProperties:{properties:{savedUtterance:{type:{text:!0},captureState:!0,suppressFormatPainterCopy:!0}}}},l=(0,r.wZ)(t),g={objects:t,suppressDefaultTitle:!0,supportsKeyboardFocus:!0,supportsHighlight:!0,isConvertible:!0,tooltips:{supportEnhancedTooltips:!1},suppressVisualCalc:!0}},972394:function(ve,j,e){e.d(j,{Cg:function(){return p},eH:function(){return s}});var r=e(630881),i=e(281210),a=e(56604),t=e(847005),l=e(251868),g=function(d){return d[d.Top=0]="Top",d[d.Bottom=1]="Bottom",d}({}),n=(0,a.i)([{value:g.Top,displayName:(0,i.V)("Top")},{value:g.Bottom,displayName:(0,i.V)("Bottom")}]),p={advancedEditModeSupport:r.OI.SupportedInFocus,objects:{toolbar:{displayName:(0,i.V)("RdlVisual_Capabilities_Toolbar"),properties:{show:t.iD.show,pageNavigation:{displayName:(0,i.V)("PageNavigation"),type:{bool:!0}},paramButton:{displayName:(0,i.V)("Parameters"),type:{bool:!0}},openReportButton:{displayName:(0,i.V)("OpenReport"),type:{bool:!0}},useFloatingToolbar:{displayName:(0,i.V)("RdlVisual_Capabilities_Floating"),type:{bool:!0}},position:{displayName:(0,i.V)("RdlVisual_Capabilities_ToolbarPosition"),type:{enumeration:n}}}},export:{displayName:(0,i.V)("Export"),properties:{show:t.iD.show,exportExcel:{displayName:(0,i.V)("RenderFormat_EXCELOPENXML"),type:{bool:!0}},exportPDF:{displayName:(0,i.V)("RenderFormat_PDF"),type:{bool:!0}},exportAccessiblePDF:{displayName:(0,i.V)("RenderFormat_ACCESSIBLEPDF"),type:{bool:!0}},exportCSV:{displayName:(0,i.V)("RenderFormat_CSV"),type:{bool:!0}},exportPPTX:{displayName:(0,i.V)("RenderFormat_PPTX"),type:{bool:!0}},exportWord:{displayName:(0,i.V)("RenderFormat_WORDOPENXML"),type:{bool:!0}},exportMHTML:{displayName:(0,i.V)("RenderFormat_MHTML"),type:{bool:!0}},exportXML:{displayName:(0,i.V)("RenderFormat_XML"),type:{bool:!0}}}},autoFilter:{displayName:(0,i.V)("RdlVisual_Capabilities_AutoFilter"),properties:{show:t.iD.show}},reportInfo:{suppressFormatPainterCopy:!0,properties:{reportId:{type:{text:!0}},workspaceId:{type:{text:!0}},reference:{type:{itemLocation:{}}}}},parameterMapping:{properties:{mappings:{type:{text:!0}}}}},suppressDefaultTitle:!0,supportsEmptyDataView:!0,supportsLandingPage:!0,blockExportData:!0,dataRoles:[{name:"parameterValues",kind:r.DW.GroupingOrMeasure,displayName:(0,i.V)("Parameters"),description:(0,i.V)("RdlVisual_Capabilities_Parameters_Description")}],dataViewMappings:[{conditions:[{parameterValues:{min:0}}],table:{rows:{for:{in:"parameterValues"},dataReductionAlgorithm:{top:{count:3e4}}}}}],suppressVisualCalc:!0},s=(0,l.wZ)(p.objects)},587233:function(ve,j,e){e.d(j,{CS:function(){return y},ft:function(){return c},il:function(){return S},r4:function(){return o}});var r=e(318456),i=e(650543),a=e(251868),t=e(630881),l=e(33199),g=e(281210),n=e(56604),p=e(124374),s=e(847005),d=e(147818);function o(h){return{dataRoles:v(h&&h.cartesianConditionalFormatting,h&&h.useModernFormatPane),objects:C,dataViewMappings:[{conditions:[{Category:{max:1},Series:{max:1},X:{max:1,kind:t.DW.Measure},Y:{max:1,kind:t.DW.Measure},Size:{max:1},Gradient:{max:0},Play:{max:0}},{Category:{max:1},Series:{max:0},X:{max:1,kind:t.DW.Measure},Y:{max:1,kind:t.DW.Measure},Size:{max:1},Gradient:{max:1},Play:{max:0}}],matrix:{rows:{select:[{bind:{to:"Series"}},{composite:[{for:{in:"Category"}}]}],dataReductionAlgorithm:{overlappingPointsSample:{}}},values:{select:[{bind:{to:"X"}},{bind:{to:"Y"}},{bind:{to:"Size"}},{bind:{to:"Gradient"}},{for:{in:"Tooltips"}}]},dataVolume:4}},{conditions:[{Category:{max:1},Series:{max:1},X:{max:1,kind:t.DW.Measure},Y:{max:1,kind:t.DW.Measure},Size:{max:1},Gradient:{max:0},Play:{min:1,max:1}}],matrix:{rows:{select:[{bind:{to:"Play"}},{bind:{to:"Category"}}],dataReductionAlgorithm:{bottom:{count:5e3}}},columns:{for:{in:"Series"},dataReductionAlgorithm:{top:{count:60}}},values:{select:[{bind:{to:"X"}},{bind:{to:"Y"}},{bind:{to:"Size"}},{for:{in:"Tooltips"}}]}}},m(!0,!0,!1),m(!0,!1,!0),m(!1,!0,!1),{conditions:[{Category:{max:0},Series:{max:1},X:{max:1},Y:{max:1},Size:{max:0},Gradient:{max:0},Play:{max:0}},{Category:{max:0},Series:{max:0},X:{max:1},Y:{max:1},Size:{max:0},Gradient:{max:1},Play:{max:0}},{Category:{max:1},Series:{max:1},X:{max:1,kind:t.DW.Measure},Y:{max:1,kind:t.DW.Measure},Size:{max:0},Gradient:{max:0},Play:{max:0}},{Category:{max:1},Series:{max:0},X:{max:1,kind:t.DW.Measure},Y:{max:1,kind:t.DW.Measure},Size:{max:0},Gradient:{max:1},Play:{max:0}}],requiredProperties:[{objectName:"trend",propertyName:"show"}],usage:{regression:{combineSeries:{objectName:"trend",propertyName:"combineSeries"}}},matrix:{rows:{select:[{bind:{to:"regression.Series"}},{bind:{to:"regression.X"}}],dataReductionAlgorithm:{sample:{}}},values:{select:[{for:{in:"regression.Y"}}]},dataVolume:4}}],visualShapeDataViewMappings:[{conditions:[{Category:{max:0},Series:{max:1},X:{min:1,kind:t.DW.Grouping},Y:{max:1,kind:t.DW.Measure},Size:{max:1},Gradient:{max:0},Play:{max:0}},{Category:{max:0},Series:{max:0},X:{min:1,kind:t.DW.Grouping},Y:{max:1,kind:t.DW.Measure},Size:{max:1},Gradient:{max:1},Play:{max:0}}],matrix:{rows:{select:[{bind:{to:"X"}}]},columns:{for:{in:"Series"}},values:{select:[{bind:{to:"Size"}},{for:{in:"Tooltips"}},{bind:{to:"Y"}}]}}},{conditions:[{Category:{max:0},Series:{max:1},X:{min:1,max:1,kind:t.DW.Grouping},Y:{min:1,max:1,kind:t.DW.Grouping},Size:{max:1},Gradient:{max:0},Play:{max:0}},{Category:{max:0},Series:{max:0},X:{min:1,max:1,kind:t.DW.Grouping},Y:{min:1,max:1,kind:t.DW.Grouping},Size:{max:1},Gradient:{max:1},Play:{max:0}}],matrix:{rows:{select:[{composite:[{for:{in:"X"}},{for:{in:"Y"}}]}]},columns:{for:{in:"Series"}},values:{select:[{bind:{to:"Size"}},{for:{in:"Tooltips"}}]}}},{conditions:[{Category:{max:0},Series:{max:1},X:{max:1,kind:t.DW.Measure},Y:{min:1,max:1,kind:t.DW.Grouping},Size:{max:1},Gradient:{max:0},Play:{max:0}},{Category:{max:0},Series:{max:0},X:{max:1,kind:t.DW.Measure},Y:{min:1,max:1,kind:t.DW.Grouping},Size:{max:1},Gradient:{max:1},Play:{max:0}}],matrix:{rows:{select:[{bind:{to:"Y"}}]},columns:{for:{in:"Series"}},values:{select:[{bind:{to:"Size"}},{for:{in:"Tooltips"}},{bind:{to:"X"}}]}}},{conditions:[{Category:{max:1},Series:{max:1},X:{max:1,kind:t.DW.Measure},Y:{max:1,kind:t.DW.Measure},Size:{max:1},Gradient:{max:0},Play:{max:0}},{Category:{max:1},Series:{max:0},X:{max:1,kind:t.DW.Measure},Y:{max:1,kind:t.DW.Measure},Size:{max:1},Gradient:{max:1},Play:{max:0}}],matrix:{rows:{select:[{bind:{to:"Category"}}]},columns:{for:{in:"Series"}},values:{select:[{bind:{to:"Size"}},{for:{in:"Tooltips"}},{bind:{to:"X"}},{bind:{to:"Y"}}]}}}],sorting:{default:{},custom:{},implicit:{clauses:[{role:"Play",direction:r.S.Ascending}]}},drilldown:{roles:[d.TL.category,d.TL.x]},grouping:{groupingRules:[{condition:{Category:{min:1,max:1},X:{min:1,max:1},Y:{min:1,max:1},Play:{max:1}},groupingTargetRole:"Category",kind:l.t.GroupInPlace},{condition:{Category:{min:1,max:1},X:{max:1},Y:{max:1},Play:{max:1}},groupingTargetRole:"Series",kind:l.t.Color},{condition:{Category:{min:1,max:1},X:{min:1,max:1},Y:{min:1,max:1},Series:{max:0},Gradient:{max:1},Play:{max:1}},groupingTargetRole:"Category",kind:l.t.GroupInPlace}],cluster:{clusteringRole:"Series",conditions:[{Category:{min:1,max:1},X:{min:1,max:1},Y:{min:1,max:1},Series:{max:0},Size:{max:1},Gradient:{max:0},Play:{max:0}}]}},supportsMultiVisualSelection:!0,supportsKeyboardFocus:!0,tooltips:{supportedTypes:{default:!0,canvas:!0},roles:["Tooltips"],supportEnhancedTooltips:!0},supportsOnObjectFormatting:!0,suppressVisualCalc:!h?.enableCalculationScatterChartMap}}function v(h,E){var u=[{name:d.TL.category,kind:t.DW.Grouping,displayName:(0,g.V)(E?"Role_DisplayName_Values":"Details"),displayOrder:1,description:(0,g.V)("Role_DisplayName_DetailsScatterChartDescription")},{name:d.TL.series,kind:t.DW.Grouping,displayName:(0,g.V)("Role_DisplayName_Legend"),displayOrder:E?4:2,description:(0,g.V)("Role_DisplayName_LegendDescription")},{name:d.TL.x,kind:t.DW.GroupingOrMeasure,displayName:(0,g.V)("Role_DisplayName_X"),displayOrder:E?2:3,description:(0,g.V)("Role_DisplayName_XScatterChartDescription"),requiredTypes:void 0,cartesianKind:t.Lv.X},{name:d.TL.y,kind:t.DW.GroupingOrMeasure,displayName:(0,g.V)("Role_DisplayName_Y"),displayOrder:E?3:4,description:(0,g.V)("Role_DisplayName_YScatterChartDescription"),requiredTypes:[{numeric:!0},{integer:!0}],cartesianKind:t.Lv.Y},{name:d.TL.size,kind:t.DW.Measure,displayName:(0,g.V)("Role_DisplayName_Size"),displayOrder:5,description:(0,g.V)("Role_DisplayName_SizeDescription_Bubble"),requiredTypes:[{numeric:!0},{integer:!0}]}];return h||u.push({name:d.TL.gradient,kind:t.DW.Measure,displayName:(0,g.V)("Role_DisplayName_Gradient"),displayOrder:6,description:(0,g.V)("Role_DisplayName_GradientDescription"),requiredTypes:[{numeric:!0},{integer:!0}],joinPredicate:t.ps.None}),u.push({name:d.TL.play,kind:t.DW.Grouping,displayName:(0,g.V)("Role_DisplayName_Play"),displayOrder:7,disallowedWithVisualCalculations:!0}),u.push({name:d.TL.tooltips,kind:t.DW.Measure,displayName:(0,g.V)("Role_DisplayName_Tooltips"),displayOrder:8,description:(0,g.V)("Role_Tooltips_Description"),joinPredicate:t.ps.None}),u}function m(h,E,u){i.f.assert(()=>h||E,"At least one of groupedX or groupedY must be true");var f={min:1,max:1,kind:t.DW.Grouping};u&&(f={min:1,kind:t.DW.Grouping});var V={max:1,kind:t.DW.Measure},T=h?f:V,P=E?{min:1,max:1,kind:t.DW.Grouping}:V,D={bind:{to:"X"}},M={bind:{to:"Y"}},A=[],R=[];h?A.push(u?{for:{in:"X"}}:D):R.push(D),E?A.push(M):R.push(M);var B,N=A.length;return N>=2||1===N&&h&&u?B={composite:A}:1===N&&(B=A[0]),{conditions:[{Category:{max:0},Series:{max:1},X:T,Y:P,Size:{max:1},Gradient:{max:0},Play:{max:0}},{Category:{max:0},Series:{max:0},X:T,Y:P,Size:{max:1},Gradient:{max:1},Play:{max:0}}],matrix:{rows:{select:[{bind:{to:"Series"}},B],dataReductionAlgorithm:{overlappingPointsSample:{}}},values:{select:[...R||[],{bind:{to:"Size"}},{bind:{to:"Gradient"}},{for:{in:"Tooltips"}}]},dataVolume:4}}}var c=function(h){return h.fillOnly="Fill only",h.borderOnly="Border only",h}({}),C={general:{displayName:(0,g.V)("Visual_General"),properties:{formatString:s.iD.formatString,responsive:s.iD.responsive,responsiveLegacy:s.iD.responsiveLegacy,dataVolume:{displayName:(0,g.V)("Visual_DataVolume"),description:(0,g.V)("Visual_DataVolumeDescription"),type:{integer:!0}}}},legend:{displayName:s.TQ.legend.displayName,description:s.TQ.legend.description,properties:{...s.TQ.legend.properties,showGradientLegend:s.iD.showGradientLegend}},categoryAxis:{displayName:(0,g.V)("Visual_XAxis"),properties:{show:s.iD.show,...s.Mu,...s.PO,...s.wF,...(0,s.Me)("x"),...s.WV,treatNullsAsZero:{displayName:(0,g.V)("Visual_Scatter_TreatNullsAsZero"),description:(0,g.V)("Visual_Scatter_TreatNullsAsZeroDescription"),type:{bool:!0}}}},valueAxis:{displayName:(0,g.V)("Visual_YAxis"),properties:{show:s.iD.show,...s.Mu,...s.wF,...(0,s.Me)("y"),...s.WV,treatNullsAsZero:{displayName:(0,g.V)("Visual_Scatter_TreatNullsAsZero"),description:(0,g.V)("Visual_Scatter_TreatNullsAsZeroDescription"),type:{bool:!0}},switchAxisPosition:s.iD.switchAxisPosition}},zoom:s.TQ.zoom,dataPoint:{displayName:(0,g.V)("Visual_DataPoint"),description:(0,g.V)("Visual_DataPointDescription"),properties:{defaultColor:s.iD.defaultColor,showAllDataPoints:s.iD.showAllDataPoints,fill:s.iD.defaultCategoryColor,fillRule:{displayName:(0,g.V)("Visual_Gradient"),type:{fillRule:{}},rule:{inputRole:"Gradient",output:{property:"fill",selector:["Category","X","Y"]}}}}},markers:s.TQ.markers,bubbles:{displayName:(0,g.V)("Visual_Shapes"),description:(0,g.V)("Visual_ShapesDescription"),properties:{bubbleSize:{displayName:(0,g.V)("Visual_SizeMultiplier"),type:{integer:!0}},markerRangeType:{displayName:(0,g.V)("Visual_MarkerRangeType"),type:{enumeration:p.v6}},markerShape:s.iD.markerShape,showSeries:{displayName:(0,g.V)("Visual_LabelSeriesShowAll"),type:{bool:!0}}}},plotArea:s.TQ.plotArea,categoryLabels:{displayName:(0,g.V)("Visual_CategoryLabels"),description:(0,g.V)("Visual_CategoryLabelsDescription"),properties:{...s.PP,...s.BO}},trend:(0,s.Fe)(!1),[d.j3.x]:{displayName:(0,g.V)("Visual_Reference_Line_X"),description:(0,g.V)("Visual_Reference_Line_Description"),objectCategory:t.fv.Analytics,suppressFormatPainterCopy:!0,properties:s.I3},[d.j3.y1]:{displayName:(0,g.V)("Visual_Reference_Line_Y"),description:(0,g.V)("Visual_Reference_Line_Description"),objectCategory:t.fv.Analytics,suppressFormatPainterCopy:!0,properties:s.I3},[d.j3.generic]:{displayName:(0,g.V)("Visual_Reference_Line"),description:(0,g.V)("Visual_Reference_Line_Description"),objectCategory:t.fv.Analytics,suppressFormatPainterCopy:!0,properties:s.I3},colorBorder:{displayName:(0,g.V)("Visual_ColorBorder"),properties:{show:s.iD.show}},fillPoint:{displayName:(0,g.V)("Visual_FillPoint"),properties:{style:{displayName:(0,g.V)("Style"),type:{enumeration:(0,n.i)([{value:c.fillOnly,displayName:h=>h.get("Visual_FillStyle_Fill")},{value:c.borderOnly,displayName:h=>h.get("Visual_FillStyle_Border")}])}}}},colorByCategory:{displayName:(0,g.V)("Visual_ColorByCategory"),properties:{show:s.iD.show}},currentFrameIndex:{properties:{index:{type:{numeric:!0}}}},clustering:{suppressFormatPainterCopy:!0,properties:{transform:{type:{queryTransform:{}}}}},plotAreaShading:{displayName:(0,g.V)("Visual_Scatter_SymmetryShading"),description:(0,g.V)("Visual_Scatter_SymmetryShadingDescription"),objectCategory:t.fv.Analytics,properties:{show:s.iD.show,displayName:{displayName:(0,g.V)("Name"),type:{text:!0}},upperShadingColor:{displayName:(0,g.V)("Visual_Scatter_SymmetryShadingUpper"),description:(0,g.V)("Visual_Scatter_SymmetryShadingUpperDescription"),type:{fill:{solid:{color:!0}}}},lowerShadingColor:{displayName:(0,g.V)("Visual_Scatter_SymmetryShadingLower"),description:(0,g.V)("Visual_Scatter_SymmetryShadingLowerDescription"),type:{fill:{solid:{color:!0}}}},transparency:s.iD.backgroundTransparency}},ratioLine:{displayName:(0,g.V)("Visual_Scatter_RatioLine"),description:(0,g.V)("Visual_Scatter_RatioLineDescription"),objectCategory:t.fv.Analytics,properties:{displayName:{displayName:(0,g.V)("Name"),type:{text:!0}},...s.xF}}},y=(0,a.wZ)(C),S={general:{dataVolume:{objectName:"general",propertyName:"dataVolume"}},dataPoint:{defaultCategoryColor:{objectName:"dataPoint",propertyName:"defaultCategoryColor"},showAllDataPoints:{objectName:"dataPoint",propertyName:"showAllDataPoints"}},markers:{color:{objectName:"dataPoint",propertyName:"fill"},rangeType:{objectName:"bubbles",propertyName:"markerRangeType"},shape:{objectName:"bubbles",propertyName:"markerShape"},...s.hk},bubbles:{bubbleSize:{objectName:"bubbles",propertyName:"bubbleSize"},showSeries:{objectName:"bubbles",propertyName:"showSeries"}},trend:{show:{objectName:"trend",propertyName:"show"}},colorByCategory:{show:{objectName:"colorByCategory",propertyName:"show"}},currentFrameIndex:{index:{objectName:"currentFrameIndex",propertyName:"index"}},legend:{labelColor:{objectName:"legend",propertyName:"labelColor"}},plotAreaShading:{show:{objectName:"plotAreaShading",propertyName:"show"},upperShadingColor:{objectName:"plotAreaShading",propertyName:"upperShadingColor"},lowerShadingColor:{objectName:"plotAreaShading",propertyName:"lowerShadingColor"},transparency:{objectName:"plotAreaShading",propertyName:"transparency"}},ratioLine:(0,s.pN)("ratioLine",s.vi),categoryAxis:{treatNullsAsZero:{objectName:"categoryAxis",propertyName:"treatNullsAsZero"}},valueAxis:{treatNullsAsZero:{objectName:"valueAxis",propertyName:"treatNullsAsZero"}}}},536461:function(ve,j,e){e.d(j,{A:function(){return g},b:function(){return l}});var r=e(251868),i=e(281210),a=e(56604),t=e(847005),l={dataViewMappings:[],objects:{scorecard:{displayName:(0,i.V)("Scorecard"),properties:{scorecardId:{type:{text:!0},displayName:(0,i.V)("ContentHeader_URL"),suppressFormatPainterCopy:!0},scorecardReference:{type:{itemLocation:{}},suppressFormatPainterCopy:!0},goalIds:{displayName:(0,i.V)("Metrics"),type:{text:!0},suppressFormatPainterCopy:!0},displayMode:{displayName:(0,i.V)("ExplorationBookmarks_Display"),type:{enumeration:(0,a.i)([{displayName:(0,i.V)("Tile_Generic"),value:"tile"},{displayName:(0,i.V)("Visual_SliderMode_Basic"),value:"list"}])}},backgroundColor:t.iD.backColor,foregroundColor:t.iD.fontColor,fontFamily:t.iD.fontFamily,tableBackgroundColor:t.iD.backColor,showCommandBar:{type:{bool:!0},displayName:(0,i.V)("ScorecardVisual_Format_ShowCommandBar")}}},header:{displayName:(0,i.V)("ThemeDialog_SubSection_Header"),properties:{show:t.iD.show,showTitle:{type:{bool:!0},displayName:(0,i.V)("EditWidget_ShowTitleCheckbox")},showToolbar:{type:{bool:!0},displayName:(0,i.V)("ScorecardVisual_Format_ShowToolbar")},showCards:{type:{bool:!0},displayName:(0,i.V)("Cards")},foregroundColor:t.iD.fontColor,backgroundColor:t.iD.backColor}},columnHeaders:{displayName:(0,i.V)("Visual_Tablix_ColumnHeaders"),properties:{show:t.iD.show,foregroundColor:t.iD.fontColor}},goals:{displayName:(0,i.V)("Role_DisplayName_KPI_Goals"),properties:{foregroundColor:t.iD.fontColor,backgroundColor:t.iD.backColor}},detailsPane:{displayName:(0,i.V)("DetailsPane"),properties:{foregroundColor:t.iD.fontColor,backgroundColor:t.iD.backColor,cardForegroundColor:{displayName:(0,i.V)("Card_Font_Color"),type:{fill:{solid:{color:!0}}}},cardBackgroundColor:{displayName:(0,i.V)("Card_Background_Color"),type:{fill:{solid:{color:!0}}}},chartBackgroundColor:{displayName:(0,i.V)("Chart_Background_Color"),type:{fill:{solid:{color:!0}}}},chartForegroundColor:{displayName:(0,i.V)("Chart_Foreground_Color"),type:{fill:{solid:{color:!0}}}}}},visualization:{displayName:(0,i.V)("Visualization"),properties:{backgroundColor:t.iD.backColor,backgroundTransparency:t.iD.backgroundTransparency,showScorecardName:{displayName:(0,i.V)("ScorecardDialog_Name"),description:(0,i.V)("ScorecardDialog_Name"),type:{bool:!0}},scorecardNameFontFamily:t.iD.fontFamily,scorecardNameFontSize:t.iD.titleFontSize,scorecardNameFontColor:t.iD.fontColor,scorecardNameBold:t.iD.bold,scorecardNameItalic:t.iD.italic,scorecardNameUnderline:t.iD.underline,currentValueFontFamily:t.iD.fontFamily,currentValueFontSize:t.iD.titleFontSize,currentValueFontColor:t.iD.fontColor,currentValueBold:t.iD.bold,currentValueItalic:t.iD.italic,currentValueUnderline:t.iD.underline,targetValueFontFamily:t.iD.fontFamily,targetValueFontSize:t.iD.titleFontSize,targetValueFontColor:t.iD.fontColor,targetValueBold:t.iD.bold,targetValueItalic:t.iD.italic,targetValueUnderline:t.iD.underline,showGrowth:{displayName:(0,i.V)("ScorecardVisual_Growth"),description:(0,i.V)("ScorecardVisual_Growth"),type:{bool:!0}},growthFontFamily:t.iD.fontFamily,growthFontSize:t.iD.titleFontSize,growthFontColor:t.iD.fontColor,growthBold:t.iD.bold,growthItalic:t.iD.italic,growthUnderline:t.iD.underline,showGoalName:{displayName:(0,i.V)("GoalName"),description:(0,i.V)("GoalName"),type:{bool:!0}},goalNameFontFamily:t.iD.fontFamily,goalNameFontSize:t.iD.titleFontSize,goalNameFontColor:t.iD.fontColor,goalNameBold:t.iD.bold,goalNameItalic:t.iD.italic,goalNameUnderline:t.iD.underline,showOwner:{displayName:(0,i.V)("Owner_Lowercase"),description:(0,i.V)("Owner_Lowercase"),type:{bool:!0}},ownerPhotoSize:{displayName:(0,i.V)("Role_DisplayName_Size"),description:(0,i.V)("Role_DisplayName_Size"),type:{numeric:!0}},showDueDate:{displayName:(0,i.V)("Due"),description:(0,i.V)("Due"),type:{bool:!0}},dueDateFontFamily:t.iD.fontFamily,dueDateFontSize:t.iD.titleFontSize,dueDateFontColor:t.iD.fontColor,dueDateBold:t.iD.bold,dueDateItalic:t.iD.italic,dueDateUnderline:t.iD.underline,showStatus:{displayName:(0,i.V)("Status"),description:(0,i.V)("Status"),type:{bool:!0}},showNotes:{displayName:(0,i.V)("Notes"),description:(0,i.V)("Notes"),type:{bool:!0}},notesFontSize:t.iD.titleFontSize,notesFontColor:t.iD.fontColor,showVisualization:{displayName:(0,i.V)("Visualization"),description:(0,i.V)("Visualization"),type:{bool:!0}},showLegends:{displayName:(0,i.V)("Visual_Legend"),description:(0,i.V)("Visual_Legend"),type:{bool:!0}},showTargetLine:{displayName:(0,i.V)("ScorecardVisual_TargetLine"),description:(0,i.V)("ScorecardVisual_TargetLine"),type:{bool:!0}},targetLineColor:t.iD.fontColor,currentLineColor:t.iD.fontColor,currentAreaShaded:{displayName:(0,i.V)("Visual_Shapes_ShadeArea"),description:(0,i.V)("Visual_Shapes_ShadeArea"),type:{bool:!0}},showXAxis:{displayName:(0,i.V)("Visual_XAxis_Hyphen"),description:(0,i.V)("Visual_XAxis_Hyphen"),type:{bool:!0}},xAxisFontFamily:t.iD.fontFamily,xAxisFontSize:t.iD.titleFontSize,xAxisFontColor:t.iD.fontColor,xAxisBold:t.iD.bold,xAxisItalic:t.iD.italic,xAxisUnderline:t.iD.underline,showYAxis:{displayName:(0,i.V)("Visual_YAxis_Hyphen"),description:(0,i.V)("Visual_YAxis_Hyphen"),type:{bool:!0}},yAxisFontFamily:t.iD.fontFamily,yAxisFontSize:t.iD.titleFontSize,yAxisFontColor:t.iD.fontColor,yAxisBold:t.iD.bold,yAxisItalic:t.iD.italic,yAxisUnderline:t.iD.underline}}},sorting:{custom:{}},suppressDefaultTitle:!0,supportsEmptyDataView:!0,supportsLandingPage:!0,supportsSelection:!1,showVisualContainerScreen:!0},g=(0,r.wZ)(l.objects)},699460:function(ve,j,e){e.d(j,{B3:function(){return d},Ic:function(){return c},MI:function(){return s},W$:function(){return p},W6:function(){return o},WO:function(){return C}});var r=e(251868),i=e(33199),a=e(281210),t=e(55017),l=e(847005),g=e(758038),n=e(772247),p={fill:n.OV.fill,outline:n.OV.outline,text:g.nm.text,shape:{...n.OV.shape,linecapType:{objectName:"shape",propertyName:"linecapType"}},shadow:n.OV.shadow,glow:n.OV.glow,rotation:{angle:{objectName:"rotation",propertyName:"angle"},shapeAngle:{objectName:"rotation",propertyName:"shapeAngle"},textAngle:{objectName:"rotation",propertyName:"textAngle"}}},s={...n.eM,...g.Vz,rotation:"rotation"},d={...n.Mn,...g.WI,linecapType:"linecapType",rotation:"angle"},o={default:"default"},v={show:l.iD.show,[n.Mn.fillColor]:l.iD.fill,[n.Mn.fillTransparency]:l.iD.backgroundTransparency},m={[s.fill]:{displayName:(0,a.V)("Visual_Fill"),properties:v},[s.outline]:n.zC.outline,[s.text]:g.p.text,[s.shape]:{displayName:(0,a.V)("Visual_Shape"),properties:{...n.zC.shape.properties,[d.linecapType]:{displayName:(0,a.V)("LinecapType"),type:{enumeration:t.i}}}},[s.shadow]:n.zC.shadow,[s.glow]:n.zC.glow,[s.rotation]:{displayName:(0,a.V)("Visual_BasicShape_Rotate"),properties:{[d.rotation]:l.iD.genericRotation,[d.shapeRotation]:l.iD.shapeRotation,[d.textRotation]:l.iD.textRotation}}},c={objects:m,suppressDefaultTitle:!0,suppressDefaultPadding:!0,supportsSelection:!1,supportsVisualLink:!0,ariaRole:i.e.Img,disableFormatMode:!0},C=(0,r.wZ)(m)},502202:function(ve,j,e){e.d(j,{L:function(){return o},x:function(){return s}});var r=e(318456),i=e(251868),a=e(630881),t=e(281210),l=e(231418),g=e(75176),n=e(847005),p={general:{displayName:(0,t.V)("Visual_General"),properties:{formatString:n.iD.formatString}},legend:n.TQ.legend,dataPoint:{displayName:(0,t.V)("Visual_DataPoint"),description:(0,t.V)("Visual_DataPointDescription"),properties:{defaultColor:n.iD.defaultColor,showAllDataPoints:n.iD.showAllDataPoints,fill:n.iD.defaultCategoryColor,fillRule:{displayName:(0,t.V)("Role_DisplayName_Values"),description:(0,t.V)("Role_DisplayName_ValuesDescription"),type:{fillRule:{}},rule:{conditions:[{Series:{max:0}}],inputRole:g.S3,output:{property:"fill",selector:[g.W3]}}}}},shape:{displayName:(0,t.V)("Visual_Shape"),description:(0,t.V)("Visual_Shape"),properties:{map:{type:{geoJson:{contentType:l.t_}}},projectionEnum:{displayName:(0,t.V)("Visual_ShapeMap_Projection"),description:(0,t.V)("Visual_ShapeMap_Projection_Desc"),type:{enumeration:g.dt}}}},defaultColors:{displayName:(0,t.V)("Visual_ShapeMap_DefaultColor"),description:(0,t.V)("Visual_ShapeMap_DefaultColor_Desc"),properties:{defaultShow:{displayName:(0,t.V)("Visual_ShapeMap_DefaultShow"),description:(0,t.V)("Visual_ShapeMap_DefaultShow_Desc"),type:{bool:!0}},defaultColor:{displayName:(0,t.V)("Generic_Color"),description:(0,t.V)("Visual_ShapeMap_DefaultColorColor_Desc"),type:{fill:{solid:{color:!0}}}},borderColor:n.iD.borderColor,borderThickness:{displayName:(0,t.V)("Visual_ShapeMap_BorderThickness"),type:{numeric:!0}}}},zoom:{displayName:(0,t.V)("Visual_ShapeMap_Zoom"),description:(0,t.V)("Visual_ShapeMap_Zoom_Desc"),properties:{autoZoom:{displayName:(0,t.V)("Visual_ShapeMap_AutoZoom"),description:(0,t.V)("Visual_ShapeMap_AutoZoom_Desc"),type:{bool:!0}},selectionZoom:{displayName:(0,t.V)("Visual_ShapeMap_SelectionZoom"),description:(0,t.V)("Visual_ShapeMap_SelectionZoom_Desc"),type:{bool:!0}},manualZoom:{displayName:(0,t.V)("Visual_ShapeMap_ManualZoom"),description:(0,t.V)("Visual_ShapeMap_ManualZoom_Desc"),type:{bool:!0}}}}};function s(v){return{dataRoles:[{name:g.W3,kind:a.DW.Grouping,displayName:(0,t.V)("Role_DisplayName_Location"),description:(0,t.V)("Role_DisplayName_LocationMapDescription"),preferredTypes:[{geography:{address:!0}},{geography:{city:!0}},{geography:{continent:!0}},{geography:{country:!0}},{geography:{county:!0}},{geography:{place:!0}},{geography:{postalCode:!0}},{geography:{region:!0}},{geography:{stateOrProvince:!0}}]},{name:g.ac,kind:a.DW.Grouping,displayName:(0,t.V)("Role_DisplayName_Legend"),description:(0,t.V)("Role_DisplayName_LegendDescription")},{name:g.S3,kind:a.DW.Measure,displayName:(0,t.V)("Role_DisplayName_Gradient"),description:(0,t.V)("Role_DisplayName_GradientDescription"),requiredTypes:[{numeric:!0},{integer:!0}]},{name:g.jH,kind:a.DW.Measure,displayName:(0,t.V)("Role_DisplayName_Tooltips"),description:(0,t.V)("Role_Tooltips_Description"),joinPredicate:a.ps.None}],objects:p,dataViewMappings:[{conditions:[{[g.W3]:{min:0,max:1},[g.ac]:{min:0,max:1},[g.S3]:{min:0,max:1}}],categorical:{categories:{for:{in:g.W3},dataReductionAlgorithm:{top:{}}},values:{group:{by:g.ac,select:[{bind:{to:g.S3}},{for:{in:g.jH}}],dataReductionAlgorithm:{top:{}}}},rowCount:{preferred:{min:2}},dataVolume:4}}],sorting:{custom:{},implicit:{clauses:[{role:g.S3,direction:r.S.Descending}]}},supportsMultiVisualSelection:!0,supportsKeyboardFocus:!0,tooltips:{supportedTypes:{default:!0,canvas:!0},roles:["Tooltips"],supportEnhancedTooltips:!0},suppressVisualCalc:!v?.enableCalculationScatterChartMap}}var o=(0,i.wZ)(p)},159601:function(ve,j,e){e.d(j,{CT:function(){return o},gO:function(){return c},hN:function(){return v},st:function(){return C},wk:function(){return m}});var r=e(251868),i=e(630881),a=e(281210),t=e(9033),l=e(947386),g=e(817525),n=e(875553),p=e(316517),s=e(236785),d=e(847005),o={value:"Values"},v={objectName:"selection",propertyName:"restrictToLeafNodes"},m={general:{displayName:(0,a.V)("Visual_General"),properties:{responsive:d.iD.responsive,filter:{suppressFormatPainterCopy:!0,type:{filter:{}}},selfFilter:{suppressFormatPainterCopy:!0,type:{filter:{selfFilter:!0}}},defaultValue:{type:{expression:{defaultValue:!0}}},formatString:d.iD.formatString,outlineColor:d.iD.outlineColor,outlineWeight:d.iD.outlineWeight,orientation:{displayName:(0,a.V)("Slicer_Orientation"),type:{enumeration:s.d}},count:{type:{integer:!0}},selfFilterEnabled:{suppressFormatPainterCopy:!0,type:{operations:{searchEnabled:!0}}}}},data:{suppressFormatPainterCopy:!0,properties:{startDate:{type:{dateTime:!0},filterState:!0},endDate:{type:{dateTime:!0},filterState:!0},numericStart:{type:{numeric:!0},filterState:!0},numericEnd:{type:{numeric:!0},filterState:!0},relativeRange:{type:{enumeration:g.dt},filterState:!0},relativePeriod:{type:{enumeration:l.GA},filterState:!0},relativeTimePeriod:{type:{enumeration:l._k},filterState:!0},relativeDuration:{type:{numeric:!0},filterState:!0},mode:{displayName:(0,a.V)("Style"),type:{enumeration:p.dt},filterState:!0,persistUnmatchedState:!0},isInvertedSelectionMode:{type:{bool:!0},filterState:!0}}},selection:{displayName:(0,a.V)("Visual_SelectionControls"),properties:{selectAllCheckboxEnabled:{displayName:(0,a.V)("Visual_SelectAll"),description:(0,a.V)("Visual_SelectAll_Description"),type:{bool:!0}},singleSelect:{displayName:(0,a.V)("Visual_MultiSelectWithCtrl"),description:(0,a.V)("Visual_MultiSelectWithCtrl_Description"),type:{bool:!0}},strictSingleSelect:{displayName:(0,a.V)("Visual_StrictSingleSelect"),description:(0,a.V)("Visual_StrictSingleSelect_Description"),type:{bool:!0},filterState:!0}}},header:{displayName:(0,a.V)("Slicer_Header"),properties:{show:d.iD.show,text:{displayName:(0,a.V)("Visual_Title_Text"),description:(0,a.V)("Visual_Title_TextDescription"),type:{text:!0},suppressFormatPainterCopy:!0},...d.d4,outlineStyle:d.iD.outlineStyle,showRestatement:{displayName:(0,a.V)("Slicer_Restatement_Enabled"),type:{bool:!0}}}},pendingChangesIcon:{displayName:(0,a.V)("PendingIcon"),properties:{show:d.iD.show,color:d.iD.genericColor,transparency:d.iD.backgroundTransparency,position:{displayName:(0,a.V)("Visual_LegendPosition"),type:{enumeration:t.dt}},size:{displayName:(0,a.V)("Embed_Size"),type:{numeric:!0}},showTooltip:{displayName:(0,a.V)("Visual_ShowTooltip"),type:{bool:!0}},tooltipText:{displayName:(0,a.V)("VisualHeaderTooltip_Text"),type:{text:!0}},tooltipLabel:{displayName:(0,a.V)("VisualHeaderTooltip_Label"),type:{text:!0}}}},searchBox:{displayName:(0,a.V)("SearchBox"),properties:{outlineStyle:d.iD.outlineStyle,borderColor:d.iD.outlineColor,background:{displayName:(0,a.V)("Visual_Background"),type:{fill:{solid:{color:!0}}}}}},items:{displayName:(0,a.V)("Items"),properties:{...d.d4,outlineStyle:d.iD.outlineStyle,expandCollapseToggleType:{displayName:(0,a.V)("Slicer_ExpandCollapse_Toggle"),type:{enumeration:n.d}},steppedLayoutIndentation:{displayName:(0,a.V)("Visual_PivotTable_SteppedLayoutIndentation"),type:{numeric:!0}},padding:{displayName:(0,a.V)("Visual_Padding"),type:{numeric:!0}},accessibilityContrastProperties:{type:{bool:!0}}}},date:{displayName:(0,a.V)("Slicer_DateInputs"),properties:{...d.d4,hideDatePickerButton:{type:{bool:!0}}}},numericInputStyle:{displayName:(0,a.V)("Slicer_NumericInputs"),properties:{...d.d4}},slider:{displayName:(0,a.V)("Slicer_Slider"),properties:{show:d.iD.show,color:d.iD.genericColor,handleFillColor:{displayName:(0,a.V)("Visual_Fill"),type:{fill:{solid:{color:!0}}}},handleBorderColor:{displayName:(0,a.V)("Visual_Border"),type:{fill:{solid:{color:!0}}}},secondaryLineColor:d.iD.genericColor}},dateRange:{displayName:(0,a.V)("Slicer_DateRange"),properties:{includeToday:{displayName:(0,a.V)("Visual_IncludeToday"),type:{bool:!0},filterState:!0},anchorDate:{displayName:(0,a.V)("RelativeSlicer_AnchorDate"),description:(0,a.V)("RelativeSlicer_AnchorDateDescription"),type:{dateTime:!0},filterState:!0}}}},c=(0,r.wZ)(m);function C(E){return{dataRoles:[{name:o.value,kind:i.DW.Grouping,displayName:(0,a.V)("Field"),description:(0,a.V)("Role_DisplayName_FieldDescription"),preferDateColumn:!0}],hasFilterOptions:!0,objects:m,drilldown:{roles:[o.value],suppresDrillOperations:!0},dataViewMappings:h(),expandCollapse:S(E),sorting:{default:{}},suppressDefaultTitle:!0,supportsSynchronizingFilterState:!0,supportsMultiVisualSelection:!0,supportsKeyboardFocus:!0,keepAllMetadataColumns:!0}}function S(E){return{roles:[o.value],addDataViewFlags:{defaultValue:!0},supportsMerge:!!E?.fieldParameterDynamicSlicer}}function h(){var E=[{conditions:[{[o.value]:{max:1,suppressDrill:!0}}],categorical:{categories:{for:{in:o.value},dataReductionAlgorithm:{window:{}}},includeEmptyGroups:!0}}];return E.unshift({conditions:[{[o.value]:{min:2,areHierarchicallyRelated:!0,multiTableTupleFiltersSupported:!0,suppressDrill:!0}}],matrix:{rows:{for:{in:o.value},dataReductionAlgorithm:{window:{count:500}}},includeEmptyGroups:!0}}),E}},670987:function(ve,j,e){e.d(j,{D_:function(){return K},Ni:function(){return L},PM:function(){return u},RC:function(){return V},Wj:function(){return U},a5:function(){return f},ot:function(){return E},pQ:function(){return O},vu:function(){return H}});var r=e(919267),i=e(650543),a=e(123975),t=e(630881),l=e(149356),g=e(179658),n=e(230343),p=e(719242),s=e(398465),d=e(548748),o=e(914094),v=e(947386),m=e(817525),c=e(316517),C=e(159601),y=e(60978),S=e(832573);function E(J){var k=J.dataViewMappings[0],G=z(k);if(!_.isEmpty(G)){var q=x(k.metadata.objects);if(null===(q=K(G,q))||(0,c.l6)(q)||(0,c.G5)(q))return null}return[C.CT.value]}function u(J){if(!function(J){if(!J.isPersistentState)return!0;var k=x(J.objects),G=(0,c.Cp)(k),q=(0,r.Cq)(),Q=G&&(0,n.NA)(J.objects,C.gO.selection.strictSingleSelect,q.strictSingleSelect);return J.changes?k===x(J.changes)&&!(Q&&!(0,n.NA)(J.changes,C.gO.selection.strictSingleSelect,q.strictSingleSelect)):!Q}(J))return W(J,void 0,!0);var k=function(J){var k=x(J.objects),G=x(J.changes);return(k===c.RB&&G===c.j6||k===c.j6&&G===c.RB)&&k!==G&&k?{merge:!0,mode:k}:{merge:!1,mode:G||k}}(J),G=J.changes&&J.changes[C.gO.general.filter.objectName],q=G&&G[C.gO.general.filter.propertyName];if(null!=q){var Q=W(J,k.mode,!1);return(0,c.l6)(k.mode)?(P(q,k.mode,Q),Q):k.mode===c.K8?(D(q,k.mode,Q,C.gO.data.relativePeriod.propertyName),Q):(k.mode===c.GV&&D(q,k.mode,Q,C.gO.data.relativeTimePeriod.propertyName),Q)}return k.merge?W(J,k.mode,!1):null}function f(J){var k=K(J.dataViewMetaDataColumns,x(J.objects)),G=J.filterUpdateType,q={objectName:C.gO.general.filter.objectName,selector:null,properties:{[C.gO.general.filter.propertyName]:J.filterToApply}},Q={merge:[],remove:[],replace:[]};return k===c.RB||k===c.j6||k===c.Ih||k===c.of?V(J,Q,q):"Replace"!==G||((0,c.l6)(k)&&P(J.filterToApply,k,Q),k===c.K8&&D(J.filterToApply,k,Q,C.gO.data.relativePeriod.propertyName),k===c.GV&&D(J.filterToApply,k,Q,C.gO.data.relativeTimePeriod.propertyName),function(J){return _.isEmpty(J.merge)&&_.isEmpty(J.remove)&&_.isEmpty(J.replace)}(Q))?void 0:(Q.merge?.push(q),Q)}function V(J,k,G){var q=J.filterUpdateType,Q=J.filterToApply.conditions();if(i.f.assert(()=>1===Q.length,"Only one condition is supported currently"),1!==Q.length);else{var Z=Q[0],X=(0,y.Ym)(Z);if((0,y.Hi)(Z)||X&&(0,y.Hi)(Z.arg)){var re=(0,y.Hi)(Z)?Z:Z.arg,te=(0,r.Cq)();if((0,n.NA)(J.objects,C.gO.selection.strictSingleSelect,te.strictSingleSelect)&&("Replace"!==q||X||re.values.length>1))return;var Ve=(0,n.NA)(J.objects,C.gO.general.filter),ke=Ve&&Ve.conditions(),Ue=ke&&1===ke.length&&ke[0];if(!Ue)return k.merge?.push(G),k;var ot=S.m.tryMergeSQInExprs(Ue,re,J.filterUpdateType);return ot?(0===ot.values.length?k.remove?.push(G):(G.properties[C.gO.general.filter.propertyName]=o.yl.fromSQFromAndSQExpr(Ve.from(),ot),k.merge?.push(G)),k):void 0}}}function P(J,k,G){if(i.f.assertValue(J,"filter should be defined"),(0,c.l6)(k)){var q=(0,s.pi)(J);if(!q||!q.options)return void i.f.assertValue(q&&q.options,"filterParams and filterParams.options must be defined.");var Q=C.gO.data.numericStart.objectName;i.f.assert(()=>C.gO.data.numericStart.objectName===C.gO.data.numericEnd.objectName,"numericStart & numericEnd must have same object name"),i.f.assert(()=>C.gO.data.numericStart.objectName===C.gO.data.startDate.objectName,"numericStart & startDate must have same object name"),i.f.assert(()=>C.gO.data.numericStart.objectName===C.gO.data.endDate.objectName,"numericStart & endDate must have same object name");var Z={};_.isNumber(q.options.min)||_.isNumber(q.options.max)?(Z[C.gO.data.numericStart.propertyName]=q.options.min,k!==c.Zr&&(Z[C.gO.data.numericEnd.propertyName]=q.options.max),R(G,Q,Z)):(_.isDate(q.options.min)||_.isDate(q.options.max))&&(i.f.assert(()=>void 0===q.options.min||(0,a.M4)(q.options.min),"Implementing DateWithEpochValue is needed for serialization"),i.f.assert(()=>void 0===q.options.max||(0,a.M4)(q.options.max),"Implementing DateWithEpochValue is needed for serialization"),Z[C.gO.data.startDate.propertyName]=q.options.min,Z[C.gO.data.endDate.propertyName]=q.options.max,R(G,Q,Z))}}function D(J,k,G,q){if(i.f.assertValue(J,"filter should be defined"),(0,c.G5)(k)){var Q=(0,c.nW)(k),Z=(0,d.pi)(J,Q);if(!Z||!Z.options)return void i.f.assertValue(Z&&Z.options,"filterParams and filterParams.options must be defined.");var X=C.gO.data.relativeRange.objectName;i.f.assert(()=>C.gO.data.relativeRange.objectName===C.gO.data.relativeDuration.objectName,"relativeRange & relativeDuration must have same object name"),i.f.assert(()=>C.gO.data.relativeRange.objectName===C.gO.data.relativePeriod.objectName,"relativeRange & relativePeriod must have same object name");var re=(0,m.BB)(Z.options.relativeQualifier),te=(0,v.BB)(Z.options.relativeUnit),se=Z.options.duration;(null==re||null==se||null==te)&&M(G,X),(null!=re||null!=se||null!=te)&&w(G,X);var Ve={};Ve[C.gO.data.relativeRange.propertyName]=re,Ve[C.gO.data.relativeDuration.propertyName]=re===m.Vk?0:Z.options.duration,Ve[q]=te,R(G,X,Ve),function(J,k){var G=C.gO.dateRange.includeToday.objectName;i.f.assert(()=>C.gO.dateRange.includeToday.objectName===C.gO.dateRange.anchorDate.objectName,"anchorDate is not in the same object as includeToday");var q={};k.includeTodayFromDefault||(q[C.gO.dateRange.includeToday.propertyName]=k.includeToday),q[C.gO.dateRange.anchorDate.propertyName]=k.anchorDate,R(J,G,q)}(G,Z.options)}}function w(J,k){J.merge=J.merge||[];var G=B(J.merge,k);return J.merge[G]}function M(J,k){J.remove=J.remove||[];var G=B(J.remove,k);return J.remove[G]}function R(J,k,G){var q=null,Q=null;for(var Z in _.some(G,X=>null==X)&&(q=M(J,k)),_.some(G,X=>null!=X)&&(Q=w(J,k)),G)null==G[Z]?(i.f.assertValue(q,"remove must be defined here."),q.properties[Z]=!0):(i.f.assertValue(Q,"merge must be defined here."),Q.properties[Z]=G[Z])}function B(J,k){i.f.assertValue(J,"visualObjects");var G=J.map(q=>q.objectName).indexOf(k);return G<0&&(J.push({objectName:k,selector:null,properties:{}}),G=J.length-1),G}function W(J,k,G){var q=[];for(var Q in J.changes){var Z={},X=C.wk;for(var re in J.changes[Q])G&&(!0===X[Q]?.properties[re]?.filterState||Q===C.gO.general.filter.objectName&&re===C.gO.general.filter.propertyName)||(Z[re]=J.changes[Q][re]);null!=k&&Q===C.gO.data.mode.objectName&&(Z[C.gO.data.mode.propertyName]=k),q.push({objectName:Q,selector:null,properties:Z})}return G&&function(J,k){var G=J.objects;for(var q in G){var Q={},Z=C.wk;for(var X in G[q])(!0===Z[q]?.properties[X]?.filterState||q===C.gO.general.filter.objectName&&X===C.gO.general.filter.propertyName)&&(Q[X]=G[q][X]);if(!_.isEmpty(Q)){var re=B(k,q);k[re].properties=_.merge(k[re].properties,Q)}}}(J,q),{merge:q}}function U(J){if(!_.isEmpty(J.dataViewMappings)){var k=J.dataViewMappings[0];if(k&&k.metadata){var G=z(k)||[];if(k.matrix&&k.matrix.rows){var q=k.matrix.rows.for.in.items;if(!_.isEmpty(q)){var Q=function(se){if(!_.find(G,ke=>ke.queryName===se.queryName))return 1;se.subtotalType=l.F.Before};for(var Z of q)Q(Z)}}var X=x(k.metadata.objects);if(!_.isEmpty(G)){if((X=K(G,X))===c.Zr){var re=k.categorical&&k.categorical.categories;return void(re&&(re.dataReductionAlgorithm={sample:{}}))}if((0,c.Lw)(X)&&k.categorical&&k.categorical.categories){var te=k.categorical.categories.for.in.items;k.categorical.categories=null,k.categorical.values={bind:{to:{role:C.CT.value,aggregates:{min:!0,max:!0},items:te}}}}}(0,c.G5)(X)&&(k.updateType=t.Ky.MetadataOnly),X===c.j6&&function(J){if(J){var k=!1;if(k=(0,n.NA)(J,C.gO.selection.strictSingleSelect,k)){var G=null,q=!1;return G=(0,n.NA)(J,C.gO.general.filter,G),q=(0,n.NA)(J,C.gO.data.isInvertedSelectionMode,q),null!=G&&!q}}return!0}(k.metadata.objects)&&(k.updateType=t.Ky.Deferred)}}}function O(J){var G=J.objects,q=x(G),Z=z(J.dataViewMappings[0]);if(!_.isEmpty(Z)){q=K(Z,q,!0);var X=G&&G[C.gO.data.mode.objectName];X||(X={});var re={};for(var te in X)re[te]=X[te];return re[C.gO.data.mode.propertyName]=q,{replace:[{objectName:C.gO.data.mode.objectName,selector:null,properties:re}]}}}function x(J){var k=null;return J&&(k=(0,n.NA)(J,C.gO.data.mode,k)),k}function L(J){return J&&(0,p.NA)(J,C.gO.data.mode,void 0)}function K(J,k,G=!1){if(i.f.assertNonEmpty(J,"pluginMethods.getValidateSlicerMode - columns"),J.length>1)return k===c.j6?c.j6:c.RB;var q=J[0];if(!q.type)return k;if(q.parameter&&q.parameter.kind===g.DG.WhatIf)k=null===k||(0,c.G5)(k)?c.Zr:k;else{if(q.parameter&&q.parameter.kind===g.DG.MParameters)return k??c.RB;!0===q.type.dateTime?k=null===k||k===c.Zr?c.vX:k:q.type.numeric?null===k?k=G?c.vX:c.RB:((0,c.G5)(k)||k===c.Zr)&&(k=c.vX):k!==c.RB&&k!==c.j6&&(k=c.RB)}return k}function z(J){return J.metadata?J.metadata.columns:null}function H(J){var{dataViewMappings:k,filterForFieldParameter:G}=J;if(G)return!1;var q=k[0];if(!q||!q.metadata)return!1;var Q=x(q.metadata.objects),Z=z(q);return _.isEmpty(Z)||(Q=K(Z,Q)),(0,c.l6)(Q)}},960444:function(ve,j,e){e.d(j,{Ff:function(){return b},MS:function(){return v},Nt:function(){return m},WK:function(){return o}});var r=e(281210),i=e(835119),a=e(323205),t=e(74443),l=e(261272),g=e(863704),n=e(144537),p=e(847005),s=e(431826),d=e(908976),o={smallMultiplesLayout:{orientation:{objectName:"smallMultiplesLayout",propertyName:"orientation"},maxSmallMultiples:{objectName:"smallMultiplesLayout",propertyName:"maxSmallMultiples"},rowCount:{objectName:"smallMultiplesLayout",propertyName:"rowCount"},columnCount:{objectName:"smallMultiplesLayout",propertyName:"columnCount"},maxHeaderSize:{objectName:"smallMultiplesLayout",propertyName:"maxHeaderSize"},titleOrientation:{objectName:"smallMultiplesLayout",propertyName:"titleOrientation"},headerPosition:{objectName:"smallMultiplesLayout",propertyName:"headerPosition"},cellPadding:{objectName:"smallMultiplesLayout",propertyName:"cellPadding"},customizePadding:{objectName:"smallMultiplesLayout",propertyName:"customizePadding"},rowPadding:{objectName:"smallMultiplesLayout",propertyName:"rowPadding"},columnPadding:{objectName:"smallMultiplesLayout",propertyName:"columnPadding"},style:{objectName:"smallMultiplesLayout",propertyName:"style"},fixNumberOfTiles:{objectName:"smallMultiplesLayout",propertyName:"fixNumberOfTiles"}},smallMultiplesBorder:{gridlineShow:{objectName:"smallMultiplesBorder",propertyName:"gridlineShow"},gridlineStyle:{objectName:"smallMultiplesBorder",propertyName:"gridlineStyle"},gridlineTransparency:{objectName:"smallMultiplesBorder",propertyName:"gridlineTransparency"},gridlineWidth:{objectName:"smallMultiplesBorder",propertyName:"gridlineWidth"},gridlineColor:{objectName:"smallMultiplesBorder",propertyName:"gridlineColor"}},smallMultiplesGrid:{gridlineShow:{objectName:"smallMultiplesGrid",propertyName:"gridlineShow"},gridlineStyle:{objectName:"smallMultiplesGrid",propertyName:"gridlineStyle"},gridlineTransparency:{objectName:"smallMultiplesGrid",propertyName:"gridlineTransparency"},gridlineWidth:{objectName:"smallMultiplesGrid",propertyName:"gridlineWidth"},gridlineColor:{objectName:"smallMultiplesGrid",propertyName:"gridlineColor"},gridlineRegion:{objectName:"smallMultiplesGrid",propertyName:"gridlineRegion"}},smallMultiplesOverFlow:{overFlowStyle:{objectName:"smallMultiplesOverFlow",propertyName:"overFlowStyle"},overFlowDirection:{objectName:"smallMultiplesOverFlow",propertyName:"overFlowDirection"}},smallMultiplesHeader:{fontFamily:{objectName:"smallMultiplesHeader",propertyName:"fontFamily"},fontSize:{objectName:"smallMultiplesHeader",propertyName:"fontSize"},fontColor:{objectName:"smallMultiplesHeader",propertyName:"fontColor"},bold:{objectName:"smallMultiplesHeader",propertyName:"bold"},italic:{objectName:"smallMultiplesHeader",propertyName:"italic"},underline:{objectName:"smallMultiplesHeader",propertyName:"underline"},transparency:{objectName:"smallMultiplesHeader",propertyName:"transparency"},horizontalAlignment:{objectName:"smallMultiplesHeader",propertyName:"horizontalAlignment"},verticalAlignment:{objectName:"smallMultiplesHeader",propertyName:"verticalAlignment"},textWrap:{objectName:"smallMultiplesHeader",propertyName:"textWrap"},displayUnits:{objectName:"smallMultiplesHeader",propertyName:"displayUnits"},precision:{objectName:"smallMultiplesHeader",propertyName:"precision"},showBlankAs:{objectName:"smallMultiplesHeader",propertyName:"showBlankAs"},leftMargin:{objectName:"smallMultiplesHeader",propertyName:"leftMargin"},rightMargin:{objectName:"smallMultiplesHeader",propertyName:"rightMargin"},topMargin:{objectName:"smallMultiplesHeader",propertyName:"topMargin"},bottomMargin:{objectName:"smallMultiplesHeader",propertyName:"bottomMargin"},backgroundShow:{objectName:"smallMultiplesHeader",propertyName:"backgroundShow"},backgroundColor:{objectName:"smallMultiplesHeader",propertyName:"backgroundColor"},backgroundTransparency:{objectName:"smallMultiplesHeader",propertyName:"backgroundTransparency"},backgroundImage:{objectName:"smallMultiplesHeader",propertyName:"backgroundImage"},backgroundImageTransparency:{objectName:"smallMultiplesHeader",propertyName:"backgroundImageTransparency"},customFormatString:{objectName:"smallMultiplesHeader",propertyName:"customFormatString"}},smallMultiplesAccentBar:{show:{objectName:"smallMultiplesAccentBar",propertyName:"show"},position:{objectName:"smallMultiplesAccentBar",propertyName:"position"},color:{objectName:"smallMultiplesAccentBar",propertyName:"color"},transparency:{objectName:"smallMultiplesAccentBar",propertyName:"transparency"},width:{objectName:"smallMultiplesAccentBar",propertyName:"width"}},smallMultiplesCellBackGround:{backgroundShow:{objectName:"smallMultiplesCellBackGround",propertyName:"backgroundShow"},backgroundFillColor:{objectName:"smallMultiplesCellBackGround",propertyName:"backgroundFillColor"},backgroundTransparency:{objectName:"smallMultiplesCellBackGround",propertyName:"backgroundTransparency"},backgroundImage:{objectName:"smallMultiplesCellBackGround",propertyName:"backgroundImage"},backgroundImageTransparency:{objectName:"smallMultiplesCellBackGround",propertyName:"backgroundImageTransparency"}},smallMultiplesOuterShape:{rectangleRoundedCurveCustomStyle:{objectName:"smallMultiplesOuterShape",propertyName:"rectangleRoundedCurveCustomStyle"},rectangleRoundedCurve:{objectName:"smallMultiplesOuterShape",propertyName:"rectangleRoundedCurve"},rectangleRoundedCurveLeftTop:{objectName:"smallMultiplesOuterShape",propertyName:"rectangleRoundedCurveLeftTop"},rectangleRoundedCurveRightTop:{objectName:"smallMultiplesOuterShape",propertyName:"rectangleRoundedCurveRightTop"},rectangleRoundedCurveLeftBottom:{objectName:"smallMultiplesOuterShape",propertyName:"rectangleRoundedCurveLeftBottom"},rectangleRoundedCurveRightBottom:{objectName:"smallMultiplesOuterShape",propertyName:"rectangleRoundedCurveRightBottom"}}},v={smallMultiplesLayout:"smallMultiplesLayout",smallMultiplesBorder:"smallMultiplesBorder",smallMultiplesGrid:"smallMultiplesGrid",smallMultiplesOverFlow:"smallMultiplesOverFlow",smallMultiplesHeader:"smallMultiplesHeader",smallMultiplesAccentBar:"smallMultiplesAccentBar",smallMultiplesCellBackGround:"smallMultiplesCellBackGround",smallMultiplesOuterShape:"smallMultiplesOuterShape"},m={orientation:"orientation",maxSmallMultiples:"maxSmallMultiples",rowCount:"rowCount",columnCount:"columnCount",maxHeaderSize:"maxHeaderSize",titleOrientation:"titleOrientation",gridlineShow:"gridlineShow",gridlineStyle:"gridlineStyle",gridlineTransparency:"gridlineTransparency",gridlineWidth:"gridlineWidth",gridlineColor:"gridlineColor",gridlineRegion:"gridlineRegion",overFlowStyle:"overFlowStyle",overFlowDirection:"overFlowDirection",fontFamily:"fontFamily",fontColor:"fontColor",fontSize:"fontSize",bold:"bold",italic:"italic",underline:"underline",transparency:"transparency",horizontalAlignment:"horizontalAlignment",verticalAlignment:"verticalAlignment",textWrap:"textWrap",displayUnits:"displayUnits",precision:"precision",showBlankAs:"showBlankAs",backgroundShow:"backgroundShow",backgroundColor:"backgroundColor",backgroundTransparency:"backgroundTransparency",backgroundImage:"backgroundImage",backgroundImageTransparency:"backgroundImageTransparency",accentBarShow:"show",accentBarPosition:"position",accentBarColor:"color",accentBarTransparency:"transparency",accentBarWidth:"width",leftMargin:"leftMargin",rightMargin:"rightMargin",topMargin:"topMargin",bottomMargin:"bottomMargin",backgroundFillColor:"backgroundFillColor",rectangleRoundedCurveCustomStyle:"rectangleRoundedCurveCustomStyle",rectangleRoundedCurve:"rectangleRoundedCurve",rectangleRoundedCurveLeftTop:"rectangleRoundedCurveLeftTop",rectangleRoundedCurveRightTop:"rectangleRoundedCurveRightTop",rectangleRoundedCurveLeftBottom:"rectangleRoundedCurveLeftBottom",rectangleRoundedCurveRightBottom:"rectangleRoundedCurveRightBottom",headerPosition:"headerPosition",cellPadding:"cellPadding",customizePadding:"customizePadding",columnPadding:"columnPadding",rowPadding:"rowPadding",style:"style",fixNumberOfTiles:"fixNumberOfTiles",customFormatString:"customFormatString"},c={[m.orientation]:{displayName:(0,r.V)("Small_Multiples_Arrangement"),type:{enumeration:n.SO}},[m.maxSmallMultiples]:{displayName:(0,r.V)("Small_Multiples_Max"),type:{integer:!0}},[m.rowCount]:{displayName:(0,r.V)("Visual_Arrangement_RowsShownMax"),type:{integer:!0}},[m.columnCount]:{displayName:(0,r.V)("Visual_Arrangement_ColumnsShown"),type:{integer:!0}},[m.maxHeaderSize]:{displayName:(0,r.V)("Small_Multiples_MaxHeaderSize"),description:(0,r.V)("Small_Multiples_MaxHeaderSize_Description"),type:{integer:!0}},[m.titleOrientation]:{displayName:(0,r.V)("Visual_LabelOrientation"),type:{enumeration:d.jY}},[m.headerPosition]:{displayName:(0,r.V)("Visual_Position"),type:{enumeration:t.PX}},[m.cellPadding]:{displayName:(0,r.V)("Visual_Spacing_Between_Cards"),type:{integer:!0}},[m.customizePadding]:{displayName:(0,r.V)("Visual_Spacing_Customize"),type:{bool:!0}},[m.rowPadding]:{displayName:(0,r.V)("Visual_Arrangement_SpaceRows"),type:{integer:!0}},[m.columnPadding]:{displayName:(0,r.V)("Visual_Arrangement_SpaceColumns"),type:{integer:!0}},[m.style]:{displayName:(0,r.V)("Style"),type:{enumeration:s.d}},[m.fixNumberOfTiles]:{displayName:(0,r.V)("Visual_FixedTileCount"),type:{bool:!0}}},C={...(0,p.uH)({strokeShow:m.gridlineShow,strokePattern:m.gridlineStyle,strokeTransparency:m.gridlineTransparency,strokeWidth:m.gridlineWidth,strokeColor:m.gridlineColor})},y={...(0,p.uH)({strokeShow:m.gridlineShow,strokePattern:m.gridlineStyle,strokeTransparency:m.gridlineTransparency,strokeWidth:m.gridlineWidth,strokeColor:m.gridlineColor}),[m.gridlineRegion]:{displayName:(0,r.V)("Visual_Gridline_Show"),type:{enumeration:a.d}}},S={[m.overFlowStyle]:{displayName:(0,r.V)("Visual_OverFlow_Style"),type:{enumeration:g.d}},[m.overFlowDirection]:{displayName:(0,r.V)("Visual_OverFlow_Direction"),type:{enumeration:l.d}}},h={[m.fontFamily]:p.iD.fontFamily,[m.fontSize]:p.iD.fontSize,[m.fontColor]:p.iD.genericColor,[m.bold]:p.iD.bold,[m.italic]:p.iD.italic,[m.underline]:p.iD.underline,[m.transparency]:p.iD.genericTransparency,[m.horizontalAlignment]:p.iD.horizontalAlignment,[m.verticalAlignment]:p.iD.verticalAlignment,[m.textWrap]:p.iD.textWrap,[m.displayUnits]:{...p.iD.labelDisplayUnits,type:{enumeration:i.d}},[m.precision]:p.iD.labelPrecision,[m.showBlankAs]:p.iD.showBlankAs,[m.leftMargin]:{displayName:(0,r.V)("Visual_PaddingLeft"),type:{integer:!0}},[m.rightMargin]:{displayName:(0,r.V)("Visual_PaddingRight"),type:{integer:!0}},[m.topMargin]:{displayName:(0,r.V)("Visual_PaddingTop"),type:{integer:!0}},[m.bottomMargin]:{displayName:(0,r.V)("Visual_PaddingBottom"),type:{integer:!0}},[m.backgroundShow]:p.iD.show,[m.backgroundColor]:p.iD.genericColor,[m.backgroundTransparency]:p.iD.backgroundTransparency,[m.backgroundImage]:{...p.iD.image,displayName:(0,r.V)("Dashboard_Theme_Background_Image")},[m.backgroundImageTransparency]:{...p.iD.genericTransparency,displayName:(0,r.V)("Visual_Image_Transparency")},[m.customFormatString]:{displayName:(0,r.V)("Visual_FormatCode"),description:(0,r.V)("Visual_FormatCode_Description"),type:{text:!0}}},E={[m.accentBarShow]:p.iD.show,[m.accentBarPosition]:{displayName:(0,r.V)("Visual_Position"),type:{enumeration:t.CX}},[m.accentBarColor]:p.iD.genericColor,[m.accentBarTransparency]:p.iD.genericTransparency,[m.accentBarWidth]:p.iD.width},u={[m.backgroundFillColor]:p.iD.genericColor,[m.backgroundTransparency]:p.iD.backgroundTransparency,[m.backgroundShow]:p.iD.show,[m.backgroundImage]:p.iD.image,[m.backgroundImageTransparency]:p.iD.backgroundTransparency},f={[m.rectangleRoundedCurveCustomStyle]:{displayName:(0,r.V)("Visual_Shape_CustomizeCorners"),type:{bool:!0}},[m.rectangleRoundedCurve]:{displayName:(0,r.V)("Visual_Shape_RectangleRoundedCurve"),type:{integer:!0}},[m.rectangleRoundedCurveLeftTop]:{displayName:(0,r.V)("Visual_CornerTopLeft"),type:{integer:!0}},[m.rectangleRoundedCurveRightTop]:{displayName:(0,r.V)("Visual_CornerTopRight"),type:{integer:!0}},[m.rectangleRoundedCurveLeftBottom]:{displayName:(0,r.V)("Visual_CornerBottomLeft"),type:{integer:!0}},[m.rectangleRoundedCurveRightBottom]:{displayName:(0,r.V)("Visual_CornerBottomRight"),type:{integer:!0}}},b={[v.smallMultiplesLayout]:{displayName:(0,r.V)("Small_Multiples_Layout_Section"),properties:c},[v.smallMultiplesBorder]:{displayName:(0,r.V)("Visual_Border"),properties:C},[v.smallMultiplesGrid]:{displayName:(0,r.V)("Visual_Gridline_Show"),properties:y},[v.smallMultiplesOverFlow]:{displayName:(0,r.V)("Visual_OverFlow"),properties:S},[v.smallMultiplesHeader]:{displayName:(0,r.V)("Small_Multiples_Header"),properties:h},[v.smallMultiplesAccentBar]:{displayName:(0,r.V)("Visual_Outline_AccentBar"),properties:E},[v.smallMultiplesOuterShape]:{displayName:(0,r.V)("Visual_Shape"),properties:f},[v.smallMultiplesCellBackGround]:{displayName:(0,r.V)("Visual_Background"),properties:u}}},377317:function(ve,j,e){e.d(j,{Y:function(){return l}});var r=e(630881),i=e(281210),a=e(847005);function t(g){return[{name:"Values",kind:r.DW.GroupingOrMeasure,displayName:(0,i.V)(g&&g.useModernFormatPane?"Role_DisplayName_Columns":"Role_DisplayName_Values")}]}function l(g){return{dataRoles:t(g),objects:{general:{displayName:(0,i.V)("Visual_General"),properties:{formatString:a.iD.formatString,columnWidth:{type:{numeric:!0}},totals:{type:{bool:!0},displayName:(0,i.V)("Visual_Totals"),suppressFormatPainterCopy:!0},autoSizeColumnWidth:{type:{bool:!0},displayName:(0,i.V)("Visual_Adjust_Column_Width"),suppressFormatPainterCopy:!0},textSize:{displayName:(0,i.V)("Visual_TextSize"),type:{numeric:!0}}}},grid:{displayName:(0,i.V)("Visual_Grid"),properties:{outlineColor:a.iD.outlineColor,outlineWeight:a.iD.outlineWeight,gridVertical:{displayName:(0,i.V)("Visual_GridVertical"),description:(0,i.V)("Visual_GridVertical_Desc"),type:{bool:!0}},gridVerticalColor:{displayName:(0,i.V)("Visual_GridVertical_Color"),description:(0,i.V)("Visual_GridVertical_Color_Desc"),type:{fill:{solid:{color:!0}}}},gridVerticalWeight:{displayName:(0,i.V)("Visual_GridVertical_Weight"),description:(0,i.V)("Visual_GridVertical_Weight_Desc"),type:{numeric:!0}},gridHorizontal:{displayName:(0,i.V)("Visual_GridHorizontal"),description:(0,i.V)("Visual_GridHorizontal_Desc"),type:{bool:!0}},gridHorizontalColor:{displayName:(0,i.V)("Visual_GridHorizontal_Color"),description:(0,i.V)("Visual_GridHorizontal_Color_Desc"),type:{fill:{solid:{color:!0}}}},gridHorizontalWeight:{displayName:(0,i.V)("Visual_GridHorizontal_Weight"),description:(0,i.V)("Visual_GridHorizontal_Weight_Desc"),type:{numeric:!0}},rowPadding:{displayName:(0,i.V)("Visual_RowPadding"),description:(0,i.V)("Visual_RowPadding_Desc"),type:{numeric:!0}},imageHeight:{displayName:(0,i.V)("Visual_Tablix_ImageHeight"),description:(0,i.V)("Visual_Tablix_ImageHeight_Desc"),type:{numeric:!0}}}},columnHeaders:{displayName:(0,i.V)("Visual_Tablix_ColumnHeaders"),properties:{outline:a.iD.outline,fontColor:a.iD.tablixFontColor,backColor:a.iD.backColor,wordWrap:a.iD.wordWrap}},values:{displayName:(0,i.V)("Visual_Tablix_Values"),properties:{outline:a.iD.outline,backColor:{displayName:(0,i.V)("Background_Color"),description:(0,i.V)("Visual_ConditionalFormatting_ColorScales_BackColor_Desc"),type:{fill:{solid:{color:!0}}}},fontColorPrimary:{displayName:(0,i.V)("Visual_FontColor"),description:(0,i.V)("Visual_Tablix_FontColorPrimary_Desc"),type:{fill:{solid:{color:!0}}}},backColorPrimary:{displayName:(0,i.V)("Background_Color"),description:(0,i.V)("Visual_Tablix_BackColorPrimary_Desc"),type:{fill:{solid:{color:!0}}}},fontColorSecondary:{displayName:(0,i.V)("Visual_Tablix_FontColorSecondary"),description:(0,i.V)("Visual_Tablix_FontColorSecondary_Desc"),type:{fill:{solid:{color:!0}}}},backColorSecondary:{displayName:(0,i.V)("Visual_Tablix_BackColorSecondary"),description:(0,i.V)("Visual_Tablix_BackColorSecondary_Desc"),type:{fill:{solid:{color:!0}}}},urlIcon:{displayName:(0,i.V)("Visual_Tablix_UrlIcon"),description:(0,i.V)("Visual_Tablix_UrlIcon_Desc"),type:{bool:!0}}}},total:{displayName:(0,i.V)("Visual_Total"),properties:{outline:a.iD.outline,fontColor:a.iD.tablixFontColor,backColor:a.iD.backColor}},columnFormatting:{displayName:(0,i.V)("Visual_Tablix_ColumnFormatting"),properties:{fontColor:a.iD.tablixFontColor,backColor:a.iD.backColor,styleHeader:{displayName:(0,i.V)("Visual_Tablix_ColumnFormatting_ColorHeader"),type:{bool:!0}},styleValues:{displayName:(0,i.V)("Visual_Tablix_ColumnFormatting_ColorValues"),type:{bool:!0}},styleTotal:{displayName:(0,i.V)("Visual_Tablix_ColumnFormatting_ColorTotal"),type:{bool:!0}}}},clustering:{suppressFormatPainterCopy:!0,properties:{transform:{type:{queryTransform:{}}}}}},dataViewMappings:[{table:{rows:{for:{in:"Values"},dataReductionAlgorithm:{window:{count:500}}},rowCount:{preferred:{min:1}}}}],sorting:{custom:{}},suppressDefaultTitle:!0,supportsSelection:!1,grouping:{cluster:{clusteringRole:"Values",conditions:[{Values:{min:2}}]}},supportsMultiVisualSelection:!0}}},857472:function(ve,j,e){e.d(j,{Z:function(){return n},k:function(){return g}});var r=e(251868),i=e(630881),a=e(281210),t=e(847005);function l(p){return[{name:"Values",kind:i.DW.GroupingOrMeasure,displayName:(0,a.V)(p&&p.useModernFormatPane?"Role_DisplayName_Columns":"Role_DisplayName_Values"),supportsSparklines:!0}]}function g(p){return{dataRoles:l(p),objects:{general:{displayName:(0,a.V)("Visual_General"),properties:{formatString:t.iD.formatString}},grid:{displayName:(0,a.V)("Visual_Grid"),properties:{...t.r8,gridVertical:{displayName:(0,a.V)("Visual_GridVertical"),description:(0,a.V)("Visual_GridVertical_Desc"),type:{bool:!0}},gridVerticalColor:{displayName:(0,a.V)("Visual_GridVertical_Color"),description:(0,a.V)("Visual_GridVertical_Color_Desc"),type:{fill:{solid:{color:!0}}}},gridVerticalWeight:{displayName:(0,a.V)("Visual_GridVertical_Weight"),description:(0,a.V)("Visual_GridVertical_Weight_Desc"),type:{numeric:!0}},gridHorizontal:{displayName:(0,a.V)("Visual_GridHorizontal"),description:(0,a.V)("Visual_GridHorizontal_Desc"),type:{bool:!0}},gridHorizontalColor:{displayName:(0,a.V)("Visual_GridHorizontal_Color"),description:(0,a.V)("Visual_GridHorizontal_Color_Desc"),type:{fill:{solid:{color:!0}}}},gridHorizontalWeight:{displayName:(0,a.V)("Visual_GridHorizontal_Weight"),description:(0,a.V)("Visual_GridHorizontal_Weight_Desc"),type:{numeric:!0}},rowPadding:{displayName:(0,a.V)("Visual_RowPadding"),description:(0,a.V)("Visual_RowPadding_Desc"),type:{numeric:!0}},textSize:{displayName:(0,a.V)("Visual_TextSize"),type:{numeric:!0}},imageHeight:{displayName:(0,a.V)("Visual_General_Properties_Height"),description:(0,a.V)("Visual_Tablix_ImageHeight_Desc"),type:{numeric:!0}},imageWidth:{displayName:(0,a.V)("Visual_General_Properties_Width"),description:(0,a.V)("Visual_Tablix_ImageWidth_Desc"),type:{numeric:!0}}}},columnHeaders:{displayName:(0,a.V)("Visual_Tablix_ColumnHeaders"),properties:{...t.r8,...t.GY,alignment:t.iD.textAlignment,autoSizeColumnWidth:{type:{bool:!0},displayName:(0,a.V)("Visual_Adjust_Column_Width"),suppressFormatPainterCopy:!0},wordWrap:t.iD.wordWrap}},values:{displayName:(0,a.V)("Visual_Tablix_Values"),properties:{...t.r8,...t.GY,backColor:{displayName:(0,a.V)("Background_Color"),description:(0,a.V)("Visual_ConditionalFormatting_ColorScales_WithSource_BackColor_Desc"),type:{fill:{solid:{color:!0}}}},fontColor:{displayName:(0,a.V)("Visual_FontColor"),description:(0,a.V)("Visual_ConditionalFormatting_ColorScales_WithSource_FontColor_Desc"),type:{fill:{solid:{color:!0}}}},fontColorPrimary:{displayName:(0,a.V)("Visual_FontColor"),description:(0,a.V)("Visual_Tablix_FontColorPrimary_Desc"),type:{fill:{solid:{color:!0}}}},backColorPrimary:{displayName:(0,a.V)("Background_Color"),description:(0,a.V)("Visual_Tablix_BackColorPrimary_Desc"),type:{fill:{solid:{color:!0}}}},fontColorSecondary:{displayName:(0,a.V)("Visual_Tablix_FontColorSecondary"),description:(0,a.V)("Visual_Tablix_FontColorSecondary_Desc"),type:{fill:{solid:{color:!0}}}},backColorSecondary:{displayName:(0,a.V)("Visual_Tablix_BackColorSecondary"),description:(0,a.V)("Visual_Tablix_BackColorSecondary_Desc"),type:{fill:{solid:{color:!0}}}},urlIcon:{displayName:(0,a.V)("Visual_Tablix_UrlIcon"),description:(0,a.V)("Visual_Tablix_UrlIcon_Desc"),type:{bool:!0}},wordWrap:t.iD.wordWrap,icon:{displayName:(0,a.V)("Visual_Tablix_Icons"),description:(0,a.V)("Visual_Tablix_Icons_Desc"),type:{icon:{}}},webURL:{displayName:(0,a.V)("Web_Url"),type:{misc:{webUrl:!0}}}}},total:{displayName:(0,a.V)("Visual_Total"),properties:{totals:{type:{bool:!0},displayName:(0,a.V)("Visual_Totals"),suppressFormatPainterCopy:!0},label:{type:{text:!0},displayName:(0,a.V)("Visual_TableEx_TotalLabel"),suppressFormatPainterCopy:!0},...t.r8,...t.GY}},columnFormatting:{displayName:(0,a.V)("Visual_Tablix_ColumnFormatting"),properties:{labelDisplayUnits:{displayName:(0,a.V)("Visual_DisplayUnits"),description:(0,a.V)("Visual_DisplayUnitsDescription"),type:{formatting:{displayUnitsWithoutAuto:!0}},suppressFormatPainterCopy:!0},labelPrecision:t.iD.labelPrecision,fontColor:t.iD.tablixFontColor,backColor:t.iD.backColor,alignment:t.iD.textAlignment,styleHeader:{displayName:(0,a.V)("Visual_Tablix_ColumnFormatting_ColorHeader"),type:{bool:!0}},styleValues:{displayName:(0,a.V)("Visual_Tablix_ColumnFormatting_ColorValues"),type:{bool:!0}},styleTotal:{displayName:(0,a.V)("Visual_Tablix_ColumnFormatting_ColorTotal"),type:{bool:!0}},dataBars:{displayName:(0,a.V)("Visual_ConditionalFormatting_DataBars"),description:(0,a.V)("Visual_ConditionalFormatting_DataBars_Desc"),type:{dataBars:{}},suppressFormatPainterCopy:!0}}},columnWidth:{properties:{value:{type:{numeric:!0}}}},clustering:{suppressFormatPainterCopy:!0,properties:{transform:{type:{queryTransform:{}}}}},sparklines:t.TQ.sparklines,accessibility:{displayName:(0,a.V)("Accessibility"),properties:{altTextColumns:{displayName:(0,a.V)("Visual_Tablix_AltTextColumns_Label"),type:{text:!0}},rowWithReferenceText:{displayName:(0,a.V)("Visual_Tablix_RowName"),type:{reference:{rowRefText:!0}}}}}},dataViewMappings:[{table:{rows:{for:{in:"Values"},dataReductionAlgorithm:{window:{count:500}}},rowCount:{preferred:{min:1}}}}],sorting:{default:{},custom:{}},suppressDefaultTitle:!0,grouping:{cluster:{clusteringRole:"Values",conditions:[{Values:{min:2}}]}},supportsMultiVisualSelection:!0,tooltips:{showByDefault:!1,supportedTypes:{default:!0,canvas:!0},supportEnhancedTooltips:!0},supportsKeyboardFocus:!0,enablePointerEventsFormatMode:!0,supportsOnObjectFormatting:!0}}var n=(0,r.wZ)(g().objects)},153293:function(ve,j,e){e.d(j,{Wr:function(){return n},po:function(){return g},uY:function(){return p}});var r=e(630881),i=e(281210),a=e(56604),t=e(847005),l=e(159601),g=function(s){return s.Top="--accent-bar-top",s.Right="--accent-bar-right",s.Bottom="--accent-bar-bottom",s.Left="--accent-bar-left",s}({});function n(s){return{dataRoles:[{name:l.CT.value,kind:r.DW.Grouping,displayName:(0,i.V)("Field"),description:(0,i.V)("Role_DisplayName_FieldDescription"),requiredTypes:[{text:!0}]}],objects:{general:{displayName:(0,i.V)("Visual_General"),properties:{formatString:t.iD.formatString,filter:{suppressFormatPainterCopy:!0,type:{filter:{}}},selectedValues:{suppressFormatPainterCopy:!0,type:{exprList:{}},transient:!0}}},slicerSettings:{properties:{multiselect:{displayName:(0,i.V)("Accept_Multiple_Values"),type:{bool:!0}}}},inputText:{properties:{placeholder:{displayName:(0,i.V)("Placeholder"),type:{text:!0}},fontFamily:t.iD.fontFamily,fontSize:t.iD.fontSize,bold:t.iD.bold,italic:t.iD.italic,underline:t.iD.underline,fontColor:t.iD.genericColor,fontTransparency:t.iD.genericTransparency,dismissColor:t.iD.genericColor,dismissTransparency:t.iD.genericTransparency,dismissSize:t.iD.iconSize,dismissSpacing:{displayName:(0,i.V)("Visual_Spacing"),type:{integer:!0}},paddingTop:{displayName:(0,i.V)("Visual_Margin_Top"),type:{integer:!0}},paddingRight:{displayName:(0,i.V)("Visual_Margin_Right"),type:{integer:!0}},paddingBottom:{displayName:(0,i.V)("Visual_Margin_Bottom"),type:{integer:!0}},paddingLeft:{displayName:(0,i.V)("Visual_Margin_Left"),type:{integer:!0}},backColor:t.iD.genericColor,backTransparency:t.iD.genericTransparency,borderShow:t.iD.show,borderColor:t.iD.genericColor,borderTransparency:t.iD.genericTransparency,borderWidth:t.iD.width}},applyButton:{properties:{iconColor:t.iD.genericColor,iconTransparency:t.iD.genericTransparency,iconSize:t.iD.iconSize,paddingTop:{displayName:(0,i.V)("Visual_Margin_Top"),type:{integer:!0}},paddingRight:{displayName:(0,i.V)("Visual_Margin_Right"),type:{integer:!0}},paddingBottom:{displayName:(0,i.V)("Visual_Margin_Bottom"),type:{integer:!0}},paddingLeft:{displayName:(0,i.V)("Visual_Margin_Left"),type:{integer:!0}},backShow:t.iD.show,backColor:t.iD.genericColor,backTransparency:t.iD.genericTransparency,borderShow:t.iD.show,borderColor:t.iD.genericColor,borderTransparency:t.iD.genericTransparency,borderWidth:t.iD.width,spacing:{displayName:(0,i.V)("Visual_Spacing"),type:{integer:!0}}}},inputTextBox:{properties:{paddingTop:{displayName:(0,i.V)("Visual_Margin_Top"),type:{integer:!0}},paddingRight:{displayName:(0,i.V)("Visual_Margin_Right"),type:{integer:!0}},paddingBottom:{displayName:(0,i.V)("Visual_Margin_Bottom"),type:{integer:!0}},paddingLeft:{displayName:(0,i.V)("Visual_Margin_Left"),type:{integer:!0}},backShow:t.iD.show,backColor:t.iD.genericColor,backTransparency:t.iD.genericTransparency,borderShow:t.iD.show,borderColor:t.iD.genericColor,borderTransparency:t.iD.genericTransparency,borderWidth:t.iD.width,accentBarShow:t.iD.show,accentBarPosition:{displayName:(0,i.V)("Visual_Position"),type:{enumeration:(0,a.i)([{value:g.Top,displayName:d=>d.get("Top")},{value:g.Right,displayName:d=>d.get("Visual_TextAlignment_Right")},{value:g.Bottom,displayName:d=>d.get("Bottom")},{value:g.Left,displayName:d=>d.get("Visual_TextAlignment_Left")}])}},accentBarColor:t.iD.genericColor,accentBarTransparency:t.iD.genericTransparency,accentBarWidth:t.iD.width}}},dataViewMappings:[{conditions:[{[l.CT.value]:{min:0,max:1,suppressDrill:!0}}],matrix:{rows:{select:[{for:{in:l.CT.value}}],dataReductionAlgorithm:{window:{count:100}}},includeEmptyGroups:!0}}],sorting:{default:{}},supportsKeyboardFocus:!0,hasFilterOptions:!0,supportsSynchronizingFilterState:!0,supportsMultiVisualSelection:!0,disableFocusMode:!0,supportsFilterClearButton:!0,suppressVisualCalc:!0,supportsEmptyDataView:!0,supportsLandingPage:!0,keepAllMetadataColumns:!0}}var p={general:{filter:{objectName:"general",propertyName:"filter"},selectedValues:{objectName:"general",propertyName:"selectedValues"}},slicerSettings:{multiselect:{objectName:"slicerSettings",propertyName:"multiselect"}},inputText:{placeholder:{objectName:"inputText",propertyName:"placeholder"},fontFamily:{objectName:"inputText",propertyName:"fontFamily"},fontSize:{objectName:"inputText",propertyName:"fontSize"},bold:{objectName:"inputText",propertyName:"bold"},italic:{objectName:"inputText",propertyName:"italic"},underline:{objectName:"inputText",propertyName:"underline"},fontColor:{objectName:"inputText",propertyName:"fontColor"},fontTransparency:{objectName:"inputText",propertyName:"fontTransparency"},dismissColor:{objectName:"inputText",propertyName:"dismissColor"},dismissTransparency:{objectName:"inputText",propertyName:"dismissTransparency"},dismissSize:{objectName:"inputText",propertyName:"dismissSize"},dismissSpacing:{objectName:"inputText",propertyName:"dismissSpacing"},paddingTop:{objectName:"inputText",propertyName:"paddingTop"},paddingRight:{objectName:"inputText",propertyName:"paddingRight"},paddingBottom:{objectName:"inputText",propertyName:"paddingBottom"},paddingLeft:{objectName:"inputText",propertyName:"paddingLeft"},backColor:{objectName:"inputText",propertyName:"backColor"},backTransparency:{objectName:"inputText",propertyName:"backTransparency"},borderShow:{objectName:"inputText",propertyName:"borderShow"},borderColor:{objectName:"inputText",propertyName:"borderColor"},borderTransparency:{objectName:"inputText",propertyName:"borderTransparency"},borderWidth:{objectName:"inputText",propertyName:"borderWidth"}},applyButton:{iconColor:{objectName:"applyButton",propertyName:"iconColor"},iconTransparency:{objectName:"applyButton",propertyName:"iconTransparency"},iconSize:{objectName:"applyButton",propertyName:"iconSize"},paddingTop:{objectName:"applyButton",propertyName:"paddingTop"},paddingRight:{objectName:"applyButton",propertyName:"paddingRight"},paddingBottom:{objectName:"applyButton",propertyName:"paddingBottom"},paddingLeft:{objectName:"applyButton",propertyName:"paddingLeft"},backShow:{objectName:"applyButton",propertyName:"backShow"},backColor:{objectName:"applyButton",propertyName:"backColor"},backTransparency:{objectName:"applyButton",propertyName:"backTransparency"},borderShow:{objectName:"applyButton",propertyName:"borderShow"},borderColor:{objectName:"applyButton",propertyName:"borderColor"},borderTransparency:{objectName:"applyButton",propertyName:"borderTransparency"},borderWidth:{objectName:"applyButton",propertyName:"borderWidth"},spacing:{objectName:"applyButton",propertyName:"spacing"}},inputTextBox:{paddingTop:{objectName:"inputTextBox",propertyName:"paddingTop"},paddingRight:{objectName:"inputTextBox",propertyName:"paddingRight"},paddingBottom:{objectName:"inputTextBox",propertyName:"paddingBottom"},paddingLeft:{objectName:"inputTextBox",propertyName:"paddingLeft"},backShow:{objectName:"inputTextBox",propertyName:"backShow"},backColor:{objectName:"inputTextBox",propertyName:"backColor"},backTransparency:{objectName:"inputTextBox",propertyName:"backTransparency"},borderShow:{objectName:"inputTextBox",propertyName:"borderShow"},borderColor:{objectName:"inputTextBox",propertyName:"borderColor"},borderTransparency:{objectName:"inputTextBox",propertyName:"borderTransparency"},borderWidth:{objectName:"inputTextBox",propertyName:"borderWidth"},accentBarShow:{objectName:"inputTextBox",propertyName:"accentBarShow"},accentBarPosition:{objectName:"inputTextBox",propertyName:"accentBarPosition"},accentBarColor:{objectName:"inputTextBox",propertyName:"accentBarColor"},accentBarTransparency:{objectName:"inputTextBox",propertyName:"accentBarTransparency"},accentBarWidth:{objectName:"inputTextBox",propertyName:"accentBarWidth"}}}},991827:function(ve,j,e){e.d(j,{RL:function(){return a},d$:function(){return g},dd:function(){return t},mj:function(){return l}});var r=e(281210),i=e(847005),a={general:{paragraphs:{objectName:"general",propertyName:"paragraphs"}},text:{color:{objectName:"text",propertyName:"color"},fontFamily:{objectName:"text",propertyName:"fontFamily"},fontSize:{objectName:"text",propertyName:"fontSize"}},values:{expr:{objectName:"values",propertyName:"expr"},formatString:{objectName:"values",propertyName:"formatString"}}},t={objects:{general:{displayName:(0,r.V)("Visual_General"),properties:{[a.general.paragraphs.propertyName]:{type:{paragraphs:{}},suppressFormatPainterCopy:!0}}},text:{displayName:(0,r.V)("Text"),properties:{[a.text.fontSize.propertyName]:{displayName:(0,r.V)("Default_Font_Size"),type:{formatting:{fontSize:!0}}},[a.text.fontFamily.propertyName]:{displayName:(0,r.V)("Default_Font_Family"),type:{formatting:{fontFamily:!0}}},[a.text.color.propertyName]:{displayName:(0,r.V)("Visual_DefaultColor"),type:{fill:{solid:{color:!0}}}}}},values:{properties:{[a.values.expr.propertyName]:{formatStringProperty:a.values.formatString,ignoreUnreferenced:!0,type:{variant:[{text:!0},{numeric:!0},{integer:!0},{bool:!0},{dateTime:!0},{duration:!0},{binary:!0}]}},[a.values.formatString.propertyName]:i.iD.formatString}}},suppressDefaultTitle:!0,supportsSelection:!1,supportsKeyboardFocus:!0,disableFormatMode:!0},l="\n",g="__Newline__"},758038:function(ve,j,e){e.d(j,{Vz:function(){return g},WI:function(){return n},nm:function(){return l},p:function(){return d}});var r=e(281210),i=e(3319),a=e(9033),t=e(847005),l={text:{show:{objectName:"text",propertyName:"show"},fontColor:{objectName:"text",propertyName:"fontColor"},fontSize:{objectName:"text",propertyName:"fontSize"},fontFamily:{objectName:"text",propertyName:"fontFamily"},italic:{objectName:"text",propertyName:"italic"},bold:{objectName:"text",propertyName:"bold"},underline:{objectName:"text",propertyName:"underline"},text:{objectName:"text",propertyName:"text"},verticalAlignment:{objectName:"text",propertyName:"verticalAlignment"},horizontalAlignment:{objectName:"text",propertyName:"horizontalAlignment"},leftMargin:{objectName:"text",propertyName:"leftMargin"},rightMargin:{objectName:"text",propertyName:"rightMargin"},topMargin:{objectName:"text",propertyName:"topMargin"},bottomMargin:{objectName:"text",propertyName:"bottomMargin"},angle:{objectName:"text",propertyName:"angle"}},icon:{show:{objectName:"icon",propertyName:"show"},shapeType:{objectName:"icon",propertyName:"shapeType"},image:{objectName:"icon",propertyName:"image"},lineColor:{objectName:"icon",propertyName:"lineColor"},lineTransparency:{objectName:"icon",propertyName:"lineTransparency"},lineWeight:{objectName:"icon",propertyName:"lineWeight"},placement:{objectName:"icon",propertyName:"placement"},verticalAlignment:{objectName:"icon",propertyName:"verticalAlignment"},horizontalAlignment:{objectName:"icon",propertyName:"horizontalAlignment"},leftMargin:{objectName:"icon",propertyName:"leftMargin"},rightMargin:{objectName:"icon",propertyName:"rightMargin"},topMargin:{objectName:"icon",propertyName:"topMargin"},bottomMargin:{objectName:"icon",propertyName:"bottomMargin"},spacing:{objectName:"icon",propertyName:"spacing"},iconSize:{objectName:"icon",propertyName:"iconSize"}}},g={text:"text",icon:"icon"},n={fontColor:"fontColor",fontSize:"fontSize",fontFamily:"fontFamily",italic:"italic",bold:"bold",underline:"underline",text:"text",textVerticalAlignment:"verticalAlignment",textHorizontalAlignment:"horizontalAlignment",textLeftMargin:"leftMargin",textRightMargin:"rightMargin",textTopMargin:"topMargin",textBottomMargin:"bottomMargin",textRotation:"textAngle",shapeType:"shapeType",iconImage:"image",iconColor:"lineColor",iconTransparency:"lineTransparency",iconWeight:"lineWeight",iconPlacement:"placement",iconVerticalAlignment:"verticalAlignment",iconHorizontalAlignment:"horizontalAlignment",iconLeftMargin:"leftMargin",iconRightMargin:"rightMargin",iconTopMargin:"topMargin",iconBottomMargin:"bottomMargin",iconSize:"iconSize"},p={show:t.iD.show,...t.KG,[n.text]:{displayName:(0,r.V)("Text"),type:{text:!0},suppressFormatPainterCopy:!0},[n.textVerticalAlignment]:t.iD.verticalAlignment,[n.textHorizontalAlignment]:t.iD.horizontalAlignment,[n.textLeftMargin]:{displayName:(0,r.V)("Visual_Margin_Left"),type:{integer:!0}},[n.textRightMargin]:{displayName:(0,r.V)("Visual_Margin_Right"),type:{integer:!0}},[n.textTopMargin]:{displayName:(0,r.V)("Visual_Margin_Top"),type:{integer:!0}},[n.textBottomMargin]:{displayName:(0,r.V)("Visual_Margin_Bottom"),type:{integer:!0}}},s={show:t.iD.show,shapeType:{displayName:(0,r.V)("Icon"),type:{enumeration:i.i}},[n.iconImage]:t.iD.image,[n.iconColor]:t.iD.lineColor,[n.iconTransparency]:t.iD.lineTransparency,[n.iconWeight]:{displayName:(0,r.V)("Visual_BasicShape_Weight"),type:{integer:!0}},[n.iconPlacement]:{displayName:(0,r.V)("Visual_IconPlacement"),type:{enumeration:a.dt}},[n.iconVerticalAlignment]:t.iD.verticalAlignment,[n.iconHorizontalAlignment]:t.iD.horizontalAlignment,[n.iconLeftMargin]:{displayName:(0,r.V)("Visual_Margin_Left"),type:{integer:!0}},[n.iconRightMargin]:{displayName:(0,r.V)("Visual_Margin_Right"),type:{integer:!0}},[n.iconTopMargin]:{displayName:(0,r.V)("Visual_Margin_Top"),type:{integer:!0}},[n.iconBottomMargin]:{displayName:(0,r.V)("Visual_Margin_Bottom"),type:{integer:!0}},[n.iconSize]:{displayName:(0,r.V)("Visual_IconSize"),placeHolderText:(0,r.V)("Visual_Auto"),type:{numeric:!0}}},d={[g.text]:{displayName:(0,r.V)("Text"),properties:p},[g.icon]:{displayName:(0,r.V)("Icon"),properties:s}}},772247:function(ve,j,e){e.d(j,{Mn:function(){return f},OV:function(){return C},ay:function(){return h},eM:function(){return u},hy:function(){return y},zC:function(){return L}});var r=e(281210),i=e(56604),a=e(307833),t=e(835119),l=e(74443),g=e(863704),n=e(261272),p=e(144537),s=e(394564),d=e(371337),o=e(710522),v=e(875793),m=e(847005),c=e(431826),C={fill:{show:{objectName:"fill",propertyName:"show"},fillColor:{objectName:"fill",propertyName:"fillColor"},transparency:{objectName:"fill",propertyName:"transparency"},image:{objectName:"fill",propertyName:"image"}},fillCustom:{show:{objectName:"fillCustom",propertyName:"show"},fillColor:{objectName:"fillCustom",propertyName:"fillColor"},transparency:{objectName:"fillCustom",propertyName:"transparency"},imageSplitTransparency:{objectName:"fillCustom",propertyName:"imageSplitTransparency"},image:{objectName:"fillCustom",propertyName:"image"},imageTransparency:{objectName:"fillCustom",propertyName:"imageTransparency"}},layout:{alignment:{objectName:"layout",propertyName:"alignment"},orientation:{objectName:"layout",propertyName:"orientation"},rowCount:{objectName:"layout",propertyName:"rowCount"},columnCount:{objectName:"layout",propertyName:"columnCount"},maxTiles:{objectName:"layout",propertyName:"maxTiles"},cellPadding:{objectName:"layout",propertyName:"cellPadding"},customizePadding:{objectName:"layout",propertyName:"customizePadding"},rowPadding:{objectName:"layout",propertyName:"rowPadding"},columnPadding:{objectName:"layout",propertyName:"columnPadding"},calloutSize:{objectName:"layout",propertyName:"calloutSize"},style:{objectName:"layout",propertyName:"style"},fixedButtonsCount:{objectName:"layout",propertyName:"fixedButtonsCount"},indentation:{objectName:"layout",propertyName:"indentation"},reverseIndentation:{objectName:"layout",propertyName:"reverseIndentation"},containerIndentation:{objectName:"layout",propertyName:"containerIndentation"},customizeLines:{objectName:"layout",propertyName:"customizeLines"},lineStyle:{objectName:"layout",propertyName:"lineStyle"},lineTransparency:{objectName:"layout",propertyName:"lineTransparency"},lineWidth:{objectName:"layout",propertyName:"lineWidth"},lineColor:{objectName:"layout",propertyName:"lineColor"},gridlineStyle:{objectName:"layout",propertyName:"gridlineStyle"},gridlineTransparency:{objectName:"layout",propertyName:"gridlineTransparency"},gridlineWidth:{objectName:"layout",propertyName:"gridlineWidth"},gridlineColor:{objectName:"layout",propertyName:"gridlineColor"},borderStyle:{objectName:"layout",propertyName:"borderStyle"},borderTransparency:{objectName:"layout",propertyName:"borderTransparency"},borderWidth:{objectName:"layout",propertyName:"borderWidth"},borderColor:{objectName:"layout",propertyName:"borderColor"},rectangleRoundedCurveCustomStyle:{objectName:"layout",propertyName:"rectangleRoundedCurveCustomStyle"},rectangleRoundedCurve:{objectName:"layout",propertyName:"rectangleRoundedCurve"},rectangleRoundedCurveLeftTop:{objectName:"layout",propertyName:"rectangleRoundedCurveLeftTop"},rectangleRoundedCurveRightTop:{objectName:"layout",propertyName:"rectangleRoundedCurveRightTop"},rectangleRoundedCurveLeftBottom:{objectName:"layout",propertyName:"rectangleRoundedCurveLeftBottom"},rectangleRoundedCurveRightBottom:{objectName:"layout",propertyName:"rectangleRoundedCurveRightBottom"},backgroundShow:{objectName:"layout",propertyName:"backgroundShow"},backgroundFillColor:{objectName:"layout",propertyName:"backgroundFillColor"},backgroundTransparency:{objectName:"layout",propertyName:"backgroundTransparency"},backgroundImage:{objectName:"layout",propertyName:"backgroundImage"},backgroundImageTransparency:{objectName:"layout",propertyName:"backgroundImageTransparency"},leftOuterMargin:{objectName:"layout",propertyName:"leftOuterMargin"},rightOuterMargin:{objectName:"layout",propertyName:"rightOuterMargin"},topOuterMargin:{objectName:"layout",propertyName:"topOuterMargin"},bottomOuterMargin:{objectName:"layout",propertyName:"bottomOuterMargin"}},label:{show:{objectName:"label",propertyName:"show"},fontColor:{objectName:"label",propertyName:"fontColor"},fontSize:{objectName:"label",propertyName:"fontSize"},fontFamily:{objectName:"label",propertyName:"fontFamily"},italic:{objectName:"label",propertyName:"italic"},bold:{objectName:"label",propertyName:"bold"},underline:{objectName:"label",propertyName:"underline"},text:{objectName:"label",propertyName:"text"},heading:{objectName:"label",propertyName:"heading"},position:{objectName:"label",propertyName:"position"},transparency:{objectName:"label",propertyName:"transparency"},textWrap:{objectName:"label",propertyName:"textWrap"},alignBaselines:{objectName:"label",propertyName:"alignBaselines"},field:{objectName:"label",propertyName:"field"},matchValueAlignment:{objectName:"label",propertyName:"matchValueAlignment"},horizontalAlignment:{objectName:"label",propertyName:"horizontalAlignment"}},overFlow:{overFlowStyle:{objectName:"overFlow",propertyName:"overFlowStyle"},overFlowDirection:{objectName:"overFlow",propertyName:"overFlowDirection"}},outline:{show:{objectName:"outline",propertyName:"show"},lineColor:{objectName:"outline",propertyName:"lineColor"},weight:{objectName:"outline",propertyName:"weight"},transparency:{objectName:"outline",propertyName:"transparency"}},shape:{tileShape:{objectName:"shape",propertyName:"tileShape"},roundEdge:{objectName:"shape",propertyName:"roundEdge"},arrowheadSize:{objectName:"shape",propertyName:"arrowheadSize"},arrowStemWidth:{objectName:"shape",propertyName:"arrowStemWidth"},chevronAngle:{objectName:"shape",propertyName:"chevronAngle"},isocelesTriangleTipPosition:{objectName:"shape",propertyName:"isocelesTriangleTipPosition"},parallelogramSlant:{objectName:"shape",propertyName:"parallelogramSlant"},trapezoidSlant:{objectName:"shape",propertyName:"trapezoidSlant"},hexagonSlant:{objectName:"shape",propertyName:"hexagonSlant"},octagonSnipSize:{objectName:"shape",propertyName:"octagonSnipSize"},speechBubbleHeight:{objectName:"shape",propertyName:"speechBubbleHeight"},speechBubbleTailPosition:{objectName:"shape",propertyName:"speechBubbleTailPosition"},speechBubbleTailAngle:{objectName:"shape",propertyName:"speechBubbleTailAngle"},rectangleRoundedCurve:{objectName:"shape",propertyName:"rectangleRoundedCurve"},tabCutCornerSnipSizeTopRight:{objectName:"shape",propertyName:"tabCutCornerSnipSizeTopRight"},tabCutCornerSnipSizeTop:{objectName:"shape",propertyName:"tabCutCornerSnipSizeTop"},tabCutCornerSnipSizeBottom:{objectName:"shape",propertyName:"tabCutCornerSnipSizeBottom"},tabRoundCornerTopRight:{objectName:"shape",propertyName:"tabRoundCornerTopRight"},tabRoundCornerTop:{objectName:"shape",propertyName:"tabRoundCornerTop"},tabRoundCornerBottom:{objectName:"shape",propertyName:"tabRoundCornerBottom"}},shapeCustomRectangle:{rectangleRoundedCurveLeftTop:{objectName:"shapeCustomRectangle",propertyName:"rectangleRoundedCurveLeftTop"},rectangleRoundedCurveRightTop:{objectName:"shapeCustomRectangle",propertyName:"rectangleRoundedCurveRightTop"},rectangleRoundedCurveLeftBottom:{objectName:"shapeCustomRectangle",propertyName:"rectangleRoundedCurveLeftBottom"},rectangleRoundedCurveRightBottom:{objectName:"shapeCustomRectangle",propertyName:"rectangleRoundedCurveRightBottom"},rectangleRoundedCurveCustomStyle:{objectName:"shapeCustomRectangle",propertyName:"rectangleRoundedCurveCustomStyle"},rectangleRoundedCurve:{objectName:"shapeCustomRectangle",propertyName:"rectangleRoundedCurve"},tabCutCornerSnipSizeTop:{objectName:"shapeCustomRectangle",propertyName:"tabCutCornerSnipSizeTop"},tabCutCornerSnipSizeBottom:{objectName:"shapeCustomRectangle",propertyName:"tabCutCornerSnipSizeBottom"},tabCutCornerSnipSizeCustomStyle:{objectName:"shapeCustomRectangle",propertyName:"tabCutCornerSnipSizeCustomStyle"},tabCutCornerSnipSizeLeftTop:{objectName:"shapeCustomRectangle",propertyName:"tabCutCornerSnipSizeLeftTop"},tabCutCornerSnipSizeRightTop:{objectName:"shapeCustomRectangle",propertyName:"tabCutCornerSnipSizeRightTop"},tabCutCornerSnipSizeLeftBottom:{objectName:"shapeCustomRectangle",propertyName:"tabCutCornerSnipSizeLeftBottom"},tabCutCornerSnipSizeRightBottom:{objectName:"shapeCustomRectangle",propertyName:"tabCutCornerSnipSizeRightBottom"},tileShape:{objectName:"shapeCustomRectangle",propertyName:"tileShape"}},shadow:{show:{objectName:"shadow",propertyName:"show"},color:{objectName:"shadow",propertyName:"color"},transparency:{objectName:"shadow",propertyName:"transparency"},shadowBlur:{objectName:"shadow",propertyName:"shadowBlur"},shadowPositionPreset:{objectName:"shadow",propertyName:"shadowPositionPreset"},angle:{objectName:"shadow",propertyName:"angle"},shadowDistance:{objectName:"shadow",propertyName:"shadowDistance"}},glow:{show:{objectName:"glow",propertyName:"show"},color:{objectName:"glow",propertyName:"color"},transparency:{objectName:"glow",propertyName:"transparency"},shadowBlur:{objectName:"glow",propertyName:"shadowBlur"}},shadowCustom:{show:{objectName:"shadowCustom",propertyName:"show"},color:{objectName:"shadowCustom",propertyName:"color"},transparency:{objectName:"shadowCustom",propertyName:"transparency"},shadowBlur:{objectName:"shadowCustom",propertyName:"shadowBlur"},shadowPositionPreset:{objectName:"shadowCustom",propertyName:"shadowPositionPreset"},angle:{objectName:"shadowCustom",propertyName:"angle"},shadowDistance:{objectName:"shadowCustom",propertyName:"shadowDistance"},position:{objectName:"shadowCustom",propertyName:"position"},shadowSpread:{objectName:"shadowCustom",propertyName:"shadowSpread"}},glowCustom:{show:{objectName:"glowCustom",propertyName:"show"},color:{objectName:"glowCustom",propertyName:"color"},transparency:{objectName:"glowCustom",propertyName:"transparency"},shadowBlur:{objectName:"glowCustom",propertyName:"shadowBlur"},glowPositionPreset:{objectName:"glowCustom",propertyName:"glowPositionPreset"},angle:{objectName:"glowCustom",propertyName:"angle"},glowDistance:{objectName:"glowCustom",propertyName:"glowDistance"},position:{objectName:"glowCustom",propertyName:"position"},glowSpread:{objectName:"glowCustom",propertyName:"glowSpread"}},accentBar:{show:{objectName:"accentBar",propertyName:"show"},position:{objectName:"accentBar",propertyName:"position"},color:{objectName:"accentBar",propertyName:"color"},transparency:{objectName:"accentBar",propertyName:"transparency"},width:{objectName:"accentBar",propertyName:"width"}},padding:{paddingSelection:{objectName:"padding",propertyName:"paddingSelection"},leftMargin:{objectName:"padding",propertyName:"leftMargin"},rightMargin:{objectName:"padding",propertyName:"rightMargin"},topMargin:{objectName:"padding",propertyName:"topMargin"},bottomMargin:{objectName:"padding",propertyName:"bottomMargin"}},value:{show:{objectName:"value",propertyName:"show"},fontColor:{objectName:"value",propertyName:"fontColor"},fontSize:{objectName:"value",propertyName:"fontSize"},fontFamily:{objectName:"value",propertyName:"fontFamily"},italic:{objectName:"value",propertyName:"italic"},bold:{objectName:"value",propertyName:"bold"},underline:{objectName:"value",propertyName:"underline"},text:{objectName:"value",propertyName:"text"},horizontalAlignment:{objectName:"value",propertyName:"horizontalAlignment"},transparency:{objectName:"value",propertyName:"transparency"},textWrap:{objectName:"value",propertyName:"textWrap"},labelDisplayUnits:{objectName:"value",propertyName:"labelDisplayUnits"},labelPrecision:{objectName:"value",propertyName:"labelPrecision"},customFormatString:{objectName:"value",propertyName:"customFormatString"},showBlankAs:{objectName:"value",propertyName:"showBlankAs"}},spacing:{verticalSpacing:{objectName:"spacing",propertyName:"verticalSpacing"}}},y=function(K){return K.Custom="custom",K.Top="top",K.TopLeft="topLeft",K.TopRight="topRight",K.Center="center",K.CenterLeft="centerLeft",K.CenterRight="centerRight",K.Bottom="bottom",K.BottomLeft="bottomLeft",K.BottomRight="bottomRight",K}({}),S=(0,i.i)([{value:y.Custom,displayName:K=>K.get("Custom")},{value:y.Top,displayName:K=>K.get("Top")},{value:y.TopLeft,displayName:K=>K.get("Visual_LabelPosition_TopLeft")},{value:y.TopRight,displayName:K=>K.get("Visual_LabelPosition_TopRight")},{value:y.Center,displayName:K=>K.get("Visual_TextAlignment_Center")},{value:y.CenterLeft,displayName:K=>K.get("Visual_TextAlignment_Left")},{value:y.CenterRight,displayName:K=>K.get("Visual_TextAlignment_Right")},{value:y.Bottom,displayName:K=>K.get("Bottom")},{value:y.BottomLeft,displayName:K=>K.get("Visual_LabelPosition_BottomLeft")},{value:y.BottomRight,displayName:K=>K.get("Visual_LabelPosition_BottomRight")}]),h=function(K){return K.OuterPosition="Outer",K.InnerPosition="Inner",K}({}),E=(0,i.i)([{value:h.OuterPosition,displayName:K=>K.get("Visual_DonutLabelPosition_Outside")},{value:h.InnerPosition,displayName:K=>K.get("Visual_DonutLabelPosition_Inside")}]),u={accentBar:"accentBar",calloutLayout:"calloutLayout",fill:"fill",fillCustom:"fillCustom",layout:"layout",label:"label",outline:"outline",padding:"padding",shape:"shape",shadow:"shadow",glow:"glow",shapeCustomRectangle:"shapeCustomRectangle",shadowCustom:"shadowCustom",spacing:"spacing",glowCustom:"glowCustom",value:"value",overFlow:"overFlow"},f={accentBarColor:"color",accentBarTransparency:"transparency",accentBarWidth:"width",alignBaselines:"alignBaselines",alignment:"alignment",arrowStemWidth:"arrowStemWidth",arrowheadSize:"arrowheadSize",bold:"bold",bottomMargin:"bottomMargin",calloutSize:"calloutSize",cellPadding:"cellPadding",chevronAngle:"chevronAngle",columnCount:"columnCount",columnPadding:"columnPadding",customFormatString:"customFormatString",customizePadding:"customizePadding",fillColor:"fillColor",fillImage:"image",fillTransparency:"transparency",fontColor:"fontColor",fontFamily:"fontFamily",fontSize:"fontSize",glowColor:"color",glowDistance:"glowDistance",glowPositionPreset:"glowPositionPreset",glowSpread:"glowSpread",glowTransparency:"transparency",heading:"heading",hexagonSlant:"hexagonSlant",horizontalAlignment:"horizontalAlignment",imageSplitTransparency:"imageSplitTransparency",imageTransparency:"imageTransparency",isocelesTriangleTipPosition:"isocelesTriangleTipPosition",italic:"italic",labelDisplayUnits:"labelDisplayUnits",labelPrecision:"labelPrecision",rectangleRoundedCurveCustomStyle:"rectangleRoundedCurveCustomStyle",rectangleRoundedCurve:"rectangleRoundedCurve",leftMargin:"leftMargin",matchValueAlignment:"matchValueAlignment",maxTiles:"maxTiles",octagonSnipSize:"octagonSnipSize",orientation:"orientation",outlineColor:"lineColor",outlineTransparency:"transparency",outlineWeight:"weight",OverFlowDirection:"overFlowDirection",OverFlowStyle:"overFlowStyle",paddingSelection:"paddingSelection",parallelogramSlant:"parallelogramSlant",position:"position",rectangleRoundedCurveLeftBottom:"rectangleRoundedCurveLeftBottom",rectangleRoundedCurveLeftTop:"rectangleRoundedCurveLeftTop",rectangleRoundedCurveRightBottom:"rectangleRoundedCurveRightBottom",rectangleRoundedCurveRightTop:"rectangleRoundedCurveRightTop",rightMargin:"rightMargin",rowCount:"rowCount",rowPadding:"rowPadding",shadowAngle:"angle",shadowBlur:"shadowBlur",shadowColor:"color",shadowDistance:"shadowDistance",shadowPositionPreset:"shadowPositionPreset",shadowSpread:"shadowSpread",shadowTransparency:"transparency",shapeRotation:"shapeAngle",shapeRounding:"roundEdge",show:"show",showBlankAs:"showBlankAs",speechBubbleHeight:"speechBubbleHeight",speechBubbleTailAngle:"speechBubbleTailAngle",speechBubbleTailPosition:"speechBubbleTailPosition",tabCutCornerSnipSizeBottom:"tabCutCornerSnipSizeBottom",tabCutCornerSnipSizeCustomStyle:"tabCutCornerSnipSizeCustomStyle",tabCutCornerSnipSizeLeftBottom:"tabCutCornerSnipSizeLeftBottom",tabCutCornerSnipSizeLeftTop:"tabCutCornerSnipSizeLeftTop",tabCutCornerSnipSizeRightBottom:"tabCutCornerSnipSizeRightBottom",tabCutCornerSnipSizeRightTop:"tabCutCornerSnipSizeRightTop",tabCutCornerSnipSizeTop:"tabCutCornerSnipSizeTop",tabCutCornerSnipSizeTopRight:"tabCutCornerSnipSizeTopRight",tabRoundCornerBottom:"tabRoundCornerBottom",tabRoundCornerTop:"tabRoundCornerTop",tabRoundCornerTopRight:"tabRoundCornerTopRight",text:"text",textWrap:"textWrap",tileShape:"tileShape",topMargin:"topMargin",transparency:"transparency",trapezoidSlant:"trapezoidSlant",underline:"underline",verticalSpacing:"verticalSpacing"},V={show:m.iD.show,[f.fillColor]:m.iD.fill,[f.fillTransparency]:m.iD.backgroundTransparency,[f.fillImage]:m.iD.image},T={show:m.iD.show,[f.fillColor]:m.iD.fill,[f.fillTransparency]:m.iD.backgroundTransparency,[f.fillImage]:m.iD.image,[f.imageTransparency]:m.iD.backgroundTransparency,[f.imageSplitTransparency]:{type:{bool:!0}}},P={show:m.iD.show,[f.outlineColor]:m.iD.outlineColor,[f.outlineTransparency]:m.iD.lineTransparency,[f.outlineWeight]:m.iD.outlineWeight},D={[f.tileShape]:{displayName:(0,r.V)("Visual_Shape"),type:{enumeration:d.d}},[f.shapeRounding]:{displayName:(0,r.V)("Visual_BasicShape_RoundEdges"),type:{integer:!0}},[f.arrowheadSize]:{displayName:(0,r.V)("Visual_Shape_ArrowheadSize"),type:{integer:!0}},[f.arrowStemWidth]:{displayName:(0,r.V)("Visual_Shape_ArrowStemWidth"),type:{integer:!0}},[f.chevronAngle]:{displayName:(0,r.V)("Visual_Angle"),type:{integer:!0}},[f.isocelesTriangleTipPosition]:{displayName:(0,r.V)("Visual_Shape_TriangleTipPosition"),type:{integer:!0}},[f.parallelogramSlant]:{displayName:(0,r.V)("Visual_Shape_Slant"),type:{integer:!0}},[f.trapezoidSlant]:{displayName:(0,r.V)("Visual_Shape_Slant"),type:{integer:!0}},[f.hexagonSlant]:{displayName:(0,r.V)("Visual_Shape_Slant"),type:{integer:!0}},[f.octagonSnipSize]:{displayName:(0,r.V)("Visual_Shape_OctagonSnipSize"),type:{integer:!0}},[f.speechBubbleHeight]:{displayName:(0,r.V)("Visual_Shape_ChatBubbleHeight"),type:{integer:!0}},[f.speechBubbleTailPosition]:{displayName:(0,r.V)("Visual_Shape_ChatTailPosition"),type:{enumeration:o.dt}},[f.speechBubbleTailAngle]:{displayName:(0,r.V)("Visual_Shape_ChatTailAngle"),type:{integer:!0}},[f.rectangleRoundedCurve]:{displayName:(0,r.V)("Visual_Shape_RectangleRoundedCurve"),type:{integer:!0}},[f.tabCutCornerSnipSizeTopRight]:{displayName:(0,r.V)("Visual_Shape_TabSnipSizeTopRight"),type:{integer:!0}},[f.tabCutCornerSnipSizeTop]:{displayName:(0,r.V)("Visual_Shape_TabSnipSizeTop"),type:{integer:!0}},[f.tabCutCornerSnipSizeBottom]:{displayName:(0,r.V)("Visual_Shape_TabSnipSizeBottom"),type:{integer:!0}},[f.tabRoundCornerTopRight]:{displayName:(0,r.V)("Visual_Shape_TabRoundingTopRight"),type:{integer:!0}},[f.tabRoundCornerTop]:{displayName:(0,r.V)("Visual_Shape_TabRoundingTop"),type:{integer:!0}},[f.tabRoundCornerBottom]:{displayName:(0,r.V)("Visual_Shape_TabRoundingBottom"),type:{integer:!0}}},w={[f.tileShape]:{displayName:(0,r.V)("Visual_Shape"),type:{enumeration:d.d}},[f.rectangleRoundedCurveCustomStyle]:{displayName:(0,r.V)("Visual_CustomStyle"),type:{bool:!0}},[f.rectangleRoundedCurveLeftTop]:{displayName:(0,r.V)("Visual_CornerTopLeft"),type:{integer:!0}},[f.rectangleRoundedCurveRightTop]:{displayName:(0,r.V)("Visual_CornerTopRight"),type:{integer:!0}},[f.rectangleRoundedCurveLeftBottom]:{displayName:(0,r.V)("Visual_CornerBottomLeft"),type:{integer:!0}},[f.rectangleRoundedCurveRightBottom]:{displayName:(0,r.V)("Visual_CornerBottomRight"),type:{integer:!0}},[f.rectangleRoundedCurve]:{displayName:(0,r.V)("Visual_Shape_RectangleRoundedCurve"),type:{integer:!0}},[f.tabCutCornerSnipSizeTop]:{displayName:(0,r.V)("Visual_Shape_TabSnipSizeTop"),type:{integer:!0}},[f.tabCutCornerSnipSizeCustomStyle]:{displayName:(0,r.V)("Visual_CustomStyle"),type:{bool:!0}},[f.tabCutCornerSnipSizeLeftTop]:{displayName:(0,r.V)("Visual_CornerTopLeft"),type:{integer:!0}},[f.tabCutCornerSnipSizeRightTop]:{displayName:(0,r.V)("Visual_CornerTopRight"),type:{integer:!0}},[f.tabCutCornerSnipSizeLeftBottom]:{displayName:(0,r.V)("Visual_CornerBottomLeft"),type:{integer:!0}},[f.tabCutCornerSnipSizeRightBottom]:{displayName:(0,r.V)("Visual_CornerBottomRight"),type:{integer:!0}},[f.tabCutCornerSnipSizeBottom]:{displayName:(0,r.V)("Visual_Shape_TabSnipSizeBottom"),type:{integer:!0}}},M={show:m.iD.show,[f.shadowColor]:m.iD.genericColor,[f.shadowTransparency]:m.iD.genericTransparency,[f.shadowBlur]:{displayName:(0,r.V)("Visual_DropShadow_Blur"),type:{numeric:!0}},[f.shadowPositionPreset]:{displayName:(0,r.V)("Visual_DropShadow_Preset"),type:{enumeration:S}},[f.shadowAngle]:{displayName:(0,r.V)("Visual_Angle"),type:{numeric:!0}},[f.shadowDistance]:{displayName:(0,r.V)("Distance"),type:{numeric:!0}}},A={show:m.iD.show,[f.glowColor]:m.iD.genericColor,[f.glowTransparency]:m.iD.genericTransparency,[f.shadowBlur]:{displayName:(0,r.V)("Visual_DropShadow_Blur"),type:{numeric:!0}}},R={show:m.iD.show,[f.shadowColor]:m.iD.genericColor,[f.shadowTransparency]:m.iD.genericTransparency,[f.shadowBlur]:{displayName:(0,r.V)("Visual_DropShadow_Blur"),type:{numeric:!0}},[f.shadowPositionPreset]:{displayName:(0,r.V)("Visual_DropShadow_Preset"),type:{enumeration:S}},[f.shadowAngle]:{displayName:(0,r.V)("Visual_Angle"),type:{numeric:!0}},[f.shadowDistance]:{displayName:(0,r.V)("Distance"),type:{numeric:!0}},[f.position]:{displayName:(0,r.V)("Offset"),type:{enumeration:E}},[f.shadowSpread]:{displayName:(0,r.V)("Visual_BubbleSize"),type:{numeric:!0}}},B={show:m.iD.show,[f.glowColor]:m.iD.genericColor,[f.glowTransparency]:m.iD.genericTransparency,[f.shadowBlur]:{displayName:(0,r.V)("Visual_DropShadow_Blur"),type:{numeric:!0}},[f.glowPositionPreset]:{displayName:(0,r.V)("Visual_DropShadow_Preset"),type:{enumeration:S}},[f.shadowAngle]:{displayName:(0,r.V)("Visual_Angle"),type:{numeric:!0}},[f.glowDistance]:{displayName:(0,r.V)("Distance"),type:{numeric:!0}},[f.position]:{displayName:(0,r.V)("Offset"),type:{enumeration:E}},[f.glowSpread]:{displayName:(0,r.V)("Visual_BubbleSize"),type:{numeric:!0}}},N={show:m.iD.show,[f.position]:{displayName:(0,r.V)("Visual_Position"),type:{enumeration:l.CX}},[f.accentBarColor]:m.iD.genericColor,[f.accentBarTransparency]:m.iD.genericTransparency,[f.accentBarWidth]:m.iD.width},W={[f.alignment]:{displayName:(0,r.V)("Visual_TextAlignment"),type:{formatting:{alignment:!0}}},[f.orientation]:{displayName:(0,r.V)("Visual_Arrangement"),type:{enumeration:p.SO}},[f.rowCount]:{displayName:(0,r.V)("Small_Multiples_Layout_Rows"),type:{integer:!0}},[f.columnCount]:{displayName:(0,r.V)("Small_Multiples_Layout_Columns"),type:{integer:!0}},[f.maxTiles]:{displayName:(0,r.V)("Visual_Arrangement_CardsShown"),type:{integer:!0}},[f.cellPadding]:{displayName:(0,r.V)("Visual_Spacing_Between_Cards"),type:{integer:!0}},[f.customizePadding]:{displayName:(0,r.V)("Visual_Spacing_Customize"),type:{bool:!0}},[f.rowPadding]:{displayName:(0,r.V)("Visual_Arrangement_SpaceRows"),type:{integer:!0}},[f.columnPadding]:{displayName:(0,r.V)("Visual_Arrangement_SpaceColumns"),type:{integer:!0}},[f.calloutSize]:{displayName:(0,r.V)("Visual_CallOutSize"),type:{numeric:!0}},style:{displayName:(0,r.V)("Style"),type:{enumeration:c.d}},backgroundFillColor:m.iD.genericColor,backgroundTransparency:m.iD.backgroundTransparency,backgroundShow:m.iD.show,backgroundImage:m.iD.image,backgroundImageTransparency:{displayName:(0,r.V)("Visual_Image_Transparency"),type:{numeric:!0}},rectangleRoundedCurveCustomStyle:{displayName:(0,r.V)("Visual_Shape_CustomizeCorners"),type:{bool:!0}},rectangleRoundedCurve:{displayName:(0,r.V)("Visual_Shape_RectangleRoundedCurve"),type:{integer:!0}},rectangleRoundedCurveLeftTop:{displayName:(0,r.V)("Visual_CornerTopLeft"),type:{integer:!0}},rectangleRoundedCurveRightTop:{displayName:(0,r.V)("Visual_CornerTopRight"),type:{integer:!0}},rectangleRoundedCurveLeftBottom:{displayName:(0,r.V)("Visual_CornerBottomLeft"),type:{integer:!0}},rectangleRoundedCurveRightBottom:{displayName:(0,r.V)("Visual_CornerBottomRight"),type:{integer:!0}},customizeLines:{displayName:(0,r.V)("Customize_Lines_String"),type:{bool:!0}},...(0,m.uH)({strokePattern:"lineStyle",strokeTransparency:"lineTransparency",strokeWidth:"lineWidth",strokeColor:"lineColor"}),...(0,m.uH)({strokePattern:"gridlineStyle",strokeTransparency:"gridlineTransparency",strokeWidth:"gridlineWidth",strokeColor:"gridlineColor"}),...(0,m.uH)({strokePattern:"borderStyle",strokeTransparency:"borderTransparency",strokeWidth:"borderWidth",strokeColor:"borderColor"}),leftOuterMargin:{displayName:(0,r.V)("Visual_PaddingLeft"),type:{integer:!0}},rightOuterMargin:{displayName:(0,r.V)("Visual_PaddingRight"),type:{integer:!0}},topOuterMargin:{displayName:(0,r.V)("Visual_PaddingTop"),type:{integer:!0}},bottomOuterMargin:{displayName:(0,r.V)("Visual_PaddingBottom"),type:{integer:!0}}},F={[f.OverFlowStyle]:{displayName:(0,r.V)("Visual_OverFlow_Style"),type:{enumeration:g.d}},[f.OverFlowDirection]:{displayName:(0,r.V)("Visual_OverFlow_Direction"),type:{enumeration:n.d}}},U={[f.paddingSelection]:{displayName:(0,r.V)("Embed_Size"),type:{enumeration:s.dt}},[f.leftMargin]:{displayName:(0,r.V)("Visual_Margin_Left"),type:{integer:!0}},[f.rightMargin]:{displayName:(0,r.V)("Visual_Margin_Right"),type:{integer:!0}},[f.topMargin]:{displayName:(0,r.V)("Visual_Margin_Top"),type:{integer:!0}},[f.bottomMargin]:{displayName:(0,r.V)("Visual_Margin_Bottom"),type:{integer:!0}}},O={show:m.iD.show,...m.KG,[f.horizontalAlignment]:m.iD.horizontalAlignment,[f.textWrap]:m.iD.textWrap,[f.labelDisplayUnits]:{...m.iD.labelDisplayUnits,type:{enumeration:t.d}},[f.labelPrecision]:m.iD.labelPrecision,[f.customFormatString]:{displayName:(0,r.V)("Visual_FormatCode"),description:(0,r.V)("Visual_FormatCode_Description"),type:{text:!0}},[f.showBlankAs]:m.iD.showBlankAs,[f.transparency]:m.iD.genericTransparency},x={show:m.iD.show,[f.text]:{displayName:(0,r.V)("Text"),type:{text:!0}},[f.heading]:{displayName:(0,r.V)("Visual_AzureMapsHeading"),type:{enumeration:v.VX}},...m.KG,[f.position]:{displayName:(0,r.V)("Visual_Position"),type:{enumeration:a.d}},[f.transparency]:m.iD.genericTransparency,[f.textWrap]:m.iD.textWrap,[f.alignBaselines]:{displayName:(0,r.V)("Visual_AlignBaselines"),type:{bool:!0}},[f.matchValueAlignment]:{displayName:(0,r.V)("Visual_Alignment_MatchValue"),type:{bool:!0}},[f.horizontalAlignment]:m.iD.horizontalAlignment},I={[f.verticalSpacing]:{displayName:(0,r.V)("Visual_Spacing_Vertical"),type:{integer:!0}}},L={[u.fill]:{displayName:(0,r.V)("Visual_Fill"),properties:V},[u.fillCustom]:{displayName:(0,r.V)("Visual_Fill"),properties:T},[u.outline]:{displayName:(0,r.V)("Visual_Outline"),properties:P},[u.shape]:{displayName:(0,r.V)("Visual_Shape"),properties:D},[u.shadow]:{displayName:(0,r.V)("Visual_Shape_Shadow"),properties:M},[u.glow]:{displayName:(0,r.V)("Visual_Shape_Glow"),properties:A},[u.shapeCustomRectangle]:{displayName:(0,r.V)("Visual_Shape"),properties:w},[u.shadowCustom]:{displayName:(0,r.V)("Visual_Shape_Shadow"),properties:R},[u.glowCustom]:{displayName:(0,r.V)("Visual_Shape_Glow"),properties:B},[u.accentBar]:{displayName:(0,r.V)("Visual_Outline_AccentBar"),properties:N},[u.padding]:{displayName:(0,r.V)("Visual_Padding"),properties:U},[u.value]:{displayName:(0,r.V)("Role_DisplayName_Values"),properties:O},[u.label]:{displayName:(0,r.V)("Role_DisplayName_Label"),properties:x},[u.layout]:{displayName:(0,r.V)("Layout"),properties:W},[u.overFlow]:{displayName:(0,r.V)("Visual_OverFlow"),properties:F},[u.spacing]:{displayName:(0,r.V)("Visual_Spacing"),properties:I}}},227613:function(ve,j,e){e.d(j,{A:function(){return n},c:function(){return p},treemapProps:function(){return s}});var r=e(318456),i=e(630881),a=e(33199),t=e(281210),l=e(847005),g=e(850921),n={group:"Group",details:"Details",values:"Values",gradient:"Gradient"};function p(d){return{dataRoles:[{name:"Group",kind:i.DW.Grouping,displayName:(0,t.V)(d?.useModernFormatPane?"Role_DisplayName_Category":"Group"),description:(0,t.V)("Role_DisplayName_GroupTreemapDescription")},{name:"Details",kind:i.DW.Grouping,displayName:(0,t.V)("Details")},{name:"Values",kind:i.DW.Measure,displayName:(0,t.V)("Role_DisplayName_Values"),description:(0,t.V)("Role_DisplayName_ValuesDescription"),requiredTypes:[{numeric:!0},{integer:!0}]},!d?.cartesianConditionalFormatting&&{name:"Gradient",kind:i.DW.Measure,displayName:(0,t.V)("Role_DisplayName_Gradient"),description:(0,t.V)("Role_DisplayName_GradientDescription"),requiredTypes:[{numeric:!0},{integer:!0}],joinPredicate:i.ps.None},{name:"Tooltips",kind:i.DW.Measure,displayName:(0,t.V)("Role_DisplayName_Tooltips"),description:(0,t.V)("Role_Tooltips_Description"),joinPredicate:i.ps.None}].filter(o=>o),objects:{general:{displayName:(0,t.V)("Visual_General"),properties:{formatString:l.iD.formatString}},legend:l.TQ.legend,dataPoint:{displayName:(0,t.V)("Visual_DataPoint"),description:(0,t.V)("Visual_DataPointDescription"),properties:{fill:l.iD.defaultCategoryColor,fillRule:{displayName:(0,t.V)("Visual_Gradient"),type:{fillRule:{}},rule:{inputRole:"Gradient",output:{property:"fill",selector:["Group"]}}}}},layout:{displayName:(0,t.V)("Layout"),properties:{tilingMethod:{displayName:(0,t.V)("Visual_Treemap_TilingMethod"),description:(0,t.V)("Visual_Treemap_TilingMethod_Description"),type:{enumeration:g._}},innerPadding:{displayName:(0,t.V)("Visual_PaddingInner_Treemap"),description:(0,t.V)("Visual_PaddingInner_Treemap_Description"),type:{numeric:!0}},outerPadding:{displayName:(0,t.V)("Visual_PaddingOuter_Treemap"),description:(0,t.V)("Visual_PaddingOuter_Treemap_Description"),type:{numeric:!0}}}},labels:{displayName:(0,t.V)("Visual_DataPointsLabels"),description:(0,t.V)("Visual_DataPointsLabelsDescription"),properties:{show:l.iD.show,...l.Ns,labelDisplayUnits:l.iD.labelDisplayUnits,labelPrecision:l.iD.labelPrecision}},categoryLabels:{displayName:(0,t.V)("Visual_CategoryLabels"),description:(0,t.V)("Visual_CategoryLabelsDescription"),properties:{...l.PP}}},dataViewMappings:[{conditions:[{Group:{max:1},Details:{max:0},Gradient:{max:1}},{Group:{max:1},Details:{min:1,max:1},Values:{max:1},Gradient:{max:0}}],categorical:{categories:{for:{in:"Group"},dataReductionAlgorithm:{top:{}}},values:{group:{by:"Details",select:[{bind:{to:"Values"}},{bind:{to:"Gradient"}},{for:{in:"Tooltips"}}],dataReductionAlgorithm:{top:{}}}},rowCount:{preferred:{min:2}}}}],supportsHighlight:!0,sorting:{custom:{},implicit:{clauses:[{role:"Values",direction:r.S.Descending}]}},drilldown:{roles:["Group"]},grouping:{groupingRules:[{condition:{Group:{min:1,max:1},Details:{max:1},Values:{min:1,max:1},Gradient:{min:0}},groupingTargetRole:"Group",kind:a.t.GroupInPlace},{condition:{Group:{min:1,max:1},Details:{max:1},Values:{min:1,max:1},Gradient:{min:0}},groupingTargetRole:"Group",groupSourceTargetRole:"Details",kind:a.t.Color},{condition:{Group:{min:1,max:1},Details:{min:0},Values:{min:1,max:1},Gradient:{min:1,max:1}},groupingTargetRole:"Group",kind:a.t.GroupInPlace}]},supportsMultiVisualSelection:!0,tooltips:{supportedTypes:{default:!0,canvas:!0},roles:["Tooltips"],supportEnhancedTooltips:!0},supportsKeyboardFocus:!0,supportsOnObjectFormatting:!0}}var s={general:{formatString:{objectName:"general",propertyName:"formatString"}},dataPoint:{fill:{objectName:"dataPoint",propertyName:"fill"}},legend:{show:{objectName:"legend",propertyName:"show"},position:{objectName:"legend",propertyName:"position"},showTitle:{objectName:"legend",propertyName:"showTitle"},titleText:{objectName:"legend",propertyName:"titleText"},labelColor:{objectName:"legend",propertyName:"labelColor"}},labels:{show:{objectName:"labels",propertyName:"show"},color:{objectName:"labels",propertyName:"color"},labelDisplayUnits:{objectName:"labels",propertyName:"labelDisplayUnits"},labelPrecision:{objectName:"labels",propertyName:"labelPrecision"},fontSize:{objectName:"labels",propertyName:"fontSize"},bold:{objectName:"labels",propertyName:"bold"},italic:{objectName:"labels",propertyName:"italic"},underline:{objectName:"labels",propertyName:"underline"},fontFamily:{objectName:"labels",propertyName:"fontFamily"}},categoryLabels:{show:{objectName:"categoryLabels",propertyName:"show"},color:{objectName:"categoryLabels",propertyName:"color"},fontSize:{objectName:"categoryLabels",propertyName:"fontSize"},bold:{objectName:"categoryLabels",propertyName:"bold"},italic:{objectName:"categoryLabels",propertyName:"italic"},underline:{objectName:"categoryLabels",propertyName:"underline"},fontFamily:{objectName:"categoryLabels",propertyName:"fontFamily"}},layout:{tilingMethod:{objectName:"layout",propertyName:"tilingMethod"},innerPadding:{objectName:"layout",propertyName:"innerPadding"},outerPadding:{objectName:"layout",propertyName:"outerPadding"}}}},745082:function(ve,j,e){e.d(j,{G:function(){return p},waterfallChartObjectProps:function(){return n}});var r=e(251868),i=e(630881),a=e(33199),t=e(281210),l=e(147818),g=e(847005),n=(0,r.wZ)(p().objects);function p(s){return{dataRoles:[{name:l.IT.category,kind:i.DW.Grouping,displayName:(0,t.V)("Role_DisplayName_Category"),description:(0,t.V)("Role_DisplayName_CategoryWaterfallDescription")},{name:l.IT.breakdown,kind:i.DW.Grouping,displayName:(0,t.V)("Role_DisplayName_BreakdownWaterfall"),description:(0,t.V)("Role_DisplayName_BreakdownWaterfallDescription")},{name:l.IT.y,kind:i.DW.Measure,requiredTypes:[{numeric:!0},{integer:!0}],displayName:(0,t.V)(s?.useModernFormatPane?"Visual_YAxis_Hyphen":"Role_DisplayName_Values"),description:(0,t.V)("Role_DisplayName_ValuesDescription")},{name:l.IT.tooltips,kind:i.DW.Measure,displayName:(0,t.V)("Role_DisplayName_Tooltips"),description:(0,t.V)("Role_Tooltips_Description"),joinPredicate:i.ps.None}],objects:{general:{displayName:(0,t.V)("Visual_General"),properties:{formatString:g.iD.formatString,responsive:g.iD.responsive,responsiveLegacy:g.iD.responsiveLegacy}},legend:g.TQ.legend,categoryAxis:{displayName:(0,t.V)("Visual_XAxis"),properties:{show:g.iD.show,..._.omit(g.PO,["axisType"]),..._.omit(g.wF,["labelDisplayUnits","labelPrecision"]),...(0,g.Me)("x")}},valueAxis:{displayName:(0,t.V)("Visual_YAxis"),properties:{show:g.iD.show,..._.omit(g.Mu,["logAxisScale"]),...g.wF,...(0,g.Me)("y"),...g.WV,totalsEnabled:{displayName:(0,t.V)("Visual_Axis_Total"),description:(0,t.V)("Visual_Axis_TotalDescription"),type:{bool:!0}},switchAxisPosition:g.iD.switchAxisPosition}},labels:{displayName:(0,t.V)("Visual_DataPointsLabels"),description:(0,t.V)("Visual_DataPointsLabelsDescription"),properties:{show:g.iD.show,..._.omit(g.QN,["transparency","valueCustomFormatString","showBlankAs","enableValueDataLabel"]),labelOrientation:g.iD.labelOrientation,labelPosition:g.iD.labelPosition,labelDisplayUnits:g.iD.dataLabelDisplayUnits,...g.BO}},plotArea:g.TQ.plotArea,sentimentColors:{displayName:(0,t.V)("Waterfall_SentimentColors"),properties:{increaseFill:{displayName:(0,t.V)("Increase"),type:{fill:{solid:{color:!0}}}},decreaseFill:{displayName:(0,t.V)("Decrease"),type:{fill:{solid:{color:!0}}}},totalFill:{displayName:(0,t.V)("Waterfall_TotalLabel"),type:{fill:{solid:{color:!0}}}},otherFill:{displayName:(0,t.V)("Waterfall_OtherLabel"),type:{fill:{solid:{color:!0}}}}}},[l.j3.y1]:{displayName:(0,t.V)("Visual_Reference_Line"),description:(0,t.V)("Visual_Reference_Line_Description"),objectCategory:i.fv.Analytics,properties:g.I3},breakdown:{displayName:(0,t.V)("Visual_Waterfall_Breakdown"),properties:{maxBreakdowns:{displayName:(0,t.V)("Visual_Waterfall_MaxBreakdown"),description:(0,t.V)("Visual_Waterfall_MaxBreakdown_Description"),type:{integer:!0}}}}},dataViewMappings:[{conditions:[{Category:{max:1},Y:{max:1},Breakdown:{max:0}}],categorical:{categories:{for:{in:"Category"},dataReductionAlgorithm:{top:{}}},values:{select:[{bind:{to:"Y"}},{for:{in:"Tooltips"}}]}}},{conditions:[{Category:{max:1},Y:{max:1},Breakdown:{min:1,max:1}}],matrix:{rows:{select:[{composite:[{for:{in:"Category"}}]}],dataReductionAlgorithm:{window:{count:30}}},columns:{for:{in:"Breakdown"},dataReductionAlgorithm:{top:{count:200}}},values:{select:[{bind:{to:"Y"}},{bind:{to:"Tooltips"}}]}}}],sorting:{default:{}},drilldown:{roles:["Category"]},grouping:{groupingRules:[{condition:{Category:{min:1,max:1},Y:{min:1,max:1}},groupingTargetRole:"Category",kind:a.t.GroupInPlace}]},supportsMultiVisualSelection:!0,tooltips:{supportedTypes:{default:!0,canvas:!0},roles:["Tooltips"],supportEnhancedTooltips:!0},supportsKeyboardFocus:!0,supportsOnObjectFormatting:!0}}},962442:function(ve,j,e){e.d(j,{$9:function(){return d},Hx:function(){return o},PX:function(){return p},_K:function(){return s},iQ:function(){return m}});var r=e(650543),i=e(87072),a=e(230343),t=e(147818),l=e(911313),g=e(850234),n=e(336596);function p(c,C,y,S,h){return!(h&&!S)&&(!!function(c){return c&&!_.isEmpty(c.values)}(S)||s(c,C,y))}function s(c,C,y){return!(!o(y)||!d(c,C))}function d(c,C){if(!c)return!0;var y=(0,a.NA)(c,C);return null==y||y===g.w.scalar}function o(c){return!(0,l.c$)(c)}function m(c,C){if(!c||!c.metadata)return!1;var y;if(c.categorical&&c.categorical.categories&&(0,i.mn)(c.categorical.categories)?y=c.categorical.categories.for.in:C&&(0,n.qO)(c)&&(y=(0,n.b8)(c).for.in),null==y)return!1;var E=y.items;if(_.isEmpty(E))return!1;var u=y.activeItems,f=E[0];if(!_.isEmpty(u)){if(u.length>1)return!1;var b=_.find(E,P=>P.queryName===u[0]);r.f.assertValue(b,"active projection must be part of category items"),f=b}return!!s(c.metadata.objects,t.cartesianChartProps.categoryAxis.axisType,f.type)}},336596:function(ve,j,e){e.d(j,{D4:function(){return d},QS:function(){return p},UE:function(){return g},XG:function(){return t},Xi:function(){return a},ZO:function(){return n},b8:function(){return C},qO:function(){return s},qU:function(){return o},r8:function(){return l},s5:function(){return S}});var r=e(994069),i=e(87072),a="smallMultiplesLayout",t="subheader";function l(E,u){return(E+1)*u}var g=2,n=2,p=l(g,n);function s(E){return r.ZA.check(u=>({matrix:u.check(E&&E.matrix,r.Gg,f=>({rows:u.check(f.rows,i.G8,b=>({select:u.check(b.select,(0,r.dp)(2),V=>[u.check(V[0],i.oJ,T=>({composite:u.check(T.composite,(0,r.dp)(1),P=>[u.check(P[0],i.mn,r.yR)]),dataReductionAlgorithm:T.dataReductionAlgorithm})),u.check(V[1],i.oJ,T=>({composite:u.check(T.composite,(0,r.dp)(1),P=>[u.check(P[0],i.mn,r.yR)]),dataReductionAlgorithm:T.dataReductionAlgorithm}))])})),columns:u.check(f.columns,i.mn,r.yR),values:u.check(f.values,i.G8,r.yR)})),metadata:E.metadata}))}function d(E){return r.ZA.check(u=>({matrix:u.check(E&&E.matrix,r.Gg,f=>({rows:u.check(f.rows,i.VV,b=>({select:u.check(b.select,(0,r.dp)(2),V=>[u.check(V[0],i.V3,T=>({composite:u.check(T.composite,(0,r.dp)(1),P=>[u.check(P[0],i.Ti,r.yR)]),dataReductionAlgorithm:T.dataReductionAlgorithm})),u.check(V[1],i.V3,T=>({composite:u.check(T.composite,(0,r.dp)(1),P=>[u.check(P[0],i.Ti,r.yR)]),dataReductionAlgorithm:T.dataReductionAlgorithm}))])})),columns:u.check(f.columns,i.Ti,r.yR)}))}))}function o(E){if(!_.isEmpty(E))for(var u of E)if(u.matrix&&d(u))return!0;return!1}function C(E){return E.matrix.rows.select[1].composite[0]}function S(E,u){E.matrix.rows.select[1].dataReductionAlgorithm=u}},911313:function(ve,j,e){e.d(j,{Gv:function(){return s},_9:function(){return g},c$:function(){return l},oq:function(){return v},sc:function(){return p},v9:function(){return n}});var r=e(650543),i=e(762329),a=e(370918),t=e(221e3);function l(m){return!(!m||!(m.text||m.bool||m.misc?.barcode||m.geography?.postalCode))}function g(m){return m&&!m.invert}function n(m){return!(!m||!m.dateTime)}function p(m,c,C){r.f.assertValue(m,"scale");var y=m(c)-m(C);return 0===y?0:y<0?Math.min(y,-1):Math.max(y,1)}function s(m,c,C,y){if(!C){var S=(0,i.Ym)();S.update(c-m),C=S.displayUnit&&S.displayUnit.value||1}var h=(m||0)/C,E=(c||0)/C;if(y){var u=(0,a.rH)(y,!1,!1,!0).partsPerScale;h*=u,E*=u}return Math.max(d(h),d(E))}function d(m){if(0===m)return 0;m<0&&(m=-m);var c=Math.floor((0,t.mv)(m));if(c>=0){var S=5-(c+1);return S<=0?0:o(m,S)}return c<-5?5:-c-1+o(m/(0,t.wA)(c+1),5)}function o(m,c){var C=m.toFixed(c),y=C.indexOf(".");if(-1!==y)for(var S=C.length;S-- >y;)if("0"!==C[S])return S-y;return 0}function v(m,c,C){m.each(function(){var y=d3.select(this);C(y.node(),c)})}},876713:function(ve,j,e){e.d(j,{v:function(){return n}});var r=e(79365),i=e(5496),a=e(650543),t=e(230343),l=e(562832),g=e(989259);class n{constructor(s,d,o,v,m){this.style=m,this.colors=s,this.fillProp=d,this.defaultDataPointColor=o,this.defaultCategoryColor=v,this.defaultColorScale=this.colors.getNewColorScale()}static create(s,d,o,v){return new n(s.colorPalette.dataColors,d,o,v,s)}getColorForSeriesValue(s,d,o,v,m){return this.style&&this.style.isHighContrast?n.getHighContrastDataColor(this.style,v):this.getFillWithOptionalValidation(s,m)||this.getColorWithOptionalValidation(this.defaultDataPointColor,m)||this.getColorScaleForSeries(d).getColor(o).value}getColorScaleForSeries(s){return this.colors.getColorScaleByKey((0,g.Gg)(s||[]))}getColorForStaticSeries(s,d,o,v){if(this.style&&this.style.isHighContrast)return n.getHighContrastDataColor(this.style,o);var m=this.defaultColorScale.getColor(d).value;return this.getFillWithOptionalValidation(s,v)||this.getColorWithOptionalValidation(this.defaultDataPointColor,v)||m}getColorForMeasure(s,d,o,v){if(this.style&&this.style.isHighContrast)return n.getHighContrastDataColor(this.style,o);var m=this.defaultColorScale.getColor(d).value;return this.getFillWithOptionalValidation(s,v)||this.getColorWithOptionalValidation(this.defaultCategoryColor,v)||this.getColorWithOptionalValidation(this.defaultDataPointColor,v)||m}getColorForProperty(s,d,o,v){var m=this.style&&o&&n.getThemeColor(this.style,o);return this.getColorForPropertyWithDefaultColor(s,d,m,v)}hasColorForProperty(s,d,o){return(0,t.bC)(s,d,o)}getColorForPropertyWithDefaultColor(s,d,o,v){return this.style&&this.style.isHighContrast?o:(0,t.W7)(s,d,o,v)}getColorForPropertyName(s,d,o){var v=this.style&&o&&n.getThemeColor(this.style,o);return this.getColorForPropertyNameWithDefaultColor(s,d,v)}getColorForPropertyNameWithDefaultColor(s,d,o,v){var m=this.style&&this.style.isHighContrast,c=(0,l.y)(s,d,o,void 0,v);return v&&null===c?null:m?o:c}static getSentimentColor(s,d,o){return s.isHighContrast?n.getHighContrastDataColor(s,o):s.colorPalette.dataColors.getSentimentColors()[d].value}static getGradientColor(s,d,o){return s.isHighContrast?n.getHighContrastDataColor(s,o):s.colorPalette.dataColors.getGradientColors()[d].value}static getDataColorByIndex(s,d,o){return s.isHighContrast?n.getHighContrastDataColor(s,o):s.colorPalette.dataColors.getColorByIndex(d).value}static getThemeColor(s,d){return s.colorPalette[d].value}static getFillColor(s,d,o){return s.isHighContrast?n.getHighContrastDataColor(s,o):d&&d.solid&&d.solid.color}static normalizeSelector(s,d){return a.f.assertAnyValue(s,"selector"),s&&(d||s.data)?{data:s.data}:s}static getHighContrastDataColor(s,d=i.U){return s.colorPalette[d].value}getFillWithOptionalValidation(s,d){var o=this.fillProp&&(0,t.W7)(s,this.fillProp);return d&&o&&!(0,r.WV)(o)&&(o=void 0),o}getColorWithOptionalValidation(s,d){var o=s;return d&&s&&!(0,r.WV)(s)&&(o=void 0),o}}},470928:function(ve,j,e){e.d(j,{BS:function(){return w},Bo:function(){return M},Cr:function(){return A},FJ:function(){return n},In:function(){return Q},L0:function(){return y},LV:function(){return ke},M3:function(){return x},NL:function(){return k},NZ:function(){return O},OW:function(){return h},Pd:function(){return Z},Pq:function(){return E},Q2:function(){return Ke},Qc:function(){return I},TS:function(){return v},UU:function(){return l},Uy:function(){return S},Vr:function(){return C},WV:function(){return K},ZL:function(){return Ve},_i:function(){return J},bL:function(){return we},bN:function(){return Ae},d1:function(){return N},go:function(){return p},i1:function(){return R},iX:function(){return L},ki:function(){return m},lp:function(){return D},oA:function(){return ot},pJ:function(){return ft},pl:function(){return P},qy:function(){return g},r_:function(){return d},rp:function(){return G},u9:function(){return Ue},uM:function(){return B},uQ:function(){return T},vo:function(){return z},wh:function(){return c},xb:function(){return q},xy:function(){return H}});var r=e(62414),i=e(902186),a=e(82372),t=e(759167),l=9,g=8,n=8,p=50,d=.3,v=6,m=8,c=8,C=50,y="0.00 %;-0.00 %;0.00 %",S=9,h=i.Wn.regularSecondary.css,E=i.Wn.regular.css,V="normal",T="foregroundNeutralSecondaryAlt",P="foregroundLight",D="backgroundDark",w=.9,M=4,A=2,R=4,B=4,N=2,O=void 0,x=void 0,I=void 0,L=void 0,K=void 0,z=15,H=0,J=1,k=50,G=0,q=400,Q=-1,Z=1,Ve=((0,t.CH)("labels"),(0,t.CH)("lines"),(0,t.CH)("data-labels"),(0,t.CH)("line-label"),(0,t.CH)("labelGraphicsContext")),ke=(0,t.CH)("labelContainerGraphicsContext"),Ue=(0,t.CH)("labelBackgroundGraphicsContext"),ot=(0,t.CH)("labelSeriesGraphicsContext"),ft=(0,t.CH)("labelSeriesBackgroundGraphicsContext"),Ct="\u0591-\u07ff\u200f\u202b\u202e\ufb1d-\ufdfd\ufe70-\ufefc",Ke=new RegExp(`^[^${Ct}]*?[${Ct}]`),Ae={fontFamily:i.Wn.regularSecondary.css,fontSize:r.FP.fromPoint(S),fontWeight:V},we={family:h,size:a.B.createFromPt(S),weight:V,style:null,textDecoration:null}},738942:function(ve,j,e){e.d(j,{K0:function(){return p},XS:function(){return g},kV:function(){return s},n$:function(){return l}});var r=e(318456),i=e(650543),a=e(147818),t=e(951202);function l(d){return d&&d.categorical&&d.categorical.categories&&d.categorical.categories.length>1}function g(d){if(function(d){if(_.isEmpty(d))return!1;var o=_.some(d,v=>{var m=v.categorical;if(!m)return!1;if(!m.categories)return!1;var C=m.values;return!(!(C&&C.group&&C.group.by)||_.isEmpty(C.group.by.items))});return!o}(d))for(var v of d){if(!v.categorical)return;var m=v.categorical.categories;if(!m||!m.dataReductionAlgorithm||!m.dataReductionAlgorithm.window)return;m.dataReductionAlgorithm={window:{count:1e3}}}}function p(d){for(var o of(i.f.assertNonEmpty(d,"mappings"),d))(0,t.Sr)(o.categorical.categories,{visitRole:m=>{var c=m.items;if(!_.isEmpty(c)&&!_.isEmpty(m.activeItems)){var C=_.filter(c,S=>_.includes(m.activeItems,S.queryName));for(var y of C)y.filteredToUniqueValueProperty=a.cartesianChartProps.filters.filteredToUniqueValue}}})}function s(d,o,v=r.S.Ascending){var m=function(){if(!(C&&C.categorical&&C.categorical.categories&&C.metadata))return 0;var y=C.metadata.columns,S=C.categorical.categories;if(_.some(y,h=>void 0!==h.sort))return 0;(0,t.Sr)(S,{visitRole:(h,E)=>{if(_.includes(o,h.role)){var u=h.activeItems;if(!_.isEmpty(u)){var f=0,b=function(T){var P=_.find(y,D=>D.queryName===T);P&&(P.sort=v,P.sortOrder=f++)};for(var V of u)b(V)}}}})};for(var C of d)m()}},657333:function(ve,j,e){e.d(j,{F:function(){return a},l:function(){return i}});var r=e(650543),i=function(t){return t[t.Invalid=0]="Invalid",t[t.Enabled=1]="Enabled",t[t.Disabled=2]="Disabled",t}({});class a{constructor(l,g,n,p){this.matchObjectName=l,this.matchPropertyName=g,this.relatedTopLevelToggleValue=n,this.hasSelector=p,this.disabledBehaviorChanges=[],this.enabledBehaviorChanges=[]}onToggleDisabled(...l){return this.disabledBehaviorChanges.push(...l),this}onToggleEnabled(...l){return this.enabledBehaviorChanges.push(...l),this}getBehaviorChanges(l){switch(l){case i.Disabled:return this.disabledBehaviorChanges;case i.Enabled:return this.enabledBehaviorChanges;default:r.f.assertNever(l)}}updateBehaviorChanges(l,g){switch(l){case i.Disabled:this.disabledBehaviorChanges.forEach(n=>n.updateChange(g));break;case i.Enabled:this.enabledBehaviorChanges.forEach(n=>n.updateChange(g));break;default:r.f.assertNever(l)}}getToggleBehaviorType(l){return this.relatedTopLevelToggleValue&&!l.propertyValue?i.Disabled:!this.relatedTopLevelToggleValue&&l.propertyValue?i.Enabled:i.Invalid}isMatchingVisualObjectChange(l){return l.objectName===this.matchObjectName&&l.propertyName===this.matchPropertyName&&!!l.selector===this.hasSelector}}},415009:function(ve,j,e){e.d(j,{$:function(){return i}});var r=e(657333);class i extends r.F{constructor(t,l,g){super(t,l,g,!1)}static create(t,l){return new i(t.objectName,t.propertyName,l)}getChanges(t){if(this.isMatchingVisualObjectChange(t)){var l=this.getToggleBehaviorType(t);if(l!==r.l.Invalid)return this.updateBehaviorChanges(l,t),this.getBehaviorChanges(l)}return[]}}},334937:function(ve,j,e){e.d(j,{o:function(){return r}});class r{static getDataViewObjectsBehaviorChanges(a,t){var l=[];for(var g of a)for(var n of t)l.unshift(...n.getChanges(g));return l}static applyDataViewObjectsBehaviorChanges(a,t){var l=[...a];for(var g of t)l=g.applyChange(l);return l}}},949319:function(ve,j,e){e.d(j,{W:function(){return r}});class r{constructor(a,t,l){this.visualObjectChange=a,this.required=t,this.shouldInheritSelector=l}static createBooleanDataViewObjectChange(a,t,l){var g={...a,propertyValue:t,propertyType:{bool:!0}};return r.create(g,l)}static createRevertToDefaultDataViewObjectChange(a,t){return r.create({objectName:a,propertyName:"revertToDefault",propertyValue:void 0,propertyType:{bool:!0}},t)}static createColorDataViewObjectChange(a,t,l){var g={...a,propertyValue:{value:t},propertyType:{fill:{solid:{color:!0}}}};return r.create(g,l)}static createNumericDataViewObjectChange(a,t,l){var g={...a,propertyValue:t,propertyType:{numeric:!0}};return r.create(g,l)}static create(a,t){return t?.selector&&(a.selector=t.selector),new r(a,t?.required,t?.inheritSelector)}applyChange(a){return a.push(this.visualObjectChange),a}updateChange(a){this.shouldInheritSelector&&(this.visualObjectChange.selector=a.selector)}}},625112:function(ve,j,e){function r(a){if(a)return!!a.handled}function i(a){a&&(a.handled=!0)}e.d(j,{n:function(){return i},q:function(){return r}})},992627:function(ve,j,e){e.d(j,{ED:function(){return o},E_:function(){return y},JZ:function(){return c},XH:function(){return p},Zi:function(){return s},jB:function(){return E},qk:function(){return v},wB:function(){return m},xH:function(){return h}});var r=e(759167),i=e(650543),a=e(896286),t=e(62414),l=e(562832),g=e(642036),n=e(82372);function p(f,b,V,T,P){var D=d(f,b,V,T,P);return P?o(P,D):D}function s(f,b,V,T,P,D,w,M){var A=d(f,b,V,void 0),R=(0,g.m)(T,D),B=R;if(b.color){var N=V.getColorForPropertyName(f,b.color,P);B=M?o(R,{color:N}):o({color:N},R)}return w&&(B=o(w,B)),B?o(B,A):A}function d(f,b,V,T,P){i.f.assertValue(b,"propertyNames");var D,w=b.weight&&(0,l.N)(f,b.weight),M=b.style&&(0,l.N)(f,b.style),A=b.underline&&(0,l.N)(f,b.underline);if(b.size){var R=(0,l.N)(f,b.size);null!=R&&(D=b.sizeInPixels?n.B.createFromPx(+R):n.B.createFromPt(+R))}if(b.bold){var B=(0,l.N)(f,b.bold);B??P?.weight===r.en?w=r.en:!1===B&&(w=null)}if(b.italic){var F=(0,l.N)(f,b.italic);F??P?.style===r.BF?M=r.BF:!1===F&&(M=null)}if(b.underline){var x=(0,l.N)(f,b.underline);x??P?.textDecoration===r.f0?A=r.f0:!1===x&&(A=null)}return{color:b.color&&V.getColorForPropertyName(f,b.color,T),family:b.family&&(0,l.N)(f,b.family),lineHeight:b.lineHeight&&(0,l.N)(f,b.lineHeight),size:D,style:M,variant:b.variant&&(0,l.N)(f,b.variant),weight:w,whiteSpace:b.whiteSpace&&(0,l.N)(f,b.whiteSpace),textDecoration:A}}function o(f,b){i.f.assertValue(f,"fontProperties");var V=(0,a.ED)(f);return b&&((b.color||null===b.color)&&(V.color=b.color),b.family&&(V.family=b.family),b.lineHeight&&(V.lineHeight=b.lineHeight),b.size&&(V.size=b.size),(b.style||null===b.style)&&(V.style=b.style),b.variant&&(V.variant=b.variant),(b.weight||null===b.weight)&&(V.weight=b.weight),b.whiteSpace&&(V.whiteSpace=b.whiteSpace),(b.textDecoration||null===b.textDecoration)&&(V.textDecoration=b.textDecoration)),V}function v(f,b,V){return i.f.assertValue(f,"fontProperties"),V&&(f=S(f)),{text:b,fontFamily:f.family,fontSize:f.size?t.FP.toString(f.size.px):void 0,fontWeight:f.weight,fontStyle:f.style,fontVariant:f.variant,whiteSpace:f.whiteSpace}}function m(f){i.f.assertValue(f,"fontProperties");var b={};return f.color&&(b.color=f.color),f.family&&(b["font-family"]=f.family),f.lineHeight&&(b["line-height"]=f.lineHeight),f.size&&(b["font-size"]=f.size?t.FP.toString(f.size.px):void 0),f.variant&&(b["font-variant"]=f.variant),f.whiteSpace&&(b["white-space"]=f.whiteSpace),b["font-weight"]=f.weight?f.weight:null,b["font-style"]=f.style?f.style:null,b["text-decoration"]=f.textDecoration?f.textDecoration:null,b}function c(f,b){return i.f.assertValue(f,"fontProperties"),i.f.assertValue(b,"element"),function(f,b){i.f.assertValue(f,"fontProperties"),i.f.assertValue(b,"style"),f.color&&(b.fill=f.color),f.family&&(b.fontFamily=f.family),f.lineHeight&&(b.lineHeight=f.lineHeight),f.size&&(b.fontSize=f.size?t.FP.toString(f.size.px):void 0),f.style&&(b.fontStyle=f.style),f.variant&&(b.fontVariant=f.variant),f.weight&&(b.fontWeight=f.weight),f.whiteSpace&&(b.whiteSpace=f.whiteSpace)}(f,b.style),b}function y(f){i.f.assertValue(f,"fontProperties");var b={};return f.color&&(b.fill=f.color),f.family&&(b["font-family"]=f.family),f.lineHeight&&(b["line-height"]=f.lineHeight),f.size&&(b["font-size"]=f.size?t.FP.toString(f.size.px):void 0),f.variant&&(b["font-variant"]=f.variant),f.whiteSpace&&(b["white-space"]=f.whiteSpace),b["font-weight"]=f.weight?f.weight:null,b["font-style"]=f.style?f.style:null,b["text-decoration"]=f.textDecoration?f.textDecoration:null,b}function S(f,b=0){for(var V={},T=Object.getPrototypeOf({}),P=0;P<=b&&null!=f&&f!==T;P++)_.forOwn(f,(D,w)=>{void 0===V[w]&&(V[w]=D)}),f=Object.getPrototypeOf(f);return V}function h(f){return S(f,Number.MAX_VALUE)}function E(f){return{color:b=>f(b).color,"font-family":b=>f(b).family,"font-size":b=>f(b).size?t.FP.toString(f(b).size.px):void 0,"font-style":b=>f(b).style,"font-variant":b=>f(b).variant,"font-weight":b=>f(b).weight,"white-space":b=>f(b).whiteSpace,"text-decoration":b=>f(b).textDecoration}}},203032:function(ve,j,e){e.d(j,{Np:function(){return l},UD:function(){return p},Wl:function(){return n},ZJ:function(){return r},l5:function(){return g},nE:function(){return t},sx:function(){return i},tc:function(){return a}});var r=function(s){return s.Page="Page",s.Visual="Visual",s.General="Format_Label_General",s.Analytics="Analytics",s}({}),i=function(s){return s.AxisZoom="zoom",s.Bars="bars",s.Breakdown="breakdown",s.CategoryAxis="categoryAxis",s.ExpansionIcon="expansionIcon",s.SelectionIcon="selectionIcon",s.ErrorBars="errorBars",s.Gridlines="gridlines",s.Layout="layout",s.Legend="legend",s.Lines="lines",s.LineStyles="lineStyles",s.ShadeArea="shadeArea",s.Markers="markers",s.PlotBackground="plotBackground",s.RibbonChart="ribbonChart",s.SentimentColors="sentimentColors",s.SmallMultiples="smallMultiples",s.SmallMultiplesLayout="smallMultiplesLayout",s.Subheader="subheader",s.ValueAxis="valueAxis",s.Y2Axis="y2Axis",s.Axis="axis",s.BlankRows="blankRows",s.Buttons="buttons",s.CalloutValue="calloutValue",s.CalloutValues="Visual_CallOutValues",s.Card="card",s.ColumnFormatting="columnFormatting",s.ColumnHeaders="columnHeaders",s.ColumnSubtotal="columnSubTotal",s.ColumnGrandTotal="columnTotal",s.Datapoint="datapoint",s.Date="date",s.FillColors="fillColors",s.Grid="grid",s.Hierarchy="hierarchy",s.Icons="icons",s.InputTextBox="inputTextBox",s.ImageHeight="imageHeight",s.Images="images",s.MapSettings="mapSettings",s.PercentBarLabel="percentBarLabel",s.Rotation="rotation",s.RowHeaders="rowHeaders",s.RowSubtotal="rowSubTotal",s.RowGrandTotal="rowTotal",s.Selection="selection",s.SlicerHeader="slicerHeader",s.SlicerSettings="slicerSettings",s.Slices="slices",s.Slider="slider",s.Sparklines="sparklines",s.StrokeColor="strokeColor",s.Target="target",s.TargetLabel="targetLabel",s.TrendAxis="trendAxis",s.UrlIcon="urlIcon",s.Values="values",s.MapControls="mapControls",s.Styles="styles",s.Controls="controls",s.DefaultStyle="defaultStyle",s.WorldWrap="worldWrap",s.ShowStylePicker="showStylePicker",s.ShowNavigationControls="showNavigationControls",s.ShowSelectionControl="showSelectionControl",s.GeocodingCulture="geocodingCulture",s.CategoryLabels="categoryLabels",s.Colors="colors",s.ConditionalFormatting="conditionalFormatting",s.Labels="labels",s.SeriesLabels="seriesLabels",s.Title="title",s.TotalLabels="totals",s.VisualPlaceholderCard="visualPlaceholderCard",s.Shape="shape",s.ShapeStyle="shapeStyle",s.ButtonStyle="buttonStyle",s.SizeAndStyle="sizeAndStyle",s.Style="style",s.Text="text",s.Accessibility="accessibility",s.Anomaly="anomaly",s.Forecast="forecast",s.PlotAreaShading="plotAreaShading",s.RatioLine="ratioLine",s.ReferenceLineMin="referenceLine-minLine",s.ReferenceLineMax="referenceLine-maxLine",s.ReferenceLineAverage="referenceLine-averageLine",s.ReferenceLineMedian="referenceLine-medianLine",s.ReferenceLinePercentile="referenceLine-percentileLine",s.TrendLine="trendLine",s.XAxisReferenceLine="xAxisReferenceLine",s.Y1AxisReferenceLine="y1AxisReferenceLine",s.ReferenceLine="referenceLine",s}({}),a=function(s){return s.AltTextRowHeaders="AltTextRowHeaders",s.AltTextColumnHeaders="AltTextColumnHeaders",s.AltTextValues="AltTextValues",s.ApplySettingsTo="applySettingsTo",s.Axis="axis",s.Background="background",s.Band="band",s.Bar="bar",s.Bars="bars",s.BlankAreas="blankAreas",s.Border="border",s.Breakdown="breakdown",s.CalloutValue="calloutValue",s.CategoryLabels="categoryLabels",s.CellElements="cellElements",s.Colors="colors",s.Columns="columns",s.DataLabels="labels-applySettingsTo-series",s.Datapoint="datapoint",s.Date="date",s.Default="default",s.DefaultColor="defaultColor",s.Detail="detail",s.Distance="distance",s.Divider="divider",s.ExpandCollapseButtons="expandCollapseButtons",s.Fill="fill",s.Glow="glow",s.GridHorizontal="gridHorizontal",s.Gridlines="gridlines",s.GridVertical="gridVertical",s.Handles="handles",s.Horizontal="horizontal",s.Icon="icon",s.Icons="icons",s.ImageHeight="imageHeight",s.Labels="labels",s.Layout="layout",s.Legend="legend",s.LeaderLine="leaderLine",s.Levels="levels",s.Lines="lines-applySettingsTo-series",s.Markers="markers",s.MarkersSeries="markers-applySettingsTo-series",s.Options="options",s.Outline="outline",s.PendingChangesIcon="pendingChangesIcon",s.PercentBarLabel="percentBarLabel",s.PrimaryLine="primaryLine",s.Range="range",s.Rows="rows",s.rowWithReferenceText="rowWithReferenceText",s.SecondaryLine="secondaryLine",s.Selection="selection",s.SelectionIcon="selectionIcon",s.SeriesLabels="seriesLabels-applySettingsTo-series",s.ShadeArea="shadeArea",s.Shadow="shadow",s.Shape="shape",s.SizeAndStyle="sizeAndStyle",s.Spacing="spacing",s.Sparklines="sparklines",s.Style="style",s.SubTitle="subtitle",s.Target="target",s.Text="text",s.Title="title",s.Tooltip="tooltip",s.Totals="totals",s.TrendAxis="trendAxis",s.Type="type",s.UrlIcon="urlIcon",s.Values="values",s.ValuesScalar="valuesScalar",s.Vertical="vertical",s.VisualPlaceholderGroup="visualPlaceholderGroup",s.VisualBorder="visualBorder",s.Zoom="zoom",s.Anomaly="anomaly",s.ConfidenceBand="confidenceband",s.ConfidenceArea="confidenceArea",s.ConfidenceLine="confidenceLine",s.DataLabel="dataLabel",s.ExpectedRange="expectedrange",s.ForecastLine="forecastline",s.Line="line",s.Measure="measure",s.TooltipTitle="tooltipTitle",s}({}),t=function(s){return s.Area="area",s.Background="background",s.Bars="bars",s.Bubbles="bubbles",s.CalloutValue="callout-value",s.CalloutLabel="callout-label",s.Category="category",s.CategoryLabels="category-labels",s.Columns="columns",s.ColumnHeaders="columnHeaders",s.Controls="controls",s.DataLabels="data-labels",s.DecreaseFill="decrease-fill",s.Divider="divider",s.Fill="fill",s.GridCellSubheader="grid-cell-subheader",s.HorizontalGridlines="horizontal-gridlines",s.IncreaseFill="increase-fill",s.SecondaryHorizontalGridlines="secondary-horizontal-gridlines",s.LegendItems="legend-items",s.LegendTitle="legend-title",s.Lines="lines",s.Map="map",s.Markers="markers",s.MeasureValues="measure-values",s.OtherFill="other-fill",s.Ribbon="ribbon",s.RowHeaders="rowHeaders",s.Percents="percents",s.SeriesLabels="series-labels",s.Slices="slices",s.SmallMultiplesGridlines="small-multiples-gridlines",s.SubTitle="subtitle",s.SubTotalColumn="subtotal-column",s.SubTotalRow="subtotal-row",s.SubTotalRowLabels="subtotal-row-labels",s.Target="target",s.TargetLabel="target-label",s.Tile="tile",s.Title="title",s.Totals="totals",s.TotalColumn="total-column",s.TotalColumnLabels="total-column-labels",s.TotalFill="total-fill",s.TotalRow="total-row",s.TotalRowLabels="total-row-labels",s.TotalLabels="total-labels",s.Values="values",s.VerticalGridlines="vertical-gridlines",s.VisualArea="visual-area",s.XAxisTitle="x-axis-title",s.XAxisValues="x-axis-values",s.XAxisZoomSlider="x-axis-zoom-slider",s.Y1AxisTitle="y1-axis-title",s.Y1AxisValues="y1-axis-values",s.Y1AxisZoomSlider="y1-axis-zoom-slider",s.Y2AxisTitle="y2-axis-title",s.Y2AxisValues="y2-axis-values",s.Y2AxisZoomSlider="y2-axis-zoom-slider",s}({}),l=Object.freeze({[t.Background]:10,[t.Title]:20,[t.LegendTitle]:30,[t.LegendItems]:40,[t.Y1AxisTitle]:50,[t.Y1AxisValues]:60,[t.Y1AxisZoomSlider]:70,[t.Y2AxisTitle]:80,[t.Y2AxisValues]:90,[t.Y2AxisZoomSlider]:100,[t.XAxisValues]:110,[t.XAxisTitle]:120,[t.XAxisZoomSlider]:130,[t.HorizontalGridlines]:140,[t.VerticalGridlines]:150,[t.Lines]:1e3,[t.Markers]:1010,[t.Columns]:1020,[t.Bars]:1030,[t.DataLabels]:1040,[t.TotalLabels]:1050,[t.SeriesLabels]:1060,[t.CategoryLabels]:1070}),g=1e3,n=999999,p="#FFF"},544211:function(ve,j,e){e.d(j,{Kj:function(){return T},Q1:function(){return m},Rr:function(){return v},Vn:function(){return u},Wt:function(){return E},Ym:function(){return h},Zn:function(){return d},_8:function(){return S},d9:function(){return C},jT:function(){return P},qG:function(){return f},yj:function(){return o},yw:function(){return y}});var r=e(79365),i=e(650543),a=e(146300),t=e(719242),l=e(442407),g=e(392617),n=g.LX,p="dataPoint",s="fillRule";function d(U){if(U)for(var O in U){var x=U[O];for(var I in x.properties){var L=x.properties[I];if(L.type&&L.type[s])return L.rule}}}function o(U){if(U&&U.values&&U.values.grouped){var O=U.values.grouped();return(0,a.a2)(O,"Gradient")}return-1}function v(U){if(null==U)return null;var O=o(U);return-1===O?null:U.values[O]}function m(U){return o(U)>=0}function C(){return{diverging:!1,minColor:null,midColor:null,maxColor:null,minValue:void 0,midValue:void 0,maxValue:void 0,nullStrategy:n,nullColor:null}}function y(){return P()}function S(U,O,x){var K,z,I=(0,t.zx)(x,p,null),L=u(x);if(L)switch($.isNumeric(O)&&(K=void 0!==O?(0,l.tx)(+O):void 0),_.includes(["minColor","midColor","maxColor","nullColor"],U)&&(z=(0,l.$_)(O&&O.value,U)),U){case"minColor":!function(U,O){U.linearGradient2?U.linearGradient2.min.color=O:U.linearGradient3&&(U.linearGradient3.min.color=O)}(L,z);break;case"midColor":!function(U,O){U.linearGradient3&&(U.linearGradient3.mid.color=O)}(L,z);break;case"maxColor":!function(U,O){U.linearGradient2?U.linearGradient2.max.color=O:U.linearGradient3&&(U.linearGradient3.max.color=O)}(L,z);break;case"nullColor":!function(U,O){U.linearGradient2?U.linearGradient2.nullColoringStrategy.color=O:U.linearGradient3&&(U.linearGradient3.nullColoringStrategy.color=O)}(L,z);break;case"minValue":!function(U,O){U.linearGradient2?U.linearGradient2.min.value=O:U.linearGradient3&&(U.linearGradient3.min.value=O)}(L,K);break;case"midValue":!function(U,O){U.linearGradient3&&(U.linearGradient3.mid.value=O)}(L,K);break;case"maxValue":!function(U,O){U.linearGradient2?U.linearGradient2.max.value=O:U.linearGradient3&&(U.linearGradient3.max.value=O)}(L,K);break;case"nullStrategy":!function(U,O){U.linearGradient2?U.linearGradient2.nullColoringStrategy.strategy=O:U.linearGradient3&&(U.linearGradient3.nullColoringStrategy.strategy=O)}(L,O);break;case"diverging":L=O?{linearGradient3:_.assign({mid:{color:(0,l.$_)(null,"midColor")}},L.linearGradient2)}:{linearGradient2:L.linearGradient3},I.properties[s]=L;break;case"revertToDefault":L=y(),I.properties[s]=L;break;default:i.f.assertFail(`updateFillRule - Unexpected propertyName: ${U}`)}}function h(U){return U?f(U):C()}function E(U){return U?function(U){var O,x,I,L,K,z,H,J=n,k=void 0!==U.linearGradient3,G=U?.linearGradient2,q=U?.linearGradient3;G?(O=G.max?.color,x=G.min?.color,K=G.max?.value,H=G.min?.value,J=G.nullColoringStrategy?.strategy,L=G.nullColoringStrategy?.color):q&&(O=q.max?.color,I=q.mid?.color,x=q.min?.color,K=q.max?.value,z=q.mid?.value,H=q.min?.value,J=q.nullColoringStrategy?.strategy,L=q.nullColoringStrategy?.color);var Q={diverging:k,minColor:V(x),midColor:V(I),maxColor:V(O),nullStrategy:J,nullColor:V(L)};return null!=H&&(Q.minValue=H),null!=z&&(Q.midValue=z),null!=K&&(Q.maxValue=K),Q}(U):C()}function u(U){return(0,t.NA)(U,{objectName:p,propertyName:s},null)}function f(U){var O,x,I,L,K,z,H,Q,J=n,G=U.linearGradient2,q=U.linearGradient3;if(G){O=G.max.color.value,x=G.min.color.value;var Z=G.max.value;Z&&(K=Z.value);var X=G.min.value;X&&(H=X.value),Q=G.nullColoringStrategy}else if(q){O=q.max.color.value,I=q.mid.color.value,x=q.min.color.value;var re=q.max.value;re&&(K=re.value);var te=q.mid.value;te&&(z=te.value);var se=q.min.value;se&&(H=se.value),Q=q.nullColoringStrategy}if(Q){J=Q.strategy.value;var Ve=Q.color;Ve&&(L=Ve.value)}var ke={diverging:void 0!==U.linearGradient3,minColor:V(x),midColor:V(I),maxColor:V(O),nullStrategy:J,nullColor:V(L)};return null!=H&&(ke.minValue=H),null!=z&&(ke.midValue=z),null!=K&&(ke.maxValue=K),ke}function V(U){if((0,r.A7)(U))return U}function T(U,O){var x=[];return x.push(U.minColor||O.minColor.value),U.diverging&&x.push(U.midColor||O.midColor.value),x.push(U.maxColor||O.maxColor.value),x.join(",")}function P(U){var O=h(U),x={linearGradient2:{min:{color:(0,l.$_)(O.minColor,"minColor")},max:{color:(0,l.$_)(O.maxColor,"maxColor")},nullColoringStrategy:{strategy:(0,l.fL)(O.nullStrategy)}}},I=x.linearGradient2;return null!=O.minValue&&(I.min.value=(0,l.tx)(O.minValue)),null!=O.maxValue&&(I.max.value=(0,l.tx)(O.maxValue)),O.nullStrategy===g.Sx&&(I.nullColoringStrategy.color=(0,l.$_)(O.nullColor,"nullColor")),x}},101685:function(ve,j,e){e.d(j,{A$:function(){return b},BV:function(){return P},FO:function(){return S},FW:function(){return M},I8:function(){return u},Jv:function(){return W},Ku:function(){return y},OW:function(){return D},TY:function(){return R},US:function(){return w},W3:function(){return T},XM:function(){return O},Xt:function(){return h},YG:function(){return c},a0:function(){return m},bt:function(){return s},c8:function(){return U},ct:function(){return x},kW:function(){return B},lq:function(){return C},lt:function(){return o},tn:function(){return I},to:function(){return v},wf:function(){return f},zV:function(){return N}});var r=e(418431),i=e(149222),a=e(246626),t=e(691022),l=e(625112);function s(){var L=d3.event;return{x:L.clientX,y:L.clientY}}var d="keydown.clearCatcher";function o(L,K){L.on(d,()=>{var z=d3.event;z.keyCode===r.mW.cKeyCode&&z.ctrlKey&&z.shiftKey&&(K.handleClearSelection(),z.preventDefault(),z.stopPropagation())})}function v(L){L.on(d,null)}function m(L,K){c(L,K),D(L,K)}function c(L,K){L.on("click",z=>{U(h(z)?z.data:z,K)}),L.on("keydown.select",z=>{var H=d3.event,J=H.keyCode;J!==r.mW.spaceKeyCode&&J!==r.mW.enterKeyCode||(U(h(z)?z.data:z,K),H.preventDefault(),H.stopPropagation())},!0)}function C(L){L.on("click",null),L.on("keydown.select",null)}function y(L){L.on("contextmenu",null)}function S(L){C(L),y(L)}function h(L){return!!L.data}var E="keydown.dataPoint";function u(L,K,z){L.on(E,()=>{var H=d3.event,J=H.keyCode;(J===r.mW.tabKeyCode||J===r.mW.leftArrowKeyCode||J===r.mW.rightArrowKeyCode||J===r.mW.upArrowKeyCode||J===r.mW.downArrowKeyCode)&&(B(k=>{H.preventDefault(),H.stopPropagation();var G=b(k)?k.data:k;K.handleKeyDownEvent(z,G.categoryIndex,G.seriesIndex,J,H.shiftKey)},void 0),d3.select(document.activeElement).dispatch("moveToolTipWithKeyboardAction",{bubbles:!0,cancelable:!1,detail:void 0}))})}function f(L){L.on(E,null)}function b(L){return!!L.data}var V="keydown.enterPlotArea";function T(L,K,z){L.on(V,()=>{var H=d3.event,J=H.keyCode;if(J===r.mW.enterKeyCode)H.preventDefault(),H.stopPropagation(),K.goToFirstElement(z);else if(J===r.mW.escKeyCode&&H.target!==L.node()){H.preventDefault(),H.stopPropagation();var k=L.node();i.M.focus(k)}})}function P(L){L.on(V,null)}function D(L,K){L.on("contextmenu",z=>{F(h(z)?z.data:z,K)})}function w(L,K,z){(function(L,K,z){L.on(K.node(),"click",()=>{B(H=>{U(h(H)?H.data:H,z)},void 0)}),L.on(K.node(),"keydown.select",()=>{var J=d3.event.keyCode;(J===r.mW.spaceKeyCode||J===r.mW.enterKeyCode)&&B(k=>{U(h(k)?k.data:k,z)},!0)},!0)})(L,K,z),R(L,K,z)}function M(L,K){L.on(K.node(),"click",()=>null),L.on(K.node(),"keydown.select",()=>null)}function R(L,K,z){L.on(K.node(),"contextmenu",()=>{B(H=>{F(h(H)?H.data:H,z)},void 0)})}function B(L,K){var z=d3.event,J=d3.select(z.target).datum();J&&(L(J),K&&(z.preventDefault(),z.stopPropagation()))}function N(L,K,z,H){L.selectAll("use").remove(),L.append("use").attr("href",`#${t.aY}-${K}-${z}`).style("pointer-events","none").attr("role",H??null).attr("aria-hidden",!0).style("fill","none")}function W(L){L.selectAll("use").remove()}function F(L,K){var z=d3.event;if(!i.M.isCtrlOrMeta(z)){z.preventDefault(),(0,l.n)(z);var H=s();K.handleContextMenu(L,H)}}function U(L,K){var z=s(),H=d3.event;(function(L){L.selectionHandled=!0})(H),K.handleSelection(L,(0,i.D)(H),z)}function O(L,K){var z=d3.event;!i.M.isCtrlOrMeta(z)&&!function(L){return!!L.selectionHandled}(z)&&(!K||K?.(z))&&L.handleClearSelection()}function x(L,K,z){var H=a.i.Single;i.M.isCtrlOrMeta(L)?H=a.i.Difference:L.shiftKey&&(H=a.i.Union),z.handleMultipleSelection(K,H,!0)}function I(L,K,z){z.handleMultipleSelection(L,K,!0)}},633953:function(ve,j,e){e.d(j,{_6:function(){return i},jz:function(){return y},sq:function(){return c},zl:function(){return C}});var r=e(650543),i=function(S){return S[S.Small=0]="Small",S[S.Big=1]="Big",S}({}),a="powervisuals-glyph",t="big-kpi",l=["kpi-red","kpi-yellow","kpi-green"],g={kpiIconClass:"circle",statusValues:l},n={kpiIconClass:"",statusValues:["circle-x kpi-red","circle-exclamation kpi-yellow","circle-checkmark kpi-green"]},p={kpiIconClass:"traffic-light",statusValues:l},s={kpiIconClass:"",statusValues:["rhombus kpi-red","triangle kpi-yellow","circle kpi-green"]},d={kpiIconClass:"",statusValues:["circle-empty","circle-one-quarter","circle-half","circle-three-quarters","circle-full"]},o={"THREE CIRCLES COLORED":g,"TRAFFIC LIGHT - SINGLE":g,"THREE FLAGS COLORED":{kpiIconClass:"flag",statusValues:l},"ROAD SIGNS":n,"THREE SYMBOLS CIRCLED COLORED":n,"TRAFFIC LIGHT":p,"THREE TRAFFIC LIGHTS RIMMED COLORED":p,"THREE SYMBOLS UNCIRCLED COLORED":{kpiIconClass:"",statusValues:["x kpi-red","exclamation kpi-yellow","checkmark kpi-green"]},SHAPES:s,"SMILEY FACE":s,THERMOMETER:s,CYLINDER:s,"THREE SIGNS COLORED":s,"THREE STARS COLORED":{kpiIconClass:"star-stacked",statusValues:["star-empty","star-half-full","star-full"]},"FIVE BARS COLORED":{kpiIconClass:"bars-stacked",statusValues:["bars-zero","bars-one","bars-two","bars-three","bars-four"]},"FIVE BOXES COLORED":{kpiIconClass:"boxes-stacked",statusValues:["boxes-zero","boxes-one","boxes-two","boxes-three","boxes-four"]},"FIVE QUARTERS COLORED":d,"GAUGE - ASCENDING":d,"GAUGE - DESCENDING":{kpiIconClass:"",statusValues:["circle-full","circle-three-quarters","circle-half","circle-one-quarter","circle-empty"]},"STANDARD ARROW":{kpiIconClass:"",statusValues:["arrow-down","arrow-right-down","arrow-right","arrow-right-up","arrow-up"]},"VARIANCE ARROW":{kpiIconClass:"",statusValues:["arrow-down kpi-red","arrow-right kpi-yellow","arrow-up kpi-green"]},"STATUS ARROW - ASCENDING":{kpiIconClass:"",statusValues:["arrow-down kpi-red","arrow-right-down kpi-yellow","arrow-right kpi-yellow","arrow-right-up kpi-yellow","arrow-up kpi-green"]},"STATUS ARROW - DESCENDING":{kpiIconClass:"",statusValues:["arrow-up kpi-green","arrow-right-up kpi-yellow","arrow-right kpi-yellow","arrow-right-down kpi-yellow","arrow-down kpi-red"]}};function v(S,h){var E=parseFloat(h);if(S){var u=o[S.graphic.toUpperCase()];if(u&&!isNaN(E)){var f=u.statusValues;return S.normalizedFiveStateKpiRange&&5===f.length&&(E*=2),[u.kpiIconClass,f[E+(f.length>>1)]].join(" ").trim()}}}function m(S,h){if(S)return h===i.Big?[a,t,S].join(" "):[a,S].join(" ")}function c(S,h,E){return r.f.assertValue(S,"kpi"),r.f.assertValue(h,"value"),m(v(S,h),E)}function C(S,h,E){var u=S&&S.kpi;if(u){var f=v(u,h);if(f)return{caption:f,statusGraphic:u.graphic,class:m(f,E)}}}function y(S){return!(!S||!S.kpi)}},350312:function(ve,j,e){e.d(j,{$f:function(){return c},$p:function(){return m}});var a,t,r=e(650543),i=e(704251);window.globalMapControlLoaded=function(){r.f.assertValue(a,"WaitForMSMapLoad"),a.resolve(void 0)};var o=e(175286);function m(S,h,E){return new y(S,h,E.bingMapControlUrl)}var c=(S,h)=>new y(S,h,"https://www.bing.com/api/maps/mapcontrol");class y{constructor(h,E,u){this.promiseFactory=h,this.loader=E,this.mapControlUrl=u,this.fallbackDomain="atlas.microsoft.com"}ensureMap(h){return function(S,h,E,u){if(a)return a.promise;var f=E=(0,i.fS)(E,{onscriptload:"globalMapControlLoaded",callback:"globalMapControlLoaded"},!0),b=(0,i.mA)(E),V=b.c||b.culture,T={};if(_.isEmpty(u)||(T.setLang=u),!_.isEmpty(V)){var P=V.split("-",2);T.setMkt=V,T.UR=P.length>1?P[1]:V,T.setLang=P[0]}return f=(0,i.fS)(E,T,!0),a=S.defer(),h.require({javascript:f}),a.promise}(this.promiseFactory,this.loader,this.mapControlUrl,h)}createMapControl(h,E){return new Microsoft.Maps.Map(h,E)}loadAzureMapScripts(h){return function(S,h,E){if(t)return t.promise;var u="https://atlas.microsoft.com/sdk/javascript/mapcontrol/2/atlas.min.js",f="https://atlas.microsoft.com/sdk/javascript/mapcontrol/2/atlas.min.css";return E&&(u="https://atlas.microsoft.com/sdk/javascript/mapcontrol/3/atlas.min.js",f="https://atlas.microsoft.com/sdk/javascript/mapcontrol/3/atlas.min.css"),t=S.defer(),h.require({javascript:u,css:[f]}).then(P=>{var D=window;D.atlas=D.atlas||P,D.atlas||t.reject(),Promise.all([h.require({javascript:"https://atlas.microsoft.com/sdk/javascript/spatial/0/atlas-spatial.min.js"}),h.require({javascript:"https://atlas.microsoft.com/sdk/javascript/drawing/0.1/atlas-drawing.min.js",css:["https://atlas.microsoft.com/sdk/javascript/drawing/0/atlas-drawing.min.css"]})]).then(()=>t.resolve(void 0)).catch(()=>t.reject())},()=>t.reject()),t.promise}(this.promiseFactory,this.loader,h)}loadShpJs(){return this.shpJs||(this.shpJs=this.loader.require({javascript:"https://atlas.microsoft.com/sdk/javascript/spatial/0/shpjs.min.js"})),this.shpJs}createAzureMapControl(h){var{element:E,azureMapsDataResidency:u,azureMapsEndpoint:f,isPublishToWebEmbedHost:b}=h;this.configureDefaultAzureMapsDomain(u,b,f);var V=this.getMapConstructorOptions(h);return this.createAzureMapControlCore(E,V)}configureDefaultAzureMapsDomain(h,E,u){if(h){var f=u.getDomainUrl$().getValue();if(!E)return void atlas.setDomain(f.azureMapsDomainUrl);atlas.setDomain(this.fallbackDomain)}}getMapConstructorOptions(h){var{locale:E,sasTokenCallback:u,azureMapsEndpoint:f,supportHeadlessRendering:b,progressiveLoading:V,defaultStyle:T,showLabels:P,renderWorldCopies:D,preserveDrawingBufferForExport:w,isPublishToWebEmbedHost:M}=h,A={language:E,style:T||o.tK,view:"Auto",disableTelemetry:!0,progressiveLoading:V,showLabels:P,renderWorldCopies:D};return(b||w)&&(A.preserveDrawingBuffer=!0),u?A.authOptions={authType:atlas.AuthenticationType.sas,getToken:u}:r.f.assertFail("Azure Maps control requires a SAS token callback."),this.setRequestTransformForPublishToWeb(A,f,M),A}setRequestTransformForPublishToWeb(h,E,u){u&&(h.transformRequest=(f,b)=>{try{var V=new URL(f),T=`${this.normalizePath(V.pathname)}${V.search}`,P=E.resolveAzureMapsEndpoint(u,T),D=R=>this.isValidUrl(R)?{url:R}:void 0;return D(P)||D(`https://${this.fallbackDomain}${T}`)||(r.f.assertFail("Failed to transform the Azure Maps endpoint URL. "),{url:f})}catch(R){return r.f.assertFail(`Failed to transform the Azure Maps endpoint URL.${R} `),{url:f}}})}normalizePath(h){return`/${h}`.replace(/[/]{1,}/g,"/")}isValidUrl(h){try{var E=new URL(h);return!("https:"!==E.protocol||!E.host)}catch{return!1}}createAzureMapControlCore(h,E){return new atlas.Map(h,E)}isAzureMapSupported(){return atlas.isSupported(!1)}}},405894:function(ve,j,e){e.d(j,{yV:function(){return T},jj:function(){return V},mS:function(){return P},tE:function(){return D},eP:function(){return M},Kq:function(){return w},n9:function(){return Ie},w6:function(){return C},Ch:function(){return E},jv:function(){return c},z8:function(){return u},Gs:function(){return B},qG:function(){return L},PN:function(){return R},RR:function(){return N},nv:function(){return F},Kp:function(){return U},TM:function(){return W},Zr:function(){return s},h$:function(){return d},CL:function(){return I},Yb:function(){return Ae},wu:function(){return Ke},oT:function(){return H},o:function(){return q},x6:function(){return J},IU:function(){return v},N2:function(){return o},Jy:function(){return Z},Sc:function(){return Q},N0:function(){return p},M_:function(){return Se},q1:function(){return m},Bo:function(){return Ct},n8:function(){return se},ml:function(){return n}});var r=e(650543),i=e(378760),t=e(593377);function n(me){if(me){var Oe=me._v8Map&&me._v8Map._sizeHelper;Oe&&_.isFunction(Oe.pollSize)?Oe.pollSize():r.f.assertFail("Smooth resize animation hack not working because V8 map control pollSize function not found")}}function p(me){var Oe=Microsoft.Maps.MapTypeId[me];return r.f.assertValue(Oe,"Map theme did not select a MapTypeId"),Oe}var s={MaxBingRequest:6,MaxCacheSize:3e3,MaxCacheSizeOverflow:100,MaxPersistedSpace:24e5,MaxAge:43200,BingKey:"AoW85FdF-eTJavFmWhZjaQ970kwG1FuainbyVSlP5HglkbhVVIFOyNwlaQxAIj-S"},d=16;function o(me,Oe){return me?v(me.latitude,me.longitude):Oe}function v(me,Oe){return isNaN(me)||isNaN(Oe)||null==me||null==Oe||me<-90||me>90||Oe<-180||Oe>180}function m(me){for(;me<-180;)me+=360;for(;me>180;)me-=360;return me}var c=-85.05112878,C=85.05112878,y=-180,S=180,E=23,u=1,f=11,V="foregroundDark",T={Address:"Address",City:"City",Continent:"Continent",CountryRegion:"Country",County:"County",Longitude:"Longitude",Latitude:"Latitude",Place:"Place",PostalCode:"PostalCode",StateOrProvince:"StateOrProvince"},P="mapLassoButton",D="mapLassoButtonHighContrast",w=`.${P}`,M="MapLassoButton",R=".NavBar_Container",B="NavBar_Button",N="NavButton_Icon",W="Rectangle_Select",F="plot-area",U=`.${F}`,O="NavBar_zoomIn",x="NavBar_zoomOut",I=`.${O}, .${x}`,L=`${w}, .${O}, #${x}`,K="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789_-";function z(me,Oe,Ee){return Math.min(Math.max(me,Oe),Ee)}function H(){return J(f)}function J(me){return 23===me?2147483648:Math.floor(me)===me?256<<me:256*Math.pow(2,me)}function k(me,Oe,Ee){var xe=Oe/360,ye=Math.sin(me*Math.PI/180),he=-Math.log((1+ye)/(1-ye))/(4*Math.PI);if(!Ee)return{x:xe,y:he};Ee(xe,he)}function q(me,Oe){switch(me){case T.Continent:case T.CountryRegion:return{level:0,maxPolygons:30,strokeWidth:0};case T.City:return{level:1,maxPolygons:5,strokeWidth:Oe<200?6:0};default:return Oe<100?{level:1,maxPolygons:5,strokeWidth:6}:Oe<200?{level:0,maxPolygons:5,strokeWidth:6}:{level:0,maxPolygons:5,strokeWidth:0}}}function Q(me,Oe,Ee){var he,xe=Ee&&Ee.xAdjust,ye=Ee&&Ee.unconstrained,Je=new Float64Array(me.length),Ce=(Qe,ut)=>{Qe+=.5,ut+=.5,Qe*=Oe,ut*=Oe,Qe+=.5,ut+=.5,xe&&(Qe+=xe*Oe),Je[he]=Qe,Je[he+1]=ut};for(he=0;he<me.length;he+=2){var je=me[he],pe=me[he+1];ye||(je=z(je,c,C),pe=z(pe,y,S)),k(je,pe,Ce)}return Je}function Z(me,Oe,Ee,xe){var ye=Q(new Float64Array([me,Oe]),J(Ee),xe);return{x:ye[0],y:ye[1]}}function se(me,Oe,Ee){var xe=function(me,Oe,Ee){return function(me,Oe,Ee){var xe=Math.exp(4*-Oe*Math.PI);return{latitude:180*Math.asin((xe-1)/(xe+1))/Math.PI,longitude:360*me}}((me-.5)/Ee-.5,(Oe-.5)/Ee-.5)}(me,Oe,J(Ee));return new Microsoft.Maps.Location(xe.latitude,xe.longitude)}function Ve(me,Oe){return Z(me.latitude,me.longitude,Oe)}function ke(me,Oe){var Ee=Ve(me.getNorthwest(),Oe),xe=Ve(me.getSoutheast(),Oe);return new i.U(Ee.x,Ee.y,xe.x-Ee.x,xe.y-Ee.y)}function ft(me){var Oe=function(me){for(var Oe={latitude:-90,longitude:180},Ee={latitude:90,longitude:-180},xe=0;xe<me.length;xe+=2)Oe.latitude=Math.max(me[xe],Oe.latitude),Oe.longitude=Math.min(me[xe+1],Oe.longitude),Ee.latitude=Math.min(me[xe],Ee.latitude),Ee.longitude=Math.max(me[xe+1],Ee.longitude);return Oe.longitude=z(Oe.longitude,-180,180),Ee.longitude=z(Ee.longitude,-180,180),{top:Oe.latitude,bottom:Ee.latitude,left:Oe.longitude,right:Ee.longitude}}(me);return Microsoft.Maps.LocationRect.fromCorners(new Microsoft.Maps.Location(Oe.top,Oe.left),new Microsoft.Maps.Location(Oe.bottom,Oe.right))}function Ct(me){for(var Oe=[],Ee=0,xe=0,ye=0,Je=4294967296;Ee<me.length;){for(var he=0,Ce=0;;){if(Ee>=me.length)return null;var je=K.indexOf(me.charAt(Ee++));if(-1===je)return null;var pe=(31&je)*Math.pow(2,Ce);if(he=(pe/Je|he/Je)*Je+((pe%Je|he%Je)>>>0),Ce+=5,je<32)break}var Ot=Math.floor((Math.sqrt(8*he+5)-1)/2);he-=Ot*(Ot+1)/2;var Dt=Math.floor(he),ne=Ot-Dt,$e=1e-5*(xe+=ne=ne>>1^-(1&ne));Oe.push(z(1e-5*(ye+=Dt=Dt>>1^-(1&Dt)),-90,90)),Oe.push($e)}return new Float64Array(Oe)}function Ke(me,Oe){return Oe&&(me?(Oe.west<me.west&&(me.west=Oe.west),Oe.east>me.east&&(me.east=Oe.east),Oe.south<me.south&&(me.south=Oe.south),Oe.north>me.north&&(me.north=Oe.north)):me={...Oe}),me}function Ae(me){if(!_.isEmpty(me)){var Oe=!1;for(var Ee of me)Ee.nativeBing&&!Ee.geographic&&(Ee.geographic=Ct(Ee.nativeBing),Ee.geographic&&(Oe=!0));if(Oe){var xe=[];for(var ye of me){var Je=ye.geographic;if(Je){var he=ft(Je);ye.adjustedBounds={west:he.getWest(),north:he.getNorth(),east:he.getEast(),south:he.getSouth()},ye.absoluteBounds=ke(he,f),xe.push({location:ye,bounds:he,xAdjust:0})}}for(var Ce,je=-1,pe=0;pe<xe.length;++pe){var Qe=xe[pe],ut=Qe.bounds.width*Qe.bounds.height;(-1===je||ut>Ce)&&(je=pe,Ce=ut)}var lt=H(),Et=xe[je].bounds.getWest(),bt=xe[je].bounds.getEast();for(var Ot of xe){var Dt=Ot.bounds,ne=Dt.getWest(),Fe=Dt.getEast();if(Fe<Et&&ne+360-bt<Et-Fe&&(Ot.xAdjust=1),ne>bt&&Et-(Fe-360)<ne-bt&&(Ot.xAdjust=-1),Ot.xAdjust){var ce=360*Ot.xAdjust,be=Ot.location.adjustedBounds;be.west+=ce,be.east+=ce,Ot.location.absoluteBounds.left+=Ot.xAdjust*lt}}for(var ae of xe){var de=ae.location,ee=de.geographic;ee&&(de.absolute||(de.absolute=Q(ee,lt,{xAdjust:ae.xAdjust})))}}}}function Se(me,Oe,Ee){var xe=me.tryLocationToPixel(me.getCenter(),Microsoft.Maps.PixelReference.page);!function(me,Oe,Ee){var xe=new Microsoft.Maps.Point(Oe,Ee),ye=me.tryPixelToLocation(xe,Microsoft.Maps.PixelReference.page);me.setView({center:ye})}(me,xe.x-Oe,xe.y-Ee)}class Ie{constructor(){this._locationRect=new Microsoft.Maps.LocationRect(new Microsoft.Maps.Location(30,-30),60,60)}reCalc(Oe,Ee,xe){var ye=[this._locationRect.getNorthwest(),this._locationRect.getSoutheast()];if(!this._baseRect){var Je=Ve(this._locationRect.getNorthwest(),11),he=Ve(this._locationRect.getSoutheast(),11);this._baseRect=new i.U(Je.x,Je.y,he.x-Je.x,he.y-Je.y)}var Ce=Oe.tryLocationToPixel(ye),je=Ce[0].x+Ee/2,pe=Ce[0].y+xe/2,Qe=Oe.getZoom()-11,ut=Math.pow(2,Qe);this._currentRect=new i.U(je,pe,this._baseRect.width*ut,Ce[1].y-Ce[0].y)}get scale(){return this._baseRect?this._currentRect.width/this._baseRect.width:1}get transform(){var Oe=this._baseRect,Ee=this._currentRect,xe=new t.wx;return xe.translate(Ee.left,Ee.top),xe.scale(Ee.width/Oe.width,Ee.height/Oe.height),xe.translate(-Oe.left,-Oe.top),xe}transformToString(Oe){var Ee=Oe.matrix;return`matrix(${Ee.m00} ${Ee.m10} ${Ee.m01} ${Ee.m11} ${Ee.m02} ${Ee.m12})`}}},672576:function(ve,j,e){e.d(j,{Ar:function(){return d},F:function(){return o},Wo:function(){return y},jM:function(){return v},lW:function(){return c}});var r=e(79365),i=e(759167),a=e(650543),t=e(149222),l=e(538451),g=e(868797),n=e(613670),p=1,s=2;function d(S){return v(S,g.$V)}function o(S){if((0,l.nK)(S))return 0;switch(S){case l.ZO.x:case l.ZO.plus:case l.ZO.lowerErrorBar:case l.ZO.upperErrorBar:return p;case l.ZO.shortDash:case l.ZO.longDash:return s;default:a.f.assertNever(S)}}function v(S,h){switch(S){case l.ZO.circle:return`M 0 0 m ${-h} 0 a ${h} ${h} 0 1 0 ${2*h} 0 a ${h} ${h} 0 1 0 ${-2*h} 0`;case l.ZO.square:return`M 0 0 m ${-h} ${-h} l ${2*h} 0 l 0 ${2*h} l ${-2*h} 0 z`;case l.ZO.diamond:return`M 0 0 m ${-h} 0 l ${h} ${-h} l ${h} ${h} l ${-h} ${h} z`;case l.ZO.triangle:var E=1.732;return`M 0 0 m ${-h} ${h/E} l ${h} ${-h*E} l ${h} ${h*E} z`;case l.ZO.droplet:return a.f.assert(()=>1===h,"Droplet marker path is hardcoded for r=1"),"M 1.123 -0.214 C 1.123 0.123 0.947 0.435 0.749 0.626 L 0.139 1.275 C 0.065 1.353 -0.059 1.353 -0.133 1.275 L -0.743 0.626 C -1.023 0.346 -1.117 0.118 -1.117 -0.214 C -1.117 -0.832 -0.615 -1.333 0.003 -1.333 C 0.621 -1.333 1.123 -0.832 1.123 -0.214 Z";case l.ZO.x:return`M 0 0 m ${-h} ${-h} l ${2*h} ${2*h} m ${2*-h} 0 l ${2*h} ${2*-h}`;case l.ZO.shortDash:return`M 0 0 l ${h} 0`;case l.ZO.longDash:return`M 0 0 m ${-h} 0 l ${2*h} 0`;case l.ZO.plus:return`M 0 0 m ${-h} 0 l ${2*h} 0 m ${-h} ${-h} l 0 ${2*h}`;case l.ZO.lowerErrorBar:return`M 0 0 m 0 ${-h} l 0 ${2*h} m ${-h} 0 l ${2*h} 0`;case l.ZO.upperErrorBar:return`M 0 0 m 0 ${h} l 0 ${2*-h} m ${-h} 0 l ${2*h} 0`;default:a.f.assertNever(S)}}function c(S,h){return Object.assign((0,n.b)(S?.stroke,h),{display:S?.show?null:"none",fill:S?.color??null,"fill-opacity":(0,r.TD)(S?.transparency??0)})}var y=(()=>{class S{constructor(){this.uniqueIdentifier=_.uniqueId()}ensureMarkers(E,u,f){var b=u;E.selectAll("marker").data(b.filter(V=>V.show),V=>this.getMarkerId(V)).join(V=>V.append("marker").call(T=>T.append("path").classed(S.markerPath.class,!0))).attrs({id:V=>this.getMarkerId(V),markerUnits:"strokeWidth",refX:0,refY:0,viewBox:"-12 -12 24 24",markerHeight:V=>2*V.size,markerWidth:V=>2*V.size}).select(S.markerPath.selector).attr("d",V=>V.lineRadius?function(S,h,E){var u=(E+1)/(h/5);switch(S){case l.ZO.x:return`M ${u},1 L 4,5 L 5,4 L 1,0 L 5,-4 L 4,-5 L 0,-1 L -4,-5 L-5,-4 L -1,0 L -5,4 L -4,5 L-${u},1`;case l.ZO.shortDash:return`M ${u},1 L 5,1 L 5,-1 L -${u},-1 L -${u},1`;case l.ZO.longDash:return`M ${u},1 L 5,1 L 5,-1 L -5,-1 L -5,1 L -${u},1`;case l.ZO.plus:return`M ${u},1 L 5,1 L 5,-1, L1,-1 L1,-5 L-1,-5 L-1,-1 L-5,-1 L-5,1 L-${u},1`;default:return d(S)}}(V.shape,V.size,V.lineRadius):d(V.shape)).attr("transform",V=>V.rotation?`rotate(${V.rotation})`:null).styles(V=>c(V,f)).style("stroke-width",V=>{var T=(V.stroke?.strokeWidth??0)/(V.size/5);return"uncertainty"===V.markerType?V.lineRadius?T:o(V.shape):(0,l.nK)(V.shape)?V.stroke?.strokeShow?T:0:o(V.shape)})}static getTotalMarkerSize(E){return this.sizeRatio*function(S){return S?.show?(S.size??0)+(S.stroke?.strokeShow?(S.stroke.strokeWidth??0)/2:0):0}(E)}getMarkerId(E){return`${E.markerType}-${E.key}-${this.uniqueIdentifier}`}getMarkerKey(E){return E.show?`url('${t.M.isSafari()||t.M.isIOSWebView()?window.location.href:""}#${this.getMarkerId(E)}')`:null}}return S.markerPath=(0,i.CH)("markerPath"),S.sizeRatio=10/12,S})()},868797:function(ve,j,e){e.d(j,{$V:function(){return l},Wz:function(){return t},m6:function(){return r}});var r={show:"markerShow",shape:"markerShape",size:"markerShapeSize",color:"markerColor",transparency:"markerTransparency",rotation:"markerRotation",strokeShow:"markerBorderShow",strokeColorMatch:"markerBorderColorMatchFill",strokeColor:"markerBorderColor",strokeTransparency:"markerBorderTransparency",strokeWidth:"markerBorderWidth"},t=["show","shape","color","size","transparency","rotation"],l=5},691022:function(ve,j,e){e.d(j,{Ko:function(){return l},Pg:function(){return i},YD:function(){return p},aY:function(){return a},eR:function(){return o},eU:function(){return t},m0:function(){return g},rA:function(){return s},rk:function(){return d},vD:function(){return n}});var r=e(902186),i="setFocusRing",a="currentFocusDataPoint",t=.4,l=1,g=2,n=2,p=6,s=n+2*p,d=r.Wn.regular.css;function o(v,m,c,C,y=l){return c&&C&&m?v?y:0:C&&!m||c&&!v?t*y:y}},613670:function(ve,j,e){e.d(j,{Y:function(){return n},b:function(){return d}});var r=e(688467),i=e(2065),a=e(691022),t=e(650543),l=e(79365);function n(o){var v=o.strokeColor;return o.strokeTransparency&&v&&(v=(0,r.Et)(v,(0,l.TD)(o.strokeTransparency))),`${o.strokeWidth}px ${o.strokePattern} ${v}`}function p(o){var v=o.strokeAutoScale?o.strokeWidth/2:1;switch(o.strokePattern){case i.Dv.dashed:return[5*v,5*v].join(",");case i.Dv.dotted:return[0,5*v].join(",");case i.Dv.solid:return null;case i.Dv.custom:return function(o){var C=o.substring(0,50).split(/[,\s]+/).map(Number),y=C.filter(S=>!isNaN(S)&&S>=0&&S<=50);return y.splice(8),y.length!==C.length||_.isEmpty(C)?[0]:C}(o.strokeDashArray??"").map(m=>m*v).join(",");default:return t.f.assertNever(o.strokePattern),null}}function s(o){switch(o.strokePattern){case i.Dv.dashed:return null;case i.Dv.dotted:case i.Dv.solid:return i.qH.round;case i.Dv.custom:return o.strokeDashCap===i.qH.none?"butt":o.strokeDashCap;default:return t.f.assertNever(o.strokePattern),null}}function d(o,v){return o?.strokeShow?{stroke:o.strokeColor,"stroke-opacity":null!=o.strokeTransparency?(0,l.TD)(o.strokeTransparency):null,"stroke-width":v?.isHighContrast?a.m0:o.strokeWidth,"stroke-linejoin":o.strokeLineJoin,"stroke-dasharray":p(o),"stroke-linecap":s(o)}:{stroke:null}}},326189:function(ve,j,e){e.d(j,{G:function(){return i},f:function(){return r}});var r=["strokeShow","strokeColorMatch","strokeColor","strokeTransparency","strokeWidth","strokePattern","strokeLineJoin","strokeDashArray","strokeDashCap","strokeAutoScale"];function i(a,t){return t}},529961:function(ve,j,e){e.d(j,{CK:function(){return E},CP:function(){return D},Ez:function(){return f},O5:function(){return W},QZ:function(){return V},Qh:function(){return c},Zx:function(){return b},cy:function(){return S},kv:function(){return T},oy:function(){return M},y3:function(){return y}});var r=e(621083),i=e(203032),a=e(449091),t=e(191282),l=e(625112),g=e(246626),n=e(378760),p=e(630881),s=e(759167),d=e(650543),v=(0,s.CH)("sub-selectable"),m="sub-selection-data",c=(0,s.CH)("direct-edit-placeholder"),C=(0,s.CH)("direct-edit-placeholder-outline"),y="format-mode",S=v.class,h=v.selector,E="data-sub-selection-display-name",u="data-sub-selection-hide-outline",f="data-sub-selection-object-name",b="data-sub-selection-alt-object-name",V="data-sub-selection-type",T="data-sub-selection-direct-edit",P="data-sub-selection-sub-selected",D="data-sub-selection-ui-anchor",M="data-sub-selection-restricting-element",A="data-helper-host";function B(F){return`${F}.htmlSubSelection`}function N(F,U){return U.closest(`[${A}]`)===F}class W{constructor(U){this.hostElement=U.hostElement,this.host=d3.select(U.hostElement),this.hostServices=U.hostServices,this.subSelectionRegionOutlines={},this.renderer=U.renderer,this.targetSource=U.targetSource,this.scale=U.scale,this.selectorCallback=U.selectorCallback,this.customOutlineCallback=U.customOutlineCallback,this.customElementCallback=U.customElementCallback,this.customElementRegionOutlineIdCallback=U.customElementRegionOutlineIdCallback,this.subSelectionMetadataCallback=U.subSelectionMetadataCallback,this.customScrollCallbacks=U.customScrollCallbacks,this.host.attr(A,!0)}static createHtmlSubselectionHelper(U){return new W(U)}setCustomOutlineCallback(U){this.customOutlineCallback=U}destroy(){this.removeEventHandlers(),this.hideAllOutlines()}setFormatMode(U){this.formatMode!==U&&(this.formatMode=U,U?this.attachEventHandlers():(this.removeEventHandlers(),this.hideAllOutlines()))}attachEventHandlers(){this.host.on(B("pointerover"),()=>{this.onPointerOver(d3.event)}),this.host.on(B("click"),()=>{this.onClick(d3.event)}),this.host.on(B("contextmenu"),()=>{this.onContextMenu(d3.event)})}onVisualScroll(){this.scrollDebounce||(this.onVisualScrollStart(),this.scrollDebounce=_.debounce(()=>this.onVisualScrollEnd(),100)),this.scrollDebounce()}onVisualScrollStart(){this.customScrollCallbacks?this.customScrollCallbacks.onScrollStart():this.scrollSubSelections||(this.hideAllOutlines(),this.scrollSubSelections=this.subSelections)}onVisualScrollEnd(){if(this.customScrollCallbacks)return this.customScrollCallbacks.onScrollEnd(),void(this.scrollDebounce=void 0);this.scrollSubSelections&&this.scrollSubSelections.length>0&&this.subSelect(this.scrollSubSelections[0]),this.scrollSubSelections=void 0,this.scrollDebounce=void 0}onPointerOver(U){if(!(0,l.q)(U)&&"format"===this.targetSource){this.clearHoveredOutline();var O=this.getSubSelectionSourceFromEvent(U);if(O&&O.subSelectionElement){if(0===this.updateCustomOutlinesFromSubSelections([O.visualSubSelection],r.dG.Hover).length){var I=this.getSubSelectionElementsFromSubSelectionSource(O);I=I.filter(z=>{var H=d3.select(z);return!H.attr(P)&&"true"!==H.attr(u)}),this.updateOutlinesFromSubSelectionElements(I,r.dG.Hover)}this.renderOutlines();var L=B("pointerleave"),K=d3.select(O.subSelectionElement);K.on(L,()=>{K.attr(P)||(this.clearHoveredOutline(),K.on(L,null))}),(0,l.n)(U)}}}clearHoveredOutline(){_.values(this.subSelectionRegionOutlines).filter(x=>x.visibility===r.dG.Hover).forEach(x=>{this.subSelectionRegionOutlines[x.id]={...this.subSelectionRegionOutlines[x.id],visibility:r.dG.None}}),this.renderOutlines()}onClick(U){this.subSelectFromEvent(U,!1)}onContextMenu(U){this.subSelectFromEvent(U,!0)}subSelectFromEvent(U,O){if(!(0,l.q)(U)&&"format"===this.targetSource){var x=this.getSubSelectionElementsFromEvent(U);(0,l.n)(U);var I={x:U.clientX,y:U.clientY};if(_.isEmpty(x))return void this.hostServices.onSelect({type:r.BD.FormattingSubSelection,selectionMode:g.i.Single,visualObjects:[],selectionOrigin:I});var L=x[0],K=d3.select(L).attr(f),z=this.getSubSelectionTypeFromElement(L),H=U.target,J=this.getDisplayNameFromElement(L),k=this.selectorCallback?this.selectorCallback(L):{},G=this.createVisualSubSelectionForSingleObject({objectName:K,subSelectionType:z,displayName:J,showUI:O,selectorsByColumn:k,selectionOrigin:I,target:H});this.scrollSubSelections=void 0,this.subSelect(G)}}getSubSelectionElementsFromEvent(U){var O=this.getSubSelectionSourceFromEvent(U);return this.getSubSelectionElementsFromSubSelectionSource(O)}getSubSelectionSourceFromEvent(U){var O=U.composedPath();if(O){var L,x=O.indexOf(this.hostElement),I=O.slice(0,x+1);for(var K of I)if(d3.select(K).classed(S)){L=K;break}if(L&&N(this.hostElement,L)){var H=this.selectorCallback?this.selectorCallback(L):{},J=d3.select(L).attr(f),k=this.getDisplayNameFromElement(L),G=this.getSubSelectionTypeFromElement(L),q={x:U.clientX,y:U.clientY},Q=this.subSelectionMetadataCallback?this.subSelectionMetadataCallback(L):null;return{subSelectionElement:L,visualSubSelection:this.createVisualSubSelectionForSingleObject({objectName:J,subSelectionType:G,displayName:k,showUI:!1,selectorsByColumn:H,selectionOrigin:q,metadata:Q})}}}}getSubSelectionElementsFromSubSelectionSource(U){if(!U)return[];var{visualSubSelection:O}=U;if(this.customElementCallback){var x=this.customElementCallback(O);if(!_.isEmpty(x))return x}var I=this.getSubSelectableElements(),{objectName:L,selectorsByColumn:K}=O.visualObjects[0],z=I.filter(J=>J.getAttribute(f)===L);if(this.selectorCallback){var H=J=>this.selectorCallback(J);z=z.filter(function(J){return(0,t.Ic)(H(J),K)})}return z}removeEventHandlers(){this.host.on(B("pointerover"),null),this.host.on(B("click"),null),this.host.on(B("contextmenu"),null)}subSelect(U){var O={type:r.BD.FormattingSubSelection,...U};this.hostServices.onSelecting(O),O.action!==p.MI.None&&this.hostServices.onSelect(O)}isVisualObjectSubSelected(U){return!!(this.subSelections&&this.subSelections.length>0)&&!!this.subSelections.find(O=>O.visualObjects.find(x=>U.objectName===x.objectName&&(0,t.Ic)(U.selectorsByColumn,x.selectorsByColumn)))}updateElementOutline(U,O,x=void 0,I=!1){return this.updateElementOutlines([U],O,x,I)[0]}updateElementOutlines(U,O,x=void 0,I=!1){var L=_.groupBy(U,J=>{var k=d3.select(J);return this.getElementRegionOutlineId(k)}),K=Object.keys(L);for(var z of K){var H=this.getSubSelectionRegionOutline(z,L[z],O,x);this.subSelectionRegionOutlines[z]=H}return I||this.renderOutlines(),K}getSubSelectionRegionOutline(U,O,x,I){var L=[];for(var K of O){var z=this.getRectangleSubSelectionOutline(K,x,I),H=this.getRestrictionRect(K,a.VC.Clamp);H&&(z=this.getClampedOutline(z,H,K));var J=this.getRestrictionRect(K,a.VC.Clip);J&&(z=this.getClippedOutline(z,J,K)),z.height>0&&z.width>0&&L.push(z)}var k={type:r.ZJ.Group,outlines:L};return null!=I&&(k.extendedProperties=I),{id:U,visibility:x,outline:k,source:this.targetSource}}traverseElementRestrictions(U,O,x){var I=U.closest(`[${M}="${x}"]`),L=O;if(I&&N(this.hostElement,I)){L||(L=new n.U(0,0,Number.MAX_VALUE,Number.MAX_VALUE));var K=I.getBoundingClientRect(),z=Math.max(K.top,L.top),H=Math.max(K.left,L.left),J=Math.max(Math.min(K.bottom,L.top+L.height)-z,0),k=Math.max(Math.min(K.right,L.left+L.width)-H,0);L=new n.U(H,z,k,J),L=this.traverseElementRestrictions(U.parentElement,L,x)}return L}getRestrictionRect(U,O){return this.traverseElementRestrictions(U,void 0,O)}applyElementRestriction(U,O){var x=W.getDataForElement(O);if(x&&x.outlineRestrictionOptions){var{margin:I,padding:L}=x.outlineRestrictionOptions,K=0,z=0,H=0,J=0;if(I){var{top:k,left:G,right:q,bottom:Q}=I;K+=G,z+=k,H-=Q+k,J-=G+q}if(L){var{top:Z,left:X,right:re,bottom:te}=L;K-=X,z-=Z,H+=te+Z,J+=X+re}U.left+=K,U.top+=z,U.height+=H,U.width+=J}return U}getClampedOutline(U,O,x){var I=this.applyElementRestriction(O,x),L=Math.max(U.x,I.left),K=Math.max(U.y,I.top),z=Math.min(U.x+U.width,I.left+I.width),H=Math.min(U.y+U.height,I.top+I.height);return{...U,x:L,y:K,height:H-K,width:z-L}}getClippedOutline(U,O,x){var I=this.applyElementRestriction(O,x);return{...U,clipPath:{type:r.ZJ.Rectangle,x:I.left,y:I.top,height:I.height,width:I.width}}}getRectangleSubSelectionOutline(U,O,x){var I=U.getBoundingClientRect(),{x:L,y:K,width:z,height:H}=I,J=O!==r.dG.None&&x?.visibleOutlineOffset?x.visibleOutlineOffset:0,k={height:H+2*J,width:z+2*J,x:L-J,y:K-J,type:r.ZJ.Rectangle};return U.hasAttribute(T)&&(k.directEdit=()=>{if(U.hasAttribute(T))return JSON.parse(U.getAttribute(T))}),k}updateRegionOutline(U,O=!1){this.updateRegionOutlines([U],O)}updateRegionOutlines(U,O=!1){for(var x of U)this.subSelectionRegionOutlines[x.id]=x;O||this.renderOutlines()}getElementsFromSubSelections(U){if(!U)return[];var O=[],x=this.getSubSelectableElements(),I=this.isElementSubSelected,L=this.selectorCallback;return d3.selectAll(x).each(function(){I(this,U,L)&&O.push(this)}),O}setSubSelectedStateDOM(U){if(U){var O=this.getSubSelectableElements(),x=this.isElementSubSelected,I=this.selectorCallback;d3.selectAll(O).attr(P,function(){return!!x(this,U,I)||null})}}isElementSubSelected(U,O,x){if(!O)return!1;var I=d3.select(U).attr(f),L=d3.select(U).attr(b);return O.some(z=>z.visualObjects?.some(H=>{var J=!0;return x&&((0,t.Ic)(H.selectorsByColumn,x(U))||(J=!1)),(H.objectName===I||H.objectName===L)&&J}))}updateCustomOutlinesFromSubSelections(U,O=r.dG.Active){var x=this,I=[];if(this.customOutlineCallback&&!_.isEmpty(U))for(var L of U){var K=this.customOutlineCallback(L);if(K&&K.length>0){var z=function(J){d.f.assert(()=>(J.source??"format")===x.targetSource,"custom outline's source should match the current htmlSubSelectionHelper's targetSource");var k=x.subSelectionRegionOutlines[J.id]?.visibility;(O!==r.dG.Hover||k!==r.dG.Active)&&x.setOutline(J,O)};for(var H of K)z(H);I.push(L)}}return I}updateOutlinesFromSubSelectionElements(U,O=r.dG.Active,x=void 0){var I=[];if(!_.isEmpty(U)){for(var L of U){var K=W.getDataForElement(L);if(K&&K.getRegionOutlines){var z=K.getRegionOutlines();for(var H of z){var J=this.getRestrictionRect(L,a.VC.Clip);if(J){var k=this.getClippedOutline(H.outline,J,L);H={...H,outline:{...k,extendedProperties:x},source:this.targetSource}}this.setOutline(H,O)}}else I.push(L)}this.updateElementOutlines(I,O,x,!0)}}updateOutlinesFromSubSelections(U,O,x){O&&this.hideAllOutlines(!0),this.subSelections=U;var I=U?[...U]:[];this.setSubSelectedStateDOM(U);var L=this.updateCustomOutlinesFromSubSelections(U);L?.length>0&&_.remove(I,H=>L.find(J=>_.isEqual(H,J)));var z=this.getElementsFromSubSelections(I).filter(H=>"true"!==d3.select(H).attr(u));this.updateOutlinesFromSubSelectionElements(z),x||this.renderOutlines()}refreshOutlines(){this.updateOutlinesFromSubSelections(this.subSelections,!0,!1)}getLabelsFromSubSelections(U,O,x=" "){var I=this.getElementsFromSubSelections(U),L=[];for(var K of I){var z="";for(var H of O){var J=K.attributes.getNamedItem(H);J&&J.value&&(z+=J.value+x)}_.isEmpty(z)||L.push(z.trim())}return L}setOutline(U,O){var x={...U,visibility:O,id:U.id};this.subSelectionRegionOutlines[U.id]=x}static setDataForElement(U,O){$(U).data(m,O)}static getDataForElement(U){return $(U).data(m)}hideAllOutlines(U=!1){var O=this.subSelectionRegionOutlines,x=[];for(var I in O)x.push({...O[I],visibility:r.dG.None});this.updateRegionOutlines(x,U)}getRegionOutline(U){return this.getRegionOutlines([U])[0]}getRegionOutlines(U){return U.map(O=>this.subSelectionRegionOutlines[O])}getAllOutlines(){return{...this.subSelectionRegionOutlines}}renderOutlines(){var U=_.values(this.subSelectionRegionOutlines);this.renderer.updateRegionOutlines(U)}addDirectEditPlaceholderOutlines(){var U=this.scale(),O=this.hostElement.getBoundingClientRect(),x=K=>{var z=K.getBoundingClientRect();return{left:(z.x-O.x)/U-1,top:(z.y-O.y)/U-1,width:z.width/U,height:z.height/U}},I=_.filter(_.map(this.hostElement.querySelectorAll(c.selector),K=>({element:K,bounds:x(K),outlineId:this.getElementRegionOutlineId(d3.select(K)),objectName:K.getAttribute(f),displayNameKey:K.getAttribute(E)})),K=>!!K.outlineId&&!!K.objectName),L=d3.select(this.hostElement).selectAll(`div.${C.class}`).data(I,K=>K.objectName);L.enter().append("div").classed(C.class,!0).attr("data-testid",K=>`direct-edit-placeholder-outline-${K.objectName}`).style("position","absolute").style("border","1px black dashed").style("cursor","text").on("click",K=>{d3.event.stopImmediatePropagation();var z={visualObjects:[{objectName:K.objectName,selectorsByColumn:{}}],subSelectionType:a._Y.Text,selectionOrigin:{x:d3.event.x,y:d3.event.y},immediateDirectEdit:K.outlineId,displayName:K.displayNameKey&&this.hostServices.getLocalizedString(K.displayNameKey)};this.subSelect(z)}).merge(L).style("width",K=>`${K.bounds.width}px`).style("height",K=>`${K.bounds.height}px`).style("left",K=>`${K.bounds.left}px`).style("top",K=>`${K.bounds.top}px`),L.exit().remove()}getElementRegionOutlineId(U){var O=this.customElementRegionOutlineIdCallback?this.customElementRegionOutlineIdCallback(U.node()):U.attr(f),x="";if(this.selectorCallback){var I=this.selectorCallback(U.node()),L=(0,t.tV)(I);L&&(x=(0,t.km)(L))}return""!==x?`${O}___${x}`:O}getAllSubSelectables(U){var O=this.getSubSelectableElements(),I=_.uniqWith(O,(G,q)=>G.getAttribute(f)===q.getAttribute(f)&&(!this.selectorCallback||(0,t.Ic)(this.selectorCallback(G),this.selectorCallback(q)))),L=I;U&&(L=I.filter(G=>{var q=this.getSubSelectionTypeFromElement(G);return Number(q)===U}));var K=L.map(G=>{var q=G.getBoundingClientRect();return{x:q.x+q.width/2,y:q.y+q.height/2}}),H=_.orderBy(Array.from(Array(K.length).keys()),G=>K[G].y,["asc"]),J={currentSeriesMultiplier:0};return H.map(G=>this.createSubSelectionFromElement(L[G],!1,void 0,J,K[G]))}getNextSubSelectable(U,O){var x=this.getAllSubSelectables();if(x.length){var L,I=_.orderBy(x,["focusOrder"],["asc"]);if(!U)return O?_.last(I):_.first(I);var K=_.findIndex(I,H=>_.isEqual(U,H));if(K>-1){var z=O?K-1:K+1;z>-1&&z<I.length&&(L=I[z])}return L}}createVisualSubSelectionForSingleObject(U){var{objectName:O,subSelectionType:x,displayName:I,showUI:L,selectorsByColumn:K,selectionOrigin:z,focusOrder:H,metadata:J,target:k}=U,{top:G}=k?.getBoundingClientRect()??{top:0};return{visualObjects:[{objectName:O,selectorsByColumn:K??{}}],showUI:L,displayName:I,subSelectionType:x,selectionOrigin:z&&x in[a._Y.Text,a._Y.NumericText]?{...z,offset:{x:0,y:-1*(z?.y-G)}}:z,target:k,...J?{metadata:J}:{},...H?{focusOrder:H}:{}}}createSubSelectionFromElement(U,O,x,I,L){var K=U.getAttribute(f);d.f.assert(()=>!!K,"createVisualSubSelectionFromElement should not be called on an element that is not subselectable");var z={};this.selectorCallback&&(z=this.selectorCallback(U));var H=this.getSelectorKey(z);H&&void 0===I[H]&&(I[H]=I.currentSeriesMultiplier,I.currentSeriesMultiplier++);var J=this.getSubSelectionFocusOrder(K,I[H]),k=this.getSubSelectionTypeFromElement(U),G=this.getDisplayNameFromElement(U),q=L;return x&&(q={x:x.clientX,y:x.clientY}),this.createVisualSubSelectionForSingleObject({objectName:K,subSelectionType:k,displayName:G,showUI:O,selectorsByColumn:z,selectionOrigin:q,focusOrder:J})}getDisplayNameFromElement(U){var O=U.getAttribute(E);if(O)O=this.hostServices.getLocalizedString(O);else{var x=W.getDataForElement(U);x?.getDisplayName?O=x.getDisplayName():d.f.assertFail("getAllSubSelectables - custom jquery data getDisplayName should be defined if no attribute is added to DOMElement")}return O}getSubSelectionTypeFromElement(U){var O=U.getAttribute(V);if(O)return Number(O);d.f.assertFail("getAllSubSelectables - DOMElement should have type")}getSelectorKey(U){var O=(0,t.fd)((0,t.tV)(U));return _.isEmpty(O)?"":JSON.stringify(O)}getSubSelectionFocusOrder(U,O){var x=i.Np[U];return x?(void 0!==O&&(x+=O*i.l5),x):i.Wl}getSubSelectableElements(){var U=this.hostElement;return this.host.selectAll(h).filter(function(){return N(U,this)}).nodes()}}},642036:function(ve,j,e){e.d(j,{m:function(){return i}});var r=e(82372);function i(a,t,l){if(a&&a.textClasses){var g=a.textClasses[t];if(g){var n=g.fontSize&&r.B.createFromPt(+g.fontSize);return{color:l?void 0:g.color&&g.color.value,family:g.fontFace,size:n,weight:g.fontWeight}}}return{}}},160296:function(ve,j,e){e.d(j,{I:function(){return i},O:function(){return a}});var r=e(604099),i=(()=>{class t{}return t.highlightedValueDisplayNameResourceKey="Tooltip_HighlightedValueDisplayName",t})();function a(t,l,g){var s_x=t.left+t.width/2,s_y=t.top+t.height/2,d=l.width/2,o=l.height/2,v=g?.showAboveClickedArea||s_y>=o;return s_x<d?v?r.Q.BottomLeft:r.Q.TopLeft:v?r.Q.BottomRight:r.Q.TopRight}},784551:function(ve,j,e){e.d(j,{U:function(){return i},r:function(){return r}});var r={opacity:1,scale:1,animationDuration:250,offsetX:0,offsetY:0,touchOptimized:!1,adjustXLeftSideOfScreen:0,adjustXRightSideOfScreen:0},i={opacity:.87,scale:1,animationDuration:0,offsetY:30,offsetX:30,touchOptimized:!0,adjustXLeftSideOfScreen:27,adjustXRightSideOfScreen:10}},604099:function(ve,j,e){e.d(j,{Q:function(){return r}});var r=function(i){return i[i.TopLeft=0]="TopLeft",i[i.TopRight=1]="TopRight",i[i.BottomRight=2]="BottomRight",i[i.BottomLeft=3]="BottomLeft",i}({})},305885:function(ve,j,e){e.d(j,{I:function(){return u}});var r=e(759167),i=e(160296),a=e(784551),t=e(604099),l=(0,r.CH)("tooltip-container"),g=(0,r.CH)("tooltip-content"),n=(0,r.CH)("arrow"),p=(0,r.CH)("hide-arrow"),s=(0,r.CH)("small-touch-screen"),d=(0,r.CH)("large-touch-screen"),o=(0,r.CH)("truncate-tooltip-height"),v=(0,r.CH)("heightened-header"),m=(0,r.CH)("themeableElement"),c=(0,r.CH)("tooltip-light");function u(b,V){return new f(b,V)}class f{constructor(V,T){this.isTooltipVisible=!1,this.tooltipScaleFactor=1,this.rootElement=V,this.originalTooltipOptions=$.extend({},a.r,T),this.tooltipOptions=this.originalTooltipOptions}isVisible(){return this.isTooltipVisible}isTouchOptimized(){return!!this.tooltipOptions.touchOptimized}setTestScreenSize(V,T){this.customScreenWidth=V,this.customScreenHeight=T}show(V,T){var P,D,w,M;this.isTooltipVisible=!0,this.tooltipContainer||(this.tooltipContainer=this.createTooltipContainer(this.rootElement)),V&&(P=(0,i.O)(V,this.getScreenBounds(),this.tooltipOptions),M={x:V.left+(D=V.width>>1),y:V.top+(w=V.height>>1)}),this.tooltipContainer.style("display","").transition().duration(0),this.tooltipContainer.style("opacity",this.tooltipOptions.opacity),V&&this.setPositionAndSize(V,P,D,w,M,T)}classed(V,T){this.tooltipContainer||(this.tooltipContainer=this.createTooltipContainer(this.rootElement)),this.tooltipContainer.classed(V.class,T)}move(V,T){var P,D,w;this.tooltipContainer||(this.tooltipContainer=this.createTooltipContainer(this.rootElement)),P=(0,i.O)(V,this.getScreenBounds(),this.tooltipOptions),this.setPositionAndSize(V,P,D=V.width>>1,w=V.height>>1,{x:V.left+D,y:V.top+w},T)}updateContent(V){this.tooltipContainer||(this.tooltipContainer=this.createTooltipContainer(this.rootElement)),this.tooltipContainer.select(g.selector).remove(),V&&($(V).addClass(g.class),this.tooltipContainer.node().appendChild(V))}hide(){this.isTooltipVisible&&(this.isTooltipVisible=!1,this.tooltipContainer.transition().duration(this.tooltipOptions.animationDuration).style("opacity",0).on("end",function(){this.style.display="none"}))}destroy(){this.tooltipContainer&&(this.tooltipContainer.remove(),this.tooltipContainer=null,this.isTooltipVisible=!1)}setTooltipAppearanceOptions(V){this.tooltipOptions=Object.keys(V).length>0?$.extend({},this.tooltipOptions,V):$.extend({},this.originalTooltipOptions,V)}attachPointerEnterCallback(V){this.onPointerEnter=V}attachPointerLeaveCallback(V){this.onPointerLeave=V}createTooltipContainer(V){var T=d3.select(V).append("div").classed(l.class,!0).classed(m.class,!0);return T.append("div").classed(n.class,!0),T.style("display","none"),T.on("pointerenter.callback",()=>this.onPointerEnter&&this.onPointerEnter()),T.on("pointerleave.callback",()=>this.onPointerLeave&&this.onPointerLeave()),T}getTooltipContainerBounds(){var V;return"none"===this.tooltipContainer.style("display")?(this.tooltipContainer.style("display",""),V=this.tooltipContainer.node().getBoundingClientRect(),this.tooltipContainer.style("display","none")):V=this.tooltipContainer.node().getBoundingClientRect(),{height:V.height/this.tooltipScaleFactor,width:V.width/this.tooltipScaleFactor}}get tooltipScale(){return this.tooltipOptions.scale||1}updateTooltipPosition(V,T,P,D,w,M){var A=this.getTooltipContainerBounds(),R=0,B=0,N=this.tooltipOptions.adjustXLeftSideOfScreen,W=this.tooltipOptions.adjustXRightSideOfScreen,F=this.tooltipOptions.hideArrow?0:(M?3:7)*this.tooltipScale,U=this.tooltipOptions.showImmediatelyAdjacentToClickedArea?1:2,O=this.tooltipOptions.showImmediatelyAdjacentToClickedArea?1:3,x=this.tooltipOptions.showImmediatelyAdjacentToClickedArea?1:M?.5:1,I=this.tooltipOptions.showImmediatelyAdjacentToClickedArea?1:M?2.5:1;return this.tooltipOptions.offsetPosition&&(N=0,W=0,R+=T===t.Q.TopLeft||T===t.Q.BottomLeft?this.tooltipOptions.offsetX:-this.tooltipOptions.offsetX,B+=T===t.Q.TopLeft||T===t.Q.TopRight?this.tooltipOptions.offsetY:-this.tooltipOptions.offsetY),T===t.Q.TopLeft?(R+=O*F+P-N,B-=U*I*F+D):T===t.Q.TopRight?(R-=U*x*F+A.width+P-W,B-=U*I*F+D):T===t.Q.BottomLeft?(R+=O*F+P-N,B-=A.height-U*I*F+D):T===t.Q.BottomRight&&(R-=U*x*F+A.width+P-W,B-=A.height-U*I*F+D),{x:w.x+R,y:w.y+B}}setPositionAndSize(V,T,P,D,w,M){w=this.updateTooltipPosition(V,T,P,D,w,M);var A=this.widenTooltipIfNeeded(w);this.setTooltipContainerAttributes(T,A,!!A.width),this.tooltipContainer.style("width",A.width?`${A.width}px`:""),this.setArrowPosition(T)}widenTooltipIfNeeded(V){var T={left:V.x,top:V.y,width:void 0,height:void 0};if(this.shouldWidenTooltip()){T.left=8;var P=this.getScreenBounds().width;T.width=P-16}return T}setTooltipContainerAttributes(V,T,P){var D=this.getTooltipContainerBounds(),w=this.getScreenBounds(),M=this.shouldWidenTooltip(),A=D.width,R=D.height,B=w.width,N=w.height,U=T.left,O=T.top;this.tooltipOptions.touchOptimized&&this.tooltipOptions.offsetPosition&&(U=T.left>=0?T.left:5,O=T.top>=0?T.top:5);var x=B-U-A,I=N-O-R;if(this.tooltipOptions.touchOptimized&&this.tooltipOptions.offsetPosition){x<0&&(x=B-(U-=Math.abs(x)+5)-A+5);var L=this.getScreenBounds().width<=540?35:5;I<L&&(O-=L-I,I=L)}var k,G,K=!1,z=!1,H=V===t.Q.TopLeft||V===t.Q.TopRight,J=V===t.Q.TopLeft||V===t.Q.BottomLeft,q={left:null,top:null,right:null,bottom:null};J?(K=!0,q.left=`${U}px`,G=U):(z=!0,q.right=`${x}px`,G=x),H?(q.top=`${O}px`,k=O):(q.bottom=`${I}px`,k=I),P&&(q.left=`${U}px`);var Q={height:(R+10)*this.tooltipScale,width:(M?A:A+10)*this.tooltipScale},Z=Q.width+G>B,X=Q.height+k>N;this.tooltipScaleFactor=this.tooltipScale,(Z||X)&&(this.tooltipScaleFactor*=this.calculateScaleFactor(Q,w,G,k)),this.tooltipContainer.classed("left",K).classed("right",z).classed(c.class,this.tooltipOptions.useLightColors).classed(s.class,this.isSmallTouchScreen()).classed(d.class,this.isLargeTouchScreen()).classed(o.class,this.isTruncateTooltipHeight()).classed(v.class,this.heightenedHeader()).styles(q).style("transform",`scale(${this.tooltipScaleFactor})`).style("transform-origin",`${H?"top":"bottom"} ${J?"left":"right"}`)}calculateScaleFactor(V,T,P,D){return Math.min((T.width-P)/V.width,(T.height-D)/V.height)}setArrowPosition(V){var P,T=this.getArrowElement();P=V===t.Q.TopLeft?"top left":V===t.Q.TopRight?"top right":V===t.Q.BottomLeft?"bottom left":"bottom right",T.attr("class","arrow").classed(P,!0).classed(p.class,this.tooltipOptions.hideArrow)}shouldWidenTooltip(){return this.tooltipOptions.touchOptimized&&this.tooltipOptions.offsetPosition&&this.getScreenBounds().width<=540}isSmallTouchScreen(){if(!this.tooltipOptions.touchOptimized)return!1;var V=this.getScreenBounds();return V.width<=540||V.height<=450}isLargeTouchScreen(){return this.tooltipOptions.touchOptimized&&!this.isSmallTouchScreen()}isTruncateTooltipHeight(){return!!this.tooltipOptions.touchOptimized&&this.getScreenBounds().height<=620}heightenedHeader(){return!this.tooltipOptions.offsetPosition}getArrowElement(){return this.tooltipContainer.select(n.selector)}getScreenBounds(){return{width:this.customScreenWidth||window.innerWidth,height:this.customScreenHeight||window.innerHeight}}}},593377:function(ve,j,e){e.d(j,{wx:function(){return r}});class r{constructor(p){this.matrix=p||{m00:1,m01:0,m02:0,m10:0,m11:1,m12:0}}applyToPoint(p){if(!p)return p;var s=this.matrix;return{x:s.m00*p.x+s.m01*p.y+s.m02,y:s.m10*p.x+s.m11*p.y+s.m12}}applyToRect(p){if(!p)return p;var s=p.left,d=p.top,o=this.matrix,m=0!==o.m01||0!==o.m10;if(!m&&1===o.m00&&1===o.m11)return{left:s+o.m02,top:d+o.m12,width:p.width,height:p.height};var y,S,h,E,c=p.left+p.width,C=p.top+p.height;if(m){var u=o.m00*s+o.m01*d+o.m02,f=o.m10*s+o.m11*d+o.m12,b=o.m00*s+o.m01*C+o.m02,V=o.m10*s+o.m11*C+o.m12,T=o.m00*c+o.m01*d+o.m02,P=o.m10*c+o.m11*d+o.m12,D=o.m00*c+o.m01*C+o.m02,w=o.m10*c+o.m11*C+o.m12;y=Math.min(u,b,T,D),S=Math.max(u,b,T,D),h=Math.min(f,V,P,w),E=Math.max(f,V,P,w)}else{var M=o.m00*s+o.m02,A=o.m11*d+o.m12,R=o.m00*c+o.m02,B=o.m11*C+o.m12;y=Math.min(M,R),S=Math.max(M,R),h=Math.min(A,B),E=Math.max(A,B)}return{left:y,top:h,width:S-y,height:E-h}}translate(p,s){if(0!==p||0!==s){var d=function(n,p){return{m00:1,m01:0,m02:n,m10:0,m11:1,m12:p}}(p,s);this.matrix=g(this.matrix,d),this._inverse=null}}scale(p,s){if(1!==p||1!==s){var d=function(n,p){return{m00:n,m01:0,m02:0,m10:0,m11:p,m12:0}}(p,s);this.matrix=g(this.matrix,d),this._inverse=null}}rotate(p){if(0!==p){var s=function(n){var p=n,s=Math.sin(p),d=Math.cos(p);return{m00:d,m01:-s,m02:0,m10:s,m11:d,m12:0}}(p);this.matrix=g(this.matrix,s),this._inverse=null}}add(p){p&&(this.matrix=g(this.matrix,p.matrix),this._inverse=null)}getInverse(){return this._inverse||(this._inverse=new r({m00:(n=this.matrix).m11*(s=1/(n.m00*n.m11-n.m01*n.m10)),m01:-n.m01*s,m02:(n.m01*n.m12-n.m02*n.m11)*s,m10:-n.m10*s,m11:n.m00*s,m12:-(n.m00*n.m12-n.m10*n.m02)*s})),this._inverse;var n,s}}function g(n,p){return{m00:n.m00*p.m00+n.m01*p.m10,m01:n.m00*p.m01+n.m01*p.m11,m02:n.m00*p.m02+n.m01*p.m12+n.m02,m10:n.m10*p.m00+n.m11*p.m10,m11:n.m10*p.m01+n.m11*p.m11,m12:n.m10*p.m02+n.m11*p.m12+n.m12}}},82372:function(ve,j,e){e.d(j,{B:function(){return a}});var r=e(650543),i=e(62414);class a{static createFromPt(l,g){return r.f.assert(()=>_.isFinite(l),"pt is not a number"),g&&(l=_.round(l,g)),new a(l,i.FP.fromPointToPixel(l))}static createFromPx(l,g){return r.f.assert(()=>_.isFinite(l),"px is not a number"),g&&(l=_.round(l,g)),new a(i.FP.toPoint(l),l)}static createFromElement(l){var g=l.css("font-size");return _.isEmpty(g)?void 0:a.createFromCSS(g)}static createFromCSS(l,g){if(r.f.assertValue(l,"fontSizeCSS"),"inherit"!==l){var n=l.slice(-2).toLowerCase();r.f.assert(()=>"pt"===n||"px"===n,"expected an absolute size");var p=parseFloat(l.slice(0,-2));switch(r.f.assert(()=>!isNaN(p),"value is NaN"),n){case"px":return a.createFromPx(p,g);case"pt":return a.createFromPt(p,g);default:r.f.assertFail(`Can not convert unit '${n}' to a FontSize`)}}}constructor(l,g){this.pt=l,this.px=g}equals(l){return this.pt===l.pt&&this.px===l.px}}},963694:function(ve,j,e){e.d(j,{O4:function(){return s},Re:function(){return o},WO:function(){return g},_W:function(){return d},kB:function(){return p},q5:function(){return v},x6:function(){return n}});var r=e(79365),i=e(251868),a=e(147818),t=e(405604),l=e(203032);function g(){return{solid:{color:"#FFF"}}}function n(){return 50}function p(){return!1}function s(){return{color:{solid:{color:"#FFF"}},transparency:50,show:!1}}function d(m,c){var C=a.cartesianChartProps.plotArea;return new i.CQ(new i.lg(l.sx.PlotBackground),"Visual_Plot_Background",[C.image,C.transparency],c).addGroup(void 0,y=>y.addSimpleSlice("image",new i.bD({descriptor:C.image,value:m&&m.image}).build()).addSimpleSlice("transparency",i.JN.getTransparencySliderBuilder({descriptor:C.transparency,value:m?.transparency??50,localize:c}).build(),S=>S.withDisabled(!m||!m.image||!m.image?.name&&!m.image?.url))).build()}function o(m,c,C){var y=m?.image?.url;if(y){var h,S=c.children(".background-image");switch(0===S.length&&(c.prepend('<div class="background-image"></div>'),(S=c.children(".background-image")).css("position","absolute")),m.image.scaling){case t.C.normal:h={"background-size":"","background-position":"50% 50%"};break;case t.C.fit:h={"background-size":"100% 100%","background-position":""};break;case t.C.fill:h={"background-size":"100%","background-position":"50% 50%"};break;default:h={"background-size":"","background-position":"50% 50%"}}S.css({...h,width:C.width,height:C.height,"margin-left":C.left,"margin-top":C.top,"background-image":`url(${y})`,"background-repeat":"no-repeat",opacity:(0,r.TD)(m.transparency)})}else v(c)}function v(m){m?.children(".background-image").remove()}},213980:function(ve,j,e){e.d(j,{$b:function(){return s},FJ:function(){return n},GC:function(){return p},H4:function(){return v},O4:function(){return d},kG:function(){return o}});var r=e(41394),i=e(691022),a=e(5496),t=e(876713),l="#000",g=!1,n=0,p=1;function s(m,c){return`${(0,r.yo)(m)?c:0}px ${(0,r.BK)(m)?c:0}px ${(0,r.mv)(m)?c:0}px ${(0,r.fs)(m)?c:0}px`}function d(){return{color:{solid:{color:l}},show:g,radius:n,width:p}}function o(m){if(m.isHighContrast)return{visible:!0,color:t.v.getThemeColor(m,a.fA),width:i.m0}}function v(m,c){c?.visible&&m.style("stroke",c.color).style("stroke-width",c.width)}},620768:function(ve,j,e){e.d(j,{e_:function(){return i},g:function(){return r},t2:function(){return t},tQ:function(){return a}});var r="Slider_Degree",i="Numeric_Pixel",a="Slider_Weight",t="Slider_Percent"},566779:function(ve,j,e){e.d(j,{OT:function(){return d},sd:function(){return p},u9:function(){return s}});var r=e(650543),i=e(824282),a=e(191282),t=e(719242),l=e(482693),g=e(759162);function p(o,v){if(_.isEmpty(o))return[];r.f.assertValue(v,"objectDescriptors");var m=[],c=function(y){for(var S in y.objects){var h=y.objects[S]&&y.objects[S].formattingProperties;if(!_.isEmpty(h))for(var E of h){var u={objectName:S,propertyName:E},f=(0,l.VM)(v,u),b=void 0;y.allowOverrideSubtotalMatching&&(r.f.assert(()=>(0,a.N6)(y.selector),"allowOverrideSubtotalMatching is only supported for Wildcard Selectors"),b=!0),f&&m.push({selector:y.selector,allowOverrideSubtotalMatching:b,altStaticSelector:y.altStaticSelector,propertyId:u,propertyDescriptor:f,containerName:y.containerName})}}};for(var C of o)c(C);return m}function s(o,v){return o===v||null==o&&null==v||!o==!v&&void 0===o.altStaticSelector==(void 0===v.altStaticSelector)&&!!o.allowOverrideSubtotalMatching==!!v.allowOverrideSubtotalMatching&&o.containerName===v.containerName&&_.isEqual(o.propertyDescriptor,v.propertyDescriptor)&&_.isEqual(o.propertyId,v.propertyId)&&(0,a.fS)(o.selector,v.selector)}function d(o,v){if(!v.allowOverrideSubtotalMatching)return(0,t.NA)(o,v.propertyId,v.selector);r.f.assert(()=>(0,a.N6)(v.selector),"allowOverrideSubtotalMatching is only supported for Wildcard Selectors");var m=[(0,g.Ue)(i.v.InstancesOnly),(0,g.Ue)(i.v.TotalsOnly),(0,g.Ue)(i.v.InstancesAndTotals)];for(var c of m){var C={data:[c],metadata:v.selector.metadata,id:v.selector.id},y=(0,t.NA)(o,v.propertyId,C);if(y)return v.selector=C,y}}},888701:function(ve,j,e){e.d(j,{DH:function(){return a},ss:function(){return i}});var r=e(420766);function i(){return{scrolling:{enabled:!1},selection:{enabled:!1},sorting:{enabled:!1,showActiveSortIcon:!0},columnResizing:{enabled:!1},interactivityIndicatorEnabled:!1,tooltipsEnabled:!0,expandCollapse:{buttonsOption:r.w.NonInteractive},showAsTableNativeMenuEnabled:!1}}function a(){return{scrolling:{enabled:!0},selection:{enabled:!0},sorting:{enabled:!0,showActiveSortIcon:!0},columnResizing:{enabled:!0},interactivityIndicatorEnabled:!0,tooltipsEnabled:!0,expandCollapse:{buttonsOption:r.w.Interactive},showAsTableNativeMenuEnabled:!1}}},634548:function(ve,j,e){function r(){return{scrolling:{enabled:!1},selection:{enabled:!1},sorting:{enabled:!1,showActiveSortIcon:!0},columnResizing:{enabled:!1},interactivityIndicatorEnabled:!1,tooltipsEnabled:!0}}function i(){return{scrolling:{enabled:!0},selection:{enabled:!0},sorting:{enabled:!0,showActiveSortIcon:!0},columnResizing:{enabled:!0},interactivityIndicatorEnabled:!0,tooltipsEnabled:!0}}e.d(j,{DH:function(){return i},ss:function(){return r}})},976707:function(ve,j,e){e.d(j,{FX:function(){return b},IC:function(){return f},Pi:function(){return E},Sc:function(){return u},UR:function(){return S},e9:function(){return h},u3:function(){return o}});var r=e(288497),i=e(5496),a=e(650543),t=e(902186),l=e(301336),g=e(230343),n=e(876713),p=e(41394),s=e(613384),d=e(469768),o='"',v=function(V){return V.unsafeTextContent="unsafeTextContent",V.safeTextContent="safeTextContent",V.attributeValue="attribute",V.codeOnly="codeOnly",V}({}),m=(()=>{class V{constructor(P,D,w,M,A,R){this.objectName=P,this.propertyName=D,this.defaultValue=w,this.usage=M,this.fallbackProperties=R,this.getterFunction=A||g.NA}getValue(P,D=!1,w,M,A,R){var B=this.getterFunction(P,this,this.defaultValue,A);if(A&&void 0===B&&(B=this.getValue(P,D)),w&&!w(P,this,A)&&!_.isNil(M)&&(B=M),void 0===B&&(_.isEmpty(this.fallbackProperties)||this.fallbackProperties.forEach((N,W)=>{B=N.getValue(P,D,void 0,void 0,R&&R[W])})),!D&&"string"==typeof B)switch(this.usage){case v.attributeValue:B=B.replace(V.AttributeDelimiter,o+o);break;case v.unsafeTextContent:B=(0,l.HZ)(B);break;case v.codeOnly:case v.safeTextContent:break;default:a.f.assertNever(this.usage)}return B}setInstanceProperty(P,D,w,M,A){var R=this.getValue(D,!0,w,M,A);return P&&P.properties&&(P.properties[this.propertyName]=R),R}setInstanceValidValues(P,D){P.validValues||(P.validValues={}),P.validValues[this.propertyName]=D}}return V.AttributeDelimiter=new RegExp(o,"g"),V})(),c="foregroundNeutralLight",y="foregroundNeutralSecondary",S=p.$m.Bottom,h=p.$m.Nil,E=p.$m.Right,u=p.$m.Top,f=p.$m.Nil,b=(()=>{class V{constructor(P){this.colorHelper=n.v.create(P);var D=(w,M,A,R)=>this.colorHelper.getColorForProperty(w,M,A,R);this.PropGridVerticalColor=new m(V.ObjectGrid,"gridVerticalColor",c,v.attributeValue,D),this.PropGridHorizontalColor=new m(V.ObjectGrid,"gridHorizontalColor",c,v.attributeValue,D),this.PropGridOutlineColor=new m(V.ObjectGrid,"outlineColor","foregroundNeutralTertiaryAlt",v.attributeValue,D),this.PropRowsOutlineColor=new m(V.ObjectRowHeaders,"outlineColor",void 0,v.attributeValue,D),this.PropColumnsOutlineColor=new m(V.ObjectColumnHeaders,"outlineColor",void 0,v.attributeValue,D),this.PropValuesOutlineColor=new m(V.ObjectValues,"outlineColor",void 0,v.attributeValue,D),this.PropTotalOutlineColor=new m(V.ObjectTotal,"outlineColor",void 0,v.attributeValue,D),this.PropBlankRowsBlankRowColor=new m(V.ObjectBlankRows,"blankRowColor",void 0,v.attributeValue,D),this.PropBlankRowsBorderColor=new m(V.ObjectBlankRows,"borderColor",void 0,v.attributeValue,D),this.PropColumnsFontColor=new m(V.ObjectColumnHeaders,"fontColor",y,v.attributeValue,D),this.PropColumnsBackColor=new m(V.ObjectColumnHeaders,"backColor",void 0,v.attributeValue,D),this.PropRowsFontColor=new m(V.ObjectRowHeaders,"fontColor",y,v.attributeValue,D),this.PropRowsBackColor=new m(V.ObjectRowHeaders,"backColor",void 0,v.attributeValue,D),this.PropRowsExpandCollapseButtonsColor=new m(V.ObjectRowHeaders,"expandCollapseButtonsColor",void 0,v.attributeValue,D),this.PropValuesFontColor=new m(V.ObjectValues,"fontColor",void 0,v.attributeValue,D),this.PropValuesFontColorPrimary=new m(V.ObjectValues,"fontColorPrimary",i.fA,v.attributeValue,D),this.PropValuesFontColorSecondary=new m(V.ObjectValues,"fontColorSecondary",i.fA,v.attributeValue,D),this.PropValuesBackColor=new m(V.ObjectValues,"backColor",void 0,v.attributeValue,D),this.PropValuesBackColorPrimary=new m(V.ObjectValues,"backColorPrimary",void 0,v.attributeValue,D),this.PropValuesBackColorSecondary=new m(V.ObjectValues,"backColorSecondary",void 0,v.attributeValue,D),this.PropTotalFontColor=new m(V.ObjectTotal,"fontColor",i.fA,v.attributeValue,D),this.PropTotalBackColor=new m(V.ObjectTotal,"backColor",void 0,v.attributeValue,D),this.PropSubTotalsFontColor=new m(V.ObjectSubTotals,"fontColor",void 0,v.attributeValue,D),this.PropSubTotalsBackColor=new m(V.ObjectSubTotals,"backColor",void 0,v.attributeValue,D),this.PropGrandTotalFontColor=new m(V.ObjectTotal,"fontColor",void 0,v.attributeValue,D),this.PropGrandTotalBackColor=new m(V.ObjectTotal,"backColor",void 0,v.attributeValue,D),this.PropColumnGrandTotalFontColor=new m(V.ObjectColumnTotal,"fontColor",void 0,v.attributeValue,D),this.PropColumnGrandTotalBackColor=new m(V.ObjectColumnTotal,"backColor",void 0,v.attributeValue,D),this.PropRowGrandTotalFontColor=new m(V.ObjectRowTotal,"fontColor",void 0,v.attributeValue,D),this.PropRowGrandTotalBackColor=new m(V.ObjectRowTotal,"backColor",void 0,v.attributeValue,D),this.PropColumnFormattingFontColor=new m(V.ObjectColumnFormatting,"fontColor",void 0,v.attributeValue,D),this.PropColumnFormattingBackColor=new m(V.ObjectColumnFormatting,"backColor",void 0,v.attributeValue,D)}}return V.ObjectGeneral="general",V.ObjectGrid="grid",V.ObjectBlankRows="blankRows",V.ObjectColumnHeaders="columnHeaders",V.ObjectRowHeaders="rowHeaders",V.ObjectValues="values",V.ObjectTotal="total",V.ObjectColumnTotal="columnTotal",V.ObjectRowTotal="rowTotal",V.ObjectSubTotals="subTotals",V.ObjectColumnFormatting="columnFormatting",V.ObjectColumnWidth="columnWidth",V.ObjectSparklines="sparklines",V.ObjectAccessibility="accessibility",V.PropColumnFormatString=new m(V.ObjectGeneral,"formatString",void 0,v.codeOnly),V.PropGeneralTableTotals=new m(V.ObjectGeneral,"totals",!0,v.codeOnly),V.PropGeneralMatrixRowSubtotals=new m(V.ObjectGeneral,"rowSubtotals",!0,v.codeOnly),V.PropGeneralMatrixColumnSubtotals=new m(V.ObjectGeneral,"columnSubtotals",!0,v.codeOnly),V.PropGeneralAutoSizeColumns=new m(V.ObjectGeneral,"autoSizeColumnWidth",!0,v.attributeValue),V.PropGeneralTextSize=new m(V.ObjectGeneral,"textSize",8,v.attributeValue),V.PropGeneralMatrixLayout=new m(V.ObjectGeneral,"layout",void 0,v.codeOnly),V.PropGridPivotTableTextSize=new m(V.ObjectGrid,"textSize",8,v.attributeValue),V.PropGridVertical=new m(V.ObjectGrid,"gridVertical",!1,v.codeOnly),V.PropGridVerticalWeight=new m(V.ObjectGrid,"gridVerticalWeight",1,v.attributeValue),V.PropGridHorizontalTable=new m(V.ObjectGrid,"gridHorizontal",!0,v.codeOnly),V.PropGridHorizontalMatrix=new m(V.ObjectGrid,"gridHorizontal",!1,v.codeOnly),V.PropGridHorizontalWeight=new m(V.ObjectGrid,"gridHorizontalWeight",1,v.attributeValue),V.PropGridRowPadding=new m(V.ObjectGrid,"rowPadding",0,v.attributeValue),V.PropGridOutlineStyle=new m(V.ObjectGrid,"outlineStyle",void 0,v.codeOnly),V.PropGridOutlineWeight=new m(V.ObjectGrid,"outlineWeight",1,v.attributeValue),V.PropGridImageHeight=new m(V.ObjectGrid,"imageHeight",75,v.attributeValue),V.PropGridImageWidth=new m(V.ObjectGrid,"imageWidth",void 0,v.attributeValue,void 0,[V.PropGridImageHeight]),V.PropBlankRowsShowBlankRows=new m(V.ObjectBlankRows,"showBlankRows",!1,v.attributeValue),V.PropBlankRowsTransparency=new m(V.ObjectBlankRows,"blankRowTransparency",0,v.attributeValue),V.PropBlankRowsShowBorder=new m(V.ObjectBlankRows,"showBorder",!1,v.attributeValue),V.PropBlankRowsBorderPosition=new m(V.ObjectBlankRows,"borderPosition",void 0,v.attributeValue),V.PropBlankRowsBorderTransparency=new m(V.ObjectBlankRows,"borderTransparency",0,v.attributeValue),V.PropBlankRowsBorderWidth=new m(V.ObjectBlankRows,"borderWidth",1,v.attributeValue),V.PropColumnsFontFamily=new m(V.ObjectColumnHeaders,"fontFamily",t.Wn.regular.css,v.attributeValue),V.PropColumnsOutline=new m(V.ObjectColumnHeaders,"outline",p.wI,v.codeOnly),V.PropColumnsOutlineStyle=new m(V.ObjectColumnHeaders,"outlineStyle",void 0,v.codeOnly),V.PropColumnsNewVisualOutline=new m(V.ObjectColumnHeaders,"outline",void 0,v.codeOnly),V.PropColumnsAlignment=new m(V.ObjectColumnHeaders,"alignment",d.H.auto,v.codeOnly),V.PropColumnsAlignmentTitle=new m(V.ObjectColumnHeaders,"titleAlignment",d.H.auto,v.codeOnly,null,[V.PropColumnsAlignment]),V.PropColumnPivotTableAutoSizeColumns=new m(V.ObjectColumnHeaders,"autoSizeColumnWidth",!0,v.codeOnly),V.PropColumnsWordWrap=new m(V.ObjectColumnHeaders,"wordWrap",!1,v.codeOnly),V.PropColumnsOutlineWeight=new m(V.ObjectColumnHeaders,"outlineWeight",void 0,v.attributeValue),V.PropColumnsUrlIcon=new m(V.ObjectColumnHeaders,"urlIcon",!1,v.codeOnly),V.PropColumnsFontSize=new m(V.ObjectColumnHeaders,"fontSize",void 0,v.attributeValue,void 0,[V.PropGridPivotTableTextSize]),V.PropColumnsBold=new m(V.ObjectColumnHeaders,"bold",!1,v.codeOnly),V.PropColumnsItalic=new m(V.ObjectColumnHeaders,"italic",!1,v.codeOnly),V.PropColumnsUnderline=new m(V.ObjectColumnHeaders,"underline",!1,v.codeOnly),V.PropRowsSteppedLayout=new m(V.ObjectRowHeaders,"stepped",!0,v.codeOnly),V.PropRowsSteppedLayoutIndentation=new m(V.ObjectRowHeaders,"steppedLayoutIndentation",10,v.attributeValue),V.PropRowsFontFamily=new m(V.ObjectRowHeaders,"fontFamily",t.Wn.regular.css,v.attributeValue),V.PropRowsOutline=new m(V.ObjectRowHeaders,"outline",p.RH,v.codeOnly),V.PropRowsPivotTableOutline=new m(V.ObjectRowHeaders,"outline",void 0,v.codeOnly),V.PropRowsOutlineStyle=new m(V.ObjectRowHeaders,"outlineStyle",void 0,v.codeOnly),V.PropRowsAlignment=new m(V.ObjectRowHeaders,"alignment",d.H.auto,v.codeOnly),V.PropRowsWordWrap=new m(V.ObjectRowHeaders,"wordWrap",!1,v.codeOnly),V.PropRowsOutlineWeight=new m(V.ObjectRowHeaders,"outlineWeight",void 0,v.attributeValue),V.PropRowsUrlIcon=new m(V.ObjectRowHeaders,"urlIcon",!1,v.codeOnly),V.PropRowsFontSize=new m(V.ObjectRowHeaders,"fontSize",void 0,v.attributeValue,void 0,[V.PropGridPivotTableTextSize]),V.PropRowsShowExpandCollapseButtons=new m(V.ObjectRowHeaders,"showExpandCollapseButtons",!1,v.codeOnly),V.PropRowsExpandCollapseButtonsSize=new m(V.ObjectRowHeaders,"expandCollapseButtonsSize",void 0,v.attributeValue,void 0,[V.PropRowsFontSize]),V.PropRowsBold=new m(V.ObjectRowHeaders,"bold",!1,v.codeOnly),V.PropRowsItalic=new m(V.ObjectRowHeaders,"italic",!1,v.codeOnly),V.PropRowsUnderline=new m(V.ObjectRowHeaders,"underline",!1,v.codeOnly),V.PropRowsExpandCompositeHierarchy=new m(V.ObjectRowHeaders,"expandCompositeHierarchy",!1,v.codeOnly),V.PropRowsRepeatRowHeaders=new m(V.ObjectRowHeaders,"repeatRowHeaders",!1,v.codeOnly),V.PropRowsLegacyStyleDisabled=new m(V.ObjectRowHeaders,"legacyStyleDisabled",!1,v.codeOnly),V.PropValuesFontFamily=new m(V.ObjectValues,"fontFamily",t.Wn.regular.css,v.attributeValue),V.PropValuesBandedRowHeaders=new m(V.ObjectValues,"bandedRowHeaders",!0,v.codeOnly),V.PropValuesOutline=new m(V.ObjectValues,"outline",p.YP,v.codeOnly),V.PropValuesOutlineStyle=new m(V.ObjectValues,"outlineStyle",void 0,v.codeOnly),V.PropValuesNewVisualOutline=new m(V.ObjectValues,"outline",void 0,v.codeOnly),V.PropValuesUrlIcon=new m(V.ObjectValues,"urlIcon",!1,v.codeOnly),V.PropValuesWordWrap=new m(V.ObjectValues,"wordWrap",!1,v.codeOnly),V.PropValuesOutlineWeight=new m(V.ObjectValues,"outlineWeight",void 0,v.attributeValue),V.PropValuesOnRow=new m(V.ObjectValues,"valuesOnRow",!1,v.attributeValue),V.PropValuesFontSize=new m(V.ObjectValues,"fontSize",void 0,v.attributeValue,void 0,[V.PropGridPivotTableTextSize]),V.PropValuesIcon=new m(V.ObjectValues,"icon",void 0,v.attributeValue),V.PropValuesWebURL=new m(V.ObjectValues,"webURL",void 0,v.attributeValue),V.PropValuesBold=new m(V.ObjectValues,"bold",!1,v.codeOnly),V.PropValuesItalic=new m(V.ObjectValues,"italic",!1,v.codeOnly),V.PropValuesUnderline=new m(V.ObjectValues,"underline",!1,v.codeOnly),V.PropTotalTableExTotals=new m(V.ObjectTotal,"totals",!0,v.codeOnly),V.PropTotalTableExTotalLabel=new m(V.ObjectTotal,"label",null,v.safeTextContent),V.PropTotalOutline=new m(V.ObjectTotal,"outline",p.j0,v.codeOnly),V.PropTotalTableExOutline=new m(V.ObjectTotal,"outline",void 0,v.codeOnly),V.PropTotalOutlineStyle=new m(V.ObjectTotal,"outlineStyle",void 0,v.codeOnly),V.PropTotalOutlineWeight=new m(V.ObjectTotal,"outlineWeight",void 0,v.attributeValue),V.PropTotalFontFamily=new m(V.ObjectTotal,"fontFamily",void 0,v.attributeValue,void 0,[V.PropValuesFontFamily]),V.PropTotalFontSize=new m(V.ObjectTotal,"fontSize",void 0,v.attributeValue,void 0,[V.PropValuesFontSize]),V.PropTotalBold=new m(V.ObjectTotal,"bold",!0,v.codeOnly),V.PropTotalItalic=new m(V.ObjectTotal,"italic",!1,v.codeOnly),V.PropTotalUnderline=new m(V.ObjectTotal,"underline",!1,v.codeOnly),V.PropSubTotalsPivotTableRowSubtotals=new m(V.ObjectSubTotals,"rowSubtotals",!0,v.codeOnly),V.PropSubTotalsPivotTableRowSubtotalsLabel=new m(V.ObjectSubTotals,"rowSubtotalsLabel",null,v.safeTextContent),V.PropSubTotalsPivotTableRowSubtotalsPerLevel=new m(V.ObjectSubTotals,"perRowLevel",!1,v.codeOnly),V.PropSubTotalsPivotTableColumnSubtotals=new m(V.ObjectSubTotals,"columnSubtotals",!0,v.codeOnly),V.PropSubTotalsPivotTableColumnSubtotalsLabel=new m(V.ObjectSubTotals,"columnSubtotalsLabel",null,v.safeTextContent),V.PropSubTotalsPivotTableColumnSubtotalsPerLevel=new m(V.ObjectSubTotals,"perColumnLevel",!1,v.codeOnly),V.PropSubTotalsPivotTableLevelSubtotalEnabled=new m(V.ObjectSubTotals,"levelSubtotalEnabled",!0,v.codeOnly),V.PropSubTotalsPivotTableLevelSubtotalLabel=new m(V.ObjectSubTotals,"levelSubtotalLabel",null,v.safeTextContent),V.PropSubTotalsPivotTableRowSubtotalsPosition=new m(V.ObjectSubTotals,"rowSubtotalsPosition",void 0,v.codeOnly,(T,P,D)=>V.PropGeneralMatrixLayout.getValue(T)===r.t.Tabular?s.I:(0,g.NA)(T,P,D)??(V.PropRowsSteppedLayout.getValue(T)?s.we:s.I)),V.PropSubTotalsApplyToHeaders=new m(V.ObjectSubTotals,"applyToHeaders",!1,v.codeOnly),V.PropSubTotalsFontFamily=new m(V.ObjectSubTotals,"fontFamily",void 0,v.attributeValue,void 0,[V.PropValuesFontFamily]),V.PropSubTotalsFontSize=new m(V.ObjectSubTotals,"fontSize",void 0,v.attributeValue,void 0,[V.PropValuesFontSize]),V.PropSubTotalsBold=new m(V.ObjectSubTotals,"bold",!0,v.codeOnly),V.PropSubTotalsItalic=new m(V.ObjectSubTotals,"italic",!1,v.codeOnly),V.PropSubTotalsUnderline=new m(V.ObjectSubTotals,"underline",!1,v.codeOnly),V.PropGrandTotalApplyToHeaders=new m(V.ObjectTotal,"applyToHeaders",!1,v.codeOnly),V.PropGrandTotalFontFamily=new m(V.ObjectTotal,"fontFamily",void 0,v.attributeValue,void 0,[V.PropSubTotalsFontFamily]),V.PropGrandTotalFontSize=new m(V.ObjectTotal,"fontSize",void 0,v.attributeValue,void 0,[V.PropSubTotalsFontSize]),V.PropGrandTotalBold=new m(V.ObjectTotal,"bold",!0,v.codeOnly),V.PropGrandTotalItalic=new m(V.ObjectTotal,"italic",!1,v.codeOnly),V.PropGrandTotalUnderline=new m(V.ObjectTotal,"underline",!1,v.codeOnly),V.PropColumnGrandTotalApplyToHeaders=new m(V.ObjectColumnTotal,"applyToHeaders",!1,v.codeOnly),V.PropColumnGrandTotalFontFamily=new m(V.ObjectColumnTotal,"fontFamily",void 0,v.attributeValue,void 0,[V.PropSubTotalsFontFamily]),V.PropColumnGrandTotalFontSize=new m(V.ObjectColumnTotal,"fontSize",void 0,v.attributeValue,void 0,[V.PropSubTotalsFontSize]),V.PropColumnGrandTotalBold=new m(V.ObjectColumnTotal,"bold",!0,v.codeOnly),V.PropColumnGrandTotalItalic=new m(V.ObjectColumnTotal,"italic",!1,v.codeOnly),V.PropColumnGrandTotalUnderline=new m(V.ObjectColumnTotal,"underline",!1,v.codeOnly),V.PropRowGrandTotalApplyToHeaders=new m(V.ObjectRowTotal,"applyToHeaders",!1,v.codeOnly),V.PropRowGrandTotalFontFamily=new m(V.ObjectRowTotal,"fontFamily",void 0,v.attributeValue,void 0,[V.PropSubTotalsFontFamily]),V.PropRowGrandTotalFontSize=new m(V.ObjectRowTotal,"fontSize",void 0,v.attributeValue,void 0,[V.PropSubTotalsFontSize]),V.PropRowGrandTotalBold=new m(V.ObjectRowTotal,"bold",!0,v.codeOnly),V.PropRowGrandTotalItalic=new m(V.ObjectRowTotal,"italic",!1,v.codeOnly),V.PropRowGrandTotalUnderline=new m(V.ObjectRowTotal,"underline",!1,v.codeOnly),V.PropColumnFormattingDisplayUnits=new m(V.ObjectColumnFormatting,"labelDisplayUnits",1,v.codeOnly,g.NA),V.PropColumnFormattingPrecision=new m(V.ObjectColumnFormatting,"labelPrecision",void 0,v.codeOnly,g.NA),V.PropColumnFormattingAlignment=new m(V.ObjectColumnFormatting,"alignment",d.H.auto,v.codeOnly),V.PropColumnFormattingStyleHeader=new m(V.ObjectColumnFormatting,"styleHeader",!1,v.codeOnly),V.PropColumnFormattingStyleValues=new m(V.ObjectColumnFormatting,"styleValues",!0,v.codeOnly),V.PropColumnFormattingStyleSubtotals=new m(V.ObjectColumnFormatting,"styleSubtotals",!0,v.codeOnly),V.PropColumnFormattingDataBars=new m(V.ObjectColumnFormatting,"dataBars",void 0,v.codeOnly),V.PropColumnFormattingStyleTotal=new m(V.ObjectColumnFormatting,"styleTotal",!1,v.codeOnly),V.PropColumnWidthValue=new m(V.ObjectColumnWidth,"value",void 0,v.attributeValue),V.PropAltTextValue=new m(V.ObjectAccessibility,"altTextColumns",void 0,v.attributeValue),V.ProprowWithReferenceText=new m(V.ObjectAccessibility,"rowWithReferenceText",void 0,v.attributeValue),V.PropUnfrozenRowHeaders=new m(V.ObjectRowHeaders,"unfrozen",!1,v.codeOnly),V})()},398146:function(ve,j,e){e.d(j,{WD:function(){return L},dz:function(){return W},yI:function(){return U}});var r=e(79365),i=e(759167),a=e(650543),t=e(902186),l=e(837515),g=e(610358),n=e(176219),p=e(992627),s=e(633953),d=e(672576),o=e(868797),v=e(613670),m=e(82372),c=e(538451),C=(0,i.CH)("tooltip-container"),y=(0,i.CH)("tooltip-light"),S=(0,i.CH)("tooltip-content-container"),h=(0,i.CH)("tooltip-data-container"),E=(0,i.CH)("tooltip-icon-cell"),u=(0,i.CH)("tooltip-line-icon"),f=(0,i.CH)("tooltip-marker-icon"),b=(0,i.CH)("tooltip-header"),V=(0,i.CH)("tooltip-subheader"),T=(0,i.CH)("tooltip-footer"),P=(0,i.CH)("tooltip-discoverabilityText"),D=(0,i.CH)("tooltip-rows-container"),w=(0,i.CH)("tooltip-row"),M=(0,i.CH)("tooltip-title-cell"),A=(0,i.CH)("tooltip-value-cell"),R=(0,i.CH)("tooltip-kpi-cell"),B=(0,i.CH)("arrow"),N=m.B.createFromPt(9),W={titleFontProperties:{color:"#C8C8C8",family:t.Wn.regular.css,size:N,weight:"700"},valueFontProperties:{color:"#EAEAEA",family:t.Wn.semibold.css,size:N,weight:"700"},actionFontProperties:{color:"#EAEAEA",family:t.Wn.regular.css,size:m.B.createFromPx(10)},background:{solid:{color:"#333333"}},transparency:5},U=31;class L{constructor(){}create(z){var H=$("<div>").get(0);return(this.container=d3.select(H).classed(S.class,!0)).append("div").classed(h.class,!0).style("direction","ltr").attrs({tabindex:"0",focusable:"true",role:"dialog","aria-modal":"false",ariaLabel:z||null}),H}update(z){if(null==z.style&&(z.style=W),a.f.assert(()=>!!z.style.titleFontProperties,"Title Font Properties Should Be Defined"),a.f.assert(()=>!!z.style.valueFontProperties,"Value Font Properties Should Be Defined"),!_.isEqual(z,this.currentData)&&(this.currentData=z,this.textTitleFontProperty=(0,p.qk)(z.style.titleFontProperties),this.textValueFontProperty=(0,p.qk)(z.style.valueFontProperties),this.container.data)){var H=this.buildViewModel(z);this.dataContainer||(this.dataContainer=this.container.select(h.selector));var J=this.dataContainer,k=this.currentData.style;J.selectAll(V.selector).remove(),J.selectAll(b.selector).remove(),J.selectAll(D.selector).remove(),J.selectAll(w.selector).remove(),J.selectAll(T.selector).remove(),J.selectAll(P.selector).remove(),J.selectAll(V.selector).data(_.filter([H.subheader],Q=>!!Q)).join(Q=>Q.append("div").attr("class",V.class)).text(H.subheader).styles((0,p.jB)(()=>k.valueFontProperties)),J.selectAll(b.selector).data(_.filter([H.header],Q=>!!Q)).join(Q=>Q.append("div").attr("class",b.class).attr("role","heading")).text(H.header).styles((0,p.jB)(()=>k.valueFontProperties)),this.updateTooltipRows(J,H.rows),J.selectAll(P.selector).data(_.filter([H.discoverabilityText],Q=>!!Q)).join(Q=>Q.append("div").attr("class",P.class)).text(H.discoverabilityText).styles(k.discoverabilityFontProperties?(0,p.jB)(()=>k.discoverabilityFontProperties):{}),J.selectAll(T.selector).data(_.filter([H.footer],Q=>!!Q)).join(Q=>Q.append("div").attr("class",T.class)).text(H.footer);var G=d3.select(C.selector),q=G.selectAll(B.selector);if(L.isFieldListTooltip())return this.container.styles({"background-color":null,"font-family":null,opacity:null}),void q.styles({"border-right-color":null,"border-left-color":null,opacity:null});q.styles({"border-right-color":k.background?.solid.color,"border-left-color":k.background?.solid.color,opacity:(0,r.TD)(k.transparency)}),G.selectAll(S.selector).attr("aria-live","polite").styles({"background-color":k.background?.solid.color,opacity:(0,r.TD)(k.transparency)}),G.select(h.selector).selectAll(M.selector).styles((0,p.jB)(()=>k.titleFontProperties)),G.select(h.selector).selectAll(A.selector).styles((0,p.jB)(()=>k.valueFontProperties))}}static isFieldListTooltip(){var z=d3.select(C.selector);return z.node()&&z.classed(y.class)}setFocus(){this.dataContainer.node().focus()}updateTooltipRows(z,H){z.selectAll(w.selector).remove(),z.selectAll(D.selector).remove();var k=z.append("div").attrs({class:D.class,role:"list"}).selectAll(w.selector).data(H).join(re=>re.append("div").attr("role","listitem").classed(w.class,!0)),G=re=>!!re?.line,q=re=>(0,g.aI)(G(re)?U/2:5,8,5/o.$V);function Q(re,te,se){re.selectAll("div").data(Ve=>Ve).join(Ve=>Ve.append("div")).text(Ve=>l.b.getTailoredTextOrDefault({...te,text:Ve},se))}k.selectAll(E.selector).data(re=>_.filter([re.icon],te=>void 0!==te)).join(re=>re.append("div").classed(E.class,!0).call(te=>te.append("svg").attr("height","15px").style("overflow","visible").call(se=>{se.append("path").classed(u.class,!0),se.append("path").classed(f.class,!0)}))).style("max-width",re=>`${G(re)?U:13}px`).call(re=>{re.selectAll("svg").attr("width",te=>G(te)?U:"100%"),re.selectAll(u.selector).attrs({transform:q,d:te=>G(te)?"M 0 0 M -"+U/2+" 0 L "+U/2+" 0":null}).styles(te=>(0,v.b)(te?.line)),re.selectAll(f.selector).attrs({transform:q,d:te=>(0,d.Ar)(te?.marker?.shape||c.ZO.circle)}).styles(te=>(0,d.lW)(te?.marker,void 0))}),Q(k.selectAll(M.selector).data(re=>_.filter([re.displayNameRows],te=>!!te)).join(re=>re.append("div").classed(M.class,!0)),this.textTitleFontProperty,260),Q(k.selectAll(A.selector).data(re=>_.filter([re.valueRows],te=>!_.isEmpty(te))).join(re=>re.append("div").classed(A.class,!0)),this.textValueFontProperty,260),k.selectAll(R.selector).data(re=>_.filter([re.kpiValue],te=>!!te)).join(re=>re.append("div").styles({"vertical-align":"middle",margin:0})).attr("class",re=>`${R.class} ${(0,s.sq)(re.metadata,re.value)}`),k.each(function(re){var te=re.extraPadding;null!=te&&d3.selectAll(this.children).style("padding-top","top"===te?"5px":null).style("padding-bottom","bottom"===te?"5px":null)})}updateOptions(z){if(this.dataContainer){var H=z.dataContainerWidth;this.dataContainer.style("width",null!=H?`${H}px`:"")}}buildViewModel(z){var H=z.items,J=_.chain(H).filter(X=>this.isValidDataItem(X)).map(X=>this.buildRowViewModel(X,z.style.titleFontProperties.color)).value();this.distributeRows(J,z.bounds);var k=_.head(H),G=_.last(H),q=_.some(J,X=>X.icon),Q=_.some(J,X=>X.valueRows||X.kpiValue);if(q||Q)for(var Z of J)q&&void 0===Z.icon&&(Z.icon=null),Q&&void 0===Z.valueRows&&null==Z.kpiValue&&(Z.valueRows=[]);return{footer:G?.footer,hasIcons:q,hasValues:Q,header:k?.header,subheader:k?.subheader,rows:J,discoverabilityText:z.discoverabilityText}}buildRowViewModel(z,H){var J=z.marker?.shape===c.ZO.lowerErrorBar,k=z.marker?.shape===c.ZO.upperErrorBar;return H&&(J||k)&&(z.marker.color=H),a.f.assert(()=>!(z.kpiValue&&z.value),"Should not have a `value` and a `kpiValue`"),{displayNameRows:[z.displayName],icon:z.marker?.color?{line:z.line,marker:z.marker}:void 0,kpiValue:z.kpiValue,valueRows:null==z.value||z.kpiValue?void 0:[z.value],extraPadding:z.marker?.color?k?"top":J?"bottom":void 0:void 0}}isValidDataItem(z){return z?null!=z.displayName&&"string"!=typeof z.displayName?(a.f.assertFail("Tooltip datapoint displayName must be a string"),!1):null==z.value||"string"==typeof z.value||(a.f.assertFail("Tooltip datapoint value must be a string"),!1):(a.f.assertFail("Tooltip datapoint must not be null/undefined"),!1)}getRowHeight(){return Math.max(l.b.estimateSvgTextHeight(this.textTitleFontProperty),l.b.estimateSvgTextHeight(this.textValueFontProperty))}distributeRows(z,H){for(var J=this,q=H.height/this.getRowHeight(),Q=0,Z=[],X=[],re=[],te=[],se=function(){var Ke=z[Ve];a.f.assert(()=>1===Ke.displayNameRows.length,"Expected `displayNameRows` to have 1 row"),a.f.assert(()=>null==Ke.valueRows||1===Ke.valueRows.length,"Expected `valueRows` to be `undefined` or have 1 row");var Ne,we=re[Ve]=(0,n.ql)(Ke.displayNameRows[0],J.textTitleFontProperty,l.b.measureSvgTextWidth,260,q,null,!1,!0);null!=Ke.valueRows&&(Ne=te[Ve]=(0,n.ql)(Ke.valueRows[0],J.textValueFontProperty,l.b.measureSvgTextWidth,260,q,null,!1,!0));var Ie=Math.max(we.length,Ne?Ne.length:0);Z.push(Ie),Q+=Ie},Ve=0;Ve<z.length;Ve++)se();if(Q<=q)X=Z;else for(var ke=q-z.length,Ue=0;Ue<z.length;Ue++)X[Ue]=1+Math.round(Math.max(ke,0)*(Z[Ue]/q));for(var ot=0;ot<z.length;ot++){var ft=z[ot];ft.displayNameRows=this.getRows(re[ot],X[ot]),te[ot]&&(ft.valueRows=this.getRows(te[ot],X[ot]))}}getRows(z,H){return z.length>H+1?z[H-1]+=z[H]+"\u2026":z.length>H&&(z[H-1]+=z[H]),z.slice(0,H)}}},751839:function(ve,j,e){e.d(j,{A7:function(){return S},Pk:function(){return m},PK:function(){return c},SR:function(){return C}});var s,r=e(405894),i=e(660869),a=e(349672),t=e(971831),l=e(598772),g="G";class p{constructor(E,u,f){this.maxMemoryCacheSize=E,this.maxMemoryCacheSizeOverflow=u,this.localStorageCache=f,this.geocodeCache={},this.geocodeCacheCount=0,this.localStorageCache=f}clear(E,u){var f=this;return(0,a.Z)(function*(){E&&u.isSupported()&&(yield u.clear()),(0,t.LK)(g),f.geocodeCache={},f.geocodeCacheCount=0})()}getCoordinates(E,u,f,b){var V=this;return(0,a.Z)(function*(){var T=E.getKey(),P=V.geocodeCache[T];if(P)return++P.hitCount,P.coordinate;var D=void 0;if(f&&b.isSupported()&&(D=yield b.get(T)),!D&&(!f||!b.isSupported()||V.isBingQuery(E))&&(D=V.localStorageCache.getData(T)),D)return u&&u.logFirstQueryHit(E),V.registerInMemory(T,D,u,f,b),D;void 0===P&&(u&&u.logFirstQueryMiss(E),V.markPendingInMemory(T))})()}getCoordinatesMemoryOnly(E,u){var f=E.getKey(),b=this.geocodeCache[f];if(b)return++b.hitCount,b.coordinate}registerCoordinates(E,u,f,b,V){var T=this;return(0,a.Z)(function*(){T.registerInMemory(E,u,f,b,V);var P=p.getCoordinateToCache(u);b&&V.isSupported()?yield V.set(E,P,()=>f.logGeocodeCacheLimitExceeded(!0)):T.localStorageCache.setData(E,P,()=>f.logGeocodeCacheLimitExceeded(!1))})()}markPendingInMemory(E){this.geocodeCache[E]=null}registerInMemory(E,u,f,b,V){var T=this.geocodeCache,P=this.maxMemoryCacheSize,D=P+this.maxMemoryCacheSizeOverflow;if(this.geocodeCacheCount>=D){f&&f.disableFirstQueryLogging();var w=Object.keys(T),M=w.length;if(w.sort((N,W)=>{var F=T[N],U=T[W];return(U?U.hitCount:0)-(F?F.hitCount:0)}),M<2*D)for(var A=P-1;A<M;A++)T[w[A]]=void 0;else{for(var R={},B=P-1;B-- >0;)R[w[B]]=T[w[B]];T=this.geocodeCache=R}this.geocodeCacheCount=P}b&&V.isSupported()&&null==u&&(u={latitude:void 0,longitude:void 0}),T[E]={coordinate:u,hitCount:1},++this.geocodeCacheCount}isBingQuery(E){return E instanceof l.xm||E instanceof l.cq||E instanceof l.Ei}static getCoordinateToCache(E){var u=E?.locations;if(!u||!p.hasRuntimeBoundaryData(u))return E;var f={latitude:E.latitude,longitude:E.longitude,locations:_.map(u,b=>({nativeBing:b.nativeBing}))};return E.entityType&&(f.entityType=E.entityType),f}static hasRuntimeBoundaryData(E){for(var u of E)for(var f in u)if("nativeBing"!==f)return!0;return!1}}function v(){return s||(s=new p(r.Zr.MaxCacheSize,r.Zr.MaxCacheSizeOverflow,(0,t.T5)(g,i.XF,r.Zr.MaxPersistedSpace,r.Zr.MaxAge))),s}function m(h,E,u,f){return h.getKey()?v().getCoordinates(h,E,u,f):Promise.resolve(void 0)}function c(h,E){if(h.getKey())return v().getCoordinatesMemoryOnly(h,E)}function C(h,E,u,f,b){return h?v().registerCoordinates(h,E,u,f,b):Promise.resolve(void 0)}function S(h,E){return v().clear(h,E)}},660869:function(ve,j,e){e.d(j,{$o:function(){return u},Cp:function(){return a},Eb:function(){return t},Ee:function(){return g},H6:function(){return f},KE:function(){return p},N$:function(){return l},Of:function(){return V},Os:function(){return c},S3:function(){return h},TT:function(){return d},Tu:function(){return y},UL:function(){return S},Wp:function(){return w},XF:function(){return o},a_:function(){return v},cK:function(){return D},fk:function(){return i},j3:function(){return E},mQ:function(){return P},t4:function(){return C},uC:function(){return s},xS:function(){return T},yL:function(){return m}}),e(405894);var i={Continent:"Continent",Sovereign:"Sovereign",CountryRegion:"CountryRegion",AdminDivision1:"AdminDivision1",AdminDivision2:"AdminDivision2",PopulatedPlace:"PopulatedPlace",Postcode:"Postcode",Postcode1:"Postcode1",Neighborhood:"Neighborhood",Address:"Address"},a=function(M){return M.UpHierarchy="UpHierarchy",M.Ambiguous="Ambiguous",M}({}),t=function(M){return M[M.Geocode=0]="Geocode",M[M.Geoboundary=1]="Geoboundary",M[M.Geopoint=2]="Geopoint",M[M.BatchGeocode=3]="BatchGeocode",M[M.GeocodeAzureMaps=4]="GeocodeAzureMaps",M[M.GeolocationAzureMaps=5]="GeolocationAzureMaps",M[M.GeoboundaryAzureMaps=6]="GeoboundaryAzureMaps",M[M.BatchGeocodeAzureMaps=7]="BatchGeocodeAzureMaps",M}({}),l=function(M){return M.GetGeocoding="/geocode",M.GetGeocodingBatch="/geocode:batch",M.GetPolygon="/search/polygon",M.GetIPToLocation="/geolocation",M}({}),g="2023-06-01",p="multigeocode",s=100,d=30,o="4",v="https://platform.bing.com/geo/spatial/v1/public/Geodata",m="https://dev.virtualearth.net/REST/v1/Locations",c="/public/azuremaps",C="https://atlas.microsoft.com",y=`${C}${l.GetGeocoding}`,S=`${C}${l.GetGeocodingBatch}`,h=`${C}${l.GetPolygon}`,E=`${C}${l.GetIPToLocation}`,u={adminDistrict:"AdminDistrict",locality:"Locality",postalCode:"PostalCode",addressLine:"AddressLine",countryRegion:"CountryRegion"},f={AdminDistrict:"adminDistrict",Locality:"locality",PostalCode:"postalCode",AddressLine:"addressLine",CountryRegion:"countryRegion"},V={Sovereign:"countryRegion",CountryRegion:"countryRegion",AdminDivision1:"adminDistrict",AdminDivision2:"adminDistrict",PopulatedPlace:"locality",Postcode:"postalCode",Postcode1:"postalCode",Neighborhood:"locality",Address:"addressLine"},T={Sovereign:"countryRegion",CountryRegion:"countryRegion",AdminDivision1:"adminDistrict",AdminDivision2:"adminDistrict",PopulatedPlace:"locality",Postcode:"postalCode",Postcode1:"postalCode",Neighborhood:"locality",Address:"addressLine"},P={Continent:"continent",CountryRegion:"countryRegion",AdminDivision1:"adminDistrict",AdminDivision2:"adminDistrict2",AdminDivision3:"adminDistrict3",PopulatedPlace:"locality",Postcode1:"postalCode",Postcode2:"postalCode2",Postcode3:"postalCode3",Postcode4:"postalCode4",Neighborhood:"neighborhood"},D=function(M){return M.EmptyResult="Geocode result is empty.",M}({}),w=function(M){return M.Small="small",M.Medium="medium",M.Large="large",M.Huge="huge",M}({})},506867:function(ve,j,e){e.d(j,{$F:function(){return t},MB:function(){return v},OU:function(){return o},PR:function(){return c},SN:function(){return n},VB:function(){return d},Wu:function(){return s},X5:function(){return g},rg:function(){return m}});var r=e(84838),i=e(149222),a=e(660869);function t(){return function(y){switch(y.toLowerCase()){case"fr":return"fr-FR";case"de":return"de-DE";case"da":return"da-DK";case"es":return"es-ES";case"it":return"it-IT";case"nl":return"nl-BE";case"af":case"am":case"ar-sa":case"as":case"az-atn":case"be":case"bg":case"bn-bd":case"bn-in":case"bs":case"ca":case"ca-es-valencia":case"cs":case"cy":case"de-de":case"el":case"en-gb":case"en-us":case"es-es":case"es-us":case"es-mx":case"et":case"eu":case"fa":case"fi":case"fil-latn":case"fr-fr":case"fr-ca":case"ga":case"gd-latn":case"gl":case"gu":case"ha-latn":case"he":case"hi":case"hr":case"hu":case"hy":case"id":case"ig-latn":case"is":case"it-it":case"ja":case"ka":case"kk":case"km":case"kn":case"ko":case"kok":case"ku-arab":case"ky-cyrl":case"lb":case"lt":case"lv":case"mi-latn":case"mk":case"ml":case"mn-cyrl":case"mr":case"ms":case"mt":case"nb":case"ne":case"nl-be":case"nn":case"nso":case"or":case"pa":case"pa-arab":case"pl":case"prs-arab":case"pt-br":case"pt-pt":case"qut-latn":case"quz":case"ro":case"ru":case"rw":case"sd-arab":case"si":case"sk":case"sl":case"sq":case"sr-cryl-ba":case"sr-cryl-rs":case"sr-latn-rs":case"sv":case"sw":case"ta":case"te":case"tg-cyrl":case"th":case"ti":case"tk-latn":case"tn":case"tr":case"tt-cyrl":case"ug-arab":case"uk":case"ur":case"uz-latn":case"vi":case"wo":case"xh":case"yo-latn":case"zh-hans":case"zh-hant":case"zh-cn":case"zu":return y;default:return null}}(i.M.getLanguage())}function g(y){return!p(y,a.Cp.UpHierarchy)}function n(y){return!p(y,a.Cp.Ambiguous)}function p(y,S){return _.some(y,h=>h===S)}function s(y){for(var S=5276,h=0;h<y.length;h++)S=(S<<5)-S+y.charCodeAt(h),S|=0;return Math.abs(S)}function d(y){switch(y=y.toUpperCase()){case"ZH-HANS":case"ZH-HANT":return"CN"}var S=y.split("-",2);return S.length>1?S[1]:""}function o(y){r.fM.information("georequest",void 0,y)}function v(y,S){r.fM.error(`geocoding IndexedDB ${y} failure`,!0,void 0,S)}function m(y){return y?y.getAllResponseHeaders():void 0}var c=function(y){return y.Init="init",y.Get="get",y.Set="set",y.Clear="clear",y}({})},588473:function(ve,j,e){e.d(j,{T:function(){return i},p:function(){return a}});var r=e(598772);function i(t,l,g){t&&(l instanceof r.xm?t.logGeocodeImmediate(l,g):l instanceof r.Ei?t.logGeocodeBoundaryImmediate(l,g):l instanceof r.rO?t.logAzureMapsGeocodeImmediate(l):l instanceof r.ag&&t.logAzureMapsGeocodeBoundaryImmediate(l))}function a(t,l,g,n,p,s){t&&(l instanceof r.xm?(t.logGeocodeResult(l,g,n,p),t.logBatchTelemetry(l)):l instanceof r.Ei?t.logGeocodeBoundaryResult(l,g,n,p):l instanceof r.rO?(t.logAzureMapsGeocodeResult(l,g,n,p,s),t.logBatchTelemetry(l)):l instanceof r.ag?t.logAzureMapsGeocodeBoundaryResult(l,g,n,p,s):l instanceof r.ph&&t.logAzureMapsGeolocationResult(l,g,n,p,s))}},133589:function(ve,j,e){e.d(j,{M:function(){return r}});var r=(()=>{class i{static setMapsAjaxCall(t){i.MapsAjaxCall=t}}return i.MapsAjaxCall=$.ajax,i})()},380696:function(ve,j,e){e.d(j,{n:function(){return E},G:function(){return h}});var r=e(349672),i=e(650543),a=e(546825),t=e(621083),l=e(598772),g=e(751839),n=e(704251),p=e(447988),s=e(405894),d=e(660869),o=e(588473),v=e(133589),m=e(506867);class c{constructor(f,b,V){this.baseUrl=f,this.credentials=b,this.entries=[],this.activeEntries=[],this.inDequeue=!1,this.geocodeRetryOptions=V.geocodeRetryOptions,this.tryIndexedDB=V.tryIndexedDB,this.indexedDBService=V.indexedDBService,this.instanceId=V.instanceId,this.queueName=V.queueName}getInstanceId(){return this.instanceId}getQueueName(){return this.queueName}reset(){var f=this.dequeueTimeout;for(var b of(f&&(this.dequeueTimeout=void 0,clearTimeout(f)),this.entries.concat(this.activeEntries)))this.cancel(b);this.entries=[],this.activeEntries=[]}enqueue(f){var b={item:f};this.entries.push(b),f.deferred.always(()=>{this.cancel(b)}),this.dequeue()}dequeue(){if(!this.inDequeue&&!this.dequeueTimeout)try{for(this.inDequeue=!0;0!==this.entries.length&&this.activeEntries.length<s.Zr.MaxBingRequest;){var f=this.entries.shift();f.isCompleted||(this.geocodeRetryOptions?this.makeRequest(f,0,this.geocodeRetryOptions.initialRetryIntervalInMs):this.makeRequest(f))}}finally{this.inDequeue=!1}}scheduleDequeue(){!this.dequeueTimeout&&0!==this.entries.length&&(this.dequeueTimeout=setTimeout(()=>{this.dequeueTimeout=void 0,this.dequeue()}))}cancel(f){if(!f.jsonp){var b=f.request;b&&(f.request=null,b.abort())}this.complete(f,{error:new Error("cancelled")})}complete(f,b,V){var T=!1;if(!f.isCompleted&&(f.isCompleted=!0,f.item.deferred.state()===a.O[a.O.pending])){var P=this.tryIndexedDB&&this.indexedDBService.isSupported(),D=!f.item.bypassCache&&!V;!b||b.error?P&&D&&b?.error?.message===d.cK.EmptyResult?(T=!0,(0,g.SR)(f.item.query.getKey(),void 0,f.item.logger,this.tryIndexedDB,this.indexedDBService).then(()=>{f.item.deferred.reject(b&&b.error||new Error("cancelled")),this.scheduleDequeue()},w=>{(0,m.MB)(m.PR.Set,{error:JSON.stringify(w)}),f.item.deferred.reject(b&&b.error||new Error("cancelled")),this.scheduleDequeue()})):f.item.deferred.reject(b&&b.error||new Error("cancelled")):D&&b?.coordinates?(T=!0,(0,g.SR)(f.item.query.getKey(),b.coordinates,f.item.logger,this.tryIndexedDB,this.indexedDBService).then(()=>{f.item.deferred.resolve(b.coordinates),this.scheduleDequeue()},w=>{P&&(0,m.MB)(m.PR.Set,{error:JSON.stringify(w)}),f.item.deferred.resolve(b.coordinates),this.scheduleDequeue()})):(b?.coordinates&&f.item.deferred.resolve(b.coordinates),b?.geolocation&&f.item.deferred.resolve(b.geolocation))}T||this.scheduleDequeue()}makeRequest(f,b,V){var T=!f.item.bypassCache&&(0,g.PK)(f.item.query,f.item.logger);if(T)return(0,o.T)(f.item.logger,f.item.query,T),void this.complete(f,{coordinates:T},!0);var P=f.item.query.getAjaxConfig();P.jsonp&&(f.jsonp=!0);var D=f.item.query.getHeaders&&f.item.query.getHeaders();_.isEmpty(D)||(P.headers=D);var w=f.item.query.getUrl(this.baseUrl);w?(this.activeEntries.push(f),f.request=v.M.MapsAjaxCall(w,P),f.request.always(()=>{_.pull(this.activeEntries,f)}),f.request.pipe((M,A,R)=>{var B;f.item.bypassCache&&(0,m.OU)({url:w,response:JSON.stringify(M)}),f.request=null;try{B=f.item.query.getResult(M)}catch(N){B={error:N}}(0,o.p)(f.item.logger,f.item.query,M,B,!1,(0,m.rg)(R)),this.complete(f,B)},M=>{if(f.item.bypassCache&&(0,m.OU)({url:w,error:JSON.stringify(M)}),this.shouldRetry(M?M.status:void 0,b)){var R=Math.random()*V+V;V*=2,setTimeout(()=>{b++,this.makeRequest(f,b,V)},R)}else{f.request=null;var B={error:new Error(M&&M.statusText||"cancelled")};(0,o.p)(f.item.logger,f.item.query,void 0,B,!1),this.complete(f,B)}})):this.complete(f,{error:new Error("Unsupported query.")})}shouldRetry(f,b){if(!this.geocodeRetryOptions)return!1;var{retryOnStatusCodes:V,maxRetryAttempts:T}=this.geocodeRetryOptions;return V.includes(f)&&b<T}}var C={};class h{constructor(f,b){this.useBatchGeocoding=f,this.bypassGeocodingCache=b}geocodeBaseUrl(f,b){switch(f){case d.Eb.GeocodeAzureMaps:return this.azureMapsGeocodingUrl(b);case d.Eb.BatchGeocodeAzureMaps:return this.azureMapsGeocodingBatchUrl(b);case d.Eb.GeoboundaryAzureMaps:return this.azureMapsBoundaryUrl(b);case d.Eb.Geoboundary:return this.bingSpatialDataUrl();case d.Eb.GeolocationAzureMaps:return this.azureMapsGeolocationUrl(b);default:return this.bingGeocodingUrl()}}setResolvedIsoCode(f){this.resolvedIsoCode=f}getResolvedIsoCode(){return this.resolvedIsoCode??""}geocodeQueueType(f){return f===t.Pd.AzureMaps?this.useBatchGeocoding()?d.Eb.BatchGeocodeAzureMaps:d.Eb.GeocodeAzureMaps:this.useBatchGeocoding()?d.Eb.BatchGeocode:d.Eb.Geocode}geocode(f,b,V,T,P,D,w){var M=b===t.Pd.AzureMaps;i.f.assert(()=>M||P?.credentialType!==t.HE.SASToken,"SASToken credential type is only supported for Azure Maps");var A=this.geocodeQueueType(b),R=M?new l.rO(this.azureMapsGeocodingUrl(P?.isPublishToWebHost??!1),f,!0,w,d.Ee,this.getResolvedIsoCode(),P&&P.credentials,P&&P.credentialType,D):new l.xm(this.bingGeocodingUrl(),f,P&&P.credentials),B=(0,a.p)().defer();return this.geocodeCoreWithIpIsoCodeLookup(A,R,V,T,M,P,D).then(N=>B.resolve(N)).catch(N=>B.reject(N)),B.promise}geocodeBoundary(f,b,V,T,P,D){i.f.assert(()=>b===t.Pd.AzureMaps||P?.credentialType!==t.HE.SASToken,"SASToken credential type is only supported for Azure Maps");var w=b===t.Pd.AzureMaps,{latitude:M,longitude:A,category:R="",levelOfDetail:B=2,maxGeoData:N=3,entityType:W}=f,F=w?d.Eb.GeoboundaryAzureMaps:d.Eb.Geoboundary,U=w?new l.ag(this.azureMapsBoundaryUrl(P?.isPublishToWebHost??!1),R,!0,D,this.getResolvedIsoCode(),d.Ee,M,A,B,N,W,P&&P.credentials,P&&P.credentialType):new l.Ei(this.bingSpatialDataUrl(),M,A,R,B,N,W,P&&P.credentials),O=(0,a.p)().defer();return this.geocodeCoreWithIpIsoCodeLookup(F,U,V,T,w,P).then(x=>O.resolve(x)).catch(x=>O.reject(x)),O.promise}defaultTimeout(f=1e4){return new Promise((b,V)=>setTimeout(()=>V(new Error("Timeout exceeded")),f))}geocodePoint(f,b,V,T,P,D){var w=(0,a.p)().defer();return D={...D,timeout:D?.timeout??this.defaultTimeout()},this.geocodeCore(d.Eb.Geopoint,new l.cq(this.bingGeocodingUrl(),f,b,P??[],D?.credentials,D?.includeNeighborhood),V,T,D).then(M=>{_.isEmpty(M)?w.reject(new Error("Empty result")):w.resolve(M)}).catch(M=>{w.reject(M)}),w.promise}geolocation(f,b){i.f.assert(()=>f===t.Pd.AzureMaps&&b?.credentialType===t.HE.SASToken,"geolocation is only supported for Azure Maps"),i.f.assert(()=>b?.bypassCache??!1,"bypassCache should be set to true for geolocation");var V=(0,a.p)().defer(),T=this.getResolvedIsoCode();if(!_.isEmpty(T))return V.resolve({isoCode:T}),V.promise;b={...b,bypassCache:!0};var D=d.Eb.GeolocationAzureMaps,w=this.azureMapsGeolocationUrl(b?.isPublishToWebHost??!1),M=new l.ph(w,d.Ee,b?.credentials,b?.credentialType);return this.geocodeCore(D,M,!1,null,b).then(A=>{this.setResolvedIsoCode(A.isoCode),V.resolve(A)}).catch(A=>V.reject(A)),V.promise}tryGeocodeImmediate(f,b,V,T,P,D,w){var M=this;return(0,r.Z)(function*(){if(!M.bypassGeocodingCache()){var A=b===t.Pd.AzureMaps?new l.rO(M.azureMapsGeocodingUrl(P),f,!0,w,d.Ee,M.getResolvedIsoCode(),void 0,t.HE.SASToken,D,P):new l.xm(M.bingGeocodingUrl(),f),R=M.bingGeocodingLogger(),B=yield(0,g.Pk)(A,R,V,T);return(0,o.T)(R,A,B),B}})()}tryGeocodeBoundaryImmediate(f,b,V,T,P,D){var w=this;return(0,r.Z)(function*(){if(!w.bypassGeocodingCache()){var{latitude:M,longitude:A,category:R,levelOfDetail:B,maxGeoData:N=3,entityType:W}=f,F=b===t.Pd.AzureMaps?new l.ag(w.azureMapsBoundaryUrl(P),R,!0,D,w.getResolvedIsoCode(),d.Ee,M,A,B,N,W):new l.Ei(w.bingSpatialDataUrl(),M,A,R,B,N,W),U=w.bingGeocodingLogger(),O=yield(0,g.Pk)(F,U,V,T);return(0,o.T)(U,F,O),O}})()}geocodeCoreWithIpIsoCodeLookup(f,b,V,T,P,D,w){var M=this;return(0,r.Z)(function*(){var A=M.bingGeocodingLogger();if(P&&D?.credentialType===t.HE.SASToken&&D?.isPublishToWebHost&&_.isEmpty(M.getResolvedIsoCode()))try{yield M.initiateIpIsoCodeLookup(D??{},t.Pd.AzureMaps)}catch(B){A.logGeolocationMiss(B)}return yield M.geocodeCore(f,b,V,T,D,w)})()}geocodeCore(f,b,V,T,P,D){var w=$.Deferred();if(b.validate()){var M=this.bingGeocodingLogger(),A=null!=P?.bypassCache?P.bypassCache:this.bypassGeocodingCache(),R=!A&&(0,g.PK)(b,M);if(R)return(0,o.T)(M,b,R),w.resolve(R),w;var B=P?.timeout,N=f===d.Eb.BatchGeocode||f===d.Eb.BatchGeocodeAzureMaps,W=function(u,f,b,V,T,P,D,w,M){var A=u.toString()+f+(b||"");(u===d.Eb.BatchGeocode||u===d.Eb.BatchGeocodeAzureMaps)&&D&&(A+=D);var B=C[A];if(B)return B;var N=(0,n.oB)(f),W=N.queryParameters;switch("/"===(f=N.baseUrl)[f.length-1]&&(f=f.substring(0,f.length-1)),u){case d.Eb.BatchGeocodeAzureMaps:B=new p.C(f,b,{batchGeocodeCulture:D,batchSize:d.uC,batchRequest:F=>JSON.stringify({batchItems:_.map(F,U=>U.getEntity())}),batchHeaders:(F,U)=>{var O={"Accept-Language":U||(0,m.$F)()};return i.f.assert(()=>P===t.HE.SASToken,"Invalid Azure Maps credential type"),P===t.HE.SASToken&&(O.Authorization=`jwt-sas ${F}`),M&&(O["x-ms-internal-blockExtendedLocations"]="true"),O},batchQueryParameters:(F,U)=>({...W,"api-version":d.Ee}),tryIndexedDB:V,indexedDBService:T,instanceId:w,queueName:A,geocodeRetryOptions:{maxRetryAttempts:3,initialRetryIntervalInMs:1e3,retryOnStatusCodes:[429]}});break;case d.Eb.BatchGeocode:B=new p.C(`${f}/${d.KE}`,b,{batchGeocodeCulture:D,batchSize:d.TT,batchRequest:F=>JSON.stringify({GeocodeEntities:_.map(F,U=>U.getEntity())}),batchHeaders:(F,U)=>({}),batchQueryParameters:(F,U)=>({...W,culture:U||(0,m.$F)(),output:"json",key:F}),tryIndexedDB:V,indexedDBService:T,instanceId:w,queueName:A});break;case d.Eb.GeocodeAzureMaps:case d.Eb.GeoboundaryAzureMaps:case d.Eb.GeolocationAzureMaps:B=new c(f,b,{tryIndexedDB:V,indexedDBService:T,instanceId:w,queueName:A,geocodeRetryOptions:{maxRetryAttempts:3,initialRetryIntervalInMs:1e3,retryOnStatusCodes:[429]}});break;default:B=new c(f,b,{tryIndexedDB:V,indexedDBService:T,instanceId:w,queueName:A})}return C[A]=B,B}(f,this.geocodeBaseUrl(f,P?.isPublishToWebHost??!1),P?.credentials,V,T,P?.credentialType,N&&b.getCulture?b.getCulture():void 0,P?.instanceId,D),F={timeout:B,geocoder:this,query:b,deferred:w,logger:this.bingGeocodingLogger(),bypassCache:A};return W.enqueue(F),M&&M.collectBatchQueue(W),B&&B.finally(()=>{F.deferred.state()===a.O[a.O.pending]&&F.deferred.reject()}),w}w.reject()}initiateIpIsoCodeLookup(f,b){var V=this;return(0,r.Z)(function*(){if(!f?.isPublishToWebHost)return Promise.resolve();i.f.assert(()=>b===t.Pd.AzureMaps||f?.credentialType!==t.HE.SASToken,"Ip IsoCode lookup is only supported for Azure Maps"),f.bypassCache=!0,yield V.geolocation(b,f)})()}}class E extends h{constructor(f=(()=>!1),b=(()=>!1),V){super(f,b),this.logger=V}bingSpatialDataUrl(){return d.a_}bingGeocodingUrl(){return d.yL}bingGeocodingLogger(){return this.logger}azureMapsGeocodingUrl(){return d.Tu}azureMapsGeocodingBatchUrl(f){return f?d.Tu:d.UL}azureMapsBoundaryUrl(){return d.S3}azureMapsGeolocationUrl(){return d.j3}}},598772:function(ve,j,e){e.d(j,{ag:function(){return b},rO:function(){return h},ph:function(){return V},Ei:function(){return f},cq:function(){return u},xm:function(){return S}});var r=e(650543),i=e(704251),a=e(621083),t=e(405894),l=e(660869),g=e(506867),s=v(undefined,[[t.yV.Continent,l.fk.Continent],[t.yV.CountryRegion,l.fk.Sovereign],[t.yV.StateOrProvince,l.fk.AdminDivision1],[t.yV.County,l.fk.AdminDivision2],[t.yV.City,l.fk.PopulatedPlace],[t.yV.PostalCode,l.fk.Postcode],[t.yV.Address,l.fk.Address]]),d=v(undefined,[[t.yV.CountryRegion,l.fk.CountryRegion],[t.yV.StateOrProvince,l.fk.AdminDivision1],[t.yV.County,l.fk.AdminDivision2],[t.yV.City,l.fk.PopulatedPlace],[t.yV.PostalCode,l.fk.Postcode1]]);function v(T,P){return D=>(T||function(T,P){P.forEach(([D,w])=>{T[D.toLowerCase()]=w})}(T={},P),D&&T[D.toLowerCase()]||"")}var C={[l.yL]:"G",[l.a_]:"S",[l.Tu]:"AG",[l.S3]:"AS"};class y{constructor(P,D,w,M,A,R){this.location=P,this.usingAzureMapsBackend=w,this.azureMapsDataResidency=M,this.azureMapsBlockExtendedLocations=A,this.azureMapsIsPublishToWebHost=R,D&&(w&&M&&!R&&(D=this.removeRegion(D)),this.key=((D=C[D]||D)+";"+_.map(this.location.components,B=>(B.query||"")+"/"+(B.category||"")).join("&")).toLowerCase(),P.culture&&(this.key+=`&c=${P.culture}`),w&&A&&(this.key+="&bEL"))}removeRegion(P){return r.f.assert(()=>!!P&&P.indexOf("atlas.microsoft.com")>0,`should be a valid azure maps url, but received ${P}`),P.slice(0,8)+P.slice(P.indexOf("atlas.microsoft.com"))}getKey(){return this.key}getAjaxConfig(){return{type:"GET",dataType:"jsonp",jsonp:"jsonp"}}}var S=(()=>{class T extends y{constructor(D,w,M){super(w,D),this.credentials=M}getCulture(){return this.location.culture}getBingEntity(){return s(_.last(this.location.components).category)}validate(){return null!=this.getEntity()}getEntity(){var D=this.getGeocodingParameters();if(_.some(D,W=>!W.key)){var w=_.chain(D).map(W=>W.value).filter(W=>W).reverse().value().join(", ");return w?{Query:w}:void 0}var M={Address:{}},A=M.Address;for(var R of D){var B=R.value;if(!B||!(B=B.trim()))return;var N=R.key;"adminDistrict"===N&&A.AdminDistrict?A.AdminDistrict=R.value+", "+A.AdminDistrict:A[l.$o[N]]=R.value}return M}getUrl(D){var w={key:this.credentials||t.Zr.BingKey},M=this.getEntity();if(M){var A=M.Address;if(A)for(var R in A)w[l.H6[R]]=A[R];else w.q=M.Query;var B=this.location.culture||(0,g.$F)();return B&&(w.c=B),w.maxRes="10",(0,i.fS)(D,w,!0)}}getGeocodingParameters(){var D=this.location.components;return D.length>=2&&D[0].category===t.yV.Continent&&D[1].category===t.yV.CountryRegion&&(D=_.tail(D)),_.map(D,M=>{var A=s(M.category),R="";A in l.Of&&(R=l.Of[A]);var B=M.query;return A===l.fk.Sovereign&&B&&(B=T.Iso3166Substitutions[B]||B),{key:R,value:B}})}isGeneralQuery(){return _.some(this.getGeocodingParameters(),D=>!D.key)}getResult(D){var w=this.isGeneralQuery(),M=E(D,B=>this.locationQuality(B,w));if(M){var A=M.point.coordinates;return{coordinates:{latitude:A&&A[0],longitude:A&&A[1],entityType:M.entityType}}}return{error:new Error(l.cK.EmptyResult)}}shouldDoFullGeocoding(D){var w=D&&D.resourceSets&&D.resourceSets[0]&&D.resourceSets[0].resources&&D.resourceSets[0].resources[0];if(!w||(0,g.SN)(w.matchCodes))return!1;var M=this.getBingEntity().toLowerCase(),A=w.entityType&&w.entityType.toLowerCase();return"admindivision1"===M&&"admindivision2"===A||"admindivision2"===M&&"admindivision1"===A}extractSingleResult(D,w){return D&&D.resourceSets&&D.resourceSets.length>w?{resourceSets:[D.resourceSets[w]]}:void 0}locationQuality(D,w){if(!w&&D.matchCodes&&!(0,g.X5)(D.matchCodes))return-1;var M=0;if(1===this.location.components.length&&this.location.components[0].category===t.yV.CountryRegion){var A=D.address&&D.address.countryRegionIso2;if(A){var R=this.location.components[0].query.toLowerCase();2===R.length&&R===A.toLowerCase()&&(M+=2)}}return D.entityType&&D.entityType.toLowerCase()===this.getBingEntity().toLowerCase()&&(M+=1),M}}return T.Iso3166Substitutions={BI:"Burundi",BQ:"Bonaire",SJ:"Svalbard",BES:"Bonaire",NGA:"Nigeria",NAM:"Namibia",SJM:"Svalbard",MAF:"MF",SA:"Saudi Arabia"},T})(),h=(()=>{class T extends y{constructor(D,w,M,A,R,B,N,W=a.HE.SASToken,F,U){super(w,D,M,A,F,!!U),this.location=w,this.usingAzureMapsBackend=M,this.azureMapsDataResidency=A,this.apiVersion=R,this.isoCode=B,this.credentials=N,this.credentialType=W,this.blockExtendedLocations=F,this.isPublishToWebHost=U,r.f.assert(()=>W===a.HE.SASToken||!!N,"credentials must be provided when using Azure Maps SAS Token")}getCulture(){return this.location.culture}validate(){return null!=this.getEntity()}getEntity(){var D=this.getGeocodingParameters();if(_.some(D,N=>!N.key)){var w=_.chain(D).map(N=>N.value).filter(N=>N).reverse().value().join(", ");return w?{query:w}:void 0}var M={};for(var A of D){var R=A.value;if(!R||!(R=R.trim()))return;var B=A.key;"adminDistrict"===B&&M.adminDistrict?M.adminDistrict=A.value+", "+M.adminDistrict:M[B]=A.value}return M}getUrl(D){var w={},M=this.getEntity();if(!_.isEmpty(M)){for(var A in M)w[A]=M[A];return w.top="10",w["api-version"]=this.apiVersion,(0,i.fS)(D,w,!0)}}getGeocodingParameters(){var D=this.location.components;return D.length>=2&&D[0].category===t.yV.Continent&&D[1].category===t.yV.CountryRegion&&(D=_.tail(D)),_.map(D,M=>{var A=s(M.category),R="";A in l.xS&&(R=l.xS[A]);var B=M.query;return A===l.fk.Sovereign&&B&&(B=T.Iso3166Substitutions[B]||B),{key:R,value:B}})}isGeneralQuery(){return _.some(this.getGeocodingParameters(),D=>!D.key)}getResult(D){var M,w=D&&!_.isEmpty(D.features)&&D.features;if(Array.isArray(w)){var A=_.chain(w).map(W=>({feature:W,value:this.locationQuality(W,this.isGeneralQuery())})).filter(W=>W.value>=0).maxBy(W=>W.value).value();M=A&&A.feature}if(M){var R=M.geometry,B=M.properties;return{coordinates:{latitude:R&&R.coordinates[1],longitude:R&&R.coordinates[0],entityType:B&&B.type}}}return{error:new Error(l.cK.EmptyResult)}}extractSingleResult(D,w){return D&&D.batchItems&&D.batchItems.length>w?D.batchItems[w]:void 0}getBingEntity(){return s(_.last(this.location.components).category)}locationQuality(D,w){if(!w&&D.properties&&D.properties.matchCodes&&!(0,g.X5)(D.properties.matchCodes))return-1;var M=0;if("High"===D.properties?.confidence&&(M+=3),1===this.location.components.length&&this.location.components[0].category===t.yV.CountryRegion){var A=D.properties&&D.properties.address&&D.properties.address.countryRegion&&D.properties.address.countryRegion.ISO;if(A){var R=this.location.components[0].query.toLowerCase();2===R.length&&R===A.toLowerCase()&&(M+=2)}}return D.properties&&D.properties.type&&D.properties.type.toLowerCase()===this.getBingEntity().toLowerCase()&&(M+=1),M}getHeaders(){r.f.assert(()=>this.credentialType===a.HE.SASToken,"Invalid Azure Maps credential type");var D={Authorization:`jwt-sas ${this.credentials}`},w=this.getCulture()||(0,g.$F)();return w&&(D["Accept-Language"]=w),_.isEmpty(this.isoCode)||(D.Locale=this.isoCode),this.blockExtendedLocations&&(D["x-ms-internal-blockExtendedLocations"]="true"),D}getAjaxConfig(){return{type:"GET",dataType:"json"}}}return T.Iso3166Substitutions={BI:"Burundi",BQ:"Bonaire",SJ:"Svalbard",BES:"Bonaire",NGA:"Nigeria",NAM:"Namibia",SJM:"Svalbard",MAF:"MF"},T})();function E(T,P){var D=T&&!_.isEmpty(T.resourceSets)&&T.resourceSets[0].resources;if(Array.isArray(D)){var w=_.chain(D).map(M=>({location:M,value:P(M)})).filter(M=>M.value>=0).maxBy(M=>M.value).value();return w&&w.location}}class u extends y{constructor(P,D,w,M,A,R=!1){super({components:[{query:[D,w].join(),category:"Point"}]}),this.credentials=A,this.latitude=D,this.longitude=w,this.entities=M,this.includeNeighborhood=R}validate(){return!0}getUrl(P){r.f.assert(()=>this.entities.every(A=>!!_.findKey(l.fk,R=>R===A)),"All entities should match one of the allowed BingEntities");var D=(0,i.oB)(P),w=_.endsWith(D.baseUrl,"/")?D.baseUrl:D.baseUrl+"/";w+=[this.latitude,this.longitude].join();var M={key:this.credentials||t.Zr.BingKey,include:"ciso2"};return _.isEmpty(this.entities)||(M.includeEntityTypes=this.entities.join()),this.includeNeighborhood&&(M.inclnb="1"),(0,i.fS)(w,M,!0)}getResult(P){var D=E(P,B=>-1===this.entities.indexOf(B.entityType)?0:1);if(D){var w=D.point.coordinates,M=D.address||{};return{coordinates:{latitude:w[0],longitude:w[1],addressLine:M.addressLine,locality:M.locality,neighborhood:M.neighborhood,adminDistrict:M.adminDistrict,adminDistrict2:M.adminDistrict2,formattedAddress:M.formattedAddress,postalCode:M.postalCode,countryRegionIso2:M.countryRegionIso2,countryRegion:M.countryRegion,landmark:M.landmark,name:D.name}}}return{coordinates:null}}}class f extends y{constructor(P,D,w,M,A,R=3,B,N){super({components:[{query:[D,w,A,R].join(",")+(B!==d(M)?","+B:""),category:M}]},P),this.credentials=N,this.latitude=D,this.longitude=w,this.levelOfDetail=A,this.maxGeoData=R,this.entityType=B}getBingEntity(){return d(_.last(this.location.components).category)}validate(){return!(!this.entityType&&!this.getBingEntity())}getUrl(P){var D=this.entityType||this.getBingEntity();if(!D)return null;var{baseUrl:w,queryParameters:M}=(0,i.oB)(P);M||(M={});var A=M.c||M.culture,R=A||"",B=A&&(0,g.VB)(A)||"";return M.key=this.credentials||t.Zr.BingKey,M.$format="json",M.SpatialFilter="GetBoundary("+[this.latitude,this.longitude,this.levelOfDetail,"'"+D+"'",1,0,"'"+R+"'","'"+B+"'"].join(", ")+")",delete M.c,delete M.culture,(0,i.fS)(w,M,!0)}getResult(P){var D=P;if(D&&D.d&&Array.isArray(D.d.results)&&D.d.results.length>0){var M=D.d.results[0].Primitives;if(M&&M.length>0){var A={latitude:this.latitude,longitude:this.longitude,locations:[]};M.sort((U,O)=>U.Shape.length<O.Shape.length?1:U.Shape.length>O.Shape.length?-1:0);for(var R=Math.min(M.length,this.maxGeoData),B=0;B<R;B++)for(var W=M[B].Shape.split(","),F=1;F<W.length;F++)A.locations.push({nativeBing:W[F]});return{coordinates:A}}}return{error:new Error(l.cK.EmptyResult)}}}class b extends y{constructor(P,D,w,M,A,R,B,N,W,F=3,U,O,x=a.HE.SASToken){super({components:[{query:[B,N,W,F].join(",")+(U!==d(D)?","+U:""),category:D}]},P,w,M),this.isoCode=A,this.apiVersion=R,this.latitude=B,this.longitude=N,this.levelOfDetail=W,this.maxGeoData=F,this.entityType=U,this.credentials=O,this.credentialType=x,r.f.assert(()=>x===a.HE.SASToken||!!O,"credentials must be provided when using Azure Maps SAS Token")}getBingEntity(){return d(_.last(this.location.components).category)}getResolution(){switch(this.levelOfDetail){case 3:return l.Wp.Huge;case 2:return l.Wp.Large;case 1:return l.Wp.Medium;default:return l.Wp.Small}}validate(){return!(!this.entityType&&!this.getBingEntity())}getUrl(P){var D,w=this.entityType??this.getBingEntity();if(""!==w&&w in l.mQ&&(D=l.mQ[w]),!D)return null;var A={coordinates:`${this.longitude},${this.latitude}`,view:"Auto",resultType:D,resolution:`${this.getResolution()}`,"api-version":this.apiVersion};return(0,i.fS)(P,A,!0)}getResult(P){var D=P;if(D&&D.geometry&&Array.isArray(D.geometry.geometries)&&D.geometry.geometries.length>0){var w=D.geometry.geometries,M=(A,R)=>A+R.length;return w.sort((A,R)=>{var B=A.coordinates.reduce(M,0);return R.coordinates.reduce(M,0)-B}),this.maxGeoData<w.length&&(w=w.slice(0,this.maxGeoData)),{coordinates:{latitude:this.latitude,longitude:this.longitude,geoJsonPolygons:w}}}return{error:new Error("Azure Maps Geo-boundary result is empty.")}}getHeaders(){var P;r.f.assert(()=>this.credentialType===a.HE.SASToken,"Invalid Azure Maps credential type"),this.credentialType===a.HE.SASToken&&(P={Authorization:`jwt-sas ${this.credentials}`}),_.isEmpty(this.isoCode)||(P.Locale=this.isoCode),P.Accept="application/json";var D=(0,g.$F)();return D&&(P["Accept-Language"]=D),P}getAjaxConfig(){return{type:"GET",dataType:"json"}}}class V extends y{constructor(P,D,w,M=a.HE.SASToken){super({components:[]},P,!0),this.apiVersion=D,this.credentials=w,this.credentialType=M,r.f.assert(()=>M===a.HE.SASToken||!!w,"credentials must be provided when using Azure Maps SAS Token")}validate(){return!0}getUrl(P){return(0,i.fS)(P,{"api-version":this.apiVersion},!0)}getResult(P){return P?.countryRegion?{geolocation:{isoCode:P.countryRegion.isoCode}}:{error:new Error("Azure Maps Geo-location result is empty.")}}getHeaders(){return r.f.assert(()=>this.credentialType===a.HE.SASToken,"Invalid Azure Maps credential type"),{Accept:"application/json",Authorization:`jwt-sas ${this.credentials}`}}getAjaxConfig(){return{type:"GET",dataType:"json"}}}},447988:function(ve,j,e){e.d(j,{C:function(){return d}});var r=e(650543),i=e(546825),a=e(704251),t=e(405894),l=e(660869),g=e(751839),n=e(588473),p=e(506867),s=e(133589);class d{constructor(v,m,c){this.baseUrl=v,this.credentials=m,this.entries=[],this.activeEntries=[],this.activeBatches=0,this.maxEntries=0,this.processedBatchQueries=new Set,this.inDequeue=!1,this.culture=c.batchGeocodeCulture,this.batchSize=c.batchSize,this.batchRequest=c.batchRequest,this.batchHeaders=c.batchHeaders,this.batchQueryParameters=c.batchQueryParameters,this.geocodeRetryOptions=c.geocodeRetryOptions,this.tryIndexedDB=c.tryIndexedDB,this.indexedDBService=c.indexedDBService,this.instanceId=c.instanceId,this.queueName=c.queueName}getInstanceId(){return this.instanceId}getQueueName(){return this.queueName}getGeocodeBatchSize(){return this.batchSize}getEntryCount(){return this.maxEntries}getProcessedBatches(){return this.processedBatchQueries?Array.from(this.processedBatchQueries).map(v=>v.split(",").length):[]}setGeocodeBatchSize(v){r.f.assert(()=>v>0&&_.isInteger(v),"Invalid geocode batch size"),this.batchSize=v}reset(){var v=this.dequeueTimeout;for(var m of(v&&(this.dequeueTimeout=void 0,clearTimeout(v)),this.entries.concat(this.activeEntries)))this.cancel(m);this.entries=[],this.activeEntries=[]}enqueue(v){var m={item:v};this.entries.push(m);var c=this.entries.length+this.activeEntries.length;c>this.maxEntries&&(this.maxEntries=c),v.deferred.always(()=>{this.cancel(m)}),this.inDequeue||this.entries.length<this.batchSize||this.activeBatches>=t.Zr.MaxBingRequest?this.scheduleDequeue():(this.dequeueTimeout&&(clearTimeout(this.dequeueTimeout),this.dequeueTimeout=void 0),this.dequeue())}addProcessedBatch(v){var m=v.map(c=>c.item.query.getKey()).sort().toString();this.processedBatchQueries.add(m)}dequeue(){if(!this.inDequeue&&!this.dequeueTimeout)try{for(this.inDequeue=!0;0!==this.entries.length&&this.activeBatches<t.Zr.MaxBingRequest;){for(var v=[];0!==this.entries.length&&v.length<this.batchSize;){var m=this.entries.shift();if(!m.isCompleted){var c=!m.item.bypassCache&&(0,g.PK)(m.item.query,m.item.logger);c?((0,n.T)(m.item.logger,m.item.query,c),this.complete(m,{coordinates:c},!0)):v.push(m)}}v.length&&(this.geocodeRetryOptions?this.makeRequest(v,0,this.geocodeRetryOptions.initialRetryIntervalInMs):this.makeRequest(v),this.addProcessedBatch(v))}}finally{this.inDequeue=!1}}scheduleDequeue(){!this.dequeueTimeout&&0!==this.entries.length&&(this.dequeueTimeout=setTimeout(()=>{this.dequeueTimeout=void 0,this.dequeue()}))}cancel(v){var m=v.batch;if(m){var c=m.request;c&&--m.uncancelledCount<=0&&(m.request=null,c.abort())}this.complete(v,{error:new Error("cancelled")})}complete(v,m,c){var C=!1;if(!v.isCompleted&&(v.isCompleted=!0,v.item.deferred.state()===i.O[i.O.pending])){var y=this.tryIndexedDB&&this.indexedDBService.isSupported(),S=!v.item.bypassCache&&!c;!m||m.error?y&&S&&m?.error?.message===l.cK.EmptyResult?(C=!0,(0,g.SR)(v.item.query.getKey(),void 0,v.item.logger,this.tryIndexedDB,this.indexedDBService).then(()=>{v.item.deferred.reject(m&&m.error||new Error("cancelled")),this.scheduleDequeue()},h=>{(0,p.MB)(p.PR.Set,{error:JSON.stringify(h)}),v.item.deferred.reject(m&&m.error||new Error("cancelled")),this.scheduleDequeue()})):v.item.deferred.reject(m&&m.error||new Error("cancelled")):S&&m.coordinates?(C=!0,(0,g.SR)(v.item.query.getKey(),m.coordinates,v.item.logger,this.tryIndexedDB,this.indexedDBService).then(()=>{v.item.deferred.resolve(m.coordinates),this.scheduleDequeue()},h=>{y&&(0,p.MB)(p.PR.Set,{error:JSON.stringify(h)}),v.item.deferred.resolve(m.coordinates),this.scheduleDequeue()})):v.item.deferred.resolve(m.coordinates)}C||this.scheduleDequeue()}makeRequest(v,m,c){var C=this;if(!_.isEmpty(v)){var y={type:"POST",dataType:"json",contentType:"application/json",data:this.batchRequest(v.map(T=>T.item.query))},S=this.batchHeaders&&this.batchHeaders(this.credentials,this.culture);_.isEmpty(S)||(y.headers=S);var h=this.batchQueryParameters(this.credentials,this.culture),E=(0,a.fS)(this.baseUrl,h),u={uncancelledCount:v.length,request:s.M.MapsAjaxCall(E,y)};for(var f of v)f.batch=u,this.activeEntries.push(f);++this.activeBatches;var b=u.request;b.always(()=>{for(var T of(--this.activeBatches,v))_.pull(this.activeEntries,T)});var V=_.head(v).item.bypassCache;b.pipe((T,P,D)=>{V&&(0,p.OU)({url:E,request:y.data,response:JSON.stringify(T)});for(var w=function(){var A=v[M];A.batch=null;var B,R=A.item,N=R.query.extractSingleResult&&R.query.extractSingleResult(T,M);if(R.geocoder&&R.query.shouldDoFullGeocoding&&R.query.shouldDoFullGeocoding(N))R.geocoder.geocodeCore(l.Eb.Geocode,R.query,C.tryIndexedDB,C.indexedDBService,{bypassCache:!0,timeout:R.timeout}).then(W=>{B={coordinates:W}},W=>{B={error:W}}).done(()=>{C.complete(A,B)});else{if(N)try{B=R.query.getResult(N)}catch(W){B={error:W}}else B={error:new Error("no data")};(0,n.p)(R.logger,R.query,N,B,!0,(0,p.rg)(D)),C.complete(A,B)}},M=0;M<v.length;++M)w()},T=>{if(V&&(0,p.OU)({url:E,request:y.data,error:JSON.stringify(T)}),this.shouldRetry(T?T.status:void 0,m)){var D=Math.random()*c+c;c*=2,setTimeout(()=>{m++,this.makeRequest(v,m,c)},D)}else for(var w of v){w.batch=null;var M={error:new Error(T&&T.statusText||"cancelled")};(0,n.p)(w.item.logger,w.item.query,void 0,M,!0),this.complete(w,M)}})}}shouldRetry(v,m){if(!this.geocodeRetryOptions)return!1;var{retryOnStatusCodes:c,maxRetryAttempts:C}=this.geocodeRetryOptions;return c.includes(v)&&m<C}}},741714:function(ve,j,e){e.d(j,{D:function(){return r}});var r={actionButton:"actionButton",animatedNumber:"animatedNumber",areaChart:"areaChart",barChart:"barChart",basicShape:"basicShape",shape:"shape",card:"card",cardVisual:"cardVisual",multiRowCard:"multiRowCard",clusteredBarChart:"clusteredBarChart",clusteredColumnChart:"clusteredColumnChart",columnChart:"columnChart",donutChart:"donutChart",funnel:"funnel",gauge:"gauge",hundredPercentStackedBarChart:"hundredPercentStackedBarChart",hundredPercentStackedColumnChart:"hundredPercentStackedColumnChart",image:"image",lineChart:"lineChart",lineStackedColumnComboChart:"lineStackedColumnComboChart",lineClusteredColumnComboChart:"lineClusteredColumnComboChart",map:"map",filledMap:"filledMap",azureMap:"azureMap",ribbonChart:"ribbonChart",shapeMap:"shapeMap",treemap:"treemap",pieChart:"pieChart",realTimeLineChart:"realTimeLineChart",scatterChart:"scatterChart",stackedAreaChart:"stackedAreaChart",hundredPercentStackedAreaChart:"hundredPercentStackedAreaChart",table:"table",matrix:"matrix",tableEx:"tableEx",pivotTable:"pivotTable",accessibleTable:"accessibleTable",slicer:"slicer",advancedSlicerVisual:"advancedSlicerVisual",textSlicer:"textSlicer",listSlicer:"listSlicer",pageNavigator:"pageNavigator",bookmarkNavigator:"bookmarkNavigator",filterSlicer:"filterSlicer",textbox:"textbox",aiNarratives:"aiNarratives",waterfallChart:"waterfallChart",scriptVisual:"scriptVisual",pythonVisual:"pythonVisual",kpi:"kpi",keyDriversVisual:"keyDriversVisual",decompositionTreeVisual:"decompositionTreeVisual",qnaVisual:"qnaVisual",scorecard:"scorecard",rdlVisual:"rdlVisual",dataQueryVisual:"dataQueryVisual",debugVisual:"debugVisual",heatMap:"heatMap"}},181780:function(ve,j,e){e.d(j,{L:function(){return Xr}});var r=e(349672),i=e(741714),a=e(955890),t=e(721673),l=e(94392),g=e(650543),n=e(281210),p=e(442407),s=e(60978),d=e(35015),o=e(582166),v=e(525350),m=e(257790);function S(It){switch(It){case d.GT:return o.a.satellite;case d.j2:return o.a.night;case d.fS:return o.a.road;case d.se:return o.a.grayscaleLight;case d.AB:return o.a.road}return o.a.grayscaleLight}function h(It){return _.clamp(It-1,0,22)}function E(It,Pt,Tt){var[tt,_e]=Pt,[Ge,Me]=Tt,at=_e-tt,Xe=Me-Ge;if(0===at)throw new Error("Input range size must be greater than 0");return(It-tt)/at*Xe+Ge}var u=e(621083),f=e(882856);function b(It){var Pt=_.first(It.dataViewMappings),Tt=[],_e=(0,f.hK)(Pt.table.rows);return _.isEmpty(_e)?{subjectKind:u.B3.KPI,error:u.Ru.NoValidBindings,bindings:void 0}:(Tt.push(..._e),{subjectKind:u.B3.KPI,error:void 0,bindings:Tt})}function V(It){var Pt=_.first(It.dataViewMappings),Tt=[],_e=(0,f.hK)(Pt.table.rows);return _.isEmpty(_e)?{subjectKind:u.B3.KPI,error:u.Ru.NoValidBindings,bindings:void 0}:(Tt.push(..._e),{subjectKind:u.B3.KPI,error:void 0,bindings:Tt})}function T(It){return["Rows"]}var P=e(962442),D=e(738942),w=e(147818);function M(It){var Pt={},Tt=_.head(It?.categorical?.categories);return Tt&&(Pt.axisType=(0,P.PX)(It.metadata.objects,w.cartesianChartProps.categoryAxis.axisType,Tt.source.type,void 0,(0,D.n$)(It))?"scalar":"categorical"),Pt}function A(It){return(0,f.T6)(It,u.B3.Cartesian)}var R=e(336596),B=e(150190);function N(It){var Pt=It.dataViewMappings[0];Pt&&(Pt.categorical?function(It){var Pt=It.dataViewMappings[0];if(Pt.categorical.categories){if(Pt.categorical.dataVolume=4,(0,P.iQ)(Pt,!1)){Pt.categorical.categories.dataReductionAlgorithm={sample:{}};var tt=Pt.categorical.values;tt&&tt.group&&(tt.group.dataReductionAlgorithm={top:{}})}else(0,D.XS)([Pt]);(0,D.K0)(It.dataViewMappings);var _e=U(It);(0,D.kV)(It.dataViewMappings,_e)}}(It):Pt.matrix&&function(It){var Pt=It.dataViewMappings[0];if((0,R.qO)(Pt)){if((0,P.iQ)(Pt,!0)){(0,R.s5)(Pt,{sample:{}});var Tt=(0,R.b8)(Pt);(0,B.Bx)([Tt],{min:!0,max:!0})}(0,B.vR)(Pt,[w.au.y]),(0,B._F)(Pt)}}(It))}function U(It){var Pt=It.dataViewMappings[0];return(0,R.qO)(Pt)?function(It){var Pt=(0,P.iQ)(It,!0),Tt=[w.au.rows];return Pt||Tt.push(w.au.category),Tt.push(w.au.y,w.au.tooltips,w.au.series),Tt}(Pt):function(It){if(!It||!It.categorical||!It.categorical.categories)return null;var Tt=It.categorical.categories.for.in,tt=Tt.items,_e=Tt.activeItems,Ge=["Category","Series","Y","Tooltips"];if(!_.isEmpty(tt)){var at,Xe;if(It.metadata&&(at=It.metadata.objects),_.isEmpty(_e))Xe=tt[0].type;else if(1===_e.length){var ue=_.find(tt,Re=>Re.queryName===_e[0]);g.f.assert(()=>!!ue,"Item should always be defined"),Xe=ue.type}else if(_e.length>1)return Ge;return(0,P._K)(at,w.cartesianChartProps.categoryAxis.axisType,Xe)?["Series"]:Ge}return null}(Pt)}function I(It){_.isEmpty(It.dataViewMappings)||(It.dataViewMappings[0].matrix?function(It){var Pt=It.dataViewMappings[0];if((0,R.qO)(Pt)){if((0,P.iQ)(Pt,!0)){(0,R.s5)(Pt,{sample:{}});var Tt=(0,R.b8)(Pt);(0,B.Bx)([Tt],{min:!0,max:!0})}(0,B.vR)(Pt,[w.rJ.y,w.rJ.y2]),(0,B._F)(Pt)}}(It):function(It){var Pt=!_.isEmpty(It.dataViewMappings)&&It.dataViewMappings[0],Tt=It.dataViewMappings.length>1&&It.dataViewMappings[1];z(Pt,Tt,It.queryProperties);var tt=(0,P.iQ)(Pt,!1);if(Pt&&Pt.categorical&&(Pt.categorical.dataVolume=4,tt)){Pt.categorical.categories.dataReductionAlgorithm={sample:{}};var Ge=Pt.categorical.values;Ge&&Ge.group&&(Ge.group.dataReductionAlgorithm={top:{}})}if(Tt&&Tt.categorical&&(Tt.categorical.dataVolume=4,tt)){Tt.categorical.categories.dataReductionAlgorithm={sample:{}};var at=Tt.categorical.values;at&&at.group&&(at.group.dataReductionAlgorithm={top:{}})}tt||(0,D.XS)(It.dataViewMappings),(0,D.K0)(It.dataViewMappings);var Xe=J(It);(0,D.kV)(It.dataViewMappings,Xe)}(It))}function z(It,Pt,Tt){if(It&&Pt){var tt=It.categorical&&It.categorical.values,_e=tt.group&&!_.isEmpty(tt.group.select)&&tt.group.select[0];_.isEmpty(_e.for.in.items)&&!_.isEmpty(tt.group.by.items)&&(Tt?.hasVisualCalculations?tt.group.by.items.forEach(Ge=>{Ge.hidden=!0}):tt.group.by.items=void 0)}}function J(It){if(It&&It.dataViewMappings.length>0){var Pt=It.dataViewMappings[0];if((0,R.qO)(Pt))return function(It){var Pt=(0,P.iQ)(It,!0),Tt=[w.rJ.rows];return Pt||Tt.push(w.rJ.category),Tt.push(w.rJ.y,w.rJ.y2,w.rJ.tooltips,w.rJ.series),Tt}(Pt);if(!(0,P.iQ)(Pt,!1))return["Category","Series","Y","Y2","Tooltips"]}return null}function k(It){if(!It||_.isEmpty(It.dataViewMappings))return{subjectKind:u.B3.Cartesian,error:u.Ru.NoValidBindings,bindings:void 0};var Pt=It.dataViewMappings[0],Tt=It.dataViewMappings[1];if(z(Pt,Tt),!(Pt&&Pt.categorical&&Pt.categorical.categories))return{subjectKind:u.B3.Cartesian,error:u.Ru.NoValidBindings,bindings:void 0};var tt=(0,f.DS)(Pt);return tt.push(...(0,f.vx)(Pt)),Tt&&Tt.categorical&&Tt.categorical.categories&&tt.push(...(0,f.vx)(Tt)),_.isEmpty(tt)?{subjectKind:u.B3.Cartesian,error:u.Ru.NoValidBindings,bindings:void 0}:{subjectKind:u.B3.Cartesian,error:void 0,bindings:tt}}var G=e(630881),q=e(951202),Q=e(230343),Z=e(678359);function X(It){var Pt=_.first(It.dataViewMappings);g.f.assertValue(Pt,"mapping");var Tt=(0,Q.NA)(Pt.metadata.objects,Z.Qw,void 0);null!=Tt&&(g.f.assert(()=>Tt>0&&_.isInteger(Tt),"Invalid data reduction count"),Pt.table.rows.dataReductionAlgorithm={top:{count:Tt}});var tt=_.groupBy(_.filter(Pt.metadata.columns,_e=>!!_e?.objects?.columnOptions?.suppressJoinPredicate),_e=>_e.queryName);_.isEmpty(tt)||(0,q.vV)(Pt.table,{visitRole:_e=>{if(_e.role===Z.KK.values)for(var Ge of _e.items)tt[Ge.queryName]&&(Ge.joinPredicate=G.ps.None)}})}var re=e(149356),te=e(27663);function se(It){var Pt=It.dataViewMappings[0];Pt&&Pt.matrix&&Pt.metadata&&(function(It,Pt){var Tt=It.metadata.columns,tt=Pt.rows.for.in.items;if(!_.isEmpty(tt))for(var _e=function(){var at=tt[Ge];if(!_.find(Tt,ue=>ue.queryName===at.queryName))return 1;at.subtotalType=re.F.Before},Ge=0,Me=tt.length;Ge<Me;Ge++)_e()}(Pt,Pt.matrix),It.scopedAggregates&&function(It){var Tt=_.find(It.matrix.values.select,Re=>(0,B.uS)(Re)&&Re.for.in.role===te.Fw.analyze).for.in.items;if(!_.isEmpty(Tt)){var tt=It.matrix.rows.for.in.items;if(!_.isEmpty(tt)&&(0,Q.NA)(It.metadata.objects,{objectName:te.I8.dataBars,propertyName:te.hq.dataBarScalingType},te.O9.LevelMaximum)===te.O9.LevelMaximum){for(var Me of It.metadata.columns)if(Me.discourageAggregationAcrossGroups)return void g.f.assertFail("Aggregates should not be computed across groups with different values of the column "+Me.queryName);var at=Tt[0].queryName,Xe=tt.map(Re=>Re.queryName);It.scopedAggregates=[{min:!0,max:!0,scope:[Xe[0]],queryName:at}];for(var ue=0;ue<tt.length-1;ue++)tt[ue].aggregates=[{min:!0,max:!0,scope:Xe.slice(0,ue+2),queryName:at}]}}}(Pt),function(It){var Pt=It.matrix.rows.dataReductionAlgorithm;if(Pt&&Pt.topNPerLevel){var Tt=It.metadata.objects,tt=(0,Q.NA)(Tt,{objectName:te.I8.tree,propertyName:te.hq.responsiveLayout})??!0,_e=(0,Q.NA)(Tt,{objectName:te.I8.tree,propertyName:tt?te.hq.effectiveBarsPerLevel:te.hq.barsPerLevel},te.bR.defaultValue);(_e<te.bR.minValue||_e>te.bR.maxValue)&&(_e=te.bR.defaultValue),Pt.topNPerLevel.count=_e}}(Pt))}function ot(It){return(0,f.T6)(It,u.B3.Hierarchical)}function ft(It){var Pt=u.B3.KPI,Tt=_.first(It.dataViewMappings);if(!Tt||!Tt.categorical||!Tt.categorical.values)return{subjectKind:u.B3.Cartesian,error:u.Ru.NoValidBindings,bindings:void 0};var tt=(0,f.YW)(Tt);return _.isEmpty(tt)?{subjectKind:Pt,error:u.Ru.NoValidBindings,bindings:void 0}:{subjectKind:Pt,error:void 0,bindings:tt}}function Ct(It){return!It||_.isEmpty(It.dataViewMappings)?{keyDriversConfiguration:void 0,error:u.Fv.NoValidBindings}:{keyDriversConfiguration:Ke(It.dataViewMappings),error:void 0}}function Ke(It){g.f.assertValue(It,"compiledDataViewMappings");var Pt=_.first(It),Tt=Pt.table,tt=Pt.metadata,_e=tt.objects,Ge=_.map(tt.columns,Sr=>Sr.queryName),Me=Tt.rows,at=Me.select[0],Xe=Me.select[1];g.f.assert(()=>1===at.bind.to.items.length,"There should be exactly one analyze item"),g.f.assert(()=>Xe.for.in.items.length>=1,"There should be at least one explain by item");var ue="keyDrivers",Re=_.first(at.bind.to.items).queryName,pt=_.map(Xe.for.in.items,Sr=>Sr.queryName),Kt=_.filter(Ge,Sr=>Re!==Sr&&pt.indexOf(Sr)<0),Jt=(0,Q.NA)(_e,{objectName:ue,propertyName:"targetValue"},void 0),pr=(0,Q.NA)(_e,{objectName:ue,propertyName:"selectedNumericAnalysis"},void 0),sr=(0,Q.NA)(_e,{objectName:ue,propertyName:"numericTargetSelectedKind"},void 0);return void 0!==sr&&0===sr?sr="Increase":void 0!==sr&&1===sr&&(sr="Decrease"),{analyzeQueryName:Re,explainByQueryNames:pt,expandByQueryNames:Kt,targetValue:Jt,numericTargetSelectedKind:sr,selectedNumericAnalysis:pr}}var Ae=e(902186),we=e(470928),Ne=e(40545),Se=[{objectProperty:Ne.xg.indicatorFontFamilyProp,defaultValue:(0,p.fL)(Ae.Wn.lightSecondary.family)},{objectProperty:Ne.xg.goalFontSizeProp,defaultValue:(0,p.cA)(we.qy)},{objectProperty:Ne.xg.goalFontFamilyProp,defaultValue:(0,p.fL)(Ae.Wn.semibold.family)}];function Ie(It){return(0,f.T6)(It,u.B3.KPI)}var me=e(123916),Oe=e(87072),Ee=e(806982),xe=e(248505),ye=e(994069),Ce=e(850234),je=e(223789),pe=e(490881);function Qe(It){var Pt=It.dataViewMappings[0];Pt&&(Pt.categorical?function(It){var Pt=It.dataViewMappings[0],Tt=Pt?.categorical;if(Tt&&Tt.categories){Tt.dataVolume=4;var tt=Tt.categories,_e=_.find(It.dataViewMappings,ue=>!!ue.usage?.anomalyDetection);_e&&(function(It,Pt){g.f.assertValue(It&&It.dataReductionAlgorithm,"categorical dataReductionAlgorithm"),g.f.assertValue(Pt&&Pt.categorical,"anomalyDetection.categorical");var Tt=It.dataReductionAlgorithm.binnedLineSample;g.f.assertValue(!Tt.count,"binnedLineSample.count should be undefined"),g.f.assertValue(!Tt.warningCount,"binnedLineSample.warningCount should be undefined"),Tt.count=4900,Tt.warningCount=3500,Pt.categorical.dataReductionAlgorithm={binnedLineSample:{}};var tt=Pt.categorical.dataReductionAlgorithm.binnedLineSample;tt.count=Tt.count,tt.warningCount=Tt.warningCount}(Tt,_e),_.some(It.dataViewMappings,ue=>function(It){return ye.ZA.check(Pt=>({metadata:Pt.check(It&&It.metadata,ye.Gg,Tt=>({columns:Pt.check(Tt.columns,ce,ye.yR),objects:Pt.check(Tt.objects,be,ye.yR)})),categorical:Pt.check(It.categorical,ye.Gg,Tt=>({categories:Pt.check(Tt.categories,Oe.mn,tt=>({for:Pt.check(tt.for,ye.Gg,_e=>({in:Pt.check(_e.in,ae,ye.yR)}))})),values:Pt.check(Tt.values,Oe.wj,tt=>({group:Pt.check(tt.group,ye.Gg,_e=>({by:Pt.check(_e.by,de,ye.yR),select:Pt.check(_e.select,ee,ye.yR)}))}))}))}))}(ue))||_.remove(It.dataViewMappings,ue=>ue===_e));var Ge=!1;if((0,P.$9)(Pt.metadata.objects,w.cartesianChartProps.categoryAxis.axisType)){Ge=(0,Ee.A9)(Pt);var Me=_.find(It.dataViewMappings,ue=>!!ue.usage?.forecast);(0,q.Sr)(tt,{visitRole:ue=>{ut(ue,Me,_e,!1)}})}if(!Ge&&!(0,P.iQ)(Pt,!1)){_.remove(It.dataViewMappings,ue=>ue.usage&&(ue.usage.forecast||ue.usage.anomalyDetection)),(0,je.BX)(Pt,!1);var at=[Pt];(0,D.XS)(at);var Xe=Ot(It);(0,D.kV)(at,Xe)}(0,D.K0)(It.dataViewMappings)}}(It):Pt.matrix&&function(It){var Pt=It.dataViewMappings[0];if((0,R.qO)(Pt)){var Tt=!1;(0,P.$9)(Pt.metadata.objects,w.cartesianChartProps.categoryAxis.axisType)&&(Tt=(0,Ee.A9)(Pt),(0,q.Ay)(Pt.matrix.rows,{visitRole:Ge=>{ut(Ge,void 0,void 0,!0)}}));var tt=(0,P.iQ)(Pt,!0);if(Tt||tt){if(tt){var _e=(0,R.b8)(Pt);(0,B.Bx)([_e],{min:!0,max:!0})}}else(0,je.BX)(Pt,!0);(0,B.vR)(Pt,[w.Rm.Y,w.Rm.Y2]),(0,B._F)(Pt)}}(It))}function ut(It,Pt,Tt,tt){if(It.role===w.Rm.Category){var _e=[w.Rm.Category];tt&&_e.unshift(w.Rm.Rows);for(var Ge={data:[(0,me.Yp)(_e)]},Me=It.items,at=0,Xe=_.size(Me);at<Xe;at++){var Re=Me[at].scalarKeyInfo;if(Re&&Re.hasScalarKey){Re.scalarKeyMinProperty=w.cartesianChartProps.scalarKey.min,Re.selector=Ge,Pt&&bt(Pt,Ge,at),Tt&&bt(Tt,Ge,at);break}}}}function bt(It,Pt,Tt){(0,q.Sr)(It?.categorical?.categories,{visitRole:tt=>{tt.items[Tt].scalarKeyInfo||(tt.items[Tt].scalarKeyInfo={});var _e=tt.items[Tt].scalarKeyInfo;_e.scalarKeyMinProperty=w.cartesianChartProps.scalarKey.min,_e.selector=Pt}})}function Ot(It){var Pt=It.dataViewMappings[0];return(0,R.qO)(Pt)?function(It){var Pt=(0,P.iQ)(It,!0),Tt=[w.xV.rows];return Pt||Tt.push(w.xV.category),Tt.push(w.xV.y,w.xV.tooltips,w.xV.series),Tt}(Pt):function(It){if(!It||!It.categorical||!It.categorical.categories)return null;var Ge,Me,Tt=It.categorical.categories.for.in,tt=Tt.items,_e=Tt.activeItems;if(Ge=["Category","Series","Y","Y2","Tooltips"],Me=["Series"],!_.isEmpty(tt)){var at,Xe;if(It.metadata&&(at=It.metadata.objects),(0,Ee.A9)(It)&&(0,P.$9)(at,w.cartesianChartProps.categoryAxis.axisType))return Me;if(_.isEmpty(_e))Xe=tt[0].type;else if(1===_e.length){var ue=_.find(tt,Re=>Re.queryName===_e[0]);g.f.assert(()=>!!ue,"Item should always be defined"),Xe=ue.type}else if(_e.length>1)return Ge;return(0,P._K)(at,w.cartesianChartProps.categoryAxis.axisType,Xe)?Me:Ge}return null}(Pt)}function Fe(It,Pt){var Tt=[],tt=[],_e=[],Ge=[],Me=[],at={xIndex:void 0,yIndex:void 0};for(var Xe of It?.selects)Xe?.roles[w.Rm.Series]&&Tt.push(Xe),Xe?.roles[w.Rm.Category]&&(tt.push(Xe),Me.push(xe.Ge.fromDescriptor(Xe?.type))),Xe?.roles[w.Rm.Y]&&_e.push(Xe),Xe?.roles[w.Rm.Y2]&&Ge.push(Xe);if(function(It,Pt,Tt){var tt=Tt[0],_e=(0,Ee.A8)(tt?.categorical?.categories[0]),Ge=(0,P.PX)(tt?.metadata?.objects,w.cartesianChartProps.categoryAxis.axisType,It[0]?.type,_e,(0,D.n$)(tt));return 1===It.length||It.length>1&&Ge&&It[0]?.type?.temporal&&!Pt?.objects?.categoryAxis}(tt,It,Pt)&&function(It,Pt,Tt,tt){var _e=_.first(It);return 1===Pt.length&&0===Tt.length&&0===tt.length&&(_e?.dateTime||_e?.numeric||_e?.temporal?.day||_e?.temporal?.year)&&!(_e?.temporal?.quarter||_e?.temporal?.month)}(Me,_e,Ge,Tt)&&It&&It.roles&&It.roles.ordering){if(It.roles.ordering[w.Rm.Category]&&It.roles.activeItems)for(var ue=_.first(It.roles.activeItems[w.Rm.Category])?.queryRef,Re=0;Re<It.selects?.length;Re++)It.selects[Re]?.queryName===ue&&(at.xIndex=Re);It.roles.ordering[w.Rm.Y]&&(at.yIndex=_.first(It.roles.ordering[w.Rm.Y]))}return at}function ce(It){return _.some(It,Pt=>!(!Pt.objects||!Pt.objects[pe.xn]||Pt.objects[w.j3.generic]||Pt.objects[w.Po]))}function be(It){if(!It)return!0;var Pt=(0,Q.NA)(It,w.cartesianChartProps.categoryAxis.axisType);return!Pt||Pt===Ce.w.scalar}function ae(It){var Pt=It.items,Tt=It.activeItems;if(_.size(Pt)<1)return!1;if(1===_.size(Pt)){var tt=_.first(Pt).type;if(!tt||!tt.dateTime&&!tt.temporal?.year)return!1}else{var _e=_.size(Tt);if(_e<1)return!1;var Ge=_.last(Tt),Me=_.find(Pt,Xe=>Xe.queryName===Ge);if(g.f.assertValue(Me,"invalidAnomalyDataViewMapping. Active projection must be part of category items"),!Me)return!1;var at=Me.type;if(1===_e&&!at?.temporal?.year)return!1;if(_e>1&&!at?.temporal||!Me.scalarKeyInfo?.hasScalarKey)return!1}return!0}function de(It){return!(It.role===w.Rm.Series&&!_.isEmpty(It.items))}function ee(It){var Pt=It;if(!Pt)return!1;var Tt=_.find(Pt,_e=>_e.for.in.role===w.Rm.Y);if(!Tt||1!==_.size(Tt.for.in.items))return!1;var tt=_.find(Pt,_e=>_e.for.in.role===w.Rm.Y2);return!(tt&&!_.isEmpty(tt.for.in.items))}var Pe=e(399669),We=e(976707);function it(It){var Pt=It.dataViewMappings[0];if(Pt&&Pt.matrix&&Pt.metadata){var Tt=Pt.matrix;_.isEmpty(Tt.columns.for.in.items)||(Tt.rows.dataReductionAlgorithm.window.count=100);var tt=Pt.metadata.objects;Tt.rows.for.in.subtotalType=We.FX.PropGeneralMatrixRowSubtotals.getValue(tt)?re.F.After:re.F.None,Tt.columns.for.in.subtotalType=We.FX.PropGeneralMatrixColumnSubtotals.getValue(tt)?re.F.After:re.F.None}}function yt(It){return["Rows","Values"]}function mt(It){if(It&&It.dataViewMappings&&!_.isEmpty(It.dataViewMappings))for(var Pt of It.dataViewMappings)if(Pt.table){var Tt=Pt.table.rows;if(Tt&&Tt.for&&Tt.for.in&&Tt.for.in.items)return["Values"]}}function ie(It){var Pt=_.first(It.dataViewMappings),Tt=[];if(Pt&&Pt.table&&Pt.table.rows){var _e=(0,f.hK)(Pt.table.rows);return _.isEmpty(_e)?{subjectKind:u.B3.KPI,error:u.Ru.NoValidBindings,bindings:void 0}:(Tt.push(..._e),{subjectKind:u.B3.KPI,error:void 0,bindings:Tt})}}var Y=e(288497),fe=e(613384);function Be(It){var Pt=It.dataViewMappings[0];if(Pt&&Pt.matrix&&Pt.metadata){var Tt=Pt.matrix,tt=!_.isEmpty(Tt.columns.for.in.items);tt&&(Tt.rows.dataReductionAlgorithm.window.count=100);var _e=Tt.values;if(_e){var Ge=_e.for.in.items;_.some(Ge,Me=>!!Me.type?.misc?.sparkline)&&(Tt.rows.dataReductionAlgorithm.window.count=tt?50:100,tt&&(Tt.columns.dataReductionAlgorithm.top.count=25)),(0,B.pn)(Pt,Ge)}(function(It,Pt){var Tt=It.metadata.objects,tt=It.metadata.columns,_e=Pt.rows.for.in.items,Ge=We.FX.PropSubTotalsPivotTableRowSubtotals.getValue(Tt),Me=We.FX.PropSubTotalsPivotTableRowSubtotalsPosition.getValue(Tt)===fe.we?re.F.Before:re.F.After,at=We.FX.PropSubTotalsPivotTableRowSubtotalsPerLevel.getValue(Tt);if(!_.isEmpty(_e))for(var Xe=function(){var pt=_e[ue],Kt=_.find(tt,Xt=>Xt.queryName===pt.queryName);if(!Kt)return 1;var Jt=We.FX.PropSubTotalsPivotTableLevelSubtotalEnabled.getValue(Kt.objects);if(!Ge||at&&!Jt)pt.subtotalType=re.F.None;else{var pr=We.FX.PropGeneralMatrixLayout.getValue(Tt),sr=void 0!==pr?pr===Y.t.Compact:We.FX.PropRowsSteppedLayout.getValue(Tt);pt.subtotalType=0===ue&&sr?re.F.Before:Me}},ue=0,Re=_e.length;ue<Re;ue++)Xe()})(Pt,Tt),function(It,Pt){var Tt=It.metadata.objects,tt=It.metadata.columns,_e=Pt.columns.for.in.items,Ge=We.FX.PropSubTotalsPivotTableColumnSubtotals.getValue(Tt),Me=We.FX.PropSubTotalsPivotTableColumnSubtotalsPerLevel.getValue(Tt);if(!_.isEmpty(_e)){var at=function(ue){var Re=_.find(tt,Kt=>Kt.queryName===ue.queryName);if(!Re)return 1;var pt=We.FX.PropSubTotalsPivotTableLevelSubtotalEnabled.getValue(Re.objects);ue.subtotalType=!Ge||Me&&!pt?re.F.None:re.F.After};for(var Xe of _e)at(Xe)}}(Pt,Tt)}}function St(It){return["Rows","Values"]}function Rt(It){var Pt=It.dataViewMappings[0];Pt&&Pt.table&&(Pt.table.rows.for.in.subtotalType=re.F.Before)}var kt=[{objectProperty:w.cartesianChartProps.valueAxis.showAxisTitle,defaultValue:(0,p.O7)(!1)}],Gt=e(179658),Ht=e(146300),tr=e(587233);function ar(It){var Pt=It.dataViewMappings[0];if(Pt&&Pt.matrix&&Pt.metadata){var Tt=Pt.matrix,tt=Pt.metadata.objects,_e=(0,Q.NA)(tt,tr.il.ratioLine.strokeShow,!1),Ge=!1,Me=!1,at=!1,Xe=[],ue=Tt.rows;if(ue&&!_.isEmpty(ue.select))for(var Re of(g.f.assert(()=>!!(ue.dataReductionAlgorithm.bottom||ue.dataReductionAlgorithm.sample||ue.dataReductionAlgorithm.overlappingPointsSample),"invalid data reduction"),ue.select)){var Kt=Re;for(var Jt of Kt.composite?Kt.composite:[Re]){(0,B.Ci)(Jt)&&Xe.push(Jt.bind.to),(0,B.uS)(Jt)&&Xe.push(Jt.for.in);var pr=Mt(Jt);pr&&(Ge=!0,pr===w.TL.y&&(Me=!0),pr===w.TL.x&&(at=!0))}}if(_e&&!Ge){for(var sr of Xe)sr.subtotalType=re.F.After;(0,B.uS)(Tt.columns)&&(Tt.columns.for.in.subtotalType=re.F.After)}var Xt=Tt.rows.dataReductionAlgorithm,Sr=(0,Q.NA)(tt,tr.il.general.dataVolume,null),Le=(0,Q.NA)(tt,w.cartesianChartProps.categoryAxis.axisType)===Ce.w.categorical,Ye=_.find(Xe,Ut=>Ut.role===w.TL.x),ht=Ye&&_.filter(Ye.items,Ut=>_.includes(Ye.activeItems,Ut.queryName)),gt=_.size(ht),Vt=0===gt?void 0:1===gt&&_.every(ht,Ut=>Ut.type&&(Ut.type.numeric||Ut.type.integer)),xt=_.find(Tt.values.select,Ut=>(0,B.Ci)(Ut)&&Ut.bind.to.role===w.TL.x),At=xt&&(0,B.Ci)(xt)&&xt.bind.to,jt=At?_.filter(At.items,Ut=>!Ut.hidden):[],Nt=_.size(jt),Yt=_.every(jt,Ut=>Ut.type&&(Ut.type.numeric||Ut.type.integer));if(!at&&Nt>1)return{error:{code:"DataViewMappingError_ScatterXMismatchType"}};if(Me&&gt>1)return{error:{code:"DataViewMappingError_ScatterYGroupedXDrilled"}};if(!at&&1===Nt&&!Yt)return{error:{code:"DataViewMappingError_ScatterXIncorrectAggregate"}};if(Ge&&(Le||!1===Vt)){if(Me)return{error:{code:Le?"DataViewMappingError_ScatterYGroupedXCategoricalAxis":"DataViewMappingError_ScatterYGroupedXNonScalar"}};Tt.rows.dataReductionAlgorithm={window:{count:200}};var rr=_.remove(ue.select,Ut=>(0,B.Ci)(Ut)&&Ut.bind.to.role===w.TL.series);g.f.assert(()=>1===rr.length,"series mapping should be removed");var dr=rr[0];dr&&dr.bind&&(Tt.columns={for:{in:dr.bind.to},dataReductionAlgorithm:{top:{count:60}}})}else Xt?.overlappingPointsSample?((0,Q.NA)(tt,w.cartesianChartProps.categoryAxis.logAxisScale)&&(Xt.overlappingPointsSample.x.transform=Gt.iG.Log),(0,Q.NA)(tt,w.cartesianChartProps.valueAxis.logAxisScale)&&(Xt.overlappingPointsSample.y.transform=Gt.iG.Log),null!=Sr&&(Xt.overlappingPointsSample.count=Sr)):Xt?.sample&&null!=Sr&&(Xt.sample.count=Sr)}}function He(It){if(_.find(It.dataViewMappings,Tt=>Tt.matrix?.rows?.dataReductionAlgorithm?.window))return[w.TL.x,w.TL.y,w.TL.series]}function Mt(It){var Pt;return(0,B.Ci)(It)?Pt=It.bind.to.role:(0,B.uS)(It)&&(Pt=It.for.in.role),Pt===w.TL.x?w.TL.x:Pt===w.TL.y?w.TL.y:void 0}function Bt(It){return{hasSize:(0,Ht.c5)(It,"Size"),hasPlayAxis:(0,Ht.c5)(It,"Play")}}function ze(It){var Pt=_.first(It.dataViewMappings);return Pt&&Pt.matrix?(0,f.gY)(Pt.matrix,u.B3.Scatter):Pt&&Pt.categorical&&Pt.categorical.categories?(0,f.T6)(It,u.B3.Scatter):{subjectKind:u.B3.Scatter,error:u.Ru.NoValidBindings,bindings:void 0}}var st=e(818506),Lt=e(371337),Qt=e(434662),$t=e(699460),lr=e(772247),_r=e(670987);function Mr(It){It.dataViewMappings[0].updateType=G.Ky.MetadataOnly}function Vr(It){var Pt=It.dataViewMappings[0];Pt&&Pt.table&&Pt.metadata&&(Pt.table.rows.for.in.subtotalType=We.FX.PropGeneralTableTotals.getValue(Pt.metadata.objects)?re.F.Before:re.F.None)}function Lr(It){return["Values"]}var Fr=e(857472);function Ur(It){var Pt=It.dataViewMappings[0];if(Pt&&Pt.table&&Pt.metadata){var Tt=Pt.table.rows,tt=Tt.for.in.items;_.some(tt,Ge=>!!Ge.type?.misc?.sparkline)&&(Pt.table.rows.dataReductionAlgorithm.window.count=100),Tt.for.in.subtotalType=We.FX.PropTotalTableExTotals.getValue(Pt.metadata.objects)?re.F.Before:re.F.None,(0,B.pn)(Pt,tt)}}function Br(It){return["Values"]}function wr(It){var Pt=It.dataViewMappings[0];if(Pt&&Pt.matrix){var Tt=Pt.matrix;Tt.columns&&Tt.columns.for&&Tt.columns.for.in&&(Tt.columns.for.in.subtotalType=re.F.Before)}}function Gr(It){return[w.IT.category,w.IT.y,w.IT.tooltips]}var It,mr=e(699660),jr={name:"heatMap",capabilities:mr.D.map,create:()=>{throw new Error("pluginsNotForOSS.ts: 'Create' function is deprecated")},createES6:(It=(0,r.Z)(function*(){var{Map:Pt}=yield Promise.all([e.e(15),e.e("MapVisuals")]).then(e.bind(e,67050));return new Pt({filledMap:!1})}),function(){return It.apply(this,arguments)})},Rr=e(631402),Hr=e(951504),qr=e(159601);function kr(It){return[qr.CT.value,Hr.B0.Tooltips]}function Qr(It){if(!_.isEmpty(It.dataViewMappings)){var Pt=It.dataViewMappings[0];if(Pt&&Pt.metadata){var Tt=function(It){return It.metadata?It.metadata.columns:null}(Pt)||[];if(Pt.matrix&&Pt.matrix.rows){var tt=Pt.matrix.rows.for.in.items;if(!_.isEmpty(tt)){var _e=function(Me){if(!_.find(Tt,Xe=>Xe.queryName===Me.queryName))return 1;Me.subtotalType=re.F.Before};for(var Ge of tt)_e(Ge)}}}}}function Jr(It){return(0,_r.RC)(It,{merge:[],remove:[],replace:[]},{objectName:qr.gO.general.filter.objectName,selector:null,properties:{[qr.gO.general.filter.propertyName]:It.filterToApply}})}var hr=()=>{throw new Error("plugins.ts: 'Create' function is deprecated")},zr=!1,Xr=function(){if(zr)return a.N;var Tt,It={actionButton:{name:i.D.actionButton,titleKey:(0,n.V)("Button"),capabilities:mr.D.actionButton,create:hr,createES6:(Tt=(0,r.Z)(function*(){var{ActionButton:tt}=yield Promise.all([e.e(15),e.e("actionButton")]).then(e.bind(e,200998));return new tt}),function(){return Tt.apply(this,arguments)})},animatedNumber:{name:i.D.animatedNumber,capabilities:mr.D.animatedNumber,create:hr,createES6:function(){var Tt=(0,r.Z)(function*(){var{AnimatedNumber:tt}=yield Promise.all([e.e(15),e.e("animatedNumber")]).then(e.bind(e,853498));return new tt});return function(){return Tt.apply(this,arguments)}}()},areaChart:{name:i.D.areaChart,watermarkKey:"area",titleKey:(0,n.V)("AreaChart_ToolTip"),capabilities:mr.D.areaChart,create:hr,createES6:function(){var Tt=(0,r.Z)(function*(tt){var{CartesianChart:_e}=yield Promise.all([e.e(15),e.e("cartesianChart")]).then(e.bind(e,459964));return new _e({chartType:t.bl.Area,featureSwitches:tt.featureSwitches})});return function(_e){return Tt.apply(this,arguments)}}(),customizeQuery:Qe,getSortableRoles:Ot,getAdditionalTelemetry:M,getNarrativeSummaryBindings:A},barChart:{name:i.D.barChart,watermarkKey:"bar",titleKey:(0,n.V)("BarChart_ToolTip"),capabilities:mr.D.barChart,create:hr,createES6:function(){var Tt=(0,r.Z)(function*(tt){var{CartesianChart:_e}=yield Promise.all([e.e(15),e.e("cartesianChart")]).then(e.bind(e,459964));return new _e({chartType:t.bl.StackedBar,featureSwitches:tt.featureSwitches})});return function(_e){return Tt.apply(this,arguments)}}(),customizeQuery:N,getSortableRoles:U,getAdditionalTelemetry:M,getNarrativeSummaryBindings:A},basicShape:{name:i.D.basicShape,titleKey:(0,n.V)("BasicShape_ToolTip"),capabilities:mr.D.basicShape,create:hr,createES6:function(){var Tt=(0,r.Z)(function*(){var{BasicShape:tt}=yield e.e("basicShape").then(e.bind(e,935194));return new tt});return function(){return Tt.apply(this,arguments)}}()},shape:{name:i.D.shape,titleKey:(0,n.V)("BasicShape_ToolTip"),capabilities:mr.D.shape,create:hr,createES6:function(){var Tt=(0,r.Z)(function*(){var{Shape:tt}=yield Promise.all([e.e(15),e.e("shape")]).then(e.bind(e,472149));return new tt});return function(){return Tt.apply(this,arguments)}}(),getCustomizeConvertTo:(Tt,tt,_e)=>function(It){if("basicShape"===It)return{objects:{[lr.eM.fill]:{[lr.Mn.fillColor]:{transform:Pt=>Pt??(0,p.$_)(null,"backgroundLight"),transformArgs:[{identifier:Qt.O.fill.fillColor}],targetSelector:{id:$t.W6.default}},[lr.Mn.fillTransparency]:{transformArgs:[{identifier:Qt.O.fill.transparency}],targetSelector:{id:$t.W6.default}}},[lr.eM.outline]:{[lr.Mn.outlineColor]:{transform:Pt=>Pt??(0,p.e7)(2,0),transformArgs:[{identifier:Qt.O.line.lineColor}],targetSelector:{id:$t.W6.default}},[lr.Mn.outlineWeight]:{transform:Pt=>Pt??(0,p.cA)(3),transformArgs:[{identifier:Qt.O.line.weight}],targetSelector:{id:$t.W6.default}},[lr.Mn.outlineTransparency]:{transformArgs:[{identifier:Qt.O.line.transparency}],targetSelector:{id:$t.W6.default}}},[lr.eM.shape]:{[lr.Mn.tileShape]:{transform:Pt=>{if(Pt&&(0,s.VC)(Pt)){var Tt;switch(Pt.value){case st.C9:Tt=Lt.m.Rectangle;break;case st.BG:Tt=Lt.m.Oval;break;case st.jv:Tt=Lt.m.Line;break;case st.x7:Tt=Lt.m.Arrow;break;case st.cP:Tt=Lt.m.TriangleIsoc;break;default:Tt=Lt.m.Rectangle}return(0,p.fL)(Tt)}},transformArgs:[{identifier:Qt.O.general.shapeType}]},[lr.Mn.shapeRounding]:{transformArgs:[{identifier:Qt.O.line.roundEdge}]}},[$t.MI.rotation]:{[lr.Mn.shapeRotation]:{transform:(Pt=(0,p.cA)(0),Tt)=>{if(!Tt)return Pt;if((0,s.VC)(Pt)&&(0,s.VC)(Tt)){var _e,tt=Pt.value;switch(Tt.value){case st.jv:_e=(tt+90)%360;break;case st.x7:_e=(tt+270)%360;break;default:_e=tt}return(0,p.cA)(_e)}g.f.assertFail("CustomizeConvert shape: unsupported SQExpr type")},transformArgs:[{identifier:Qt.O.rotation.angle},{identifier:Qt.O.general.shapeType}]},[$t.B3.rotation]:{transform:()=>{}}}}}}(Tt)},card:{name:i.D.card,watermarkKey:"card",titleKey:(0,n.V)("Card_ToolTip"),titleInSentenceKey:(0,n.V)("Card_Visual_InSentenceCase"),capabilities:mr.D.card,create:hr,createES6:function(){var Tt=(0,r.Z)(function*(){var{createCard:tt}=yield Promise.all([e.e(15),e.e("cardModule")]).then(e.bind(e,733903));return tt(void 0)});return function(){return Tt.apply(this,arguments)}}(),getNarrativeSummaryBindings:b},cardVisual:{name:i.D.cardVisual,watermarkKey:"cardVisual",titleKey:(0,n.V)("Card_ToolTip_New"),titleInSentenceKey:(0,n.V)("Card_Visual_New_InSentenceCase"),capabilities:mr.D.cardVisual,create:hr,createES6:function(){var Tt=(0,r.Z)(function*(){var{CardVisual:tt}=yield Promise.all([e.e(12),e.e(15),e.e("cardVisual")]).then(e.bind(e,31712));return new tt(void 0)});return function(){return Tt.apply(this,arguments)}}(),module:{css:["cardVisual"]},getSortableRoles:T,getNarrativeSummaryBindings:V},multiRowCard:{name:i.D.multiRowCard,watermarkKey:"multiRowCard",titleKey:(0,n.V)("MultiRowCard_ToolTip"),titleInSentenceKey:(0,n.V)("MultiRowCard_Visual_InSentenceCase"),capabilities:mr.D.multiRowCard,create:hr,createES6:function(){var Tt=(0,r.Z)(function*(){var{MultiRowCard:tt}=yield Promise.all([e.e(15),e.e("MultiRowCardVisual")]).then(e.bind(e,685701));return new tt(void 0)});return function(){return Tt.apply(this,arguments)}}(),getSortableRoles:mt,getNarrativeSummaryBindings:ie},clusteredBarChart:{name:i.D.clusteredBarChart,watermarkKey:"clusteredBar",titleKey:(0,n.V)("ClusteredBarChart_ToolTip"),capabilities:mr.D.clusteredBarChart,create:hr,createES6:function(){var Tt=(0,r.Z)(function*(tt){var{CartesianChart:_e}=yield Promise.all([e.e(15),e.e("cartesianChart")]).then(e.bind(e,459964));return new _e({chartType:t.bl.ClusteredBar,featureSwitches:tt.featureSwitches})});return function(_e){return Tt.apply(this,arguments)}}(),customizeQuery:N,getSortableRoles:U,getAdditionalTelemetry:M,getNarrativeSummaryBindings:A},clusteredColumnChart:{name:i.D.clusteredColumnChart,watermarkKey:"clusteredColumn",titleKey:(0,n.V)("ClusteredColumnChart_ToolTip"),capabilities:mr.D.clusteredColumnChart,create:hr,createES6:function(){var Tt=(0,r.Z)(function*(tt){var{CartesianChart:_e}=yield Promise.all([e.e(15),e.e("cartesianChart")]).then(e.bind(e,459964));return new _e({chartType:t.bl.ClusteredColumn,featureSwitches:tt.featureSwitches})});return function(_e){return Tt.apply(this,arguments)}}(),customizeQuery:N,getSortableRoles:U,getAdditionalTelemetry:M,getNarrativeSummaryBindings:A},columnChart:{name:i.D.columnChart,watermarkKey:"column",titleKey:(0,n.V)("ColumnChart_ToolTip"),capabilities:mr.D.columnChart,create:hr,createES6:function(){var Tt=(0,r.Z)(function*(tt){var{CartesianChart:_e}=yield Promise.all([e.e(15),e.e("cartesianChart")]).then(e.bind(e,459964));return new _e({chartType:t.bl.StackedColumn,featureSwitches:tt.featureSwitches})});return function(_e){return Tt.apply(this,arguments)}}(),customizeQuery:N,getSortableRoles:U,getAdditionalTelemetry:M,getNarrativeSummaryBindings:A},donutChart:{name:i.D.donutChart,watermarkKey:"donut",titleKey:(0,n.V)("DonutChart_ToolTip"),capabilities:mr.D.donutChart,create:hr,createES6:function(){var Tt=(0,r.Z)(function*(){var{DonutChart:tt}=yield Promise.all([e.e(15),e.e("donutChart")]).then(e.bind(e,278926));return new tt(void 0)});return function(){return Tt.apply(this,arguments)}}(),getNarrativeSummaryBindings:ot},funnel:{name:i.D.funnel,watermarkKey:"funnel",titleKey:(0,n.V)("Funnel_ToolTip"),capabilities:mr.D.funnel,create:hr,createES6:function(){var Tt=(0,r.Z)(function*(){var{FunnelChart:tt}=yield Promise.all([e.e(15),e.e("FunnelChartVisual")]).then(e.bind(e,391442));return new tt(void 0)});return function(){return Tt.apply(this,arguments)}}()},gauge:{name:i.D.gauge,watermarkKey:"gauge",titleKey:(0,n.V)("Gauge_ToolTip"),capabilities:mr.D.gauge,create:hr,createES6:function(){var Tt=(0,r.Z)(function*(){var{Gauge:tt}=yield Promise.all([e.e(15),e.e("gauge")]).then(e.bind(e,317277));return new tt(void 0,void 0)});return function(){return Tt.apply(this,arguments)}}(),getNarrativeSummaryBindings:ft},hundredPercentStackedBarChart:{name:i.D.hundredPercentStackedBarChart,watermarkKey:"100stackedbar",titleKey:(0,n.V)("HundredPercentStackedBarChart_ToolTip"),capabilities:mr.D.hundredPercentStackedBarChart,create:hr,createES6:function(){var Tt=(0,r.Z)(function*(tt){var{CartesianChart:_e}=yield Promise.all([e.e(15),e.e("cartesianChart")]).then(e.bind(e,459964));return new _e({chartType:t.bl.HundredPercentStackedBar,featureSwitches:tt.featureSwitches})});return function(_e){return Tt.apply(this,arguments)}}(),customizeQuery:N,getSortableRoles:U,getAdditionalTelemetry:M,getNarrativeSummaryBindings:A},hundredPercentStackedColumnChart:{name:i.D.hundredPercentStackedColumnChart,watermarkKey:"100stackedcolumn",titleKey:(0,n.V)("HundredPercentStackedColumnChart_ToolTip"),capabilities:mr.D.hundredPercentStackedColumnChart,create:hr,createES6:function(){var Tt=(0,r.Z)(function*(tt){var{CartesianChart:_e}=yield Promise.all([e.e(15),e.e("cartesianChart")]).then(e.bind(e,459964));return new _e({chartType:t.bl.HundredPercentStackedColumn,featureSwitches:tt.featureSwitches})});return function(_e){return Tt.apply(this,arguments)}}(),customizeQuery:N,getSortableRoles:U,getAdditionalTelemetry:M,getNarrativeSummaryBindings:A},image:{name:i.D.image,titleKey:(0,n.V)("Image"),capabilities:mr.D.image,create:hr,createES6:function(){var Tt=(0,r.Z)(function*(){var{ImageVisual:tt}=yield e.e("ImageVisual").then(e.bind(e,615465));return new tt});return function(){return Tt.apply(this,arguments)}}()},lineChart:{name:i.D.lineChart,watermarkKey:"line",titleKey:(0,n.V)("LineChart_ToolTip"),capabilities:mr.D.lineChart,create:hr,createES6:function(){var Tt=(0,r.Z)(function*(tt){var{CartesianChart:_e}=yield Promise.all([e.e(15),e.e("cartesianChart")]).then(e.bind(e,459964));return new _e({chartType:t.bl.Line,featureSwitches:tt.featureSwitches})});return function(_e){return Tt.apply(this,arguments)}}(),customizeQuery:Qe,getSortableRoles:Ot,getAdditionalTelemetry:M,getNarrativeSummaryBindings:A,getDataDrivenAlertCapabilities:Fe},lineStackedColumnComboChart:{name:i.D.lineStackedColumnComboChart,watermarkKey:"combo",titleKey:(0,n.V)("LineStackedColumnComboChart_ToolTip"),capabilities:mr.D.lineStackedColumnComboChart,customizeQuery:I,create:hr,createES6:function(){var Tt=(0,r.Z)(function*(tt){var{CartesianChart:_e}=yield Promise.all([e.e(15),e.e("cartesianChart")]).then(e.bind(e,459964));return new _e({chartType:t.bl.LineStackedColumnCombo,featureSwitches:tt.featureSwitches})});return function(_e){return Tt.apply(this,arguments)}}(),getSortableRoles:J,getAdditionalTelemetry:M,getNarrativeSummaryBindings:k},lineClusteredColumnComboChart:{name:i.D.lineClusteredColumnComboChart,watermarkKey:"combo",titleKey:(0,n.V)("LineClusteredColumnComboChart_ToolTip"),capabilities:mr.D.lineClusteredColumnComboChart,customizeQuery:I,create:hr,createES6:function(){var Tt=(0,r.Z)(function*(tt){var{CartesianChart:_e}=yield Promise.all([e.e(15),e.e("cartesianChart")]).then(e.bind(e,459964));return new _e({chartType:t.bl.LineClusteredColumnCombo,featureSwitches:tt.featureSwitches})});return function(_e){return Tt.apply(this,arguments)}}(),getSortableRoles:J,getAdditionalTelemetry:M,getNarrativeSummaryBindings:k},map:{name:i.D.map,watermarkKey:"map",titleKey:(0,n.V)("Map_ToolTip"),capabilities:mr.D.map,create:hr,createES6:function(){var Tt=(0,r.Z)(function*(){var{Map:tt}=yield Promise.all([e.e(15),e.e("MapVisuals")]).then(e.bind(e,67050));return new tt({filledMap:!1})});return function(){return Tt.apply(this,arguments)}}(),customizeQuery:Pe.Wj,getNarrativeSummaryBindings:Pe.N6},filledMap:{name:i.D.filledMap,watermarkKey:"filledMap",titleKey:(0,n.V)("FilledMap_ToolTip"),capabilities:mr.D.filledMap,create:hr,createES6:function(){var Tt=(0,r.Z)(function*(){var{Map:tt}=yield Promise.all([e.e(15),e.e("MapVisuals")]).then(e.bind(e,67050));return new tt({filledMap:!0})});return function(){return Tt.apply(this,arguments)}}()},azureMap:{name:i.D.azureMap,watermarkKey:"azureMap",titleKey:(0,n.V)("AzureMap_ToolTip"),capabilities:mr.D.azureMap,module:{css:["azureMapVisuals"]},create:hr,createES6:function(){var Tt=(0,r.Z)(function*(){var{AzureMap:tt}=yield Promise.all([e.e(12),e.e(15),e.e("AzureMapVisuals")]).then(e.bind(e,670181));return new tt(void 0)});return function(){return Tt.apply(this,arguments)}}(),getCustomizeConvertTo:(Tt,tt,_e)=>function(It,Pt){if(Pt.azureMapsConversion){if("map"===It)return{skipRoleMapping:!0,objects:{[o.Do.mapControls]:{[o.DQ.defaultStyle]:{transformArgs:[{identifier:m.mapProps.mapStyles.mapTheme}],transform:It=>{if(!It||!(0,s.VC)(It))return(0,p.fL)(S(d.AB));var Pt=S(It.value);return(0,p.fL)(Pt)}},[o.DQ.showLabels]:{transformArgs:[{identifier:m.mapProps.mapStyles.showLabels}]},[o.DQ.autoZoom]:{transformArgs:[{identifier:m.mapProps.mapControls.autoZoom}]},[o.DQ.zoom]:{transformArgs:[{identifier:m.mapProps.mapControls.zoomLevel}],transform:It=>{if(It&&(0,s.VC)(It)){var Tt=h(It.value);return(0,p.cA)(Tt)}}},[o.DQ.centerLatitude]:{transformArgs:[{identifier:m.mapProps.mapControls.centerLatitude}]},[o.DQ.centerLongitude]:{transformArgs:[{identifier:m.mapProps.mapControls.centerLongitude}]},[o.DQ.showStylePicker]:{transform:()=>(0,p.O7)(!1)},[o.DQ.showNavigationControls]:{transformArgs:[{identifier:m.mapProps.mapControls.showZoomButtons}],transform:It=>It||(0,p.O7)(!1)},[o.DQ.showSelectionControl]:{transformArgs:[{identifier:m.mapProps.mapControls.showLassoButton}],transform:It=>It||(0,p.O7)(!1)}},dataPoint:{showAllDataPoints:{transformArgs:[{identifier:m.mapProps.dataPoint.showAllDataPoints}]},fill:{transformArgs:[{identifier:m.mapProps.dataPoint.fill}]}},[o.Do.bubbleLayer]:{[o.DQ.show]:{transformArgs:[{identifier:m.mapProps.heatMap.show}],transform:It=>It&&(0,s.VC)(It)&&It.value?(0,p.O7)(!1):(0,p.O7)(!0)},[o.DQ.bubbleRadius]:{transformArgs:[{identifier:m.mapProps.bubbles.bubbleSize}],transform:It=>{(!It||!(0,s.VC)(It))&&(It=(0,p.cA)(1));var tt=E(It.value,[-30,100],[.6,24]);return(0,p.cA)(Math.round(tt))}},[o.DQ.minBubbleRadius]:{transformArgs:[{identifier:m.mapProps.bubbles.bubbleSize}],transform:It=>{(!It||!(0,s.VC)(It))&&(It=(0,p.cA)(1));var Pt=[-30,50],_e=E(_.clamp(It.value,Pt[0],Pt[1]),Pt,[.6,15]);return(0,p.cA)(Math.round(_e))}},[o.DQ.maxRadius]:{transformArgs:[{identifier:m.mapProps.bubbles.bubbleSize}],transform:It=>{(!It||!(0,s.VC)(It))&&(It=(0,p.cA)(1));var Pt=[-30,50],_e=E(_.clamp(It.value,Pt[0],Pt[1]),Pt,[2,50]);return(0,p.cA)(Math.round(_e))}},[o.DQ.markerRangeType]:{transformArgs:[{identifier:m.mapProps.bubbles.markerRangeType}],transform:It=>{if(It&&(0,s.VC)(It)&&It.value)return(0,p.fL)(It.value)}},[o.DQ.bubbleStrokeWidth]:{transform:()=>(0,p.cA)(1)},[o.DQ.autoStrokeColor]:{transform:()=>(0,p.O7)(!0)},[o.DQ.layerPosition]:{transform:()=>(0,p.fL)(o.gc.AboveLabels)}},[o.Do.categoryLabels]:{[o.DQ.show]:{transformArgs:[{identifier:m.mapProps.categoryLabels.show},{identifier:m.mapProps.heatMap.show}],transform:(It,Pt)=>Pt&&(0,s.VC)(Pt)&&Pt.value?(0,p.O7)(!1):It},color:{transformArgs:[{identifier:m.mapProps.categoryLabels.color}]},fontFamily:{transformArgs:[{identifier:m.mapProps.categoryLabels.fontFamily}]},fontSize:{transformArgs:[{identifier:m.mapProps.categoryLabels.fontSize}]},bold:{transformArgs:[{identifier:m.mapProps.categoryLabels.bold}]},italic:{transformArgs:[{identifier:m.mapProps.categoryLabels.italic}]},underline:{transformArgs:[{identifier:m.mapProps.categoryLabels.underline}]},enableBackground:{transformArgs:[{identifier:m.mapProps.categoryLabels.enableBackground}]},backgroundColor:{transformArgs:[{identifier:m.mapProps.categoryLabels.backgroundColor}]},backgroundTransparency:{transformArgs:[{identifier:m.mapProps.categoryLabels.backgroundTransparency}]}},[o.Do.heatMapLayer]:{[o.DQ.show]:{transformArgs:[{identifier:m.mapProps.heatMap.show}]},[o.DQ.heatMapRadius]:{transformArgs:[{identifier:m.mapProps.heatMap.filterRadius}]},[o.DQ.heatMapRadiusUnit]:{transformArgs:[{identifier:m.mapProps.heatMap.unit}]},[o.DQ.mapTransparency]:{transformArgs:[{identifier:m.mapProps.heatMap.transparency}]},[o.DQ.heatMapColorLow]:{transformArgs:[{identifier:m.mapProps.heatMap.color0}]},[o.DQ.heatMapColorCenter]:{transformArgs:[{identifier:m.mapProps.heatMap.color50}]},[o.DQ.heatMapColorHigh]:{transformArgs:[{identifier:m.mapProps.heatMap.color100}]}}}};if("filledMap"===It)return{skipRoleMapping:!0,objects:{dataPoint:{showAllDataPoints:{transformArgs:[{identifier:v.Vh.dataPoint.showAllDataPoints}]},fill:{transformArgs:[{identifier:v.Vh.dataPoint.fill}]}},[o.Do.mapControls]:{[o.DQ.defaultStyle]:{transformArgs:[{identifier:m.mapProps.mapStyles.mapTheme}],transform:It=>{if(!It||!(0,s.VC)(It))return(0,p.fL)(S(d.AB));var Pt=S(It.value);return(0,p.fL)(Pt)}},[o.DQ.showLabels]:{transformArgs:[{identifier:m.mapProps.mapStyles.showLabels}]},[o.DQ.autoZoom]:{transformArgs:[{identifier:v.Vh.mapControls.autoZoom}]},[o.DQ.zoom]:{transformArgs:[{identifier:v.Vh.mapControls.zoomLevel}],transform:It=>{if(It&&(0,s.VC)(It)){var Tt=h(It.value);return(0,p.cA)(Tt)}}},[o.DQ.centerLatitude]:{transformArgs:[{identifier:v.Vh.mapControls.centerLatitude}]},[o.DQ.centerLongitude]:{transformArgs:[{identifier:v.Vh.mapControls.centerLongitude}]},[o.DQ.showStylePicker]:{transform:()=>(0,p.O7)(!1)},[o.DQ.showNavigationControls]:{transformArgs:[{identifier:v.Vh.mapControls.showZoomButtons}],transform:It=>It||(0,p.O7)(!1)},[o.DQ.showSelectionControl]:{transformArgs:[{identifier:v.Vh.mapControls.showLassoButton}],transform:It=>It||(0,p.O7)(!1)}},[o.Do.categoryLabels]:{[o.DQ.show]:{transform:()=>(0,p.O7)(!1)}},[o.Do.bubbleLayer]:{[o.DQ.show]:{transform:()=>(0,p.O7)(!1)}},[o.Do.filledMap]:{[o.DQ.show]:{transform:()=>(0,p.O7)(!0)},[o.DQ.defaultColor]:{transformArgs:[{identifier:v.Vh.dataPoint.defaultColor}]},[o.DQ.mapTransparency]:{transform:()=>(0,p.cA)(40)}}}}}}(Tt,_e)},ribbonChart:{name:i.D.ribbonChart,watermarkKey:"ribbon",titleKey:(0,n.V)("RibbonChart_ToolTip"),capabilities:mr.D.ribbonChart,create:hr,createES6:function(){var Tt=(0,r.Z)(function*(tt){var{CartesianChart:_e}=yield Promise.all([e.e(15),e.e("cartesianChart")]).then(e.bind(e,459964));return new _e({chartType:t.bl.RibbonChart,featureSwitches:tt.featureSwitches})});return function(_e){return Tt.apply(this,arguments)}}(),stampHardcodedDefaultObjects:kt,customizeQuery:N,getSortableRoles:U,getAdditionalTelemetry:M,getNarrativeSummaryBindings:A},shapeMap:{name:i.D.shapeMap,watermarkKey:"shapeMap",titleKey:(0,n.V)("ShapeMap_ToolTip"),capabilities:mr.D.shapeMap,create:hr,createES6:function(){var Tt=(0,r.Z)(function*(){var{ShapeMap:tt}=yield Promise.all([e.e(15),e.e("shapeMap")]).then(e.bind(e,473653));return new tt(void 0)});return function(){return Tt.apply(this,arguments)}}()},treemap:{name:i.D.treemap,watermarkKey:"tree",titleKey:(0,n.V)("Treemap_ToolTip"),capabilities:mr.D.treemap,create:hr,createES6:function(){var Tt=(0,r.Z)(function*(){var{Treemap:tt}=yield Promise.all([e.e(15),e.e("TreemapVisual")]).then(e.bind(e,730396));return new tt(void 0)});return function(){return Tt.apply(this,arguments)}}()},pieChart:{name:i.D.pieChart,watermarkKey:"pie",titleKey:(0,n.V)("PieChart_ToolTip"),capabilities:mr.D.pieChart,create:hr,createES6:function(){var Tt=(0,r.Z)(function*(){var{DonutChart:tt}=yield Promise.all([e.e(15),e.e("donutChart")]).then(e.bind(e,278926));return new tt({isPieChart:!0})});return function(){return Tt.apply(this,arguments)}}(),getNarrativeSummaryBindings:ot},realTimeLineChart:{name:i.D.realTimeLineChart,watermarkKey:"line",titleKey:(0,n.V)("LineChart_ToolTip"),capabilities:mr.D.realTimeLineChart,create:hr,createES6:function(){var Tt=(0,r.Z)(function*(tt){var{CartesianChart:_e}=yield Promise.all([e.e(15),e.e("cartesianChart")]).then(e.bind(e,459964));return new _e({chartType:t.bl.RealTimeLineChart,featureSwitches:tt.featureSwitches})});return function(_e){return Tt.apply(this,arguments)}}(),getAdditionalTelemetry:M},scatterChart:{name:i.D.scatterChart,watermarkKey:"scatterplot",titleKey:(0,n.V)("ScatterChart_ToolTip"),capabilities:mr.D.scatterChart,create:hr,createES6:function(){var Tt=(0,r.Z)(function*(tt){var{CartesianChart:_e}=yield Promise.all([e.e(15),e.e("cartesianChart")]).then(e.bind(e,459964));return new _e({chartType:t.bl.Scatter,featureSwitches:tt.featureSwitches})});return function(_e){return Tt.apply(this,arguments)}}(),customizeQuery:ar,getSortableRoles:He,getAdditionalTelemetry:Bt,getNarrativeSummaryBindings:ze},stackedAreaChart:{name:i.D.stackedAreaChart,watermarkKey:"stackedarea",titleKey:(0,n.V)("StackedAreaChart_ToolTip"),capabilities:mr.D.stackedAreaChart,create:hr,createES6:function(){var Tt=(0,r.Z)(function*(tt){var{CartesianChart:_e}=yield Promise.all([e.e(15),e.e("cartesianChart")]).then(e.bind(e,459964));return new _e({chartType:t.bl.StackedArea,featureSwitches:tt.featureSwitches})});return function(_e){return Tt.apply(this,arguments)}}(),customizeQuery:Qe,getSortableRoles:Ot,getAdditionalTelemetry:M,getNarrativeSummaryBindings:A},hundredPercentStackedAreaChart:{name:i.D.hundredPercentStackedAreaChart,watermarkKey:"stacked100area",titleKey:(0,n.V)("HundredPercentStackedAreaChart_ToolTip"),capabilities:mr.D.stackedAreaChart,create:hr,createES6:function(){var Tt=(0,r.Z)(function*(tt){var{CartesianChart:_e}=yield Promise.all([e.e(15),e.e("cartesianChart")]).then(e.bind(e,459964));return new _e({chartType:t.bl.HundredPercentStackedArea,featureSwitches:tt.featureSwitches})});return function(_e){return Tt.apply(this,arguments)}}(),customizeQuery:Qe,getSortableRoles:Ot,getAdditionalTelemetry:M,getNarrativeSummaryBindings:A},table:{name:i.D.table,watermarkKey:"table",titleKey:(0,n.V)("Table_ToolTip"),titleInSentenceKey:(0,n.V)("Table_Visual_InSentenceCase"),capabilities:mr.D.table,create:hr,createES6:function(){var Tt=(0,r.Z)(function*(){var{Table:tt}=yield Promise.all([e.e(12),e.e(15),e.e("PivotTableVisuals")]).then(e.bind(e,37371));return new tt});return function(){return Tt.apply(this,arguments)}}(),customizeQuery:Vr,getSortableRoles:Lr},matrix:{name:i.D.matrix,watermarkKey:"matrix",titleKey:(0,n.V)("Matrix_ToolTip"),titleInSentenceKey:(0,n.V)("Matrix_Visual_InSentenceCase"),capabilities:mr.D.matrix,create:hr,createES6:function(){var Tt=(0,r.Z)(function*(){var{Matrix:tt}=yield Promise.all([e.e(12),e.e(15),e.e("PivotTableVisuals")]).then(e.bind(e,37371));return new tt});return function(){return Tt.apply(this,arguments)}}(),customizeQuery:it,getSortableRoles:yt},tableEx:{name:i.D.tableEx,watermarkKey:"table",titleKey:(0,n.V)("Table_ToolTip"),titleInSentenceKey:(0,n.V)("Table_Visual_InSentenceCase"),capabilities:(0,Fr.k)(),create:hr,createES6:function(){var Tt=(0,r.Z)(function*(){var{TableEx:tt}=yield Promise.all([e.e(12),e.e(15),e.e("PivotTableVisuals")]).then(e.bind(e,37371));return new tt(void 0,void 0)});return function(){return Tt.apply(this,arguments)}}(),customizeQuery:Ur,getSortableRoles:Br,module:{css:["pivotTableVisuals"]}},pivotTable:{name:i.D.pivotTable,watermarkKey:"matrix",titleKey:(0,n.V)("Matrix_ToolTip"),titleInSentenceKey:(0,n.V)("Matrix_Visual_InSentenceCase"),capabilities:mr.D.pivotTableCapabilities,create:hr,createES6:function(){var Tt=(0,r.Z)(function*(){var{PivotTable:tt}=yield Promise.all([e.e(12),e.e(15),e.e("PivotTableVisuals")]).then(e.bind(e,37371));return new tt(void 0,void 0)});return function(){return Tt.apply(this,arguments)}}(),customizeQuery:Be,getSortableRoles:St,module:{css:["pivotTableVisuals"]}},accessibleTable:{name:i.D.accessibleTable,watermarkKey:"matrix",capabilities:mr.D.accessibleTable,create:hr,createES6:function(){var Tt=(0,r.Z)(function*(){var{AccessibleTable:tt}=yield Promise.all([e.e(12),e.e("AccessibleTableVisual")]).then(e.bind(e,55532));return new tt});return function(){return Tt.apply(this,arguments)}}(),module:{css:["accessibleTableVisual"]}},slicer:{name:i.D.slicer,watermarkKey:"slicer",titleKey:(0,n.V)("Slicer_ToolTip"),capabilities:mr.D.slicer,create:hr,createES6:function(){var Tt=(0,r.Z)(function*(tt){var{Slicer:_e}=yield Promise.all([e.e(15),e.e("slicer")]).then(e.bind(e,273035));return new _e({featureSwitches:tt.featureSwitches})});return function(_e){return Tt.apply(this,arguments)}}(),customizeQuery:_r.Wj,getSortableRoles:_r.ot,shouldIgnoreCrossFilter:_r.vu,mergeObjects:_r.PM,customizeVisualAuthoringOperations:_r.pQ,tryCreateFilterObjectsToPersist:_r.a5},advancedSlicerVisual:{name:i.D.advancedSlicerVisual,watermarkKey:"buttonSlicer",titleKey:(0,n.V)("ButtonSlicer_Tooltip"),capabilities:mr.D.advancedSlicer,create:hr,createES6:function(){var Tt=(0,r.Z)(function*(){var{createAdvancedSlicer:tt}=yield Promise.all([e.e(12),e.e(15),e.e("AdvancedSlicerVisual")]).then(e.bind(e,194161));return tt(void 0)});return function(){return Tt.apply(this,arguments)}}(),getSortableRoles:kr,module:{css:["advancedSlicerVisual"]},tryCreateFilterObjectsToPersist:Jr},textSlicer:{name:i.D.textSlicer,watermarkKey:"textSlicer",titleKey:(0,n.V)("TextSlicerVisual_Tooltip"),capabilities:mr.D.textSlicer,create:hr,createES6:function(){var Tt=(0,r.Z)(function*(){var{TextSlicer:tt}=yield Promise.all([e.e(12),e.e("TextSlicerVisual")]).then(e.bind(e,241118));return new tt});return function(){return Tt.apply(this,arguments)}}(),module:{css:["textSlicerVisual"]},customizeQuery:Mr},listSlicer:{name:i.D.listSlicer,watermarkKey:"listSlicer",titleKey:(0,n.V)("ListSlicerVisual_Tooltip"),capabilities:mr.D.listSlicer,create:hr,createES6:function(){var Tt=(0,r.Z)(function*(){var{createAdvancedSlicer:tt}=yield Promise.all([e.e(12),e.e(15),e.e("AdvancedSlicerVisual")]).then(e.bind(e,194161));return tt(void 0)});return function(){return Tt.apply(this,arguments)}}(),getSortableRoles:kr,module:{css:["advancedSlicerVisual"]},customizeQuery:Qr,tryCreateFilterObjectsToPersist:Jr},pageNavigator:{name:i.D.pageNavigator,titleKey:(0,n.V)("Visual_PageNavigator"),capabilities:mr.D.pageNavigator,create:hr,createES6:function(){var Tt=(0,r.Z)(function*(){var{createNavigator:tt}=yield Promise.all([e.e(15),e.e("NavigatorVisuals")]).then(e.bind(e,377805));return tt({navigatorType:l.M.Page})});return function(){return Tt.apply(this,arguments)}}()},bookmarkNavigator:{name:i.D.bookmarkNavigator,titleKey:(0,n.V)("Visual_BookmarkNavigator"),capabilities:mr.D.bookmarkNavigator,create:hr,createES6:function(){var Tt=(0,r.Z)(function*(){var{createNavigator:tt}=yield Promise.all([e.e(15),e.e("NavigatorVisuals")]).then(e.bind(e,377805));return tt({navigatorType:l.M.Bookmark})});return function(){return Tt.apply(this,arguments)}}()},filterSlicer:{name:i.D.filterSlicer,create:hr,createES6:function(){var Tt=(0,r.Z)(function*(){var{Slicer:tt}=yield Promise.all([e.e(15),e.e("slicer")]).then(e.bind(e,273035));return new tt(void 0)});return function(){return Tt.apply(this,arguments)}}(),capabilities:mr.D.slicer,customizeQuery:_r.Wj,getSortableRoles:_r.ot,shouldIgnoreCrossFilter:_r.vu,mergeObjects:_r.PM,customizeVisualAuthoringOperations:_r.pQ,tryCreateFilterObjectsToPersist:_r.a5},textbox:{name:i.D.textbox,titleKey:(0,n.V)("Textbox"),capabilities:mr.D.textbox,create:hr,createES6:function(){var Tt=(0,r.Z)(function*(){var{Textbox:tt}=yield Promise.all([e.e(15),e.e("TextboxVisual")]).then(e.bind(e,569770));return new tt(void 0)});return function(){return Tt.apply(this,arguments)}}(),supportsSummarization:!0,summarizationMessage:(0,n.V)("SmartNarratives_InitializationMessage")},aiNarratives:{name:i.D.aiNarratives,titleKey:(0,n.V)("Narrative"),capabilities:mr.D.aiNarratives,create:hr,createES6:function(){var Tt=(0,r.Z)(function*(){var{AINarratives:tt}=yield Promise.all([e.e(15),e.e("AINarrativesVisual")]).then(e.bind(e,71700));return new tt});return function(){return Tt.apply(this,arguments)}}(),module:{css:["aiNarrativesVisual"]},getCustomizeConvertTo:Tt=>function(It){if("textbox"===It)return{objects:{[Rr.w$.narrativeSelection.dismissSelectionScreen.objectName]:{[Rr.w$.narrativeSelection.dismissSelectionScreen.propertyName]:{transform:()=>(0,p.O7)(!0)}}}}}(Tt)},waterfallChart:{name:i.D.waterfallChart,watermarkKey:"waterfall",titleKey:(0,n.V)("WaterfallChart_ToolTip"),capabilities:mr.D.waterfallChart,create:hr,createES6:function(){var Tt=(0,r.Z)(function*(tt){var{CartesianChart:_e}=yield Promise.all([e.e(15),e.e("cartesianChart")]).then(e.bind(e,459964));return new _e({chartType:t.bl.Waterfall,featureSwitches:tt.featureSwitches})});return function(_e){return Tt.apply(this,arguments)}}(),customizeQuery:wr,getSortableRoles:Gr,getAdditionalTelemetry:M},scriptVisual:{name:i.D.scriptVisual,watermarkKey:"scriptvisual",titleKey:(0,n.V)("ScriptVisual_ToolTip"),capabilities:mr.D.scriptVisual,create:hr,createES6:function(){var Tt=(0,r.Z)(function*(){var{ScriptVisual:tt}=yield e.e("ScriptVisual").then(e.bind(e,900577));return new tt});return function(){return Tt.apply(this,arguments)}}()},pythonVisual:{name:i.D.pythonVisual,watermarkKey:"pythonvisual",titleKey:(0,n.V)("PythonVisual_ToolTip"),capabilities:mr.D.pythonVisual,create:hr,createES6:function(){var Tt=(0,r.Z)(function*(){var{ScriptVisual:tt}=yield e.e("ScriptVisual").then(e.bind(e,900577));return new tt});return function(){return Tt.apply(this,arguments)}}()},kpi:{name:i.D.kpi,watermarkKey:"kpi",titleKey:(0,n.V)("kpi_Tooltip"),capabilities:mr.D.kpi,create:hr,createES6:function(){var Tt=(0,r.Z)(function*(){var{KPIStatusWithHistory:tt}=yield Promise.all([e.e(15),e.e("KpiVisual")]).then(e.bind(e,576603));return new tt(void 0)});return function(){return Tt.apply(this,arguments)}}(),stampHardcodedDefaultObjects:Se,getNarrativeSummaryBindings:Ie},keyDriversVisual:{name:i.D.keyDriversVisual,watermarkKey:"keyDrivers",titleKey:(0,n.V)("KeyDriver_Tooltip"),capabilities:mr.D.keyDrivers,create:Tt=>Tt.module.createAnalysisVisual(),getAnalysisVisualNarrativeSummaryConfiguration:Ct},decompositionTreeVisual:{name:i.D.decompositionTreeVisual,watermarkKey:"decompositionTree",titleKey:(0,n.V)("DecompositionTree_Tooltip"),capabilities:mr.D.decompositionTree,create:hr,createES6:function(){var Tt=(0,r.Z)(function*(){var{DecompositionTree:tt}=yield Promise.all([e.e(15),e.e("DecompositionTreeVisual")]).then(e.bind(e,736289));return new tt});return function(){return Tt.apply(this,arguments)}}(),customizeQuery:se},qnaVisual:{name:i.D.qnaVisual,capabilities:mr.D.qnaVisual,create:Tt=>Tt.module.createQnaVisual(),titleKey:(0,n.V)("Generic_Qna")},scorecard:{name:i.D.scorecard,watermarkKey:"scorecard",titleKey:(0,n.V)("Scorecard_Visual_Tooltip"),capabilities:mr.D.scorecard,create:hr,createES6:function(){var Tt=(0,r.Z)(function*(){var{Scorecard:tt}=yield Promise.all([e.e(15),e.e("ScorecardVisual")]).then(e.bind(e,358984));return new tt});return function(){return Tt.apply(this,arguments)}}(),module:{css:["scorecardVisual"]}},rdlVisual:{name:i.D.rdlVisual,titleKey:(0,n.V)("RdlVisual_ToolTip"),capabilities:mr.D.rdlVisual,create:hr,createES6:function(){var Tt=(0,r.Z)(function*(){var{RdlVisual:tt}=yield Promise.all([e.e(15),e.e("RdlVisual")]).then(e.bind(e,560079));return new tt});return function(){return Tt.apply(this,arguments)}}(),module:{css:["rdlVisual"]},customizeQuery:Rt},dataQueryVisual:{name:i.D.dataQueryVisual,capabilities:mr.D.dataQueryVisual,create:()=>{g.f.assertFail("This visual should not be created")},customizeQuery:X},[jr.name]:jr};for(var Pt in It)a.N[Pt]=It[Pt];return zr=!0,a.N}()},699660:function(ve,j,e){e.d(j,{D:function(){return Z}});var r=e(630881),i=e(281210),a=e(847005),t=e(543922),l={dataRoles:[{name:t.r.rows,kind:r.DW.Grouping,displayName:(0,i.V)("Role_DisplayName_Rows"),description:(0,i.V)("Role_DisplayName_RowsDescription")},{name:t.r.columns,kind:r.DW.Grouping,displayName:(0,i.V)("Role_DisplayName_Columns"),description:(0,i.V)("Role_DisplayName_ColumnsDescription")},{name:t.r.values,kind:r.DW.Measure,displayName:(0,i.V)("Role_DisplayName_Values")}],objects:{general:{displayName:(0,i.V)("Visual_General"),properties:{formatString:a.iD.formatString}}},dataViewMappings:[{matrix:{rows:{for:{in:t.r.rows},dataReductionAlgorithm:{top:{count:3e3}}},columns:{for:{in:t.r.columns},dataReductionAlgorithm:{top:{count:100}}},values:{for:{in:t.r.values}}}}]},g=e(161214),n=e(631402),s={objects:{general:{properties:{formatString:a.iD.formatString}}},dataViewMappings:[{single:{role:"Values"}}],supportsSelection:!1},d=e(582166),o=e(434662),v=e(951504),m=e(3640),c=e(579010),C=e(112754),y=e(515996),S=e(678359),h=e(27663),E=e(214201),u=e(525350),f=e(630652),b=e(357030),V=e(497737),T=e(322543),P=e(40545),D=e(223789),w=e(257790),M=e(686631),A=e(323078),R=e(561449),N=e(681973),W=e(972394),F=e(318456),U={dataRoles:[{name:"Category",kind:r.DW.Grouping,displayName:(0,i.V)("Role_DisplayName_Axis"),description:(0,i.V)("Role_DisplayName_AxisDescription"),requiredTypes:[{numeric:!0},{dateTime:!0}],cartesianKind:r.Lv.X},{name:"Series",kind:r.DW.Grouping,displayName:(0,i.V)("Role_DisplayName_Legend"),description:(0,i.V)("Role_DisplayName_LegendDescription")},{name:"Y",kind:r.DW.Measure,displayName:(0,i.V)("Role_DisplayName_Values"),description:(0,i.V)("Role_DisplayName_ValuesDescription"),requiredTypes:[{numeric:!0},{integer:!0}],cartesianKind:r.Lv.Y}],objects:{general:{displayName:(0,i.V)("Visual_General"),properties:{formatString:a.iD.formatString,responsive:a.iD.responsive,responsiveLegacy:a.iD.responsiveLegacy}},legend:{displayName:(0,i.V)("Visual_Legend"),description:(0,i.V)("Visual_LegendDescription"),properties:{show:a.iD.show,position:a.iD.legendPosition,showTitle:a.iD.showLegendTitle,titleText:{...a.iD.legendTitle,suppressFormatPainterCopy:!0},labelColor:a.iD.genericColor,fontSize:a.iD.fontSize}},categoryAxis:{displayName:(0,i.V)("Visual_XAxis"),properties:{show:a.iD.show,axisType:a.iD.axisType,showAxisTitle:a.iD.showAxisTitle_X,axisStyle:a.iD.axisStyle,labelColor:a.iD.genericColor,labelDisplayUnits:a.iD.labelDisplayUnits,labelPrecision:a.iD.labelPrecision,duration:{type:{numeric:!0}}}},valueAxis:{displayName:(0,i.V)("Visual_YAxis"),properties:{show:a.iD.show,showAxisTitle:a.iD.showAxisTitle_Y,axisStyle:a.iD.axisStyle,labelColor:a.iD.genericColor,labelDisplayUnits:a.iD.labelDisplayUnits,labelPrecision:a.iD.labelPrecision}},dataPoint:{displayName:(0,i.V)("Visual_DataPoint"),description:(0,i.V)("Visual_DataPointDescription"),properties:{defaultColor:a.iD.defaultColor,fill:a.iD.fill}},plotArea:a.TQ.plotArea},dataViewMappings:[{conditions:[{Category:{max:1},Series:{max:0}},{Category:{max:1},Series:{min:1,max:1},Y:{max:1}}],categorical:{categories:{for:{in:"Category"},dataReductionAlgorithm:{top:{}}},values:{group:{by:"Series",select:[{for:{in:"Y"}}],dataReductionAlgorithm:{top:{}}}}}}],sorting:{implicit:{clauses:[{role:"Category",direction:F.S.Ascending}]}}},O=e(587233),x=e(536461),I={dataRoles:[{name:"Values",kind:r.DW.GroupingOrMeasure,displayName:(0,i.V)("Role_DisplayName_Values")}],dataViewMappings:[{scriptResult:{dataInput:{table:{rows:{for:{in:"Values"},dataReductionAlgorithm:{top:{}}}}},script:{source:{objectName:"script",propertyName:"source"},provider:{objectName:"script",propertyName:"provider"}}}}],objects:{script:{properties:{provider:{type:{text:!0}},source:{type:{scripting:{source:!0}}}}}},suppressVisualCalc:!0},L=e(699460),K=e(502202),z=e(159601),H=e(377317),J=e(991827),k=e(227613),G=e(745082),q=e(153293),Q=e(621083),Z={actionButton:g.LK,aiNarratives:(0,n.Tf)(),animatedNumber:s,areaChart:(0,D.yg)(!1,!0),barChart:(0,C.nn)(!0,!0),basicShape:o.T,advancedSlicer:(0,v.O)(Q.yY.Tile),listSlicer:(0,v.O)(Q.yY.List),textSlicer:(0,q.Wr)(),shape:L.Ic,card:m.C,cardVisual:(0,c.gl)(),multiRowCard:M._i,clusteredBarChart:(0,C.nn)(!0),clusteredColumnChart:(0,C.nn)(),columnChart:(0,C.nn)(!1,!0),donutChart:(0,E.cw)(),funnel:(0,f.qW)(),gauge:b.J,hundredPercentStackedBarChart:(0,C.nn)(!0,!0),hundredPercentStackedColumnChart:(0,C.nn)(!1,!0),ribbonChart:(0,C.nn)(!1,!0,!0),image:V.Jz,lineChart:(0,D.yg)(!1,!1),stackedAreaChart:(0,D.yg)(!0,!0),lineStackedColumnComboChart:(0,y.p)(!0),lineClusteredColumnComboChart:(0,y.p)(!1),map:(0,w.N)(),filledMap:(0,u.XN)(),azureMap:(0,d.$E)(),shapeMap:(0,K.x)(),treemap:(0,k.c)(),pieChart:(0,E.cw)(),scatterChart:(0,O.r4)(),table:(0,H.Y)(),matrix:t.d,slicer:(0,z.st)(),pageNavigator:A.QP,bookmarkNavigator:A.j0,textbox:J.dd,waterfallChart:(0,G.G)(),heatMap:(0,w.N)(),scriptVisual:I,pythonVisual:{dataRoles:[{name:"Values",kind:r.DW.GroupingOrMeasure,displayName:(0,i.V)("Role_DisplayName_Values")}],dataViewMappings:[{scriptResult:{dataInput:{table:{rows:{for:{in:"Values"},dataReductionAlgorithm:{top:{}}}}},script:{source:{objectName:"script",propertyName:"source"},provider:{objectName:"script",propertyName:"provider"}}}}],objects:{script:{properties:{provider:{type:{text:!0}},source:{type:{scripting:{source:!0}}}}}}},kpi:(0,P.pW)(),realTimeLineChart:U,accessibleTable:l,pivotTableCapabilities:(0,R.R)(),keyDrivers:(0,T.yM)(),decompositionTree:(0,h.Sd)(),qnaVisual:N.OF,dataQueryVisual:S.YE,scorecard:x.b,rdlVisual:W.Cg}},955890:function(ve,j,e){function r(t,l){a[t]=l}e.d(j,{G:function(){return r},N:function(){return a}});var t,a=(t={},window.powerbi||(window.powerbi={}),window.powerbi.visuals||(window.powerbi.visuals={}),window.powerbi.visuals.plugins?t=window.powerbi.visuals.plugins:window.powerbi.visuals.plugins=t,t)},859405:function(ve,j,e){e.d(j,{QZ:function(){return m},Wy:function(){return v},o4:function(){return c}});var r=e(650543),i=e(546825),a=e(212971),t=e(630881),l=e(621083),g=e(762329),n=e(380696),p=e(461361),s=e(160296),d={"0.00 %;-0.00 %;0.00 %":"Percentage","0.0 %;-0.0 %;0.0 %":"Percentage1"},o={NullValue:"(Blank)",BooleanTrue:"True",BooleanFalse:"False",NaNValue:"NaN",InfinityValue:"+Infinity",NegativeInfinityValue:"-Infinity",Restatement_Comma:"{0}, {1}",Restatement_CompoundAnd:"{0} and {1}",DisplayUnitSystem_EAuto_Title:"Auto",DisplayUnitSystem_E0_Title:"None",DisplayUnitSystem_E3_LabelFormat:"{0}K",DisplayUnitSystem_E3_Title:"Thousands",DisplayUnitSystem_E6_LabelFormat:"{0}M",DisplayUnitSystem_E6_Title:"Millions",DisplayUnitSystem_E9_LabelFormat:"{0}bn",DisplayUnitSystem_E9_Title:"Billions",DisplayUnitSystem_E12_LabelFormat:"{0}T",DisplayUnitSystem_E12_Title:"Trillions",Percentage:"#,0.##%",Percentage1:"#,0.#%",RichTextbox_Link_DefaultText:"Link",RichTextbox_Link_ToolTip:"Insert link",TableTotalLabel:"Total",ListJoin_Separator:", ",Tooltip_HighlightedValueDisplayName:"Highlighted",Funnel_PercentOfFirst:"Percent of first",Funnel_PercentOfPrevious:"Percent of previous",Funnel_PercentOfFirst_Highlight:"Percent of first (highlighted)",Funnel_PercentOfPrevious_Highlight:"Percent of previous (highlighted)",Waterfall_BreakdownDifferenceTooltip:"Difference in {0}",Waterfall_OtherLabel:"Other",GeotaggingString_Continent:"continent",GeotaggingString_Continents:"continents",GeotaggingString_Country:"country",GeotaggingString_Countries:"countries",GeotaggingString_State:"state",GeotaggingString_States:"states",GeotaggingString_City:"city",GeotaggingString_Cities:"cities",GeotaggingString_Town:"town",GeotaggingString_Towns:"towns",GeotaggingString_Province:"province",GeotaggingString_Provinces:"provinces",GeotaggingString_County:"county",GeotaggingString_Counties:"counties",GeotaggingString_Village:"village",GeotaggingString_Villages:"villages",GeotaggingString_Post:"post",GeotaggingString_Zip:"zip",GeotaggingString_Code:"code",GeotaggingString_Place:"place",GeotaggingString_Places:"places",GeotaggingString_Address:"address",GeotaggingString_Addresses:"addresses",GeotaggingString_Street:"street",GeotaggingString_Streets:"streets",GeotaggingString_Longitude:"longitude",GeotaggingString_Longitude_Short:"lon",GeotaggingString_Longitude_Short2:"long",GeotaggingString_Latitude:"latitude",GeotaggingString_Latitude_Short:"lat",GeotaggingString_PostalCode:"postal code",GeotaggingString_PostalCodes:"postal codes",GeotaggingString_ZipCode:"zip code",GeotaggingString_ZipCodes:"zip codes",GeotaggingString_Territory:"territory",GeotaggingString_Territories:"territories",Increase:"Increase",MultiColumn_Join_Separator:",",NamePattern_Bracket:"{0} ({1})",Decrease:"Decrease",Waterfall_TotalLabel:"Total",SelectAll:"Select All",Visual_Quarter_Abbreviated:"Qtr {0}",All:"All",NamePattern_Colon:"{0}: {1}",Visual_LabelText_Value:"Value",Visual_Legend:"Legend",Visual_Plot:"Plot Area",Role_DisplayName_MinValue:"Minimum value",Role_DisplayName_MaxValue:"Maximum value",KpiValueFieldListDisplayName:"Value",Visual_KPI_Goal_Title:"Goal",Of:"of",Slicer_Restatement_Multiple:"Multiple Selected",DQP_Disabled_Blank:"DQP_Disabled_Blank",DQP_Disabled_SelectAll:"DQP_Disabled_SelectAll",DateSlicer_InputTextHint:"Enter date in {0} format",Slicer_Range_Hint:"Range {0} to {1}",Start_Date:"Start date",End_Date:"End date",FieldListProperty_Collapsed:"Collapsed",FieldListProperty_Expanded:"Expanded"};function v(){return new n.n}class m{constructor(){this.instanceId=void 0}static initialize(){(0,g.X0)(m.createLocaleOptions()),s.I.localizationOptions=m.createTooltipLocaleOptions(),(0,p.iZ)(m.createDataViewTransformLocalizationOptions())}static createLocaleOptions(){return{null:o.NullValue,true:o.BooleanTrue,false:o.BooleanFalse,NaN:o.NaNValue,infinity:o.InfinityValue,negativeInfinity:o.NegativeInfinityValue,beautify:y=>m.beautify(y),describe:y=>m.describeUnit(y),restatementComma:o.Restatement_Comma,restatementCompoundAnd:o.Restatement_CompoundAnd,restatementCompoundOr:o.Restatement_CompoundOr}}static createTooltipLocaleOptions(){return{highlightedValueDisplayName:o.Tooltip_HighlightedValueDisplayName}}static createDataViewTransformLocalizationOptions(){return{quarterPrefix:o.Visual_Quarter_Abbreviated}}getLocalizedString(y,...S){return o[y]}alertScreenReader(y){}alertWithDebounce(y,S){}requestFocus(){}onDragStart(){}getVisualLinkProperties(){}canSelect(){return!1}onSelecting(y){y.action=t.MI.Selection}onSelect(){}onSwitchFocusModeState(){}canExpandCollapse(y){return!1}setNodeExpansionState(y){}setLevelExpansionState(y){}setCanDrill(y){}onContextMenu(){}loadMoreData(){}loadWindow(y){}setShouldDeferData(){}fetchMoreData(y){return!0}persistProperties(y){}onCustomSort(y){}getViewMode(){return t.wO.View}getEditMode(){return t.Gt.Default}setWarnings(y){}getWarnings$(){}setToolbar(y){}shouldRetainSelection(){return!1}geocoder(){return v()}geolocation(){r.f.assertFail("Not being called anywhere")}promiseFactory(){return(0,i.p)()}visualCapabilitiesChanged(){}ignoreDefaultFilter(){}getIdentityDisplayNames(y){}setIdentityDisplayNames(y){}drill(y){}setFilterExpressionMetadata(y){}getFilterExpressionMetadata(){}dropdown(){}tooltips(){}telemetry(){}authenticationService(){}localStorageService(){}acquireAADTokenService(){}eventService(){}licenseManagerService(){}decompositionService(){}locale(){return navigator.language}allowInteractions(){return!0}loader(){return(0,a.hQ)(this.promiseFactory(),void 0,null)}getUIComponentFactory(){return null}applyJsonFilter(y,S,h,E){return!0}applyIdentityFilter(y,S,h,E){return!0}launchUrl(y){}refreshHostData(){}sendSelectionIdsToHost(y){}getJSONFilter(y,S){return this.promiseFactory().reject()}onHyperlinkClick(y,S){}visualTimeSynchronization(){}isVisualEnabled(){return this.promiseFactory().resolve(!0)}isVisualLoading(){return this.promiseFactory().resolve(!1)}dataMultiSelectMode(){return l.O4.Single}networkAvailability(){}downloadService(){}setAriaMetadata(y){}artifactService(){}getSectionsMetadata$(){}getBookmarksMetadata$(){}onNotifyLicense(y){}onClearLicenseNotification(){}onNotifyFeatureBlocked(y){}getSubSelectionService(){}webAccessService(){}getAzureMapToken(){}azureMapsEndpoint(){}geocoderIndexedDB(){}triggerUpdate(){}azureMapsHostEnvironment(){return{isPublishToWebHost:!1,isScreenshotExportHost:!1}}localStorageV2Service(){}aiNarrativesService(){}dateTimeFormatService(){}visualExportService(){}visualHostSubSelectionService(){}annotations(){}static beautify(y){var S=d[y];return S?((0,g.J6)(S),o[S]||y):y}static describeUnit(y){var S=-1===y?"Auto":y.toString(),h=o["DisplayUnitSystem_E"+S+"_Title"],E=y<=0?"{0}":o["DisplayUnitSystem_E"+S+"_LabelFormat"];if(h||E)return{title:h,format:E}}}var c=new m},127162:function(ve,j,e){e.d(j,{Bt:function(){return S},EX:function(){return s},G6:function(){return m},jN:function(){return h},kA:function(){return d},ku:function(){return o},ub:function(){return p},x0:function(){return E}});var r=e(650543),i=e(418431),a=e(630881),t=e(246626),l=e(621083),g=e(191282),n=e(257226);function p(b,V){return new S(b,V)}function s(b,V="rect"){var T=b.select(`${V}.clearCatcher`);return T.empty()&&(T=b.append(V).classed("clearCatcher",!0).attr("width","100%").attr("height","100%")),T}function d(b,V="rect"){var T=b.select(`${V}.clearCatcher`);T.empty()||T.style("pointer-events","none")}function o(b,V="rect"){var T=b.select(`${V}.clearCatcher`);T.empty()||T.style("pointer-events","auto")}function m(b){if(_.isEmpty(b))return!1;for(var V=0,T=b.length;V<T;V++)if(b[V].selected)return!0;return!1}class c{constructor(V,T,P,D,w){this.dataPoints=V,this.behavior=T,this.key=P,this.hasSelection=D,this.matchPartialIdentities=w}render(){this.behavior.renderSelection(this.hasSelection())}}function C(b,V){return _.find(b,T=>!T.identity.highlight&&V.identity.includes(T.identity,!0))}class y{constructor(V,T){this.selectionStateManager=V,this.pointSources={},T&&(this.identityComparisonCache={containsComparisonCache:{},equalsComparisonCache:{}})}findNonHightlightDataPoint(V){for(var T of this.getSelectablePointSources()){var P=C(T.dataPoints,V);if(P)return P}}applySelectionStateToDataPoints(V){this.updateSelectableDataPointsBySelectedIds(V,void 0,this.identityComparisonCache)}syncSelectionState(V){this.getSelectablePointSources(V).forEach(T=>{this.updateSelectableDataPointsBySelectedIds(T.dataPoints,T.matchPartialIdentities,this.identityComparisonCache)})}clearDataPointSelection(){this.applyToAllSelectableDataPoints(V=>V.selected=!1)}render(){this.getSelectablePointSources().forEach(V=>{V.render()})}bind(V,T,P,D){var w,M=!1;D&&(D.isAxis||D.isLabels||D.isLegend||D.useSelectableDataPointForHasSelection)?w=()=>!!V&&m(V):(w=()=>this.selectionStateManager.getSelectionSize()>0,M=!0),this.isHierarchicalAxis=D&&D.isHierarchicalAxis,this.selectionStateManager.amendDecomposedSelection(!this.isHierarchicalAxis),this.pointSources[P]=new c(V,T,P,w,M),this.clearComparisonCache()}hasSelectionForSource(V){return m(this.pointSources[V]?.dataPoints)}clearComparisonCache(){this.identityComparisonCache&&(this.identityComparisonCache={containsComparisonCache:{},equalsComparisonCache:{}})}applyToAllSelectableDataPoints(V){this.getSelectablePointSources().forEach(T=>{if(T.dataPoints)for(var P of T.dataPoints)V(P)})}updateSelectableDataPointsBySelectedIds(V,T=!1,P){_.isEmpty(V)||this.selectionStateManager.updateDatapointAgainstSelectedIds(V,T,this.isHierarchicalAxis,P)}getSelectablePointSources(V){if(V){var T=this.pointSources[V];return T?[T]:[]}return _.map(Object.keys(this.pointSources),P=>this.pointSources[P])}}var S=(()=>{class b{constructor(T,P){r.f.assertValue(T,"hostServices"),this.hostService=T,this.dataPointNavigationManager=new f,this.categoryAxisNavigationManager=new f,this.selectionStateManager=new u,this.dataPointManager=new y(this.selectionStateManager,P.interactivityServiceCaching)}bind(T,P,D,w){w&&w.overrideSelectionFromData&&this.takeSelectionStateFromDataPoints(T),this.isHierarchicalAxis=w&&w.isHierarchicalAxis;var M=w?w.pointSourceKey:"";this.dataPointManager.bind(T,P,M,w),w&&w.navigationOptions&&(w.isAxis?this.categoryAxisNavigationManager.update(P,w.navigationOptions,M):this.dataPointNavigationManager.update(P,w.navigationOptions,M),w.navigationOptions.focusElement&&P.renderFocus(w.navigationOptions.focusElement)),P.bindEvents(D,this,w&&w.isAxis?{dataPointNavigationManager:this.categoryAxisNavigationManager,pointSourceKey:M}:{dataPointNavigationManager:this.dataPointNavigationManager,pointSourceKey:M},this.formatMode),this.syncSelectionState(w&&w.pointSourceKey)}clearSelection(){this.clearSelectionInternal(),this.renderAll()}clearSelectionInternal(){this.clearSelectionState(),this.dataPointManager.clearDataPointSelection()}applySelectionStateToData(T){return this.dataPointManager.applySelectionStateToDataPoints(T),this.hasSelection()}hasSelection(){return this.selectionStateManager.getSelectionSize()>0}hasSelectionForSource(T){return this.dataPointManager.hasSelectionForSource(T)}static getVisualObjects(T){return _.map(T,P=>({objectName:b.dataPointObjectName,selectorsByColumn:P.getSelectorsByColumn()}))}handleSelection(T,P,D){var w;(r.f.assertValue(T,"dataPoint"),T)&&(T.specificIdentity?w=T.specificIdentity.getSelectorsByColumn():(!T.identity&&T.lazyIdentity&&(T.identity=T.lazyIdentity()),T.identity&&(w=T.identity.getSelectorsByColumn())),this.hostService.dataMultiSelectMode()===l.O4.Multiple&&P===t.i.Single&&(P=t.i.Difference),this.runInTransaction(()=>{var R;T.identity&&this.select(T,P),R=T.specificIdentity?[{objectName:b.dataPointObjectName,selectorsByColumn:w}]:b.getVisualObjects(this.selectionStateManager.getSelectionIds());var B={type:l.BD.DataPointSelection,visualObjects:R,isCtrlOrMetaKey:P===t.i.Difference,isShiftKey:P===t.i.Union,isLassoSelect:!1,position:D};return _.isEmpty(w)||this.hostService.onSelecting(B),B},P,!1,!T.identity))}handleMultipleSelection(T,P,D,w){this.runInTransaction(()=>{this.selectMultiple(T,P);var A={type:l.BD.DataPointSelection,visualObjects:b.getVisualObjects(this.selectionStateManager.getSelectionIds()),isCtrlOrMetaKey:!!D||P===t.i.Difference,isShiftKey:P===t.i.Union,isLassoSelect:D,position:w};return this.hostService.onSelecting(A),A},P,D,!1)}runInTransaction(T,P,D,w){var A,M=!1;this.selectionStateManager.beginTransaction();try{var R=T();R.action!==a.MI.Selection&&R.action?this.selectionStateManager.rollback():(this.selectionStateManager.commit(),M=!0,A=R.selectionLimitInfo,this.syncSelectionState())}catch{this.selectionStateManager.rollback()}finally{M&&(w?this.handleClearSelection():(this.sendSelectionToHost(P,D,A),this.renderAll()))}}handleContextMenu(T,P){this.sendContextMenuToHost(T,P)}handleClearSelection(){this.hostService.dataMultiSelectMode()===l.O4.Single&&(this.clearSelection(),this.sendSelectionToHost(t.i.Single,!1,{existingSelectionLength:0,newSelectionLength:0,allowed:!0}))}restoreSelection(T){return this.clearSelection(),this.selectionStateManager.restoreSelection(T,this.isHierarchicalAxis),this.syncSelectionState(),this.renderAll(),this.hasSelection()}renderAll(){this.dataPointManager.render()}clearSelectionState(){this.selectionStateManager.clearSelectionState()}selectMultiple(T,P){for(var D of((P===t.i.Single||P===t.i.Intersection)&&this.clearSelectionState(),T)){var w=D.identity;w.highlight||(P===t.i.Union||P===t.i.Single?this.addId(w):P===t.i.Difference?D.selected?this.removeId(w):this.addId(w):P===t.i.Intersection&&D.selected&&this.addId(w))}}updateSelectionState(T,P,D,w){w||this.clearSelectionInternal(),T.selected?w&&P===t.i.Difference&&this.removeId(D):(this.addId(D),w&&(D.hasIdentity()?this.removeSelectionIdsWithOnlyMeasures():this.removeSelectionIdsExceptOnlyMeasures()))}select(T,P){T.identity&&T.identity.highlight&&(T=this.dataPointManager.findNonHightlightDataPoint(T),r.f.assertValue(T,"Expected to find a non-highlight data point"));var D=T.identity;if(D){var w=this.getSelectionIds(),M=this.hostService.canSelect(b.createSelectEventArgs(w,P));switch(P){case t.i.Single:!T.selected||w.length>1||1===w.length&&!w[0].equals(D)?(this.clearSelectionInternal(),this.addId(D)):T.selected?this.removeId(D):this.addId(D);break;case t.i.Difference:case t.i.Union:this.updateSelectionState(T,P,D,M);break;case t.i.Intersection:r.f.assertFail("single selection does not have intersection implemented");break;default:r.f.assertFail("no such multiSelectMode")}}}removeId(T){this.selectionStateManager.removeId(T,this.isHierarchicalAxis)}addId(T){this.selectionStateManager.addId(T,this.isHierarchicalAxis)}getSelectionIds(){return this.selectionStateManager.getSelectionIds()}sendContextMenuToHost(T,P){var D=this.hostService;if(D.onContextMenu){var w,M,A;T.specificIdentity?w=T.specificIdentity:T.identity&&(w=T.identity),A=this.selectionStateManager.isIdSelected(w),M=!w||A?this.getSelectionIds():[w];var R=[];for(var B of M){var N=B.getSelectorsByColumn();_.isEmpty(N)||R.push(N)}_.isEmpty(R)||D.onContextMenu({data:R,position:P})}}sendSelectionToHost(T,P,D){var w=this.hostService;if(w.onSelect){var M=b.createSelectEventArgs(this.getSelectionIds(),T,P,D);w.onSelect(M)}}static createSelectEventArgs(T,P,D,w){var M=!1;_.isEmpty(T)||(M=T[0].getSelector()&&!T[0].getSelectorsByColumn());var A=_.chain(T).filter(B=>B.hasIdentity()),R={type:l.BD.DataPointSelection,visualObjects:A.map(B=>({objectName:b.dataPointObjectName,selectorsByColumn:B.getSelectorsByColumn()})).value(),selectionMode:P,isLassoSelect:D,selectionLimitInfo:w};return M&&(R.selectors=A.map(B=>B.getSelector()).value()),R}takeSelectionStateFromDataPoints(T){for(var P of(r.f.assertValue(T,"dataPoints"),this.clearSelectionState(),T))P.selected&&this.addId(P.identity)}syncSelectionState(T){this.dataPointManager.syncSelectionState(T)}removeSelectionIdsWithOnlyMeasures(){this.filterSelection(T=>T.hasIdentity())}removeSelectionIdsExceptOnlyMeasures(){this.filterSelection(T=>!T.hasIdentity())}filterSelection(T){this.selectionStateManager.filterSelection(T)}setFormatMode(T){this.formatMode=T,T&&this.handleClearSelection()}setSubSelectionHelper(T){this.subSelectionHelper=T}getSubSelectionHelper(){return this.subSelectionHelper}}return b.dataPointObjectName="dataPoint",b})(),h=function(b){return b[b.CategoryFirst=0]="CategoryFirst",b[b.SeriesFirst=1]="SeriesFirst",b[b.CategoryOnly=2]="CategoryOnly",b[b.SeriesOnly=3]="SeriesOnly",b}({}),E=function(b){return b[b.NextCategory=0]="NextCategory",b[b.PreviousCategory=1]="PreviousCategory",b[b.NextSeries=2]="NextSeries",b[b.PreviousSeries=3]="PreviousSeries",b}({});class u{constructor(){this.clearSelectionState()}beginTransaction(){r.f.assert(()=>void 0===this.previousSelectedIds,"previousSelectedIds"),this.previousSelectedIds=_.clone(this.selectedIds),this.previousDecomposedSelectedIds=_.clone(this.decomposedSelectedIds),this.previousSelectionIdSize=this.selectionIdSize}commit(){r.f.assertValue(this.previousSelectedIds,"previousSelectedIds"),this.previousSelectedIds=void 0,this.previousDecomposedSelectedIds=void 0,this.previousSelectionIdSize=void 0}rollback(){r.f.assertValue(this.previousSelectedIds,"previousSelectedIds"),this.selectedIds=this.previousSelectedIds,this.decomposedSelectedIds=this.previousDecomposedSelectedIds,this.selectionIdSize=this.previousSelectionIdSize,this.previousSelectedIds=void 0,this.previousDecomposedSelectedIds=void 0,this.previousSelectionIdSize=void 0}isIdSelected(V){var T=this.selectedIds[V?.getKeyWithoutHighlight()];return this.selectionIdSize>1&&T&&T.equals(V)}clearSelectionState(){this.selectedIds={},this.decomposedSelectedIds={},this.selectionIdSize=0}restoreSelection(V,T){_.forEach(V,P=>{var D=n.l0.fromSelectorsByColumn(P);this.addId(D,T)})}addId(V,T){this.addDecomposedId(V,!T);var P=!!this.selectedIds[V.getKeyWithoutHighlight()];this.selectedIds[V.getKeyWithoutHighlight()]=V,P||(this.selectionIdSize=void 0!==this.selectionIdSize?this.selectionIdSize+1:1)}addDecomposedId(V,T){var P=V.getDecomposedKeys(T);if(P)for(var D of P){var w=this.decomposedSelectedIds[D];_.isArray(w)?_.some(w,M=>M.equals(V))||w.push(V):this.decomposedSelectedIds[D]=[V]}}amendDecomposedSelection(V){this.decomposedSelectedIds={};var T=_.values(this.selectedIds);for(var P of T)this.addDecomposedId(P,V)}removeId(V,T){var P=B=>{var N=B.getKeyWithoutHighlight(),W=this.selectedIds[N];W&&W.includes(V)&&(delete this.selectedIds[N],this.selectionIdSize--)};P(V);var D=B=>{if(B)for(var N=B.length-1;N>-1;N--){var W=B[N];V.includes(W)&&(B.splice(N,1),P(W))}},w=V.getDecomposedKeys(!T);if(w)for(var M of w){var A=this.decomposedSelectedIds[M];D(A),_.isEmpty(A)&&delete this.decomposedSelectedIds[M]}var R=this.decomposedSelectedIds[g.xO];R&&R.length&&(D(R),_.isEmpty(R)&&delete this.decomposedSelectedIds[g.xO])}getSelectionSize(){return this.selectionIdSize}getSelectionIds(){return _.values(this.selectedIds)}filterSelection(V){this.selectedIds=_.pickBy(this.selectedIds,V);var T={};_.forEach(this.decomposedSelectedIds,(P,D)=>{var w=_.filter(P,V);w&&!_.isEmpty(w)&&(T[D]=w)}),this.decomposedSelectedIds=T}updateDatapointAgainstSelectedIds(V,T,P,D){var w=!_.isEmpty(this.selectedIds),M=!_.isEmpty(this.decomposedSelectedIds);if(w||M)for(var R of V)R.selected=this.checkDatapointAgainstSelectedIds(R,T,P,w,M,D);else for(var A of V)A.selected=!1}checkDatapointAgainstSelectedIds(V,T,P,D,w,M){if(D){var A=V.identity?.getKeyWithoutHighlight();if(A){var R=this.selectedIds[A];if(R&&R.includes(V.identity,!0,T,M))return!0}}if(w){var B=V.identity?.getDecomposedKeys(!P);if(B)for(var N of B){var W=this.decomposedSelectedIds[N];if(W)for(var F of W)if(F&&F.includes(V.identity,!0,T,M))return!0}var U=this.decomposedSelectedIds[g.xO];if(!_.isEmpty(U))for(var O of U)if(O&&O.includes(V.identity,!0,T))return!0}return!1}}class f{constructor(){this.behaviors={},this.helpers={}}update(V,T,P){this.behaviors[P]=V,this.navigationStrategy=T.navigationStrategy,this.helpers[P]=T.helper}goToFirstElement(V){var T=this.helpers[V].getFirstElement().element;T&&this.behaviors[V].renderFocus(T)}isEmpty(V){return!this.behaviors[V]||_.isEmpty(this.helpers[V])}handleKeyDownEvent(V,T,P,D,w){var M,A=this.helpers[V];switch(D){case i.mW.tabKeyCode:var R=this.navigationStrategy;R===h.CategoryFirst||R===h.SeriesOnly?M=A.getNextDataPoint(T,P,w?E.PreviousSeries:E.NextSeries):R===h.SeriesFirst||R===h.CategoryOnly?M=A.getNextDataPoint(T,P,w?E.PreviousCategory:E.NextCategory):r.f.assertFail("Unknown DataPointNavigationStrategy in DataPointNavigationManager.handleKeyDownEvent");break;case i.mW.leftArrowKeyCode:M=A.getNextDataPoint(T,P,E.PreviousCategory);break;case i.mW.rightArrowKeyCode:M=A.getNextDataPoint(T,P,E.NextCategory);break;case i.mW.upArrowKeyCode:M=A.getNextDataPoint(T,P,A.validateDirection?.(E.NextSeries)??E.NextSeries);break;case i.mW.downArrowKeyCode:M=A.getNextDataPoint(T,P,A.validateDirection?.(E.PreviousSeries)??E.PreviousSeries);break;default:r.f.assertFail("Unsupported key code received by DataPointNavigationManager.handleKeyDownEvent")}this.behaviors[V].renderFocus(M.element)}}},352044:function(ve,j,e){e.d(j,{K:function(){return n}});var r=e(301336),i=e(281210),a=e(442407),t=e(882553),l=e(628582);function g(p,s){var d=(0,l.eG)(p,s);return d?{grid:[{properties:{outlineColor:(0,t.EV)(d.outlineColor),outlineWeight:(0,a.cA)(r.b$.valueOrDefault(d.outlineWeight,l.TK)),gridVertical:(0,a.O7)(d.gridVerticalEnabledMatrix),gridVerticalColor:(0,t.EV)(d.gridColor),gridVerticalWeight:(0,a.cA)(r.b$.valueOrDefault(d.gridVerticalWeight,l.FT)),gridHorizontal:(0,a.O7)(d.gridHorizontalEnabledMatrix),gridHorizontalColor:(0,t.EV)(d.gridColor),gridHorizontalWeight:(0,a.cA)(r.b$.valueOrDefault(d.gridHorizontalWeight,l.cr)),rowPadding:(0,a.cA)(d.rowPadding)}}],columnHeaders:[{properties:{outline:(0,a.fL)(r.b$.valueOrDefault(d.outlineModeColumnHeaders,l.dc)),fontColor:(0,t.EV)(d.fontColorHeaders),backColor:(0,t.EV)(d.backColorHeaders)}}],rowHeaders:[{properties:{outline:(0,a.fL)(r.b$.valueOrDefault(d.outlineModeRowHeaders,l.hW)),fontColor:(0,t.EV)(d.fontColorHeaders),backColor:(0,t.EV)(d.backColorHeaders)}}],values:[{properties:{outline:(0,a.fL)(r.b$.valueOrDefault(d.outlineModeValues,l.Wy)),fontColorPrimary:(0,t.EV)(d.fontColorValues1),backColorPrimary:(0,t.EV)(d.backColorValues1),fontColorSecondary:(0,t.EV)(d.fontColorValues2),backColorSecondary:(0,t.EV)(d.backColorValues2)}}],subTotals:[{properties:{fontColor:void 0,backColor:void 0}}],total:[{properties:{fontColor:(0,t.EV)(d.fontColorTotals),backColor:(0,t.EV)(d.backColorTotals),applyToHeaders:(0,a.O7)(!1)}}]}:{}}function n(){return{sectionTitle:(0,i.V)("Visual_Matrix_StylePreset_SectionTitle"),sliceTitle:(0,i.V)("Visual_Table_StylePreset_SliceTitle"),defaultPresetName:l.Hq,presets:{[l.Hq]:{name:l.Hq,displayName:(0,i.V)("None"),evaluate:p=>g(l.Hq,p)},[l.iU]:{name:l.iU,displayName:(0,i.V)("Visual_Table_StylePreset_Minimal"),evaluate:p=>g(l.iU,p)},[l.xO]:{name:l.xO,displayName:(0,i.V)("Visual_Table_StylePreset_BoldHeader"),evaluate:p=>g(l.xO,p)},[l.Au]:{name:l.Au,displayName:(0,i.V)("Visual_Table_StylePreset_AlternatingRows"),evaluate:p=>g(l.Au,p)},[l.iq]:{name:l.iq,displayName:(0,i.V)("Visual_Table_StylePreset_ContrastAlternatingRows"),evaluate:p=>g(l.iq,p)},[l.rO]:{name:l.rO,displayName:(0,i.V)("Visual_Table_StylePreset_FlashyRows"),evaluate:p=>g(l.rO,p)},[l.b6]:{name:l.b6,displayName:(0,i.V)("Visual_Table_StylePreset_BoldHeaderFlashyRows"),evaluate:p=>g(l.b6,p)},[l.rJ]:{name:l.rJ,displayName:(0,i.V)("Visual_Table_StylePreset_Sparse"),evaluate:p=>g(l.rJ,p)},[l.TJ]:{name:l.TJ,displayName:(0,i.V)("Visual_Table_StylePreset_Condensed"),evaluate:p=>g(l.TJ,p)}}}}},417500:function(ve,j,e){e.d(j,{F:function(){return n}});var r=e(301336),i=e(281210),a=e(442407),t=e(882553),l=e(628582);function g(p,s,d){var o=(0,l.eG)(p,s);if(!o)return{};var v=[{properties:{fontColor:(0,t.EV)(o.fontColorSubtotalsRow),backColor:(0,t.EV)(o.backColorSubtotalsRow)},selector:{id:"Row"}},{properties:{fontColor:void 0,backColor:void 0},selector:{id:"Column"}}];return{grid:[{properties:{outline:void 0,outlineColor:(0,t.EV)(o.outlineColor),outlineWeight:(0,a.cA)(r.b$.valueOrDefault(o.outlineWeight,l.TK)),gridVertical:(0,a.O7)(o.gridVerticalEnabledMatrix),gridVerticalColor:(0,t.EV)(o.gridColor),gridVerticalWeight:(0,a.cA)(r.b$.valueOrDefault(o.gridVerticalWeight,l.FT)),gridHorizontal:(0,a.O7)(o.gridHorizontalEnabledMatrix),gridHorizontalColor:(0,t.EV)(o.gridColor),gridHorizontalWeight:(0,a.cA)(r.b$.valueOrDefault(o.gridHorizontalWeight,l.cr)),rowPadding:(0,a.cA)(o.rowPadding)}}],columnHeaders:[{properties:{outline:(0,a.fL)(r.b$.valueOrDefault(o.outlineModeColumnHeaders,l.WI)),outlineStyle:(0,a.cA)(r.b$.valueOrDefault(o.outlineModeColumnHeaders,l.es)),outlineColor:void 0,outlineWeight:void 0,fontColor:(0,t.EV)(o.fontColorHeaders),backColor:(0,t.EV)(o.backColorHeaders)}}],rowHeaders:[{properties:{outline:(0,a.fL)(r.b$.valueOrDefault(o.outlineModeRowHeaders,l.bW)),outlineStyle:(0,a.cA)(r.b$.valueOrDefault(o.outlineModeRowHeaders,l.Z0)),outlineColor:void 0,outlineWeight:void 0,fontColor:(0,t.EV)(o.fontColorHeaders),backColor:(0,t.EV)(o.backColorHeaders),applyAlternation:(0,a.O7)(!0)}}],values:[{properties:{outline:(0,a.fL)(r.b$.valueOrDefault(o.outlineModeValues,l.F)),outlineStyle:(0,a.cA)(r.b$.valueOrDefault(o.outlineModeValues,l.yh)),outlineColor:void 0,outlineWeight:void 0,fontColorPrimary:(0,t.EV)(o.fontColorValues1),backColorPrimary:(0,t.EV)(o.backColorValues1),fontColorSecondary:(0,t.EV)(o.fontColorValues2),backColorSecondary:(0,t.EV)(o.backColorValues2)}}],subTotals:v,total:[{properties:{fontColor:(0,t.EV)(o.fontColorTotals),backColor:(0,t.EV)(o.backColorTotals),applyToHeaders:(0,a.O7)(!1)}}],rowTotal:[{properties:{fontColor:(0,t.EV)(o.fontColorTotals),backColor:(0,t.EV)(o.backColorTotals),applyToHeaders:(0,a.O7)(!1)}}],columnTotal:[{properties:{fontColor:(0,t.EV)(o.fontColorTotals),backColor:(0,t.EV)(o.backColorTotals),applyToHeaders:(0,a.O7)(!1)}}]}}function n(p){return{sectionTitle:(0,i.V)("Visual_Matrix_StylePreset_SectionTitle"),sliceTitle:(0,i.V)("Visual_Table_StylePreset_SliceTitle"),defaultPresetName:l.gA,presets:{[l.gA]:{name:l.gA,displayName:(0,i.V)("Default"),evaluate:s=>g(l.gA,s)},[l.Hq]:{name:l.Hq,displayName:(0,i.V)("None"),evaluate:s=>g(l.Hq,s)},[l.iU]:{name:l.iU,displayName:(0,i.V)("Visual_Table_StylePreset_Minimal"),evaluate:s=>g(l.iU,s)},[l.xO]:{name:l.xO,displayName:(0,i.V)("Visual_Table_StylePreset_BoldHeader"),evaluate:s=>g(l.xO,s)},[l.Au]:{name:l.Au,displayName:(0,i.V)("Visual_Table_StylePreset_AlternatingRows"),evaluate:s=>g(l.Au,s),isDeprecated:!0},[l.pJ]:{name:l.pJ,displayName:(0,i.V)("Visual_Table_StylePreset_AlternatingRowsNew"),evaluate:s=>g(l.pJ,s)},[l.iq]:{name:l.iq,displayName:(0,i.V)("Visual_Table_StylePreset_ContrastAlternatingRows"),evaluate:s=>g(l.iq,s)},[l.rO]:{name:l.rO,displayName:(0,i.V)("Visual_Table_StylePreset_FlashyRows"),evaluate:s=>g(l.rO,s)},[l.b6]:{name:l.b6,displayName:(0,i.V)("Visual_Table_StylePreset_BoldHeaderFlashyRows"),evaluate:s=>g(l.b6,s)},[l.rJ]:{name:l.rJ,displayName:(0,i.V)("Visual_Table_StylePreset_Sparse"),evaluate:s=>g(l.rJ,s)},[l.TJ]:{name:l.TJ,displayName:(0,i.V)("Visual_Table_StylePreset_Condensed"),evaluate:s=>g(l.TJ,s)}}}}},212547:function(ve,j,e){e.d(j,{L:function(){return n}});var r=e(301336),i=e(281210),a=e(442407),t=e(882553),l=e(628582);function g(p,s){var d=(0,l.eG)(p,s);return d?{grid:[{properties:{outlineColor:(0,t.EV)(d.outlineColor),outlineWeight:(0,a.cA)(r.b$.valueOrDefault(d.outlineWeight,l.TK)),gridVertical:(0,a.O7)(d.gridVerticalEnabledTable),gridVerticalColor:(0,t.EV)(d.gridColor),gridVerticalWeight:(0,a.cA)(r.b$.valueOrDefault(d.gridVerticalWeight,l.FT)),gridHorizontal:(0,a.O7)(d.gridHorizontalEnabledTable),gridHorizontalColor:(0,t.EV)(d.gridColor),gridHorizontalWeight:(0,a.cA)(r.b$.valueOrDefault(d.gridHorizontalWeight,l.cr)),rowPadding:(0,a.cA)(d.rowPadding)}}],columnHeaders:[{properties:{outline:(0,a.fL)(r.b$.valueOrDefault(d.outlineModeColumnHeaders,l.dc)),fontColor:(0,t.EV)(d.fontColorHeaders),backColor:(0,t.EV)(d.backColorHeaders)}}],values:[{properties:{outline:(0,a.fL)(r.b$.valueOrDefault(d.outlineModeValues,l.Wy)),fontColorPrimary:(0,t.EV)(d.fontColorValues1),backColorPrimary:(0,t.EV)(d.backColorValues1),fontColorSecondary:(0,t.EV)(d.fontColorValues2),backColorSecondary:(0,t.EV)(d.backColorValues2)}}],total:[{properties:{outline:(0,a.fL)(r.b$.valueOrDefault(d.outlineModeTotals,l.jF)),fontColor:(0,t.EV)(d.fontColorTotals),backColor:(0,t.EV)(d.backColorTotals)}}]}:{}}function n(){return{sectionTitle:(0,i.V)("Visual_Table_StylePreset_SectionTitle"),sliceTitle:(0,i.V)("Visual_Table_StylePreset_SliceTitle"),defaultPresetName:l.Hq,presets:{[l.Hq]:{name:l.Hq,displayName:(0,i.V)("None"),evaluate:p=>g(l.Hq,p)},[l.iU]:{name:l.iU,displayName:(0,i.V)("Visual_Table_StylePreset_Minimal"),evaluate:p=>g(l.iU,p)},[l.xO]:{name:l.xO,displayName:(0,i.V)("Visual_Table_StylePreset_BoldHeader"),evaluate:p=>g(l.xO,p)},[l.Au]:{name:l.Au,displayName:(0,i.V)("Visual_Table_StylePreset_AlternatingRows"),evaluate:p=>g(l.Au,p)},[l.iq]:{name:l.iq,displayName:(0,i.V)("Visual_Table_StylePreset_ContrastAlternatingRows"),evaluate:p=>g(l.iq,p)},[l.rO]:{name:l.rO,displayName:(0,i.V)("Visual_Table_StylePreset_FlashyRows"),evaluate:p=>g(l.rO,p)},[l.b6]:{name:l.b6,displayName:(0,i.V)("Visual_Table_StylePreset_BoldHeaderFlashyRows"),evaluate:p=>g(l.b6,p)},[l.rJ]:{name:l.rJ,displayName:(0,i.V)("Visual_Table_StylePreset_Sparse"),evaluate:p=>g(l.rJ,p)},[l.TJ]:{name:l.TJ,displayName:(0,i.V)("Visual_Table_StylePreset_Condensed"),evaluate:p=>g(l.TJ,p)}}}}},29259:function(ve,j,e){e.d(j,{w:function(){return n}});var r=e(301336),i=e(281210),a=e(442407),t=e(882553),l=e(628582);function g(p,s,d){var o=(0,l.eG)(p,s);return o?{grid:[{properties:{outline:void 0,outlineColor:(0,t.EV)(o.outlineColor),outlineWeight:(0,a.cA)(r.b$.valueOrDefault(o.outlineWeight,l.TK)),gridVertical:(0,a.O7)(o.gridVerticalEnabledTable),gridVerticalColor:(0,t.EV)(o.gridColor),gridVerticalWeight:(0,a.cA)(r.b$.valueOrDefault(o.gridVerticalWeight,l.FT)),gridHorizontal:(0,a.O7)(o.gridHorizontalEnabledTable),gridHorizontalColor:(0,t.EV)(o.gridColor),gridHorizontalWeight:(0,a.cA)(r.b$.valueOrDefault(o.gridHorizontalWeight,l.cr)),rowPadding:(0,a.cA)(o.rowPadding)}}],columnHeaders:[{properties:{outline:(0,a.fL)(r.b$.valueOrDefault(o.outlineModeColumnHeaders,l.WI)),outlineStyle:(0,a.cA)(r.b$.valueOrDefault(o.outlineModeColumnHeaders,l.es)),outlineColor:void 0,outlineWeight:void 0,fontColor:(0,t.EV)(o.fontColorHeaders),backColor:(0,t.EV)(o.backColorHeaders)}}],values:[{properties:{outline:(0,a.fL)(r.b$.valueOrDefault(o.outlineModeValues,l.F)),outlineStyle:(0,a.cA)(r.b$.valueOrDefault(o.outlineModeValues,l.yh)),outlineColor:void 0,outlineWeight:void 0,fontColorPrimary:(0,t.EV)(o.fontColorValues1),backColorPrimary:(0,t.EV)(o.backColorValues1),fontColorSecondary:(0,t.EV)(o.fontColorValues2),backColorSecondary:(0,t.EV)(o.backColorValues2)}}],total:[{properties:{outline:(0,a.fL)(r.b$.valueOrDefault(o.outlineModeTotals,l.fd)),outlineStyle:(0,a.cA)(r.b$.valueOrDefault(o.outlineModeTotals,l.EH)),outlineColor:void 0,outlineWeight:void 0,fontColor:(0,t.EV)(o.fontColorTotals),backColor:(0,t.EV)(o.backColorTotals)}}]}:{}}function n(p){return{sectionTitle:(0,i.V)("Visual_Table_StylePreset_SectionTitle"),sliceTitle:(0,i.V)("Visual_Table_StylePreset_SliceTitle"),defaultPresetName:l.gA,presets:{[l.gA]:{name:l.gA,displayName:(0,i.V)("Default"),evaluate:s=>g(l.gA,s)},[l.Hq]:{name:l.Hq,displayName:(0,i.V)("None"),evaluate:s=>g(l.Hq,s)},[l.iU]:{name:l.iU,displayName:(0,i.V)("Visual_Table_StylePreset_Minimal"),evaluate:s=>g(l.iU,s)},[l.xO]:{name:l.xO,displayName:(0,i.V)("Visual_Table_StylePreset_BoldHeader"),evaluate:s=>g(l.xO,s)},[l.Au]:{name:l.Au,displayName:(0,i.V)("Visual_Table_StylePreset_AlternatingRows"),evaluate:s=>g(l.Au,s),isDeprecated:!0},[l.pJ]:{name:l.pJ,displayName:(0,i.V)("Visual_Table_StylePreset_AlternatingRowsNew"),evaluate:s=>g(l.pJ,s)},[l.iq]:{name:l.iq,displayName:(0,i.V)("Visual_Table_StylePreset_ContrastAlternatingRows"),evaluate:s=>g(l.iq,s)},[l.rO]:{name:l.rO,displayName:(0,i.V)("Visual_Table_StylePreset_FlashyRows"),evaluate:s=>g(l.rO,s)},[l.b6]:{name:l.b6,displayName:(0,i.V)("Visual_Table_StylePreset_BoldHeaderFlashyRows"),evaluate:s=>g(l.b6,s)},[l.rJ]:{name:l.rJ,displayName:(0,i.V)("Visual_Table_StylePreset_Sparse"),evaluate:s=>g(l.rJ,s)},[l.TJ]:{name:l.TJ,displayName:(0,i.V)("Visual_Table_StylePreset_Condensed"),evaluate:s=>g(l.TJ,s)}}}}},628582:function(ve,j,e){e.d(j,{Au:function(){return D},EH:function(){return y},F:function(){return o},FT:function(){return n},Hq:function(){return b},TJ:function(){return N},TK:function(){return v},WI:function(){return p},Wy:function(){return S},Z0:function(){return c},b6:function(){return R},bW:function(){return s},cr:function(){return g},dc:function(){return t},eG:function(){return W},es:function(){return l},fd:function(){return d},gA:function(){return V},hW:function(){return m},iU:function(){return T},iq:function(){return M},jF:function(){return C},pJ:function(){return w},rJ:function(){return B},rO:function(){return A},xO:function(){return P},yh:function(){return h}});var r=e(79365),i=e(650543),a=e(976707),t=a.FX.PropColumnsOutline.defaultValue,l=a.FX.PropColumnsOutlineStyle.defaultValue,g=a.FX.PropGridHorizontalWeight.defaultValue,n=a.FX.PropGridVerticalWeight.defaultValue,p=a.FX.PropColumnsNewVisualOutline.defaultValue,s=a.FX.PropRowsPivotTableOutline.defaultValue,d=a.FX.PropTotalTableExOutline.defaultValue,o=a.FX.PropValuesNewVisualOutline.defaultValue,v=a.FX.PropGridOutlineWeight.defaultValue,m=a.FX.PropRowsOutline.defaultValue,c=a.FX.PropRowsOutlineStyle.defaultValue,C=a.FX.PropTotalOutline.defaultValue,y=a.FX.PropTotalOutlineStyle.defaultValue,S=a.FX.PropValuesOutline.defaultValue,h=a.FX.PropValuesOutlineStyle.defaultValue,E=0,u=3,f=6,b="None",V="Default",T="Minimal",P="BoldHeader",D="AlternatingRows",w="AlternatingRowsNew",M="ContrastAlternatingRows",A="FlashyRows",R="BoldHeaderFlashyRows",B="Sparse",N="Condensed";function W(F,U){var O=U.colorPalette.background.value,x=U.colorPalette.foreground.value,I=U.colorPalette.tableAccent.value,K=new a.FX(U);switch(F){case b:return{outlineColor:K.PropGridOutlineColor.getValue(null),gridColor:K.PropGridVerticalColor.getValue(null),gridVerticalEnabledTable:a.FX.PropGridVertical.defaultValue,gridVerticalEnabledMatrix:a.FX.PropGridVertical.defaultValue,gridHorizontalEnabledTable:a.FX.PropGridHorizontalTable.defaultValue,gridHorizontalEnabledMatrix:a.FX.PropGridHorizontalMatrix.defaultValue,rowPadding:a.FX.PropGridRowPadding.defaultValue,fontColorHeaders:K.PropColumnsFontColor.getValue(null),backColorHeaders:K.PropColumnsBackColor.getValue(null),fontColorValues1:K.PropValuesFontColorPrimary.getValue(null),backColorValues1:K.PropValuesBackColorPrimary.getValue(null),fontColorValues2:K.PropValuesFontColorSecondary.getValue(null),backColorValues2:K.PropValuesBackColorSecondary.getValue(null),fontColorTotals:K.PropTotalFontColor.getValue(null),backColorTotals:K.PropTotalBackColor.getValue(null)};case V:return{outlineColor:I=U.colorPalette.tableAccent.value,gridColor:(0,r.ok)(x=U.colorPalette.foreground.value,.12,O=U.colorPalette.background.value),gridVerticalEnabledTable:!1,gridVerticalEnabledMatrix:!1,gridHorizontalEnabledTable:a.FX.PropGridHorizontalTable.defaultValue,gridHorizontalEnabledMatrix:a.FX.PropGridHorizontalMatrix.defaultValue,rowPadding:1,fontColorHeaders:x,backColorHeaders:O,fontColorValues1:x,backColorValues1:O,fontColorValues2:x,backColorValues2:(0,r.ok)(x,.08,O),fontColorTotals:void 0,backColorTotals:void 0};case T:return{outlineColor:I,gridColor:(0,r.ok)(x,.12,O),gridVerticalEnabledTable:!1,gridVerticalEnabledMatrix:!1,gridHorizontalEnabledTable:!0,gridHorizontalEnabledMatrix:!0,rowPadding:u,fontColorHeaders:x,backColorHeaders:O,fontColorValues1:x,backColorValues1:O,fontColorValues2:x,backColorValues2:O,fontColorTotals:x,backColorTotals:O};case P:return{outlineColor:I=U.colorPalette.tableAccent.value,gridColor:(0,r.ok)(x=U.colorPalette.foreground.value,.12,O=U.colorPalette.background.value),gridVerticalEnabledTable:!1,gridVerticalEnabledMatrix:!1,gridHorizontalEnabledTable:!0,gridHorizontalEnabledMatrix:!0,rowPadding:u,backColorHeaders:x,fontColorHeaders:O,fontColorValues1:x,backColorValues1:O,fontColorValues2:x,backColorValues2:O,fontColorTotals:x,backColorTotals:O};case D:return{outlineColor:I=U.colorPalette.tableAccent.value,gridColor:(0,r.ok)(x=U.colorPalette.foreground.value,.12,O=U.colorPalette.background.value),gridVerticalEnabledTable:!1,gridVerticalEnabledMatrix:!1,gridHorizontalEnabledTable:!0,gridHorizontalEnabledMatrix:!0,rowPadding:u,fontColorHeaders:O,backColorHeaders:x,fontColorValues1:x,backColorValues1:O,fontColorValues2:x,backColorValues2:(0,r.ok)(x,.08,O),fontColorTotals:O,backColorTotals:x};case w:return{outlineColor:I=U.colorPalette.tableAccent.value,gridColor:(0,r.ok)(x=U.colorPalette.foreground.value,.12,O=U.colorPalette.background.value),gridVerticalEnabledTable:!1,gridVerticalEnabledMatrix:!1,gridHorizontalEnabledTable:!0,gridHorizontalEnabledMatrix:!0,rowPadding:u,fontColorHeaders:O,backColorHeaders:x,fontColorValues1:x,backColorValues1:O,fontColorValues2:x,backColorValues2:(0,r.ok)(x,.08,O),fontColorTotals:O,backColorTotals:x,backColorSubtotalsRow:null,fontColorSubtotalsRow:null};case M:return{outlineColor:I=U.colorPalette.tableAccent.value,gridColor:(0,r.ok)(x=U.colorPalette.foreground.value,.12,O=U.colorPalette.background.value),gridVerticalEnabledTable:!1,gridVerticalEnabledMatrix:!1,gridHorizontalEnabledTable:!0,gridHorizontalEnabledMatrix:!0,rowPadding:u,fontColorHeaders:O,backColorHeaders:x,fontColorValues1:O,backColorValues1:(0,r.ok)(x,.75,O),fontColorValues2:x,backColorValues2:(0,r.ok)(x,.25,O),fontColorTotals:O,backColorTotals:x};case A:return{outlineColor:x=U.colorPalette.foreground.value,gridColor:O=U.colorPalette.background.value,gridVerticalEnabledTable:!1,gridVerticalEnabledMatrix:!1,gridHorizontalEnabledTable:!1,gridHorizontalEnabledMatrix:!1,rowPadding:u,fontColorHeaders:x,backColorHeaders:O,fontColorValues1:x,backColorValues1:(0,r.ok)(I=U.colorPalette.tableAccent.value,.4,O),fontColorValues2:x,backColorValues2:(0,r.ok)(I,.8,O),fontColorTotals:x,backColorTotals:O};case R:return{outlineColor:O=U.colorPalette.background.value,gridColor:O,gridVerticalEnabledTable:!1,gridVerticalEnabledMatrix:!1,gridHorizontalEnabledTable:!1,gridHorizontalEnabledMatrix:!1,rowPadding:u,fontColorHeaders:O,backColorHeaders:x=U.colorPalette.foreground.value,fontColorValues1:x,backColorValues1:(0,r.ok)(I=U.colorPalette.tableAccent.value,.4,O),fontColorValues2:x,backColorValues2:(0,r.ok)(I,.8,O),fontColorTotals:O,backColorTotals:x};case B:return{outlineColor:I=U.colorPalette.tableAccent.value,gridColor:(0,r.ok)(x=U.colorPalette.foreground.value,.2,O=U.colorPalette.background.value),gridVerticalEnabledTable:!1,gridVerticalEnabledMatrix:!1,gridHorizontalEnabledTable:!1,gridHorizontalEnabledMatrix:!1,rowPadding:f,fontColorHeaders:O,backColorHeaders:x,fontColorValues1:x,backColorValues1:O,fontColorValues2:x,backColorValues2:O,fontColorTotals:O,backColorTotals:x};case N:return{outlineColor:I=U.colorPalette.tableAccent.value,gridColor:(0,r.ok)(x=U.colorPalette.foreground.value,.2,O=U.colorPalette.background.value),gridVerticalEnabledTable:!0,gridVerticalEnabledMatrix:!0,gridHorizontalEnabledTable:!0,gridHorizontalEnabledMatrix:!0,rowPadding:E,fontColorHeaders:O,backColorHeaders:x,fontColorValues1:x,backColorValues1:O,fontColorValues2:x,backColorValues2:O,fontColorTotals:O,backColorTotals:x};default:return void i.f.assertFail("Attempt to get Tablix style elements with invalid preset name ["+F+"].")}}},3319:function(ve,j,e){e.d(j,{W:function(){return i},i:function(){return a}});var r=e(56604),i=function(t){return t.blank="blank",t.leftArrow="leftArrow",t.rightArrow="rightArrow",t.back="back",t.reset="reset",t.information="information",t.help="help",t.qna="qna",t.insights="insights",t.bookmarks="bookmarks",t.custom="custom",t.applyAllSlicers="applyAllSlicers",t.clearAllSlicers="clearAllSlicers",t.spinner="spinner",t}({}),a=(0,r.i)([{value:i.blank,displayName:t=>t.get("ReportAppBar_Blank")},{value:i.leftArrow,displayName:t=>t.get("Generic_LeftArrow")},{value:i.rightArrow,displayName:t=>t.get("Generic_RightArrow")},{value:i.back,displayName:t=>t.get("Generic_Back")},{value:i.reset,displayName:t=>t.get("Reset")},{value:i.help,displayName:t=>t.get("Generic_Help")},{value:i.information,displayName:t=>t.get("ReportAppBar_InfoIcon")},{value:i.qna,displayName:t=>t.get("Generic_Qna")},{value:i.bookmarks,displayName:t=>t.get("Generic_Bookmark")},{value:i.applyAllSlicers,displayName:t=>t.get("ReportAppBar_ApplyAllSlicers")},{value:i.clearAllSlicers,displayName:t=>t.get("ReportAppBar_ClearAllSlicers")},{value:i.custom,displayName:t=>t.get("Custom")},{value:i.spinner,displayName:t=>t.get("Spinner")}])},846552:function(ve,j,e){e.d(j,{D:function(){return i},d:function(){return a}});var r=e(56604),i=function(t){return t.showBoth="showBoth",t.showTitleOnly="showTitleOnly",t.showUnitOnly="showUnitOnly",t}({}),a=(0,r.i)([{value:i.showTitleOnly,displayName:t=>t.get("Visual_Axis_ShowTitleOnly")},{value:i.showUnitOnly,displayName:t=>t.get("Visual_Axis_ShowUnitOnly")},{value:i.showBoth,displayName:t=>t.get("Visual_Axis_ShowBoth")}])},850234:function(ve,j,e){e.d(j,{F:function(){return a},w:function(){return i}});var r=e(56604),i=function(t){return t.scalar="Scalar",t.categorical="Categorical",t.both="Both",t}({}),a=(0,r.i)([{value:i.scalar,displayName:t=>t.get("Visual_Axis_Scalar")},{value:i.categorical,displayName:t=>t.get("Visual_Axis_Categorical")}])},818506:function(ve,j,e){e.d(j,{BG:function(){return a},C9:function(){return i},cP:function(){return g},dt:function(){return p},jv:function(){return t},x7:function(){return l},yX:function(){return n}});var r=e(56604),i="rectangle",a="oval",t="line",l="arrow",g="triangle",n="arrowbutton",p=(0,r.i)([{value:i,displayName:s=>s.get("ReportAppBar_ShapeRectangle")},{value:a,displayName:s=>s.get("ReportAppBar_ShapeOval")},{value:t,displayName:s=>s.get("Visual_Shape_Line")},{value:l,displayName:s=>s.get("ReportAppBar_ShapeArrow")},{value:g,displayName:s=>s.get("ReportAppBar_ShapeTriangle")},{value:n,displayName:"arrowbutton"}])},35015:function(ve,j,e){e.d(j,{AB:function(){return g},GT:function(){return i},IZ:function(){return p},VW:function(){return d},dt:function(){return s},fS:function(){return t},j2:function(){return a},se:function(){return l},uH:function(){return n}});var r=e(56604),i="aerial",a="canvasDark",t="canvasLight",l="grayscale",g="road",n=g,p=a,s=(0,r.i)([{value:i,displayName:o=>o.get("Visual_MapThemeAerial")},{value:a,displayName:o=>o.get("Visual_MapThemeDark")},{value:t,displayName:o=>o.get("Visual_MapThemeLight")},{value:l,displayName:o=>o.get("Visual_MapThemeGrayScale")},{value:g,displayName:o=>o.get("Visual_MapThemeRoad")}]);function d(o){return o===i||o===a}},226524:function(ve,j,e){e.d(j,{XT:function(){return l},aA:function(){return t},dt:function(){return n},dw:function(){return g},zH:function(){return a}});var r=e(56604),i="pixels",a="meters",t=i,l=200,g=4e6,n=(0,r.i)([{value:i,displayName:p=>p.get("Generic_Pixels")},{value:a,displayName:p=>p.get("Visual_MapUnitMeters")}])},114672:function(ve,j,e){e.d(j,{d:function(){return i},y:function(){return a}});var r=e(56604),i=function(t){return t.Top="Top",t.Bottom="Bottom",t.TopAndBottom="TopAndBottom",t}({}),a=(0,r.i)([{value:i.Top,displayName:t=>t.get("Top")},{value:i.Bottom,displayName:t=>t.get("Bottom")},{value:i.TopAndBottom,displayName:t=>t.get("Top_And_Bottom")}])},936438:function(ve,j,e){e.d(j,{C:function(){return a},F:function(){return i}});var r=e(56604),i=function(t){return t.below="below",t.right="right",t}({}),a=(0,r.i)([{value:i.below,displayName:t=>t.get("Visual_CallOutRelative_Below")},{value:i.right,displayName:t=>t.get("Visual_CallOutRelative_Right")}])},307833:function(ve,j,e){e.d(j,{A:function(){return i},d:function(){return a}});var r=e(56604),i=function(t){return t.BelowValue="belowValue",t.AboveValue="aboveValue",t}({}),a=(0,r.i)([{value:i.BelowValue,displayName:t=>t.get("CardVisualPositioning_BelowValue")},{value:i.AboveValue,displayName:t=>t.get("CardVisualPositioning_AboveValue")}])},807341:function(ve,j,e){e.d(j,{Qm:function(){return a},X$:function(){return i},uv:function(){return t}});var r=e(56604),i=function(l){return l.fill="fill",l.line="line",l.fillLine="fillLine",l}({}),a=(0,r.i)([{value:i.fill,displayName:l=>l.get("Visual_Confidence_Band_Style_Fill")},{value:i.line,displayName:l=>l.get("Visual_Confidence_Band_Style_Line")},{value:"none",displayName:l=>l.get("None")}]),t=(0,r.i)([{value:i.fill,displayName:l=>l.get("Visual_Confidence_Band_Style_Fill")},{value:i.line,displayName:l=>l.get("Visual_Confidence_Band_Style_Line")},{value:i.fillLine,displayName:l=>l.get("Visual_Confidence_Band_Style_LineFill")}])},601548:function(ve,j,e){e.d(j,{FH:function(){return t},PG:function(){return i},Vm:function(){return a}});var r=e(56604),i="custom",a="fieldName",t=(0,r.i)([{value:i,displayName:l=>l.get("Custom")},{value:a,displayName:l=>l.get("StreamingDataflow_FieldName")}])},465404:function(ve,j,e){e.d(j,{W:function(){return i},w:function(){return a}});var r=e(56604),i=function(t){return t.Percent="Percent of total",t.Custom="Custom",t}({}),a=(0,r.i)([{value:i.Percent,displayName:t=>t.get("Visual_LabelStyle_Percent")},{value:i.Custom,displayName:t=>t.get("Custom")}])},835119:function(ve,j,e){e.d(j,{d:function(){return i}});var i=(0,e(56604).i)([{value:0,displayName:a=>a.get("DisplayUnitSystem_EAuto_Title")},{value:1,displayName:a=>a.get("DisplayUnitSystem_E0_Title")},{value:1e3,displayName:a=>a.get("DisplayUnitSystem_E3_Title")},{value:1e6,displayName:a=>a.get("DisplayUnitSystem_E6_Title")},{value:1e9,displayName:a=>a.get("DisplayUnitSystem_E9_Title")},{value:1e12,displayName:a=>a.get("DisplayUnitSystem_E12_Title")},{value:-1,displayName:a=>a.get("Custom")}])},865130:function(ve,j,e){e.d(j,{d7:function(){return i},dt:function(){return l},on:function(){return a}});var r=e(56604),i="auto",a="on",l=(0,r.i)([{value:i,displayName:g=>g.get("Visual_Auto")},{value:a,displayName:g=>g.get("ToggleSwitchOn")},{value:"off",displayName:g=>g.get("ToggleSwitchOff")}])},707161:function(ve,j,e){e.d(j,{Od:function(){return a},SX:function(){return i},UX:function(){return l},dt:function(){return g},gC:function(){return t}});var r=e(56604),i="outside",a="inside",t="preferOutside",l="preferInside",g=(0,r.i)([{value:i,displayName:n=>n.get("Visual_DonutLabelPosition_Outside")},{value:a,displayName:n=>n.get("Visual_DonutLabelPosition_Inside")},{value:t,displayName:n=>n.get("Visual_DonutLabelPosition_PreferOutside")},{value:l,displayName:n=>n.get("Visual_DonutLabelPosition_PreferInside")}])},99676:function(ve,j,e){e.d(j,{K:function(){return i},y:function(){return a}});var r=e(56604),i=function(t){return t.absolute="absolute",t.relativeNumeric="relativeNumeric",t.relativePercentage="relativePercentage",t.range="range",t}({}),a=(0,r.i)([{value:i.absolute,displayName:t=>t.get("Visual_Absolute")},{value:i.relativeNumeric,displayName:t=>t.get("Visual_RelativeNumeric")},{value:i.relativePercentage,displayName:t=>t.get("Visual_RelativePercentage")},{value:i.range,displayName:t=>t.get("Visual_Axis_Range")}])},365478:function(ve,j,e){e.d(j,{CR:function(){return t},MS:function(){return s},YK:function(){return l},aT:function(){return g},dt:function(){return o},mN:function(){return d},oN:function(){return n},r0:function(){return a},r2:function(){return p}});var r=e(56604),a=4,t=8,l=function(v){return v[v.data=2]="data",v[v.percentOfFirst=a]="percentOfFirst",v[v.percentOfPrevious=t]="percentOfPrevious",v[v.dataAndPercentOfFirst=2|a]="dataAndPercentOfFirst",v[v.dataAndPercentOfPrevious=2|t]="dataAndPercentOfPrevious",v}({}),g="Data",n="Percent of first",p="Percent of previous",s="Data, percent of first",d="Data, percent of previous",o=(0,r.i)([{value:g,displayName:v=>v.get("Visual_LabelStyle_DataValue")},{value:n,displayName:v=>v.get("Funnel_PercentOfFirst")},{value:p,displayName:v=>v.get("Funnel_PercentOfPrevious")},{value:s,displayName:v=>v.get("Visual_LabelStyle_DataAndPercentOfFirst")},{value:d,displayName:v=>v.get("Visual_LabelStyle_DataAndPercentOfPrevious")}])},519908:function(ve,j,e){e.d(j,{ST:function(){return i},_h:function(){return h},dt:function(){return u},gA:function(){return a},xF:function(){return E}});var r=e(56604),i={v1_0:"1.0",v2_0:"2.0"},a="",t="de-de",l="en-GB",g="en-US",n="es-ES",p="fr-FR",s="it-it",v="nl-BE",m="pt-BR",C="zh-Hans",y="zh-Hant",S=[{value:a,version:i.v1_0},{value:t,version:i.v2_0},{value:l,version:i.v2_0},{value:g,version:i.v2_0},{value:n,version:i.v2_0},{value:p,version:i.v2_0},{value:s,version:i.v2_0},{value:"ja",version:i.v1_0},{value:"ko",version:i.v2_0},{value:v,version:i.v2_0},{value:m,version:i.v2_0},{value:"ru",version:i.v2_0},{value:C,version:i.v2_0},{value:y,version:i.v2_0}];function h(f){return _.findIndex(S,b=>b.value===f)>=0}function E(f,b){var V=_.find(S,T=>T.value===f);return!!V&&V.version===b}var u=(0,r.i)([{value:a,displayName:f=>f.get("Visual_Auto")},{value:t,displayName:f=>f.get("Visual_MapGeocodingCulture_DE")},{value:l,displayName:f=>f.get("Visual_MapGeocodingCulture_ENGB")},{value:g,displayName:f=>f.get("Visual_MapGeocodingCulture_ENUS")},{value:n,displayName:f=>f.get("Visual_MapGeocodingCulture_ES")},{value:p,displayName:f=>f.get("Visual_MapGeocodingCulture_FR")},{value:s,displayName:f=>f.get("Visual_MapGeocodingCulture_IT")},{value:"ja",displayName:f=>f.get("Visual_MapGeocodingCulture_JA")},{value:"ko",displayName:f=>f.get("Visual_MapGeocodingCulture_KO")},{value:v,displayName:f=>f.get("Visual_MapGeocodingCulture_NL")},{value:m,displayName:f=>f.get("Visual_MapGeocodingCulture_PT")},{value:"ru",displayName:f=>f.get("Visual_MapGeocodingCulture_RU")},{value:C,displayName:f=>f.get("Visual_MapGeocodingCulture_ZHS")},{value:y,displayName:f=>f.get("Visual_MapGeocodingCulture_ZHT")}])},323205:function(ve,j,e){e.d(j,{d:function(){return a},o:function(){return i}});var r=e(56604),i=function(t){return t.inner="inner",t.innerHorizontal="innerHorizontal",t.innerVertical="innerVertical",t.all="all",t}({}),a=(0,r.i)([{value:i.all,displayName:t=>t.get("All"),icon:{glyph:"border-all"}},{value:i.inner,displayName:t=>t.get("Border_Grid_Line_Type_Inner"),icon:{glyph:"border-inside"}},{value:i.innerHorizontal,displayName:t=>t.get("Border_Grid_Line_Type_Inner_Horizontal"),icon:{glyph:"border-inside-horizontal"}},{value:i.innerVertical,displayName:t=>t.get("Border_Grid_Line_Type_Inner_Vertical"),icon:{glyph:"border-inside-vertical"}}])},265081:function(ve,j,e){e.d(j,{D:function(){return i}});var r=e(56604),i=function(t){return t.left="left",t.center="center",t.right="right",t}({});(0,r.i)([{value:i.left,displayName:t=>t.get("Visual_TextAlignment_Left")},{value:i.center,displayName:t=>t.get("Visual_TextAlignment_Center")},{value:i.right,displayName:t=>t.get("Visual_TextAlignment_Right")}])},9033:function(ve,j,e){e.d(j,{B2:function(){return g},F2:function(){return t},PG:function(){return i},aE:function(){return l},dt:function(){return n},t$:function(){return a}});var r=e(56604),i="custom",a="left",t="right",l="above",g="below",n=(0,r.i)([{value:i,displayName:p=>p.get("Custom")},{value:a,displayName:p=>p.get("Visual_IconPlacement_Left")},{value:t,displayName:p=>p.get("Visual_IconPlacement_Right")},{value:l,displayName:p=>p.get("Visual_IconPlacement_Above")},{value:g,displayName:p=>p.get("Visual_IconPlacement_Below")}])},405604:function(ve,j,e){e.d(j,{C:function(){return i},H:function(){return a}});var r=e(56604),i=function(t){return t.normal="Normal",t.fit="Fit",t.fill="Fill",t}({}),a=(0,r.i)([{value:i.normal,displayName:t=>t.get("Normal")},{value:i.fit,displayName:t=>t.get("Visual_ImageScalingType_Fit")},{value:i.fill,displayName:t=>t.get("Visual_ImageScalingType_Fill")}])},710817:function(ve,j,e){e.d(j,{_:function(){return i},j:function(){return a}});var r=e(56604),i=function(t){return t.image="image",t.imageUrl="imageUrl",t}({}),a=(0,r.i)([{value:i.image,displayName:t=>t.get("Image")},{value:i.imageUrl,displayName:t=>t.get("Image_Url")}])},411760:function(ve,j,e){e.d(j,{Mu:function(){return i},W2:function(){return a},dt:function(){return t}});var r=e(56604),i="keyInfluencers",a="topProfiles",t=(0,r.i)([{value:i,displayName:()=>"keyInfluencers"},{value:a,displayName:()=>"topProfiles"}])},514692:function(ve,j,e){e.d(j,{AG:function(){return i},Gf:function(){return a},dt:function(){return t}});var r=e(56604),i="absolute",a="relative",t=(0,r.i)([{value:i,displayName:l=>l.get("Visual_Absolute")},{value:a,displayName:l=>l.get("Visual_Relative")}])},369503:function(ve,j,e){e.d(j,{Pf:function(){return a},dt:function(){return t},us:function(){return i}});var r=e(56604),i="Continuous",a="Categorical",t=(0,r.i)([{value:i,displayName:l=>l.get("Visual_Axis_Scalar")},{value:a,displayName:l=>l.get("Visual_Axis_Categorical")}])},258996:function(ve,j,e){e.d(j,{QX:function(){return a},dt:function(){return t},ob:function(){return i}});var r=e(56604),i="impact",a="count",t=(0,r.i)([{value:i,displayName:l=>l.get("KeyDriver_SortType_Impact")},{value:a,displayName:l=>l.get("KeyDriver_SortType_Count")}])},946740:function(ve,j,e){e.d(j,{dt:function(){return t},i1:function(){return i},pd:function(){return a}});var r=e(56604),i="High is good",a="Low is good",t=(0,r.i)([{value:i,displayName:l=>l.get("Visual_KPI_DistanceDirection_Positive")},{value:a,displayName:l=>l.get("Visual_KPI_DistanceDirection_Negative")}])},984955:function(ve,j,e){e.d(j,{Hk:function(){return t},S3:function(){return i},aQ:function(){return a},dt:function(){return l}});var r=e(56604),i="Value",a="Percent",t="Value, percent",l=(0,r.i)([{value:i,displayName:g=>g.get("Visual_LabelText_Value")},{value:a,displayName:g=>g.get("ConditionalFormattingDialog_Percent")},{value:t,displayName:g=>g.get("Visual_LabelStyle_Both")}])},291078:function(ve,j,e){e.d(j,{dt:function(){return t},i1:function(){return i},pd:function(){return a}});var r=e(56604),i="Positive",a="Negative",t=(0,r.i)([{value:i,displayName:l=>l.get("Visual_KPI_Direction_Positive")},{value:a,displayName:l=>l.get("Visual_KPI_Direction_Negative")}])},246479:function(ve,j,e){e.d(j,{b:function(){return a},g:function(){return i}});var r=e(56604),i=function(t){return t.rows="rows",t.columns="columns",t}({}),a=(0,r.i)([{value:i.rows,displayName:t=>t.get("Small_Multiples_Layout_Rows")},{value:i.columns,displayName:t=>t.get("Small_Multiples_Layout_Columns")}])},519137:function(ve,j,e){e.d(j,{c:function(){return a},v:function(){return i}});var r=e(56604),i=function(t){return t.MultiLine="MultiLine",t.SingleLine="SingleLine",t}({}),a=(0,r.i)([{value:i.MultiLine,displayName:t=>t.get("Visual_LabelContentLayout_MultiLine")},{value:i.SingleLine,displayName:t=>t.get("Visual_LabelContentLayout_SingleLine")}])},584174:function(ve,j,e){e.d(j,{L:function(){return i},e:function(){return a}});var r=e(56604),i=function(t){return t.sentence="sentence",t.tabular="tabular",t}({}),a=(0,r.i)([{value:i.sentence,displayName:t=>t.get("Visual_LabelLayout_Sentence")},{value:i.tabular,displayName:t=>t.get("Visual_Tabular")}])},908976:function(ve,j,e){e.d(j,{Bk:function(){return i},jY:function(){return a},sg:function(){return t}});var r=e(56604),i=function(l){return l[l.Vertical=0]="Vertical",l[l.Horizontal=1]="Horizontal",l[l.Rotate90=2]="Rotate90",l[l.Stacked=3]="Stacked",l}({}),a=(0,r.i)([{value:i.Vertical,displayName:l=>l.get("Visual_Rotate270Degree")},{value:i.Horizontal,displayName:l=>l.get("Visual_LabelOrientation_Horizontal")},{value:i.Rotate90,displayName:l=>l.get("Visual_Rotate90Degree")},{value:i.Stacked,displayName:l=>l.get("Visual_RotateStacked")}]),t=(0,r.i)([{value:i.Vertical,displayName:l=>l.get("Visual_LabelOrientation_Vertical")},{value:i.Horizontal,displayName:l=>l.get("Visual_LabelOrientation_Horizontal")}])},534562:function(ve,j,e){e.d(j,{O:function(){return a},h:function(){return i}});var r=e(56604),i=function(t){return t.auto="Auto",t.insideEnd="InsideEnd",t.insideCenter="InsideCenter",t.outsideEnd="OutsideEnd",t.insideBase="InsideBase",t.above="Above",t.under="Under",t}({}),a=(0,r.i)([{value:i.auto,displayName:t=>t.get("Visual_Auto")},{value:i.insideEnd,displayName:t=>t.get("Visual_LabelPosition_InsideEnd")},{value:i.outsideEnd,displayName:t=>t.get("Visual_LabelPosition_OutsideEnd")},{value:i.insideCenter,displayName:t=>t.get("Visual_LabelPosition_InsideCenter")},{value:i.insideBase,displayName:t=>t.get("Visual_LabelPosition_InsideBase")},{value:i.above,displayName:t=>t.get("Visual_Reference_Line_Data_Label_Above")},{value:i.under,displayName:t=>t.get("Visual_Reference_Line_Data_Label_Under")}])},549915:function(ve,j,e){e.d(j,{B:function(){return a},M:function(){return i}});var r=e(56604),i=function(t){return t.left="Left",t.right="Right",t}({}),a=(0,r.i)([{value:i.left,displayName:t=>t.get("Visual_yAxis_Left")},{value:i.right,displayName:t=>t.get("Visual_yAxis_Right")}])},790443:function(ve,j,e){e.d(j,{W3:function(){return g},YK:function(){return l},_q:function(){return v},aQ:function(){return p},aT:function(){return n},dt:function(){return m},ev:function(){return d},f3:function(){return s},mA:function(){return i},nO:function(){return a},qv:function(){return o},tG:function(){return t}});var r=e(56604),i=2,a=4,t=8,l=function(c){return c[c.category=i]="category",c[c.data=a]="data",c[c.percent=t]="percent",c[c.categoryAndData=i|a]="categoryAndData",c[c.categoryAndPercent=i|t]="categoryAndPercent",c[c.dataAndPercent=a|t]="dataAndPercent",c[c.categoryAndDataAndPercent=i|a|t]="categoryAndDataAndPercent",c}({}),g="Category",n="Data",p="Percent of total",s="Both",d="Category, percent of total",o="Data value, percent of total",v="Category, data value, percent of total",m=(0,r.i)([{value:g,displayName:c=>c.get("Visual_LabelStyle_Category")},{value:n,displayName:c=>c.get("Visual_LabelStyle_DataValue")},{value:p,displayName:c=>c.get("Visual_LabelStyle_Percent")},{value:s,displayName:c=>c.get("Visual_LabelStyle_CategoryAndData")},{value:d,displayName:c=>c.get("Visual_LabelStyle_CategoryAndPercent")},{value:o,displayName:c=>c.get("Visual_LabelStyle_DataAndPercent")},{value:v,displayName:c=>c.get("Visual_LabelStyle_CategoryAndDataAndPercent")}])},431826:function(ve,j,e){e.d(j,{d:function(){return a},i:function(){return i}});var r=e(56604),i=function(t){return t.Cards="Cards",t.Table="Table",t}({}),a=(0,r.i)([{value:i.Cards,displayName:t=>t.get("Cards")},{value:i.Table,displayName:t=>t.get("Table_ToolTip")}])},501327:function(ve,j,e){e.d(j,{A:function(){return a},_:function(){return i}});var r=e(56604),i=function(t){return t.markerOnly="markerOnly",t.lineAndMarker="lineAndMarker",t.lineOnly="lineOnly",t.markerCircleDefault="markerCircleDefault",t}({}),a=(0,r.i)([{value:i.markerCircleDefault,displayName:t=>t.get("MarkerCircleDefault")},{value:i.markerOnly,displayName:t=>t.get("Marker")},{value:i.lineOnly,displayName:t=>t.get("Visual_Shape_Line")},{value:i.lineAndMarker,displayName:t=>t.get("Visual_LegendLineAndMarker")}])},74443:function(ve,j,e){e.d(j,{CX:function(){return l},FJ:function(){return a},Mz:function(){return n},PX:function(){return p},g4:function(){return g},tV:function(){return i},zw:function(){return t}});var r=e(56604),i=function(s){return s.Top="Top",s.Bottom="Bottom",s.Left="Left",s.Right="Right",s.TopCenter="TopCenter",s.BottomCenter="BottomCenter",s.LeftCenter="LeftCenter",s.RightCenter="RightCenter",s.TopRight="TopRight",s.BottomRight="BottomRight",s}({}),a=(0,r.i)([{value:i.Top,displayName:s=>s.get("Visual_LabelPosition_TopLeft")},{value:i.TopCenter,displayName:s=>s.get("Visual_LabelPosition_TopCenter")},{value:i.TopRight,displayName:s=>s.get("Visual_LabelPosition_TopRight")},{value:i.Left,displayName:s=>s.get("Visual_LegendPosition_TopLeftStacked")},{value:i.Right,displayName:s=>s.get("Visual_LegendPosition_TopRightStacked")},{value:i.LeftCenter,displayName:s=>s.get("Visual_LegendPosition_LeftCenter")},{value:i.RightCenter,displayName:s=>s.get("Visual_LegendPosition_RightCenter")},{value:i.Bottom,displayName:s=>s.get("Visual_LabelPosition_BottomLeft")},{value:i.BottomCenter,displayName:s=>s.get("Visual_LabelPosition_BottomCenter")},{value:i.BottomRight,displayName:s=>s.get("Visual_LabelPosition_BottomRight")}]),t=function(s){return s.top="Top",s.bottom="Bottom",s.left="Left",s.right="Right",s}({}),l=(0,r.i)([{value:t.left,displayName:s=>s.get("Visual_TextAlignment_Left")},{value:t.right,displayName:s=>s.get("Visual_TextAlignment_Right")},{value:t.bottom,displayName:s=>s.get("Bottom")},{value:t.top,displayName:s=>s.get("Top")}]),g=(0,r.i)([{value:t.left,displayName:s=>s.get("Visual_IconPlacement_Left")},{value:t.right,displayName:s=>s.get("Visual_IconPlacement_Right")},{value:t.bottom,displayName:s=>s.get("Visual_IconPlacement_Below")},{value:t.top,displayName:s=>s.get("Visual_IconPlacement_Above")}]),n=function(s){return s.top="Top",s.bottom="Bottom",s.left="Left",s.right="Right",s}({}),p=(0,r.i)([{value:n.left,displayName:s=>s.get("Visual_TextAlignment_Left")},{value:n.top,displayName:s=>s.get("Top")},{value:t.right,displayName:s=>s.get("Visual_TextAlignment_Right")},{value:t.bottom,displayName:s=>s.get("Bottom")}])},828087:function(ve,j,e){e.d(j,{CO:function(){return a},Fu:function(){return i},_U:function(){return g},cZ:function(){return n},oI:function(){return l},rv:function(){return t}});var r=e(56604),i=function(p){return p.linear="linear",p.step="step",p.smooth="smooth",p}({}),a=(0,r.i)([{value:i.linear,displayName:p=>p.get("Visual_Axis_Linear")},{value:i.smooth,displayName:p=>p.get("Visual_SmoothLine")},{value:i.step,displayName:p=>p.get("Visual_StepLine")}]),t=function(p){return p.center="center",p.before="before",p.after="after",p}({}),l=(0,r.i)([{value:t.before,displayName:p=>p.get("Visual_Before")},{value:t.center,displayName:p=>p.get("Visual_Gradient_MidColor")},{value:t.after,displayName:p=>p.get("Visual_After")}]),g=function(p){return p.monotoneX="monotoneX",p.cardinal="cardinal",p}({}),n=(0,r.i)([{value:g.monotoneX,displayName:p=>p.get("Visual_LineInterp_Monotone")},{value:g.cardinal,displayName:p=>p.get("Visual_LineInterp_Cardinal")}])},55017:function(ve,j,e){e.d(j,{C:function(){return i},i:function(){return a}});var r=e(56604),i=function(t){return t.Flat="flat",t.Round="round",t}({}),a=(0,r.i)([{value:i.Flat,displayName:t=>t.get("Visual_StrokeCap_Flat")},{value:i.Round,displayName:t=>t.get("Visual_StrokeLineJoin_Round")}])},124374:function(ve,j,e){e.d(j,{Dl:function(){return i},Yu:function(){return a},v6:function(){return t}});var r=e(56604),i=function(l){return l.magnitude="magnitude",l.dataRange="dataRange",l.auto="auto",l.deprecated="scatterDeprecated",l}({}),a=[{value:i.magnitude,displayName:l=>l.get("Visual_MarkerRangeType_Magnitude")},{value:i.dataRange,displayName:l=>l.get("Visual_MarkerRangeType_DataRange")},{value:i.auto,displayName:l=>l.get("Visual_Auto")}],t=(0,r.i)(a)},538451:function(ve,j,e){e.d(j,{Cd:function(){return n},Dt:function(){return p},XM:function(){return s},ZO:function(){return l},ls:function(){return d},nD:function(){return i},nK:function(){return g}});var r=e(56604),i=function(o){return o.circle="circle",o.square="square",o.diamond="diamond",o.triangle="triangle",o.droplet="droplet",o}({}),a=function(o){return o.x="x",o.shortDash="shortDash",o.longDash="longDash",o.plus="plus",o}({}),t=function(o){return o.upperErrorBar="upperErrorBar",o.lowerErrorBar="lowerErrorBar",o}({}),l={...i,...a,...t};function g(o){switch(o){case l.circle:case l.square:case l.diamond:case l.triangle:case l.droplet:return!0;default:return!1}}function n(o){return o!==l.circle}var p=[{value:l.circle,displayName:o=>o.get("Visual_MarkerShape_Circle"),label:o=>o.get("Visual_MarkerShape_Circle_Label")},{value:l.square,displayName:o=>o.get("Visual_MarkerShape_Square"),label:o=>o.get("Visual_MarkerShape_Square_Label")},{value:l.diamond,displayName:o=>o.get("Visual_MarkerShape_Diamond"),label:o=>o.get("Visual_MarkerShape_Diamond_Label")},{value:l.triangle,displayName:o=>o.get("Visual_MarkerShape_Triangle"),label:o=>o.get("Visual_MarkerShape_Triangle_Label")},{value:l.x,displayName:o=>o.get("Visual_MarkerShape_X"),label:o=>o.get("Visual_MarkerShape_X_Label")},{value:l.shortDash,displayName:o=>o.get("Visual_MarkerShape_ShortDash"),label:o=>o.get("Visual_MarkerShape_ShortDash_Label")},{value:l.longDash,displayName:o=>o.get("Visual_MarkerShape_LongDash"),label:o=>o.get("Visual_MarkerShape_LongDash_Label")},{value:l.plus,displayName:o=>o.get("Visual_MarkerShape_Plus"),label:o=>o.get("Visual_MarkerShape_Plus_Label")}],s=(0,r.i)([{value:l.circle,displayName:o=>o.get("Visual_MarkerShape_Circle"),label:o=>o.get("Visual_MarkerShape_Circle_Label")},{value:l.square,displayName:o=>o.get("Visual_MarkerShape_Square"),label:o=>o.get("Visual_MarkerShape_Square_Label")},{value:l.diamond,displayName:o=>o.get("Visual_MarkerShape_Diamond"),label:o=>o.get("Visual_MarkerShape_Diamond_Label")},{value:l.triangle,displayName:o=>o.get("Visual_MarkerShape_Triangle"),label:o=>o.get("Visual_MarkerShape_Triangle_Label")},{value:l.droplet,displayName:o=>o.get("Visual_MarkerShape_Droplet")}]),d=(0,r.i)(p)},144537:function(ve,j,e){e.d(j,{Bz:function(){return i},SO:function(){return t},oh:function(){return a}});var r=e(56604),i=function(l){return l[l.Grid=0]="Grid",l[l.Vertical=1]="Vertical",l[l.Horizontal=2]="Horizontal",l}({}),a=(0,r.i)([{value:i.Grid,displayName:l=>l.get("Visual_Grid")},{value:i.Vertical,displayName:l=>l.get("Slicer_Orientation_Vertical")},{value:i.Horizontal,displayName:l=>l.get("Slicer_Orientation_Horizontal")}]),t=(0,r.i)([{value:i.Vertical,displayName:l=>l.get("Visual_Arrangement_Column")},{value:i.Horizontal,displayName:l=>l.get("Visual_Arrangement_Row")},{value:i.Grid,displayName:l=>l.get("Visual_Grid")}])},41394:function(ve,j,e){e.d(j,{$m:function(){return i},BK:function(){return v},LI:function(){return g},Ob:function(){return C},RH:function(){return n},Wi:function(){return d},YP:function(){return a},b_:function(){return p},dt:function(){return y},fs:function(){return c},j0:function(){return l},mv:function(){return m},v3:function(){return s},wI:function(){return t},yo:function(){return o}});var r=e(56604),i=function(S){return S[S.Nil=0]="Nil",S[S.Top=1]="Top",S[S.Right=2]="Right",S[S.Bottom=4]="Bottom",S[S.Left=8]="Left",S}({}),a="None",t="BottomOnly",l="TopOnly",g="LeftOnly",n="RightOnly",p="TopBottom",s="LeftRight",d="Frame";function o(S){return"number"==typeof S?!!(S&i.Top):[l,p,d].some(h=>h===S)}function v(S){return"number"==typeof S?!!(S&i.Right):[n,s,d].some(h=>h===S)}function m(S){return"number"==typeof S?!!(S&i.Bottom):[t,p,d].some(h=>h===S)}function c(S){return"number"==typeof S?!!(S&i.Left):[g,s,d].some(h=>h===S)}var C=(0,r.i)([{value:i.Top,displayName:S=>S.get("Top")},{value:i.Bottom,displayName:S=>S.get("Bottom")},{value:i.Left,displayName:S=>S.get("Visual_TextAlignment_Left")},{value:i.Right,displayName:S=>S.get("Visual_TextAlignment_Right")}]),y=(0,r.i)([{value:a,displayName:S=>S.get("None")},{value:t,displayName:S=>S.get("Visual_Outline_bottom_only")},{value:l,displayName:S=>S.get("Visual_Outline_top_only")},{value:g,displayName:S=>S.get("Visual_Outline_LeftOnly")},{value:n,displayName:S=>S.get("Visual_Outline_RightOnly")},{value:p,displayName:S=>S.get("Visual_Outline_top_Bottom")},{value:s,displayName:S=>S.get("Visual_Outline_leftRight")},{value:d,displayName:S=>S.get("Visual_Outline_frame")}])},261272:function(ve,j,e){e.d(j,{d:function(){return a},m:function(){return i}});var r=e(56604),i=function(t){return t[t.Vertical=0]="Vertical",t[t.Horizontal=1]="Horizontal",t}({}),a=(0,r.i)([{value:i.Vertical,displayName:t=>t.get("Slicer_Orientation_Vertical")},{value:i.Horizontal,displayName:t=>t.get("Slicer_Orientation_Horizontal")}])},863704:function(ve,j,e){e.d(j,{a:function(){return i},d:function(){return a}});var r=e(56604),i=function(t){return t[t.Paginated=0]="Paginated",t[t.Scroll=1]="Scroll",t}({}),a=(0,r.i)([{value:i.Paginated,displayName:t=>t.get("Visual_Paginated")},{value:i.Scroll,displayName:t=>t.get("Visual_Scroll")}])},394564:function(ve,j,e){e.d(j,{EY:function(){return i},Ln:function(){return t},PG:function(){return l},YP:function(){return p},cO:function(){return n},dt:function(){return s},mJ:function(){return a},uz:function(){return g}});var r=e(56604),i="Wide",a="Normal",t="Narrow",l="Custom",g=6,n=12,p=20,s=(0,r.i)([{value:i,displayName:d=>d.get("Wide")},{value:a,displayName:d=>d.get("Normal")},{value:t,displayName:d=>d.get("Narrow")},{value:l,displayName:d=>d.get("Custom")}])},288497:function(ve,j,e){e.d(j,{e:function(){return a},t:function(){return i}});var r=e(56604),i=function(t){return t.Compact="Compact",t.Outline="Outline",t.Tabular="Tabular",t}({}),a=(0,r.i)([{value:i.Compact,displayName:t=>t.get("Visual_Compact")},{value:i.Outline,displayName:t=>t.get("Visual_Outline")},{value:i.Tabular,displayName:t=>t.get("Visual_Tabular")}])},576255:function(ve,j,e){e.d(j,{Q:function(){return i},_:function(){return a}});var r=e(56604),i=function(t){return t.value="Value",t.name="Name",t.nameAndValue="ValueAndName",t}({}),a=(0,r.i)([{value:i.value,displayName:t=>t.get("Visual_LabelStyle_DataValue")},{value:i.name,displayName:t=>t.get("Name")},{value:i.nameAndValue,displayName:t=>t.get("Visual_LabelStyle_Both")}])},966740:function(ve,j,e){e.d(j,{VH:function(){return g},Xw:function(){return s},a6:function(){return i},ae:function(){return n},bM:function(){return t},dl:function(){return a},gY:function(){return l},wt:function(){return p}});var r=e(56604),i=function(d){return d.back="back",d.front="front",d}({}),a=function(d){return d.left="left",d.right="right",d}({}),t=function(d){return d.above="above",d.under="under",d}({}),l=function(d){return d.before="before",d.after="after",d.none="none",d}({}),g=(0,r.i)([{value:i.back,displayName:d=>d.get("Visual_Reference_Line_Behind")},{value:i.front,displayName:d=>d.get("Visual_Reference_Line_InFront")}]),n=(0,r.i)([{value:a.left,displayName:d=>d.get("Visual_Reference_Line_Data_Label_Left")},{value:a.right,displayName:d=>d.get("Visual_Reference_Line_Data_Label_Right")}]),p=(0,r.i)([{value:t.above,displayName:d=>d.get("Visual_Reference_Line_Data_Label_Above")},{value:t.under,displayName:d=>d.get("Visual_Reference_Line_Data_Label_Under")}]),s=(0,r.i)([{value:l.before,displayName:d=>d.get("Visual_Before")},{value:l.after,displayName:d=>d.get("Visual_After")},{value:l.none,displayName:d=>d.get("None")}])},947386:function(ve,j,e){e.d(j,{$G:function(){return c},BB:function(){return E},GA:function(){return C},J6:function(){return S},LK:function(){return g},P4:function(){return s},PN:function(){return h},YP:function(){return t},_k:function(){return y},an:function(){return p},e7:function(){return o},gQ:function(){return m},i4:function(){return n},ks:function(){return v},qQ:function(){return d}});var r=e(650543),i=e(271792),a=e(56604),t="None",l="Seconds",g="Minutes",n="Hours",p="Days",s="Weeks",d="Calendar Weeks",o="Months",v="Calendar Months",m="Years",c="Calendar Years",C=(0,a.i)([{value:t,displayName:u=>u.get("Select")},{value:p,displayName:u=>u.get("TimeUnit_Days")},{value:s,displayName:u=>u.get("TimeUnit_Weeks")},{value:d,displayName:u=>u.get("Visual_SlicerPeriod_CalWeeks")},{value:o,displayName:u=>u.get("TimeUnit_Months")},{value:v,displayName:u=>u.get("Visual_SlicerPeriod_CalMonths")},{value:m,displayName:u=>u.get("TimeUnit_Years")},{value:c,displayName:u=>u.get("Visual_SlicerPeriod_CalYears")}]),y=(0,a.i)([{value:t,displayName:u=>u.get("Select")},{value:g,displayName:u=>u.get("TimeUnit_Minutes")},{value:n,displayName:u=>u.get("TimeUnit_Hours")}]),S=(0,a.i)([{value:t,displayName:u=>u.get("Select")},{value:p,displayName:u=>u.get("TimeUnit_Day")},{value:s,displayName:u=>u.get("TimeUnit_Week")},{value:o,displayName:u=>u.get("TimeUnit_Month")},{value:m,displayName:u=>u.get("TimeUnit_Year")}]),h=(0,a.i)([{value:t,displayName:u=>u.get("Select")},{value:g,displayName:u=>u.get("TimeUnit_Minute")},{value:n,displayName:u=>u.get("TimeUnit_Hour")}]);function E(u){if(null==u)return null;switch(u){case i.hU.Second:return l;case i.hU.Minute:return g;case i.hU.Hour:return n;case i.hU.Day:return p;case i.hU.Week:return s;case i.hU.CalendarWeek:return d;case i.hU.Month:return o;case i.hU.CalendarMonth:return v;case i.hU.Year:return m;case i.hU.CalendarYear:return c;default:return void r.f.assertNever(u)}}},817525:function(ve,j,e){e.d(j,{BB:function(){return p},Vk:function(){return g},Z$:function(){return t},dt:function(){return n},lp:function(){return l}});var r=e(650543),i=e(271792),a=e(56604),t="Last",l="Next",g="This",n=(0,a.i)([{value:t,displayName:s=>s.get("Visual_SlicerRange_Last")},{value:l,displayName:s=>s.get("Visual_SlicerRange_Next")},{value:g,displayName:s=>s.get("Visual_SlicerRange_This")}]);function p(s){if(null==s)return null;switch(s){case i.KO.Last:return t;case i.KO.Current:return g;case i.KO.Next:return l;default:return void r.f.assertNever(s)}}},613384:function(ve,j,e){e.d(j,{I:function(){return a},dt:function(){return t},we:function(){return i}});var r=e(56604),i="Top",a="Bottom",t=(0,r.i)([{value:i,displayName:l=>l.get("Top")},{value:a,displayName:l=>l.get("Bottom")}])},75176:function(ve,j,e){e.d(j,{Lu:function(){return p},S3:function(){return l},W3:function(){return i},ac:function(){return a},dt:function(){return d},hD:function(){return n},jH:function(){return t},rU:function(){return g},s6:function(){return s}});var r=e(56604),i="Category",a="Series",t="Tooltips",l="Value",g="albersUsa",n="equirectangular",p="mercator",s="orthographic",d=(0,r.i)([{value:g,displayName:o=>o.get("Visual_ShapeMap_Projection_AlbersUsa")},{value:n,displayName:o=>o.get("Visual_ShapeMap_Projection_Equirectangular")},{value:p,displayName:o=>o.get("Visual_ShapeMap_Projection_Mercator")},{value:s,displayName:o=>o.get("Visual_ShapeMap_Projection_Orthographic")}])},371337:function(ve,j,e){e.d(j,{d:function(){return a},m:function(){return i}});var r=e(56604),i=function(t){return t.AccentBar="accentBar",t.Arrow="arrow",t.ArrowChevron="arrowChevron",t.ArrowPentagon="arrowPentagon",t.Heart="heart",t.Hexagon="hexagon",t.Line="line",t.Octagon="octagon",t.Oval="oval",t.Parallelogram="parallelogram",t.Pentagon="pentagon",t.Pill="pill",t.Rectangle="rectangle",t.RectangleRounded="rectangleRounded",t.RectangleRoundedByPixel="rectangleRoundedByPixel",t.TabCutCorner="tabCutCorner",t.TabCutTopCorners="tabCutTopCorners",t.TabCutTopCornersByPixel="tabCutTopCornersByPixel",t.TabRoundCorner="tabRoundCorner",t.TabRoundTopCorners="tabRoundTopCorners",t.Speechbubble="speechbubbleRectangle",t.Trapezoid="trapezoid",t.TriangleIsoc="triangleIsoc",t.TriangleRight="triangleRight",t}({}),a=(0,r.i)([{value:i.Arrow,displayName:t=>t.get("ReportAppBar_ShapeArrow")},{value:i.ArrowChevron,displayName:t=>t.get("Visual_Shape_ArrowChevron")},{value:i.ArrowPentagon,displayName:t=>t.get("Visual_Shape_ArrowPentagon")},{value:i.Heart,displayName:t=>t.get("Visual_Shape_Heart")},{value:i.Hexagon,displayName:t=>t.get("Visual_Shape_Hexagon")},{value:i.Line,displayName:t=>t.get("Visual_Shape_Line")},{value:i.Octagon,displayName:t=>t.get("Visual_Shape_Octagon")},{value:i.Oval,displayName:t=>t.get("ReportAppBar_ShapeOval")},{value:i.Parallelogram,displayName:t=>t.get("Visual_Shape_Parallelogram")},{value:i.Pentagon,displayName:t=>t.get("Visual_Shape_Pentagon")},{value:i.Pill,displayName:t=>t.get("Visual_Shape_Pill")},{value:i.Rectangle,displayName:t=>t.get("ReportAppBar_ShapeRectangle")},{value:i.RectangleRounded,displayName:t=>t.get("Visual_Shape_RectangleRounded")},{value:i.RectangleRoundedByPixel,displayName:t=>t.get("Visual_Shape_RectangleRounded")},{value:i.TabCutCorner,displayName:t=>t.get("Visual_Shape_TabCutCorner")},{value:i.TabCutTopCorners,displayName:t=>t.get("Visual_Shape_TabCutTopCorners")},{value:i.TabCutTopCornersByPixel,displayName:t=>t.get("Visual_Shape_TabCutTopCorners")},{value:i.TabRoundCorner,displayName:t=>t.get("Visual_Shape_TabRoundCorner")},{value:i.TabRoundTopCorners,displayName:t=>t.get("Visual_Shape_TabRoundTopCorners")},{value:i.Speechbubble,displayName:t=>t.get("Visual_Shape_SpeechBubble")},{value:i.Trapezoid,displayName:t=>t.get("Visual_Shape_Trapezoid")},{value:i.TriangleIsoc,displayName:t=>t.get("Visual_Shape_TriangleIsoc")},{value:i.TriangleRight,displayName:t=>t.get("Visual_Shape_TriangleRight")}])},875553:function(ve,j,e){e.d(j,{H:function(){return i},d:function(){return a}});var r=e(56604),i=function(t){return t[t.Chevron=0]="Chevron",t[t.PlusMinus=1]="PlusMinus",t[t.Caret=2]="Caret",t}({}),a=(0,r.i)([{value:i.Chevron,displayName:t=>t.get("Icon_Chevron")},{value:i.PlusMinus,displayName:t=>t.get("Icon_PlusMinus")},{value:i.Caret,displayName:t=>t.get("Icon_Caret")}])},316517:function(ve,j,e){e.d(j,{Cp:function(){return E},Ek:function(){return h},G5:function(){return S},GV:function(){return o},Ih:function(){return m},K8:function(){return s},Lw:function(){return y},RB:function(){return n},Zr:function(){return d},bb:function(){return t},dt:function(){return c},e4:function(){return l},j6:function(){return p},l6:function(){return C},nW:function(){return u},of:function(){return v},vX:function(){return g}});var r=e(650543),i=e(271792),a=e(56604),t="Before",l="After",g="Between",n="Basic",p="Dropdown",s="Relative",d="Single",o="RelativeTime",v="HorizontalList",m="VerticalList",c=(0,a.i)([{value:m,displayName:f=>f.get("Visual_SliderMode_VerticalList")},{value:v,displayName:f=>f.get("Tile_Generic")},{value:g,displayName:f=>f.get("Visual_SliderMode_Between")},{value:t,displayName:f=>f.get("Visual_Before")},{value:l,displayName:f=>f.get("Visual_After")},{value:n,displayName:f=>f.get("Visual_SliderMode_Basic")},{value:p,displayName:f=>f.get("Visual_SliderMode_Dropdown")},{value:s,displayName:f=>f.get("Visual_SliderMode_RelativeDate")},{value:d,displayName:f=>f.get("Visual_SliderMode_SingleVal")},{value:o,displayName:f=>f.get("Visual_SliderMode_RelativeTime")}]);function C(f){return f===t||f===g||f===l||f===d}function y(f){return f===t||f===g||f===l}function S(f){return f===s||f===o}function h(f){return f===n||f===p}function E(f){return!f||f===p||f===n||f===v||f===m}function u(f){switch(f){case o:return i.wj.Time;case s:return i.wj.Date;default:r.f.assertFail(`The following slicer mode is not a relative filter: ${f}`)}}},236785:function(ve,j,e){e.d(j,{d:function(){return a},i:function(){return i}});var r=e(56604),i=function(t){return t[t.Vertical=0]="Vertical",t[t.Horizontal=1]="Horizontal",t}({}),a=(0,r.i)([{value:i.Vertical,displayName:t=>t.get("Slicer_Orientation_Vertical")},{value:i.Horizontal,displayName:t=>t.get("Slicer_Orientation_Horizontal")}])},55778:function(ve,j,e){e.d(j,{h:function(){return a},r:function(){return i}});var r=e(56604),i=function(t){return t.auto="auto",t.custom="custom",t}({}),a=(0,r.i)([{value:i.auto,displayName:t=>t.get("Visual_Auto")},{value:i.custom,displayName:t=>t.get("Custom")}])},109471:function(ve,j,e){e.d(j,{O:function(){return a},U:function(){return i}});var r=e(56604),i=function(t){return t.line="line",t.column="column",t}({}),a=(0,r.i)([{value:i.line,displayName:t=>t.get("Visual_Shape_Line")},{value:i.column,displayName:t=>t.get("Column")}])},641702:function(ve,j,e){e.d(j,{V:function(){return i},_:function(){return a}});var r=e(56604),i=function(t){return t[t.all=1]="all",t[t.highest=2]="highest",t[t.lowest=4]="lowest",t[t.first=8]="first",t[t.last=16]="last",t[t.negative=32]="negative",t[t.isolated=128]="isolated",t}({}),a=(0,r.i)([{value:i.all,displayName:t=>t.get("Sparkline_Formatting_MarkerType_All")},{value:i.highest,displayName:t=>t.get("Sparkline_Formatting_MarkerType_Highest")},{value:i.lowest,displayName:t=>t.get("Sparkline_Formatting_MarkerType_Lowest")},{value:i.first,displayName:t=>t.get("Sparkline_Formatting_MarkerType_First")},{value:i.last,displayName:t=>t.get("Sparkline_Formatting_MarkerType_Last")},{value:i.negative,displayName:t=>t.get("Sparkline_Formatting_MarkerType_Negative")},{value:i.isolated,displayName:t=>t.get("Sparkline_Formatting_MarkerType_Isolated")}])},710522:function(ve,j,e){e.d(j,{Ai:function(){return t},GA:function(){return s},K2:function(){return g},R5:function(){return i},TB:function(){return a},UQ:function(){return l},dt:function(){return d},mH:function(){return p},tY:function(){return n}});var r=e(56604),i="bottomLeft",a="bottomRight",t="rightDown",l="rightUp",g="topRight",n="topLeft",p="leftUp",s="leftDown",d=(0,r.i)([{value:i,displayName:o=>o.get("Visual_LabelPosition_BottomLeft")},{value:a,displayName:o=>o.get("Visual_LabelPosition_BottomRight")},{value:t,displayName:o=>o.get("Visual_Shape_ChatPosition_RightDown")},{value:l,displayName:o=>o.get("Visual_Shape_ChatPosition_RightUp")},{value:g,displayName:o=>o.get("Visual_LabelPosition_TopRight")},{value:n,displayName:o=>o.get("Visual_LabelPosition_TopLeft")},{value:p,displayName:o=>o.get("Visual_Shape_ChatPosition_LeftUp")},{value:s,displayName:o=>o.get("Visual_Shape_ChatPosition_LeftDown")}])},941745:function(ve,j,e){e.d(j,{Bo:function(){return n},G:function(){return g},M4:function(){return a},S$:function(){return C},S9:function(){return l},Ss:function(){return s},Wl:function(){return v},X9:function(){return m},Xl:function(){return d},dt:function(){return y},ei:function(){return o},fC:function(){return i},p8:function(){return t},r5:function(){return c},sp:function(){return p}});var r=e(56604),i="australia.states.topo",a="austria.states.topo",t="brazil.states.topo",l="canada.provinces.topo",g="france.regions.v2.topo",n="germany.states.topo",p="ireland.counties.v2.topo",s="italy.regions.topo",d="mexico.states.topo",o="netherlands.provinces.topo",v="uk.countries.topo",m="usa.states.topo",c="france.regions.topo",C="ireland.counties.topo",y=(0,r.i)([{value:i,displayName:S=>S.get("Visual_ShapeMap_StandardMaps_AustraliaStates")},{value:a,displayName:S=>S.get("Visual_ShapeMap_StandardMaps_AustriaStates")},{value:t,displayName:S=>S.get("Visual_ShapeMap_StandardMaps_BrazilStates")},{value:l,displayName:S=>S.get("Visual_ShapeMap_StandardMaps_CanadaProvinces")},{value:g,displayName:S=>S.get("Visual_ShapeMap_StandardMaps_FranceRegions")},{value:c,displayName:S=>S.get("Visual_ShapeMap_StandardMaps_FranceRegionsOld")},{value:n,displayName:S=>S.get("Visual_ShapeMap_StandardMaps_GermanyStates")},{value:p,displayName:S=>S.get("Visual_ShapeMap_StandardMaps_IrelandCounties")},{value:C,displayName:S=>S.get("Visual_ShapeMap_StandardMaps_IrelandCountiesOld")},{value:s,displayName:S=>S.get("Visual_ShapeMap_StandardMaps_ItalyRegions")},{value:d,displayName:S=>S.get("Visual_ShapeMap_StandardMaps_MexicoStates")},{value:o,displayName:S=>S.get("Visual_ShapeMap_StandardMaps_NetherlandsProvinces")},{value:v,displayName:S=>S.get("Visual_ShapeMap_StandardMaps_UkCountries")},{value:m,displayName:S=>S.get("Visual_ShapeMap_StandardMaps_UsaStates")}])},464464:function(ve,j,e){e.d(j,{A:function(){return a},t:function(){return i}});var r=e(56604),i=function(t){return t.miter="miter",t.round="round",t.bevel="bevel",t}({}),a=(0,r.i)([{value:i.miter,displayName:t=>t.get("Visual_StrokeLineJoin_Miter")},{value:i.round,displayName:t=>t.get("Visual_StrokeLineJoin_Round")},{value:i.bevel,displayName:t=>t.get("Visual_StrokeLineJoin_Bevel")}])},2065:function(ve,j,e){e.d(j,{Dd:function(){return p},Dv:function(){return a},YU:function(){return s},kY:function(){return i},qH:function(){return n},sb:function(){return g},xm:function(){return d},yV:function(){return l}});var r=e(56604),i=function(o){return o.dashed="dashed",o.solid="solid",o.dotted="dotted",o}({}),a=function(o){return o.dashed="dashed",o.solid="solid",o.dotted="dotted",o.custom="custom",o}({}),t={[a.solid]:"Visual_LineStyle_Solid",[a.dashed]:"Visual_LineStyle_Dashed",[a.dotted]:"Visual_LineStyle_Dotted",[a.custom]:"Custom"},l=(0,r.i)([{value:i.solid,displayName:o=>o.get(t.solid)},{value:i.dashed,displayName:o=>o.get(t.dashed)},{value:i.dotted,displayName:o=>o.get(t.dotted)}]),g=(0,r.i)([{value:a.solid,displayName:o=>o.get(t.solid)},{value:a.dashed,displayName:o=>o.get(t.dashed)},{value:a.dotted,displayName:o=>o.get(t.dotted)},{value:a.custom,displayName:o=>o.get(t.custom)}]),n=function(o){return o.none="none",o.round="round",o.square="square",o}({}),p=(0,r.i)([{value:n.none,displayName:o=>o.get("Visual_StrokeCap_Flat")},{value:n.round,displayName:o=>o.get("Visual_StrokeLineJoin_Round")},{value:n.square,displayName:o=>o.get("Visual_StrokeCap_Square")}]),s="5 5 0 5",d=n.round},469768:function(ve,j,e){e.d(j,{H:function(){return i},K:function(){return a}});var r=e(56604),i=function(t){return t.auto="Auto",t.left="Left",t.center="Center",t.right="Right",t}({}),a=(0,r.i)([{value:i.auto,displayName:t=>t.get("Visual_TextAlignment_Auto")},{value:i.left,displayName:t=>t.get("Visual_TextAlignment_Left")},{value:i.center,displayName:t=>t.get("Visual_TextAlignment_Center")},{value:i.right,displayName:t=>t.get("Visual_TextAlignment_Right")}])},41534:function(ve,j,e){e.d(j,{A:function(){return i},D:function(){return a}});var r=e(56604),i=function(t){return t.SeriesName="Series name",t.Custom="Custom",t}({}),a=(0,r.i)([{value:i.SeriesName,displayName:t=>t.get("Visual_Label_TitleLabelContent_SeriesName")},{value:i.Custom,displayName:t=>t.get("Custom")}])},875793:function(ve,j,e){e.d(j,{VX:function(){return t},cm:function(){return a},cy:function(){return l}});var r=e(56604),i=e(650543),a=function(n){return n.Normal="Normal",n.Heading2="Heading2",n.Heading3="Heading3",n.Heading4="Heading4",n.Heading5="Heading5",n.Heading6="Heading6",n}({}),t=(0,r.i)([{value:a.Normal,displayName:n=>n.get("Normal")},{value:a.Heading2,displayName:n=>n.get("Heading_2")},{value:a.Heading3,displayName:n=>n.get("Heading_3")},{value:a.Heading4,displayName:n=>n.get("Heading_4")},{value:a.Heading5,displayName:n=>n.get("Heading_5")},{value:a.Heading6,displayName:n=>n.get("Heading_6")}]);function l(n){switch(n){case a.Normal:return"p";case a.Heading2:return"h2";case a.Heading3:return"h3";case a.Heading4:return"h4";case a.Heading5:return"h5";case a.Heading6:return"h6";default:return i.f.assertNever(n),"p"}}},850921:function(ve,j,e){e.d(j,{_:function(){return a},o:function(){return i}});var r=e(56604),i=function(t){return t.resquarify="stableSquarified",t.squarify="squarified",t.binary="binary",t.alternating="alternating",t.alternating2="alternating2",t}({}),a=(0,r.i)([{value:i.resquarify,displayName:t=>t.get("Visual_Treemap_TilingMethod_Squarified")},{value:i.binary,displayName:t=>t.get("Visual_Treemap_TilingMethod_Binary")},{value:i.alternating,displayName:t=>t.get("Visual_Treemap_TilingMethod_Alternating")}])},230711:function(ve,j,e){e.d(j,{Q4:function(){return i},bZ:function(){return t},cL:function(){return a}});var r=e(56604),i=function(l){return l.top="top",l.middle="middle",l.bottom="bottom",l}({}),a=function(l){return l.top="top",l.bottom="bottom",l}({}),t=(0,r.i)([{value:a.top,displayName:l=>l.get("Top")},{value:a.bottom,displayName:l=>l.get("Bottom")}])},707238:function(ve,j,e){e.d(j,{V:function(){return i},z:function(){return r}});var r=(()=>{class a{get code(){return a.code}getMessages(l){return{message:l.get("Visual_Error_SelectionNotShownMessage"),title:l.get("Visual_Error_SelectionNotShownKey"),detail:l.get("Visual_Error_SelectionNotShownValue")}}}return a.code="OnRestoreSelectionNotSupportedWarning",a})();class i{constructor(t,l,g){this.titleKey=l,this.detailKey=g,this._code=t}get code(){return this._code}getMessages(t){return{message:this.titleKey,title:this.titleKey,detail:this.detailKey}}}},807422:function(ve,j,e){e.d(j,{Aa4:function(){return cr},BQZ:function(){return ii},BzC:function(){return Ka},FPM:function(){return pa},Fjb:function(){return Ke},GHz:function(){return xa},Go5:function(){return Na},HnK:function(){return za},Iqw:function(){return Qa},KFx:function(){return Pa},LtN:function(){return Ti},MSF:function(){return Ua},NKh:function(){return Da},NSv:function(){return Ha},P32:function(){return Ca},Rm8:function(){return we},Trq:function(){return Fa},WDM:function(){return La},_gT:function(){return Ae},dzr:function(){return Oa},eqJ:function(){return ri},fm1:function(){return y},gvl:function(){return Ar},j$j:function(){return gi},jbo:function(){return _i},k4V:function(){return Ga},oiJ:function(){return bi},pn4:function(){return $a},rbA:function(){return Xa},rte:function(){return yi},ueG:function(){return Aa},uyb:function(){return Ra},vXN:function(){return Ea},voY:function(){return mi},xMU:function(){return Ct},xaj:function(){return Si},yGN:function(){return vi},ySc:function(){return Ba}});var r=e(110159),y="me",Ct="Report",Ke="Dashboard",Ae="NavModel",we="3621b8c8-250a-4f7f-82f0-0aa5064e7c02",za="; ",xa="browserLanguage",Ra=function(ni){return ni.EntityAlreadyExists="PowerBIEntityAlreadyExists",ni.QuotaExceeded="PromotedContentQuotaExceeded",ni}({}),Da="PowerBIUserQuotaExceeded",Ka="PowerBIGroupQuotaExceeded",Oa=5,Ga=260,Ca="OverwriteNonLocalPackageWithLocalFileError",Ha="InformationProtectionInsufficientUsageRights",Ea="ReportWithDisplayNameForTheModelExists",Qa="MoreThanOneDuplicateReportFoundError",Ba="ReplaceOriginalReportForPowerBICompanionNotSupported",Xa="PowerBIModelNotFoundException",Pa="MipClientNoPolicy",$a="MipClientUnauthorizedUser",La="MissingMandatorySensitivityLabelException",Aa="ModelDiagramLayoutSizeTooBig",Ar={type:r.u.Global,name:"updateUrlAndAcquireApp"},Na="dismissed",Fa="clicked",pa=9e6,Ua=216e5,ri="https://go.microsoft.com/fwlink/?linkid=844603",ii="pbi-glyph-my-apps",cr="pbi-glyph-gauge",vi="pbi-glyph-barchart",Ti="pbi-glyph-rdl-report",mi="pbi-glyph-database",gi="pbi-glyph-collections",yi="pbi-glyph-rocket",_i="pbi-glyph-trophy2",Si=200,bi={InformationProtectionPublishingProtectedPbixFromCloudNotSupported:{errorMessage:"EimInformationProtection_PublishingProtectedPbixIsNotSupportedFromCloud_Message",buttonText:"PBI_Button_Label_Close"},InformationProtectionInsufficientUsageRights:{errorMessage:"UploadLocalFile_InformationProtectionInsufficientUsageRightsError",buttonText:void 0},MipClientUnauthorizedUser:{errorMessage:"EimInformationProtection_UnauthorizedToThisProtectedPbix_DialogMessage",buttonText:void 0}}},387854:function(ve,j,e){e.d(j,{Xt:function(){return a},rD:function(){return i}});var r=function(t){return t[t.SharingWithInvalidDomain=0]="SharingWithInvalidDomain",t[t.SharingWithBlockedDomain=1]="SharingWithBlockedDomain",t[t.ExceededMaxOneTimeEmailCount=2]="ExceededMaxOneTimeEmailCount",t}({});function i(t,l,g){l.emailValidationError=l.emailValidationWarning="",l.showSecurityGroupUpgradeAccount=!1;var n=t.promiseFactory.defer();return t.domainHelperService.getVerifiedDomains().then(p=>{var s={},d={},o=null,v="",m=0,c=0,C=t.licenseEnforcementService.supportsGroups();if(l&&l.emailsList){var y=l.emailsList.inputUserList,S=g.maxNumberOfEmailsAllowedAtATime;S>0&&y.length>S&&(l.emailValidationError=t.localizationService.format("MaxOneTimeEmailCountReached",[S]),o=r.ExceededMaxOneTimeEmailCount,v=`User entered ${y.length} email addresses`);var h=!1;for(var E of y){if(E.userPrincipalName){var f=E.userPrincipalName.split("@")[1].toLowerCase();p.verifiedDomains[f.toUpperCase()]||(s[f]=f,m++),p.blockedDomains[f.toUpperCase()]&&(d[f]=f,c++)}E.isSecurityGroup&&!C&&(h=!0)}var b="",V=0;for(var T in s)V++,b+=T+", ";var P="",D=0;for(var w in d)D++,P+=w+", ";h&&(l.showSecurityGroupUpgradeAccount=!0),_.endsWith(b,", ")&&(b=b.substring(0,b.length-2)),_.endsWith(P,", ")&&(P=P.substring(0,P.length-2)),!g.disableExternalSharingValidationForEmailSubscriptions&&!t.featureSwitchService.featureSwitches.externalSharingEnabled&&V>0?(l.emailValidationError=t.localizationService.format("Sharing_ExternalSharingDisabled"),o=r.SharingWithInvalidDomain,v=b):!g.disableExternalSharingValidationForEmailSubscriptions&&g.shouldBlockExternalDomains&&V>0?(l.emailValidationError=t.localizationService.format("Sharing_EmailDomainNotInTenant"),o=r.SharingWithInvalidDomain,v=b):g.shouldBlockConsumerDomains&&D>0?(l.emailValidationError=t.localizationService.format("Sharing_BlockedDomains",[P]),o=r.SharingWithBlockedDomain,v=P):V>0&&(l.emailValidationWarning=t.localizationService.format("Sharing_ExternalOrganization",[b]))}_.isEmpty(l.emailValidationError)?n.resolve({externalEmailCount:m,consumerEmailCount:c}):n.reject({errorReason:v,errorType:o})},p=>{n.reject(null)}),n.promise}function a(t){return new RegExp("^([!#$%&'*+/=?^{|}~\\w\\-\\.\\u00c0-\\uffff]{1,64}@[\\w\\-\\.\\u00c0-\\uffff]{1,253}\\.\\w{1,63})$").test(t)}},855955:function(ve,j,e){e.d(j,{P:function(){return r}});class r{constructor(a){this.contract=a}}},491666:function(ve,j,e){e.d(j,{$3:function(){return Oe},$5:function(){return Ye},$9:function(){return R},$h:function(){return tr},AB:function(){return D},B2:function(){return q},BY:function(){return Ct},Bo:function(){return T},C1:function(){return pt},CZ:function(){return Br},D2:function(){return _r},Db:function(){return Z},Ex:function(){return b},HA:function(){return gt},Hg:function(){return re},Hz:function(){return d},J2:function(){return t},KE:function(){return ce},Lt:function(){return Rt},Mn:function(){return tt},TD:function(){return v},Tu:function(){return Ne},Tv:function(){return We},UJ:function(){return l},UT:function(){return Vr},U_:function(){return i},Ul:function(){return I},WJ:function(){return Bt},WS:function(){return Ce},Wv:function(){return Gt},XB:function(){return ae},XJ:function(){return ot},Y6:function(){return Fr},YR:function(){return ut},Ys:function(){return ke},ZP:function(){return m},ZX:function(){return k},Zu:function(){return lt},_r:function(){return ct},aH:function(){return Sr},ag:function(){return H},bL:function(){return Be},bk:function(){return Qr},bm:function(){return xt},cx:function(){return ee},e3:function(){return Qt},eP:function(){return ea},eZ:function(){return pe},e_:function(){return sr},eo:function(){return Je},fW:function(){return Ie},gs:function(){return Ot},hk:function(){return u},hy:function(){return o},i6:function(){return ue},lT:function(){return st},lY:function(){return He},mM:function(){return at},mZ:function(){return Pt},mw:function(){return M},nd:function(){return xe},o9:function(){return Fe},ou:function(){return Ge},pK:function(){return n},pV:function(){return Jt},rG:function(){return s},uT:function(){return dt},vi:function(){return Y},vq:function(){return g},wy:function(){return Et},x5:function(){return qr},xM:function(){return a},yE:function(){return Xr},yP:function(){return Jr},yb:function(){return yt},yw:function(){return mt}});var r=e(641409),i=function(At){return At.Report="Report",At.QnA="QnA",At.Exploration="Exploration",At.Dashboard="Dashboard",At.Workbook="Workbook",At.Insights="Insights",At.Widget="Widget",At}({}),a=function(At){return At.App="App",At.Owned="Owned",At.Shared="Shared",At.Unknown="Unknown",At}({}),t=function(At){return At.NavigatorBarManageStorage="NavigatorBarManageStorage",At.DirectUrl="DirectUrl",At}({}),l=function(At){return At.Group="Group",At.Personal="Personal",At}({}),g=function(At){return At.DeleteOwnedModel="DeleteOwnedModel",At.DeleteOwnedWorkbook="DeleteOwnedWorkbook",At.RemoveSharedItem="RemoveSharedItem",At}({}),n=function(At){return At.Unknown="Unknown",At.AddDashboard="AddDashboard",At.ShareDashboard="ShareDashboard",At.AcceptInvitation="AcceptInvitation",At.AddTile="AddTile",At.ReportSaveAs="ReportSaveAs",At.OpenDataset="OpenDataset",At.GetData="GetData",At.PublishContentPack="PublishContentPack",At.UpdateContentPack="UpdateContentPack",At.PersonalizeContentPack="PersonalizeContentPack",At.CreateStreamingDataset="CreateStreamingDataset",At.AppAutoInstall="AppAutoInstall",At.PersonalizeApp="PersonalizeApp",At}({}),s=function(At){return At.Report="Report",At.Dashboard="Dashboard",At.ReportV2="ReportV2",At.DashboardV2="DashboardV2",At.Workspace="Workspace",At}({}),d=function(At){return At.UnifiedNotificationPane="UnifiedNotificationPane",At}({}),o=function(At){return At.OpenTile="OpenTile",At}({}),v=function(At){return At.Dashboard="Dashboard",At.OrgApp="OrgApp",At.Report="Report",At.Workbook="Workbook",At.RdlReport="RdlReport",At}({}),m=function(At){return At.Normal="Normal",At.EmailSubscription="EmailSubscription",At.SubscribeOthers="SubscribeOthers",At.Commenting="Commenting",At.DDAlert="DDAlert",At.SmartAlerts="SmartAlerts",At.CopyVisualImage="CopyVisualImage",At.Invalid="Invalid",At}({}),C="PBI.Navigation.Toggle",S=(r.cx[C]=(0,r.b1)(C),"DashboardTileMenuAction"),E=(r.cx[S]=(0,r.b1)(S),"PBI.Dashboard.ClaimInvitation"),u=r.cx[E]=(0,r.b1)(E),f="PBI.Dashboard.ClaimInvitationRedirectToMobileLandingPage",b=r.cx[f]=(0,r.b1)(f),V="PBI.Dashboard.DeleteDashboard",T=r.cx[V]=(0,r.b1)(V),P="PBI.Dashboard.DeleteTile",D=r.cx[P]=(0,r.b1)(P),w="PBI.Dashboard.TileLayoutChanged",M=r.cx[w]=(0,r.b1)(w),A="PBI.Dashboard.InFocusWorkbook",R=r.cx[A]=(0,r.b1)(A),B="PBI.Dashboard.OpenDashboard",W=(r.cx[B]=(0,r.b1)(B,{shouldLogStartEnd:!0,logExpAssignment:!0}),"PBI.Dashboard.LockedTilesDisplayed"),U=(r.cx[W]=(0,r.b1)(W),"PBI.Dashboard.LoadDashboardTileVisual"),x=(r.cx[U]=(0,r.b1)(U),"PBI.Dashboard.PinTile"),I=r.cx[x]=(0,r.b1)(x),L="PBI.Dashboard.InitializeContainer",z=(r.cx[L]=(0,r.b1)(L),"PBI.Dashboard.SettingGroupChanged"),H=r.cx[z]=(0,r.b1)(z),J="PBI.Dashboard.RenameDashboard",k=r.cx[J]=(0,r.b1)(J),G="PBI.Dashboard.ViewWorkbook",q=r.cx[G]=(0,r.b1)(G,{logExpAssignment:!0}),Q="PBI.Dashboard.EditWorkbook",Z=r.cx[Q]=(0,r.b1)(Q),X="PBI.Dashboard.WorkbookViewedExternallyDueToAnError",re=r.cx[X]=(0,r.b1)(X),te="PBI.Dashboard.UpdateActiveDashboard",Ve=(r.cx[te]=(0,r.b1)(te),"PBI.Dashboard.RefreshTileData"),ke=r.cx[Ve]=(0,r.b1)(Ve),Ue="PBI.Dashboard.RefreshDashboardTiles",ot=r.cx[Ue]=(0,r.b1)(Ue),ft="PBI.Groups.SwitchGroup",Ct=r.cx[ft]=(0,r.b1)(ft),Ke="PBI.Folders.GetWorkspaceFolders",we=(r.cx[Ke]=(0,r.b1)(Ke),"PBI.Dashboard.ShowGettingStartedPopup"),Ne=r.cx[we]=(0,r.b1)(we),Se="PBI.Dashboard.WorkbookClickScheduleRefresh",Ie=r.cx[Se]=(0,r.b1)(Se),me="PBI.Dashboard.WorkbookClickRefreshNow",Oe=r.cx[me]=(0,r.b1)(me),Ee="PBI.Dashboard.ClickPersonalize",xe=r.cx[Ee]=(0,r.b1)(Ee,{logExpAssignment:!0}),ye="PBI.Dashboard.ContentPackDirty",Je=r.cx[ye]=(0,r.b1)(ye),he="PBI.Dashboard.FirstUse",Ce=r.cx[he]=(0,r.b1)(he),je="PBI.Dashboard.InFocusModeSelected",pe=r.cx[je]=(0,r.b1)(je),Qe="PBI.Dashboard.SaveDashboardSettings",ut=r.cx[Qe]=(0,r.b1)(Qe),lt="PBI.Dashboard.GetDashboardSettings",Et=r.cx[lt]=(0,r.b1)(lt),bt="PBI.Dashboard.TestDataSourceConnection",Ot=r.cx[bt]=(0,r.b1)(bt),Dt="PBI.Dashboard.LoadTileData",Fe=(r.cx[Dt]=(0,r.b1)(Dt),"PBI.App.InitialAppLoad"),qe=(r.cx[Fe]=(0,r.b1)(Fe,{shouldLogStartEnd:!0,logExpAssignment:!0}),"PBI.GroupEditor.GetGroupMembers"),dt=r.cx[qe]=(0,r.b1)(qe),rt="PBI.GroupEditor.UserLeaveGroup",ce=r.cx[rt]=(0,r.b1)(rt),be="PBI.Quota.OpenManageStoragePage",ae=r.cx[be]=(0,r.b1)(be),de="PBI.Quota.StorageUsage",ee=r.cx[de]=(0,r.b1)(de),Pe="PBI.Quota.ManageStorageDelete",We=r.cx[Pe]=(0,r.b1)(Pe),it="PBI.Quota.Exceeded",yt=r.cx[it]=(0,r.b1)(it),et="PBI.Quota.AccessCustomizedProperties",mt=r.cx[et]=(0,r.b1)(et),ie="PBI.Privacy.InitializeSettingsModel",Y=r.cx[ie]=(0,r.b1)(ie),fe="PBI.Privacy.SaveSettingsModel",Be=r.cx[fe]=(0,r.b1)(fe),Ze="PBI.Settings.TakeoverDatasources",ct=r.cx[Ze]=(0,r.b1)(Ze),St="PBI.Settings.LoadSettingsData",Rt=r.cx[St]=(0,r.b1)(St),kt="PBI.QRCode.QRCodeDialogShown",Gt=r.cx[kt]=(0,r.b1)(kt),Ht="PBI.QRCode.ShortUrlCreated",tr=r.cx[Ht]=(0,r.b1)(Ht),ar="PBI.QRCode.ShortUrlFailed",He=r.cx[ar]=(0,r.b1)(ar),Mt="PBI.QRCode.QRCodeReportDialogShown",Bt=r.cx[Mt]=(0,r.b1)(Mt),ze="PBI.QRCode.ReportShortUrlCreated",st=r.cx[ze]=(0,r.b1)(ze),Lt="PBI.Dashboard.AddWidget",Qt=r.cx[Lt]=(0,r.b1)(Lt),$t="PBI.DataAlerts.TileBadgeClicked",gr=(r.cx[$t]=(0,r.b1)($t),"PBI.DataAlerts.NotificationAction"),_r=r.cx[gr]=(0,r.b1)(gr),Mr="PBI.UsageMetrics.Http.GetPackage",Vr=r.cx[Mr]=(0,r.b1)(Mr),Lr="PBI.UsageMetrics.Http.UsageReportUpgrade",Fr=r.cx[Lr]=(0,r.b1)(Lr),Ur="PBI.UserNotifications.LinkClicked",Br=r.cx[Ur]=(0,r.b1)(Ur,{logExpAssignment:!0}),wr="PBI.Dashboard.RegisterAndLoadResourcePackages",mr=(r.cx[wr]=(0,r.b1)(wr),"PBI.Dashboard.LoadDashboard"),Rr=(r.cx[mr]=(0,r.b1)(mr),"PBI.Dashboard.RegisterAndLoadResourcePackagesForReportTiles"),ea=r.cx[Rr]=(0,r.b1)(Rr),Hr="PBI.ArtifactNotFound",qr=r.cx[Hr]=(0,r.b1)(Hr),kr="PBI.AppModel.InitializeContentProviders",Qr=r.cx[kr]=(0,r.b1)(kr),Ir="PBI.NPS.ShowDialog",Jr=r.cx[Ir]=(0,r.b1)(Ir),hr="PBI.Dashboard.LoadTileVisualTimedOut",Or=(r.cx[hr]=(0,r.b1)(hr),"PBI.Dashboard.AddDashboard"),Xr=r.cx[Or]=(0,r.b1)(Or,{logExpAssignment:!0}),It="PBI.UsageMetrics.ViewUsageMetricsReport",Pt=r.cx[It]=(0,r.b1)(It),Tt="PBI.PersistentState.Reset",tt=r.cx[Tt]=(0,r.b1)(Tt),_e="PBI.Theming.SaveTheme",Ge=r.cx[_e]=(0,r.b1)(_e),Me="PBI.Dashboard.GetResourcePackageItem",at=r.cx[Me]=(0,r.b1)(Me),Xe="PBI.Apps.GuestUserWithNoAccessError",ue=r.cx[Xe]=(0,r.b1)(Xe),Re="PBI.Tutorial.Close",pt=r.cx[Re]=(0,r.b1)(Re),Kt="PBI.Landing.BindToPowerViewReport",Jt=r.cx[Kt]=(0,r.b1)(Kt),pr="PBI.UsageMetrics.UpdateNewReportSetting",sr=r.cx[pr]=(0,r.b1)(pr),Xt="PBI.ChangeDetectionMeasure.LongPollError",Sr=r.cx[Xt]=(0,r.b1)(Xt),Le="PBI.ChangeDetectionMeasure.GetCDMConfigError",Ye=r.cx[Le]=(0,r.b1)(Le),ht="PBI.ChangeDetectionMeasure.GetConceptualSchemaError",gt=r.cx[ht]=(0,r.b1)(ht),Vt="PBI.Dashboard.RealtimeModelLoad",xt=r.cx[Vt]=(0,r.b1)(Vt)},193075:function(ve,j,e){e.d(j,{F:function(){return l},J:function(){return t}});var r=e(688467),i=e(759167),a=e(704251);function t(g,n=!1){if(g&&g.tiles){if(n)return{[i.CB]:g.tiles.background,[i.dj]:g.tiles.color,[i.vp]:g.tiles.opacity};var p=(0,r.cD)(g.tiles.background,g.tiles.opacity);return{[i.CB]:p,[i.dj]:g.tiles.color}}}function l(g){if(g){var p={[i.CB]:g.background,[i.dj]:g.tiles?g.tiles[i.dj]:i.G7};return(0,a.gU)(g.backgroundImage)?(p[i.Xn]=`url(${g.backgroundImage})`,p[i.k2]=i.hy):p[i.Xn]=i.zu,p}}},685030:function(ve,j,e){e.d(j,{AF:function(){return S},AW:function(){return T},BP:function(){return n},C:function(){return g},G1:function(){return l},IQ:function(){return f},Jh:function(){return b},Jk:function(){return c},Jo:function(){return i},P_:function(){return p},VT:function(){return E},ay:function(){return C},b0:function(){return s},b7:function(){return t},c2:function(){return y},cV:function(){return d},j:function(){return u},uT:function(){return D},wn:function(){return v},x5:function(){return o},xC:function(){return a},xm:function(){return m},xp:function(){return P},zW:function(){return h}});var r=e(167165),i="esriVisual",a="esriVisual_TEST",t="Visio_PBI_CV_D7C10B1A_506B_4123_878E_39E8698FD30A",l="VisioDF_PBI_CV_D7C10B1A_506B_4123_878E_39E8698FD30A",g="PowerApps_PBI_CV_C29F1DCC_81F5_4973_94AD_0517D44CC06A",n="PowerApps_PBI_CV_C29F1DCC_81F5_4973_94AD_0517D44CC06A_TEST",p="PBI_CV_EB3A4088_75C5_4746_9D8B_255A7B7ECD6C",s="MapboxVisual_TEST",d="PBI_CV_0157F990_CDD5_4FEC_8488_7262B9195669",o="FlowVisual_C29F1DCC_81F5_4973_94AD_0517D44CC06A",v="FlowVisual_C29F1DCC_81F5_4973_94AD_0517D44CC06A_TEST",m="vPMenu6454E8C4E1BD492A83084AB46B0C248B",c="vPMenu6454E8C4E1BD492A83084AB46B0C248B_TEST",C="SmartFilterBySQLBI1458262140626",y="_OrgStore",S="1.2.0",h=[i,a,t,l,g,n,p,d,s,o,v,m,c,C],E="Esri is not supported in Embedded scenario.",u="CV_Warning_Code",f=70,b=2e3,T="SharedResources",P=[];P[r.v.RegisteredResources]="RegisteredResources",P[r.v.SharedResources]=T;var D={};D[r.v.RegisteredResources]=!0,D[r.v.SharedResources]=!0},23131:function(ve,j,e){e.d(j,{$:function(){return i},K:function(){return r}});var r=function(a){return a[a.Error=0]="Error",a[a.Blocked=1]="Blocked",a}({}),i=function(a){return a[a.None=0]="None",a[a.References=1]="References",a[a.Relationships=2]="Relationships",a[a.Filters=3]="Filters",a[a.ScriptVisualsNotEnabled=4]="ScriptVisualsNotEnabled",a[a.PythonVisualsNotEnabled=5]="PythonVisualsNotEnabled",a[a.DataSourceSettings=6]="DataSourceSettings",a[a.QueryCacheMiss=7]="QueryCacheMiss",a[a.VisualCalculationsEditingNotSupported=8]="VisualCalculationsEditingNotSupported",a}({})},880039:function(ve,j,e){e.d(j,{W:function(){return i},z:function(){return a}});var r=e(110159),i={type:r.u.Global,name:"reloadEmptyVisuals"},a={type:r.u.Global,name:"applyPendingChanges"}},557134:function(ve,j,e){e.d(j,{IG:function(){return a},Ut:function(){return t}});var a="ShapeMap",t=function(l){return l[l.CustomVisualJavascript=0]="CustomVisualJavascript",l[l.CustomVisualsCss=1]="CustomVisualsCss",l[l.CustomVisualScreenshot=2]="CustomVisualScreenshot",l[l.CustomVisualIcon=3]="CustomVisualIcon",l[l.CustomVisualWatermark=4]="CustomVisualWatermark",l[l.CustomVisualMetadata=5]="CustomVisualMetadata",l[l.Image=100]="Image",l[l.ShapeMap=200]="ShapeMap",l[l.CustomTheme=201]="CustomTheme",l[l.BaseTheme=202]="BaseTheme",l[l.DashboardTheme=203]="DashboardTheme",l[l.DashboardBaseTheme=204]="DashboardBaseTheme",l[l.HighContrastTheme=205]="HighContrastTheme",l[l.AppNavigation=206]="AppNavigation",l[l.AppTheme=207]="AppTheme",l[l.AppBaseTheme=208]="AppBaseTheme",l}({})},961273:function(ve,j,e){e.d(j,{u:function(){return s}});var r=e(844668),i=e(955890),a=e(650543),t=e(882383),l=e(490889),g=e(659615),n=e(451824),p=e(964564);function s(o,v,m,c,C){return new d(o,v,m,c,C)}class d{constructor(v,m,c,C,y){this.approvedResourceService=m,this.telemetryService=c,this.featureSwitchService=C,this.onlyApprovedForServerRenderResources=y,this.locale=v&&v.locale,this.promiseFactory=v.promiseFactory}loadTrustedResourcePackages(v){return a.f.assertFail("Not supported"),this.promiseFactory.reject()}loadResourcePackages(v){a.f.assertValue(v,"resourcePackages");var m=[];for(var c of v)m.push(this.loadResourcePackage(c));return this.promiseFactory.all(m)}loadResourcePackage(v){a.f.assertValue(v,"resourcePackage");var m=(c,C,y,S,h)=>{this.telemetryService.logEvent(l.d7,{visualType:v.name,fileName:c,isClientGenerated:!!h,start:y,end:S,parentId:this.telemetryService.root.id,isError:!0,errorSource:r.zH.PowerBI,errorCode:C})};return this.approvedResourceService.loadApprovedResourcesMetadata(this.promiseFactory,this.onlyApprovedForServerRenderResources).catch(c=>this.promiseFactory.reject(c)).then(()=>{var c=[];return this.approvedResourceService.isApprovedResource(v.name)?(c.push(this.loadResourcesWithVisualApi(v,m)),this.promiseFactory.all(c)):this.promiseFactory.reject("Visual is not an approved visual")})}loadResourcePackageItem(v,m){return a.f.assertFail("Not supported"),this.promiseFactory.reject()}loadSharedResource(v){return a.f.assertFail("Not supported"),this.promiseFactory.reject()}loadVisualPlugins(v){a.f.assertValue(v,"resourcePackages");var m=[];if(v)for(var c of v)m.push(this.loadVisualPlugin(c));return this.promiseFactory.all(m)}loadVisualPlugin(v){a.f.assertValue(v,"resourcePackage");var m=this.promiseFactory.defer();return v&&v.items&&v.items.length>0?this.loadResourcePackage(v).then(()=>{var c=i.N[v.name];c?(c.iconUrl=(0,n.dA)(v.name),m.resolve(c)):m.reject("Unable to load visual plugin from resource package: "+v.name)}).catch(()=>{m.reject("failed to resolve all promises")}):m.resolve(null),m.promise}destroy(){}loadResourcesWithVisualApi(v,m){var c=this.promiseFactory.defer(),C=(new Date).toISOString(),y=this.featureSwitchService?!!this.featureSwitchService.featureSwitches.consumePublicCvsWithoutRps:void 0;return this.approvedResourceService.getCustomVisualPbivizJson(v.name).then(S=>{var h=(new Date).toISOString();this.handleLoadResourceResponse(S.data,v),this.telemetryService.logEvent(l.EB,{visualType:v.name,fileName:this.approvedResourceService.customVisualJsonUrlBuilder(v.name),isClientGenerated:!!v.isPublic,consumePublicCvsWithoutRps:y,start:C,end:h,parentId:this.telemetryService.root.id,isError:!1,errorSource:r.zH.PowerBI}),c.resolve(null)},S=>{var h=JSON.stringify(S),E=(new Date).toISOString();m(this.approvedResourceService.customVisualJsonUrlBuilder(v.name),h,C,E,v.isPublic),c.reject(h)}),c.promise}handleLoadResourceResponse(v,m){m.items&&m.items[0]&&(m.items[0].content=JSON.stringify(v));var c=(0,p.S)(v,this.locale,t.F.AppSource);c&&(c.isDeprecated=this.approvedResourceService.isDeprecated(m.name),c.approvedForNoIframe=this.approvedResourceService.isApprovedForNoIframe(m.name)),(0,g.L)(c);var C=i.N[c.name];C&&(c.favoriteId=C.favoriteId,c.isOutOfBox=C.isOutOfBox),i.N[c.name]=c}}},742789:function(ve,j,e){e.d(j,{Z:function(){return d}});var r=e(490889),i=e(685030),a=e(844668),t=e(947302),l=e(742427),g=e(893910),n=e(802647),p=e(977957),s=window;function d(v,m,c,C,y){return new o(v,m,c,C,y)}class o{constructor(m,c,C,y,S){this.featureSwitchService=m,this.httpService=c,this.options=y,this.telemetryService=S,this.trustedVisuals=i.zW,this.resourcesRetryCount=5,this.legacy="legacy",this.gradualExposureFSPrefix="customVisualsGradualExposure",this.approvedResourceJsonInProccess=!1,this.customVisualsEndpointPromise=C.getCustomVisualsEndpointAsync()}getCustomVisualPbivizJson(m){var c=this.customVisualJsonUrlBuilder(m);return this.httpService.get(c,{responseType:"json",timeout:p.JZ,retryCount:this.resourcesRetryCount,logRetries:!0,addRequestIdToRetries:!0})}getCustomVisualVersion(m){var c=this.getCompatibleVisualVersion(m);return c?c.version:null}getCustomVisualApiVersion(m){var c=this.getCompatibleApiVersion(m);return c&&c!==this.legacy?c:null}customVisualJsonUrlBuilder(m){var c=this.getCompatibleVisualVersion(m);if(c)return this.customVisualsEndpoint+"/"+m+"."+c.version+"."+c.hash+".pbiviz.json"}getVisualIdFromAssetId(m){for(var c in this.approvedVisuals)if(this.approvedVisuals[c]&&this.approvedVisuals[c].assetId===m)return c;return null}isApprovedVisualsDefined(){return!!this.approvedVisuals}isApprovedResource(m){return!!this.approvedVisuals&&!!this.approvedVisuals[m]}isApprovedResourceByAssetId(m){return!!this.approvedVisualsAssetIds&&!!this.approvedVisualsAssetIds[m]}isApprovedResourceServerRender(m){var c=this.getCompatibleVisualVersion(m);return this.isApprovedResource(m)&&!!c&&!!c.approvedForServerRender}isApprovedForNoIframe(m){if(this.onlyApprovedForServerRenderResources||(0,n.rO)())return!1;var c=this.getCompatibleVisualVersion(m);return!!c&&!!c.approvedForNoIframe}isTrustedResource(m){return!!_.find(this.trustedVisuals,c=>c===m)}addTrustedVisual(m){this.isTrustedResource(m)||this.trustedVisuals.push(m)}isDeprecated(m){var c=this.getCompatibleVisualVersion(m);return this.isApprovedResource(m)&&!!c&&(!!c.isDeprecated||c.apiVersion&&(0,g.lt)(c.apiVersion,i.AF))}usesExternalResourcesInAirGappedEnv(m){var c=this.getCompatibleVisualVersion(m);return this.featureSwitchService.featureSwitches.restrictServiceOutboundFlowsEnabled&&c&&c.usesExternalResources}canUseLocalStorage(m){if(this.onlyApprovedForServerRenderResources)return!1;var c=this.getCompatibleVisualVersion(m);return!(!c||!this.isApprovedResource(m))&&c.canUseLocalStorage}removeApprovedResource(m){this.approvedVisuals&&(this.approvedVisuals[m]=void 0)}getCdnEnvEndpointName(m){var c=(0,l.tm)()||p.un;return this.featureSwitchService.featureSwitches.appStoreCdnOverride&&(c=p.cL),m+c}loadApprovedResourcesMetadata(m,c){return this.approvedResourceJsonInProccess||(this.approvedResourceJsonRequest=m.defer(),this.approvedResourceJsonInProccess=!0,(c?"boolean"==typeof c?m.resolve(c):c:m.resolve(!1)).then(y=>{if(y&&(this.onlyApprovedForServerRenderResources=!!y),this.approvedVisuals)return this.setApprovedResources(),this.approvedResourceJsonRequest.resolve(null),this.approvedResourceJsonRequest.promise;var S=this.options?.isApprovedLoadingDisabled()??m.resolve(!1);m.allSettled([this.featureSwitchService.getFeatureSwitches(),S,this.customVisualsEndpointPromise]).then(h=>{this.approvedResourcesDisabled=h[1].value,this.customVisualsEndpoint=h[2].value}).finally(()=>{if(this.approvedResourcesDisabled)this.approvedResourceJsonRequest.reject("approvedResourcesDisabled is true in an unsupported environment for loading metadata");else{var h=(new Date).toISOString();this.httpService.get(this.customVisualsEndpoint+"/approvedResources.json",{responseType:"json",timeout:p.JZ,retryCount:this.resourcesRetryCount,logRetries:!0,addRequestIdToRetries:!0}).then(u=>{var f=(new Date).toISOString();this.telemetryService&&this.telemetryService.logEvent(r.LU,{endpoint:this.customVisualsEndpoint,allEndpointDown:!1,start:h,end:f,parentId:this.telemetryService.root.id,isError:!1,errorSource:a.zH.PowerBI}),this.setApprovedResources(u.data),this.approvedResourceJsonRequest.resolve(null),this.approvedResourceJsonInProccess=!1},u=>{var f=(new Date).toISOString();this.telemetryService&&this.telemetryService.logEvent(r.LU,{endpoint:this.customVisualsEndpoint,allEndpointDown:!0,start:h,end:f,parentId:this.telemetryService.root.id,isError:!0,errorSource:a.zH.PowerBI,errorCode:JSON.stringify(u)}),this.approvedResourceJsonRequest.reject(JSON.stringify(u)),this.approvedResourceJsonInProccess=!1})}})})),this.approvedResourceJsonRequest.promise}cdnUrlBuilder(m,c,C){var y=this.getCompatibleApiVersion(c);return y?this.getCdnEnvEndpointName(m)+"/"+y+"/"+c+C:this.getCdnEnvEndpointName(m)+"/"+c+C}getTrustedResources(){return this.trustedVisuals}hasApi(m){var c=this.getCompatibleVisualVersion(m);return!!(c&&this.approvedVisuals&&c&&c.apiVersion&&c.apiVersion!==this.legacy)}getTelemetryUsageLimit(m){var c=this.getCompatibleVisualVersion(m);return c&&this.isApprovedResource(m)&&c.telemetryUsageLimit||0}canRefreshHostData(m){var c=this.getCompatibleVisualVersion(m);return!(!c||!this.isApprovedResource(m))&&c.canRefreshHostData}canGetAADToken(m){var c=this.getCompatibleVisualVersion(m);return!(!c||this.blockedAccessToken(m))&&!!this.isApprovedResource(m)&&c.canGetAADToken}blockedAccessToken(m){if(this.options&&this.options.shouldBlockAccessToken())return this.telemetryService&&this.telemetryService.logEvent(r.eb,{visualType:m,reason:"Access Token does not exists in publishToWeb/PaasEmbed"}),!0;try{var S=JSON.parse(atob(s.powerBIAccessToken.split(".")[1])).scp;return!(S.indexOf("user_impersonation")>=0||S.indexOf("__Tokens.WAC")>=0||(this.telemetryService&&this.telemetryService.logEvent(r.eb,{visualType:m,reason:"Access Token is blocked due to insufficient scope"}),0))}catch{return!1}}canGetWACToken(m){var c=this.getCompatibleVisualVersion(m);return!(!c||this.blockedAccessToken(m))&&!!this.isApprovedResource(m)&&c.canGetWACToken}getAllApprovedForServerRenderResourcesTypes(){if(!this.approvedVisuals)return[];var m=Object.keys(this.approvedVisuals);return _.filter(m,C=>this.isApprovedResourceServerRender(C))}getPublicId(m){return this.isApprovedResource(m)&&this.approvedVisuals[m].assetId?this.approvedVisuals[m].assetId:null}isMsVisual(m){return!(!this.isApprovedResource(m)||!this.approvedVisuals[m].isMsVisual)}canManageAsyncUpdate(m){if(this.isApprovedResource(m)){var c=this.getCompatibleVisualVersion(m);if(c&&c.callsRenderingCompleted)return!0}return!1}getCompatibleApiVersion(m){var c=this;if(!this.isApprovedResource(m)||!this.approvedVisuals[m].allVersions)return null;var C=this.approvedVisuals[m].allVersions;C.sort((E,u)=>!E.apiVersion||u.apiVersion&&!(0,g.gt)(E.apiVersion,u.apiVersion)?1:-1);var S,y=function(E){if((0,t.HB)().some(u=>u.version===E.apiVersion)&&!c.shouldSkipVersion(E))return{v:E.apiVersion}};for(var h of C)if(S=y(h))return S.v;return this.legacy}shouldSkipVersion(m){return null!=m.gradualExposureFSNumber&&!this.featureSwitchService.featureSwitches[`${this.gradualExposureFSPrefix}${m.gradualExposureFSNumber}`]}getCompatibleVisualVersion(m){var c=this.getCompatibleApiVersion(m);if(c)for(var C of this.approvedVisuals[m].allVersions)if(C.apiVersion===c)return C;return null}setApprovedResources(m){if(m&&(this.approvedVisuals=m,this.approvedVisualsAssetIds=o.buildApprovedVisualsAssetIds(m)),this.onlyApprovedForServerRenderResources){var c=this.getAllApprovedForServerRenderResourcesTypes(),C=_.pick(this.approvedVisuals,c);this.approvedVisuals=C}}static buildApprovedVisualsAssetIds(m){return _.reduce(m,(C,y)=>(y.assetId&&(C[y.assetId]=!0),C),{})}}},170932:function(ve,j,e){e.d(j,{N5:function(){return y},fQ:function(){return c}});var r=e(371223),i=e(167165),a=e(283960),t=e(955890),l=e(650543),g=e(84838),n=e(882383),p=e(557134),s=e(490889),d=e(216070),o=e(659615),v=e(451824),m=e(964564);function c(S,h,E){return new y(S,h,E||new C(S.promiseFactory))}class C{constructor(h){this.promiseFactory=h}get(h,E,u){return l.f.assertFail("Referenced omitted sharedResourceItemProxy"),this.promiseFactory.reject()}getBlob(h,E,u){return l.f.assertFail("Referenced omitted sharedResourceItemProxy"),this.promiseFactory.reject()}}var y=(()=>{class S{constructor(E,u,f){this.provider=u,this.sharedResourceItemProxy=f,this.promiseFactory=E&&E.promiseFactory,this.locale=E&&E.locale,this.telemetryV2Enabled=E&&E.telemetryV2Enabled}loadTrustedResourcePackages(E){return l.f.assertFail("Not supported"),this.promiseFactory.reject()}loadResourcePackages(E){l.f.assertValue(E,"resourcePackages");var u=[];for(var f of E)u.push(this.loadResourcePackage(f));return this.promiseFactory.all(u)}loadResourcePackage(E){l.f.assertValue(E,"resourcePackage");var u=[];if(E&&E.items)for(var f of E.items)u.push(this.loadCustomVisualResourcePackageItem(f,E));return this.promiseFactory.all(u)}loadResourcePackageItem(E,u){var f=(0,d.NW)(E,u);return f?f.content?this.promiseFactory.resolve(f.content):this.loadBlob(E.id,E.name,f):(g.fM.warning("loadResourcePackageItem: item not found in package"),this.promiseFactory.resolve(null))}loadSharedResource(E,u){return u===p.Ut.Image?this.sharedResourceItemProxy.getBlob(null,(0,d.RJ)(i.v.SharedResources),E,{retries:1}):this.sharedResourceItemProxy.get(null,(0,d.RJ)(i.v.SharedResources),E,{retries:1})}loadVisualPlugin(E){l.f.assertValue(E,"resourcePackage");var u=this.promiseFactory.defer();return E&&E.items&&E.items.length>0?this.loadResourcePackage(E).then(()=>{var f=t.N[E.name];f?(f.iconUrl=this.getIconUrl(E),u.resolve(f)):u.reject("Unable to load visual plugin from resource package")}).catch(()=>{u.reject("failed to resolve all promises")}):u.resolve(null),u.promise}destroy(){}loadVisualPlugins(E){l.f.assertValue(E,"resourcePackages");var u=[];if(E)for(var f of E)u.push(this.loadVisualPlugin(f));return this.promiseFactory.all(u)}getIconUrl(E){var f=$("#css-"+E.name)[0],b=_.find(document.styleSheets,P=>P.ownerNode===f);if(!b)return"";for(var V=0;V<b.cssRules.length;V++){var T=b.cssRules[V];if(T.selectorText&&T.selectorText===".visual-icon."+E.name)return T.style.backgroundImage}return""}loadCustomVisualResourcePackageItem(E,u){switch(E.type){case p.Ut.CustomVisualJavascript:return this.loadCustomVisualJS(u.id,u.name,E);case p.Ut.CustomVisualsCss:return this.loadCustomVisualCss(u.id,u.name,E);case p.Ut.CustomVisualMetadata:return this.loadCustomVisualMetadata(u.id,u.name,E)}}loadCustomVisualJS(E,u,f){var b=this.promiseFactory.defer();return f.content?((0,v.yO)(u,f.content),b.resolve(f.content)):(l.f.assertValue(this.provider,"resourceItemProxy is undefined"),this.provider.get(E,u,f.path,{retries:1}).then(V=>{(0,v.yO)(u,V),f.content=V,this.transformPlugin(u).then(()=>b.resolve(V),T=>b.reject(T))}).catch(V=>{b.reject(V)})),b.promise}transformPlugin(E){var u=t.N[E];return u?((0,o.L)(u),this.promiseFactory.resolve()):this.promiseFactory.reject("Unable to load visual plugin from resource package: "+E)}loadCustomVisualCss(E,u,f){var b=this.promiseFactory.defer();return f.content?((0,v.QO)(u,f.content),b.resolve(f.content)):(l.f.assertValue(this.provider,"resourceItemProxy is undefined"),this.provider.get(E,u,f.path,{retries:1}).then(V=>{(0,v.QO)(u,V),f.content=V,b.resolve(V)}).catch(V=>{b.reject(V)})),b.promise}loadCustomVisualMetadata(E,u,f){var b=this.promiseFactory.defer();try{f.content?b.resolve(this.createPlugin(u,f.content)):this.provider.get(E,u,f.path,{retries:1}).then(V=>{f.content=V,b.resolve(this.createPlugin(u,V))}).catch(V=>{b.reject(V)})}catch(V){b.reject(V)}return b.promise}createPlugin(E,u){l.f.assertAnyValue(u,"pbivizJsonString");var f=u;"object"!=typeof u&&(f=JSON.parse(u));var b=(0,m.S)(f,this.locale,n.F.File);(0,o.L)(b);var V=t.N[b.name];return V&&!V.custom&&(b.custom=!1),V&&(b.favoriteId=V.favoriteId,b.isOutOfBox=V.isOutOfBox),t.N[b.name]=b,b}loadBlob(E,u,f){var b=this.promiseFactory.defer(this.telemetryV2Enabled);return f.contentBlob?b.resolve(f.contentBlob):f.promise?f.promise.then(V=>b.resolve(V)):(f.promise=this.provider.getBlob(E,u,f.path,{retries:1}),f.promise.then(V=>{f.contentBlob=V,b.resolve(V)}).catch(V=>{b.reject(V)}).finally(()=>{delete f.promise})),b.promise}}return(0,r.__decorate)([(0,a.UE)(s.XH),(0,r.__metadata)("design:type",Function),(0,r.__metadata)("design:paramtypes",[Object,String]),(0,r.__metadata)("design:returntype",Object)],S.prototype,"loadResourcePackageItem",null),S})()},137626:function(ve,j,e){function r(g,n){var p=g.capabilities,s=i(g,n)||i(g,"en-US");return p&&s&&a(p,s),g}function i(g,n){var p=l(n);return g&&g.stringResources?g.stringResources[p]:null}function a(g,n){for(var p in g)Object.prototype.hasOwnProperty.call(g,p)&&("object"==typeof g[p]?a(g[p],n):"displayNameKey"===p&&g.displayName?g.displayName=t(n,g.displayNameKey)||g.displayName:"descriptionKey"===p&&g.description?g.description=t(n,g.descriptionKey)||g.description:"placeHolderTextKey"===p&&g.placeHolderText&&(g.placeHolderText=t(n,g.placeHolderTextKey)||g.placeHolderText))}function t(g,n){return g[n]}function l(g){return{ar:"ar-SA",bg:"bg-BG",ca:"ca-ES",cs:"cs-CZ",da:"da-DK",de:"de-DE",el:"el-GR","en-US":"en-US",es:"es-ES",et:"et-EE",eu:"eu-ES",fi:"fi-FI",fr:"fr-FR",gl:"gl-ES",he:"he-IL",hi:"hi-IN",hr:"hr-HR",hu:"hu-HU",id:"id-ID",it:"it-IT",ja:"ja-JP",kk:"kk-KZ",ko:"ko-KR",lt:"lt-LT",lv:"lv-LV",ms:"ms-MY",no:"nb-NO",nl:"nl-NL",pl:"pl-PL",br:"pt-BR",pt:"pt-PT",ro:"ro-RO",ru:"ru-RU",sk:"sk-SK",si:"sl-SI","sr-Cyrl":"sr-Cyrl-RS","sr-Latn":"sr-Latn-RS",sv:"sv-SE",th:"th-TH",tr:"tr-TR",uk:"uk-UA",vi:"vi-VN","zh-Hans":"zh-CN","zh-Hant":"zh-TW"}[g]||g||navigator.language}e.d(j,{Kd:function(){return l},qL:function(){return i},zQ:function(){return r}})},774600:function(ve,j,e){e.d(j,{A:function(){return t}});var r=e(650543),i=e(97964),a=e(323495);function t(g,n,p,s,d,o,v,m){return new l(g,n,s,d,o,v,p,m)}class l extends a.Ls{constructor(n,p,s,d,o,v,m,c){super(n,p,s,d,o,v),this.resourcePackagesService=m,this.resourcePackageResolver=c,this.resourcePackagesService.getAllPackages()}loadResourcePackage(n){var p=this;if(r.f.assertValue(n,"resourcePackage"),n)return this.resourcePackageResolver(n).then(s=>{var d=[];if(s&&s.items&&!s.disabled){var o=function(m){var c=(0,i.dR)(s,m.name,p,p.promiseFactory).then(C=>{m.content=C});d.push(c)};for(var v of s.items)o(v)}else if(!s||s.disabled)return this.resourcePackagesService.delete(n.name),null;return this.promiseFactory.all(d).then(()=>super.loadResourcePackage(s,!0))}).catch(()=>(this.resourcePackagesService.delete(n.name),null))}}},451824:function(ve,j,e){e.d(j,{QO:function(){return a},dA:function(){return g},yO:function(){return i}});var r=e(893910);function i(s,d,o=!1,v=null){var m={major:1,minor:8,patch:0},c=document.createElement("script");c.innerHTML=o?v&&(0,r.gt)(v,m)||(0,r.eq)(v,m)?function(s){return`\n                (function(powerbi) {\n                    var window = this;\n\n                    //These 2 lines are needed to trick lodash into using this as global scope\n                    var self = this;\n                    self.Object = Object;\n\n                    //de-reference powerbi loaded modules\n                    var $, jQuery, _;\n                    window.jQuery = window.$ = undefined;\n                    window._ = undefined;\n\n                    ${s};\n\n                    //overwrite global variables with window values for PowerBI libraries\n                    $ = jQuery = window.$;\n                    _ = window._\n                }).call(\n                    //generate isolated clone of window object\n                    (function(w) {\n                        var wKeys = Object.getOwnPropertyNames(w);\n                        var nextW = w;\n                        while ((nextW = Object.getPrototypeOf(nextW))) {\n                            wKeys = wKeys.concat(Object.getOwnPropertyNames(nextW));\n                        }\n                        var newWindow = Object.create(w);\n                        //rebuild some of the window properties so they work correctly\n                        for (var i = 0; i < wKeys.length; i++) {\n                            try {\n                                var key = wKeys[i];\n                                var item = w[key];\n                                //rebind native functions to proper window context\n                                if (typeof item === 'function') {\n                                    if ((/\\{\\s*\\[native code\\]\\s*\\}/).test('' + Function.prototype.toString.call(item))) {\n                                        newWindow[key] = item.bind(w);\n                                        //remap prototype\n                                        newWindow[key].prototype = item.prototype;\n                                        //remap own properties\n                                        var fKeys = Object.getOwnPropertyNames(item);\n                                        for (var j = 0; j < fKeys.length; j++) {\n                                            var fKey = fKeys[j];\n                                            if(fKey === 'arguments' || fKey === 'caller') continue;\n                                            try {\n                                                newWindow[key][fKey] = item[fKey];\n                                            } catch (e) { /* catch protected function properties */}\n                                        }\n                                    }\n                                //map getters to proper context (needed for firefox only)\n                                } else if (typeof item === 'object') {\n                                \t\tif (key ==="window" || key === "self"){\n                                            Object.defineProperty(newWindow, key, {\n                                                get: (function(newWindow) {\n                                                    return function() {\n                                                        return newWindow;\n                                                    }\n                                                })(newWindow),\n                                                set: function() { }\n                                        });\n                                    } else {\n                                        Object.defineProperty(newWindow, key, {\n                                            get: (function(item) {\n                                                return function() {\n                                                    return item;\n                                                }\n                                            })(item),\n                                            set: function() { }\n                                        });\n                                    }\n                                } else if (typeof item === 'number' || typeof item === 'boolean' || typeof item === 'string') {\n                                      Object.defineProperty(newWindow, key, {\n                                          get: (function(w, keyString) {\n                                              return function() {\n                                                  return w[keyString];\n                                              }\n                                          })(w, key.toString()),\n                                          set: (function(w, keyString) {\n                                              return function(newValue) {\n                                                  w[keyString] = newValue;\n                                              }\n                                          })(w, key.toString())\n                                      });\n                                }\n                            } catch (e) { /* catch sandbox security exceptions */ }\n                        }\n                        return newWindow;\n                    })(window),\n                    powerbi || (powerbi = {})\n                );\n            `}(d):function(s){return`\n                (function(powerbi) {\n                    var window = this;\n\n                    //These 2 lines are needed to trick lodash into using this as global scope\n                    var self = this;\n                    self.Object = Object;\n\n                    //de-reference powerbi loaded modules\n                    var $, jQuery, _;\n                    window.jQuery = window.$ = undefined;\n                    window._ = undefined;\n\n                    ${s};\n\n                    //overwrite global variables with window values for PowerBI libraries\n                    $ = jQuery = window.$;\n                    _ = window._\n                }).call(\n                    //generate isolated clone of window object\n                    (function(w) {\n                        var wKeys = Object.getOwnPropertyNames(w);\n                        var nextW = w;\n                        while ((nextW = Object.getPrototypeOf(nextW))) {\n                            wKeys = wKeys.concat(Object.getOwnPropertyNames(nextW));\n                        }\n                        var newWindow = Object.create(w);\n                        //rebuild some of the window properties so they work correctly\n                        for (var i = 0; i < wKeys.length; i++) {\n                            try {\n                                var key = wKeys[i];\n                                var item = w[key];\n                                //rebind native functions to proper window context\n                                if (typeof item === 'function') {\n                                    if ((/\\{\\s*\\[native code\\]\\s*\\}/).test('' + Function.prototype.toString.call(item))) {\n                                        newWindow[key] = item.bind(w);\n                                        //remap prototype\n                                        newWindow[key].prototype = item.prototype;\n                                        //remap own properties\n                                        var fKeys = Object.getOwnPropertyNames(item);\n                                        for (var j = 0; j < fKeys.length; j++) {\n                                            var fKey = fKeys[j];\n                                            if(fKey === 'arguments' || fKey === 'caller') continue;\n                                            try {\n                                                newWindow[key][fKey] = item[fKey];\n                                            } catch (e) { /* catch protected function properties */}\n                                        }\n                                    }\n                                //map getters to proper context (needed for firefox only)\n                                } else if (typeof item === 'object') {\n                                    Object.defineProperty(newWindow, key, {\n                                        get: (function(item) {\n                                            return function() {\n                                                return item;\n                                            }\n                                        })(item),\n                                        set: function() { }\n                                    });\n                                }\n                            } catch (e) { /* catch sandbox security exceptions */ }\n                        }\n                        return newWindow;\n                    })(window),\n                    powerbi || (powerbi = {})\n                );\n            `}(d):d,c.id="js-"+s,c.setAttribute("name",s),document.body.appendChild(c)}function a(s,d){var o=$("<style></style>",{html:d,id:"css-"+s});o.attr("name",s),$("head").append(o)}function g(s){var o=$("#css-"+s)[0],v=_.find(document.styleSheets,C=>C.ownerNode===o);if(v&&v.cssRules)for(var m=0;m<v.cssRules.length;m++){var c=v.cssRules[m];if(c.selectorText&&_.includes(c.selectorText,s))return c.style.backgroundImage}return""}},977957:function(ve,j,e){e.d(j,{JZ:function(){return r},cL:function(){return t},io:function(){return i},un:function(){return a}});var r=3e4,i="dev",a="prod",t="app-store"},479218:function(ve,j,e){e.d(j,{v:function(){return l}});var r=e(167165),i=e(650543),a=e(685030),t=e(216070);function l(){return new g}class g{constructor(){this.resourcePackageNameIdLookupTable={},this.packages=[{id:void 0,name:a.AW,type:r.v.SharedResources,items:[]}]}getAllPackages(){return this.packages}registerPackages(p){if(i.f.assertValue(p,"packages"),p)for(var s of p)if(s.items&&0!==s.items.length&&(s.type!==r.v.OrganizationalStoreCustomVisual||!s.disabled)){this.resourcePackageNameIdLookupTable[s.id]=s.name;var d=(0,t.pd)(this.packages,s.type,s.name);if(d)(0,t.In)(s)?(0,t.wq)(d,s):_.merge(d,s);else{var o=_.clone(s);o.items=_.clone(s.items),this.packages.push(o)}}}getPackage(p){return i.f.assertValue(p,"name"),_.find(this.packages,s=>s.name===p)}delete(p){i.f.assertValue(p,"name"),_.remove(this.packages,s=>s.name===p)}getPackageById(p){var s=this.resourcePackageNameIdLookupTable[p];return s&&this.getPackage(s)}clear(){this.packages=[],this.resourcePackageNameIdLookupTable={}}}},323495:function(ve,j,e){e.d(j,{KG:function(){return C},Ls:function(){return V}});var r=e(889162),i=e(24769),a=e(661248),t=e(893910),l=e(955890),g=e(650543),n=e(882383),p=e(685030),s=e(557134),d=e(97964),o=e(216070),v=e(659615),m=e(170932),c=e(964564);function C(T,P,D,w,M,A,R){return new V(T,P,D,w,M,A,R)}class V extends m.N5{constructor(P,D,w,M,A,R,B){super(P,M,null),g.f.assertValue(P.promiseFactory,"promiseFactory"),g.f.assertValue(D,"messageProxy"),g.f.assertValue(w,"sandboxLoaderUri"),this.approvedResourceService=B,this.featureSwitchService=A,this.locale=P&&P.locale,this.promiseFactory=P.promiseFactory,this.frontEndUrl=R??"'self'",this.messageProxy=D,this.sandboxLoaderUri=w,this.provider=M,this.featureSwitchService.featureSwitches.cvDisableResourceLoaderIframe||this.initIFrame()}loadResourcePackage(P,D){return g.f.assertValue((0,o.JZ)(P),"resourcePackage is for a custom visual"),this.loadVisualPlugin(P,D)}loadResourcePackages(P){g.f.assertValue(P,"resourcePackages");var D=[];for(var w of P)D.push(this.loadResourcePackage(w));return this.promiseFactory.all(D)}loadTrustedResourcePackages(P){return g.f.assertFail("Not supported"),this.promiseFactory.reject()}loadSharedResource(P){return g.f.assertFail("Not supported"),this.promiseFactory.reject()}loadVisualPlugin(P,D){g.f.assertValue(P,"resourcePackage");var w=this.promiseFactory.defer();return this.loadResourcesContent(P).then(M=>{if(M&&!_.isEmpty(M)){var A=_.keyBy(M,"type"),R=A[s.Ut.CustomVisualMetadata];if(R)try{var W=(0,a.K)(R.content),F=(0,c.S)(W,this.locale,D?n.F.OrgStore:n.F.File);(0,v.L)(F);var U=l.N[F.name];U&&(F.favoriteId=U.favoriteId,F.isOutOfBox=U.isOutOfBox),F.developerModeVisual=P.developerModeVisual,F.apiVersion&&(0,t.lt)(F.apiVersion,p.AF)&&(F.isDeprecated=!0),l.N[F.name]=F,w.resolve(F)}catch(O){w.reject(O)}else{if(!this.iframe)return g.f.assertFail("Legacy visuals are not supported"),this.promiseFactory.reject();this.messageProxy.postMessageAsync({eventName:"loadVisualPluginWithContent",arguments:[{pluginName:P.name,mappedPluginContent:A}]}).then(O=>{var x=O,I=l.N[x.name];I&&!I.custom||(x.custom=!0,x.capabilities.objects=(0,r.vB)(x.capabilities.objects),(0,v.L)(x),this.approvedResourceService&&this.approvedResourceService.isApprovedVisualsDefined()&&(x.isDeprecated=!0),l.N[x.name]=x,w.resolve(x))}).catch(O=>{w.reject(O)})}}else w.resolve(null)}).catch(M=>{w.reject(M)}),w.promise}loadVisualPlugins(P){g.f.assertValue(P,"resourcePackages");var D=[];if(P)for(var w of P)D.push(this.loadVisualPlugin(w));return this.promiseFactory.all(D)}destroy(){this.iframe&&(this.iframe.remove(),this.iframe=null,this.messageProxy.destroy(),this.messageProxy=null,this.contentWindow=null)}initIFrame(){var P=this.sandboxLoaderUri,D={};i.s.getQueryStringValue("unmin")&&(D.unmin="1"),this.featureSwitchService.featureSwitches.cvEnableResourceLoaderCSP&&(D.csp=btoa(`default-src ${this.frontEndUrl} 'unsafe-inline'`)),P+=i.s.rebuildQueryString(D),this.iframe=$('<iframe role="presentation" class="sandbox-resource-loader ng-hide" sandbox="allow-scripts"></iframe>').attr("src",P).one("load",()=>this.onIFrameLoad()).appendTo(document.body)}onIFrameLoad(){this.contentWindow=this.iframe[0].contentWindow,this.messageProxy.contentWindow=this.contentWindow,this.messageProxy.flushQueue()}loadResourcesContent(P){var D=[],w=P.id,M=P.name;for(var A of P.items)A.type!==s.Ut.CustomVisualIcon&&D.push(this.loadResourceContent(w,M,A,P));return this.promiseFactory.all(D)}loadResourceContent(P,D,w,M){var A=this.promiseFactory.defer();return w.content?A.resolve(this.getItemContent(w.content,w)):this.provider.get(P,D,w.path).then(R=>{R?A.resolve(this.getItemContent(R,w)):P<0?A.reject("no blob content for client generated rps"):(0,d.dR)(M,w.name,this,this.promiseFactory).then(B=>{A.resolve(this.getItemContent(B,w))})}).catch(R=>{A.reject(R)}),A.promise}getItemContent(P,D){var w=_.isString(P)?P:JSON.stringify(P);return D.content=D.type===s.Ut.CustomVisualMetadata?w:void 0,{type:D.type,content:w}}}},70862:function(ve,j,e){e.d(j,{DQ:function(){return p},S4:function(){return s},qC:function(){return g},vB:function(){return n}});var r=e(996302),i=e(11864),a=e(650543),t=e(281210),l=e(914094);function g(y){return a.f.assertValue(y,"instances"),0===y.length?[]:_.map(y,d)}function n(y){return a.f.assertValue(y,"instances"),0===y.length?[]:_.map(y,o)}function p(y,S){return a.f.assertValue(y,"containers"),_.map(y,h=>({displayName:(0,t.G)(h.displayName,S)}))}function s(y){return a.f.assertValue(y,"containers"),_.map(y,S=>({displayName:S.displayName}))}function d(y){return{objectName:y.objectName,displayName:y.displayName,properties:v(y.properties),selector:(0,r.UZ)(y.selector),altConstantValueSelector:(0,r.UZ)(y.altConstantValueSelector),validValues:y.validValues,containerIdx:y.containerIdx,propertyInstanceKind:y.propertyInstanceKind}}function o(y){return{objectName:y.objectName,displayName:y.displayName,properties:m(y.properties),selector:(0,r.L1)(y.selector),altConstantValueSelector:(0,r.L1)(y.altConstantValueSelector),validValues:y.validValues,containerIdx:y.containerIdx,propertyInstanceKind:y.propertyInstanceKind}}function v(y){var S={};for(var h in y)S[h]=c(y[h]);return S}function m(y){var S={};for(var h in y)S[h]=C(y[h]);return S}function c(y){return y instanceof l.yl?i.ib.serializeFilter(y):void 0===y?null:y}function C(y){return y&&y.From&&y.Where?i.ib.deserializeFilter(y):y}},916416:function(ve,j,e){e.d(j,{qC:function(){return a},vB:function(){return t}});var r=e(996302),i=e(650543);function a(n){return i.f.assertValue(n,"repetitions"),_.isEmpty(n)?[]:_.map(n,l)}function t(n){return i.f.assertValue(n,"repetitions"),_.isEmpty(n)?[]:_.map(n,g)}function l(n){var p={selector:(0,r.UZ)(n.selector),altStaticSelector:(0,r.UZ)(n.altStaticSelector),objects:n.objects};return void 0!==n.allowOverrideSubtotalMatching&&(p.allowOverrideSubtotalMatching=n.allowOverrideSubtotalMatching),p}function g(n){var p={selector:(0,r.L1)(n.selector),altStaticSelector:(0,r.L1)(n.altStaticSelector),objects:n.objects};return void 0!==n.allowOverrideSubtotalMatching&&(p.allowOverrideSubtotalMatching=n.allowOverrideSubtotalMatching),p}},494522:function(ve,j,e){e.d(j,{DP:function(){return l},NO:function(){return t},_8:function(){return i},th:function(){return a}});var r=e(908911);function i(p){return{colorPalette:t(p.colorPalette),isHighContrast:p.isHighContrast,icons:p.icons}}function a(p){return{colorPalette:l(p.colorPalette),isHighContrast:p.isHighContrast,icons:p.icons}}function t(p){return{dataColors:g(p.dataColors),foreground:p.foreground,foregroundLight:p.foregroundLight,foregroundDark:p.foregroundDark,foregroundNeutralLight:p.foregroundNeutralLight,foregroundNeutralDark:p.foregroundNeutralDark,foregroundNeutralSecondary:p.foregroundNeutralSecondary,foregroundNeutralSecondaryAlt:p.foregroundNeutralSecondaryAlt,foregroundNeutralSecondaryAlt2:p.foregroundNeutralSecondaryAlt2,foregroundNeutralTertiary:p.foregroundNeutralTertiary,foregroundNeutralTertiaryAlt:p.foregroundNeutralTertiaryAlt,foregroundSelected:p.foregroundSelected,foregroundButton:p.foregroundButton,background:p.background,backgroundLight:p.backgroundLight,backgroundNeutral:p.backgroundNeutral,backgroundDark:p.backgroundDark,hyperlink:p.hyperlink,tableAccent:p.tableAccent,visitedHyperlink:p.visitedHyperlink,mapPushpin:p.mapPushpin,shapeStroke:p.shapeStroke,disabledText:p.disabledText,selection:p.selection,separator:p.separator}}function l(p){return{dataColors:n(p.dataColors),foreground:p.foreground,foregroundLight:p.foregroundLight,foregroundDark:p.foregroundDark,foregroundNeutralLight:p.foregroundNeutralLight,foregroundNeutralDark:p.foregroundNeutralDark,foregroundNeutralSecondary:p.foregroundNeutralSecondary,foregroundNeutralSecondaryAlt:p.foregroundNeutralSecondaryAlt,foregroundNeutralSecondaryAlt2:p.foregroundNeutralSecondaryAlt2,foregroundNeutralTertiary:p.foregroundNeutralTertiary,foregroundNeutralTertiaryAlt:p.foregroundNeutralTertiaryAlt,foregroundSelected:p.foregroundSelected,foregroundButton:p.foregroundButton,background:p.background,backgroundLight:p.backgroundLight,backgroundNeutral:p.backgroundNeutral,backgroundDark:p.backgroundDark,hyperlink:p.hyperlink,visitedHyperlink:p.visitedHyperlink,mapPushpin:p.mapPushpin,shapeStroke:p.shapeStroke,disabledText:p.disabledText,tableAccent:p.tableAccent,selection:p.selection,separator:p.separator}}function g(p){return{colors:p.getAllColors(),sentimentColors:p.getSentimentColors(),gradientColors:p.getGradientColors()}}function n(p){return new r.fJ(p.colors,p.sentimentColors,p.gradientColors)}},79392:function(ve,j,e){e.d(j,{G:function(){return o},k:function(){return v}});var r=e(167165),i=e(844668),a=e(955890),t=e(650543),l=e(882383),g=e(685030),n=e(557134),p=e(490889),s=e(659615),d=e(964564);function o(c,C,y,S,h,E,u){return new m(c,C,y,S,h,E,u)}var v=".pbiviz.json";class m{constructor(C,y,S,h,E,u,f){this.approvedResourceService=y,this.resourcePackagesService=S,this.featureSwitchService=h,this.telemetryService=E,this.onlyApprovedForServerRenderResources=u,this.resourceLoaderInitOptions=f,this.locale=C&&C.locale,this.promiseFactory=C.promiseFactory}loadTrustedResourcePackages(C){var y=[];if(C&&C.length>0){var S=9999;for(var h of C)if(a.N[h])y.push(this.promiseFactory.resolve([a.N[h]]));else{var E={id:S++,name:h,type:r.v.CustomVisual,items:[{name:h,type:n.Ut.CustomVisualMetadata,path:h+v}]};this.resourcePackagesService.registerPackages([E]),y.push(this.loadResourcePackage(E))}}return this.promiseFactory.all(y)}loadResourcePackages(C){t.f.assertValue(C,"resourcePackages");var y=[];for(var S of C)y.push(this.loadResourcePackage(S));return this.promiseFactory.all(y)}loadResourcePackage(C){return t.f.assertValue(C,"resourcePackage"),this.resourceLoaderInitOptions&&!this.resourceLoaderInitOptions.getApprovedResourcesEnabled()?this.promiseFactory.all([]):this.approvedResourceService.loadApprovedResourcesMetadata(this.promiseFactory,this.onlyApprovedForServerRenderResources).catch(S=>this.promiseFactory.reject(S)).then(()=>{var S=[];if(this.onlyApprovedForServerRenderResources&&!this.approvedResourceService.isApprovedResource(C.name))return this.promiseFactory.reject("Visual is not an approved visual");if(!this.approvedResourceService.hasApi(C.name))return this.promiseFactory.reject("The trusted visual does not have a supported API version for this client");var h=this.loadCustomVisualJson(C.name,C.isPublic);return h.catch(E=>this.promiseFactory.reject(E)),S.push(h),this.promiseFactory.all(S)})}loadResourcePackageItem(C,y){return t.f.assertFail("Not supported"),this.promiseFactory.reject()}loadSharedResource(C){return t.f.assertFail("Not supported"),this.promiseFactory.reject()}loadVisualPlugins(C){return t.f.assertFail("Not supported"),this.promiseFactory.reject()}loadVisualPlugin(C){return t.f.assertFail("Not supported"),this.promiseFactory.reject()}destroy(){}loadCustomVisualJson(C,y){var S=this.promiseFactory.defer(),h=(new Date).toISOString(),E=this.featureSwitchService?!!this.featureSwitchService.featureSwitches.consumePublicCvsWithoutRps:void 0;return this.approvedResourceService.getCustomVisualPbivizJson(C).then(u=>{var f=(new Date).toISOString();this.telemetryService.logEvent(p.EB,{visualType:C,fileName:this.approvedResourceService.customVisualJsonUrlBuilder(C),isClientGenerated:!!y,consumePublicCvsWithoutRps:E,start:h,end:f,parentId:this.telemetryService.root.id,isError:!1,errorSource:i.zH.PowerBI});var b=this.handleLoadResourceResponse(u.data);S.resolve(b)},u=>{var f=(new Date).toISOString(),b=this.handleLoadResourceError(u,C,this.approvedResourceService.customVisualJsonUrlBuilder(C),h,f,y);S.reject(b),S.reject(u.data)}),S.promise}handleLoadResourceError(C,y,S,h,E,u){var f=JSON.stringify(C);return this.telemetryService.logEvent(p.d7,{visualType:y,fileName:S,isClientGenerated:!!u,start:h,end:E,parentId:this.telemetryService.root.id,isError:!0,errorSource:i.zH.PowerBI,errorCode:f}),f}handleLoadResourceResponse(C){var y;try{y=(0,d.S)(C,this.locale,l.F.AppSource)}catch{return null}y.custom=!0,y.isDeprecated=this.approvedResourceService.isDeprecated(y.name),(y.name===g.Jo||y.name===g.C||y.name===g.x5&&this.featureSwitchService.featureSwitches.powerAutomateNativeVisual)&&(y.custom=!1);var S=a.N[y.name];return S&&(y.favoriteId=S.favoriteId,y.isOutOfBox=S.isOutOfBox),(0,s.L)(y),a.N[y.name]=y,y}}},379478:function(ve,j,e){e.d(j,{R:function(){return i}});var r=e(650543);class i{constructor(t){this.promiseFactory=t,r.f.assertValue(t,"promiseFactory"),this.promiseFactory=t}loadResourcePackage(t){return this.promiseFactory.resolve()}loadResourcePackages(t){return this.promiseFactory.resolve()}loadTrustedResourcePackages(t){return this.promiseFactory.resolve()}loadResourcePackageItem(t,l){return this.promiseFactory.resolve()}loadSharedResource(t){return this.promiseFactory.resolve()}loadVisualPlugin(t){return this.promiseFactory.resolve(null)}loadVisualPlugins(t){return this.promiseFactory.resolve()}destroy(){}}},472845:function(ve,j,e){e.d(j,{F:function(){return g},X:function(){return n}});var r=e(478542),i=e(844668),a=e(650543),t=e(685030),l=e(490889),g=function(s){return s[s.NotRequired=0]="NotRequired",s[s.Declined=1]="Declined",s[s.Approved=2]="Approved",s}({});function n(s,d){return new p(s,d)}class p{constructor(d,o){this.promiseFactory=d,this.telemetryService=o,this.cachedConsentMap={},this.visualConsentOptionsMap={}}registerVisualConsent(d,o){a.f.assertValue(o,"VisualConsentService: registerVisualConsent was called with missing options object"),a.f.assert(()=>!this.visualConsentOptionsMap[d],"VisualConsentService: registerVisual was already called for visual "+d),this.visualConsentOptionsMap[d]=o,this.telemetryService.logEvent(l.MU,{visualType:d,parentId:this.telemetryService.root.id,isError:!1,errorSource:i.zH.PowerBI}),this.loadConsentAsync(d)}hasConsent(d){return this.cachedConsentMap[d]}setConsent(d,o){if(!this.isConsentRequiringVisual(d))return this.promiseFactory.reject("Visual type does not require consent");this.cachedConsentMap[d]=o;var v=this.visualConsentOptionsMap[d]&&this.visualConsentOptionsMap[d].consentPersistencyProvider;return this.telemetryService.logEvent(l.tH,{visualType:d,userConsent:o,parentId:this.telemetryService.root.id,isError:!1,errorSource:i.zH.PowerBI}),v?v.saveConsent(o):this.promiseFactory.reject("No persistencyProvider was set for visual "+d)}getConsent(d){var o=this,v=[];d=_.uniq(d),this.telemetryService.logEvent(l.Jf,{visualTypes:d.join(", "),parentId:this.telemetryService.root.id,isError:!1,errorSource:i.zH.PowerBI});var m=function(C){if(!o.isConsentRequiringVisual(C))return v.push(o.promiseFactory.resolve({visualType:C,consent:g.NotRequired})),1;v.push(o.loadConsentAsync(C).then(S=>S?o.promiseFactory.resolve({visualType:C,consent:g.Approved}):o.showConsentDialog(C)))};for(var c of d)m(c);return this.promiseFactory.allSettled(v).then(C=>_.map(_.filter(C,y=>y.type===r.X.Success),y=>y.value))}isConsentRequiringVisual(d){return!!this.visualConsentOptionsMap[d]}loadConsentAsync(d){if(a.f.assertValue(this.visualConsentOptionsMap[d],"VisualConsentService.getConsentAsync: Visual type is not registered for consent"),void 0!==this.cachedConsentMap[d])return this.promiseFactory.resolve(this.cachedConsentMap[d]);var o=this.visualConsentOptionsMap[d]&&this.visualConsentOptionsMap[d].consentPersistencyProvider;return o?o.loadConsent().then(v=>(this.cachedConsentMap[d]=v,this.promiseFactory.resolve(v))).catch(v=>{if(v!==t.VT)return this.promiseFactory.reject(v)}):this.promiseFactory.reject("VisualConsentService.getConsentAsync: Missing consentPersistencyProvider for visual "+d)}showConsentDialog(d){if(!this.isConsentRequiringVisual(d))return this.promiseFactory.reject("VisualConsentService.showConsentDialog: Visual type does not require consent");var o=this.visualConsentOptionsMap[d]&&this.visualConsentOptionsMap[d].consentDialogProvider;return o?o.showConsentDialog().then(v=>(this.setConsent(d,v),this.promiseFactory.resolve({visualType:d,consent:v?g.Approved:g.Declined}))).catch(v=>this.promiseFactory.reject(v)):this.promiseFactory.reject("VisualConsentService.showConsentDialog: Missing consentDialogProvider for visual "+d)}}},205903:function(ve,j,e){function r(){return new i}e.d(j,{z:function(){return r}});class i{constructor(){this.listeners=[]}associate(t,l){for(var g of this.listeners)g.onInstanceAssociated(t,l)}subscribeToInstanceIdAssociation(t){_.includes(this.listeners,t)||this.listeners.push(t)}}},268335:function(ve,j,e){e.d(j,{Os:function(){return p},ZM:function(){return g},wl:function(){return n}});var r=e(955890),i=e(650543),a=e(685030),t=e(490889),l=e(66583);class g{constructor(){this.visualPlugins={},this.loadedVisualPlugins={}}getLoadedPlugins(){return _.map(this.loadedVisualPlugins,d=>d)}getLoadedPlugin(d){return this.loadedVisualPlugins[d]}hasPlugin(d){return!!this.visualPlugins[d]}loadPlugin(d,o){if(o){var v=this.visualPlugins[d];(null==v||!0===v.custom||o.developerModeVisual)&&(this.visualPlugins[d]=o)}this.loadedVisualPlugins[d]=this.visualPlugins[d]}unloadPlugin(d){delete this.loadedVisualPlugins[d]}}function n(s,d,o,v,m,c){i.f.assertValue(d,"promiseFactory"),i.f.assertValue(v,"resourcePackage");var C=d.defer();if(v.name===a.C&&!v.isPublic)return C.resolve(null),C.promise;if(!m&&s.hasPlugin(v.name))s.loadPlugin(v.name),C.resolve(null);else if(!m&&r.N[v.name])s.loadPlugin(v.name,r.N[v.name]),C.resolve(null);else if(_.isEmpty(v.items))C.reject("Resource package does not contain any items");else{var y;i.f.assertValue(o,"resourceLoader"),c&&(y=c.startEvent(t.F$,{resourcePackageName:v.name})),o.loadResourcePackage(v).catch(S=>{i.f.assertFail("Custom visual "+v.name+" failed to load: "+S)}).finally(()=>{var S=r.N[v.name];S?(S.iconUrl||(S.iconUrl=(0,l.sG)(v.name)),s.loadPlugin(S.name,S),C.resolve(null),y&&y.resolve()):(C.reject("Unable to load visual plugin from resource package"),y&&y.reject())})}return C.promise}function p(s,d){for(var o of(i.f.assertValue(s,"storage"),i.f.assertValue(d,"plugins"),d))s.loadPlugin(o.name,o)}},66583:function(ve,j,e){e.d(j,{i8:function(){return w},sG:function(){return A}});var r=e(582166),i=e(112754),a=e(515996),t=e(27663),l=e(214201),g=e(525350),n=e(630652),p=e(322543),s=e(40545),d=e(223789),o=e(257790),v=e(561449),m=e(587233),c=e(502202),C=e(159601),y=e(951504),S=e(377317),h=e(857472),E=e(153293),u=e(227613),f=e(745082),b=e(741714),V=e(896286),T=e(579010),P=e(621083);function w(R,B,N,W){return function(R,B,N,W){var F=(0,V.ED)(R);return F.create=B,F.createES6=N,W&&W(F),F}(R,B,W,F=>function(R,B){if(B)switch(R.name){case b.D.scatterChart:R.capabilities=(0,m.r4)(B);break;case b.D.areaChart:R.capabilities=(0,d.yg)(!1,!0,B);break;case b.D.lineChart:R.capabilities=(0,d.yg)(!1,!1,B);break;case b.D.stackedAreaChart:case b.D.hundredPercentStackedAreaChart:R.capabilities=(0,d.yg)(!0,!0,B);break;case b.D.waterfallChart:R.capabilities=(0,f.G)(B);break;case b.D.lineStackedColumnComboChart:R.capabilities=(0,a.p)(!0,B);break;case b.D.lineClusteredColumnComboChart:R.capabilities=(0,a.p)(!1,B);break;case b.D.columnChart:case b.D.hundredPercentStackedColumnChart:R.capabilities=(0,i.nn)(!1,!0,!1,B);break;case b.D.barChart:case b.D.hundredPercentStackedBarChart:R.capabilities=(0,i.nn)(!0,!0,!1,B);break;case b.D.clusteredBarChart:R.capabilities=(0,i.nn)(!0,!1,!1,B);break;case b.D.clusteredColumnChart:R.capabilities=(0,i.nn)(!1,!1,!1,B);break;case b.D.ribbonChart:R.capabilities=(0,i.nn)(!1,!0,!0,B);break;case b.D.pivotTable:R.capabilities=(0,v.R)(B);break;case b.D.filledMap:R.capabilities=(0,g.XN)(B);break;case b.D.azureMap:R.capabilities=(0,r.$E)(B);break;case b.D.map:R.capabilities=(0,o.N)(B);break;case b.D.donutChart:case b.D.pieChart:R.capabilities=(0,l.cw)(B);break;case b.D.kpi:R.capabilities=(0,s.pW)(B);break;case b.D.funnel:R.capabilities=(0,n.qW)(B);break;case b.D.shapeMap:R.capabilities=(0,c.x)(B);break;case b.D.table:R.capabilities=(0,S.Y)(B);break;case b.D.tableEx:R.capabilities=(0,h.k)(B);break;case b.D.treemap:R.capabilities=(0,u.c)(B);break;case b.D.slicer:R.capabilities=(0,C.st)(B);break;case b.D.keyDriversVisual:R.capabilities=(0,p.yM)();break;case b.D.decompositionTreeVisual:R.capabilities=(0,t.Sd)(B);break;case b.D.advancedSlicerVisual:R.capabilities=(0,y.O)(P.yY.Tile,B);break;case b.D.cardVisual:R.capabilities=(0,T.gl)(B);break;case b.D.textSlicer:R.capabilities=(0,E.Wr)(B);break;case b.D.listSlicer:R.capabilities=(0,y.O)(P.yY.List,B)}}(F,N))}function A(R){var N=$("#css-"+R)[0],W=_.find(document.styleSheets,O=>O.ownerNode===N);if(W&&W.cssRules)for(var F=0;F<W.cssRules.length;F++){var U=W.cssRules[F];if(U.selectorText&&U.selectorText===".visual-icon."+R)return U.style.backgroundImage}return""}},769022:function(ve,j,e){e.d(j,{R:function(){return a},w:function(){return t}});var r=e(882924),i=e(955890);function a(l){return!!i.N[l]}function t(l,g,n,p,s,d,o){var v;s&&s.isRunning()&&(v=s.createChildActivity({name:r.R.VisualContainerModuleLoad}));var m=()=>{var C=g.getPlugin(l);return C&&C.module?C.createES6&&!C.module.css?(v&&v.resolve(),Promise.resolve(C)):n.require({javascript:C.createES6?void 0:C.module.javascript,css:C.module.css}).then(()=>(v&&v.resolve(),C),()=>(v&&v.reject(),null)):(v&&(C?v.resolve():v.reject()),Promise.resolve(C))};if(o){var c=o.ensureCustomVisual(l);if(c)return c.then(m)}return m()}},12135:function(ve,j,e){e.d(j,{Se:function(){return p},vh:function(){return g},vt:function(){return s},ww:function(){return n}});var r=e(16990),i=e(140346),a=e(741714),t=["play","subview","smallMultiple"],l=new r.o(()=>({[a.D.card]:!0,[a.D.gauge]:!0,[a.D.image]:!0,[a.D.kpi]:!0,[a.D.textbox]:!0}));function g(d,o){return d?!!d.custom:!_.includes(t,o)}function n(d){return d&&d.capabilities&&d.capabilities.dataViewMappings&&!!(0,i.oy)(d.capabilities.dataViewMappings)}function p(d,o){return"pythonVisual"===d||!(!o||!o.scriptVisualEnabled)}function s(d){return!!d&&!!l.getValue()[d.name]}},964564:function(ve,j,e){e.d(j,{S:function(){return T}});var r=e(149356),i=e(951202),a=e(650543),t=e(87072),l=e(562832),g=e(630881),n=e(929248),p=15,s=3e4,d=1,o=2e3;function S(P){return!!(P&&P.propertyIdentifier&&P.propertyIdentifier.objectName&&P.propertyIdentifier.propertyName)}class f{constructor(D){this.expectedContext=D,this._items=[]}get items(){return this._items}visitRole(D,w){w===this.expectedContext&&this._items.push(...D.items||[])}static fromMatrixRows(D){if(!D.rows)return[];var w=new this(i.QD.MatrixRowsGroup);return(0,i.Ay)(D.rows,w),w.items}static fromMatrixColumns(D){if(!D.columns)return[];var w=new this(i.QD.MatrixColumnsGroup);return(0,i.yL)(D.columns,w),w.items}}function b(P,D){var w;if(D)return P&&(w=P[D.propertyIdentifier.objectName]),(0,l.N)(w,D.propertyIdentifier.propertyName,D.defaultValue)}var V=e(137626);function T(P,D,w){a.f.assertAnyValue(P,"pbivizjson"),a.f.assertAnyValue(P.content,"content"),a.f.assertAnyValue(P.content.iconBase64,"iconBase64"),P=D?(0,V.zQ)(P,D):P;var M=D?(0,V.qL)(P,D):null,A=(0,V.qL)(P,"en-US"),B={name:P.visual.guid,apiVersion:P.apiVersion,class:P.visual.visualClassName,displayName:P.visual.displayName,capabilities:P.capabilities,custom:!0,iconUrl:'url("'+P.content.iconBase64+'")',content:P.content,version:P.visual.version,create:()=>null,customizeQuery:N=>null,localizationResources:M||A?{enUSStrings:A,localizedStrings:M}:null,supportUrl:P.visual.supportUrl,source:w,publisher:P.author?P.author.name:void 0};return P.capabilities&&(P.capabilities.subtotals||P.capabilities.dataReductionCustomization)&&(B.customizeQuery=N=>function(P,D){D&&D.subtotals&&D.subtotals.matrix&&function(P){return P&&function(P){return P&&S(P.columnSubtotals)&&S(P.columnSubtotalsPerLevel)&&S(P.levelSubtotalEnabled)&&S(P.rowSubtotals)&&S(P.rowSubtotalsPerLevel)}(P.matrix)}(D.subtotals)&&function(P,D){a.f.assert(()=>!!P,"options not defined"),a.f.assert(()=>!!P.dataViewMappings,"dataViewMappings not defined");var w=P.dataViewMappings[0];if(w&&w.matrix&&w.metadata){var M=w.matrix;(function(P,D,w){var M=P.metadata.objects,A=P.metadata.columns,R=f.fromMatrixRows(D),B=b(M,w.rowSubtotals),N=b(M,w.rowSubtotalsPerLevel),W=r.F.After;if(null!=w.rowSubtotalsType&&b(M,w.rowSubtotalsType)===g.j.Top&&(W=r.F.Before),!_.isEmpty(R)){var U=function(x){var I=_.find(A,K=>K.queryName===x.queryName);if(!I)return 1;var L=b(I.objects,w.levelSubtotalEnabled);x.subtotalType=!B||N&&!L?r.F.None:W};for(var O of R)U(O)}})(w,M,D),function(P,D,w){var M=P.metadata.objects,A=P.metadata.columns,R=f.fromMatrixColumns(D),B=b(M,w.columnSubtotals),N=b(M,w.columnSubtotalsPerLevel);if(!_.isEmpty(R)){var W=function(U){var O=_.find(A,I=>I.queryName===U.queryName);if(!O)return 1;var x=b(O.objects,w.levelSubtotalEnabled);U.subtotalType=!B||N&&!x?r.F.None:r.F.After};for(var F of R)W(F)}}(w,M,D)}}(P,D.subtotals.matrix),D&&D.dataReductionCustomization&&function(P,D){var w=P?.dataViewMappings?.[0],M=w?.metadata?.objects,A=(0,t._1)(P.dataViewMappings),R=function(P,D,w){var M=!0;if(!D||!D.dataReductionCustomization)return!1;switch(P){case n.m.Matrix:if(w.matrix){var A=b(D,w.matrix.rowCount),R=b(D,w.matrix.columnCount);void 0!==A&&(M=M&&A>=p&&A<=s),void 0!==R&&(M=M&&R>=d&&R<=o)}break;case n.m.Table:if(w.table){var B=b(D,w.table.rowCount);void 0!==B&&(M=M&&B>=p&&B<=s)}break;case n.m.Categorical:if(w.categorical){var N=b(D,w.categorical.categoryCount),W=b(D,w.categorical.groupedValuesCount);void 0!==N&&(M=M&&N>=p&&N<=s),void 0!==W&&(M=M&&W>=d&&W<=o)}}return M}(A,M,D);if(R)switch(A){case n.m.Matrix:var B=b(M,D.matrix.rowCount),N=b(M,D.matrix.columnCount),W=w.matrix?.columns?.dataReductionAlgorithm,F=w.matrix?.rows?.dataReductionAlgorithm;N&&W&&(W[(0,t.Xs)(W)].count=N),B&&F&&(F[(0,t.Xs)(F)].count=B);break;case n.m.Table:var x=b(M,D.table.rowCount),I=w?.table?.rows?.dataReductionAlgorithm;x&&I&&(I[(0,t.Xs)(I)].count=x);break;case n.m.Categorical:var K=b(M,D.categorical.categoryCount),z=b(M,D.categorical.groupedValuesCount),H=w?.categorical?.values?.group?.dataReductionAlgorithm,J=w?.categorical?.categories?.dataReductionAlgorithm;z&&H&&(H[(0,t.Xs)(H)].count=z),K&&J&&(J[(0,t.Xs)(J)].count=K)}}(P,D.dataReductionCustomization)}(N,P.capabilities)),B}},464597:function(ve,j,e){e.d(j,{et:function(){return a},zC:function(){return n},zM:function(){return t}});var r=e(650543),i=e(301336),a="message",t="error",l="message",g="onMessageProxyAsyncComplete";function n(s,d){return new p(s,d)}class p{constructor(d,o){this.promiseFactory=d,this._queue=[],this._allowSameWindow=!1,this.handlers={message:[],error:[]},this.isFlushing=!1,o&&(this._contentWindow=o),this.deferredCache={},this.windowMessageHandler=v=>this.onMessageReceived(v.originalEvent),$(window).on(l,this.windowMessageHandler)}get allowSameWindow(){return this._allowSameWindow}set allowSameWindow(d){this._allowSameWindow=d}get contentWindow(){return this._contentWindow}set contentWindow(d){r.f.assertValue(d,"value"),this._contentWindow=d}get queue(){return jQuery.extend([],this._queue)}postMessage(d){this.contentWindow?this.sendMessage(d):this.queueMessage(d)}postMessageAsync(d){var o=this.promiseFactory.defer(),v=this.createRandomString();return this.deferredCache[v]=o,d.id=v,this.postMessage(d),o.promise.finally(()=>{delete this.deferredCache[v]}),o.promise}queueMessage(d,o){void 0===o&&(o=this._queue.length);var v=this.prepareMessage(d);this._queue.splice(o,0,v)}on(d,o){r.f.assertValue(d,"type"),r.f.assertValue(o,"handler"),this.handlers[d]&&(this.handlers[d].indexOf(o)>-1||this.handlers[d].push(o))}off(d,o){if(r.f.assertValue(d,"type"),this.handlers[d]){if(!o)return void(this.handlers[d].length=0);var v=this.handlers[d].indexOf(o);v>-1&&this.handlers[d].splice(v,1)}}flushQueue(){this.isFlushing||!this.contentWindow||(this.isFlushing=!0,this.contentWindow.postMessage&&this.contentWindow.postMessage(this._queue,"*"),this._queue.length=0,this.isFlushing=!1)}sendMessage(d){var o=this.prepareMessage(d);this.contentWindow?this.contentWindow.postMessage&&this.contentWindow.postMessage(o,"*"):r.f.assertFail("contentWindow not set")}prepareMessage(d){var o;try{o=JSON.stringify(d)}catch(v){throw o=null,i.b$.ensureError(v)}return o}onMessageReceived(d){if(this.allowSameWindow||d.source!==window){var o;try{o="string"==typeof d.data?JSON.parse(d.data):d.data}catch(y){o=null}if(o){var v=jQuery.isArray(o)?o:[o];for(var m of v){var c=void 0,C=void 0;try{"string"==typeof m?(c=JSON.parse(m),C=m.length):(c=m,C=d.data.length)}catch(y){c=null}if(!c)return;this.dispatchMessage(d,c,C)}}}}dispatchMessage(d,o,v){var m={message:o,source:d.source,origin:d.origin,packedSize:v};if(o.id&&(o.eventName===g||o.result||o.error)){var c=this.deferredCache[o.id];return c?o.error?c.reject(o.error):c.resolve(o.result):void 0}var C=o.error?this.handlers.error:this.handlers.message;for(var y of C)this.invokeHandler(y,m)}invokeHandler(d,o){var v,m;o.message.id&&(m={id:o.message.id,eventName:g,arguments:[]});try{v=d.call(null,o),m&&this.promiseFactory.when(v).then(c=>{m.result=c,this.postMessage(m)}).catch(c=>{m.error=c,this.postMessage(m)})}catch(c){m&&(m.error={message:c.message},this.postMessage(m))}}createRandomString(){return(Math.random()+1).toString(36).substring(7)}destroy(){this.handlers.message.length=0,this.handlers.error.length=0,$(window).off(l,this.windowMessageHandler),this.windowMessageHandler=null}}},490889:function(ve,j,e){e.d(j,{B0:function(){return z},Cl:function(){return w},Cq:function(){return o},Cx:function(){return q},EB:function(){return l},F$:function(){return s},FM:function(){return G},IX:function(){return K},JT:function(){return A},Jf:function(){return S},LU:function(){return n},MU:function(){return m},OO:function(){return E},Qr:function(){return f},XH:function(){return R},bn:function(){return Q},d7:function(){return a},eb:function(){return W},ek:function(){return k},fU:function(){return x},hZ:function(){return J},jN:function(){return P},ok:function(){return I},sT:function(){return V},tH:function(){return C},w9:function(){return L},wY:function(){return U}});var r=e(641409),i="PBI.ApprovedResource.FailLoaded",a=r.cx[i]=(0,r.b1)(i),t="PBI.ApprovedResource.SuccessfulLoad",l=r.cx[t]=(0,r.b1)(t),g="PBI.ApprovedResource.EndpointDown",n=r.cx[g]=(0,r.b1)(g),p="PBI.ApproveResource.LoadResourcePackage",s=r.cx[p]=(0,r.b1)(p),d="PBI.AppSourceResource.EndpointDown",o=r.cx[d]=(0,r.b1)(d),v="PBI.VisualConsent.Register",m=r.cx[v]=(0,r.b1)(v),c="PBI.VisualConsent.Set",C=r.cx[c]=(0,r.b1)(c),y="PBI.VisualConsent.Get",S=r.cx[y]=(0,r.b1)(y),h="PBI.VisualEvent.DownloadContentEvent",E=r.cx[h]=(0,r.b1)(h),u="PBI.TrustedVisual.Load",f=r.cx[u]=(0,r.b1)(u),b="PBI.TrustedVisual.GetConsent",V=r.cx[b]=(0,r.b1)(b),T="PBI.VisualAuthentication.GetResourceUrl",P=r.cx[T]=(0,r.b1)(T),D="PBI.VisualAuthentication.GetAADToken",w=r.cx[D]=(0,r.b1)(D),M="PBI.VisualAuthentication.GetWACToken",A=r.cx[M]=(0,r.b1)(M),R="PBI.LocalResource.LoadResourcePackageItem",N=(r.cx[R]=(0,r.b1)(R),"PBI.VisualAuthentication.BlockAccessToken"),W=r.cx[N]=(0,r.b1)(N),F="PBI.AdminControl.Initialized",U=r.cx[F]=(0,r.b1)(F),O="PBI.Pbiviz.UnzipFailed",x=r.cx[O]=(0,r.b1)(O),I="PBI.CustomVisualsLicense.LicensesLoaded",L=r.cx[I]=(0,r.b1)(I),K="PBI.CustomVisualsLicense.GetServicePlansCalled",z=r.cx[K]=(0,r.b1)(K),H="PBI.CustomVisualsLicense.PrefetchServicePlansCalled",J=r.cx[H]=(0,r.b1)(H),k="PBI.VisualEvent.LocalStorageV2Event",G=r.cx[k]=(0,r.b1)(k),q="PBI.VisualEvent.AcquireAADToken",Q=r.cx[q]=(0,r.b1)(q)},952363:function(ve,j,e){e.d(j,{Mm:function(){return s},Ro:function(){return n},Xf:function(){return b},aM:function(){return V},bL:function(){return y},cg:function(){return f},fA:function(){return C},jK:function(){return m},nn:function(){return u},oq:function(){return c},qe:function(){return S},st:function(){return h},ul:function(){return v},wn:function(){return T}});var o,r=e(490889),i=e(685030),a=e(482693),t=e(893910),l=e(741714),g=e(517370),n={objectName:"general",propertyName:"filter"},p=function(P){return P[P.FeatureIsDisabled=0]="FeatureIsDisabled",P[P.AllCustomVisualsAreEnabled=1]="AllCustomVisualsAreEnabled",P[P.AllCustomVisualsAreDisabled=2]="AllCustomVisualsAreDisabled",P[P.NonCertifiedCustomVisualsAreDisabled=3]="NonCertifiedCustomVisualsAreDisabled",P[P.FailedEvaluatingState=4]="FailedEvaluatingState",P}({}),s=function(P){return P[P.Unclassified=0]="Unclassified",P[P.NonCertifiedCustomVisual=1]="NonCertifiedCustomVisual",P[P.NonCdnCustomVisual=2]="NonCdnCustomVisual",P[P.CertifiedCustomVisual=3]="CertifiedCustomVisual",P[P.OrganizationalStore=4]="OrganizationalStore",P[P.Native=5]="Native",P}({}),d=[i.Jo,i.C,i.x5];function v(P,D,w){if(void 0===o)try{if(!(D&&P&&P.featureSwitches&&P.featureSwitches.customVisualsTenantSwitch))return o=p.FeatureIsDisabled;D.logChildEvent(w&&w.event,r.wY,{AdminControlState:p[o=P.featureSwitches.customVisualsTenantEnabled?P.featureSwitches.certifiedCustomVisualsTenantEnabled?p.NonCertifiedCustomVisualsAreDisabled:p.AllCustomVisualsAreEnabled:p.AllCustomVisualsAreDisabled]})}catch{o=p.FailedEvaluatingState}return o}function m(P,D,w,M,A,R,B){return R||B?E(D,!0,R,B,w,M,A):E(D,P.featureSwitches.customVisualsTenantSwitch,!P.featureSwitches.customVisualsTenantEnabled,P.featureSwitches.certifiedCustomVisualsTenantEnabled,w,M,A)}function c(P){return!(!P||!P.capabilities)&&(P.custom?P.apiVersion&&(0,t.gt)(P.apiVersion,"3.5.0")&&P.capabilities.supportsEmptyDataView:P.capabilities.supportsEmptyDataView)}function C(P){return!(!P||!P.apiVersion)&&(0,t.ge)(P.apiVersion,"2.0.0")}function y(P,D){return D||P.featureSwitches.customVisualsTenantSwitch&&!P.featureSwitches.customVisualsTenantEnabled}function S(P){return P&&_.endsWith(P,i.c2)}function h(P){return d.includes(P)}function E(P,D,w,M,A,R,B){return!(!D||P===i.Jo||h(P)||S(P)||B)&&(!!w||!(!M||A.isApprovedResourceServerRender(P))&&(!R||A.isApprovedVisualsDefined()))}function u(P,D,w){return w?S(D)?s.OrganizationalStore:P.isApprovedVisualsDefined()?P.isApprovedResourceServerRender(D)?s.CertifiedCustomVisual:P.isApprovedResource(D)?s.NonCertifiedCustomVisual:s.NonCdnCustomVisual:s.Unclassified:s.Native}function f(P){switch(P){case g.D.AllowScripts:return"allow-scripts";case g.D.AllowPopups:return"allow-popups";case g.D.AllowSameOrigin:return"allow-same-origin";case g.D.AllowForms:return"allow-forms";case g.D.AllowTopNavigationByUserActivation:return"allow-top-navigation-by-user-activation";case g.D.AllowDownloads:return"allow-downloads"}}function b(P){return P&&P===l.D.debugVisual}function V(P,D){return D?P.substring(0,P.lastIndexOf("_DEBUG")):P}function T(P){var D=(0,a.VM)(P.objects,n),w=D?.type;return!(!w||!w.filter||w.filter.selfFilter)}},97964:function(ve,j,e){e.d(j,{PR:function(){return u},z_:function(){return h},dR:function(){return b},sQ:function(){return S},yl:function(){return E},FD:function(){return f},CJ:function(){return y},k4:function(){return T},_q:function(){return P}});var r=e(882924),i=e(167165),a=e(996302),t=e(650543),l=e(84838),g=e(704251),n=e(719242),p=e(442407),s=e(62396),d=e(231418),o=e(557134);function v(M,A){return c(M,A,!1)}function m(M,A){return c(M,A,!0)}function c(M,A,R){if(void 0!==M){var B=A.defer(),N=new FileReader;return N.onload=function(){B.resolve(N.result)},N.onerror=function(){B.reject(N.error)},R?N.readAsText(M):N.readAsDataURL(M),B.promise}}var C=e(216070);function y(M,A,R,B,N,W){if(t.f.assertValue(N,"promiseFactory"),!M)return N.resolve(null);var F=w(M,A,W),U=[];for(var O of F){var x=O.getRefValue();U.push(E(x,R(),B,N,{itemTypeFromReference:O.itemType}))}return N.all(U)}function S(M,A,R,B,N,W,F){if(t.f.assertValue(N,"promiseFactory"),!M)return N.resolve(null);var U=(0,a.xF)(M,A,void 0,!1),O=(0,a.wN)(U,A),x=w(O,A),I=[],L=function(H){var J=H.getRefValue(),k=null!=F&&F.isRunning()?F.createChildActivity({name:r.R.ResourcePackageItemsLoad,resourceType:J.packageType}):void 0,G=E(J,R,B,N,{usePersistableFormat:W,itemTypeFromReference:H.itemType}).then(q=>{H.setRefValue(q),k&&k.resolve()}).catch(q=>{k&&k.reject(q)});I.push(G)};for(var K of x)L(K);var z=N.defer();return N.all(I).then(()=>z.resolve(O)),z.promise}function h(M,A){return!!M&&w(M,A).length>0}function E(M,A,R,B,N){return f(A,{packageType:M.packageType,packageName:M.packageName,itemName:M.itemName},R,B,N).then(F=>null==F?(0,p.IF)():(0,p.fL)(F),F=>(0,p.IF)())}function u(M){return t.f.assertValue(M,"getLoadAndResolveErrorReason: No reason given"),M?"string"==typeof M?M:null!=M.status?M.status.toString():M.stack?M.stack.toString():M.message?M.message.toString():"Unknown reason":"No reason given"}function f(M,A,R,B,N){var W=(0,C.pd)(M,A.packageType,A.packageName);if(!W){var F;if(l.fM.error(`Missing resource package ${A.packageType}`,!0),A.packageType===i.v.SharedResources&&N&&null!=(F=N.itemTypeFromReference)){var U=(0,C.np)(A.itemName,F);return R.loadSharedResource(U,F).catch(O=>{l.fM.error(`Error loading shared resource from app ${U} ${u(O)}`,!1)})}return B.resolve()}return b(W,A.itemName,R,B,N)}function b(M,A,R,B,N){var W=N&&N.usePersistableFormat,F=N&&N.itemTypeFromReference;if(t.f.assertValue(M,"resource package should exist"),!M)return B.reject(new Error("loadAndResolveContent: no package"));var O,U=(0,C.NW)(M,A);if(!U&&M.type===i.v.SharedResources&&F&&M&&F&&(U=(0,C.x_)(A,F),M.items.push(U)),t.f.assertValue(U&&U.path,"resourcePackageReferenceLoader.loadAndResolveContent -\n                In order to load the content of a resource package, the resource package item should exist and have a path"),!U||!U.path)return l.fM.error(`Missing resource item or path !resourcePackageItem=${!U}, resourcePackageItem.path=${U&&U.path}`,!0),B.resolve();if(M.type===i.v.SharedResources){var x=U.content;O=x?B.resolve(x):U.promise?U.promise:U.promise=R.loadSharedResource(U.path,U.type).finally(()=>{delete U.promise}).then(L=>L instanceof Blob?U.contentBlob=L:(_.isString(L)||(L=JSON.stringify(L)),U.content=L),L=>{throw l.fM.error(`Error loading shared resource from app ${U.path} ${u(L)}`,!1),L})}else O=R.loadResourcePackageItem(M,A);var I=B.defer();return O.then(()=>{(function(M,A,R,B,N){var W=null;if(A){var F=N??A.type,U=F===o.Ut.ShapeMap,O=F===o.Ut.BaseTheme||F===o.Ut.CustomTheme||F===o.Ut.HighContrastTheme,x=M.type===i.v.OrganizationalStoreCustomVisual||M.type===i.v.CustomVisual,I=A.content;if(I)(U||O)&&(0,g.pU)(I)&&(I=(0,g.Fj)((0,g.DJ)(I))),W=I;else if(A.contentBlob){if(M.type===i.v.SharedResources&&A.type===o.Ut.Image||B||U||x||O){var L=R.defer();return(U||x||O?m:v)(A.contentBlob,R).then(z=>L.resolve(z),z=>L.resolve(null)),L.promise}A.contentBlobUrl||(A.contentBlobUrl=window.URL.createObjectURL(A.contentBlob)),W=A.contentBlobUrl}}return R.resolve(W)})(M,U,B,W,F).then(L=>I.resolve(L))}).catch(L=>I.reject(L)),I.promise}function V(M,A,R,B){if(R){var N=(0,C.pd)(R,i.v.RegisteredResources);return N?A.loadResourcePackageItem(N,B):M.reject(new Error("loadRegisteredResource: no RegisteredResources package"))}return M.reject(new Error("loadRegisteredResource: no packages"))}function T(M,A,R,B){return V(M,A,R,B).then(W=>(t.f.assert(()=>W instanceof Blob||null==W||"string"==typeof W,"resource item content expected to be Blob or string"),W instanceof Blob?v(W,M):("string"==typeof W&&!(0,g.pU)(W)&&(W=(0,g.wo)(W)),W)))}function P(M,A,R,B){return V(M,A,R,B).then(W=>(t.f.assert(()=>W instanceof Blob||null==W||"string"==typeof W,"resource item content expected to be Blob or string"),W instanceof Blob?m(W,M):W)).then(W=>{try{"string"==typeof W&&(0,g.pU)(W)&&(W=(0,g.Fj)((0,g.DJ)(W)))}catch(F){throw l.fM.error(`Error decoding registeredResource: ${JSON.stringify(F)}`,!!F.stack),F}return W})}function w(M,A,R){t.f.assertValue(M,"definitions");var B=[];return(0,n.Vj)({definitions:M,descriptors:A,visitor:(N,W,F,U,O)=>{var x=U&&U.geoJson&&1===O.length&&"content"===O[0];if(x){var I=W;if(I.type.kind===s.sc.Constant&&I.name.kind===s.sc.Constant&&I.content.kind===s.sc.Constant&&I.type.value===d.c1){var K=I.name.value;"string"==typeof K&&null==I.content.value&&(R&&R(K,o.Ut.ShapeMap),N=(0,p.nF)((0,C.RJ)(i.v.SharedResources),i.v.SharedResources,K),I.content=N)}}if(N instanceof p.nd){var H={getRefValue:()=>W[F],setRefValue:J=>{W[F]=J}};x&&(H.itemType=o.Ut.ShapeMap),B.push(H)}}}),B}},216070:function(ve,j,e){e.d(j,{EK:function(){return S},In:function(){return s},JZ:function(){return y},Jp:function(){return p},NM:function(){return d},NW:function(){return m},RJ:function(){return c},Yu:function(){return v},np:function(){return g},pd:function(){return o},wq:function(){return C},x_:function(){return n}});var r=e(167165),i=e(650543),a=e(685030),t=e(557134),l={};function g(E,u){return l[u](E)}function n(E,u,f){return{type:u,path:g(E,u),name:E,content:f}}function p(E){return _.keyBy(_.filter(E,u=>s(u)),u=>u.name)}function s(E){return i.f.assertValue(E,"resourcePackage should exist in order to verify if it's a static resource"),i.f.assertValue(E.type,"resourcePackageType should exist in order to verify if it's a static resource"),!!a.uT[E.type]}function d(E,u,f){i.f.assert(()=>_.isArray(E),"resourcePackages should be an array"),f=c(u,f);var b=o(E,u,f);return b||E.push(b={id:void 0,name:f,type:u,items:[]}),b}function o(E,u,f){return i.f.assert(()=>null==E||_.isArray(E),"Resource packages should be: null, undefined or an array"),f=c(u,f),_.find(E,b=>b.type===u&&b.name===f)}function v(E,u,f,b){return m(o(E,u,b),f)}function m(E,u){return i.f.assertAnyValue(E,"It's possible it doesn't exist, lodash returns undefined for us."),_.find(E&&E.items,f=>f.name===u)}function c(E,u){var f=a.xp[E]||u;return i.f.assertValue(f,"Invalid package name for resource package"),f}function C(E,u){for(var f of(i.f.assert(()=>s(E),"mergeStaticResourcePackages - package1 should be a static resource."),i.f.assert(()=>s(u),"mergeStaticResourcePackages - package2 should be a static resource."),i.f.assert(()=>E.type===u.type,"In order to merge resource packages, their types should be equal"),i.f.assert(()=>E.name===u.name,"In order to merge resource packages, their names should be equal"),null==E.id&&null!=u.id&&(E.id=u.id),u.items)){var b=m(E,f.name);b?h(b,f):E.items.push(f)}}function y(E){return E&&(E.type===r.v.CustomVisual||E.type===r.v.OrganizationalStoreCustomVisual)}function S(E){return _.chain(E).filter(u=>y(u)).map(u=>u.name).uniq().value()}function h(E,u){i.f.assert(()=>E.name===u.name,"In order to merge resource package items, their names should be equal"),i.f.assertAnyValue(E.path===u.path,"Usually if the names are equal it must mean that paths are equal,\n                however, there are 2 cases where this is not true:\n                1.- The items are different and we are doing a bad merge:\n                    Ridiculously unlikely and can only happen if 2 items have the same name and same random suffix of 53 random bits, converted to base 10\n                2.- A report was imported into powerbi more than once: \n                    Every time we import we generate a unique path, which means that paths are guaranteed to be different, but names and content are the same\n                Given that is way more likely to win the lottery twice in a lifetime than #1 happening and #2 is perfectly fine we don't care if paths differ.\n            "),i.f.assert(()=>E.type===u.type,"In order to merge resource package items, their types should be equal"),null==E.id&&null!=u.id&&(E.id=u.id),!E.content&&u.content&&(E.content=u.content),!E.contentBlob&&u.contentBlob&&(E.contentBlob=u.contentBlob),!E.contentBlobUrl&&u.contentBlobUrl&&(E.contentBlobUrl=u.contentBlobUrl),!E.content&&!E.contentBlob&&!E.promise&&u.promise&&(E.promise=u.promise),i.f.assert(()=>!E.content||!E.contentBlob,"A resource package item can't have content and contentBlob at the same time.")}l[t.Ut.BaseTheme]=E=>`BaseThemes/${E}.json`,l[t.Ut.CustomTheme]=E=>`BuiltInThemes/${E}.json`,l[t.Ut.HighContrastTheme]=E=>`HighContrastThemes/${E}.json`,l[t.Ut.Image]=E=>`Images/${E}`,l[t.Ut.ShapeMap]=E=>`Shapemaps/${E}.json`},947302:function(ve,j,e){e.d(j,{td:function(){return Tr},Vh:function(){return ga},nm:function(){return va},HB:function(){return Kr},lm:function(){return ua}});var r=e(349672),i=e(371223),a=e(630881);function t(oe){var De=oe.type||a.EP.Data;return De&a.EP.Resize&&oe.resizeMode===a.Pf.Resized&&(De|=a.EP.ResizeEnd),De}var n={version:"1.0.0",overloads:(oe,De)=>({update:le=>{oe.update&&oe.update({viewport:le.viewport,dataViews:le.dataViews,viewMode:le.viewMode,type:t(le)})},destroy:()=>{oe.destroy&&oe.destroy()},enumerateObjectInstances:le=>oe.enumerateObjectInstances&&oe.enumerateObjectInstances(le)||[]}),hostAdapter:oe=>({})},p=e(908911),s=e(257226);function d(oe,De){for(var le=De.split("."),vt=le.shift();vt;){if(!oe||null==oe[vt])return!1;oe=oe[vt],vt=le.shift()}return!0}var o=e(588965),c={version:"1.1.0",overloads:(oe,De)=>({update:le=>{if(oe.update){var vt={viewport:le.viewport,dataViews:le.dataViews,viewMode:le.viewMode,type:t(le)},Wt=oe.constructor.__transform__;_.isFunction(Wt)?oe.update(vt,Wt(vt.dataViews)):oe.update(vt)}}}),hostAdapter:oe=>({createSelectionIdBuilder:()=>new s.dw,createSelectionManager:()=>new o.Z({hostServices:oe.host}),colors:d(oe,"style.colorPalette.dataColors.getAllColors")?oe.style.colorPalette.dataColors.getAllColors():p.ng.getDefaultColors()})},C=e(582986),h={version:"1.2.0",overloads:(oe,De)=>({update:le=>{if(oe.update){var vt={viewport:le.viewport,dataViews:le.dataViews,viewMode:le.viewMode,type:t(le)};De.colorPalette.reset();var Wt=oe.constructor.__transform__;_.isFunction(Wt)?oe.update(vt,Wt(vt.dataViews)):oe.update(vt)}}}),hostAdapter:oe=>{var De=d(oe,"style.colorPalette.dataColors.getAllColors")?oe.style.colorPalette.dataColors.getAllColors():p.ng.getDefaultColors();return{createSelectionIdBuilder:()=>new s.dw,createSelectionManager:()=>new o.Z({hostServices:oe.host}),colorPalette:(0,C.D)(De),persistProperties:le=>oe.host.persistProperties(le)}}},E=e(753876),f={version:"1.3.0",hostAdapter:oe=>{var De=d(oe,"style.colorPalette.dataColors.getAllColors")?oe.style.colorPalette.dataColors.getAllColors():p.ng.getDefaultColors();return{createSelectionIdBuilder:()=>new s.dw,createSelectionManager:()=>new o.Z({hostServices:oe.host}),colorPalette:(0,C.D)(De),persistProperties:le=>oe.host.persistProperties(le),tooltipService:(0,E.r)({hostServices:oe.host})}}},V={version:"1.4.0",hostAdapter:oe=>{var De=d(oe,"style.colorPalette.dataColors.getAllColors")?oe.style.colorPalette.dataColors.getAllColors():p.ng.getDefaultColors();return{createSelectionIdBuilder:()=>new s.dw,createSelectionManager:()=>new o.Z({hostServices:oe.host}),colorPalette:(0,C.D)(De),persistProperties:le=>oe.host.persistProperties(le),tooltipService:(0,E.r)({hostServices:oe.host}),locale:oe.host.locale()}}},P={version:"1.5.0",hostAdapter:oe=>{var De=d(oe,"style.colorPalette.dataColors.getAllColors")?oe.style.colorPalette.dataColors.getAllColors():p.ng.getDefaultColors();return{createSelectionIdBuilder:()=>new s.dw,createSelectionManager:()=>new o.Z({hostServices:oe.host}),colorPalette:(0,C.D)(De),persistProperties:le=>oe.host.persistProperties(le),tooltipService:(0,E.r)({hostServices:oe.host}),locale:oe.host.locale(),allowInteractions:!(!oe||!oe.interactivity)&&oe.interactivity.isVisualInteractive}}},M={version:"1.6.0",overloads:(oe,De)=>({update:le=>{if(oe.update){var vt={viewport:le.viewport,dataViews:le.dataViews,viewMode:le.viewMode,editMode:le.editMode,type:t(le)};De.colorPalette.reset();var Wt=oe.constructor.__transform__;_.isFunction(Wt)?oe.update(vt,Wt(vt.dataViews)):oe.update(vt)}}}),hostAdapter:oe=>{var De=d(oe,"style.colorPalette.dataColors.getAllColors")?oe.style.colorPalette.dataColors.getAllColors():p.ng.getDefaultColors();return{createSelectionIdBuilder:()=>new s.dw,createSelectionManager:()=>new o.Z({hostServices:oe.host}),colorPalette:(0,C.D)(De),persistProperties:le=>oe.host.persistProperties(le),tooltipService:(0,E.r)({hostServices:oe.host}),locale:oe.host.locale(),allowInteractions:!(!oe||!oe.interactivity)&&oe.interactivity.isVisualInteractive}}},A=e(439947),B={version:"1.7.0",hostAdapter:oe=>{var De=d(oe,"style.colorPalette.dataColors.getAllColors")?oe.style.colorPalette.dataColors.getAllColors():p.ng.getDefaultColors();return{createSelectionIdBuilder:()=>new s.dw,createSelectionManager:()=>new o.Z({hostServices:oe.host}),colorPalette:(0,C.D)(De),persistProperties:le=>oe.host.persistProperties(le),tooltipService:(0,E.r)({hostServices:oe.host}),telemetry:(0,A.Zm)({hostServices:oe.host}),locale:oe.host.locale(),allowInteractions:!(!oe||!oe.interactivity)&&oe.interactivity.isVisualInteractive,applyJsonFilter:(le,vt,Wt)=>{if(le){var Zt=[];Zt.push(le),oe.host.applyJsonFilter(Zt,vt,Wt)}else oe.host.applyJsonFilter(null,vt,Wt)}}}},W={version:"1.8.0",hostAdapter:oe=>{var De=d(oe,"style.colorPalette.dataColors.getAllColors")?oe.style.colorPalette.dataColors.getAllColors():p.ng.getDefaultColors();return{createSelectionIdBuilder:()=>new s.dw,createSelectionManager:()=>new o.Z({hostServices:oe.host}),colorPalette:(0,C.D)(De),persistProperties:le=>oe.host.persistProperties(le),tooltipService:(0,E.r)({hostServices:oe.host}),telemetry:(0,A.Zm)({hostServices:oe.host}),locale:oe.host.locale(),allowInteractions:!(!oe||!oe.interactivity)&&oe.interactivity.isVisualInteractive,applyJsonFilter:(le,vt,Wt,Zt)=>{if(le){var ir=[];ir.push(le),oe.host.applyJsonFilter(ir,vt,Wt,Zt)}else oe.host.applyJsonFilter(null,vt,Wt,Zt)},launchUrl:le=>oe.host.launchUrl(le),instanceId:oe.host.instanceId,refreshHostData:()=>oe.host.refreshHostData()}}};function F(oe){return new U(oe)}class U{constructor(De){this.hostServices=De.hostServices,this.authenticationService=this.hostServices&&this.hostServices.authenticationService&&this.hostServices.authenticationService(),this.promiseFactory=this.hostServices.promiseFactory()}getResourceUrl(){return this.authenticationService?this.authenticationService.getResourceUrl():this.promiseFactory.reject()}getAADAuthenticationToken(){return this.authenticationService?this.authenticationService.getAADAuthenticationToken():this.promiseFactory.reject()}getAADToken(){return this.authenticationService?this.authenticationService.getAADToken():this.promiseFactory.reject()}getWACToken(De,le){return this.authenticationService?this.authenticationService.getWACToken(De,le):this.promiseFactory.reject()}getSignedInAccessToken(){return this.promiseFactory.reject()}getClusterInfo(){return this.promiseFactory.reject()}}var x={version:"1.9.0",hostAdapter:oe=>{var De=d(oe,"style.colorPalette.dataColors.getAllColors")?oe.style.colorPalette.dataColors.getAllColors():p.ng.getDefaultColors();return{createSelectionIdBuilder:()=>new s.dw,createSelectionManager:()=>new o.Z({hostServices:oe.host}),colorPalette:(0,C.D)(De),persistProperties:le=>oe.host.persistProperties(le),tooltipService:(0,E.r)({hostServices:oe.host}),telemetry:(0,A.Zm)({hostServices:oe.host}),authenticationService:F({hostServices:oe.host}),locale:oe.host.locale(),allowInteractions:!(!oe||!oe.interactivity)&&oe.interactivity.isVisualInteractive,applyJsonFilter:(le,vt,Wt,Zt)=>{if(le){var ir=[];ir.push(le),oe.host.applyJsonFilter(ir,vt,Wt,Zt)}else oe.host.applyJsonFilter(null,vt,Wt,Zt)},launchUrl:le=>oe.host.launchUrl(le),instanceId:oe.host.instanceId,refreshHostData:()=>oe.host.refreshHostData()}}};class I{constructor(De){this.localizationResources=De}getDisplayName(De){var le=this.localizationResources;return le&&le.localizedStrings&&Object.prototype.hasOwnProperty.call(le.localizedStrings,De)?le.localizedStrings[De]:le&&le.enUSStrings&&Object.prototype.hasOwnProperty.call(le.enUSStrings,De)?le.enUSStrings[De]:De}}var K={version:"1.10.0",hostAdapter:oe=>{var De=d(oe,"style.colorPalette.dataColors.getAllColors")?oe.style.colorPalette.dataColors.getAllColors():p.ng.getDefaultColors();return{createSelectionIdBuilder:()=>new s.dw,createSelectionManager:()=>new o.Z({hostServices:oe.host}),colorPalette:(0,C.D)(De),persistProperties:le=>oe.host.persistProperties(le),tooltipService:(0,E.r)({hostServices:oe.host}),telemetry:(0,A.Zm)({hostServices:oe.host}),authenticationService:F({hostServices:oe.host}),locale:oe.host.locale(),allowInteractions:!(!oe||!oe.interactivity)&&oe.interactivity.isVisualInteractive,applyJsonFilter:(le,vt,Wt,Zt)=>{if(le){var ir=[];ir.push(le),oe.host.applyJsonFilter(ir,vt,Wt,Zt)}else oe.host.applyJsonFilter(null,vt,Wt,Zt)},launchUrl:le=>oe.host.launchUrl(le),instanceId:oe.host.instanceId,refreshHostData:()=>oe.host.refreshHostData(),createLocalizationManager:()=>new I(oe.localizationResources)}}},H={version:"1.11.0",hostAdapter:oe=>{var De=d(oe,"style.colorPalette.dataColors.getAllColors")?oe.style.colorPalette.dataColors.getAllColors():p.ng.getDefaultColors();return{createSelectionIdBuilder:()=>new s.dw,createSelectionManager:()=>{var le=oe.host;return le.selectionManager=new o.Z({hostServices:le}),le.selectionManager},colorPalette:(0,C.D)(De),persistProperties:le=>oe.host.persistProperties(le),tooltipService:(0,E.r)({hostServices:oe.host}),telemetry:(0,A.Zm)({hostServices:oe.host}),authenticationService:F({hostServices:oe.host}),locale:oe.host.locale(),allowInteractions:!(!oe||!oe.interactivity)&&oe.interactivity.isVisualInteractive,applyJsonFilter:(le,vt,Wt,Zt)=>{if(le){var ir=[];ir.push(le),oe.host.applyJsonFilter(ir,vt,Wt,Zt)}else oe.host.applyJsonFilter(null,vt,Wt,Zt)},launchUrl:le=>oe.host.launchUrl(le),instanceId:oe.host.instanceId,refreshHostData:()=>oe.host.refreshHostData(),createLocalizationManager:()=>new I(oe.localizationResources)}}},G={version:"1.12.0",overloads:(oe,De)=>({update:le=>{if(oe.update){var vt={viewport:le.viewport,dataViews:le.dataViews,viewMode:le.viewMode,editMode:le.editMode,operationKind:le.operationKind,type:t(le)};De.colorPalette.reset();var Wt=oe.constructor.__transform__;_.isFunction(Wt)?oe.update(vt,Wt(vt.dataViews)):oe.update(vt)}}}),hostAdapter:oe=>{var De=oe.host,le=d(oe,"style.colorPalette.dataColors.getAllColors")?oe.style.colorPalette.dataColors.getAllColors():p.ng.getDefaultColors();return{createSelectionIdBuilder:()=>new s.dw,createSelectionManager:()=>(De.selectionManager=new o.Z({hostServices:De}),De.selectionManager),colorPalette:(0,C.D)(le),persistProperties:vt=>oe.host.persistProperties(vt),tooltipService:(0,E.r)({hostServices:oe.host}),telemetry:(0,A.Zm)({hostServices:oe.host}),authenticationService:F({hostServices:oe.host}),locale:oe.host.locale(),allowInteractions:!(!oe||!oe.interactivity)&&oe.interactivity.isVisualInteractive,applyJsonFilter:(vt,Wt,Zt,ir)=>{if(vt){var ca=[];ca.push(vt),oe.host.applyJsonFilter(ca,Wt,Zt,ir)}else oe.host.applyJsonFilter(null,Wt,Zt,ir)},launchUrl:vt=>oe.host.launchUrl(vt),instanceId:oe.host.instanceId,refreshHostData:()=>oe.host.refreshHostData(),createLocalizationManager:()=>new I(oe.localizationResources),fetchMoreData:()=>De.fetchMoreData()}}},Q={version:"1.13.0",hostAdapter:oe=>{var De=oe.host;return{createSelectionIdBuilder:()=>new s.dw,createSelectionManager:()=>(De.selectionManager=new o.Z({hostServices:De}),De.selectionManager),colorPalette:(0,C.o)(oe.style),persistProperties:le=>oe.host.persistProperties(le),tooltipService:(0,E.r)({hostServices:oe.host}),telemetry:(0,A.Zm)({hostServices:oe.host}),authenticationService:F({hostServices:oe.host}),locale:oe.host.locale(),allowInteractions:!(!oe||!oe.interactivity)&&oe.interactivity.isVisualInteractive,applyJsonFilter:(le,vt,Wt,Zt)=>{if(le){var ir=[];ir.push(le),oe.host.applyJsonFilter(ir,vt,Wt,Zt)}else oe.host.applyJsonFilter(null,vt,Wt,Zt)},launchUrl:le=>oe.host.launchUrl(le),instanceId:oe.host.instanceId,refreshHostData:()=>oe.host.refreshHostData(),createLocalizationManager:()=>new I(oe.localizationResources),fetchMoreData:()=>De.fetchMoreData()}}},Z=e(941488),X="2.0.0",te={version:X,hostAdapter:oe=>{var De=oe.host;return De.apiVersion=X,{createSelectionIdBuilder:()=>new Z.r,createSelectionManager:()=>(De.selectionManager=new o.Z({hostServices:De,apiVersion:X}),De.selectionManager),colorPalette:(0,C.o)(oe.style),persistProperties:le=>oe.host.persistProperties(le),tooltipService:(0,E.r)({hostServices:oe.host}),telemetry:(0,A.Zm)({hostServices:oe.host}),authenticationService:F({hostServices:oe.host}),locale:oe.host.locale(),allowInteractions:!(!oe||!oe.interactivity)&&oe.interactivity.isVisualInteractive,applyJsonFilter:(le,vt,Wt,Zt)=>{if(le){var ir=[];ir.push(le),oe.host.applyJsonFilter(ir,vt,Wt,Zt)}else oe.host.applyJsonFilter(null,vt,Wt,Zt)},launchUrl:le=>oe.host.launchUrl(le),instanceId:oe.host.instanceId,refreshHostData:()=>oe.host.refreshHostData(),createLocalizationManager:()=>new I(oe.localizationResources),fetchMoreData:()=>De.fetchMoreData()}}},se="2.1.0",Ue={version:se,overloads:(oe,De)=>({update:le=>{if(oe.update){var vt={viewport:le.viewport,dataViews:le.dataViews,viewMode:le.viewMode,editMode:le.editMode,operationKind:le.operationKind,type:t(le),jsonFilters:le.jsonFilters};De.colorPalette.reset();var Wt=oe.constructor.__transform__;_.isFunction(Wt)?oe.update(vt,Wt(vt.dataViews)):oe.update(vt)}}}),hostAdapter:oe=>{var De=oe.host;return De.apiVersion=se,{createSelectionIdBuilder:()=>De.createSelectionIdBuilder(),createSelectionManager:()=>(De.selectionManager=De.createSelectionManager(se),De.selectionManager),colorPalette:(0,C.o)(oe.style),persistProperties:le=>oe.host.persistProperties(le),tooltipService:De.createTooltipService(),telemetry:(0,A.Zm)({hostServices:oe.host}),authenticationService:F({hostServices:oe.host}),locale:oe.host.locale(),allowInteractions:!(!oe||!oe.interactivity)&&oe.interactivity.isVisualInteractive,applyJsonFilter:(le,vt,Wt,Zt)=>{if(le){var ir=[];ir.push(le),oe.host.applyJsonFilter(ir,vt,Wt,Zt)}else oe.host.applyJsonFilter(null,vt,Wt,Zt)},launchUrl:le=>oe.host.launchUrl(le),instanceId:oe.host.instanceId,refreshHostData:()=>oe.host.refreshHostData(),createLocalizationManager:()=>new I(oe.localizationResources),fetchMoreData:()=>De.fetchMoreData()}}},ot="2.2.0",Ct={version:ot,hostAdapter:oe=>{var De=oe.host;return De.apiVersion=ot,{createSelectionIdBuilder:()=>De.createSelectionIdBuilder(),createSelectionManager:()=>(De.selectionManager=De.createSelectionManager(ot),De.selectionManager),colorPalette:(0,C.o)(oe.style),persistProperties:le=>oe.host.persistProperties(le),tooltipService:De.createTooltipService(),telemetry:(0,A.Zm)({hostServices:oe.host}),authenticationService:F({hostServices:oe.host}),locale:oe.host.locale(),allowInteractions:!(!oe||!oe.interactivity)&&oe.interactivity.isVisualInteractive,applyJsonFilter:(le,vt,Wt,Zt)=>{if(le){var ir=[];ir.push(le),oe.host.applyJsonFilter(ir,vt,Wt,Zt)}else oe.host.applyJsonFilter(null,vt,Wt,Zt)},launchUrl:le=>oe.host.launchUrl(le),instanceId:oe.host.instanceId,refreshHostData:()=>oe.host.refreshHostData(),createLocalizationManager:()=>new I(oe.localizationResources),fetchMoreData:()=>De.fetchMoreData()}}};function Ke(oe){return new Ae(oe)}class Ae{constructor(De){this.eventService=De&&De.eventService&&De.eventService()}renderingStarted(De){this.eventService&&this.eventService.renderingStarted(De)}renderingFinished(De){this.eventService&&this.eventService.renderingFinished(De)}renderingFailed(De,le){this.eventService&&this.eventService.renderingFailed(De,le)}}var we=e(621083);function Ne(oe){return new Se(oe)}class Se{constructor(De){this.storageService=De&&De.localStorageService&&De.localStorageService(),this.promiseFactory=De.promiseFactory()}status(){return null!=this.storageService?this.storageService.getStorageStatus():this.promiseFactory.resolve(we.Un.NotSupported)}get(De){return null!=this.storageService&&De?this.storageService.getStorageData(De):this.promiseFactory.reject()}set(De,le){return null!=this.storageService&&De&&le?this.storageService.setStorageData(De,le):this.promiseFactory.reject()}remove(De){null!=this.storageService&&De&&this.storageService.removeStorageData(De)}}var Ie="2.3.0",Ee={version:Ie,overloads:(oe,De)=>({update:le=>{if(oe.update){var vt={viewport:le.viewport,dataViews:le.dataViews,viewMode:le.viewMode,editMode:le.editMode,operationKind:le.operationKind,jsonFilters:le.jsonFilters,type:t(le),updateId:le.updateId};De.colorPalette.reset();var Wt=oe.constructor.__transform__;_.isFunction(Wt)?oe.update(vt,Wt(vt.dataViews)):oe.update(vt)}}}),hostAdapter:oe=>{var De=oe.host;return De.apiVersion=Ie,{createSelectionIdBuilder:()=>new Z.r,createSelectionManager:()=>(De.selectionManager=De.createSelectionManager(Ie),De.selectionManager),colorPalette:(0,C.o)(oe.style),persistProperties:le=>oe.host.persistProperties(le),tooltipService:De.createTooltipService(),telemetry:(0,A.Zm)({hostServices:oe.host}),authenticationService:F({hostServices:oe.host}),locale:oe.host.locale(),allowInteractions:!(!oe||!oe.interactivity)&&oe.interactivity.isVisualInteractive,applyJsonFilter:(le,vt,Wt,Zt)=>{if(le)if(Array.isArray(le))oe.host.applyJsonFilter(le,vt,Wt,Zt);else{var ir=[];ir.push(le),oe.host.applyJsonFilter(ir,vt,Wt,Zt)}else oe.host.applyJsonFilter(null,vt,Wt,Zt)},launchUrl:le=>oe.host.launchUrl(le),instanceId:oe.host.instanceId,refreshHostData:()=>oe.host.refreshHostData(),createLocalizationManager:()=>new I(oe.localizationResources),fetchMoreData:()=>De.fetchMoreData(),storageService:Ne(De),eventService:Ke(De)}}},xe="2.4.0",Je={version:xe,hostAdapter:oe=>{var De=oe.host;return De.apiVersion=xe,{createSelectionIdBuilder:()=>new Z.r,createSelectionManager:()=>(De.selectionManager=De.createSelectionManager(xe),De.selectionManager),colorPalette:(0,C.o)(oe.style),persistProperties:le=>oe.host.persistProperties(le),tooltipService:De.createTooltipService(),telemetry:(0,A.Zm)({hostServices:oe.host}),authenticationService:F({hostServices:oe.host}),locale:oe.host.locale(),allowInteractions:!(!oe||!oe.interactivity)&&oe.interactivity.isVisualInteractive,applyJsonFilter:(le,vt,Wt,Zt)=>{if(le)if(Array.isArray(le))oe.host.applyJsonFilter(le,vt,Wt,Zt);else{var ir=[];ir.push(le),oe.host.applyJsonFilter(ir,vt,Wt,Zt)}else oe.host.applyJsonFilter(null,vt,Wt,Zt)},launchUrl:le=>oe.host.launchUrl(le),instanceId:oe.host.instanceId,refreshHostData:()=>oe.host.refreshHostData(),createLocalizationManager:()=>new I(oe.localizationResources),fetchMoreData:()=>De.fetchMoreData(),storageService:Ne(De),eventService:Ke(De)}}},he="2.5.0",je={version:he,hostAdapter:oe=>{var De=oe.host;return De.apiVersion=he,{createSelectionIdBuilder:()=>new Z.r,createSelectionManager:()=>(De.selectionManager=De.createSelectionManager(he),De.selectionManager),colorPalette:(0,C.o)(oe.style),persistProperties:le=>oe.host.persistProperties(le),tooltipService:De.createTooltipService(),telemetry:(0,A.Zm)({hostServices:oe.host}),authenticationService:F({hostServices:oe.host}),locale:oe.host.locale(),allowInteractions:!(!oe||!oe.interactivity)&&oe.interactivity.isVisualInteractive,applyJsonFilter:(le,vt,Wt,Zt)=>{if(le)if(Array.isArray(le))oe.host.applyJsonFilter(le,vt,Wt,Zt);else{var ir=[];ir.push(le),oe.host.applyJsonFilter(ir,vt,Wt,Zt)}else oe.host.applyJsonFilter(null,vt,Wt,Zt)},launchUrl:le=>oe.host.launchUrl(le),instanceId:oe.host.instanceId,refreshHostData:()=>oe.host.refreshHostData(),createLocalizationManager:()=>new I(oe.localizationResources),fetchMoreData:()=>De.fetchMoreData(),storageService:Ne(De),eventService:Ke(De)}}},pe="2.6.0",lt={version:pe,overloads:(oe,De)=>({update:le=>{if(oe.update){var vt={viewport:le.viewport,dataViews:le.dataViews,viewMode:le.viewMode,editMode:le.editMode,isInFocus:!!le.isInFocus,operationKind:le.operationKind,jsonFilters:le.jsonFilters,type:t(le),updateId:le.updateId};De.colorPalette.reset();var Wt=oe.constructor.__transform__;_.isFunction(Wt)?oe.update(vt,Wt(vt.dataViews)):oe.update(vt)}}}),hostAdapter:oe=>{var De=oe.host;return De.apiVersion=pe,{createSelectionIdBuilder:()=>new Z.r,createSelectionManager:()=>(De.selectionManager=De.createSelectionManager(pe),De.selectionManager),colorPalette:(0,C.o)(oe.style),persistProperties:le=>oe.host.persistProperties(le),tooltipService:De.createTooltipService(),telemetry:(0,A.Zm)({hostServices:oe.host}),authenticationService:F({hostServices:oe.host}),locale:oe.host.locale(),allowInteractions:!(!oe||!oe.interactivity)&&oe.interactivity.isVisualInteractive,applyJsonFilter:(le,vt,Wt,Zt)=>{if(le)if(Array.isArray(le))oe.host.applyJsonFilter(le,vt,Wt,Zt);else{var ir=[];ir.push(le),oe.host.applyJsonFilter(ir,vt,Wt,Zt)}else oe.host.applyJsonFilter(null,vt,Wt,Zt)},launchUrl:le=>oe.host.launchUrl(le),instanceId:oe.host.instanceId,refreshHostData:()=>oe.host.refreshHostData(),createLocalizationManager:()=>new I(oe.localizationResources),fetchMoreData:()=>De.fetchMoreData(),storageService:Ne(De),eventService:Ke(De),switchFocusModeState:le=>De.switchFocusModeState(le)}}},Et="3.2.0",Ot={version:Et,hostAdapter:oe=>{var De=oe.host;return De.apiVersion=Et,{createSelectionIdBuilder:()=>new Z.r,createSelectionManager:()=>(De.selectionManager=De.createSelectionManager(Et),De.selectionManager),colorPalette:(0,C.o)(oe.style),persistProperties:le=>oe.host.persistProperties(le),tooltipService:De.createTooltipService(),telemetry:(0,A.Zm)({hostServices:oe.host}),authenticationService:F({hostServices:oe.host}),locale:oe.host.locale(),allowInteractions:!(!oe||!oe.interactivity)&&oe.interactivity.isVisualInteractive,applyJsonFilter:(le,vt,Wt,Zt)=>{if(le)if(Array.isArray(le))oe.host.applyJsonFilter(le,vt,Wt,Zt);else{var ir=[];ir.push(le),oe.host.applyJsonFilter(ir,vt,Wt,Zt)}else oe.host.applyJsonFilter(null,vt,Wt,Zt)},launchUrl:le=>oe.host.launchUrl(le),instanceId:oe.host.instanceId,refreshHostData:()=>oe.host.refreshHostData(),createLocalizationManager:()=>new I(oe.localizationResources),fetchMoreData:()=>De.fetchMoreData(),storageService:Ne(De),eventService:Ke(De),switchFocusModeState:le=>De.switchFocusModeState(le),hostEnv:oe.hostEnv}}},Dt="3.3.0",Fe={version:Dt,hostAdapter:oe=>{var De=oe.host;return De.apiVersion=Dt,{createSelectionIdBuilder:()=>new Z.r,createSelectionManager:()=>(De.selectionManager=De.createSelectionManager(Dt),De.selectionManager),colorPalette:(0,C.o)(oe.style),persistProperties:le=>oe.host.persistProperties(le),tooltipService:De.createTooltipService(),telemetry:(0,A.Zm)({hostServices:oe.host}),authenticationService:F({hostServices:oe.host}),locale:oe.host.locale(),allowInteractions:!(!oe||!oe.interactivity)&&oe.interactivity.isVisualInteractive,applyJsonFilter:(le,vt,Wt,Zt)=>{if(le)if(Array.isArray(le))oe.host.applyJsonFilter(le,vt,Wt,Zt);else{var ir=[];ir.push(le),oe.host.applyJsonFilter(ir,vt,Wt,Zt)}else oe.host.applyJsonFilter(null,vt,Wt,Zt)},launchUrl:le=>oe.host.launchUrl(le),instanceId:oe.host.instanceId,refreshHostData:()=>oe.host.refreshHostData(),createLocalizationManager:()=>new I(oe.localizationResources),fetchMoreData:()=>De.fetchMoreData(),storageService:Ne(De),eventService:Ke(De),switchFocusModeState:le=>De.switchFocusModeState(le),hostEnv:oe.hostEnv}}},$e="3.4.0",dt={version:$e,hostAdapter:oe=>{var De=oe.host;return De.apiVersion=$e,{createSelectionIdBuilder:()=>new Z.r,createSelectionManager:()=>(De.selectionManager=De.createSelectionManager($e),De.selectionManager),colorPalette:(0,C.o)(oe.style),persistProperties:le=>oe.host.persistProperties(le),tooltipService:De.createTooltipService(),telemetry:(0,A.Zm)({hostServices:oe.host}),authenticationService:F({hostServices:oe.host}),locale:oe.host.locale(),allowInteractions:!(!oe||!oe.interactivity)&&oe.interactivity.isVisualInteractive,applyJsonFilter:(le,vt,Wt,Zt)=>{if(le)if(Array.isArray(le))oe.host.applyJsonFilter(le,vt,Wt,Zt);else{var ir=[];ir.push(le),oe.host.applyJsonFilter(ir,vt,Wt,Zt)}else oe.host.applyJsonFilter(null,vt,Wt,Zt)},launchUrl:le=>oe.host.launchUrl(le),instanceId:oe.host.instanceId,refreshHostData:()=>oe.host.refreshHostData(),createLocalizationManager:()=>new I(oe.localizationResources),fetchMoreData:le=>De.fetchMoreData(le),storageService:Ne(De),eventService:Ke(De),switchFocusModeState:le=>De.switchFocusModeState(le),hostEnv:oe.hostEnv}}},rt="3.5.0",be={version:rt,hostAdapter:oe=>{var De=oe.host;return De.apiVersion=rt,{createSelectionIdBuilder:()=>new Z.r,createSelectionManager:()=>(De.selectionManager=De.createSelectionManager(rt),De.selectionManager),colorPalette:(0,C.o)(oe.style),persistProperties:le=>oe.host.persistProperties(le),tooltipService:De.createTooltipService(),telemetry:(0,A.Zm)({hostServices:oe.host}),authenticationService:F({hostServices:oe.host}),locale:oe.host.locale(),allowInteractions:!(!oe||!oe.interactivity)&&oe.interactivity.isVisualInteractive,applyJsonFilter:(le,vt,Wt,Zt)=>{if(le)if(Array.isArray(le))oe.host.applyJsonFilter(le,vt,Wt,Zt);else{var ir=[];ir.push(le),oe.host.applyJsonFilter(ir,vt,Wt,Zt)}else oe.host.applyJsonFilter(null,vt,Wt,Zt)},launchUrl:le=>oe.host.launchUrl(le),instanceId:oe.host.instanceId,refreshHostData:()=>oe.host.refreshHostData(),createLocalizationManager:()=>new I(oe.localizationResources),fetchMoreData:le=>De.fetchMoreData(le),storageService:Ne(De),eventService:Ke(De),switchFocusModeState:le=>De.switchFocusModeState(le),hostEnv:oe.hostEnv}}},ae="3.6.0",ee={version:ae,hostAdapter:oe=>{var De=oe.host;return De.apiVersion=ae,{createSelectionIdBuilder:()=>new Z.r,createSelectionManager:()=>(De.selectionManager=De.createSelectionManager(ae),De.selectionManager),colorPalette:(0,C.o)(oe.style),persistProperties:le=>oe.host.persistProperties(le),tooltipService:De.createTooltipService(),telemetry:(0,A.Zm)({hostServices:oe.host}),authenticationService:F({hostServices:oe.host}),locale:oe.host.locale(),allowInteractions:!(!oe||!oe.interactivity)&&oe.interactivity.isVisualInteractive,applyJsonFilter:(le,vt,Wt,Zt)=>{if(le)if(Array.isArray(le))oe.host.applyJsonFilter(le,vt,Wt,Zt);else{var ir=[];ir.push(le),oe.host.applyJsonFilter(ir,vt,Wt,Zt)}else oe.host.applyJsonFilter(null,vt,Wt,Zt)},launchUrl:le=>oe.host.launchUrl(le),instanceId:oe.host.instanceId,refreshHostData:()=>oe.host.refreshHostData(),createLocalizationManager:()=>new I(oe.localizationResources),fetchMoreData:le=>De.fetchMoreData(le),storageService:Ne(De),eventService:Ke(De),switchFocusModeState:le=>De.switchFocusModeState(le),hostEnv:oe.hostEnv}}},Pe="3.7.0",it={version:Pe,hostAdapter:oe=>{var De=oe.host;return De.apiVersion=Pe,{createSelectionIdBuilder:()=>new Z.r,createSelectionManager:()=>(De.selectionManager=De.createSelectionManager(Pe),De.selectionManager),colorPalette:(0,C.o)(oe.style),persistProperties:le=>oe.host.persistProperties(le),tooltipService:De.createTooltipService(),telemetry:(0,A.Zm)({hostServices:oe.host}),authenticationService:F({hostServices:oe.host}),locale:oe.host.locale(),allowInteractions:!(!oe||!oe.interactivity)&&oe.interactivity.isVisualInteractive,applyJsonFilter:(le,vt,Wt,Zt)=>{if(le)if(Array.isArray(le))oe.host.applyJsonFilter(le,vt,Wt,Zt);else{var ir=[];ir.push(le),oe.host.applyJsonFilter(ir,vt,Wt,Zt)}else oe.host.applyJsonFilter(null,vt,Wt,Zt)},launchUrl:le=>oe.host.launchUrl(le),instanceId:oe.host.instanceId,refreshHostData:()=>oe.host.refreshHostData(),createLocalizationManager:()=>new I(oe.localizationResources),fetchMoreData:le=>De.fetchMoreData(le),storageService:Ne(De),eventService:Ke(De),switchFocusModeState:le=>De.switchFocusModeState(le),hostEnv:oe.hostEnv,displayWarningIcon:(le,vt)=>De.displayWarningIcon(le,vt)}}},yt="3.8.0",mt={version:yt,hostAdapter:oe=>{var De=oe.host;return De.apiVersion=yt,{createSelectionIdBuilder:()=>new Z.r,createSelectionManager:()=>(De.selectionManager=De.createSelectionManager(yt),De.selectionManager),colorPalette:(0,C.o)(oe.style),persistProperties:le=>oe.host.persistProperties(le),tooltipService:De.createTooltipService(),telemetry:(0,A.Zm)({hostServices:oe.host}),authenticationService:F({hostServices:oe.host}),locale:oe.host.locale(),hostCapabilities:{allowInteractions:!!oe.interactivity?.isVisualInteractive,allowModalDialog:!!oe.interactivity?.allowModalDialog},applyJsonFilter:(le,vt,Wt,Zt)=>{if(le)if(Array.isArray(le))oe.host.applyJsonFilter(le,vt,Wt,Zt);else{var ir=[];ir.push(le),oe.host.applyJsonFilter(ir,vt,Wt,Zt)}else oe.host.applyJsonFilter(null,vt,Wt,Zt)},launchUrl:le=>oe.host.launchUrl(le),instanceId:oe.host.instanceId,refreshHostData:()=>oe.host.refreshHostData(),createLocalizationManager:()=>new I(oe.localizationResources),fetchMoreData:le=>De.fetchMoreData(le),storageService:Ne(De),eventService:Ke(De),switchFocusModeState:le=>De.switchFocusModeState(le),hostEnv:oe.hostEnv,openModalDialog:(le,vt,Wt)=>De.openModalDialog(le,vt,Wt),displayWarningIcon:(le,vt)=>De.displayWarningIcon(le,vt)}}};function ie(oe){return new Y(oe)}class Y{constructor(De){this.downloadService=De&&De.downloadService&&De.downloadService(),this.promiseFactory=De.promiseFactory()}exportStatus(){return null!=this.downloadService?this.downloadService.getExportStatus():this.promiseFactory.resolve(we.Un.NotSupported)}exportVisualsContent(De,le,vt,Wt){return null!=this.downloadService?this.downloadService.exportVisualsContent(De,le,vt,Wt).then(Zt=>Zt.downloadCompleted):this.promiseFactory.reject()}exportVisualsContentExtended(De,le,vt,Wt){return null!=this.downloadService?this.downloadService.exportVisualsContent(De,le,vt,Wt):this.promiseFactory.reject()}}var fe="3.9.0",Ze={version:fe,hostAdapter:oe=>{var De=oe.host;return De.apiVersion=fe,{createSelectionIdBuilder:()=>new Z.r,createSelectionManager:()=>(De.selectionManager=De.createSelectionManager(fe),De.selectionManager),colorPalette:(0,C.o)(oe.style),persistProperties:le=>oe.host.persistProperties(le),tooltipService:De.createTooltipService(),telemetry:(0,A.Zm)({hostServices:oe.host}),authenticationService:F({hostServices:oe.host}),locale:oe.host.locale(),hostCapabilities:{allowInteractions:!!oe.interactivity?.isVisualInteractive,allowModalDialog:!!oe.interactivity?.allowModalDialog},applyJsonFilter:(le,vt,Wt,Zt)=>{if(le)if(Array.isArray(le))oe.host.applyJsonFilter(le,vt,Wt,Zt);else{var ir=[];ir.push(le),oe.host.applyJsonFilter(ir,vt,Wt,Zt)}else oe.host.applyJsonFilter(null,vt,Wt,Zt)},launchUrl:le=>oe.host.launchUrl(le),instanceId:oe.host.instanceId,refreshHostData:()=>oe.host.refreshHostData(),createLocalizationManager:()=>new I(oe.localizationResources),fetchMoreData:le=>De.fetchMoreData(le),storageService:Ne(De),downloadService:ie(De),eventService:Ke(De),switchFocusModeState:le=>De.switchFocusModeState(le),hostEnv:oe.hostEnv,openModalDialog:(le,vt,Wt)=>De.openModalDialog(le,vt,Wt),displayWarningIcon:(le,vt)=>De.displayWarningIcon(le,vt)}}},ct="4.0.0",Rt={version:ct,hostAdapter:oe=>{var De=oe.host;return De.apiVersion=ct,{createSelectionIdBuilder:()=>new Z.r,createSelectionManager:()=>(De.selectionManager=De.createSelectionManager(ct),De.selectionManager),colorPalette:(0,C.o)(oe.style),persistProperties:le=>oe.host.persistProperties(le),tooltipService:De.createTooltipService(),telemetry:(0,A.Zm)({hostServices:oe.host}),authenticationService:F({hostServices:oe.host}),locale:oe.host.locale(),hostCapabilities:{allowInteractions:!!oe.interactivity?.isVisualInteractive,allowModalDialog:!!oe.interactivity?.allowModalDialog},applyJsonFilter:(le,vt,Wt,Zt)=>{if(le)if(Array.isArray(le))oe.host.applyJsonFilter(le,vt,Wt,Zt);else{var ir=[];ir.push(le),oe.host.applyJsonFilter(ir,vt,Wt,Zt)}else oe.host.applyJsonFilter(null,vt,Wt,Zt)},launchUrl:le=>oe.host.launchUrl(le),instanceId:oe.host.instanceId,refreshHostData:()=>oe.host.refreshHostData(),createLocalizationManager:()=>new I(oe.localizationResources),fetchMoreData:le=>De.fetchMoreData(le),storageService:Ne(De),downloadService:ie(De),eventService:Ke(De),switchFocusModeState:le=>De.switchFocusModeState(le),hostEnv:oe.hostEnv,openModalDialog:(le,vt,Wt)=>De.openModalDialog(le,vt,Wt),displayWarningIcon:(le,vt)=>De.displayWarningIcon(le,vt)}}},kt="4.1.0",Ht={version:kt,hostAdapter:oe=>{var De=oe.host;return De.apiVersion=kt,{createSelectionIdBuilder:()=>new Z.r,createSelectionManager:()=>(De.selectionManager=De.createSelectionManager(kt),De.selectionManager),colorPalette:(0,C.o)(oe.style),persistProperties:le=>oe.host.persistProperties(le),tooltipService:De.createTooltipService(),telemetry:(0,A.Zm)({hostServices:oe.host}),authenticationService:F({hostServices:oe.host}),locale:oe.host.locale(),hostCapabilities:{allowInteractions:!!oe.interactivity?.isVisualInteractive,allowModalDialog:!!oe.interactivity?.allowModalDialog},applyJsonFilter:(le,vt,Wt,Zt)=>{if(le)if(Array.isArray(le))oe.host.applyJsonFilter(le,vt,Wt,Zt);else{var ir=[];ir.push(le),oe.host.applyJsonFilter(ir,vt,Wt,Zt)}else oe.host.applyJsonFilter(null,vt,Wt,Zt)},launchUrl:le=>oe.host.launchUrl(le),instanceId:oe.host.instanceId,refreshHostData:()=>oe.host.refreshHostData(),createLocalizationManager:()=>new I(oe.localizationResources),fetchMoreData:le=>De.fetchMoreData(le),storageService:Ne(De),downloadService:ie(De),eventService:Ke(De),switchFocusModeState:le=>De.switchFocusModeState(le),hostEnv:oe.hostEnv,openModalDialog:(le,vt,Wt)=>De.openModalDialog(le,vt,Wt),displayWarningIcon:(le,vt)=>De.displayWarningIcon(le,vt)}}},tr="4.2.0",He={version:tr,hostAdapter:oe=>{var De=oe.host;return De.apiVersion=tr,{createSelectionIdBuilder:()=>new Z.r,createSelectionManager:()=>(De.selectionManager=De.createSelectionManager(tr),De.selectionManager),colorPalette:(0,C.o)(oe.style),persistProperties:le=>oe.host.persistProperties(le),tooltipService:De.createTooltipService(),telemetry:(0,A.Zm)({hostServices:oe.host}),authenticationService:F({hostServices:oe.host}),locale:oe.host.locale(),hostCapabilities:{allowInteractions:!!oe.interactivity?.isVisualInteractive,allowModalDialog:!!oe.interactivity?.allowModalDialog},applyJsonFilter:(le,vt,Wt,Zt)=>{if(le)if(Array.isArray(le))oe.host.applyJsonFilter(le,vt,Wt,Zt);else{var ir=[];ir.push(le),oe.host.applyJsonFilter(ir,vt,Wt,Zt)}else oe.host.applyJsonFilter(null,vt,Wt,Zt)},launchUrl:le=>oe.host.launchUrl(le),instanceId:oe.host.instanceId,refreshHostData:()=>oe.host.refreshHostData(),createLocalizationManager:()=>new I(oe.localizationResources),fetchMoreData:le=>De.fetchMoreData(le),storageService:Ne(De),downloadService:ie(De),eventService:Ke(De),switchFocusModeState:le=>De.switchFocusModeState(le),hostEnv:oe.hostEnv,openModalDialog:(le,vt,Wt)=>De.openModalDialog(le,vt,Wt),displayWarningIcon:(le,vt)=>De.displayWarningIcon(le,vt)}}},Mt="4.3.0",ze={version:Mt,hostAdapter:oe=>{var De=oe.host;return De.apiVersion=Mt,{createSelectionIdBuilder:()=>new Z.r,createSelectionManager:()=>(De.selectionManager=De.createSelectionManager(Mt),De.selectionManager),colorPalette:(0,C.o)(oe.style),persistProperties:le=>oe.host.persistProperties(le),tooltipService:De.createTooltipService(),telemetry:(0,A.Zm)({hostServices:oe.host}),authenticationService:F({hostServices:oe.host}),locale:oe.host.locale(),hostCapabilities:{allowInteractions:!!oe.interactivity?.isVisualInteractive,allowModalDialog:!!oe.interactivity?.allowModalDialog},applyJsonFilter:(le,vt,Wt,Zt)=>{if(le)if(Array.isArray(le))oe.host.applyJsonFilter(le,vt,Wt,Zt);else{var ir=[];ir.push(le),oe.host.applyJsonFilter(ir,vt,Wt,Zt)}else oe.host.applyJsonFilter(null,vt,Wt,Zt)},launchUrl:le=>oe.host.launchUrl(le),instanceId:oe.host.instanceId,refreshHostData:()=>oe.host.refreshHostData(),createLocalizationManager:()=>new I(oe.localizationResources),fetchMoreData:le=>De.fetchMoreData(le),storageService:Ne(De),downloadService:ie(De),eventService:Ke(De),switchFocusModeState:le=>De.switchFocusModeState(le),hostEnv:oe.hostEnv,openModalDialog:(le,vt,Wt)=>De.openModalDialog(le,vt,Wt),displayWarningIcon:(le,vt)=>De.displayWarningIcon(le,vt)}}};function st(oe){return new Lt(oe)}class Lt{constructor(De){this.licenseManagerService=De&&De.licenseManagerService&&De.licenseManagerService(),this.promiseFactory=De.promiseFactory()}getAvailableServicePlans(){return this.licenseManagerService?this.licenseManagerService.getAvailableServicePlans():this.promiseFactory.reject()}notifyLicenseRequired(De){return this.licenseManagerService?this.licenseManagerService.notifyLicenseRequired(De):this.promiseFactory.reject()}notifyFeatureBlocked(De){return this.licenseManagerService?this.licenseManagerService.notifyFeatureBlocked(De):this.promiseFactory.reject()}clearLicenseNotification(){return this.licenseManagerService?this.licenseManagerService.clearLicenseNotification():this.promiseFactory.reject()}}var Qt="4.4.0",lr={version:Qt,hostAdapter:oe=>{var De=oe.host;return De.apiVersion=Qt,{createSelectionIdBuilder:()=>new Z.r,createSelectionManager:()=>(De.selectionManager=De.createSelectionManager(Qt),De.selectionManager),colorPalette:(0,C.o)(oe.style),persistProperties:le=>oe.host.persistProperties(le),tooltipService:De.createTooltipService(),telemetry:(0,A.Zm)({hostServices:oe.host}),authenticationService:F({hostServices:oe.host}),locale:oe.host.locale(),hostCapabilities:{allowInteractions:!!oe.interactivity?.isVisualInteractive,allowModalDialog:!!oe.interactivity?.allowModalDialog},applyJsonFilter:(le,vt,Wt,Zt)=>{if(le)if(Array.isArray(le))oe.host.applyJsonFilter(le,vt,Wt,Zt);else{var ir=[];ir.push(le),oe.host.applyJsonFilter(ir,vt,Wt,Zt)}else oe.host.applyJsonFilter(null,vt,Wt,Zt)},launchUrl:le=>oe.host.launchUrl(le),instanceId:oe.host.instanceId,refreshHostData:()=>oe.host.refreshHostData(),createLocalizationManager:()=>new I(oe.localizationResources),fetchMoreData:le=>De.fetchMoreData(le),storageService:Ne(De),downloadService:ie(De),eventService:Ke(De),switchFocusModeState:le=>De.switchFocusModeState(le),hostEnv:oe.hostEnv,openModalDialog:(le,vt,Wt)=>De.openModalDialog(le,vt,Wt),displayWarningIcon:(le,vt)=>De.displayWarningIcon(le,vt),licenseManager:st(De)}}},gr="4.5.0",Mr={version:gr,hostAdapter:oe=>{var De=oe.host;return De.apiVersion=gr,{createSelectionIdBuilder:()=>new Z.r,createSelectionManager:()=>(De.selectionManager=De.createSelectionManager(gr),De.selectionManager),colorPalette:(0,C.o)(oe.style),persistProperties:le=>oe.host.persistProperties(le),tooltipService:De.createTooltipService(),telemetry:(0,A.Zm)({hostServices:oe.host}),authenticationService:F({hostServices:oe.host}),locale:oe.host.locale(),hostCapabilities:{allowInteractions:!!oe.interactivity?.isVisualInteractive,allowModalDialog:!!oe.interactivity?.allowModalDialog},applyJsonFilter:(le,vt,Wt,Zt)=>{if(le)if(Array.isArray(le))oe.host.applyJsonFilter(le,vt,Wt,Zt);else{var ir=[];ir.push(le),oe.host.applyJsonFilter(ir,vt,Wt,Zt)}else oe.host.applyJsonFilter(null,vt,Wt,Zt)},launchUrl:le=>oe.host.launchUrl(le),instanceId:oe.host.instanceId,refreshHostData:()=>oe.host.refreshHostData(),createLocalizationManager:()=>new I(oe.localizationResources),fetchMoreData:le=>De.fetchMoreData(le),storageService:Ne(De),downloadService:ie(De),eventService:Ke(De),switchFocusModeState:le=>De.switchFocusModeState(le),hostEnv:oe.hostEnv,openModalDialog:(le,vt,Wt)=>De.openModalDialog(le,vt,Wt),displayWarningIcon:(le,vt)=>De.displayWarningIcon(le,vt),licenseManager:st(De)}}};function Vr(oe){return new Lr(oe)}class Lr{constructor(De){this.webAccessService=De&&De.webAccessService&&De.webAccessService(),this.promiseFactory=De.promiseFactory()}webAccessStatus(De){return null!=this.webAccessService?this.webAccessService.getWebAccessStatus(De):this.promiseFactory.resolve(we.Un.NotSupported)}}var Fr="4.6.0",Br={version:Fr,hostAdapter:oe=>{var De=oe.host;return De.apiVersion=Fr,{createSelectionIdBuilder:()=>new Z.r,createSelectionManager:()=>(De.selectionManager=De.createSelectionManager(Fr),De.selectionManager),colorPalette:(0,C.o)(oe.style),persistProperties:le=>oe.host.persistProperties(le),tooltipService:De.createTooltipService(),telemetry:(0,A.Zm)({hostServices:oe.host}),authenticationService:F({hostServices:oe.host}),locale:oe.host.locale(),hostCapabilities:{allowInteractions:!!oe.interactivity?.isVisualInteractive,allowModalDialog:!!oe.interactivity?.allowModalDialog},applyJsonFilter:(le,vt,Wt,Zt)=>{if(le)if(Array.isArray(le))oe.host.applyJsonFilter(le,vt,Wt,Zt);else{var ir=[];ir.push(le),oe.host.applyJsonFilter(ir,vt,Wt,Zt)}else oe.host.applyJsonFilter(null,vt,Wt,Zt)},launchUrl:le=>oe.host.launchUrl(le),instanceId:oe.host.instanceId,refreshHostData:()=>oe.host.refreshHostData(),createLocalizationManager:()=>new I(oe.localizationResources),fetchMoreData:le=>De.fetchMoreData(le),storageService:Ne(De),downloadService:ie(De),eventService:Ke(De),switchFocusModeState:le=>De.switchFocusModeState(le),hostEnv:oe.hostEnv,openModalDialog:(le,vt,Wt)=>De.openModalDialog(le,vt,Wt),displayWarningIcon:(le,vt)=>De.displayWarningIcon(le,vt),licenseManager:st(De),webAccessService:Vr(De)}}},wr="4.7.0",mr={version:wr,hostAdapter:oe=>{var De=oe.host;return De.apiVersion=wr,{createSelectionIdBuilder:()=>new Z.r,createSelectionManager:()=>(De.selectionManager=De.createSelectionManager(wr),De.selectionManager),colorPalette:(0,C.o)(oe.style),persistProperties:le=>oe.host.persistProperties(le),tooltipService:De.createTooltipService(),telemetry:(0,A.Zm)({hostServices:oe.host}),authenticationService:F({hostServices:oe.host}),locale:oe.host.locale(),hostCapabilities:{allowInteractions:!!oe.interactivity?.isVisualInteractive,allowModalDialog:!!oe.interactivity?.allowModalDialog},applyJsonFilter:(le,vt,Wt,Zt)=>{if(le)if(Array.isArray(le))oe.host.applyJsonFilter(le,vt,Wt,Zt);else{var ir=[];ir.push(le),oe.host.applyJsonFilter(ir,vt,Wt,Zt)}else oe.host.applyJsonFilter(null,vt,Wt,Zt)},launchUrl:le=>oe.host.launchUrl(le),instanceId:oe.host.instanceId,refreshHostData:()=>oe.host.refreshHostData(),createLocalizationManager:()=>new I(oe.localizationResources),fetchMoreData:le=>De.fetchMoreData(le),storageService:Ne(De),downloadService:ie(De),eventService:Ke(De),switchFocusModeState:le=>De.switchFocusModeState(le),hostEnv:oe.hostEnv,openModalDialog:(le,vt,Wt)=>De.openModalDialog(le,vt,Wt),displayWarningIcon:(le,vt)=>De.displayWarningIcon(le,vt),licenseManager:st(De),webAccessService:Vr(De),drill:le=>De.drill(le)}}},jr="5.0.0",ea={version:jr,hostAdapter:oe=>{var De=oe.host;return De.apiVersion=jr,{createSelectionIdBuilder:()=>new Z.r,createSelectionManager:()=>(De.selectionManager=De.createSelectionManager(jr),De.selectionManager),colorPalette:(0,C.o)(oe.style),persistProperties:le=>oe.host.persistProperties(le),tooltipService:De.createTooltipService(),telemetry:(0,A.Zm)({hostServices:oe.host}),authenticationService:F({hostServices:oe.host}),locale:oe.host.locale(),hostCapabilities:{allowInteractions:!!oe.interactivity?.isVisualInteractive,allowModalDialog:!!oe.interactivity?.allowModalDialog},applyJsonFilter:(le,vt,Wt,Zt)=>{if(le)if(Array.isArray(le))oe.host.applyJsonFilter(le,vt,Wt,Zt);else{var ir=[];ir.push(le),oe.host.applyJsonFilter(ir,vt,Wt,Zt)}else oe.host.applyJsonFilter(null,vt,Wt,Zt)},launchUrl:le=>oe.host.launchUrl(le),instanceId:oe.host.instanceId,refreshHostData:()=>oe.host.refreshHostData(),createLocalizationManager:()=>new I(oe.localizationResources),fetchMoreData:le=>De.fetchMoreData(le),storageService:Ne(De),downloadService:ie(De),eventService:Ke(De),switchFocusModeState:le=>De.switchFocusModeState(le),hostEnv:oe.hostEnv,openModalDialog:(le,vt,Wt)=>De.openModalDialog(le,vt,Wt),displayWarningIcon:(le,vt)=>De.displayWarningIcon(le,vt),licenseManager:st(De),webAccessService:Vr(De),drill:le=>De.drill(le)}}},Hr="5.1.0",kr={version:Hr,hostAdapter:oe=>{var De=oe.host;return De.apiVersion=Hr,{createSelectionIdBuilder:()=>new Z.r,createSelectionManager:()=>(De.selectionManager=De.createSelectionManager(Hr),De.selectionManager),colorPalette:(0,C.o)(oe.style),persistProperties:le=>oe.host.persistProperties(le),tooltipService:De.createTooltipService(),telemetry:(0,A.Zm)({hostServices:oe.host}),authenticationService:F({hostServices:oe.host}),locale:oe.host.locale(),hostCapabilities:{allowInteractions:!!oe.interactivity?.isVisualInteractive,allowModalDialog:!!oe.interactivity?.allowModalDialog},applyJsonFilter:(le,vt,Wt,Zt)=>{if(le)if(Array.isArray(le))oe.host.applyJsonFilter(le,vt,Wt,Zt);else{var ir=[];ir.push(le),oe.host.applyJsonFilter(ir,vt,Wt,Zt)}else oe.host.applyJsonFilter(null,vt,Wt,Zt)},launchUrl:le=>oe.host.launchUrl(le),instanceId:oe.host.instanceId,refreshHostData:()=>oe.host.refreshHostData(),createLocalizationManager:()=>new I(oe.localizationResources),fetchMoreData:le=>De.fetchMoreData(le),storageService:Ne(De),downloadService:ie(De),eventService:Ke(De),switchFocusModeState:le=>De.switchFocusModeState(le),hostEnv:oe.hostEnv,openModalDialog:(le,vt,Wt)=>De.openModalDialog(le,vt,Wt),displayWarningIcon:(le,vt)=>De.displayWarningIcon(le,vt),licenseManager:st(De),webAccessService:Vr(De),drill:le=>De.drill(le),applyCustomSort:le=>De.applyCustomSort(le)}}},Qr="5.2.0",Jr={version:Qr,hostAdapter:oe=>{var De=oe.host;return De.apiVersion=Qr,{createSelectionIdBuilder:()=>new Z.r,createSelectionManager:()=>(De.selectionManager=De.createSelectionManager(Qr),De.selectionManager),colorPalette:(0,C.o)(oe.style),persistProperties:le=>oe.host.persistProperties(le),tooltipService:De.createTooltipService(),telemetry:(0,A.Zm)({hostServices:oe.host}),authenticationService:F({hostServices:oe.host}),locale:oe.host.locale(),hostCapabilities:{allowInteractions:!!oe.interactivity?.isVisualInteractive,allowModalDialog:!!oe.interactivity?.allowModalDialog},applyJsonFilter:(le,vt,Wt,Zt)=>{if(le)if(Array.isArray(le))oe.host.applyJsonFilter(le,vt,Wt,Zt);else{var ir=[];ir.push(le),oe.host.applyJsonFilter(ir,vt,Wt,Zt)}else oe.host.applyJsonFilter(null,vt,Wt,Zt)},launchUrl:le=>oe.host.launchUrl(le),instanceId:oe.host.instanceId,refreshHostData:()=>oe.host.refreshHostData(),createLocalizationManager:()=>new I(oe.localizationResources),fetchMoreData:le=>De.fetchMoreData(le),storageService:Ne(De),downloadService:ie(De),eventService:Ke(De),switchFocusModeState:le=>De.switchFocusModeState(le),hostEnv:oe.hostEnv,openModalDialog:(le,vt,Wt)=>De.openModalDialog(le,vt,Wt),displayWarningIcon:(le,vt)=>De.displayWarningIcon(le,vt),licenseManager:st(De),webAccessService:Vr(De),drill:le=>De.drill(le),applyCustomSort:le=>De.applyCustomSort(le)}}},hr="5.3.0",Or={version:hr,hostAdapter:oe=>{var De=oe.host;return De.apiVersion=hr,{createSelectionIdBuilder:()=>new Z.r,createSelectionManager:()=>(De.selectionManager=De.createSelectionManager(hr),De.selectionManager),colorPalette:(0,C.o)(oe.style),persistProperties:le=>oe.host.persistProperties(le),tooltipService:De.createTooltipService(),telemetry:(0,A.Zm)({hostServices:oe.host}),authenticationService:F({hostServices:oe.host}),locale:oe.host.locale(),hostCapabilities:{allowInteractions:!!oe.interactivity?.isVisualInteractive,allowModalDialog:!!oe.interactivity?.allowModalDialog},applyJsonFilter:(le,vt,Wt,Zt)=>{if(le)if(Array.isArray(le))oe.host.applyJsonFilter(le,vt,Wt,Zt);else{var ir=[];ir.push(le),oe.host.applyJsonFilter(ir,vt,Wt,Zt)}else oe.host.applyJsonFilter(null,vt,Wt,Zt)},launchUrl:le=>oe.host.launchUrl(le),instanceId:oe.host.instanceId,refreshHostData:()=>oe.host.refreshHostData(),createLocalizationManager:()=>new I(oe.localizationResources),fetchMoreData:le=>De.fetchMoreData(le),storageService:Ne(De),downloadService:ie(De),eventService:Ke(De),switchFocusModeState:le=>De.switchFocusModeState(le),hostEnv:oe.hostEnv,openModalDialog:(le,vt,Wt)=>De.openModalDialog(le,vt,Wt),displayWarningIcon:(le,vt)=>De.displayWarningIcon(le,vt),licenseManager:st(De),webAccessService:Vr(De),drill:le=>De.drill(le),applyCustomSort:le=>De.applyCustomSort(le)}}},Xr="5.4.0",Pt={version:Xr,hostAdapter:oe=>{var De=oe.host;return De.apiVersion=Xr,{createSelectionIdBuilder:()=>new Z.r,createSelectionManager:()=>(De.selectionManager=De.createSelectionManager(Xr),De.selectionManager),colorPalette:(0,C.o)(oe.style),persistProperties:le=>oe.host.persistProperties(le),tooltipService:De.createTooltipService(),telemetry:(0,A.Zm)({hostServices:oe.host}),authenticationService:F({hostServices:oe.host}),locale:oe.host.locale(),hostCapabilities:{allowInteractions:!!oe.interactivity?.isVisualInteractive,allowModalDialog:!!oe.interactivity?.allowModalDialog},applyJsonFilter:(le,vt,Wt,Zt)=>{if(le)if(Array.isArray(le))oe.host.applyJsonFilter(le,vt,Wt,Zt);else{var ir=[];ir.push(le),oe.host.applyJsonFilter(ir,vt,Wt,Zt)}else oe.host.applyJsonFilter(null,vt,Wt,Zt)},launchUrl:le=>oe.host.launchUrl(le),instanceId:oe.host.instanceId,refreshHostData:()=>oe.host.refreshHostData(),createLocalizationManager:()=>new I(oe.localizationResources),fetchMoreData:le=>De.fetchMoreData(le),storageService:Ne(De),downloadService:ie(De),eventService:Ke(De),switchFocusModeState:le=>De.switchFocusModeState(le),hostEnv:oe.hostEnv,openModalDialog:(le,vt,Wt)=>De.openModalDialog(le,vt,Wt),displayWarningIcon:(le,vt)=>De.displayWarningIcon(le,vt),licenseManager:st(De),webAccessService:Vr(De),drill:le=>De.drill(le),applyCustomSort:le=>De.applyCustomSort(le)}}};function Tt(oe){return new tt(oe)}class tt{constructor(De){this.storageV2Service=De&&De.localStorageV2Service&&De.localStorageV2Service(),this.promiseFactory=De.promiseFactory()}status(){return null!=this.storageV2Service?this.storageV2Service.getStorageStatus():this.promiseFactory.resolve(we.Un.NotSupported)}get(De){return null!=this.storageV2Service&&De?this.storageV2Service.getStorageData(De):this.promiseFactory.reject()}set(De,le){return null!=this.storageV2Service&&De&&le?this.storageV2Service.setStorageData(De,le):this.promiseFactory.reject()}remove(De){null!=this.storageV2Service&&De&&this.storageV2Service.removeStorageData(De)}}var _e="5.5.0",Me={version:_e,hostAdapter:oe=>{var De=oe.host;return De.apiVersion=_e,{createSelectionIdBuilder:()=>new Z.r,createSelectionManager:()=>(De.selectionManager=De.createSelectionManager(_e),De.selectionManager),colorPalette:(0,C.o)(oe.style),persistProperties:le=>oe.host.persistProperties(le),tooltipService:De.createTooltipService(),telemetry:(0,A.Zm)({hostServices:oe.host}),authenticationService:F({hostServices:oe.host}),locale:oe.host.locale(),hostCapabilities:{allowInteractions:!!oe.interactivity?.isVisualInteractive,allowModalDialog:!!oe.interactivity?.allowModalDialog},applyJsonFilter:(le,vt,Wt,Zt)=>{if(le)if(Array.isArray(le))oe.host.applyJsonFilter(le,vt,Wt,Zt);else{var ir=[];ir.push(le),oe.host.applyJsonFilter(ir,vt,Wt,Zt)}else oe.host.applyJsonFilter(null,vt,Wt,Zt)},launchUrl:le=>oe.host.launchUrl(le),instanceId:oe.host.instanceId,refreshHostData:()=>oe.host.refreshHostData(),createLocalizationManager:()=>new I(oe.localizationResources),fetchMoreData:le=>De.fetchMoreData(le),storageService:Ne(De),downloadService:ie(De),eventService:Ke(De),switchFocusModeState:le=>De.switchFocusModeState(le),hostEnv:oe.hostEnv,openModalDialog:(le,vt,Wt)=>De.openModalDialog(le,vt,Wt),displayWarningIcon:(le,vt)=>De.displayWarningIcon(le,vt),licenseManager:st(De),webAccessService:Vr(De),drill:le=>De.drill(le),applyCustomSort:le=>De.applyCustomSort(le),storageV2Service:Tt(De)}}};function at(oe){return new Xe(oe)}class Xe{constructor(De){this.acquireAADTokenService=De&&De.acquireAADTokenService&&De.acquireAADTokenService(),this.promiseFactory=De.promiseFactory()}acquireAADToken(){return null!=this.acquireAADTokenService?this.acquireAADTokenService.acquireAADToken():this.promiseFactory.reject()}acquireAADTokenstatus(){return null!=this.acquireAADTokenService?this.acquireAADTokenService.getAcquireAADTokenStatus():this.promiseFactory.resolve(we.Un.NotSupported)}}var ue="5.6.0",pt={version:ue,hostAdapter:oe=>{var De=oe.host;return De.apiVersion=ue,{createSelectionIdBuilder:()=>new Z.r,createSelectionManager:()=>(De.selectionManager=De.createSelectionManager(ue),De.selectionManager),colorPalette:(0,C.o)(oe.style),persistProperties:le=>oe.host.persistProperties(le),tooltipService:De.createTooltipService(),telemetry:(0,A.Zm)({hostServices:oe.host}),authenticationService:F({hostServices:oe.host}),locale:oe.host.locale(),hostCapabilities:{allowInteractions:!!oe.interactivity?.isVisualInteractive,allowModalDialog:!!oe.interactivity?.allowModalDialog},applyJsonFilter:(le,vt,Wt,Zt)=>{if(le)if(Array.isArray(le))oe.host.applyJsonFilter(le,vt,Wt,Zt);else{var ir=[];ir.push(le),oe.host.applyJsonFilter(ir,vt,Wt,Zt)}else oe.host.applyJsonFilter(null,vt,Wt,Zt)},launchUrl:le=>oe.host.launchUrl(le),instanceId:oe.host.instanceId,refreshHostData:()=>oe.host.refreshHostData(),createLocalizationManager:()=>new I(oe.localizationResources),fetchMoreData:le=>De.fetchMoreData(le),storageService:Ne(De),downloadService:ie(De),eventService:Ke(De),switchFocusModeState:le=>De.switchFocusModeState(le),hostEnv:oe.hostEnv,openModalDialog:(le,vt,Wt)=>De.openModalDialog(le,vt,Wt),displayWarningIcon:(le,vt)=>De.displayWarningIcon(le,vt),licenseManager:st(De),webAccessService:Vr(De),drill:le=>De.drill(le),applyCustomSort:le=>De.applyCustomSort(le),storageV2Service:Tt(De),acquireAADTokenService:at(De)}}},Kt="5.7.0",pr={version:Kt,hostAdapter:oe=>{var De=oe.host;return De.apiVersion=Kt,{createSelectionIdBuilder:()=>new Z.r,createSelectionManager:()=>(De.selectionManager=De.createSelectionManager(Kt),De.selectionManager),colorPalette:(0,C.o)(oe.style),persistProperties:le=>oe.host.persistProperties(le),tooltipService:De.createTooltipService(),telemetry:(0,A.Zm)({hostServices:oe.host}),authenticationService:F({hostServices:oe.host}),locale:oe.host.locale(),hostCapabilities:{allowInteractions:!!oe.interactivity?.isVisualInteractive,allowModalDialog:!!oe.interactivity?.allowModalDialog},applyJsonFilter:(le,vt,Wt,Zt)=>{if(le)if(Array.isArray(le))oe.host.applyJsonFilter(le,vt,Wt,Zt);else{var ir=[];ir.push(le),oe.host.applyJsonFilter(ir,vt,Wt,Zt)}else oe.host.applyJsonFilter(null,vt,Wt,Zt)},launchUrl:le=>oe.host.launchUrl(le),instanceId:oe.host.instanceId,refreshHostData:()=>oe.host.refreshHostData(),createLocalizationManager:()=>new I(oe.localizationResources),fetchMoreData:le=>De.fetchMoreData(le),storageService:Ne(De),downloadService:ie(De),eventService:Ke(De),switchFocusModeState:le=>De.switchFocusModeState(le),hostEnv:oe.hostEnv,openModalDialog:(le,vt,Wt)=>De.openModalDialog(le,vt,Wt),displayWarningIcon:(le,vt)=>De.displayWarningIcon(le,vt),licenseManager:st(De),webAccessService:Vr(De),drill:le=>De.drill(le),applyCustomSort:le=>De.applyCustomSort(le),storageV2Service:Tt(De),acquireAADTokenService:at(De),setCanDrill:le=>De.setCanDrill(le)}}};function sr(oe){return new Xt(oe)}class Xt{constructor(De){this.subSelectionService=De?.visualHostSubSelectionService?.()}subSelect(De){this.subSelectionService&&this.subSelectionService.subSelect(De)}updateRegionOutlines(De){this.subSelectionService&&this.subSelectionService.updateRegionOutlines(De)}}var Sr="5.8.0",ht={version:Sr,overloads:(oe,De)=>({update:le=>{if(oe.update){var vt={viewport:le.viewport,dataViews:le.dataViews,viewMode:le.viewMode,editMode:le.editMode,isInFocus:!!le.isInFocus,operationKind:le.operationKind,jsonFilters:le.jsonFilters,type:t(le),updateId:le.updateId,subSelections:le.subSelections,formatMode:le.formatMode};De.colorPalette.reset();var Wt=oe.constructor.__transform__;_.isFunction(Wt)?oe.update(vt,Wt(vt.dataViews)):oe.update(vt)}},getSubSelectionStyles:le=>{if(oe.visualOnObjectFormatting&&_.isFunction(oe.visualOnObjectFormatting.getSubSelectionStyles))return oe.visualOnObjectFormatting.getSubSelectionStyles(le)},getSubSelectionShortcuts:(le,vt)=>{if(oe.visualOnObjectFormatting&&_.isFunction(oe.visualOnObjectFormatting.getSubSelectionShortcuts))return oe.visualOnObjectFormatting.getSubSelectionShortcuts(le,vt)},getSubSelectables:le=>{if(oe.visualOnObjectFormatting&&oe.visualOnObjectFormatting.getSubSelectables&&_.isFunction(oe.visualOnObjectFormatting.getSubSelectables))return oe.visualOnObjectFormatting.getSubSelectables(le)}}),hostAdapter:oe=>{var De=oe.host;return De.apiVersion=Sr,{createSelectionIdBuilder:()=>new Z.r,createSelectionManager:()=>(De.selectionManager=De.createSelectionManager(Sr),De.selectionManager),colorPalette:(0,C.o)(oe.style),persistProperties:le=>oe.host.persistProperties(le),tooltipService:De.createTooltipService(),telemetry:(0,A.Zm)({hostServices:oe.host}),authenticationService:F({hostServices:oe.host}),locale:oe.host.locale(),hostCapabilities:{allowInteractions:!!oe.interactivity?.isVisualInteractive,allowModalDialog:!!oe.interactivity?.allowModalDialog},applyJsonFilter:(le,vt,Wt,Zt)=>{if(le)if(Array.isArray(le))oe.host.applyJsonFilter(le,vt,Wt,Zt);else{var ir=[];ir.push(le),oe.host.applyJsonFilter(ir,vt,Wt,Zt)}else oe.host.applyJsonFilter(null,vt,Wt,Zt)},launchUrl:le=>oe.host.launchUrl(le),instanceId:oe.host.instanceId,refreshHostData:()=>oe.host.refreshHostData(),createLocalizationManager:()=>new I(oe.localizationResources),fetchMoreData:le=>De.fetchMoreData(le),storageService:Ne(De),downloadService:ie(De),eventService:Ke(De),switchFocusModeState:le=>De.switchFocusModeState(le),hostEnv:oe.hostEnv,openModalDialog:(le,vt,Wt)=>De.openModalDialog(le,vt,Wt),displayWarningIcon:(le,vt)=>De.displayWarningIcon(le,vt),licenseManager:st(De),webAccessService:Vr(De),drill:le=>De.drill(le),applyCustomSort:le=>De.applyCustomSort(le),storageV2Service:Tt(De),acquireAADTokenService:at(De),setCanDrill:le=>De.setCanDrill(le),subSelectionService:sr(De)}}},gt=e(9611);class Vt{compareCustomVisualOpaqueIdentities(De,le){return(0,gt.fS)(De,le)}}var xt="5.9.0",Nt="5.10.0",dr="5.11.0",nt="5.12.0",zt=[n,c,h,f,V,P,M,B,W,x,K,H,G,Q,te,Ue,Ct,Ee,Je,je,lt,Ot,Fe,dt,be,ee,it,mt,Ze,Rt,Ht,He,ze,lr,Mr,Br,mr,ea,kr,Jr,Or,Pt,Me,pt,pr,ht,{version:xt,hostAdapter:oe=>{var De=oe.host;return De.apiVersion=xt,{createSelectionIdBuilder:()=>new Z.r,createSelectionManager:()=>(De.selectionManager=De.createSelectionManager(xt),De.selectionManager),colorPalette:(0,C.o)(oe.style),persistProperties:le=>oe.host.persistProperties(le),tooltipService:De.createTooltipService(),telemetry:(0,A.Zm)({hostServices:oe.host}),authenticationService:F({hostServices:oe.host}),locale:oe.host.locale(),hostCapabilities:{allowInteractions:!!oe.interactivity?.isVisualInteractive,allowModalDialog:!!oe.interactivity?.allowModalDialog},applyJsonFilter:(le,vt,Wt,Zt)=>{if(le)if(Array.isArray(le))oe.host.applyJsonFilter(le,vt,Wt,Zt);else{var ir=[];ir.push(le),oe.host.applyJsonFilter(ir,vt,Wt,Zt)}else oe.host.applyJsonFilter(null,vt,Wt,Zt)},launchUrl:le=>oe.host.launchUrl(le),instanceId:oe.host.instanceId,refreshHostData:()=>oe.host.refreshHostData(),createLocalizationManager:()=>new I(oe.localizationResources),fetchMoreData:le=>De.fetchMoreData(le),storageService:Ne(De),downloadService:ie(De),eventService:Ke(De),switchFocusModeState:le=>De.switchFocusModeState(le),hostEnv:oe.hostEnv,openModalDialog:(le,vt,Wt)=>De.openModalDialog(le,vt,Wt),displayWarningIcon:(le,vt)=>De.displayWarningIcon(le,vt),licenseManager:st(De),webAccessService:Vr(De),drill:le=>De.drill(le),applyCustomSort:le=>De.applyCustomSort(le),storageV2Service:Tt(De),acquireAADTokenService:at(De),setCanDrill:le=>De.setCanDrill(le),subSelectionService:sr(De),createOpaqueUtils:()=>new Vt}}},{version:Nt,hostAdapter:oe=>{var De=oe.host;return De.apiVersion=Nt,{createSelectionIdBuilder:()=>new Z.r,createSelectionManager:()=>(De.selectionManager=De.createSelectionManager(Nt),De.selectionManager),colorPalette:(0,C.o)(oe.style),persistProperties:le=>oe.host.persistProperties(le),tooltipService:De.createTooltipService(),telemetry:(0,A.Zm)({hostServices:oe.host}),authenticationService:F({hostServices:oe.host}),locale:oe.host.locale(),hostCapabilities:{allowInteractions:!!oe.interactivity?.isVisualInteractive,allowModalDialog:!!oe.interactivity?.allowModalDialog},applyJsonFilter:(le,vt,Wt,Zt)=>{if(le)if(Array.isArray(le))oe.host.applyJsonFilter(le,vt,Wt,Zt);else{var ir=[];ir.push(le),oe.host.applyJsonFilter(ir,vt,Wt,Zt)}else oe.host.applyJsonFilter(null,vt,Wt,Zt)},launchUrl:le=>oe.host.launchUrl(le),instanceId:oe.host.instanceId,refreshHostData:()=>oe.host.refreshHostData(),createLocalizationManager:()=>new I(oe.localizationResources),fetchMoreData:le=>De.fetchMoreData(le),storageService:Ne(De),downloadService:ie(De),eventService:Ke(De),switchFocusModeState:le=>De.switchFocusModeState(le),hostEnv:oe.hostEnv,openModalDialog:(le,vt,Wt)=>De.openModalDialog(le,vt,Wt),displayWarningIcon:(le,vt)=>De.displayWarningIcon(le,vt),licenseManager:st(De),webAccessService:Vr(De),drill:le=>De.drill(le),applyCustomSort:le=>De.applyCustomSort(le),storageV2Service:Tt(De),acquireAADTokenService:at(De),setCanDrill:le=>De.setCanDrill(le),subSelectionService:sr(De),createOpaqueUtils:()=>new Vt}}},{version:dr,hostAdapter:oe=>{var De=oe.host;return De.apiVersion=dr,{createSelectionIdBuilder:()=>new Z.r,createSelectionManager:()=>(De.selectionManager=De.createSelectionManager(dr),De.selectionManager),colorPalette:(0,C.o)(oe.style),persistProperties:le=>oe.host.persistProperties(le),tooltipService:De.createTooltipService(),telemetry:(0,A.Zm)({hostServices:oe.host}),authenticationService:F({hostServices:oe.host}),locale:oe.host.locale(),hostCapabilities:{allowInteractions:!!oe.interactivity?.isVisualInteractive,allowModalDialog:!!oe.interactivity?.allowModalDialog},applyJsonFilter:(le,vt,Wt,Zt)=>{if(le)if(Array.isArray(le))oe.host.applyJsonFilter(le,vt,Wt,Zt);else{var ir=[];ir.push(le),oe.host.applyJsonFilter(ir,vt,Wt,Zt)}else oe.host.applyJsonFilter(null,vt,Wt,Zt)},launchUrl:le=>oe.host.launchUrl(le),instanceId:oe.host.instanceId,refreshHostData:()=>oe.host.refreshHostData(),createLocalizationManager:()=>new I(oe.localizationResources),fetchMoreData:le=>De.fetchMoreData(le),downloadService:ie(De),eventService:Ke(De),switchFocusModeState:le=>De.switchFocusModeState(le),hostEnv:oe.hostEnv,openModalDialog:(le,vt,Wt)=>De.openModalDialog(le,vt,Wt),displayWarningIcon:(le,vt)=>De.displayWarningIcon(le,vt),licenseManager:st(De),webAccessService:Vr(De),drill:le=>De.drill(le),applyCustomSort:le=>De.applyCustomSort(le),storageV2Service:Tt(De),acquireAADTokenService:at(De),setCanDrill:le=>De.setCanDrill(le),subSelectionService:sr(De),createOpaqueUtils:()=>new Vt}}},{version:nt,overloads:(oe,De)=>({update:le=>{if(oe.update){var vt={viewport:le.viewport,dataViews:le.dataViews,viewMode:le.viewMode,editMode:le.editMode,isInFocus:!!le.isInFocus,operationKind:le.operationKind,jsonFilters:le.jsonFilters,type:t(le),updateId:le.updateId,subSelections:le.subSelections,formatMode:le.formatMode,pendingChanges:le.pendingChanges};De.colorPalette.reset();var Wt=oe.constructor.__transform__;_.isFunction(Wt)?oe.update(vt,Wt(vt.dataViews)):oe.update(vt)}}}),hostAdapter:oe=>{var De=oe.host;return De.apiVersion=nt,{createSelectionIdBuilder:()=>new Z.r,createSelectionManager:()=>(De.selectionManager=De.createSelectionManager(nt),De.selectionManager),colorPalette:(0,C.o)(oe.style),persistProperties:le=>oe.host.persistProperties(le),tooltipService:De.createTooltipService(),telemetry:(0,A.Zm)({hostServices:oe.host}),authenticationService:F({hostServices:oe.host}),locale:oe.host.locale(),hostCapabilities:{allowInteractions:!!oe.interactivity?.isVisualInteractive,allowModalDialog:!!oe.interactivity?.allowModalDialog},applyJsonFilter:(le,vt,Wt,Zt)=>{if(le)if(Array.isArray(le))oe.host.applyJsonFilter(le,vt,Wt,Zt);else{var ir=[];ir.push(le),oe.host.applyJsonFilter(ir,vt,Wt,Zt)}else oe.host.applyJsonFilter(null,vt,Wt,Zt)},launchUrl:le=>oe.host.launchUrl(le),instanceId:oe.host.instanceId,refreshHostData:()=>oe.host.refreshHostData(),createLocalizationManager:()=>new I(oe.localizationResources),fetchMoreData:le=>De.fetchMoreData(le),downloadService:ie(De),eventService:Ke(De),switchFocusModeState:le=>De.switchFocusModeState(le),hostEnv:oe.hostEnv,openModalDialog:(le,vt,Wt)=>De.openModalDialog(le,vt,Wt),displayWarningIcon:(le,vt)=>De.displayWarningIcon(le,vt),licenseManager:st(De),webAccessService:Vr(De),drill:le=>De.drill(le),applyCustomSort:le=>De.applyCustomSort(le),storageV2Service:Tt(De),acquireAADTokenService:at(De),setCanDrill:le=>De.setCanDrill(le),subSelectionService:sr(De),createOpaqueUtils:()=>new Vt}}}],er=e(650543),or=e(896286),ur=e(952363);class Er{constructor(De,le){this.wrappedVisual=De,this.run=le,er.f.assertValue(le,"run must be defined in VisualOutsideZoneAdapter"),De.update&&(this.update=vt=>this.apply(this.wrappedVisual.update,vt)),De.onResizing&&(this.onResizing=(vt,Wt)=>{this.apply(this.wrappedVisual.onResizing,vt,Wt)}),De.onDataChanged&&(this.onDataChanged=vt=>{this.apply(this.wrappedVisual.onDataChanged,vt)}),De.onSelectionStateChanged&&(this.onSelectionStateChanged=vt=>{this.apply(()=>this.wrappedVisual.onSelectionStateChanged(vt))})}init(De){return this.apply(this.wrappedVisual.init,De)}destroy(){this.apply(this.wrappedVisual.destroy)}onViewModeChanged(De){this.apply(this.wrappedVisual.onViewModeChanged,De)}onClearSelection(){this.apply(this.wrappedVisual.onClearSelection)}onRestoreSelection(De){return this.apply(this.wrappedVisual.onRestoreSelection,De)}canResizeTo(De){return this.apply(this.wrappedVisual.canResizeTo,De)}enumerateObjectInstances(De){return this.apply(this.wrappedVisual.enumerateObjectInstances,De)}enumerateObjectInstancesAsync(De){return this.apply(this.wrappedVisual.enumerateObjectInstancesAsync,De)}enumerateObjectRepetition(){return this.apply(this.wrappedVisual.enumerateObjectRepetition)}enumerateObjectRepetitionAsync(){return this.apply(this.wrappedVisual.enumerateObjectRepetitionAsync)}visualHasMethod(De){return this.apply(this.wrappedVisual.visualHasMethod,De)}unwrap(){var De=this.wrappedVisual;return De.unwrap?De.unwrap():De}get sandbox(){return this.wrappedVisual?.sandbox}getTelemetryInformation(){return this.apply(this.wrappedVisual.getTelemetryInformation)}getFormattingModel(){return this.apply(this.wrappedVisual.getFormattingModel)}getFormattingModelAsync(){return this.apply(this.wrappedVisual.getFormattingModelAsync)}resolveFormattingPlaceholder(De){return this.run(()=>this.wrappedVisual.resolveFormattingPlaceholder(De))}getSubSelectionStyles(De){return this.run(()=>this.wrappedVisual.getSubSelectionStyles(De))}getSubSelectionShortcuts(De,le){return this.run(()=>this.wrappedVisual.getSubSelectionShortcuts(De,le))}getSubSelectables(De){return this.run(()=>this.wrappedVisual.getSubSelectables(De))}getNextSubSelectable(De,le){return this.run(()=>this.wrappedVisual.getNextSubSelectable(De,le))}getSubSelectionStylesAsync(De){return this.run(()=>this.wrappedVisual.getSubSelectionStylesAsync(De))}getSubSelectionShortcutsAsync(De,le){return this.run(()=>this.wrappedVisual.getSubSelectionShortcutsAsync(De,le))}getSubSelectablesAsync(De){return this.run(()=>this.wrappedVisual.getSubSelectablesAsync(De))}onDataViewObjectChanged(De,le){return this.apply(this.wrappedVisual.onDataViewObjectChanged,De,le)}apply(De,...le){var vt=this.wrappedVisual;return this.run(()=>De.apply(vt,le))}}var Cr=e(752944),br=e(882924);class Dr{constructor(De){this.wrappedVisual=De,De.update&&(this.update=le=>this.trackVisualTime(()=>this.wrappedVisual.update(le),()=>le&&le.parentContextActivity?le.parentContextActivity.createChildActivity({name:br.R.VisualUpdate}):void 0)),De.onResizing&&(this.onResizing=(le,vt)=>{this.trackVisualTime(()=>this.wrappedVisual.onResizing(le,vt))}),De.onDataChanged&&(this.onDataChanged=le=>{this.trackVisualTime(()=>this.wrappedVisual.onDataChanged(le))}),De.onSelectionStateChanged&&(this.onSelectionStateChanged=le=>{this.trackVisualTime(()=>this.wrappedVisual.onSelectionStateChanged(le))})}init(De){if(this.wrappedVisual.init)return this.trackVisualTime(()=>this.wrappedVisual.init(De))}destroy(){this.wrappedVisual.destroy&&this.trackVisualTime(()=>this.wrappedVisual.destroy())}onViewModeChanged(De){this.wrappedVisual.onViewModeChanged&&this.trackVisualTime(()=>this.wrappedVisual.onViewModeChanged(De))}onClearSelection(){this.wrappedVisual.onClearSelection&&this.trackVisualTime(()=>this.wrappedVisual.onClearSelection())}onRestoreSelection(De){return!!this.wrappedVisual.onRestoreSelection&&this.trackVisualTime(()=>this.wrappedVisual.onRestoreSelection(De))}canResizeTo(De){if(this.wrappedVisual.canResizeTo)return this.trackVisualTime(()=>this.wrappedVisual.canResizeTo(De))}enumerateObjectInstances(De){if(this.wrappedVisual.enumerateObjectInstances)return this.trackVisualTime(()=>this.wrappedVisual.enumerateObjectInstances(De))}enumerateObjectRepetition(){if(this.wrappedVisual.enumerateObjectRepetition)return this.trackVisualTime(()=>this.wrappedVisual.enumerateObjectRepetition())}enumerateObjectInstancesAsync(De){return this.visualAdapter.enumerateObjectInstancesAsync?this.trackVisualTime(()=>this.visualAdapter.enumerateObjectInstancesAsync(De)):Promise.resolve(this.enumerateObjectInstances(De))}enumerateObjectRepetitionAsync(){return this.visualAdapter.enumerateObjectRepetitionAsync?this.trackVisualTime(()=>this.visualAdapter.enumerateObjectRepetitionAsync()):Promise.resolve(this.enumerateObjectRepetition())}get sandbox(){return this.visualAdapter&&this.visualAdapter.sandbox}get visualAdapter(){return this.wrappedVisual}unwrap(){var De=this.wrappedVisual;return De.unwrap?De.unwrap():De}visualHasMethod(De){var le=this.wrappedVisual;return le&&le.visualHasMethod(De)}getTelemetryInformation(){if(this.wrappedVisual.getTelemetryInformation)return this.trackVisualTime(()=>this.wrappedVisual.getTelemetryInformation())}getFormattingModel(){if(this.wrappedVisual.getFormattingModel)return this.trackVisualTime(()=>this.wrappedVisual.getFormattingModel())}getFormattingModelAsync(){return this.visualAdapter.getFormattingModelAsync?this.trackVisualTime(()=>this.visualAdapter.getFormattingModelAsync()):Promise.resolve(this.getFormattingModel())}resolveFormattingPlaceholder(De){if(this.wrappedVisual.resolveFormattingPlaceholder)return this.trackVisualTime(()=>this.wrappedVisual.resolveFormattingPlaceholder(De))}getSubSelectionStyles(De){if(this.wrappedVisual.getSubSelectionStyles)return this.trackVisualTime(()=>this.wrappedVisual.getSubSelectionStyles(De))}getSubSelectionShortcuts(De,le){if(this.wrappedVisual.getSubSelectionShortcuts)return this.trackVisualTime(()=>this.wrappedVisual.getSubSelectionShortcuts(De,le))}getSubSelectables(De){if(this.wrappedVisual.getSubSelectables)return this.trackVisualTime(()=>this.wrappedVisual.getSubSelectables(De))}getNextSubSelectable(De,le){if(this.wrappedVisual.getNextSubSelectable)return this.trackVisualTime(()=>this.wrappedVisual.getNextSubSelectable(De,le))}getSubSelectionStylesAsync(De){return this.wrappedVisual.getSubSelectionStylesAsync?this.trackVisualTime(()=>this.wrappedVisual.getSubSelectionStylesAsync(De)):Promise.resolve(this.getSubSelectionStyles(De))}getSubSelectionShortcutsAsync(De,le){return this.wrappedVisual.getSubSelectionShortcutsAsync?this.trackVisualTime(()=>this.wrappedVisual.getSubSelectionShortcutsAsync(De,le)):Promise.resolve(this.getSubSelectionShortcuts(De))}getSubSelectablesAsync(De){return this.wrappedVisual.getSubSelectablesAsync?this.trackVisualTime(()=>this.wrappedVisual.getSubSelectablesAsync(De)):Promise.resolve(this.getSubSelectables(De))}onDataViewObjectChanged(De,le){if(this.wrappedVisual.onDataViewObjectChanged)return this.trackVisualTime(()=>this.wrappedVisual.onDataViewObjectChanged(De,le))}trackVisualTime(De,le){var vt=le&&le();try{return De()}finally{vt&&vt.resolve()}}}var Wr,Pr=[];function Tr(){return function(oe,De,le){Object.defineProperty(le.value,"approvedMessage",{value:!0})}}function Kr(){return Pr}function ua(oe,De){return oe&&(oe=new Dr(oe),De&&(oe=new Er(oe,De))),oe}function va(oe,De,le,vt,Wt,Zt,ir){var ca=new ga(oe,De,le,vt,Wt,ir),fa=ua(ca,Zt);return new Cr.a(fa,oe,le,vt,ca.isPluginInError,ir)}zt.forEach(oe=>function(oe){Kr().push(oe)}(oe));var ga=(()=>{class oe{constructor(le,vt,Wt,Zt,ir,ca){this.plugin=le,this.creator=vt,this.promiseFactory=Wt,this.telemetryService=Zt,this.module=ir,this.certifiedEventsService=ca,this.initialized=!1,this.destroyed=!1,this.isPluginInError=!1,er.f.assertValue(le,"plugin"),er.f.assertValue(vt||this.plugin.createES6,"creator"),er.f.assertValue(Wt,"promiseFactory"),er.f.assertAnyValue(this.telemetryService,"telemetryService"),er.f.assertAnyValue(ir,"module"),er.f.assertAnyValue(this.certifiedEventsService,"certifiedEventsService");var fa=le.apiVersion,wa=this.getVersionIndex(fa);fa?wa>-1?(this.apiVersionIndex=wa,this.legacy=!1):(er.f.assertFail("The API version '"+fa+"' is invalid."),this.isPluginInError=!0):this.legacy=!0}init(le){var vt=this;return(0,r.Z)(function*(){return vt.initializedPromise=vt.initImpl(le),vt.initializedPromise})()}initImpl(le){var vt=this;return(0,r.Z)(function*(){if(er.f.assert(()=>!vt.initialized,"Unexpected `init` after already initialized"),er.f.assertValue(le.element,"options.element"),er.f.assertValue(le.host,"options.host"),le.element.empty(),le=(0,or.ED)(le),vt.legacy){var Wt={module:vt.module,featureSwitches:le.featureSwitches};if(vt.plugin.createES6){if(vt.visual=yield vt.plugin.createES6(Wt),vt.destroyed)return}else vt.visual=vt.creator(Wt);if(yield vt.visualLegacy.init(le),vt.destroyed)return}else{var Zt=vt.host=Pr[vt.apiVersionIndex].hostAdapter(le),ir={element:le.element.get(0),host:Zt,module:vt.module,featureSwitches:le.featureSwitches};if(vt.plugin.createES6){if(vt.visual=yield vt.plugin.createES6(ir),vt.destroyed)return}else vt.visual=vt.creator(ir);vt.overloadMethods()}vt.initialized=!0})()}update(le){var vt=this;return(0,r.Z)(function*(){er.f.assertValue(()=>vt.initialized,"Expected `init` before `update`");var Wt=vt.initializedPromise;if(yield vt.initializedPromise,er.f.assert(()=>vt.initializedPromise===Wt,"Unexpected re-initialize during update"),!vt.destroyed&&vt.initialized)if(vt.plugin.systemVisual||((le=(0,or.ED)(le)).visualDefinitionData=void 0,le.dataTransforms=void 0),(le.type&a.EP.Resize)===a.EP.Resize&&vt.visualHasMethod("onResizing")){if(vt.plugin.custom&&vt.visualHasMethod("update")&&(yield vt.visualLegacy.update(le),vt.destroyed))return;vt.onResizing(le.viewport,le.resizeMode)}else if(vt.visualHasMethod("update")){if(yield vt.visualLegacy.update(le),vt.destroyed)return}else(!le.type||le.type&a.EP.Data)&&vt.onDataChanged(_.pick(le,["dataViews","operationKind"])),le.type&a.EP.ViewMode&&vt.onViewModeChanged(le.viewMode)})()}destroy(){this.visualHasMethod("destroy")&&this.visualLegacy.destroy(),this.initialized=!1,this.destroyed=!0}enumerateObjectInstances(le){if(this.visualHasMethod("enumerateObjectInstances"))return this.visualLegacy.enumerateObjectInstances(le)}enumerateObjectRepetition(){if(this.visualHasMethod("enumerateObjectRepetition"))return this.visualLegacy.enumerateObjectRepetition()}enumerateObjectInstancesAsync(le){return this.visualHasMethod("enumerateObjectInstancesAsync")?this.visualAdapter.enumerateObjectInstancesAsync(le):this.promiseFactory.resolve(this.enumerateObjectInstances(le))}enumerateObjectRepetitionAsync(){return this.visualHasMethod("enumerateObjectRepetitionAsync")?this.visualAdapter.enumerateObjectRepetitionAsync():this.promiseFactory.resolve(this.enumerateObjectRepetition())}get sandbox(){return this.visualAdapter&&this.visualAdapter.sandbox}onResizing(le,vt){this.visualHasMethod("onResizing")&&this.visualLegacy.onResizing(le,vt)}onDataChanged(le){this.visualHasMethod("onDataChanged")&&this.visualLegacy.onDataChanged(le)}onViewModeChanged(le){this.visualHasMethod("onViewModeChanged")&&this.visualLegacy.onViewModeChanged(le)}onSelectionStateChanged(le){this.visualHasMethod("onSelectionStateChanged")&&this.visualLegacy.onSelectionStateChanged(le)}onClearSelection(){this.visualHasMethod("onClearSelection")&&this.visualLegacy.onClearSelection()}onRestoreSelection(le){if(this.visualHasMethod("onRestoreSelection"))return this.visualLegacy.onRestoreSelection(le)}canResizeTo(le){if(this.visualHasMethod("canResizeTo"))return this.visualLegacy.canResizeTo(le)}unwrap(){return this.visual}getTelemetryInformation(){if(this.visualHasMethod("getTelemetryInformation"))return this.visualLegacy.getTelemetryInformation()}getFormattingModel(){if(this.visualHasMethod("getFormattingModel"))return this.visualAdapter.getFormattingModel()}getFormattingModelAsync(){return this.visualHasMethod("getFormattingModelAsync")?this.visualAdapter.getFormattingModelAsync():this.promiseFactory.resolve(this.getFormattingModel())}resolveFormattingPlaceholder(le){if(this.visualHasMethod("resolveFormattingPlaceholder"))return this.visualLegacy.resolveFormattingPlaceholder(le)}getSubSelectionStyles(le){if(this.visualHasMethod("getSubSelectionStyles"))return this.visualAdapter.getSubSelectionStyles(le)}getSubSelectionShortcuts(le,vt){if(this.visualHasMethod("getSubSelectionShortcuts"))return this.visualAdapter.getSubSelectionShortcuts(le,vt)}getSubSelectables(le){if(this.visualHasMethod("getSubSelectables"))return this.visualAdapter.getSubSelectables(le)}getNextSubSelectable(le,vt){if(this.visualHasMethod("getNextSubSelectable"))return this.visualAdapter.getNextSubSelectable(le,vt)}getSubSelectionStylesAsync(le){return this.visualHasMethod("getSubSelectionStylesAsync")?this.visualAdapter.getSubSelectionStylesAsync(le):this.promiseFactory.resolve(this.getSubSelectionStyles(le))}getSubSelectionShortcutsAsync(le,vt){return this.visualHasMethod("getSubSelectionShortcutsAsync")?this.visualAdapter.getSubSelectionShortcutsAsync(le,vt):this.promiseFactory.resolve(this.getSubSelectionShortcuts(le,vt))}getSubSelectablesAsync(le){return this.visualHasMethod("getSubSelectablesAsync")?this.visualAdapter.getSubSelectablesAsync(le):this.promiseFactory.resolve(this.getSubSelectables(le))}onDataViewObjectChanged(le,vt){if(this.visualHasMethod("onDataViewObjectChanged"))return this.visualAdapter.onDataViewObjectChanged(le,vt)}get visualNew(){if(!this.legacy)return this.visual}get visualLegacy(){if(this.legacy)return this.visual}get visualAdapter(){return this.visual}visualHasMethod(le){var vt=this.legacy?this.visualLegacy:this.visualNew;return(0,ur.Xf)(this.plugin.name)?vt&&_.isFunction(vt[le])&&vt.visualHasMethod(le):vt&&_.isFunction(vt[le])}getVersionIndex(le){if(le)for(var vt=Kr().length,Wt=0;Wt<vt;Wt++)if(Kr()[Wt].version===le)return Wt;return-1}overloadMethods(){var le=this.getCompiledOverloads();for(var vt in le)this[vt]=le[vt]}getCompiledOverloads(){for(var le={},vt=this.apiVersionIndex,Wt=this.visualNew,Zt=0;Zt<=vt;Zt++){var ir=Kr()[Zt].overloads;_.isFunction(ir)&&_.assign(le,ir(Wt,this.host))}return le}}return(0,i.__decorate)([Tr(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[Object]),(0,i.__metadata)("design:returntype",Object)],oe.prototype,"enumerateObjectInstancesAsync",null),(0,i.__decorate)([Tr(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[]),(0,i.__metadata)("design:returntype",Object)],oe.prototype,"enumerateObjectRepetitionAsync",null),(0,i.__decorate)([Tr(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[Object,Number]),(0,i.__metadata)("design:returntype",void 0)],oe.prototype,"onResizing",null),(0,i.__decorate)([Tr(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[Object]),(0,i.__metadata)("design:returntype",void 0)],oe.prototype,"onDataChanged",null),(0,i.__decorate)([Tr(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[Number]),(0,i.__metadata)("design:returntype",void 0)],oe.prototype,"onViewModeChanged",null),(0,i.__decorate)([Tr(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[Boolean]),(0,i.__metadata)("design:returntype",void 0)],oe.prototype,"onSelectionStateChanged",null),(0,i.__decorate)([Tr(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[]),(0,i.__metadata)("design:returntype",void 0)],oe.prototype,"onClearSelection",null),(0,i.__decorate)([Tr(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[Object]),(0,i.__metadata)("design:returntype",Boolean)],oe.prototype,"canResizeTo",null),(0,i.__decorate)([Tr(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[]),(0,i.__metadata)("design:returntype",Object)],oe.prototype,"getTelemetryInformation",null),(0,i.__decorate)([Tr(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[]),(0,i.__metadata)("design:returntype",Object)],oe.prototype,"getFormattingModelAsync",null),(0,i.__decorate)([Tr(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",["function"==typeof(Wr=typeof TFormattingPlaceholder<"u"&&TFormattingPlaceholder)?Wr:Object]),(0,i.__metadata)("design:returntype",Object)],oe.prototype,"resolveFormattingPlaceholder",null),(0,i.__decorate)([Tr(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[Array]),(0,i.__metadata)("design:returntype",Object)],oe.prototype,"getSubSelectionStyles",null),(0,i.__decorate)([Tr(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[Array,String]),(0,i.__metadata)("design:returntype",Array)],oe.prototype,"getSubSelectionShortcuts",null),(0,i.__decorate)([Tr(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[Number]),(0,i.__metadata)("design:returntype",Array)],oe.prototype,"getSubSelectables",null),(0,i.__decorate)([Tr(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[Object,Boolean]),(0,i.__metadata)("design:returntype",Object)],oe.prototype,"getNextSubSelectable",null),(0,i.__decorate)([Tr(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[Array]),(0,i.__metadata)("design:returntype",Object)],oe.prototype,"getSubSelectionStylesAsync",null),(0,i.__decorate)([Tr(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[Array,String]),(0,i.__metadata)("design:returntype",Object)],oe.prototype,"getSubSelectionShortcutsAsync",null),(0,i.__decorate)([Tr(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[Number]),(0,i.__metadata)("design:returntype",Object)],oe.prototype,"getSubSelectablesAsync",null),(0,i.__decorate)([Tr(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[Array,Number]),(0,i.__metadata)("design:returntype",Array)],oe.prototype,"onDataViewObjectChanged",null),oe})()},659615:function(ve,j,e){e.d(j,{L:function(){return g}});var r=e(630881),i=e(281210),a=e(56604),t=["displayName","description","placeHolderText"],l={get:h=>h,getOptional:h=>h,format:h=>h};function g(h){h.apiVersion?function(h){!function(h){h&&(function(h){for(var E in h){var u=h[E];if(u){var f=u.properties;if(f)for(var b in f){var V=f[b];if(V){var T=V.type;T&&T.enumeration&&(T.enumeration=(0,a.i)(T.enumeration))}}}}}(h.objects),function(h){for(var E in h){var u=h[E];u&&u.kind&&(u.kind=v(u.kind.toString()))}}(h.dataRoles),function(h){for(var E in h){var u=h[E];if(u){var f=u.conditions;if(f)for(var b in f){var V=f[b];if(V)for(var T in V){var P=V[T];P&&P.kind&&(V[T].kind=v(P.kind.toString()))}}}}}(h.dataViewMappings))}(h.capabilities)}(h):function(h){!function(h){h&&(function(h){for(var E in h){var u=h[E];if(u){var f=(u=h[E]=_.mapValues(u,S)).properties;if(f)for(var b in f){var V=f[b];if(V){var T=(V=f[b]=_.mapValues(V,S)).type;if(T&&T.enumeration&&_.isFunction(T.enumeration.members)){var P=T.enumeration.members().map(D=>_.mapValues(D,S));T.enumeration=(0,a.i)(P)}}}}}}(h.objects),function(h){for(var E in h){var u=h[E];u&&(h[E]=_.mapValues(u,S))}}(h.dataRoles))}(h.capabilities)}(h)}function v(h){switch(h.toLowerCase()){case"grouping":case r.DW.Grouping.toString():return r.DW.Grouping;case"measure":case r.DW.Measure.toString():return r.DW.Measure;case"groupingormeasure":case r.DW.GroupingOrMeasure.toString():return r.DW.GroupingOrMeasure}}function S(h,E){return _.isString(h)||-1===_.indexOf(t,E)?h:(0,i.G)(h,l)}},752944:function(ve,j,e){e.d(j,{H:function(){return d},a:function(){return s}});var r=e(349672),i=e(74048),a=e(45552),t=e(858859),l=e(844668),g=e(120694),n=e(84838),p=e(893910);class s{constructor(v,m,c,C,y,S,h){this.wrappedVisual=v,this.visualPlugin=m,this.promiseFactory=c,this.telemetryService=C,this.isPluginInError=y,this.certifiedEventsService=S,this.silent=h,this.initCalled=!1,this.visualLoadStartTime=(0,g.z)(),this.startTimeISO=(new Date).toISOString()}init(v){if(this.initCalled=!0,v&&v.host&&v.host.telemetry){var m=v.host.telemetry();this.visualName=m&&m.visualName,this.instanceId=m&&m.instanceId}if(this.wrappedVisual.init)return this.executeSafelyAsync(()=>this.wrappedVisual.init(v))}checkInit(){return!!this.initCalled||(n.fM.assertFail("Another visual method was called before init"),!1)}destroy(){this.wrappedVisual.destroy&&this.executeSafely(()=>this.wrappedVisual.destroy())}update(v){var m=this;if(this.checkInit(),this.wrappedVisual.update)return this.executeSafelyAsync((0,r.Z)(function*(){if(yield m.wrappedVisual.update(v),m.telemetryService&&m.startTimeISO&&m.visualPlugin.custom){var{version:c,apiVersion:C}=m.visualPlugin,y=(new Date).toISOString();m.telemetryService.logEvent(t.ZX,{name:m.visualPlugin.name,apiVersion:C,custom:!!m.visualPlugin.custom,visualVersion:c,visualName:m.visualName,instanceId:m.instanceId,start:m.startTimeISO,end:y,isError:m.isPluginInError,errorSource:l.zH.User}),m.startTimeISO=null,m.visualLoadStartTime&&(m.certifiedEventsService?.logTimedStandardizedFeatureEvent({activityAttributes:{apiMajorVersion:C&&(0,p.OA)(C)?.major,apiMinorVersion:C&&(0,p.OA)(C)?.minor,visualMajorVersion:c&&(0,p.OA)(c)?.major,visualMinorVersion:c&&(0,p.OA)(c)?.minor},activityName:t.py,correlationId:m.telemetryService?.root?.id,operationEndTime:(0,g.z)(),operationStartTime:m.visualLoadStartTime,visualId:m.visualPlugin.name}),m.visualLoadStartTime=null)}}))}onResizing(v,m){this.checkInit(),this.wrappedVisual.onResizing&&this.executeSafely(()=>this.wrappedVisual.onResizing(v,m))}onDataChanged(v){this.checkInit(),this.wrappedVisual.onDataChanged&&this.executeSafely(()=>this.wrappedVisual.onDataChanged(v))}onViewModeChanged(v){this.checkInit(),this.wrappedVisual.onViewModeChanged&&this.executeSafely(()=>this.wrappedVisual.onViewModeChanged(v))}onSelectionStateChanged(v){this.checkInit(),this.wrappedVisual.onSelectionStateChanged&&this.executeSafely(()=>this.wrappedVisual.onSelectionStateChanged(v))}onClearSelection(){this.checkInit(),this.wrappedVisual.onClearSelection&&this.executeSafely(()=>this.wrappedVisual.onClearSelection())}onRestoreSelection(v){return this.checkInit(),!!this.wrappedVisual.onRestoreSelection&&this.executeSafely(()=>this.wrappedVisual.onRestoreSelection(v))}canResizeTo(v){if(this.checkInit(),this.wrappedVisual.canResizeTo)return this.executeSafely(()=>this.wrappedVisual.canResizeTo(v))}enumerateObjectInstances(v){if(this.checkInit(),this.wrappedVisual.enumerateObjectInstances)return this.executeSafely(()=>this.wrappedVisual.enumerateObjectInstances(v))}enumerateObjectRepetition(){if(this.checkInit(),this.wrappedVisual.enumerateObjectRepetition)return this.executeSafely(()=>this.wrappedVisual.enumerateObjectRepetition())}enumerateObjectInstancesAsync(v){return this.checkInit(),this.visualAdapter.enumerateObjectInstancesAsync?this.executeSafely(()=>this.visualAdapter.enumerateObjectInstancesAsync(v)):this.promiseFactory.resolve(this.enumerateObjectInstances(v))}enumerateObjectRepetitionAsync(){return this.checkInit(),this.visualAdapter.enumerateObjectRepetitionAsync?this.executeSafely(()=>this.visualAdapter.enumerateObjectRepetitionAsync()):this.promiseFactory.resolve(this.enumerateObjectRepetition())}get sandbox(){return this.visualAdapter&&this.visualAdapter.sandbox}get visualAdapter(){return this.wrappedVisual}unwrap(){var v=this.wrappedVisual;return v.unwrap?v.unwrap():v}visualHasMethod(v){var m=this.wrappedVisual;return m&&m.visualHasMethod(v)}getTelemetryInformation(){if(this.checkInit(),this.wrappedVisual.getTelemetryInformation)return this.executeSafely(()=>this.wrappedVisual.getTelemetryInformation())}getFormattingModel(){if(this.checkInit(),this.wrappedVisual.getFormattingModel)return this.executeSafely(()=>this.wrappedVisual.getFormattingModel())}getFormattingModelAsync(){return this.checkInit(),this.visualAdapter.getFormattingModelAsync?this.executeSafely(()=>this.visualAdapter.getFormattingModelAsync()):this.promiseFactory.resolve(this.getFormattingModel())}resolveFormattingPlaceholder(v){if(this.checkInit(),this.wrappedVisual.resolveFormattingPlaceholder)return this.executeSafely(()=>this.wrappedVisual.resolveFormattingPlaceholder(v))}getSubSelectionStyles(v){if(this.checkInit(),this.wrappedVisual.getSubSelectionStyles)return this.executeSafely(()=>this.wrappedVisual.getSubSelectionStyles(v))}getSubSelectionShortcuts(v,m){if(this.checkInit(),this.wrappedVisual.getSubSelectionShortcuts)return this.executeSafely(()=>this.wrappedVisual.getSubSelectionShortcuts(v,m))}getSubSelectables(v){if(this.checkInit(),this.wrappedVisual.getSubSelectables)return this.executeSafely(()=>this.wrappedVisual.getSubSelectables(v))}getNextSubSelectable(v,m){if(this.checkInit(),this.wrappedVisual.getNextSubSelectable)return this.executeSafely(()=>this.wrappedVisual.getNextSubSelectable(v,m))}getSubSelectionStylesAsync(v){return this.checkInit(),this.wrappedVisual.getSubSelectionStylesAsync?this.executeSafely(()=>this.wrappedVisual.getSubSelectionStylesAsync(v)):this.promiseFactory.resolve(this.getSubSelectionStyles(v))}getSubSelectionShortcutsAsync(v,m){return this.checkInit(),this.wrappedVisual.getSubSelectionShortcutsAsync?this.executeSafely(()=>this.wrappedVisual.getSubSelectionShortcutsAsync(v,m)):this.promiseFactory.resolve(this.getSubSelectionShortcuts(v,m))}getSubSelectablesAsync(v){return this.checkInit(),this.wrappedVisual.getSubSelectablesAsync?this.executeSafely(()=>this.wrappedVisual.getSubSelectablesAsync(v)):this.promiseFactory.resolve(this.getSubSelectables(v))}onDataViewObjectChanged(v,m){if(this.checkInit(),this.visualAdapter.onDataViewObjectChanged)return this.executeSafely(()=>this.wrappedVisual.onDataViewObjectChanged(v,m))}executeSafely(v){try{return v()}catch(m){this.telemetryService&&this.logVisualExceptionEvent(m)}}executeSafelyAsync(v){var m=this;return(0,r.Z)(function*(){try{return yield v()}catch(c){m.telemetryService&&m.logVisualExceptionEvent(c)}})()}logVisualExceptionEvent(v){d(v,this.visualPlugin,this.visualName,this.instanceId,this.telemetryService,this.certifiedEventsService)}}function d(o,v,m,c,C,y){var S=!!v?.custom,{version:h,apiVersion:E}=v||{};C.logEvent(t.Lj,{visualType:v.name,isCustom:S,apiVersion:E,visualName:m,instanceId:c,isDeprecated:!!v.isDeprecated,source:o.fileName,lineNumber:o.lineNumber,columnNumber:o.columnNumber,message:S?void 0:(0,a.CX)(o),stack:S?void 0:(0,a.bL)(o)}),S&&y?.logStandardizedFeatureEvent({activityAttributes:{apiMajorVersion:E&&(0,p.OA)(E)?.major,apiMinorVersion:E&&(0,p.OA)(E)?.minor,visualMajorVersion:h&&(0,p.OA)(h)?.major,visualMinorVersion:h&&(0,p.OA)(h)?.minor,isDeprecated:!!v?.isDeprecated},activityName:t.d3,activityStatus:i.f.Failed,correlationId:C?.root?.id,visualId:v?.name})}},582986:function(ve,j,e){function r(l){return new a(l)}function i(l){return new t(l)}e.d(j,{D:function(){return r},o:function(){return i}});class a{constructor(g){this.colorPalette={},this.colorIndex=0,this.colors=g}getColor(g){var n=this.colorPalette[g];if(n)return n;var p=this.colors;return n=this.colorPalette[g]=p[this.colorIndex++],this.colorIndex>=p.length&&(this.colorIndex=0),n}reset(){return this.colorIndex=0,this.colorPalette={},this}}class t extends a{constructor(g){var n=g.colorPalette.dataColors;super(n.getAllColors()),this.isHighContrast=g.isHighContrast,this.foreground=g.colorPalette.foreground,this.foregroundLight=g.colorPalette.foregroundLight,this.foregroundDark=g.colorPalette.foregroundDark,this.foregroundNeutralLight=g.colorPalette.foregroundNeutralLight,this.foregroundNeutralDark=g.colorPalette.foregroundNeutralDark,this.foregroundNeutralSecondary=g.colorPalette.foregroundNeutralSecondary,this.foregroundNeutralSecondaryAlt=g.colorPalette.foregroundNeutralSecondaryAlt,this.foregroundNeutralSecondaryAlt2=g.colorPalette.foregroundNeutralSecondaryAlt2,this.foregroundNeutralTertiary=g.colorPalette.foregroundNeutralTertiary,this.foregroundNeutralTertiaryAlt=g.colorPalette.foregroundNeutralTertiaryAlt,this.foregroundSelected=g.colorPalette.foregroundSelected,this.foregroundButton=g.colorPalette.foregroundButton,this.background=g.colorPalette.background,this.backgroundLight=g.colorPalette.backgroundLight,this.backgroundNeutral=g.colorPalette.backgroundNeutral,this.backgroundDark=g.colorPalette.backgroundDark,this.hyperlink=g.colorPalette.hyperlink,this.visitedHyperlink=g.colorPalette.visitedHyperlink,this.mapPushpin=g.colorPalette.mapPushpin,this.shapeStroke=g.colorPalette.shapeStroke;var p=n.getSentimentColors();this.bad=p.bad,this.neutral=p.neutral,this.good=p.good;var s=n.getGradientColors();this.minimum=s.minColor,this.center=s.midColor,this.maximium=s.maxColor,this.null=s.nullColor,this.negative=p.bad,this.positive=p.good,this.selection=g.colorPalette.selection,this.separator=g.colorPalette.separator}}},588965:function(ve,j,e){e.d(j,{Z:function(){return g}});var r=e(941488),i=e(893910),a=e(246626),t=e(621083),l=e(191282);class g{constructor(p,s=!1){this.dataPointObjectName="dataPoint",this.filterPropertyIdentifier={objectName:"general",propertyName:"filter"},this.hostServices=p.hostServices,this.apiVersion=p.apiVersion,this.selectedIds=[],this.promiseFactory=this.hostServices.promiseFactory(),this.noIframe=s}select(p,s=!1){var d=this.promiseFactory.defer();return p?(p instanceof Array||(p=[p]),this.hostServices.shouldRetainSelection()?this.sendSelectionToHost(p,s):(this.selectInternal(p,s),this.sendSelectionToHost(this.selectedIds,s)),d.resolve(this.selectedIds),d.promise):(d.reject(),d.promise)}showContextMenu(p,s,d){var o=this.promiseFactory.defer();return p||(p={}),this.sendContextMenuToHost(p,s,d),o.resolve(null),o.promise}toggleExpandCollapse(p,s){var d=this.promiseFactory.defer();return this.sendExpandCollapseToHost(p,!0===s),d.resolve(null),d.promise}hasSelection(){return this.selectedIds.length>0}clear(){var p=this.promiseFactory.defer();return this.selectedIds=[],this.sendSelectionToHost([]),p.resolve(null),p.promise}getSelectionIds(){return this.selectedIds}setSelectionIds(p){this.selectedIds=p}sendSelectionToHost(p,s){if(this.noIframe||!this.apiVersion||(0,i.lt)(this.apiVersion,"2.0.0")){var d=this.dataPointObjectName,o={type:t.BD.DataPointSelection,visualObjects:_.chain(p).filter(m=>m.hasIdentity()).map(m=>({objectName:d,selectorsByColumn:m.getSelectorsByColumn()})).value(),selectors:void 0,selectionMode:s?a.i.Difference:a.i.Single},v=!1;_.isEmpty(p)||(v=p[0].getSelector()&&!p[0].getSelectorsByColumn()),v&&(o.selectors=_.chain(p).filter(m=>m.hasIdentity()).map(m=>m.getSelector()).value()),this.hostServices.onSelect(o)}else this.hostServices.sendSelectionIdsToHost(this.prepareCustomVisualSelectEventArgs(p,s))}sendContextMenuToHost(p,s,d){p&&s&&this.hostServices.customVisualOnContextMenu({data:[p],position:s,dataRoles:d?[d]:void 0})}sendExpandCollapseToHost(p,s){p&&null!=p.nodeIsCollapsed&&this.hostServices.customVisualOnExpandCollapse({data:p,entireLevel:s})}selectInternal(p,s){p.length<1||(p.length>1?this.selectedIds=s?p.filter(d=>!this.selectedIds.some(o=>o.equals(d))).concat(this.selectedIds.filter(d=>!p.some(o=>o.equals(d)))):p:g.containsSelection(this.selectedIds,p[0])?this.selectedIds=s?this.selectedIds.filter(d=>!p[0].equals(d)):this.selectedIds.length>1?p:[]:s?this.selectedIds.push(p[0]):this.selectedIds=p)}static containsSelection(p,s){return p.some(d=>s.equals(d))}static getSelectorsByColumn(p){return p&&p[0]instanceof r.r?p:_(p).filter(s=>s&&s.hasIdentity).map(s=>s.getSelectorsByColumn()).compact().value()}static createChangeForFilterProperty(p,s){var d={},o={objectName:p.objectName,selector:void 0,properties:d};return null==s?(d[p.propertyName]={},{remove:[o]}):(d[p.propertyName]=s,{merge:[o]})}getFilterFromSelectors(){if(this.hasSelection()){var p=_.chain(this.selectedIds).filter(s=>s.hasIdentity()).map(s=>s.getSelector()).value();return(0,l.mV)(p,!1)}}prepareCustomVisualSelectEventArgs(p,s){var d={selectionIds:[],multiSelect:s};if(p&&p[0]&&(p[0].dataMap||p[0].measures))for(var o of p)d.selectionIds.push(o);return d}applySelectionFilter(){this.hostServices.persistProperties(g.createChangeForFilterProperty(this.filterPropertyIdentifier,this.getFilterFromSelectors()))}registerOnSelectCallback(p){this.onSelectCallback=p}invokeOnSelectCallback(p){_.isFunction(this.onSelectCallback)&&this.onSelectCallback(p)}}},439947:function(ve,j,e){e.d(j,{Zm:function(){return a},gU:function(){return g},s$:function(){return l}});var r=e(650543),i=e(630881);function a(n){return new t(n)}class t{constructor(p){this.hostServices=p.hostServices,this.telemetryService=this.hostServices&&this.hostServices.telemetry&&this.hostServices.telemetry(),this.instanceId=this.telemetryService&&this.telemetryService.instanceId}trace(p,s){this.telemetryService&&this.telemetryService.trace(p,s)}}function l(n){switch(n){case i.KE.Error:return"VisualEventError";case i.KE.Trace:return"VisualEventTrace";case i.KE.RenderStarted:return"VisualEventRenderStarted";case i.KE.RenderCompleted:return"VisualEventRenderCompleted";default:return void r.f.assertFail("Unknown VisualEventType: "+n)}}function g(n){switch(n){case"VisualEventError":return i.KE.Error;case"VisualEventTrace":return i.KE.Trace;case"VisualEventRenderStarted":return i.KE.RenderStarted;case"VisualEventRenderCompleted":return i.KE.RenderCompleted;default:return void r.f.assertFail("Unknown VisualEventType: "+n)}}},753876:function(ve,j,e){e.d(j,{r:function(){return i}});var r=e(588965);function i(t){return new a(t)}class a{constructor(l){this.hostServices=l.hostServices,this.tooltipService=this.hostServices.tooltips()}enabled(){return this.tooltipService&&this.tooltipService.enabled()}show(l){if(this.enabled()){var g={coordinates:l.coordinates,dataItems:l.dataItems,isTouchEvent:l.isTouchEvent,identities:r.Z.getSelectorsByColumn(l.identities)};this.tooltipService.show(g)}}move(l){if(this.enabled()){var g={coordinates:l.coordinates,dataItems:l.dataItems,isTouchEvent:l.isTouchEvent,identities:r.Z.getSelectorsByColumn(l.identities)};this.tooltipService.move(g)}}hide(l){this.enabled()&&this.tooltipService.hide(l)}}},357186:function(ve,j,e){e.d(j,{FE:function(){return a},UG:function(){return t},Ug:function(){return g}});var r=e(650543),i=e(191282);function a(n){var s=null!=n.data||null!=n.selectors,d=_.some(n.visualObjects,o=>o.selectorsByColumn&&o.selectorsByColumn.metadata&&!_.isArray(o.selectorsByColumn.metadata));return s||d}function t(n){var p;if(n.data2)p=n.data2;else{if(n.selectors||n.data)return r.f.assertFail("A visual is using selectors instead of selectorsByColumn.  Some features may not work as expected."),_.map(n.selectors||n.data,o=>function(n){if(n){var p={};return p[""]=n.data,{dataMap:p,metadata:[n.metadata]}}}(o));if(!n.visualObjects)return[];p=_.map(n.visualObjects,o=>o.selectorsByColumn)}for(var s of p){var d=s.metadata;d&&!_.isArray(d)&&(s.metadata=[d])}return p}function g(n){return null!=n.selectors?n.selectors:n.data?n.data:n.visualObjects?_.map(n.visualObjects,p=>(0,i.tV)(p.selectorsByColumn)):n.data}},826883:function(ve,j,e){e.d(j,{LG:function(){return s},dg:function(){return d}});var r=e(650543),i=e(301336),a=e(977957);var p=window;function s(m){return o(m,window.resourceLoaderUrl||"/explore/resourcePackageItem/",!0===p.resourceLoaderIncludePackageId)}function d(m){var c=m.getAbsoluteUri("/sharedresources");return o(m,c,!1)}function o(m,c,C){return r.f.assertValue(m,"httpService"),r.f.assertValue(c,"uri"),r.f.assertValue(C,"includePackageIdInUri"),new v(m,c,C)}class v{constructor(c,C,y){this.httpService=c,this.uri=C,this.includePackageIdInUri=y}get(c,C,y,S){var h=this.uri;this.includePackageIdInUri&&(h=this.uri+c+"/");var E=i.b$.urlCombine(h,_.map(y.split("/"),f=>encodeURIComponent(f)).join("/")),u=this.httpService.powerbiRequestOptions();return u.timeout=a.JZ,u.responseType="text",S&&null!=S.retries&&(u.retryCount=S.retries),this.httpService.get(E,u).then(f=>f.data)}getBlob(c,C,y,S){var h=this.uri;this.includePackageIdInUri&&(h=this.uri+c+"/");var E=i.b$.urlCombine(h,encodeURIComponent(y)),u=this.httpService.powerbiRequestOptions();return u.responseType=i.t6,S&&null!=S.retries&&(u.retryCount=S.retries),this.httpService.get(E,u).then(f=>f.data)}}},446280:function(ve,j,e){e.d(j,{C:function(){return o}});var r=e(371223),i=e(947302),a=e(439947),t=e(650543),l=e(464597),g=e(952363),n=e(871080),p=e(858859),s=e(630881);function o(c,C,y,S,h,E,u,f,b){return t.f.assertValue(c,"messageProxy"),new m(c,C,y,S,h,E,u,f,b)}var m=(()=>{class c{constructor(y,S,h,E,u,f,b,V,T=15e3){this.messageProxy=y,this.telemetryService=S,this.certifiedEventsService=h,this.approvedResourcesService=E,this.featureSwitchService=u,this.isDebugVisual=f,this.promiseFactory=b,this.privilegeService=V,this.updateTimeOut=T,this.telemetryEventsPayloadLimit=4096,this.methodQueue=[],this.isSandboxReady=!1,this.isVisualReady=!1,this.telemetryUsageCount=0,t.f.assertValue(y,"messageProxy"),this.deferredCache={},this.messageProxy.on(l.et,P=>this.onMessageReceived(P)),this.messageProxy.on(l.zM,P=>this.onMessageError(P))}get plugin(){return this._plugin}get isDebug(){return this.isDebugVisual}init(y,S){this.visualDelegate=y,S&&(this._plugin=S,this.isSandboxReady=!0)}setPluginReadyHandler(y){this.pluginReadyHandler=y}logEvent(...y){if(!this.telemetryService)return null;var h,S=y.shift();return h="string"==typeof S?this.getEventFactory(S):S,this.telemetryService.logEvent.apply(this.telemetryService,[h,...y])}logStandardizedFeatureEvent(y){y.correlationId=this.telemetryService.root?.id,this.certifiedEventsService.logStandardizedFeatureEvent(y)}logTimedStandardizedFeatureEvent(y){y.correlationId=this.telemetryService.root?.id,this.certifiedEventsService.logTimedStandardizedFeatureEvent(y)}getEventFactory(y){switch(y){case"VisualEventError":return n.aW;case"VisualEventTrace":return n.qz;case"VisualException":return p.Lj;case"VisualEventRenderStarted":return n.JT;case"VisualEventRenderCompleted":return n.GL;case"VisualApiUsage":return p.ZX;default:return void t.f.assertFail("Unknown eventType: "+y)}}logVisualEvent(...y){var S=this.plugin.name;if(!1!==this.isDebugVisual||this.plugin.developerModeVisual||this.approvedResourcesService&&(this.approvedResourcesService.isApprovedResource(S)||this.approvedResourcesService.isTrustedResource(S))){var[h,E,u]=y,f={visualType:S,instanceId:E instanceof Object?E.instanceId:E};u=E instanceof Object?E.payload:u;var b=(0,a.gU)(h);switch(b){case s.KE.RenderStarted:case s.KE.RenderCompleted:if(!this.featureSwitchService.featureSwitches.customVisualsPerformanceTelemetry)return;u="";break;case s.KE.Trace:case s.KE.Error:var V=this.approvedResourcesService.getTelemetryUsageLimit(S);if(this.telemetryUsageCount>=V)return;this.telemetryUsageCount++,this.telemetryUsageCount===V&&this.telemetryService.logEvent(n.Hv,f),u=u?u.substring(0,this.telemetryEventsPayloadLimit):"";break;default:return void t.f.assertFail("Invalid visual event type: "+b)}return this.logEvent.apply(this,[h,{...f,payload:u}])}}ready(y){t.f.assertValue(y,"proxyInitOptions"),this.contentWindow=y,this.messageProxy.contentWindow=y,this.isSandboxReady&&this.flushCallStack(),this.messageProxy.flushQueue(),this.isVisualReady=!0}update(y){if((this.featureSwitchService.featureSwitches.cvAssumeAsyncUpdate||this.approvedResourcesService.canManageAsyncUpdate(this.plugin.name))&&y.updateId){var h=this.promiseFactory.defer();this.deferredCache[y.updateId]=h;var E=setTimeout(()=>{h.resolve(null),this.telemetryService.logEvent(n.Tk,{visualType:this.plugin.name,timeOut:this.updateTimeOut,parentId:this.telemetryService.root.id})},this.updateTimeOut);y.updateCallBack=()=>h.resolve(null);var u=this.invoke("update",[y]);return u&&u.catch(f=>h.reject(f)),h.promise.catch(f=>f).finally(()=>{clearTimeout(E),y.updateId&&delete this.deferredCache[y.updateId]}),h.promise}return this.invoke("update",[y]),Promise.resolve(void 0)}invoke(y,S){if(t.f.assertValue(y,"eventName"),this.isSandboxReady)return this.execute(y,S);this.methodQueue.push({methodName:y,arguments:S})}postMessage(y,S){this.messageProxy.postMessage({eventName:y,arguments:S})}postMessageAsync(y,S){return this.messageProxy.postMessageAsync({eventName:y,arguments:S})}onPluginReady(){this.pluginReadyHandler&&this.pluginReadyHandler(),!this.isSandboxReady&&(this.flushCallStack(),this.isSandboxReady=!0)}destroy(){this.messageProxy.off(l.et),this.messageProxy.off(l.zM),this.messageProxy.destroy(),this.contentWindow=null}execute(y,S){if(_.isFunction(this.visualDelegate[y]))return this.visualDelegate[y].apply(this.visualDelegate,S);this.postMessage(y,S)}flushCallStack(){for(;this.methodQueue.length>0;){var y=this.methodQueue.shift();this.execute(y.methodName,y.arguments)}this.isVisualReady&&this.messageProxy.flushQueue()}onMessageReceived(y){if(this.validateMessageSource(y)){var S=()=>{this.telemetryService.logEvent(n.rZ,{visualType:this._plugin.name,environment:this.visualDelegate.getHostEnvString(),privilege:"postMessage",status:"Rejected",parameters:y.message.eventName})},h=this[y.message.eventName];if("function"==typeof h)return h.approvedMessage?h.apply(this,y.message.arguments):S();if(this.visualDelegate)return"function"==typeof(h=this.visualDelegate[y.message.eventName])&&h.approvedMessage?h.apply(this.visualDelegate,y.message.arguments):S()}}onMessageError(y){this.validateMessageSource(y)&&y.message&&y.message.error&&!_.isEqual(y.message,this.lastErrorMessage)&&(this.telemetryService.logEvent(p.Fd,{visualName:this._plugin.name,debugErrorInfo:y.message.error.eventName+";"+y.message.error.message}),this.lastErrorMessage=_.cloneDeep(y.message))}refreshHostData(){(this.isDebugVisual||this.plugin.developerModeVisual||this.approvedResourcesService.canRefreshHostData(this.plugin.name))&&this.visualDelegate.refreshHostData()}getResourceUrl(y){var S=(0,g.aM)(this.plugin.name,this.isDebugVisual);!0===this.isDebugVisual||this.plugin.developerModeVisual||this.approvedResourcesService.canGetAADToken(S)?this.visualDelegate.getResourceUrl(S,y):this.postMessage("handleGetResourceUrlResult",[{payload:"Visual ["+S+"] is not authorized.",isError:!0,promiseId:y}])}getAADAuthenticationToken(y){var S=(0,g.aM)(this.plugin.name,this.isDebugVisual);!0===this.isDebugVisual||this.plugin.developerModeVisual||this.approvedResourcesService.canGetAADToken(S)?this.visualDelegate.getAADAuthenticationToken(S,y):this.postMessage("handleGetAADAuthenticationTokenResult",[{payload:"Visual ["+S+"] is not authorized.",isError:!0,promiseId:y}])}getAADToken(y){var S=(0,g.aM)(this.plugin.name,this.isDebugVisual);!0===this.isDebugVisual||this.plugin.developerModeVisual||this.approvedResourcesService.canGetAADToken(S)?this.visualDelegate.getAADToken(S,y):this.postMessage("handleGetAADTokenResult",[{payload:"Visual ["+S+"] is not authorized.",isError:!0,promiseId:y}])}getWACToken(y){var S=(0,g.aM)(this.plugin.name,this.isDebugVisual);!0===this.isDebugVisual||this.plugin.developerModeVisual||this.approvedResourcesService.canGetWACToken(S)?this.visualDelegate.getWACToken(y.resourceSiteUrl,y.resourceEtag,S,y.promiseId):this.postMessage("handleGetWACTokenResult",[{payload:"Visual ["+S+"] is not authorized.",isError:!0,promiseId:y.promiseId}])}renderingStarted(y,S){this.renderEventStartTime=(new Date).toISOString(),this.telemetryService.logEvent(n.hD,{visualType:this.plugin.name,instanceId:y,start:this.renderEventStartTime,end:this.renderEventStartTime,parentId:this.telemetryService.root.id})}renderingFinished(y,S){if(this.deferredCache[S]&&this.deferredCache[S].resolve(null),void 0!==this.renderEventStartTime){var h=(new Date).toISOString();this.telemetryService.logEvent(n.RP,{visualType:this.plugin.name,instanceId:y,start:this.renderEventStartTime,end:h,parentId:this.telemetryService.root.id}),this.renderEventStartTime=void 0}}renderingFailed(y,S,h){this.deferredCache[S]&&this.deferredCache[S].reject(h),void 0!==this.renderEventStartTime&&(this.telemetryService.logEvent(n.Wv,{visualType:this.plugin.name,instanceId:y,parentId:this.telemetryService.root.id}),this.renderEventStartTime=void 0)}getWebAccessStatus(y,S){var h=this.privilegeService.getWebAccessStatus(this.plugin,y);this.postMessage("handleGetWebAccessStatus",[{promiseId:S,status:h}])}validateMessageSource(y){return t.f.assertValue(y,"message"),!!y.source&&!!this.contentWindow&&this.contentWindow===y.source}}return(0,r.__decorate)([(0,i.td)(),(0,r.__metadata)("design:type",Function),(0,r.__metadata)("design:paramtypes",[Object]),(0,r.__metadata)("design:returntype",Object)],c.prototype,"logEvent",null),(0,r.__decorate)([(0,i.td)(),(0,r.__metadata)("design:type",Function),(0,r.__metadata)("design:paramtypes",[Object]),(0,r.__metadata)("design:returntype",void 0)],c.prototype,"logStandardizedFeatureEvent",null),(0,r.__decorate)([(0,i.td)(),(0,r.__metadata)("design:type",Function),(0,r.__metadata)("design:paramtypes",[Object]),(0,r.__metadata)("design:returntype",void 0)],c.prototype,"logTimedStandardizedFeatureEvent",null),(0,r.__decorate)([(0,i.td)(),(0,r.__metadata)("design:type",Function),(0,r.__metadata)("design:paramtypes",[Object]),(0,r.__metadata)("design:returntype",Object)],c.prototype,"logVisualEvent",null),(0,r.__decorate)([(0,i.td)(),(0,r.__metadata)("design:type",Function),(0,r.__metadata)("design:paramtypes",[]),(0,r.__metadata)("design:returntype",void 0)],c.prototype,"onPluginReady",null),(0,r.__decorate)([(0,i.td)(),(0,r.__metadata)("design:type",Function),(0,r.__metadata)("design:paramtypes",[]),(0,r.__metadata)("design:returntype",void 0)],c.prototype,"refreshHostData",null),(0,r.__decorate)([(0,i.td)(),(0,r.__metadata)("design:type",Function),(0,r.__metadata)("design:paramtypes",[Number]),(0,r.__metadata)("design:returntype",void 0)],c.prototype,"getResourceUrl",null),(0,r.__decorate)([(0,i.td)(),(0,r.__metadata)("design:type",Function),(0,r.__metadata)("design:paramtypes",[Number]),(0,r.__metadata)("design:returntype",void 0)],c.prototype,"getAADAuthenticationToken",null),(0,r.__decorate)([(0,i.td)(),(0,r.__metadata)("design:type",Function),(0,r.__metadata)("design:paramtypes",[Number]),(0,r.__metadata)("design:returntype",void 0)],c.prototype,"getAADToken",null),(0,r.__decorate)([(0,i.td)(),(0,r.__metadata)("design:type",Function),(0,r.__metadata)("design:paramtypes",[Object]),(0,r.__metadata)("design:returntype",void 0)],c.prototype,"getWACToken",null),(0,r.__decorate)([(0,i.td)(),(0,r.__metadata)("design:type",Function),(0,r.__metadata)("design:paramtypes",[String,String]),(0,r.__metadata)("design:returntype",void 0)],c.prototype,"renderingStarted",null),(0,r.__decorate)([(0,i.td)(),(0,r.__metadata)("design:type",Function),(0,r.__metadata)("design:paramtypes",[String,String]),(0,r.__metadata)("design:returntype",void 0)],c.prototype,"renderingFinished",null),(0,r.__decorate)([(0,i.td)(),(0,r.__metadata)("design:type",Function),(0,r.__metadata)("design:paramtypes",[String,String,String]),(0,r.__metadata)("design:returntype",void 0)],c.prototype,"renderingFailed",null),(0,r.__decorate)([(0,i.td)(),(0,r.__metadata)("design:type",Function),(0,r.__metadata)("design:paramtypes",[String,Number]),(0,r.__metadata)("design:returntype",void 0)],c.prototype,"getWebAccessStatus",null),c})()},40468:function(ve,j,e){e.d(j,{s:function(){return i}});var r=e(349672);function i(){return new a}class a{constructor(){this.suppressAnimations=!1}deferRenderOperation(l,g){return(0,r.Z)(function*(){var n=$.Deferred();return setTimeout(()=>{g(),n.resolve()}),n.promise()})()}clearOperationsQueue(){}}},541621:function(ve,j,e){e.d(j,{z:function(){return l}});var r=e(621244),i=e(650543),a=e(12135),t=e(947302),l=(p,s)=>{i.f.assertValue(p,"options");var d=p.promiseFactory.defer(s),o=p.visualPlugin;if(p.visualSandbox&&function(p){var s=p.visualPlugin,d=p.featureSwitches||{},o=p.approvedResourceService;return!!s&&(!!(p.approvedResourceService&&p.approvedResourceService.isTrustedResource&&p.approvedResourceService.isTrustedResource(s.name))||!(!(0,a.vh)(s)||!d.approvedResourcesDisabled&&!s.apiVersion&&o&&o.isApprovedResource(s.name))&&d.sandboxVisualsEnabled)}(p)){var v=p.visualSandbox.getVisualPlugin(o,p.telemetryService,p.isDebugVisual);v.createES6?v.createES6().then(m=>d.resolve(m)):v.create?d.resolve((0,t.lm)(v.create(),p.run)):d.reject("either create or createES6 must be defined")}else o.module?o.createES6&&!o.module.css?d.resolve((0,t.nm)(o,o.create,p.promiseFactory,p.telemetryService,void 0,p.run,p.certifiedEventsService)):p.moduleLoader.require({javascript:o.createES6?void 0:o.module.javascript,css:o.module.css}).then(m=>d.resolve((0,t.nm)(o,o.create,p.promiseFactory,p.telemetryService,m,p.run,p.certifiedEventsService)),m=>d.reject(m)):d.resolve((0,t.nm)(o,o.create,p.promiseFactory,p.telemetryService,void 0,p.run,p.certifiedEventsService));return(0,r.w)(d)}},405749:function(ve,j,e){e.d(j,{f:function(){return t}});var r=e(19941),i=e(803205),a=e(871080);function t(g,n,p){return new l(g,n,p)}class l{constructor(n,p,s){this.telemetryService=n,this.visualPlugin=p,this.localizationService=s}logWarnings(n,p){if(!_.isEmpty(n))for(var s of n)s instanceof r.x&&this.logDsrLimitsWarning(s,p)}logDsrLimitsWarning(n,p){var m,c,C,s=n.limits,d=n.getDetails(this.localizationService).message,o=n.code,v=p.type;s.Primary&&(m=this.getLimitString(n.limits.Primary)),s.Secondary&&(c=this.getLimitString(n.limits.Secondary)),s.Intersection&&(C=this.getLimitString(n.limits.Intersection));var y=p.dataViews,S=p&&p.data&&p.data.isFirstSegment,h=S||_.some(y,B=>B&&B.metadata&&B.metadata.segment);if(!h||!1!==S)for(var E of y)if(E&&E.categorical){var u=_.head(E.categorical.categories),f=0;u&&(f=u.values&&u.values.length||0);var b=E.categorical.values&&E.categorical.values.grouped(),V=b&&b.length||0,T=!(!E.categorical.values||!E.categorical.values.source),P=this.visualPlugin.capabilities(p.type),D=P&&P.drilldown&&_.head(P.drilldown.roles),w=!1,M=p.dataTransforms;D&&M&&(w=_.filter(M.selects,B=>B.roles&&B.roles[D]).length>1);var A=void 0,R=this.visualPlugin.getPlugin(p.type);R&&R.getAdditionalTelemetry&&(A=JSON.stringify(R.getAdditionalTelemetry(E))),this.telemetryService.logEvent(a.vE,{errorCode:o,targetVisualType:v,primaryDataReduction:m,secondaryDataReduction:c,intersectionDataReduction:C,primaryCount:f,secondaryCount:V,hasCategoryHierarchy:w,hasDynamicSeries:T,visualTelemetry:A,isSegmented:h,message:d})}}getLimitString(n){switch(n.Type){case i.m9.Top:return"Top:"+n.Count;case i.m9.Bottom:return"Bottom:"+n.Count;case i.m9.Sample:return"Sample:"+n.Count}}}},871080:function(ve,j,e){e.d(j,{$7:function(){return M},Cr:function(){return H},Fh:function(){return O},GF:function(){return R},GL:function(){return g},Gi:function(){return i},Hv:function(){return u},IC:function(){return N},JT:function(){return t},KS:function(){return A},L1:function(){return F},Pp:function(){return q},Px:function(){return K},QC:function(){return L},RP:function(){return d},Tc:function(){return T},Tk:function(){return c},VN:function(){return I},Wv:function(){return v},Yv:function(){return U},aW:function(){return h},aw:function(){return Q},az:function(){return b},hD:function(){return p},kd:function(){return D},qz:function(){return y},rY:function(){return x},rZ:function(){return k},s$:function(){return Z},th:function(){return w},vE:function(){return re}});var r=e(641409),i=function(te){return te.PublishToWeb="PublishToWeb",te.ReportServer="ReportServer",te.ExportAPI="ExportAPI",te.PaaSEmbed="PaaSEmbed",te.FSDisabled="FSDisabled",te}({}),a="PBI.VisualEvent.RenderStarted",t=r.cx[a]=(0,r.b1)(a),l="PBI.VisualEvent.RenderCompleted",g=r.cx[l]=(0,r.b1)(l),n="PBI.VisualEvent.RenderingStarted",p=r.cx[n]=(0,r.b1)(n),s="PBI.VisualEvent.RenderingCompleted",d=r.cx[s]=(0,r.b1)(s),o="PBI.VisualEvent.RenderingFailed",v=r.cx[o]=(0,r.b1)(o),m="PBI.VisualEvent.UpdateTimeOut",c=r.cx[m]=(0,r.b1)(m),C="PBI.VisualEvent.Trace",y=r.cx[C]=(0,r.b1)(C),S="PBI.VisualEvent.Error",h=r.cx[S]=(0,r.b1)(S),E="PBI.VisualEvent.ReachedTelemetryUsageLimit",u=r.cx[E]=(0,r.b1)(E),f="PBI.VisualEvent.LaunchURL",b=r.cx[f]=(0,r.b1)(f),V="PBI.VisualEvent.DownloadContentValidationFailed",T=r.cx[V]=(0,r.b1)(V),P="PBI.VisualEvent.DownloadContent",D=r.cx[P]=(0,r.b1)(P),w="PBI.VisualEvent.GetAvailableServicePlans",M=r.cx[w]=(0,r.b1)(w),A="PBI.VisualEvent.LicenseIsUnsupportedEnv",R=r.cx[A]=(0,r.b1)(A),B="PBI.VisualEvent.LicenseServiceIsUndefined",N=r.cx[B]=(0,r.b1)(B),W="PBI.VisualEvent.ServicePlansResponseIsUndefined",F=r.cx[W]=(0,r.b1)(W),U="PBI.VisualEvent.NotifyLicenseRequired",O=r.cx[U]=(0,r.b1)(U),x="PBI.VisualEvent.ClearLicenseNotification",I=r.cx[x]=(0,r.b1)(x),L="PBI.VisualEvent.NotifyLicenseFeatureBlocked",K=r.cx[L]=(0,r.b1)(L),z="PBI.VisualEvent.Privileges",H=r.cx[z]=(0,r.b1)(z),J="PBI.VisualEvent.Privileges.Violation",k=r.cx[J]=(0,r.b1)(J),G="PBI.VisualEvent.ExternalMigration.UndefinedGet",q=r.cx[G]=(0,r.b1)(G),Q="PBI.VisualEvent.CapabilitiesTelemetry",Z=r.cx[Q]=(0,r.b1)(Q),X="PBI.DsrDataLimitsWarning",re=r.cx[X]=(0,r.b1)(X)},119322:function(ve,j,e){e.d(j,{P:function(){return n}});var r=e(167165),i=e(740349),a=e(650543),t=e(84838),l=e(557134),g=e(97964);class n{static cloneThemeCollection(s){return _.clone(s)}static loadHighContrastTheme(s,d,o,v,m){return m&&!o.isThemeLoaded(m)?n.loadTheme(r.v.SharedResources,s,d,o,v,m):s.resolve()}static loadThemeAndBaseTheme(s,d,o,v,m){try{var c=[],C=m.customTheme,y=m.baseTheme&&m.baseTheme.name;C&&C.name&&!o.isThemeLoaded(C.name)&&c.push(n.loadTheme(m.customTheme.type,s,d,o,v,C.name,C.version,!0)),y&&!o.isThemeLoaded(y)&&c.push(n.loadTheme(m.baseTheme.type,s,d,o,v,y));var S=s.defer();return s.all(c).finally(()=>{var h=!0;C&&C.name&&!o.isThemeLoaded(C.name)&&(h=!1,t.fM.error("Error loading custom theme",!1)),y&&!o.isThemeLoaded(y)&&(h=!1,t.fM.error("Error loading base theme",!1)),S.resolve(h)}),S.promise}catch(h){return t.fM.error(`Error loading report theme - ${n.getLoadError(h)}`),s.resolve(!1)}}static loadTheme(s,d,o,v,m,c,C,y){return a.f.assert(()=>s===r.v.RegisteredResources||s===r.v.SharedResources,"resource type should either be registered or shared"),s===r.v.RegisteredResources?n.loadRegisteredResourceTheme(d,o,v,m,c,C):s===r.v.SharedResources?n.loadSharedResourceTheme(c,m,v,o,d,C,y):void 0}static getLoadError(s){return(0,g.PR)(s)}static loadRegisteredResourceTheme(s,d,o,v,m,c){return(0,g._q)(s,d,v,m).then(C=>{n.resolveLoadedTheme(m,C,o,c)}).catch(C=>{t.fM.error(`Error loading theme - ${n.getLoadError(C)}`)})}static loadSharedResourceTheme(s,d,o,v,m,c,C){return(0,g.FD)(d,{packageType:r.v.SharedResources,itemName:s},v,m,{itemTypeFromReference:C?l.Ut.CustomTheme:l.Ut.BaseTheme}).then(y=>{n.resolveLoadedTheme(s,y,o,c)}).catch(y=>{t.fM.error(`Error loading base theme ${s} - ${n.getLoadError(y)}`)})}static resolveLoadedTheme(s,d,o,v){if(!o.isThemeLoaded(s)){var m=(0,i.K)(d);a.f.assertValue(m,"ThemeUtils.resolveLoadedTheme - The loaded theme is invalid."),m&&o.addCustomTheme(s,m,v)}}}},918544:function(ve,j,e){e.d(j,{p:function(){return Tt}});var r=e(893910),i=e(650543),a=e(630881),t=e(257226),l=e(947302),g=e(859405),n=e(707238),p=e(546825),s=e(621083),d=e(685030),o=e(588965);class v{constructor(_e,Ge,Me){this.powerbiHost=_e,this.visualHostTooltipService=Me,this.tooltipService=new m(Ge,this.visualHostTooltipService)}onSelecting(_e){_e.action=a.MI.Selection}onSelect(_e){this.powerbiHost&&this.powerbiHost.onSelect(_e)}persistProperties(_e){this.powerbiHost&&this.powerbiHost.persistProperties(_e)}tooltips(){return this.visualHostTooltipService}applyJsonFilter(_e,Ge,Me,at){this.powerbiHost.applyJsonFilter(_e,Ge,Me,at)}applyIdentityFilter(_e,Ge,Me,at){this.powerbiHost.applyIdentityFilter(_e,Ge,Me,at)}getJSONFilter(_e,Ge){return this.promiseFactory().reject()}createSelectionIdBuilder(){return new t.dw}createTooltipService(){return this.tooltipService}createSelectionManager(_e){return new o.Z({hostServices:this,apiVersion:_e},!0)}getLocalizedString(_e){return null}locale(){return navigator.language}loader(){return{require:()=>this.promiseFactory().reject()}}onSwitchFocusModeState(_e){this.powerbiHost&&this.powerbiHost.onSwitchFocusModeState(_e)}onDisplayWarningIcon(_e,Ge){if(this.powerbiHost){var Xe=d.Jh,ue=new n.V(d.j,_e.substr(0,d.IQ),Ge.substr(0,Xe));this.powerbiHost.setWarnings([ue])}}loadMoreData(){}loadWindow(_e){}setShouldDeferData(){}fetchMoreData(_e){return!0}launchUrl(_e){}destroy(){}refreshHostData(){}onContextMenu(){}authenticationService(){return null}telemetry(){return null}localStorageService(){return null}eventService(){return null}licenseManagerService(){return null}acquireAADTokenService(){return null}visualTimeSynchronization(){return null}alertScreenReader(_e){}alertWithDebounce(_e,Ge){}requestFocus(){}onDragStart(){}getVisualLinkProperties(){}canSelect(){return!1}canExpandCollapse(){return!1}setNodeExpansionState(_e){}setLevelExpansionState(_e){}setCanDrill(_e){}onCustomSort(_e){}getViewMode(){return a.wO.View}getEditMode(){return a.Gt.Default}setWarnings(_e){}getWarnings$(){}setToolbar(_e){}shouldRetainSelection(){return!1}geocoder(){return(0,g.Wy)()}geolocation(){i.f.assertFail("Not being used anywhere")}promiseFactory(){return(0,p.p)()}ignoreDefaultFilter(){return!1}drill(_e){}getIdentityDisplayNames(_e){}setIdentityDisplayNames(_e){}setFilterExpressionMetadata(){}getFilterExpressionMetadata(){}getUIComponentFactory(){}onHyperlinkClick(_e,Ge){}isVisualEnabled(){return this.promiseFactory().resolve(!0)}isVisualLoading(){return this.promiseFactory().resolve(!1)}dataMultiSelectMode(){return s.O4.Single}dropdown(){}networkAvailability(){}downloadService(){}setAriaMetadata(_e){}artifactService(){}getSectionsMetadata$(){}getBookmarksMetadata$(){}onNotifyLicense(_e){}onClearLicenseNotification(){}onNotifyFeatureBlocked(_e){}getSubSelectionService(){}webAccessService(){}getAzureMapToken(){}azureMapsEndpoint(){}geocoderIndexedDB(){}triggerUpdate(){}azureMapsHostEnvironment(){return{isPublishToWebHost:!1,isScreenshotExportHost:!1}}localStorageV2Service(){return null}dateTimeFormatService(){}visualExportService(){}visualHostSubSelectionService(){return null}annotations(){}enableLoadMoreData(_e){}}class m{constructor(_e,Ge){i.f.assert(()=>!!Ge,"visualHostTooltip should be defined"),this.tooltipService=Ge,this.element=_e}enabled(){return this.tooltipService&&this.tooltipService.enabled()}show(_e){if(this.enabled()){var Ge={coordinates:this.fixCoordinates(_e.coordinates),dataItems:_e.dataItems,isTouchEvent:_e.isTouchEvent,identities:o.Z.getSelectorsByColumn(_e.identities)};this.tooltipService.show(Ge)}}move(_e){if(this.enabled()){var Ge={coordinates:this.fixCoordinates(_e.coordinates),dataItems:_e.dataItems,isTouchEvent:_e.isTouchEvent,identities:o.Z.getSelectorsByColumn(_e.identities)};this.tooltipService.move(Ge)}}hide(_e){this.enabled()&&this.tooltipService.hide(_e)}fixCoordinates(_e){var Ge=this.element.offset();return _e[0]=_e[0]+Ge.left,_e[1]=_e[1]+Ge.top,_e}}var C=e(349672),y=e(371223),h=(e(122723),e(42990)),E=e(941597),u=e(252360),f=e(170932),b=e(120694);class T{constructor(_e){this.windowMessageProxy=_e}logStandardizedFeatureEvent(_e){this.windowMessageProxy.postMessage({eventName:"logStandardizedFeatureEvent",arguments:[_e]})}logTimedStandardizedFeatureEvent(_e){this.windowMessageProxy.postMessage({eventName:"logTimedStandardizedFeatureEvent",arguments:[_e]})}startTimedStandardizedFeatureEvent(_e){return new P(this,_e)}}class P{constructor(_e,Ge){this.certifiedEventsService=_e,this.event=_.cloneDeep(Ge),this.event.operationStartTime=(0,b.z)()}setAttributes(_e){this.event.activityAttributes={..._e}}setAttribute(_e,Ge){this.event.activityAttributes[_e]=Ge}getAttributes(){return this.event.activityAttributes}complete(_e,Ge){this.event.resultCode=Ge,this.event.activityStatus=_e,this.event.operationEndTime=(0,b.z)(),this.certifiedEventsService.logTimedStandardizedFeatureEvent(this.event)}}var D=e(858859);class R{constructor(_e){this.windowMessageProxy=_e}getOpenActivityById(_e){}suspend(){}resume(){}flush(){}restart(){}stopActivity(_e,Ge,Me){}startPerfEventDeprecated(_e,Ge,...Me){return new B({info:{}})}logEvent(_e,Ge){return i.f.assert(()=>!_.isArray(Ge),"Parameters has to be an object and instance of some telemetry factory arguments"),_e===D.ZX?this.windowMessageProxy.postMessageAsync({eventName:"logEvent",arguments:["VisualApiUsage",Ge]}):_e===D.Lj?this.windowMessageProxy.postMessageAsync({eventName:"logEvent",arguments:["VisualException",Ge]}):i.f.assertFail("Unknown eventFactory name ["+_e+"]: sandboxTelemetryProxyService.ts#logEvent"),null}logTelemetryData(_e,Ge,Me){return null}logChildEvent(_e,Ge,...Me){}startActivity(_e,Ge,...Me){return new B({info:{}})}startChildActivity(_e,Ge,...Me){}startEvent(_e,...Ge){return new B({info:{}})}startMonitoredActivity(_e,Ge,Me){var Xe={info:{}};return{activityEvent:Xe,activityDeferred:new B(Xe)}}startChildEvent(_e,Ge,...Me){return new B({info:{}})}logTrace(_e){}get sessionId(){}get appInstanceId(){}get root(){}setHostInfo(_e,Ge){}getHostData(){}setExpAssignmentContext(_e){}}class B{constructor(_e){i.f.assertValue(_e,"event"),this.event=_e,this.promise=new Promise((Ge,Me)=>{this.onResolve=Ge,this.onReject=Me})}resolve(){this.isEnded=!0,this.onResolve()}cancel(_e){return _e?this.resolve():this.reject({isCancelled:!0,errorCode:"non-ignorable cancellation of deferred telemety event"})}reject(_e){this.isEnded=!0,this.onReject()}isActive(){return!this.isEnded}}class W{constructor(){}getOpenActivityById(_e){}suspend(){}resume(){}flush(){}restart(){}stopActivity(_e,Ge,Me){}startPerfEventDeprecated(_e,Ge,...Me){return new B({info:{}})}logEvent(_e,...Ge){return null}logTelemetryData(_e,Ge,Me){return null}logChildEvent(_e,Ge,...Me){}startActivity(_e,Ge,...Me){return new B({info:{}})}startChildActivity(_e,Ge,...Me){}startEvent(_e,...Ge){return new B({info:{}})}startMonitoredActivity(_e,Ge,Me){var Xe={info:{}};return{activityEvent:Xe,activityDeferred:new B(Xe)}}startChildEvent(_e,Ge,...Me){return new B({info:{}})}logTrace(_e){}get sessionId(){}get appInstanceId(){}get root(){}setHostInfo(_e,Ge){}getHostData(){}setExpAssignmentContext(_e){}}var F=e(941488),U=e(516148),O=e(461361),x=e(771197),I=e(494522),L=e(615136),K=e(889162),z=e(955890),H=e(557134),J=e(451824),k=e(66583),G=e(464597),q=e(659615);function Q(){var tt=(0,p.p)(),Ge={messageProxy:(0,G.zC)(tt,window.parent),promiseFactory:tt,resourceProvider:{get:Me=>Me,getOptional:Me=>Me,format:Me=>Me}};return new Z(Ge)}class Z{constructor(_e){i.f.assertValue(_e.messageProxy,"messageProxy"),i.f.assertValue(_e.promiseFactory,"promiseFactory"),this.messageProxy=_e.messageProxy,this.promiseFactory=_e.promiseFactory,this.resourceProvider=_e.resourceProvider,this.messageProxy.on(G.et,Ge=>this.onMessageReceived(Ge)),this.hostOrigin=new URL(window.location.href).origin}onMessageReceived(_e){if(_e.source===parent&&_e.origin===this.hostOrigin&&"loadVisualPluginWithContent"===_e.message.eventName)return this.loadVisualPluginWithContent.apply(this,_e.message.arguments)}loadVisualPluginWithContent(_e){var Ge=this.promiseFactory.defer(),Me=_e.pluginName,at=_e.mappedPluginContent,Xe=at[H.Ut.CustomVisualJavascript].content,ue=at[H.Ut.CustomVisualsCss].content;try{(0,J.yO)(Me,Xe),(0,J.QO)(Me,ue);var Re=z.N[Me];Re.iconUrl=(0,k.sG)(Me),Re.content={js:Xe,css:ue,iconBase64:Re.iconUrl},(0,q.L)(Re),Re.capabilities.objects=(0,K.qC)(Re.capabilities.objects,this.resourceProvider),Ge.resolve(Re)}catch(pt){Ge.reject(pt)}return Ge.promise}}function X(){if(!re){window.powerbi||(window.powerbi={}),window.powerbi.visualSandbox||(window.powerbi.visualSandbox={});var tt=Q;window.powerbi.visualSandbox.createResourceLoaderHost=()=>tt(),re=!0}}var re=!1;X();var te=e(896286),se=e(24769),Ve=e(756646),ke=e(719242),Ue=e(5187),ot=e(402623),ft=e(281210),Ct=e(762329),Ke=e(604481),Ae=e(442407),we=e(603375),Ne=e(267047),Se=e(310178),Ie=e(947500),me=e(6655),Oe=e(76967);function Ee(){return window.powerbi||(window.powerbi={}),window.powerbi}var je=e(582986),pe=e(191282),Qe=e(370918),ut=function(tt){return tt[tt.merge=0]="merge",tt[tt.remove=1]="remove",tt}({});var bt=new Set(["powerbi.bab","powerbi.common.cultureInfo","powerbi.common.formattingLocale","powerbi.data.DataViewScopeIdentity","powerbi.ExtendedType","powerbi.extensibility.data","powerbi.extensibility.utils.axisType","powerbi.extensibility.utils.CartesianHelper","powerbi.extensibility.utils.chart.dataLabel","powerbi.extensibility.utils.chart.legend","powerbi.extensibility.utils.chart","powerbi.extensibility.utils.color","powerbi.extensibility.utils.ColumnUtil","powerbi.extensibility.utils.dataview.converterHelper","powerbi.extensibility.utils.dataview.DataRoleHelper","powerbi.extensibility.utils.dataview.DataViewObject","powerbi.extensibility.utils.dataview.DataViewObjects","powerbi.extensibility.utils.dataview.validationHelper","powerbi.extensibility.utils.dataview","powerbi.extensibility.utils.filter","powerbi.extensibility.utils.formatting.DateTimeUnit","powerbi.extensibility.utils.formatting.dateUtils","powerbi.extensibility.utils.formatting.DisplayUnitSystemType","powerbi.extensibility.utils.formatting.font","powerbi.extensibility.utils.formatting.numberFormat","powerbi.extensibility.utils.formatting.stringExtensions","powerbi.extensibility.utils.formatting.textMeasurementService","powerbi.extensibility.utils.formatting.TextProperties","powerbi.extensibility.utils.formatting.textUtil","powerbi.extensibility.utils.formatting.valueFormatter","powerbi.extensibility.utils.formatting.wordBreaker","powerbi.extensibility.utils.formatting","powerbi.extensibility.utils.interactivity.interactivityUtils","powerbi.extensibility.utils.interactivity","powerbi.extensibility.utils.MessageBox","powerbi.extensibility.utils.objects","powerbi.extensibility.utils.parser","powerbi.extensibility.utils.selection","powerbi.extensibility.utils.svg.CssConstants","powerbi.extensibility.utils.svg.shapes","powerbi.extensibility.utils.svg.touch","powerbi.extensibility.utils.svg","powerbi.extensibility.utils.telemetry","powerbi.extensibility.utils.test.dataViewBuilder","powerbi.extensibility.utils.test.helpers","powerbi.extensibility.utils.test.mocks","powerbi.extensibility.utils.test","powerbi.extensibility.utils.tooltip","powerbi.extensibility.utils.type.ArrayExtensions","powerbi.extensibility.utils.type.EnumExtensions","powerbi.extensibility.utils.type.ExtendedType","powerbi.extensibility.utils.type.JsonComparer","powerbi.extensibility.utils.type.LogicExtensions","powerbi.extensibility.utils.type.PixelConverter","powerbi.extensibility.utils.type.PrimitiveType","powerbi.extensibility.utils.type.Prototype","powerbi.extensibility.utils.type.RegExpExtensions","powerbi.extensibility.utils.type.StringExtensions","powerbi.extensibility.utils.type.TextSizeDefaults","powerbi.extensibility.utils.type.ValueUtil","powerbi.extensibility.utils.type","powerbi.extensibility.utils.yAxisPosition","powerbi.extensibility.utils","powerbi.extensibility.visual.Color","powerbi.extensibility.visual.FormatUtils","powerbi.extensibility.visual.LinkColorType","powerbi.extensibility.visual.LinkType","powerbi.extensibility.visual.Month","powerbi.extensibility.visual.PositionType","powerbi.extensibility.visual","powerbi.extensibility.visualApiVersions","powerbi.extensibility.VisualPlugin","powerbi.extensibility","powerbi.FilterAction","powerbi.formattingService._currentCulture","powerbi.formattingService._currentCultureSelector","powerbi.PrivilegeStatus","powerbi.reportServerHost","powerbi.SelectionIdBuilder","powerbi.session.userInfo","powerbi.session","powerbi.SortDirection","powerbi.VisualEventType","powerbi.VisualObjectInstance","powerbi.VisualObjectInstanceEnumerationObject","powerbi.visuals.DataEntrySlicers.Slicers.Page","powerbi.visuals.DataEntrySlicers.Slicers.URL","powerbi.visuals.DataEntrySlicers.Slicers","powerbi.visuals.DataEntrySlicers","powerbi.visuals.dataLabelUtils","powerbi.visuals.DateUtil","powerbi.visuals.DonutChart","powerbi.visuals.DonutChartWebBehavior","powerbi.visuals.filter","powerbi.visuals.plugins.debugVisual","powerbi.visuals.plugins","powerbi.visuals.SelectionIdBuilder","powerbi.visuals.valueFormatter","powerbi.VisualUpdateType.36"]);function Dt(tt,_e){var Ge={get:(Me,at)=>{var Xe=Me[at],ue=`${tt}.${at.toString()}`;return void 0===Xe?bt.has(ue)||(function(tt){var Ge=JSON.stringify({eventName:"onGlobalUndefinedGet",arguments:[tt]});window.parent.postMessage(Ge,"*")}(ue),bt.add(ue)):Xe&&"object"==typeof Xe&&_e>0&&(Xe=new Proxy(Xe,Dt(ue,_e-1))),Xe},set:(Me,at,Xe)=>(Me[at]=Xe,!0)};return Ge}function Fe(){var tt;window.powerbi=(tt=(0,Ve.wg)(),new Proxy(tt,Dt("powerbi",3)))}var qe=e(547353),dt=e(746692),rt=e(996302),ce=e(160296),be=e(70862),ae=e(753876),de=e(357186);class Pe{constructor(_e,Ge,Me){this.messageProxy=_e,this.promiseFactory=Ge,this.sandboxPromiseHandler=Me}acquireAADToken(){var _e=this.sandboxPromiseHandler.CreatePromise(this.promiseFactory.defer());return this.messageProxy.postMessage({eventName:"acquireAADToken",arguments:[_e.id]}),_e.deferred.promise}getAcquireAADTokenStatus(){var _e=this.sandboxPromiseHandler.CreatePromise(this.promiseFactory.defer());return this.messageProxy.postMessage({eventName:"getAcquireAADTokenStatus",arguments:[_e.id]}),_e.deferred.promise}}class it{constructor(_e,Ge,Me){i.f.assertValue(_e,"messageProxy"),i.f.assertValue(Ge,"promiseFactory"),this.messageProxy=_e,this.promiseFactory=Ge,this.sandboxPromiseHandler=Me}getResourceUrl(){var _e=this.sandboxPromiseHandler.CreatePromise(this.promiseFactory.defer());return this.messageProxy.postMessage({eventName:"getResourceUrl",arguments:[_e.id]}),_e.deferred.promise}getAADAuthenticationToken(){var _e=this.sandboxPromiseHandler.CreatePromise(this.promiseFactory.defer());return this.messageProxy.postMessage({eventName:"getAADAuthenticationToken",arguments:[_e.id]}),_e.deferred.promise}getAADToken(){var _e=this.sandboxPromiseHandler.CreatePromise(this.promiseFactory.defer());return this.messageProxy.postMessage({eventName:"getAADToken",arguments:[_e.id]}),_e.deferred.promise}getWACToken(_e,Ge){var Me=this.sandboxPromiseHandler.CreatePromise2(this.promiseFactory.defer());return this.messageProxy.postMessage({eventName:"getWACToken",arguments:[{resourceEtag:Ge,resourceSiteUrl:_e,promiseId:Me.id}]}),Me.deferred.promise}getSignedInAccessToken(){return this.promiseFactory.reject()}getClusterInfo(){return this.promiseFactory.reject()}}class et{constructor(_e,Ge,Me){i.f.assertValue(_e,"messageProxy"),i.f.assertValue(Ge,"promiseFactory"),this.messageProxy=_e,this.promiseFactory=Ge,this.sandboxPromiseHandler=Me}downloadFile(_e,Ge,Me,at){throw new Error("Not implemented")}getExportStatus(){var _e=this.sandboxPromiseHandler.CreatePromise(this.promiseFactory.defer());return this.messageProxy.postMessage({eventName:"exportVisualsContentStatus",arguments:[_e.id]}),_e.deferred.promise}exportVisualsContent(_e,Ge,Me,at){var Xe=this.sandboxPromiseHandler.CreatePromise(this.promiseFactory.defer());return _e&&Ge&&Me&&at?this.messageProxy.postMessage({eventName:"exportVisualsContent",arguments:[_e,Ge,Me,at,Xe.id]}):Xe.deferred.reject(),Xe.deferred.promise}}class ie{constructor(_e,Ge){this.messageProxy=_e,this.instanceId=Ge,i.f.assertValue(_e,"messageProxy")}renderingStarted(_e){this.messageProxy.postMessage({eventName:"renderingStarted",arguments:[this.instanceId,_e.updateId]})}renderingFinished(_e){this.messageProxy.postMessage({eventName:"renderingFinished",arguments:[this.instanceId,_e.updateId]})}renderingFailed(_e,Ge){this.messageProxy.postMessage({eventName:"renderingFailed",arguments:[this.instanceId,_e.updateId,Ge]})}}class fe{constructor(_e,Ge,Me){this.messageProxy=_e,this.promiseFactory=Ge,this.sandboxPromiseHandler=Me,i.f.assertValue(_e,"messageProxy"),i.f.assertValue(Ge,"promiseFactory")}getAvailableServicePlans(){var _e=this.sandboxPromiseHandler.CreatePromise(this.promiseFactory.defer());return this.messageProxy.postMessage({eventName:"getAvailableServicePlans",arguments:[_e.id]}),_e.deferred.promise}notifyLicenseRequired(_e){var Ge=this.sandboxPromiseHandler.CreatePromise(this.promiseFactory.defer());return this.messageProxy.postMessage({eventName:"notifyLicenseRequired",arguments:[_e,Ge.id]}),Ge.deferred.promise}notifyFeatureBlocked(_e){var Ge=this.sandboxPromiseHandler.CreatePromise(this.promiseFactory.defer());return this.messageProxy.postMessage({eventName:"notifyFeatureBlocked",arguments:[_e,Ge.id]}),Ge.deferred.promise}clearLicenseNotification(){var _e=this.sandboxPromiseHandler.CreatePromise(this.promiseFactory.defer());return this.messageProxy.postMessage({eventName:"clearLicenseNotification",arguments:[_e.id]}),_e.deferred.promise}}class Ze{constructor(_e,Ge,Me){i.f.assertValue(_e,"messageProxy"),i.f.assertValue(Ge,"promiseFactory"),this.messageProxy=_e,this.promiseFactory=Ge,this.sandboxPromiseHandler=Me}getStorageStatus(){var _e=this.sandboxPromiseHandler.CreatePromise(this.promiseFactory.defer());return this.messageProxy.postMessage({eventName:"getStorageStatus",arguments:[_e.id]}),_e.deferred.promise}getStorageData(_e){var Ge=this.sandboxPromiseHandler.CreatePromise(this.promiseFactory.defer());return this.messageProxy.postMessage({eventName:"getStorageData",arguments:[_e,Ge.id]}),Ge.deferred.promise}setStorageData(_e,Ge){var Me=this.sandboxPromiseHandler.CreatePromise(this.promiseFactory.defer());return this.messageProxy.postMessage({eventName:"setStorageData",arguments:[_e,Ge,Me.id]}),Me.deferred.promise}removeStorageData(_e){this.messageProxy.postMessage({eventName:"removeStorageData",arguments:[_e]})}}class St{constructor(_e,Ge,Me){i.f.assertValue(_e,"messageProxy"),i.f.assertValue(Ge,"promiseFactory"),this.messageProxy=_e,this.promiseFactory=Ge,this.sandboxPromiseHandler=Me}getStorageStatus(){var _e=this.sandboxPromiseHandler.CreatePromise(this.promiseFactory.defer());return this.messageProxy.postMessage({eventName:"getStorageV2Status",arguments:[_e.id]}),_e.deferred.promise}getStorageData(_e){var Ge=this.sandboxPromiseHandler.CreatePromise(this.promiseFactory.defer());return this.messageProxy.postMessage({eventName:"getStorageV2Data",arguments:[_e,Ge.id]}),Ge.deferred.promise}setStorageData(_e,Ge){var Me=this.sandboxPromiseHandler.CreatePromise(this.promiseFactory.defer());return this.messageProxy.postMessage({eventName:"setStorageV2Data",arguments:[_e,Ge,Me.id]}),Me.deferred.promise}removeStorageData(_e){this.messageProxy.postMessage({eventName:"removeStorageV2Data",arguments:[_e]})}}var Rt=e(439947);class Gt{constructor(_e,Ge){this.messageProxy=_e,i.f.assertValue(_e,"messageProxy"),this.instanceId=Ge}trace(_e,Ge){this.messageProxy.postMessageAsync({eventName:"logVisualEvent",arguments:[(0,Rt.s$)(_e),{instanceId:this.instanceId,payload:Ge}]})}logStandardizedFeatureEvent(){}}class tr{constructor(_e){i.f.assertValue(_e,"messageProxy"),this.messageProxy=_e,this.rootElement=window.document.body}serializeIdentities(_e){return _e&&_e[0]instanceof F.r?_e:_e&&_(_e).map(Me=>(0,rt.U9)(Me)).compact().value()}show(_e){var Ge=_e&&{coordinates:_e.coordinates,dataItems:_e.dataItems,identities:this.serializeIdentities(_e.identities),isTouchEvent:_e.isTouchEvent};this.messageProxy.postMessage({eventName:"showTooltip",arguments:[Ge]})}move(_e){var Ge=_e&&{coordinates:_e.coordinates,dataItems:_e.dataItems,identities:this.serializeIdentities(_e.identities),isTouchEvent:_e.isTouchEvent};this.messageProxy.postMessage({eventName:"moveTooltip",arguments:[Ge]})}hide(_e){this.messageProxy.postMessage({eventName:"hideTooltip",arguments:[_e]})}visible(){return!1}isTouchOptimized(){return!1}container(){return this.rootElement}enabled(){return!0}}class He{constructor(_e,Ge,Me){i.f.assertValue(_e,"messageProxy"),i.f.assertValue(Ge,"promiseFactory"),this.messageProxy=_e,this.promiseFactory=Ge,this.sandboxPromiseHandler=Me}getWebAccessStatus(_e){var Ge=this.sandboxPromiseHandler.CreatePromise(this.promiseFactory.defer());return this.messageProxy.postMessage({eventName:"getWebAccessStatus",arguments:[_e,Ge.id]}),Ge.deferred.promise}}class Bt{constructor(_e){i.f.assertValue(_e,"messageProxy"),this.messageProxy=_e}subSelect(_e){_e&&this.messageProxy.postMessage({eventName:"subSelect",arguments:[_e]})}updateRegionOutlines(_e){_e&&this.messageProxy.postMessage({eventName:"updateRegionOutlines",arguments:[_e]})}}var ze={"0.00 %;-0.00 %;0.00 %":"Percentage","0.0 %;-0.0 %;0.0 %":"Percentage1"},st={NullValue:"(Blank)",BooleanTrue:"True",BooleanFalse:"False",NaNValue:"NaN",InfinityValue:"+Infinity",NegativeInfinityValue:"-Infinity",Restatement_Comma:"{0}, {1}",Restatement_CompoundAnd:"{0} and {1}",DisplayUnitSystem_EAuto_Title:"Auto",DisplayUnitSystem_E0_Title:"None",DisplayUnitSystem_E3_LabelFormat:"{0}K",DisplayUnitSystem_E3_Title:"Thousands",DisplayUnitSystem_E6_LabelFormat:"{0}M",DisplayUnitSystem_E6_Title:"Millions",DisplayUnitSystem_E9_LabelFormat:"{0}bn",DisplayUnitSystem_E9_Title:"Billions",DisplayUnitSystem_E12_LabelFormat:"{0}T",DisplayUnitSystem_E12_Title:"Trillions",Percentage:"#,0.##%",Percentage1:"#,0.#%",TableTotalLabel:"Total",Tooltip_HighlightedValueDisplayName:"Highlighted",Decrease:"Decrease",Increase:"Increase",Waterfall_TotalLabel:"Total",GeotaggingString_Continent:"continent",GeotaggingString_Continents:"continents",GeotaggingString_Country:"country",GeotaggingString_Countries:"countries",GeotaggingString_State:"state",GeotaggingString_States:"states",GeotaggingString_City:"city",GeotaggingString_Cities:"cities",GeotaggingString_Town:"town",GeotaggingString_Towns:"towns",GeotaggingString_Province:"province",GeotaggingString_Provinces:"provinces",GeotaggingString_County:"county",GeotaggingString_Counties:"counties",GeotaggingString_Village:"village",GeotaggingString_Villages:"villages",GeotaggingString_Post:"post",GeotaggingString_Zip:"zip",GeotaggingString_Code:"code",GeotaggingString_Place:"place",GeotaggingString_Places:"places",GeotaggingString_Address:"address",GeotaggingString_Addresses:"addresses",GeotaggingString_Street:"street",GeotaggingString_Streets:"streets",GeotaggingString_Longitude:"longitude",GeotaggingString_Longitude_Short:"lon",GeotaggingString_Longitude_Short2:"long",GeotaggingString_Latitude:"latitude",GeotaggingString_Latitude_Short:"lat",GeotaggingString_PostalCode:"postal code",GeotaggingString_PostalCodes:"postal codes",GeotaggingString_ZipCode:"zip code",GeotaggingString_ZipCodes:"zip codes",GeotaggingString_Territory:"territory",GeotaggingString_Territories:"territories"};class Lt{constructor(_e,Ge){this.messageProxy=_e,this.sandboxPromiseHandler=Ge,this.loadMoreDataEnabled=!0,i.f.assertValue(_e,"messageProxy"),this.visualHostTooltipService=new tr(_e),this.queryDictionary=Lt.parseUrlParameters(),this.authService=function(tt,_e,Ge){return new it(tt,_e,Ge)}(_e,this.promiseFactory(),Ge),this.storageService=function(tt,_e,Ge){return new Ze(tt,_e,Ge)}(_e,this.promiseFactory(),Ge),this.hostWebAccessService=function(tt,_e,Ge){return new He(tt,_e,Ge)}(_e,this.promiseFactory(),Ge),this.contentDownloadService=function(tt,_e,Ge){return new et(tt,_e,Ge)}(_e,this.promiseFactory(),Ge),this.licensesManagerService=function(tt,_e,Ge){return new fe(tt,_e,Ge)}(_e,this.promiseFactory(),Ge),this.acquireTokenService=function(tt,_e,Ge){return new Pe(tt,_e,Ge)}(_e,this.promiseFactory(),Ge),this.storageV2Service=function(tt,_e,Ge){return new St(tt,_e,Ge)}(_e,this.promiseFactory(),Ge),this.hostSubSelectionService=new Bt(_e),this.dialogPromiseFactory=this.promiseFactory()}initInstanceId(_e){this._instanceId=_e,this.telemetryService=function(tt,_e){return new Gt(tt,_e)}(this.messageProxy,_e),this.eventsService=function(tt,_e){return new ie(tt,_e)}(this.messageProxy,_e)}static initialize(){ce.I&&(ce.I.localizationOptions=Lt.createTooltipLocaleOptions())}static createLocaleOptions(){return{null:st.NullValue,true:st.BooleanTrue,false:st.BooleanFalse,NaN:st.NaNValue,infinity:st.InfinityValue,negativeInfinity:st.NegativeInfinityValue,beautify:_e=>Lt.beautify(_e),describe:_e=>Lt.describeUnit(_e),restatementComma:st.Restatement_Comma,restatementCompoundAnd:st.Restatement_CompoundAnd,restatementCompoundOr:st.Restatement_CompoundOr}}static createTooltipLocaleOptions(){return{highlightedValueDisplayName:st.Tooltip_HighlightedValueDisplayName}}getLocalizedString(_e){return st[_e]}onSelecting(_e){_e.action=a.MI.Selection}onSelect(_e){var Ge;if((0,de.FE)(_e)){var Me=_e;Ge={data:(0,rt.OR)(Me.data),data2:(0,rt.U9)(Me.data2),selectors:(0,rt.OR)(Me.selectors)}}else{var{type:at,visualObjects:Xe}=_e;Ge={type:at,visualObjects:(0,rt.kW)(Xe)}}this.messageProxy.postMessage({eventName:"onSelect",arguments:[Ge]})}customVisualOnContextMenu(_e){this.messageProxy.postMessage({eventName:"onCustomVisualContextMenu",arguments:[_e]})}customVisualOnExpandCollapse(_e){this.messageProxy.postMessage({eventName:"onCustomVisualExpandCollapse",arguments:[_e]})}switchFocusModeState(_e){this.messageProxy.postMessage({eventName:"onSwitchFocusModeState",arguments:[_e]})}displayWarningIcon(_e,Ge){null!=_e&&null!=Ge&&this.messageProxy.postMessage({eventName:"onDisplayWarningIcon",arguments:[_e,Ge]})}persistProperties(_e){var Ge,Me=_e;Ge=this.apiVersion&&((0,r.gt)(this.apiVersion,"2.0.0")||(0,r.eq)(this.apiVersion,"2.0.0"))?_e:Me.merge||Me.remove||Me.replace?{merge:Me.merge?(0,be.qC)(Me.merge):null,replace:Me.replace?(0,be.qC)(Me.replace):null,remove:Me.remove?(0,be.qC)(Me.remove):null}:(0,be.qC)(_e),this.messageProxy.postMessage({eventName:"persistProperties",arguments:[Ge]})}sendSelectionIdsToHost(_e){this.messageProxy.postMessage({eventName:"transformCvSelectionIdsAndSelect",arguments:[_e]})}loadMoreData(){this.fetchMoreData(!0)}loadWindow(_e){}fetchMoreData(_e){return!!this.loadMoreDataEnabled&&(!1!==_e&&(_e=!0),this.messageProxy.postMessage({eventName:"loadMoreData",arguments:[_e]}),!0)}launchUrl(_e){this.messageProxy.postMessage({eventName:"launchUrl",arguments:[_e]})}setCanDrill(_e){this.messageProxy.postMessage({eventName:"setCanDrill",arguments:[_e]})}drill(_e){this.messageProxy.postMessage({eventName:"drill",arguments:[_e]})}openModalDialog(_e,Ge,Me){var at=this.sandboxPromiseHandler.CreatePromise(this.dialogPromiseFactory.defer());return this.messageProxy.postMessage({eventName:"openModalDialog",arguments:[_e,Ge,Me,at.id]}),at.deferred.promise}tooltips(){return this.visualHostTooltipService}telemetry(){return this.telemetryService}authenticationService(){return this.authService}localStorageService(){return this.storageService}localStorageV2Service(){return this.storageV2Service}eventService(){return this.eventsService}licenseManagerService(){return this.licensesManagerService}acquireAADTokenService(){return this.acquireTokenService}visualTimeSynchronization(){return this.visualTimeSynchronizationService}networkAvailability(){return this.networkAvailabilityService}webAccessService(){return this.hostWebAccessService}visualHostSubSelectionService(){return this.hostSubSelectionService}getSectionsMetadata$(){}getBookmarksMetadata$(){}downloadService(){return this.contentDownloadService}artifactService(){}getQueryStringValue(_e){return this.queryDictionary&&this.queryDictionary[_e]}locale(){var _e=this.queryDictionary&&this.queryDictionary.locale;return i.f.assert(()=>!!_e,"custom visual locale parameter is not valid"),_e||navigator.language}loader(){return{require:()=>this.promiseFactory().reject()}}applyJsonFilter(_e,Ge,Me,at){var Xe=[_e,Ge,Me];return at&&Xe.push(at),this.messageProxy.postMessage({eventName:"applyJsonFilter",arguments:Xe}),!0}applyIdentityFilter(_e,Ge,Me,at){var Xe=[_e,Ge,Me];return at&&Xe.push(at),this.messageProxy.postMessage({eventName:"applyIdentityFilter",arguments:Xe}),!0}getJSONFilter(_e,Ge){return this.promiseFactory().reject()}static parseUrlParameters(_e=window.location.search){var Ge={},Me=_e;if(Me&&"?"===Me.substr(0,1)){var at=Me.substr(1).split("&");for(var Xe of at){var ue=Xe&&Xe.split("=");ue&&2===ue.length&&(Ge[decodeURIComponent(ue[0])]=decodeURIComponent(ue[1]))}}return Ge}destroy(){this.messageProxy.destroy(),this.messageProxy=null}refreshHostData(){this.messageProxy.postMessage({eventName:"refreshHostData",arguments:null})}createSelectionIdBuilder(){return new F.r}createTooltipService(){return(0,ae.r)({hostServices:this})}createSelectionManager(_e){return new o.Z({hostServices:this,apiVersion:_e})}applyCustomSort(_e){this.messageProxy.postMessage({eventName:"applyCustomSort",arguments:[_e]})}alertScreenReader(_e){}alertWithDebounce(_e,Ge){}requestFocus(){}setShouldDeferData(){}onDragStart(){}onContextMenu(){}onSwitchFocusModeState(){}onDisplayWarningIcon(){}onClearCustomizedWarningIcon(){}getVisualLinkProperties(){}canSelect(){return!1}canExpandCollapse(_e){return!1}setNodeExpansionState(_e){}setLevelExpansionState(_e){}onCustomSort(_e){}getViewMode(){return a.wO.View}getEditMode(){return a.Gt.Default}setWarnings(_e){}getWarnings$(){}setToolbar(_e){}shouldRetainSelection(){return!1}geocoder(){return(0,g.Wy)()}geolocation(){i.f.assertFail("Not being used anywhere")}promiseFactory(){return(0,p.p)()}ignoreDefaultFilter(){return!1}getIdentityDisplayNames(_e){}setIdentityDisplayNames(_e){}setFilterExpressionMetadata(){}getFilterExpressionMetadata(){}getUIComponentFactory(){}onHyperlinkClick(_e,Ge){}isVisualEnabled(){return this.promiseFactory().resolve(!0)}isVisualLoading(){return this.promiseFactory().resolve(!1)}dataMultiSelectMode(){return s.O4.Single}dropdown(){}setAriaMetadata(_e){}onNotifyLicense(_e){}onClearLicenseNotification(){}onNotifyFeatureBlocked(_e){}getSubSelectionService(){}getAzureMapToken(){}azureMapsEndpoint(){}geocoderIndexedDB(){}triggerUpdate(){}azureMapsHostEnvironment(){return{isPublishToWebHost:!1,isScreenshotExportHost:!1}}dateTimeFormatService(){}visualExportService(){}annotations(){}get instanceId(){return this._instanceId}static beautify(_e){var Ge=ze[_e];return Ge&&st[Ge]||_e}static describeUnit(_e){var Ge=-1===_e?"Auto":_e.toString(),Me=st["DisplayUnitSystem_E"+Ge+"_Title"],at=_e<=0?"{0}":st["DisplayUnitSystem_E"+Ge+"_LabelFormat"];if(Me||at)return{title:Me,format:at}}enableLoadMoreData(_e){this.loadMoreDataEnabled=_e}}var $t=e(66301),lr=e(916416),gr=function(tt){return tt.Click="click",tt.MouseUp="mouseup",tt.MSPointerUp="MSPointerUp",tt.PointerUp="pointerup",tt.Dblclick="dblclick",tt}({}),_r=function(tt){return tt.Tap="tap",tt.TouchCancel="touchcancel",tt.Touchend="touchend",tt}({}),Mr=function(tt){return tt.KeyDown="keydown",tt}({}),Vr=function(tt){return tt.KeyDown="keydown",tt}({}),Lr=Object.values(gr),Fr=Object.values(_r),Ur=Object.values(Mr),Br=Lr.concat(Fr),wr=Object.values(Vr),Gr=["type","bubbles","which","buttons","button","ctrlKey","altKey","metaKey","shiftKey","x","y","clientX","clientY","pageX","pageY","movementX","movementY","layerX","layerY","changedTouches","keyCode","code","key","cancelable","composed"],mr={Escape:[]},jr={Escape:[],y:["ctrlKey"],z:["ctrlKey"]},ea=(()=>{class tt{constructor(Ge){this.id=++tt.counter,this.deferred=Ge}static getLastId(){return tt.counter}}return tt.counter=0,tt})(),Hr=(()=>{class tt{constructor(Ge){this.id=++tt.counter,this.deferred=Ge}static getLastId(){return tt.counter}}return tt.counter=0,tt})();class qr{constructor(){this.promises={},this.promises2={}}CreatePromise(_e){var Ge=new ea(_e);return this.promises[Ge.id]=Ge,Ge}ResolvePromise(_e,Ge){var Me=this.promises[_e];Me&&(Me.deferred.resolve(Ge),this.promises[_e]=null)}RejectPromise(_e,Ge){var Me=this.promises[_e];Me&&(Me.deferred.reject(Ge),this.promises[_e]=null)}CreatePromise2(_e){var Ge=new Hr(_e);return this.promises2[Ge.id]=Ge,Ge}ResolvePromise2(_e,Ge){var Me=this.promises2[_e];Me&&(Me.deferred.resolve(Ge),this.promises2[_e]=null)}RejectPromise2(_e,Ge){var Me=this.promises2[_e];Me&&(Me.deferred.reject(Ge),this.promises2[_e]=null)}}function kr(){return window.powerbi.visuals.plugins}function Qr(tt){var Ge=JSON.stringify({eventName:"onSecurityPolicyViolation",arguments:[tt.blockedURI,tt.violatedDirective,tt.originalPolicy]});window.parent.postMessage(Ge,"*")}function Ir(tt,_e=!1){var Ge=(0,p.p)(),Me=(0,G.zC)(Ge);Lt.initialize(),se.s.getQueryStringValue("pbiglobals")&&function(){var tt=(0,Ve.wg)();tt.FilterAction=ut,tt.VisualDataRoleKind=a.DW,tt.VisualDataChangeOperationKind=a.su,tt.VisualUpdateType=a.EP,tt.VisualPermissions=a.NI,tt.formattingService=Qe.dx;var _e=function(){var tt=Ee();return tt.data||(tt.data={}),tt.data}();Ae.nw&&(_e.SQExprBuilder={},_e.SQExprBuilder.entity=Ae.nw,_e.SQExprBuilder.subqueryRef=Ae.v5,_e.SQExprBuilder.namedQueryRef=Ae.kD,_e.SQExprBuilder.columnRef=Ae.Oh,_e.SQExprBuilder.measureRef=Ae.mv,_e.SQExprBuilder.nativeMeasure=Ae.PB,_e.SQExprBuilder.nativeColumn=Ae.sl,_e.SQExprBuilder.aggregate=Ae.m_,_e.SQExprBuilder.selectRef=Ae.xA,_e.SQExprBuilder.percentile=Ae.Pe,_e.SQExprBuilder.rangePercent=Ae.Mj,_e.SQExprBuilder.arithmetic=Ae.Y8,_e.SQExprBuilder.floor=Ae.GW,_e.SQExprBuilder.scopedEval=Ae.ed,_e.SQExprBuilder.filteredEval=Ae.Xw,_e.SQExprBuilder.withRef=Ae.Oe,_e.SQExprBuilder.groupRef=Ae.Wp,_e.SQExprBuilder.hierarchy=Ae.bT,_e.SQExprBuilder.propertyVariationSource=Ae.yU,_e.SQExprBuilder.hierarchyLevel=Ae.os,_e.SQExprBuilder.transformTableRef=Ae.GB,_e.SQExprBuilder.transformOutputRoleRef=Ae.hu,_e.SQExprBuilder.roleRef=Ae.Wu,_e.SQExprBuilder.summaryValueRef=Ae.bO,_e.SQExprBuilder.allRolesRef=Ae.lI,_e.SQExprBuilder.and=Ae.xD,_e.SQExprBuilder.between=Ae.vX,_e.SQExprBuilder.inValues=Ae.Sh,_e.SQExprBuilder.inTable=Ae.dY,_e.SQExprBuilder.or=Ae.or,_e.SQExprBuilder.compare=Ae.qu,_e.SQExprBuilder.conditional=Ae.u7,_e.SQExprBuilder.contains=Ae.r3,_e.SQExprBuilder.exists=Ae.Gg,_e.SQExprBuilder.equal=Ae.Dg,_e.SQExprBuilder.not=Ae.ff,_e.SQExprBuilder.startsWith=Ae.Ny,_e.SQExprBuilder.nullConstant=Ae.IF,_e.SQExprBuilder.emptyString=Ae.$t,_e.SQExprBuilder.now=Ae.zO,_e.SQExprBuilder.defaultValue=Ae.LS,_e.SQExprBuilder.anyValue=Ae.n7,_e.SQExprBuilder.boolean=Ae.O7,_e.SQExprBuilder.dateAdd=Ae.sO,_e.SQExprBuilder.dateTime=Ae.CQ,_e.SQExprBuilder.dateSpan=Ae.uQ,_e.SQExprBuilder.decimal=Ae.gH,_e.SQExprBuilder.double=Ae.tx,_e.SQExprBuilder.integer=Ae.cA,_e.SQExprBuilder.text=Ae.fL,_e.SQExprBuilder.typedConstant=Ae.kQ,_e.SQExprBuilder.fromRawValue=Ae.f7,_e.SQExprBuilder.sparklineData=Ae.Zy,_e.SQExprBuilder.setAggregate=Ne.k,_e.SQExprBuilder.removeAggregate=me.n,_e.SQExprBuilder.setPercentOfGrandTotal=we.F,_e.SQExprBuilder.removePercentOfGrandTotal=Ie.H,_e.SQExprBuilder.setPercentOfRoleTotal=Oe.z,_e.SQExprBuilder.removePercentOfRoleTotal=Se.E,_e.SQExprBuilder.removeEntityVariables=Ae.p7,_e.SQExprBuilder.setVisualCalcExpression=Ae.eu,_e.SQExprBuilder.fillRule=Ae.x5,_e.SQExprBuilder.themeDataColor=Ae.e7,_e.SQExprBuilder.resourcePackageItem=Ae.nF,_e.SQExprBuilder.discretize=Ae.h5,_e.SQExprBuilder.member=Ae.fP,_e.SQExprBuilder.color=Ae.$_,_e.SQExprBuilder.nativeVisualCalc=Ae.YU,_e.SQExprBuilder.fieldExpr=Ke.og,_e.SQExprBuilder.fromColumnAggr=Ke.dR,_e.SQExprBuilder.fromColumn=Ke.tg,_e.SQExprBuilder.fromGroupingColumnAggr=Ke.ym,_e.SQExprBuilder.fromGroupingColumn=Ke.Gk,_e.SQExprBuilder.fromEntity=Ke.TI,_e.SQExprBuilder.fromEntityAggr=Ke.R$,_e.SQExprBuilder.fromColumnHierarchyVariation=Ke.qP,_e.SQExprBuilder.fromColumnHierarchyLevelVariation=Ke.$x,_e.SQExprBuilder.fromColumnSubquery=Ke.W2,_e.SQExprBuilder.fromColumnAggrSubquery=Ke.vH,_e.SQExprBuilder.fromColumnTransformRef=Ke.U5,_e.SQExprBuilder.fromHierarchyLevelAggr=Ke.vf,_e.SQExprBuilder.fromHierarchyLevel=Ke.lH,_e.SQExprBuilder.fromHierarchy=Ke.Ig,_e.SQExprBuilder.fromArithmetic=Ke.jS,_e.SQExprBuilder.fromConstant=Ke.Bn,_e.SQExprBuilder.fromSparklineData=Ke.a4,_e.SQExprBuilder.fromNativeVisualCalc=Ke.Sr),_e.Selector={},_e.Selector.AllEncompasingKey=pe.xO,_e.Selector.isScopeIdentity=pe.yN,_e.Selector.isScopeWildcard=pe.QV,_e.Selector.isScopeTotal=pe.tQ,_e.Selector.isRoleWildcard=pe.j9,_e.Selector.isWildcard=pe.qm,_e.Selector.isWildcardSelector=pe.N6,_e.Selector.toScopeIdentities=pe.CT,_e.Selector.getScopeIdentities=pe.gU,_e.Selector.filterFromSelector=pe.mV,_e.Selector.filterFromSelectorsByColumn=pe.k_,_e.Selector.filterExprsFromSelectors=pe.Li,_e.Selector.hasIdentities=pe.Yw,_e.Selector.equals=pe.fS,_e.Selector.equalsDataArray=pe.hp,_e.Selector.equalsSelectorsByColumn=pe.Ic,_e.Selector.equalsSelectorsByColumnArray=pe.Or,_e.Selector.equalsData=pe.cY,_e.Selector.getKey=pe.km,_e.Selector.getDecomposedKeys=pe.AZ,_e.Selector.containsWildcard=pe.GT,_e.Selector.hasRoleWildcard=pe._Q,_e.Selector.convertSelectorsByColumnToSelector=pe.tV,_e.Selector.getSelectorTargetExpr=pe.AV,_e.Selector.normalizeSelector=pe.fd,_e.Selector.clone=pe.d9,_e.SQCompareExpr=Ae.wU,_e.createDataViewScopeIdentity=ot.TZ,_e.createDisplayNameGetter=ft.V,_e.DataViewObjectDefinitions={},_e.DataViewObjectDefinitions.allPropertiesAreEqual=ke.Pg,_e.DataViewObjectDefinitions.clone=ke.d9,_e.DataViewObjectDefinitions.cloneDefinitions=ke.dn,_e.DataViewObjectDefinitions.deleteObjectDefinition=ke.AV,_e.DataViewObjectDefinitions.deleteProperties=ke.Gc,_e.DataViewObjectDefinitions.deleteProperty=ke.E2,_e.DataViewObjectDefinitions.encodePropertyValue=ke.Lo,_e.DataViewObjectDefinitions.ensure=ke.zx,_e.DataViewObjectDefinitions.extend=ke.l7,_e.DataViewObjectDefinitions.getDataBoundExprs=Ue.oA,_e.DataViewObjectDefinitions.getDataBoundExprsAndValueRef=Ue.Sz,_e.DataViewObjectDefinitions.getObjectDefinition=ke.my,_e.DataViewObjectDefinitions.getObjectDefinitions=ke.GQ,_e.DataViewObjectDefinitions.getPropertyContainer=ke.ug,_e.DataViewObjectDefinitions.getUnequalProperties=ke.hu,_e.DataViewObjectDefinitions.getValue=ke.NA,_e.DataViewObjectDefinitions.getValueFormatting=ke.hO,_e.DataViewObjectDefinitions.isEmpty=ke.xb,_e.DataViewObjectDefinitions.isObjectPropertySQExpr=ke.Rc,_e.DataViewObjectDefinitions.isObjectPropertySQExprWithContext=ke.er,_e.DataViewObjectDefinitions.isPropertyDefinition=ke.e4,_e.DataViewObjectDefinitions.moveProperty=ke.TX,_e.DataViewObjectDefinitions.propertiesAreEqual=ke.ES,_e.DataViewObjectDefinitions.reduce=ke.u4,_e.DataViewObjectDefinitions.setValue=ke.sO,_e.DataViewObjectDefinitions.setValueFormatting=ke.On,_e.DataViewObjectDefinitions.updateSelector=ke.xl,_e.DataViewObjectDefinitions.visitPropertyDefinitions=ke.rQ,_e.DataViewObjectDefinitions.visitPropertyExprs=ke.Vj;var Ge=function(){var tt=Ee();return tt.extensibility||(tt.extensibility={}),tt.extensibility}();Ge.createColorPalette=je.D,Ge.createExtendedColorPalette=je.o,Ge.getVisualApiVersions=l.HB,Ge.visualApiVersions=(0,l.HB)();var Me=(0,Ve.Z7)();Me.buildValueDetailsForColumnValue=t.Y,Me.SelectionId=t.l0,Me.SelectionIdBuilder=t.dw;var at=function(){var tt=(0,Ve.Z7)();return tt.valueFormatter||(tt.valueFormatter={}),tt.valueFormatter}();at.beautifyTrace=Ct.J6,at.allowFormatBeautificationTraced=Ct.CH,at.getLocalizedString=Ct.Z,at.getFormatMetadata=Ct.G2,at.setLocaleOptions=Ct.X0,at.createDefaultFormatter=Ct.E3,at.create=Ct.Ue,at.format=Ct.WU,at.formatVariantMeasureValueWithDataPointObjects=Ct.kA,at.createDisplayUnitSystem=Ct.Ym,at.getDisplayUnits=Ct.p$,at.getFormatString=Ct.EO,at.getDefaultFormatString=Ct.v1,at.getLabelPrecision=Ct.h1,at.getFormatStringWithDataPointObjects=Ct.eU,at.formatListAnd=Ct.aY,at.formatListOr=Ct.KF}(),(0,Ve.Z7)().plugins={},Fe();var Xe={promiseFactory:Ge},ue=function(tt){return new R(tt)}(Me),Re=function(tt){return new T(tt)}(Me),pt=new qr,Kt=function(tt,_e){return i.f.assertValue(tt,"messageProxy"),new Lt(tt,_e)}(Me,pt),sr={$element:tt,hostServices:Kt,hostServicesControl:Kt,dataProxy:Jr(Ge),promiseFactory:Ge,messageProxy:Me,resourceLoader:(0,f.fQ)(Xe,null),resourceProvider:{get:Sr=>Sr,getOptional:Sr=>Sr,format:Sr=>Sr},telemetryProxyService:ue,certifiedEventsProxyService:Re,instanceId:"",sandboxPromiseHandler:pt},Xt=Kt.getQueryStringValue("cspiframe");return Me.contentWindow=Xt?window.parent.parent:window.parent,new zr(sr,_e)}function Jr(tt){var _e=new W,Me={promiseFactory:()=>tt},at=(0,u.I)((0,E.k2)({dsr:{name:"dsr",reader:Xe=>new L.i(Xe,{execute:()=>tt.reject()},_e,{dsrV2:!1},null,void 0,void 0)}},{}),Me);return(0,U.M2)(tt,at,_e)}function hr(tt,_e,Ge){var Xe,Me=tt.content,at=tt.hasBeenInjected||kr()&&kr().hasOwnProperty(tt.name)&&kr()[tt.name].hasBeenInjected;return(!_e||!at)&&((0,J.yO)(tt.name,Me.js,Ge,tt.apiVersion),(0,J.QO)(tt.name,Me.css)),!tt.apiVersion||(0,r.lt)(tt.apiVersion,{major:3,minor:0,patch:0})?(i.f.assertValue(kr()[tt.name],"Visual does not have a plugin"),Xe=kr()[tt.name]):(i.f.assertValue(window[tt.name],"Visual does not have a plugin"),Xe=window[tt.name].default),tt.apiVersion&&(Xe.iconUrl=tt.iconUrl,Xe.capabilities=tt.capabilities,Xe.localizationResources=tt.localizationResources,Xe.isDeprecated=tt.isDeprecated,Xe.version=tt.version),_e&&(Xe.hasBeenInjected=!0,Xe.approvedForNoIframe=!0,kr()[tt.name]=Xe),Xe}var zr=(()=>{class tt{constructor(Ge,Me=!1){this.isolate=Me,this.isVisualInitialized=!1,this.messageQueue=[],this.formatMode=!1,this.relayUIEventListener=at=>{var Xe=_.pick(at.originalEvent,Gr);this.messageProxy.postMessage({eventName:"onRelayUIEvent",arguments:[Xe]})},this.relayKeyboardEventListener=at=>{var Xe=_.pick(at.originalEvent,Gr);this.isSupportedKeyBoardEvent(at.originalEvent)&&this.messageProxy.postMessage({eventName:"onRelayUIEvent",arguments:[Xe]})},this.container=Ge.$element,this.hostServices=Ge.hostServices,this.hostServicesControl=Ge.hostServicesControl,this.dataProxy=Ge.dataProxy,this.promiseFactory=Ge.promiseFactory,this.messageProxy=Ge.messageProxy,this.resourceLoader=Ge.resourceLoader,this.resourceProvider=Ge.resourceProvider,this.telemetryProxyService=Ge.telemetryProxyService,this.certifiedEventsProxyService=Ge.certifiedEventsProxyService,this.sandboxPromiseHandler=Ge.sandboxPromiseHandler,this.aggregatedDataViewSize=0,this.dataViewSerializer=new dt.n,this.skipRedundantResize=!1,this.hostOrigin=new URL(window.location.href).origin,this.messageProxy.on(G.et,at=>this.onMessageReceived(at))}get visual(){return this._visual}init(Ge){this.hostServices.initInstanceId(Ge.instanceId),this.hostServicesControl.initInstanceId(Ge.instanceId),this.style=(0,I.th)(Ge.style);var Me={animation:Ge.animation,element:this.container,host:this.hostServices,interactivity:Ge.interactivity,style:this.style,viewport:Ge.viewport,localizationResources:this.plugin.localizationResources,hostEnv:Ge.hostEnv,dataMultiSelectMode:Ge.dataMultiSelectMode};return this.featureSwitches=Ge.featureSwitches,this.skipRedundantResize=this.featureSwitches&&this.featureSwitches.cvSkipExtraResize,this.attachRelayUIEventListener(),this.attachWindowResizeListener(),this.visual.init(Me)}destroy(){this.detachRelayUIEventListener(),this.detachWindowResizeListener(),this.detachFormatModeRelayUIEventListener(),this.messageProxy.off(G.et),this.messageProxy.destroy(),this.visual&&this.visual.destroy&&this.visual.destroy()}categoriesExists(Ge){return!!(Ge&&Ge.dataViews&&Ge.dataViews.length>0&&Ge.dataViews[0].categorical&&Ge.dataViews[0].categorical.categories&&Ge.dataViews[0].categorical.categories.length>0&&Ge.dataViews[0].categorical.categories[0]&&Ge.dataViews[0].categorical.categories[0].values)}getHostCategoriesValues(Ge,Me,at){try{if(Ge){if(at)for(var Xe=0;Xe<Ge.length;Xe++)Ge[Xe]&&(Ge[Xe]=new Date(Ge[Xe]));Me.dataViews[0].categorical.categories[0].values=Ge}}catch(ue){this.sendError(ue)}return Me}update(Ge){var at,Me=Ge.message.arguments[0];if(this.formatMode!==!!Me.formatMode&&(this.formatMode=Me.formatMode,this.handleAttachingEventListeners()),this.plugin&&this.plugin.apiVersion&&!(0,r.lt)(this.plugin.apiVersion,"2.0.0")){this.stringifiedDataView=Me.serializedDataView?Me.serializedDataView.stringifiedDataView:null;var Xe=!(!this.plugin.capabilities.expandCollapse||!this.plugin.capabilities.dataViewMappings[0].matrix),ue=Me.serializedDataView?[this.dataViewSerializer.deserializeDataView(Me.serializedDataView,(0,r.gt)(this.plugin.apiVersion,"3.5.9"),Xe,[],(0,r.ge)(this.plugin.apiVersion,"5.3.0"))]:[];this.formatMode&&this.reCreateSelectionIds(Me.subSelections);var Re=this.lastVisualUpdateOptions={dataViews:ue,suppressAnimations:Me.suppressAnimations,viewMode:Me.viewMode,editMode:Me.editMode,viewport:Me.viewport,type:Me.type,operationKind:a.su.Create,resizeMode:Me.resizeMode,isInFocus:Me.isInFocus,jsonFilters:Me.jsonFilters?Me.jsonFilters:null,updateId:Me.updateId,formatMode:Me.formatMode,subSelections:Me.subSelections,pendingChanges:Me.pendingChanges};this.plugin&&this.plugin.apiVersion&&!(0,r.lt)(this.plugin.apiVersion,"3.5.0")?(this.onRestoreCvSelectionIds(Me.selections,!(0,r.gt)(this.plugin.apiVersion,"2.4.0")),this.fixUpdateOptionsAndUpdateVisual(Re,Ge,Me)):(this.fixUpdateOptionsAndUpdateVisual(Re,Ge,Me),this.onRestoreCvSelectionIds(Me.selections,!(0,r.gt)(this.plugin.apiVersion,"2.4.0")))}else Me.dataTransforms&&(at=x.F.deserializeDataViewTransformActions(Me.dataTransforms,this.plugin.capabilities||{})),this.transformDataViewSource(Me.dataViewSource,at,!0).then(pt=>{var Kt=this.lastVisualUpdateOptions={dataViews:pt.dataViews,suppressAnimations:Me.suppressAnimations,viewMode:Me.viewMode,editMode:Me.editMode,viewport:Me.viewport,type:Me.type,operationKind:a.su.Create,resizeMode:Me.resizeMode,isInFocus:Me.isInFocus,jsonFilters:Me.jsonFilters?Me.jsonFilters:null,updateId:Me.updateId};this.visualHasNullFilter(at)&&this.onRestoreSelection(null),this.fixUpdateOptionsAndUpdateVisual(Kt,Ge,Me)}).catch(pt=>this.sendError(pt))}visualHasNullFilter(Ge){if(this.plugin?.capabilities?.objects?.general?.properties?.filter){var Me=Ge?.objects?.general;if(Me&&Me.length>0&&Me[0]?.properties&&!Me[0].properties.filter)return!0}return!1}updateWithCachedData(Ge){var at,Xe,ue,Me=Ge.message.arguments[0];if(this.plugin&&this.plugin.apiVersion&&!(0,r.lt)(this.plugin.apiVersion,"2.0.0")){if(this.lastVisualUpdateOptions.dataViews&&this.lastVisualUpdateOptions.dataViews[0]&&this.lastVisualUpdateOptions.dataViews[0].metadata){var Re=this.lastVisualUpdateOptions.dataViews[0].metadata.segment;this.lastVisualUpdateOptions.dataViews[0].metadata=Me.dataViewMetadata?JSON.parse(Me.dataViewMetadata):void 0,this.lastVisualUpdateOptions.dataViews[0].metadata.segment=Re}Xe=this.lastVisualUpdateOptions.dataViews,ue=!0}else Me.dataTransforms&&(at=x.F.deserializeDataViewTransformActions(Me.dataTransforms,this.plugin.capabilities||{})),this.lastDataViewTransformApplyOptions.transforms=at,Xe=(0,O.nn)(this.lastDataViewTransformApplyOptions).dataViews;var pt=this.lastVisualUpdateOptions={dataViews:Xe,suppressAnimations:Me.suppressAnimations,viewMode:Me.viewMode,editMode:Me.editMode,viewport:Me.viewport,type:Me.type,operationKind:a.su.Create,resizeMode:Me.resizeMode,isInFocus:Me.isInFocus,jsonFilters:Me.jsonFilters?Me.jsonFilters:null,updateId:Me.updateId,formatMode:Me.formatMode,subSelections:Me.subSelections,pendingChanges:Me.pendingChanges};this.fixUpdateOptionsAndUpdateVisual(pt,Ge,Me,ue)}loadResourcePackage(Ge){i.f.assertValue(Ge,"resourcePackage"),this.resourceLoader.loadVisualPlugin(Ge).then(Me=>{this.plugin=Me,this.createAdapter()}).catch(()=>{var Me=new Error("Unable to load plugin, resource package id: "+Ge.id);return this.sendError(Me)})}createAdapter(){var Ge=this.plugin;if(this.container.addClass("visual-"+Ge.name),this._visual=(0,l.nm)(Ge,Ge.create,this.promiseFactory,this.telemetryProxyService,void 0,void 0,this.certifiedEventsProxyService),!Ge||!this.visual){var Me=new Error("Unable to create visual from plugin "+Ge.name);return this.sendError(Me)}this.flushQueue(),this.isVisualInitialized=!0,this.sendSandboxReady()}loadWithoutResourcePackage(Ge){if(this.plugin)this.sendError(new Error("Plugin is already loaded"));else{var at=Ge.apiVersion?this.isolate&&(0,r.lt)(Ge.apiVersion,"3.0.0"):this.isolate;this.plugin=hr(Ge,!1,at),(0,q.L)(this.plugin),this.createAdapter()}}enumerateObjectInstances(Ge){if(this.visual.enumerateObjectInstances){var Me=this.visual.enumerateObjectInstances(Ge);if(Me){var at=Me,Xe=this.plugin&&this.plugin.apiVersion&&!(0,r.lt)(this.plugin.apiVersion,"2.0.0");return at&&at.instances?Xe?{instances:at.instances,containers:at.containers}:{instances:(0,be.qC)(at.instances),containers:at.containers?(0,be.DQ)(at.containers,this.resourceProvider):null}:Xe?Me:(0,be.qC)(Me)}}}enumerateObjectRepetition(){if(this.visual.enumerateObjectRepetition){var Ge=this.visual.enumerateObjectRepetition();return Ge?(0,lr.qC)(Ge):void 0}}getFormattingModel(){return this.visual.getFormattingModel?.()}getSubSelectionStyles(Ge){return this.reCreateSelectionIds(Ge),this.visual.getSubSelectionStyles?.(Ge)}getSubSelectionShortcuts(Ge,Me){return this.reCreateSelectionIds(Ge),this.visual.getSubSelectionShortcuts?.(Ge,Me)}getSubSelectables(Ge){return this.visual.getSubSelectables?.(Ge)}focusVisualIframeWindow(){window.focus()}sendUpdateResult(){var Ge=this.container.children("*").length;this.messageProxy.postMessage({eventName:"onUpdateResult",arguments:[Ge]})}sendSandboxReady(){this.messageProxy.postMessage({eventName:"onPluginReady",arguments:[]})}flushQueue(){for(;this.messageQueue.length>0;){var Ge=this.messageQueue.shift();this.executeMessage(Ge)}}sendError(Ge,Me){this.messageProxy.postMessage({eventName:"onError",arguments:[],error:{id:Me?Me.id:null,eventName:Me?Me.eventName:null,name:Ge.name,message:Ge.message,pluginName:this.plugin.name}})}sendErrorMessage(Ge,Me){this.messageProxy.postMessage({eventName:"onError",arguments:[],error:{eventName:Ge,message:Me,pluginName:this.plugin.name}})}onMessageReceived(Ge){if(this.isVisualInitialized||"loadResourcePackage"===Ge.message.eventName||"loadWithoutResourcePackage"===Ge.message.eventName)return this.executeMessage(Ge);this.messageQueue.push(Ge)}validateSandboxHostMessage(Ge){var at=this[Ge.message.eventName];return at?"function"!=typeof at?{error:"not a function"}:at.approvedMessage?{ok:!0}:{error:"unapproved type"}:{error:"undefined method"}}validateVisualMessage(Ge){var Me=Ge.message;if(!this.visual)return{error:"unset visual"};var at=this.visual[Me.eventName];return at?"function"!=typeof at?{error:"not a function"}:l.Vh.prototype[Me.eventName].approvedMessage?{ok:!0}:{error:"unapproved type"}:{error:"undefined method"}}executeMessage(Ge){var at,Xe,Me=Ge.message,ue="SandboxHost.executeMessage rejected message:";if(Ge.source===window||Ge.source.parent!==window){if(Ge.source!==this.messageProxy.contentWindow)return this.sendErrorMessage(Me.eventName,`${ue} invalid source`);if(Ge.origin!==this.hostOrigin)return this.sendErrorMessage(Me.eventName,`${ue} invalid origin`);try{if((at=this.validateSandboxHostMessage(Ge)).ok)return"update"===Me.eventName||"updateWithCachedData"===Me.eventName||"handleLoadMoreDataResult"===Me.eventName?this[Me.eventName].call(this,Ge):this[Me.eventName].apply(this,Me.arguments);if((Xe=this.validateVisualMessage(Ge)).ok)return this.visual[Me.eventName].apply(this.visual,Me.arguments)}catch(Re){return void this.sendError(Re,Me)}this.sendErrorMessage(Me.eventName,`${ue} ${at?.error}, ${Xe?.error}`)}}reCreateSelectionIds(Ge){Ge&&Ge.forEach(Me=>{var at=Me.customVisualObjects[0].selectionId;Me.customVisualObjects[0].selectionId=at&&new F.r(at.dataMap,at.measures)})}transformDataViewSource(Ge,Me,at){var Xe=this.promiseFactory.defer();return(Ge?this.createDataView(Ge):this.promiseFactory.resolve({dataView:null})).then(Re=>{var pt=(0,O.nn)(this.lastDataViewTransformApplyOptions={prototype:Re.dataView,objectDescriptors:this.plugin.capabilities?this.plugin.capabilities.objects:void 0,dataViewMappings:this.plugin.capabilities?this.plugin.capabilities.dataViewMappings:void 0,dataRoles:this.plugin.capabilities?this.plugin.capabilities.dataRoles:void 0,drillCapabilities:this.plugin.capabilities&&this.plugin.capabilities.drilldown,expandCollapseCapabilties:this.plugin.capabilities&&this.plugin.capabilities.expandCollapse,transforms:Me,colorAllocatorFactory:(0,h.V)(),bypassConcatenation:at,visualStyle:this.style,keepAllMetadataColumnsCapability:!!this.plugin.capabilities&&this.plugin.capabilities.keepAllMetadataColumns,featureSwitches:this.featureSwitches}).dataViews;Xe.resolve({dataViews:pt})}).catch(Re=>this.sendError(Re)),Xe.promise}createDataView(Ge){i.f.assertValue(Ge,"dataViewSource");var Me=this.promiseFactory.defer();return this.dataProxy.execute({type:Ge.type,query:{dataSources:null,command:Ge.data}}).then(Xe=>{var Re=(0,$t.ul)(Xe&&Xe.dataReaderResult?Xe.dataReaderResult.dataView:null,this.plugin.capabilities?this.plugin.capabilities.dataViewMappings:null);Me.resolve({dataView:Re.dataView})}).catch(Xe=>this.sendError(Xe)),Me.promise}attachWindowResizeListener(){$(window).on("resize",this.windowResizeListener.bind(this)),$(window).trigger("resize")}detachWindowResizeListener(){$(window).off("resize")}windowResizeListener(){if(this.lastVisualUpdateOptions){var Ge=$(window).height(),Me=$(window).width();if(!(this.skipRedundantResize&&this.lastVisualUpdateOptions.viewport&&this.lastVisualUpdateOptions.viewport.width&&this.lastVisualUpdateOptions.viewport.height&&Math.abs(Me-this.lastVisualUpdateOptions.viewport.width)<=1&&Math.abs(Ge-this.lastVisualUpdateOptions.viewport.height)<=1)){var at=(0,te.ED)(this.lastVisualUpdateOptions);at.viewport={width:Me,height:Ge,scale:this.lastVisualUpdateOptions.viewport.scale},at.type=a.EP.Resize,at.resizeMode=a.Pf.Resizing,this.visual.update(at)}}}attachRelayUIEventListener(){$(window).on(Ur.join(" "),this.relayKeyboardEventListener),this.container.on(Br.join(" "),this.relayUIEventListener)}detachRelayUIEventListener(){$(window).off(Ur.join(" "),this.relayKeyboardEventListener),this.container.off(Br.join(" "),this.relayUIEventListener)}attachFormatModeRelayUIEventListener(){$(window).on(wr.join(" "),this.relayKeyboardEventListener)}detachFormatModeRelayUIEventListener(){$(window).off(wr.join(" "),this.relayKeyboardEventListener)}handleAttachingEventListeners(){this.formatMode?(this.detachRelayUIEventListener(),this.attachFormatModeRelayUIEventListener()):(this.detachFormatModeRelayUIEventListener(),this.attachRelayUIEventListener())}isSupportedKeyBoardEvent(Ge){var Me=this.formatMode?jr:mr;return Ge.key in Me&&_.every(Me[Ge.key],Xe=>Xe in Ge&&Ge[Xe])}handleLoadMoreDataResult(Ge){var Me=this;return(0,C.Z)(function*(){var at=Ge.message.arguments[1];if(Me.plugin&&Me.plugin.apiVersion&&!(0,r.lt)(Me.plugin.apiVersion,"2.0.0")){var Xe=Ge.message.arguments[0],ue=Ge.message.arguments[2];if(Xe&&Me.stringifiedDataView!==Xe.stringifiedDataView){Me.stringifiedDataView=Xe.stringifiedDataView;var Re=!(!Me.plugin.capabilities.expandCollapse||!Me.plugin.capabilities.dataViewMappings[0].matrix),pt=[Me.dataViewSerializer.deserializeDataView(Xe,(0,r.gt)(Me.plugin.apiVersion,"3.5.9"),Re,ue,(0,r.ge)(Me.plugin.apiVersion,"5.3.0"))];Me.lastVisualUpdateOptions.type=a.EP.Data,at?((0,qe.$n)(Me.lastVisualUpdateOptions.dataViews[0],pt[0]),Me.lastVisualUpdateOptions.operationKind=a.su.Append,yield Me.aggregateDataViewSizeAndUpdateVisual(Ge.packedSize)):(Me.lastVisualUpdateOptions.dataViews[0]=pt[0],Me.lastVisualUpdateOptions.operationKind=a.su.Segment,yield Me.visual.update(Me.lastVisualUpdateOptions))}}else{i.f.assert(()=>Me.lastDataViewTransformApplyOptions&&!!Me.lastDataViewTransformApplyOptions.prototype,"Expected to have previous segment already");var Kt=Ge.message.arguments[0],Jt=Kt?Kt.dataReaderResult.dataView:null;Jt&&(Me.lastVisualUpdateOptions.type=a.EP.Data,at?((0,qe.$n)(Me.lastDataViewTransformApplyOptions.prototype,Jt),Me.lastVisualUpdateOptions.dataViews=(0,O.nn)(Me.lastDataViewTransformApplyOptions).dataViews,Me.lastVisualUpdateOptions.operationKind=a.su.Append,yield Me.aggregateDataViewSizeAndUpdateVisual(Ge.packedSize)):(Me.lastVisualUpdateOptions.dataViews[0]=Jt,Me.lastVisualUpdateOptions.operationKind=a.su.Segment,yield Me.visual.update(Me.lastVisualUpdateOptions)))}Me.messageProxy.postMessage({eventName:"stopProgressBar",arguments:[]})})()}aggregateDataViewSizeAndUpdateVisual(Ge){var Me=this;return(0,C.Z)(function*(){Me.aggregatedDataViewSize+=Ge,Me.hostServicesControl.enableLoadMoreData(!(Me.aggregatedDataViewSize>=104857600)),yield Me.visual.update(Me.lastVisualUpdateOptions)})()}handleGetResourceUrlResult(Ge){Ge.isError?this.sandboxPromiseHandler.RejectPromise(Ge.promiseId,Ge.payload):this.sandboxPromiseHandler.ResolvePromise(Ge.promiseId,Ge.payload)}handleGetAADAuthenticationTokenResult(Ge){Ge.isError?this.sandboxPromiseHandler.RejectPromise(Ge.promiseId,Ge.payload):this.sandboxPromiseHandler.ResolvePromise(Ge.promiseId,Ge)}handleGetAADTokenResult(Ge){Ge.isError?this.sandboxPromiseHandler.RejectPromise(Ge.promiseId,Ge.payload):this.sandboxPromiseHandler.ResolvePromise(Ge.promiseId,Ge.payload)}handleGetWACTokenResult(Ge){Ge.isError?this.sandboxPromiseHandler.RejectPromise2(Ge.promiseId,Ge.payload?Ge.payload:""):this.sandboxPromiseHandler.ResolvePromise2(Ge.promiseId,Ge.wacToken)}handleGetStorageStatus(Ge){this.sandboxPromiseHandler.ResolvePromise(Ge.promiseId,Ge.status)}handleGetStorageData(Ge){Ge.data?this.sandboxPromiseHandler.ResolvePromise(Ge.promiseId,Ge.data):this.sandboxPromiseHandler.RejectPromise(Ge.promiseId)}handleSetStorageData(Ge){Ge.isError?this.sandboxPromiseHandler.RejectPromise(Ge.promiseId):this.sandboxPromiseHandler.ResolvePromise(Ge.promiseId,Ge.freeSpace)}handleGetStorageV2Data(Ge){Ge.isError||!Ge.data?this.sandboxPromiseHandler.RejectPromise(Ge.promiseId):this.sandboxPromiseHandler.ResolvePromise(Ge.promiseId,Ge.data)}handleSetStorageV2Data(Ge){Ge.isError?this.sandboxPromiseHandler.RejectPromise(Ge.promiseId):this.sandboxPromiseHandler.ResolvePromise(Ge.promiseId,Ge.resultInfo)}handleExportVisualsContentStatus(Ge){void 0!==Ge.status?this.sandboxPromiseHandler.ResolvePromise(Ge.promiseId,Ge.status):this.sandboxPromiseHandler.RejectPromise(Ge.promiseId)}handleExportVisualsContent(Ge){void 0!==Ge.data?this.sandboxPromiseHandler.ResolvePromise(Ge.promiseId,Ge.data):this.sandboxPromiseHandler.RejectPromise(Ge.promiseId)}handleGetWebAccessStatus(Ge){void 0!==Ge.status?this.sandboxPromiseHandler.ResolvePromise(Ge.promiseId,Ge.status):this.sandboxPromiseHandler.RejectPromise(Ge.promiseId)}handleModalDialogResult(Ge){Ge.isError?this.sandboxPromiseHandler.RejectPromise(Ge.promiseId,Ge.data):this.sandboxPromiseHandler.ResolvePromise(Ge.promiseId,Ge.data)}handleAcquireAADTokenResult(Ge){this.sandboxPromiseHandler.ResolvePromise(Ge.promiseId,Ge.data)}handleGetAcquireAADTokenStatus(Ge){this.sandboxPromiseHandler.ResolvePromise(Ge.promiseId,Ge.status)}handleLicenseResult(Ge){Ge.licenseInfoResult?this.sandboxPromiseHandler.ResolvePromise(Ge.promiseId,Ge.licenseInfoResult):this.sandboxPromiseHandler.RejectPromise(Ge.promiseId)}handleLicenseNotificationResult(Ge){null==Ge.licenseNotificationResult?this.sandboxPromiseHandler.RejectPromise(Ge.promiseId):this.sandboxPromiseHandler.ResolvePromise(Ge.promiseId,Ge.licenseNotificationResult)}onRestoreSelection(Ge){var Me=this.hostServices.selectionManager;if(Me)if(Ge&&Ge.selection){var at=Ge.selection.map(Xe=>t.l0.fromSelectorsByColumn((0,rt.JF)(Xe)));Me.setSelectionIds(at),Me.invokeOnSelectCallback(at)}else Me.setSelectionIds([]),Me.invokeOnSelectCallback([])}onRestoreCvSelectionIds(Ge,Me=!0){var at=this.hostServices.selectionManager;if(at){var Xe=[];Ge?(Xe=_.map(Ge,ue=>new F.r(ue.serializedDataMap,ue.measures)),at.setSelectionIds(Xe)):at.setSelectionIds([]),Me&&at.invokeOnSelectCallback(Xe)}}fixUpdateOptionsAndUpdateVisual(Ge,Me,at,Xe=!1){Xe||(Ge=this.categoriesExists(Ge)?this.getHostCategoriesValues(at.categoriesValues,Ge,at.isCategoryDate):Ge,this.hostServicesControl.enableLoadMoreData(!0),this.aggregatedDataViewSize=Me.packedSize),this.visual.update(Ge),this.sendUpdateResult()}}return(0,y.__decorate)([(0,l.td)(),(0,y.__metadata)("design:type",Function),(0,y.__metadata)("design:paramtypes",[Object]),(0,y.__metadata)("design:returntype",Object)],tt.prototype,"init",null),(0,y.__decorate)([(0,l.td)(),(0,y.__metadata)("design:type",Function),(0,y.__metadata)("design:paramtypes",[]),(0,y.__metadata)("design:returntype",void 0)],tt.prototype,"destroy",null),(0,y.__decorate)([(0,l.td)(),(0,y.__metadata)("design:type",Function),(0,y.__metadata)("design:paramtypes",[Object]),(0,y.__metadata)("design:returntype",void 0)],tt.prototype,"update",null),(0,y.__decorate)([(0,l.td)(),(0,y.__metadata)("design:type",Function),(0,y.__metadata)("design:paramtypes",[Object]),(0,y.__metadata)("design:returntype",void 0)],tt.prototype,"updateWithCachedData",null),(0,y.__decorate)([(0,l.td)(),(0,y.__metadata)("design:type",Function),(0,y.__metadata)("design:paramtypes",[Object]),(0,y.__metadata)("design:returntype",void 0)],tt.prototype,"loadWithoutResourcePackage",null),(0,y.__decorate)([(0,l.td)(),(0,y.__metadata)("design:type",Function),(0,y.__metadata)("design:paramtypes",[Object]),(0,y.__metadata)("design:returntype",Object)],tt.prototype,"enumerateObjectInstances",null),(0,y.__decorate)([(0,l.td)(),(0,y.__metadata)("design:type",Function),(0,y.__metadata)("design:paramtypes",[]),(0,y.__metadata)("design:returntype",Array)],tt.prototype,"enumerateObjectRepetition",null),(0,y.__decorate)([(0,l.td)(),(0,y.__metadata)("design:type",Function),(0,y.__metadata)("design:paramtypes",[]),(0,y.__metadata)("design:returntype",Object)],tt.prototype,"getFormattingModel",null),(0,y.__decorate)([(0,l.td)(),(0,y.__metadata)("design:type",Function),(0,y.__metadata)("design:paramtypes",[Array]),(0,y.__metadata)("design:returntype",Object)],tt.prototype,"getSubSelectionStyles",null),(0,y.__decorate)([(0,l.td)(),(0,y.__metadata)("design:type",Function),(0,y.__metadata)("design:paramtypes",[Array,String]),(0,y.__metadata)("design:returntype",Array)],tt.prototype,"getSubSelectionShortcuts",null),(0,y.__decorate)([(0,l.td)(),(0,y.__metadata)("design:type",Function),(0,y.__metadata)("design:paramtypes",[Number]),(0,y.__metadata)("design:returntype",Array)],tt.prototype,"getSubSelectables",null),(0,y.__decorate)([(0,l.td)(),(0,y.__metadata)("design:type",Function),(0,y.__metadata)("design:paramtypes",[]),(0,y.__metadata)("design:returntype",void 0)],tt.prototype,"focusVisualIframeWindow",null),(0,y.__decorate)([(0,l.td)(),(0,y.__metadata)("design:type",Function),(0,y.__metadata)("design:paramtypes",[Object]),(0,y.__metadata)("design:returntype",Promise)],tt.prototype,"handleLoadMoreDataResult",null),(0,y.__decorate)([(0,l.td)(),(0,y.__metadata)("design:type",Function),(0,y.__metadata)("design:paramtypes",[Object]),(0,y.__metadata)("design:returntype",void 0)],tt.prototype,"handleGetResourceUrlResult",null),(0,y.__decorate)([(0,l.td)(),(0,y.__metadata)("design:type",Function),(0,y.__metadata)("design:paramtypes",[Object]),(0,y.__metadata)("design:returntype",void 0)],tt.prototype,"handleGetAADAuthenticationTokenResult",null),(0,y.__decorate)([(0,l.td)(),(0,y.__metadata)("design:type",Function),(0,y.__metadata)("design:paramtypes",[Object]),(0,y.__metadata)("design:returntype",void 0)],tt.prototype,"handleGetAADTokenResult",null),(0,y.__decorate)([(0,l.td)(),(0,y.__metadata)("design:type",Function),(0,y.__metadata)("design:paramtypes",[Object]),(0,y.__metadata)("design:returntype",void 0)],tt.prototype,"handleGetWACTokenResult",null),(0,y.__decorate)([(0,l.td)(),(0,y.__metadata)("design:type",Function),(0,y.__metadata)("design:paramtypes",[Object]),(0,y.__metadata)("design:returntype",void 0)],tt.prototype,"handleGetStorageStatus",null),(0,y.__decorate)([(0,l.td)(),(0,y.__metadata)("design:type",Function),(0,y.__metadata)("design:paramtypes",[Object]),(0,y.__metadata)("design:returntype",void 0)],tt.prototype,"handleGetStorageData",null),(0,y.__decorate)([(0,l.td)(),(0,y.__metadata)("design:type",Function),(0,y.__metadata)("design:paramtypes",[Object]),(0,y.__metadata)("design:returntype",void 0)],tt.prototype,"handleSetStorageData",null),(0,y.__decorate)([(0,l.td)(),(0,y.__metadata)("design:type",Function),(0,y.__metadata)("design:paramtypes",[Object]),(0,y.__metadata)("design:returntype",void 0)],tt.prototype,"handleGetStorageV2Data",null),(0,y.__decorate)([(0,l.td)(),(0,y.__metadata)("design:type",Function),(0,y.__metadata)("design:paramtypes",[Object]),(0,y.__metadata)("design:returntype",void 0)],tt.prototype,"handleSetStorageV2Data",null),(0,y.__decorate)([(0,l.td)(),(0,y.__metadata)("design:type",Function),(0,y.__metadata)("design:paramtypes",[Object]),(0,y.__metadata)("design:returntype",void 0)],tt.prototype,"handleExportVisualsContentStatus",null),(0,y.__decorate)([(0,l.td)(),(0,y.__metadata)("design:type",Function),(0,y.__metadata)("design:paramtypes",[Object]),(0,y.__metadata)("design:returntype",void 0)],tt.prototype,"handleExportVisualsContent",null),(0,y.__decorate)([(0,l.td)(),(0,y.__metadata)("design:type",Function),(0,y.__metadata)("design:paramtypes",[Object]),(0,y.__metadata)("design:returntype",void 0)],tt.prototype,"handleGetWebAccessStatus",null),(0,y.__decorate)([(0,l.td)(),(0,y.__metadata)("design:type",Function),(0,y.__metadata)("design:paramtypes",[Object]),(0,y.__metadata)("design:returntype",void 0)],tt.prototype,"handleModalDialogResult",null),(0,y.__decorate)([(0,l.td)(),(0,y.__metadata)("design:type",Function),(0,y.__metadata)("design:paramtypes",[Object]),(0,y.__metadata)("design:returntype",void 0)],tt.prototype,"handleAcquireAADTokenResult",null),(0,y.__decorate)([(0,l.td)(),(0,y.__metadata)("design:type",Function),(0,y.__metadata)("design:paramtypes",[Object]),(0,y.__metadata)("design:returntype",void 0)],tt.prototype,"handleGetAcquireAADTokenStatus",null),(0,y.__decorate)([(0,l.td)(),(0,y.__metadata)("design:type",Function),(0,y.__metadata)("design:paramtypes",[Object]),(0,y.__metadata)("design:returntype",void 0)],tt.prototype,"handleLicenseResult",null),(0,y.__decorate)([(0,l.td)(),(0,y.__metadata)("design:type",Function),(0,y.__metadata)("design:paramtypes",[Object]),(0,y.__metadata)("design:returntype",void 0)],tt.prototype,"handleLicenseNotificationResult",null),(0,y.__decorate)([(0,l.td)(),(0,y.__metadata)("design:type",Function),(0,y.__metadata)("design:paramtypes",[Object]),(0,y.__metadata)("design:returntype",void 0)],tt.prototype,"onRestoreSelection",null),(0,y.__decorate)([(0,l.td)(),(0,y.__metadata)("design:type",Function),(0,y.__metadata)("design:paramtypes",[Array,Object]),(0,y.__metadata)("design:returntype",void 0)],tt.prototype,"onRestoreCvSelectionIds",null),tt})(),Xr=!1;!function(){if(!Xr){window.powerbi||(window.powerbi={}),window.powerbi.visualSandbox||(window.powerbi.visualSandbox={});var tt=Ir;window.powerbi.visualSandbox.createSandboxHost=(_e,Ge=!1)=>tt(_e,Ge),Xr=!0}}();var Pt=!1;(function(){if(!Pt){window.powerbi||(window.powerbi={}),window.powerbi.visualSandbox||(window.powerbi.visualSandbox={});var tt=Qr;window.powerbi.visualSandbox.onSecurityPolicyViolation=_e=>tt(_e),Pt=!0}})(),X();class Tt{constructor(_e){this.isolate=!0,this.promiseFactory=_e.promiseFactory,this.plugin=_e.plugin,this.tooltipService=_e.visualHostTooltip}init(_e){var Ge=_e.host.tooltips();Ge&&(this.tooltipService=Ge),this.cvContainer=_e.element,this.loadWithoutResourcePackage(this.plugin),this.hostServices=function(tt,_e,Ge){return new v(tt,_e,Ge)}(_e.host,this.cvContainer,this.tooltipService),this.visual.init({animation:_e.animation,element:this.cvContainer,host:this.hostServices,interactivity:_e.interactivity,style:_e.style,viewport:_e.viewport,localizationResources:this.plugin.localizationResources})}update(_e){return this.visual.update({dataViews:_e.dataViews,suppressAnimations:_e.suppressAnimations,viewMode:_e.viewMode,editMode:_e.editMode,viewport:_e.viewport,type:_e.type,operationKind:a.su.Create,resizeMode:_e.resizeMode,isInFocus:_e.isInFocus,jsonFilters:_e.jsonFilters?_e.jsonFilters:null})}enumerateObjectInstancesAsync(_e){var Ge=this.promiseFactory.defer();if(this.visual.enumerateObjectInstances){var Me=this.visual.enumerateObjectInstances(_e);return Me&&Me.instances&&Ge.resolve({instances:Me.instances,containers:Me.containers}),Ge.resolve(Me),Ge.promise}}enumerateObjectRepetitionAsync(){var _e=this.promiseFactory.defer(),Ge=this.visual.enumerateObjectRepetition();return _e.resolve(Ge),_e.promise}getFormattingModelAsync(){if(this.visual.getFormattingModel){var _e=this.promiseFactory.defer();return _e.resolve(this.visual.getFormattingModel()),_e.promise}}onRestoreSelection(_e){var Ge=this.hostServices.selectionManager;if(Ge){if(_e&&_e.selection){var Me=_e.selection.map(at=>t.l0.fromSelectorsByColumn(at));Ge.setSelectionIds(Me),Ge.invokeOnSelectCallback(Me)}return!0}}onClearSelection(){var _e=this.hostServices.selectionManager;_e&&(_e.setSelectionIds([]),_e.invokeOnSelectCallback([]))}loadWithoutResourcePackage(_e){var Me=_e.apiVersion?this.isolate&&(0,r.lt)(_e.apiVersion,"3.0.0"):this.isolate;this.plugin=hr(_e,!0,Me),this.createAdapter()}visualHasMethod(_e){return _.isFunction(this[_e])}destroy(){this.hideTooltip(),this.visual.destroy&&this.visual.destroy(),this.cvContainer&&this.cvContainer.empty()}createAdapter(){i.f.assertValue(this.plugin,"Visual does not have a plugin");var _e=this.plugin;this.visual=(0,l.nm)(_e,_e.create,this.promiseFactory,null),i.f.assertValue(this.visual,"Unable to create visual from plugin ")}hideTooltip(){this.tooltipService&&this.tooltipService.enabled()&&this.tooltipService.hide({immediately:!0,isTouchEvent:!1})}}},426062:function(ve,j,e){e.d(j,{W:function(){return c}});var r=e(301336),i=e(17372),a=e(650543),t=e(893910),l=e(137626),g=e(24769),n=e(468906),p=e(952363),s=e(996302),d=e(562313),o=e(871080);class v{constructor(h,E,u){this.proxy=h,this.plugin=E,this.telemetryService=u,this.firstUpdateMessageSent=!1,this.isPluginReady=!1,this.pluginReadyDeferred=new d.B,this.proxy.setPluginReadyHandler(()=>{this.isPluginReady=!0,this.pluginReadyDeferred.resolve()}),this.updateWithDataDeferred=new d.B,Promise.allSettled([this.pluginReadyDeferred.promise,this.updateWithDataDeferred.promise]).then(()=>{this.postUpdateMessage()})}update(h){if(this.firstUpdateMessageSent)return this.proxy.update(h);if(this.updateMessage){this.updateMessage.type|=h.type,h.dataViews?.length>0&&(this.updateMessage.dataViews=h.dataViews);var E=h,u=_.clone(this.updateMessage);for(var f in E)"type"!==f&&"dataViews"!==f&&void 0!==E[f]&&(u[f]=E[f]);this.updateMessage=u}else this.updateMessage=h,this.updateMessageSentDeferred=new d.B;return(0,n.dy)(h,this.plugin)||this.updateWithDataDeferred.resolve(),this.updateMessageSentDeferred.promise}postUpdateMessage(){this.updateMessage&&this.proxy.update(this.updateMessage).then(()=>{this.updateMessage=void 0,this.firstUpdateMessageSent=!0,this.updateMessageSentDeferred.resolve()}).catch(h=>{this.updateMessage=void 0,this.firstUpdateMessageSent=!0,this.updateMessageSentDeferred.reject(h)})}destroy(){(!this.isPluginReady||!this.firstUpdateMessageSent)&&this.telemetryService&&this.telemetryService.logEvent(o.Tk,{visualType:this.plugin.name,parentId:this.telemetryService.root.id}),this.updateMessage=void 0}}class c{constructor(h){this.iframeFeatureSwitches=["dsrV2","cvSkipExtraResize"],this.pluginName=h.plugin.name,this.proxy=h.proxy,this.featureSwitchService=h.featureSwitchService,this.visualSandboxUri=h.visualSandboxUri,this.frontEndUrl=h.frontEndUrl?h.frontEndUrl:"'self'",this.hostEnv=h.hostEnv,this.accessibilityUpperIndicator=null,this.accessibilityLowerIndicator=null;var E=_.map(h.sandboxProperties,P=>(0,p.cg)(P)).join(" "),u="";h.plugin.capabilities&&h.plugin.capabilities.supportsKeyboardFocus&&(u=" tabindex=0");var f="";this.featureSwitchService.featureSwitches.forceColorSchemeForIFrames||(f="color-scheme: auto;"),this.iframeHtml=`<iframe style="border:none;${f}" class="visual-sandbox empty-sandbox-visual" sandbox="${E}" name="visual-sandbox"${u} aria-label="${h.localizationService.get("CustomVisualIframeAriaLabel")}"></iframe>`,this.plugin=h.plugin,this.telemetryService=h.telemetryService,this.certifiedEventsService=h.certifiedEventsService,this.localizationService=h.localizationService,this.privilegeService=h.privilegeService;var b={urlLauncher:h.urlLauncher,visualHostTooltip:h.visualHostTooltip,hostEnv:h.hostEnv,dataMultiSelectMode:h.dataMultiSelectMode,sandboxPropertiesString:E,allowModalDialog:_.isFunction(h.openIFrameDialog),dialogSandboxUri:h.dialogSandboxUri,openIFrameDialog:h.openIFrameDialog,getEmbedHostType:h.getEmbedHostType},V=new n._E(this.proxy,h.promiseFactory,this.telemetryService,this.certifiedEventsService,this.featureSwitchService,h.approvedResourcesService,h.visualsLicenseService,h.visualDownloadService,h.visualLocalStorageV2ProxyService,h.privilegeService,h.customVisualsTokenManagerService,b,h.instanceId);this.proxy.init(V,h.plugin);var T=window.powerbi.visuals.plugins[this.pluginName];a.f.assertValue(T.content,"plugin content is undefined"),this.proxy.postMessage("loadWithoutResourcePackage",[T]),this.plugin.capabilities?.privileges&&this.telemetryService.logEvent(o.Cr,{visualType:this.plugin.name,privileges:JSON.stringify(this.plugin.capabilities.privileges)})}get sandbox(){return!0}init(h){this.element=h.element,this.tooltipService=h.host.tooltips(),h.featureSwitches&&(!this.updateMessagesProcessor&&h.featureSwitches.cvAggregateUpdateMessages&&(0,t.ge)(this.plugin.apiVersion??"2.0.0","4.2.0")&&(this.updateMessagesProcessor=new v(this.proxy,this.plugin,this.telemetryService)),h.featureSwitches=this.filterFeatureSwitches(h.featureSwitches,this.iframeFeatureSwitches)),this.initializeContainerTimerId=window.setTimeout(()=>{this.initializeContainerTimerId=void 0,this.element&&this.initContainer(h.viewport)},0),this.proxy.invoke("init",[h])}update(h){return this.updateMessagesProcessor?this.updateMessagesProcessor.update(h):this.proxy.update(h)}enumerateObjectInstancesAsync(h){return this.proxy.invoke("enumerateObjectInstancesAsync",[h])}getFormattingModelAsync(){return this.proxy.invoke("getFormattingModelAsync",[])}getSubSelectionStylesAsync(h){return this.proxy.invoke("getSubSelectionStylesAsync",[h])}getSubSelectionShortcutsAsync(h,E){return this.proxy.invoke("getSubSelectionShortcutsAsync",[h,E])}getSubSelectablesAsync(h){return this.proxy.invoke("getSubSelectablesAsync",[h])}enumerateObjectRepetitionAsync(){return this.proxy.invoke("enumerateObjectRepetitionAsync",[])}onRestoreSelection(h){if(this.supportCustomVisualSelectionId())return this.proxy.invoke("onRestoreCvSelectionIds",[h]);var E=h.selection.map(u=>(0,s.U9)(u));return this.proxy.invoke("onRestoreSelection",[{selection:E}])}visualHasMethod(h){return _.isFunction(this[h])}destroy(){void 0!==this.initializeContainerTimerId&&window.clearTimeout(this.initializeContainerTimerId),this.container&&this.container.remove(),this.accessibilityUpperIndicator?.remove(),this.accessibilityLowerIndicator?.remove(),this.hideTooltip(),this.updateMessagesProcessor&&this.updateMessagesProcessor.destroy(),this.proxy.invoke("destroy",[])}hideTooltip(){this.tooltipService&&this.tooltipService.enabled()&&this.tooltipService.hide({immediately:!0,isTouchEvent:!1})}initContainer(h){this.marker=(0,r.BL)(`customVisual:${this.pluginName}:initContainer`);var u=h.width,f=h.height;this.featureSwitchService.featureSwitches.useCvSandboxCspIframe?this.container=this.createCspIframe(u,f):(this.container=$(this.iframeHtml),this.initSandboxIframe(this.container,u,f)),this.plugin.capabilities?.supportsKeyboardFocus?this.initWithAccessibilityIndicators():this.element.empty().append(this.container)}createCspIframe(h,E){var f=`<html><head><meta http-equiv="Content-Security-Policy" content="default-src 'none'; style-src 'unsafe-inline'; frame-src 'self'"></head><body style="margin:0;overflow:hidden;">${this.iframeHtml}</body></html>`,b=$(document.createElement("iframe"));return b.attr({class:"visual-sandbox",srcdoc:f}),b.height(E),b.width(h),b.one("load",()=>{var P=$(b[0].contentWindow.document.querySelectorAll(".visual-sandbox"));this.initSandboxIframe(P,h,E)}),b}getCSP(){var h=void 0,E=this.privilegeService.getWebAccessParameters(this.plugin);if(null!==E&&!this.isAsterisk(E)){var u=E.join(" ");h=`default-src ${this.frontEndUrl} data: blob: 'unsafe-inline' 'unsafe-eval' ${u};`}return h}isAsterisk(h){return 1===h.length&&"*"===h[0]}initSandboxIframe(h,E,u){var f=this.generateIFrameUrl();h.attr({src:f}),h.height(u),h.width(E),h.one("load",()=>this.onIFrameLoad(h)),h.on("mouseout",()=>this.hideTooltip())}initAccessibilityIndicators(){var h={opacity:"0","z-index":"-1","max-width":"0","max-height":"0"};this.accessibilityUpperIndicator=$(document.createElement("div")),this.accessibilityLowerIndicator=$(document.createElement("div")),this.accessibilityUpperIndicator.css(h),this.accessibilityLowerIndicator.css(h),this.accessibilityUpperIndicator.attr("tabindex","0"),this.accessibilityLowerIndicator.attr("tabindex","0"),this.accessibilityUpperIndicator.on("focus",E=>this.handleIndicatorFocus(E)),this.accessibilityLowerIndicator.on("focus",E=>this.handleIndicatorFocus(E))}handleIndicatorFocus(h){h.preventDefault(),this.proxy.postMessage("focusVisualIframeWindow",[])}initWithAccessibilityIndicators(){this.initAccessibilityIndicators(),this.element.empty().append(this.accessibilityUpperIndicator),this.element.append(this.container),this.element.append(this.accessibilityLowerIndicator)}onIFrameLoad(h){this.proxy.ready(h[0].contentWindow),this.marker()}generateIFrameUrl(){a.f.assert(()=>!!this.localizationService.currentLanguageLocale,"current language locale is not valid");var h=g.s.clearAllQueriesFromUrl(this.visualSandboxUri),E={locale:(0,l.Kd)(this.localizationService.currentLanguageLocale)};this.hostEnv===i.yb.Desktop&&(E.plugin=this.pluginName),g.s.getQueryStringValue("unmin")&&(E.unmin="1"),this.featureSwitchService.featureSwitches.useCvSandboxCspIframe&&(E.cspiframe="1"),this.featureSwitchService.featureSwitches.emCVDisableGlobals||(E.pbiglobals="1");var u=this.getCSP();return u&&(E.csp=btoa(u)),h+g.s.rebuildQueryString(E)}filterFeatureSwitches(h,E){var u={};return h&&E&&(u=_.reduce(Object.keys(h),(f,b)=>(E.indexOf(b)>-1&&(f[b]=h[b]),f),{})),u}supportCustomVisualSelectionId(){return this.proxy.plugin?.apiVersion&&(0,t.ge)(this.proxy.plugin.apiVersion,"2.0.0")}}for(var y of["update","onStyleChanged","onViewModeChanged","onEditModeChanged","onClearSelection","onSelectObject","canResizeTo"])(S=>{c.prototype[S]||(c.prototype[S]=function(){return this.proxy.invoke(S,_.toArray(arguments))})})(y)},468906:function(ve,j,e){e.d(j,{x_:function(){return Pe},v2:function(){return ee},oc:function(){return We},_E:function(){return yt},dy:function(){return it}});var r=e(349672),i=e(371223),a=e(859266),t=e(203032),l=e(621083),g=e(996302),n=e(449091);function p(et,mt){if(mt)return et.convertCVSelectionIdToPowerbiSelctionId(mt).getSelectorsByColumn()}function s(et,mt){return mt&&0!==mt.length&&mt[0].objectName?_.map(mt,ie=>({objectName:ie.objectName,selectorsByColumn:p(et,ie.selectionId)})):[{objectName:t.nE.VisualArea,selectorsByColumn:{}}]}function d(et,mt){if(mt){var ie=[];return mt.forEach(Y=>{(function(et){if(!et||!et.selectionOrigin||et.selectionOrigin.x<0||et.selectionOrigin.y<0)return!1;var mt=et.customVisualObjects;return!(!mt||mt.some(ie=>!ie))})(Y)&&ie.push({visualObjects:s(et,Y.customVisualObjects),displayName:Y.displayName,subSelectionType:Y.subSelectionType,selectionOrigin:{x:Y.selectionOrigin.x,y:Y.selectionOrigin.y},showUI:Y.showUI,immediateDirectEdit:Y.immediateDirectEdit,metadata:Y.metadata,target:Y.target})}),ie}}function C(et,mt){mt.destinationInfo&&u(et,mt.destinationInfo)}function S(et,mt){E(et,mt.relatedToggledFormattingIds),u(et,mt)}function E(et,mt){mt?.forEach(ie=>{u(et,ie)})}function u(et,mt){mt?.selector&&(mt.selector=function(et,mt){return et.deserializeOpaqueIdentity(mt),(0,g.L1)(mt)}(et,mt.selector))}var V={[l.ZJ.Arc]:function(et,mt){return!!(A(et.center,mt)&&null!=et.innerRadius&&null!=et.outerRadius)&&(et.innerRadius=et.innerRadius*mt.scale,et.outerRadius=et.outerRadius*mt.scale,!B(et)||P(et.clipPath,mt))},[l.ZJ.Group]:void 0,[l.ZJ.Line]:w,[l.ZJ.Polygon]:w,[l.ZJ.Rectangle]:function(et,mt){if(null!=et.x&&null!=et.y&&null!=et.width&&null!=et.height){var Ze=mt.fixCoordinates([et.x,et.y]);et.x=Ze[0],et.y=Ze[1],et.width=et.width*mt.scale,et.height=et.height*mt.scale;var ct=et,St=ct.cVDirectEdit;return St&&(ct.directEdit=()=>St,delete ct.cVDirectEdit),!ct.clipPath||P(ct.clipPath,mt)}return!1}};function P(et,mt){for(var ie=[et],Y=mt.loopLimit,fe=!1,Be=0;ie.length&&Be<Y;){var Ze=ie.pop();if(fe=!1,Be++,Ze){if(R(Ze)){Ze.outlines.forEach(St=>ie.push(St));continue}fe=(0,V[Ze.type])(Ze,mt)}if(!fe)return!1}return fe&&Be<Y}function w(et,mt){for(var ie of et.points)if(!A(ie,mt))return!1;return!B(et)||P(et.clipPath,mt)}function A(et,mt){if(null!=et.x&&null!=et.y){var ie=mt.fixCoordinates([et.x,et.y]);return et.x=ie[0],et.y=ie[1],!0}return!1}function R(et){return et&&et.type===l.ZJ.Group}function B(et){return!!et.clipPath}var N=e(947302),W=e(196067),F=e(9611);function U(et,mt){return{...et,hierarchyData:et.hierarchyData.map(Y=>O(Y,mt))}}function O(et,mt){var ie={identity:mt.getCustomVisualOpaqueIdentityByDataViewScopeIdentity(et.identity),operator:et.operator};return et.children?.length&&(ie.children=et.children.map(Y=>O(Y,mt))),ie}function x(et,mt){return{...et,hierarchyData:et.hierarchyData.map(Y=>I(Y,mt))}}function I(et,mt){if(!(0,F.Ye)(et.identity))throw new Error("invalid CustomVisualOpaqueIdentity");var ie={identity:mt.getDataViewScopeIdentityByCustomVisualOpaqueIdentity(et.identity),value:mt.getDataViewValueByCustomVisualOpaqueIdentity(et.identity),operator:et.operator};return et.children?.length&&(ie.children=et.children.map(Y=>I(Y,mt))),ie}var L=e(42990),K=e(464597),z=e(707238),H=e(17372),J=e(746692),k=e(941488),G=e(952363),q=e(283960),Q=e(461361),Z=e(771197),X=e(650543),re=e(357186);function se(et,mt){if(function(et){return null!=et?.control?.properties?.descriptor?.objectName}(et)){var ie=et.control.properties;ie.descriptor=Ve(mt,ie.descriptor)}else{var Y=et?.control?.properties;Object.keys(Y).forEach(fe=>{var Be=Y[fe];Be.descriptor=Ve(mt,Be.descriptor)})}}function Ve(et,mt){return et.deserializeOpaqueIdentity(mt?.altConstantValueSelector),et.deserializeOpaqueIdentity(mt?.selector),function(et){return{...et,selector:(0,g.L1)(et.selector),altConstantValueSelector:(0,g.L1)(et.altConstantValueSelector)}}(mt)}var ot=e(893910),ft=e(630881),Ct=e(594849),Ke=e(166746),Ae=e(230343),we=e(971831),Ie=102400,Oe=(0,we.T5)("LVSTORAGE:","1",Ie,43200),ye=new class{loadDictionary(mt,ie,Y=!1){var fe=this.getStorageKey(mt,ie,Y),Be=Oe.getData(fe);return Be||(Be={}),Be}saveDictionary(mt,ie,Y,fe=!1){var Be=this.getStorageKey(mt,ie,fe);Oe.setData(Be,_(Y).isEmpty()?void 0:Y)}getStorageKey(mt,ie,Y){return Y?ie:btoa((mt??"NA")+"|"+ie)}getData(mt,ie,Y){var fe=null;try{var Be=this.loadDictionary(mt,ie);fe=atob(Be[btoa(Y)])}catch{fe=this.getAndRemoveLegacyData(mt,ie,Y)}return fe}setData(mt,ie,Y,fe){try{var Ze=this.loadDictionary(mt,ie);Ze[btoa(Y)]=btoa(fe);var ct=JSON.stringify(Ze).length;return ct<=Ie&&this.saveDictionary(mt,ie,Ze),Ie-ct}catch{}return 0}remove(mt,ie,Y){try{var fe=this.loadDictionary(mt,ie);fe[btoa(Y)]=void 0,this.saveDictionary(mt,ie,fe)}catch{}}getAndRemoveLegacyData(mt,ie,Y){var fe=this.loadDictionary("",ie,!0),Be=fe[Y];return void 0!==Be&&(fe[Y]=void 0,this.saveDictionary("",ie,fe,!0),this.setData(mt,ie,Y,Be)),Be}},Je=e(625112),he=e(246626),Ce=e(87072),je=e(871080);class Dt{constructor(mt,ie,Y,fe){this.messageProxy=mt,this.telemetryService=ie,this.plugin=Y,this.instanceId=fe,this._modalDialogState=null,this._dialog=null,this._iframe=null,this._minDisplayDurationReached=!1,X.f.assertValue(mt,"messageProxy"),setTimeout(()=>{this._minDisplayDurationReached=!0},2e3),this.messageProxy.on(K.et,Be=>this.onMessageReceived(Be)),this.messageProxy.on(K.zM,Be=>this.onMessageError(Be))}set dialog(mt){this._dialog=mt}set iframe(mt){this._iframe=mt}get modalDialogState(){return this._modalDialogState}postMessage(mt,ie){this.messageProxy.postMessage({eventName:mt,arguments:ie})}postMessageAsync(mt,ie){return this.messageProxy.postMessageAsync({eventName:mt,arguments:ie})}destroy(){this.messageProxy.off(K.et),this.messageProxy.off(K.zM),this.messageProxy.destroy(),this._dialog=null,this._iframe=null}onMessageReceived(mt){this.validateMessageSource(mt)&&(_.isFunction(this[mt.message.eventName])?this[mt.message.eventName].apply(this,mt.message.arguments):this.telemetryService.logEvent(je.aW,{visualType:this.plugin.name,instanceId:this.instanceId,payload:"invalid message"}))}onMessageError(mt){this.validateMessageSource(mt)&&mt.message&&mt.message.error&&this.telemetryService.logEvent(je.aW,{visualType:this.plugin.name,instanceId:this.instanceId,payload:mt.message.error})}onDialogSetState(mt){this._modalDialogState=mt}onDialogClose(mt,ie){ie&&(this._modalDialogState=ie),this._dialog&&this._minDisplayDurationReached&&this._dialog.close(mt)}onDialogResize(mt,ie){if(this._dialog){var Y=_.clamp(mt,200,Math.ceil(.9*window.innerWidth))+2,fe=_.clamp(ie,100,Math.ceil(.91*window.innerHeight-120))+2;this._dialog.resize(Y,fe)}}validateMessageSource(mt){return X.f.assertValue(mt,"message"),!(!mt.source||!this._iframe||this._iframe.contentWindow!==mt.source||!_.includes(["onDialogSetState","onDialogClose","onDialogResize"],mt.message.eventName))}}var ne=e(301336),Fe=["txt","csv","json","tmplt","xml","pdf","xlsx"],qe=31457280;class dt{constructor(mt,ie,Y,fe){this.visualDownloadService=mt,this.telemetryService=ie,this.plugin=Y,this.instanceId=fe}exportVisualsContent(mt,ie,Y,fe,Be){var Ze=ie.split(".").pop();Y=Y.toLowerCase();var ct=this.getBlobSize(mt,Y);return this.validateContentSource(mt,ie,Y,fe,ct)?this.visualDownloadService.exportVisualsContent(mt,ie,Y,fe,this.plugin.name,ct).then(St=>(this.telemetryService.logEvent(je.kd,{isFileSaved:St,contentSize:ct,visualType:this.plugin.name,instanceId:this.instanceId,extension:Ze}),{promiseId:Be,data:{downloadCompleted:St,fileName:St?ie:void 0}}),()=>({promiseId:Be,data:{downloadCompleted:!1}})):this.handleInvalidRequest(ct,Ze,Be)}validateContentSource(mt,ie,Y,fe,Be){var Ze=ie.split(".").pop().toLowerCase(),ct=Fe.filter(Rt=>Ze===Rt).length>0,St=null===ie.match(/[:/\\]/);return!(!mt||!Y||!fe||!St||!ct||Be>qe)}getBlobSize(mt,ie){if(!mt)return 0;if(mt.length>qe)return qe+1;var fe=new Blob([mt],{type:ne.nH});return fe?"base64"===ie?3*fe.size/4:fe.size:0}handleInvalidRequest(mt,ie,Y){return this.telemetryService.logEvent(je.Tc,{contentSize:mt,visualType:this.plugin.name,instanceId:this.instanceId,extension:ie}),Promise.resolve({promiseId:Y,data:{downloadCompleted:!1}})}}var rt=e(494522),ce=function(et){return et[et.AlreadyOpen=1]="AlreadyOpen",et[et.NotAllowed=2]="NotAllowed",et[et.BlockedByUser=3]="BlockedByUser",et}({}),be=e(70862),ae=e(916416),de=e(685030),ee={[ft.X6.General]:"icon",[ft.X6.UnsupportedEnv]:"unsupported environment blocker",[ft.X6.VisualIsBlocked]:"blocker"},Pe={[H.yb.Web]:"Web",[H.yb.PublishToWeb]:"PublishToWeb",[H.yb.Desktop]:"Desktop",[H.yb.Embed]:"Embed",[H.yb.ReportServer]:"ReportServer",[H.yb.ExportReportHost]:"ExportReportHost",[H.yb.Mobile]:"Mobile",[H.yb.DashboardHost]:"DashboardHost",[H.yb.Unknown]:"Unknown"},We={[l.Un.Allowed]:"Allowed",[l.Un.DisabledByAdmin]:"DisabledByAdmin",[l.Un.NotSupported]:"NotSupported",[l.Un.NotDeclared]:"NotDeclared"};function it(et,mt){if(et.visualHasData&&(!et.dataViews||0===et.dataViews.length))return!0;var ie=mt.capabilities;return et.visualRequiresData&&et.dataViews&&0===et.dataViews.length&&!(ie&&ie.supportsLandingPage&&(ie&&ie.supportsEmptyDataView||et.viewMode===ft.wO.Edit))}var yt=(()=>{class et{constructor(ie,Y,fe,Be,Ze,ct,St,Rt,kt,Gt,Ht,tr,ar){this.proxy=ie,this.promiseFactory=Y,this.telemetryService=fe,this.certifiedEventsService=Be,this.featureSwitchService=Ze,this.approvedResourcesService=ct,this.licenseService=St,this.visualDownloadService=Rt,this.visualLocalStorageV2ProxyService=kt,this.privilegeService=Gt,this.customVisualsTokenManagerService=Ht,this.visualSandboxOptions=tr,this.instanceId=ar,this.canHandleLoadMoreData=!0,this.dataTransforms={},this.formatMode=!1,this.isFirstUpdate=!0,this.isDestroyed=!1,this.dataViewSerializer=new J.n,this.visualSelections=[],this.asyncSerializer=new W.W}get sandbox(){return!0}init(ie){this.visualHostServices=ie.host,this.visualAdapterHostServices=ie.visualAdapterHostServices,this.tooltipService=this.visualHostServices.tooltips(),this.featureSwitches=ie.featureSwitches,this.tooltipService||(this.tooltipService=this.visualSandboxOptions.visualHostTooltip),this.element=ie.element,this.resize(ie.viewport),this.visualStyle=ie.style;var Y=this.visualSandboxOptions?.hostEnv;this.isExportVisualsContentSupported=!!Y&&!!(Y&(H.yb.Web|H.yb.Desktop))&&!!ie.interactivity?.isVisualInteractive,ie.interactivity=ie.interactivity||{},ie.interactivity.allowModalDialog=this.visualSandboxOptions?.allowModalDialog&&ie.interactivity.isVisualInteractive,this.initOptions=ie;var fe={animation:ie.animation,interactivity:ie.interactivity,viewport:ie.viewport,style:(0,rt._8)(ie.style),featureSwitches:ie.featureSwitches,hostEnv:this.visualSandboxOptions?this.visualSandboxOptions.hostEnv:void 0,instanceId:this.instanceId,dataMultiSelectMode:this.visualSandboxOptions&&this.visualSandboxOptions.dataMultiSelectMode&&this.visualSandboxOptions.dataMultiSelectMode()};this.proxy.postMessage("init",[fe])}getHostEnvString(){return this.visualSandboxOptions?.hostEnv?Pe[this.visualSandboxOptions.hostEnv]:"Undefined"}update(ie){this.isFirstUpdate&&(this.isFirstUpdate=!1,this.logCapabilitiesTelemetry(ie));var Y=this.promiseFactory.defer(),fe=(Be,Ze)=>this.proxy.postMessageAsync(Be,Ze);return it(ie,this.proxy.plugin)?(ie.updateCallBack&&ie.updateCallBack(),Y.resolve(null),Y.promise):this.asyncSerializer.enqueue(()=>this.updateCore(ie,fe))}updateCore(ie,Y){var fe=this;return(0,r.Z)(function*(){var Be,Ze,ct,St=[];if(fe.formatMode=ie.formatMode,(ie.type&ft.EP.All)===ft.EP.All||(ie.type&ft.EP.Resize)!==ft.EP.Resize||ie.resizeMode===ft.Pf.Resized){var Rt=fe.proxy&&fe.proxy.plugin&&fe.proxy.plugin.apiVersion;if(ie.dataViews&&ie.dataViews[0]&&(0,G.fA)(fe.proxy?.plugin)){X.f.assert(()=>ie.dataViews.length<=1,"Custom Visuals should only use one dataView");try{ie?.dataViews[0]?.metadata?.columns&&(ie.dataViews[0].metadata.columns=_.filter(ie.dataViews[0].metadata.columns,Bt=>Bt.roles||""!==Bt.displayName))}catch(Bt){X.f.assertFail("failed to filter columns: "+Bt)}fe.shouldUpdateWithCachedData(ie)?ct=fe.dataViewSerializer.serializeDataViewMetadata(ie.dataViews[0]):Ze=fe.dataViewSerializer.serializeDataViewForCv(ie.dataViews[0],fe.proxy.plugin.capabilities,!1,(0,ot.gt)(Rt,"3.5.9"),[],(0,ot.ge)(Rt,"5.3.0"),(0,ot.ge)(Rt,"5.9.0")),St=fe.RestoreCvSelectionIds(fe.visualSelections)}var Ht,kt=!!(ie.dataViews&&ie.dataViews.length>0&&ie.dataViews[0].categorical&&ie.dataViews[0].categorical.categories&&ie.dataViews[0].categorical.categories.length>0&&ie.dataViews[0].categorical.categories[0]&&ie.dataViews[0].categorical.categories[0].values),Gt=[];kt&&(Gt=ie.dataViews[0].categorical.categories[0].values,ie.dataViews[0].categorical.categories[0].source&&ie.dataViews[0].categorical.categories[0].source.type&&(Ht=ie.dataViews[0].categorical.categories[0].source.type.dateTime));var ar,tr=ie?.dataViews?.[0]?.metadata?.objects,He=tr&&(0,Ae.NA)(tr,G.Ro);if(He)try{ar=yield fe.getJSONFilter(He)}catch{ar=[]}else ar=[];fe.dataTransforms=ie.dataTransforms;var Mt={dataViewSource:ie.visualDefinitionData?ie.visualDefinitionData.dataViewSource:null,dataTransforms:Z.F.serializeDataViewTransformActions(ie.dataTransforms,fe.proxy.plugin.capabilities.objects||{}),suppressAnimations:ie.suppressAnimations,viewMode:ie.viewMode,editMode:ie.editMode,viewport:ie.viewport,type:ie.type,resizeMode:ie.resizeMode,isInFocus:ie.isInFocus,categoriesValues:kt?Gt:null,isCategoryDate:Ht,serializedDataView:Ze,jsonFilters:ar,dataViewMetadata:ct,selections:St,updateId:ie.updateId,formatMode:ie.formatMode,subSelections:fe.convertToCustomVisualSubSelections(ie.subSelections),pendingChanges:ie.pendingChanges};fe.shouldUpdateWithCachedData(ie)?(fe.lastDataViewSource=Mt.dataViewSource,Mt.dataViewSource=null,Be=yield Y("updateWithCachedData",[Mt])):(fe.lastDataViewSource=Mt.dataViewSource,Be=yield Y("update",[Mt]))}else ie.updateCallBack&&ie.updateCallBack();return window.setTimeout(()=>fe.resize(ie.viewport)),Be})()}getJSONFilter(ie){var Y=this;return(0,r.Z)(function*(){var fe=yield Y.visualHostServices.getJSONFilter(ie,Y.dataViewSerializer.identitiesArray);return _.map(fe,Be=>Y.processGetJsonFilter(Be))})()}processGetJsonFilter(ie){return ie.filterType===Ct.FilterType.HierarchyIdentity?this.processGetHierarchyIdentityJsonFilter(ie):ie}processGetHierarchyIdentityJsonFilter(ie){return U(ie,this.dataViewSerializer)}logCapabilitiesTelemetry(ie){var He,Mt,Y=this.proxy.plugin,fe=Y?.capabilities,Be=ie?.dataViews?.[0]?.metadata?.objects,Ze={sorting:{implicit:!!fe?.sorting?.implicit,default:!!fe?.sorting?.default,custom:!!fe?.sorting?.custom},expandCollapse:kt(Be,fe?.expandCollapse?.addDataViewFlags,!0),subTotals:{RowSubtotalType:{Top:kt(Be,fe?.subtotals?.matrix?.rowSubtotalsType,ft.j.Top),Bottom:kt(Be,fe?.subtotals?.matrix?.rowSubtotalsType,ft.j.Bottom)}}},ct=function Gt(ar){var He=[],Mt=new Map(Object.entries(ar));for(var Bt of Object.keys(ar)){var ze=Mt.get(Bt);if("boolean"==typeof ze)ze&&He.push(Bt);else{var st=Gt(ze);st.length&&He.push({[Bt]:st})}}return He}(Ze);if(ct.length){this.telemetryService.logEvent(je.s$,{visualType:Y.name,existingCapabilities:JSON.stringify({apiVersion:Y.apiVersion,visualVersion:Y.version,existingTrackedCapabilities:ct})});var Rt={apiMajorVersion:Y.apiVersion&&(0,ot.OA)(Y.apiVersion)?.major,apiMinorVersion:Y.apiVersion&&(0,ot.OA)(Y.apiVersion)?.minor,visualMajorVersion:Y.version&&(0,ot.OA)(Y.version)?.major,visualMinorVersion:Y.version&&(0,ot.OA)(Y.version)?.minor};He=Rt,function tr(ar,He,Mt=""){var Bt=new Map(Object.entries(ar));for(var ze of Object.keys(ar)){var st=Bt.get(ze),Lt=""!==Mt?Mt+"."+ze:ze;"boolean"==typeof st?st&&He.push(Lt):tr(st,He,Lt)}}(Ze,Mt=[]),Mt.forEach(Bt=>{var ze=Bt.split("."),st=ze[0],Lt=1===ze.length?ze[0]:ze.slice(1).join(".");He[st]=He[st]?He[st]+", "+Lt:Lt}),this.certifiedEventsService.logStandardizedFeatureEvent({activityAttributes:{...Rt},activityName:je.aw,correlationId:this.telemetryService.root?.id,visualId:Y.name})}function kt(ar,He,Mt){var Bt=!1;return He&&(Bt=He.propertyIdentifier?(0,Ae.NA)(ar,He.propertyIdentifier,He.defaultValue)===Mt:He.defaultValue===Mt),Bt}}getFormattingModelAsync(){return this.asyncSerializer.enqueue(()=>{var ie=this.promiseFactory.defer();return this.proxy.postMessageAsync("getFormattingModel",[]).then(Y=>{var fe=Y;if(!fe)return ie.resolve(null);var Be=function(et,mt){return mt?.cards.forEach(ie=>{ie?.groups?.forEach(Y=>{Y?.slices?.forEach(fe=>{se(fe,et)}),Y?.container?.containerItems?.forEach(fe=>{fe?.slices?.forEach(Be=>{se(Be,et)}),fe?.groups?.forEach(Be=>{Be?.slices?.forEach(Ze=>{se(Ze,et)})})})})}),mt}(this.dataViewSerializer,fe);ie.resolve(Be)}).catch(Y=>ie.reject(Y)),ie.promise})}getSubSelectionStylesAsync(ie){return this.asyncSerializer.enqueue(()=>{var Y=this.promiseFactory.defer(),fe=this.convertToCustomVisualSubSelections(ie);return this.proxy.postMessageAsync("getSubSelectionStyles",[fe]).then(Be=>{if(!Be)return Y.resolve(void 0);var Ze=function(et,mt){if(mt)return function(et){if(et.type=et.type??n._Y.None,et.type===n._Y.Text||et.type===n._Y.NumericText){var mt={label:"",reference:{objectName:"",propertyName:""}};"font"in et&&(et.font=et.font??mt),et.fontColor=et.fontColor??mt}}(mt),Object.values(mt)?.forEach(ie=>{u(et,ie?.reference)}),mt}(this.dataViewSerializer,Be);Y.resolve(Ze)}).catch(Be=>Y.reject(Be)),Y.promise})}getSubSelectionShortcutsAsync(ie,Y){return this.asyncSerializer.enqueue(()=>{var fe=this.promiseFactory.defer(),Be=this.convertToCustomVisualSubSelections(ie);return this.proxy.postMessageAsync("getSubSelectionShortcuts",[Be,Y]).then(Ze=>{if(!Ze)return fe.resolve(void 0);var ct=function(et,mt){return mt?.forEach(ie=>{if(ie)switch(ie.type){case n.sl.Reset:!function(et,mt){E(et,mt.relatedResetFormattingIds),E(et,mt.excludedResetFormattingIds)}(et,ie);break;case n.sl.Toggle:S(et,ie);break;case n.sl.ConditionalFormatting:u(et,ie);break;case n.sl.Navigate:C(et,ie);break;case n.sl.SubMenu:!function(et,mt){mt.shortcuts?.forEach(ie=>{if(ie)switch(ie.type){case n.sl.Toggle:S(et,ie);break;case n.sl.Navigate:C(et,ie);break;case n.sl.ConditionalFormatting:u(et,ie)}})}(et,ie);break;case n.sl.SetValue:!function(et,mt){mt.referencesAndValues?E(et,mt.referencesAndValues):mt.referencesAndValues=[]}(et,ie)}}),mt}(this.dataViewSerializer,Ze);fe.resolve(ct)}).catch(Ze=>fe.reject(Ze)),fe.promise})}getSubSelectablesAsync(ie){return this.asyncSerializer.enqueue(()=>{var Y=this.promiseFactory.defer();return this.proxy.postMessageAsync("getSubSelectables",[ie]).then(fe=>{if(!fe)return Y.resolve(void 0);var Be=d(this.dataViewSerializer,fe);Y.resolve(Be)}).catch(fe=>Y.reject(fe)),Y.promise})}enumerateObjectInstancesAsync(ie){return this.asyncSerializer.enqueue(()=>{var Y=this.promiseFactory.defer();return this.proxy.postMessageAsync("enumerateObjectInstances",[ie]).then(fe=>{var Be=fe;if(!Be)return Y.resolve(null);if(Be.instances){var Ze;if((0,G.fA)(this.proxy?.plugin)){var ct=this.dataViewSerializer.deserializeVisualObjectInstance(Be.instances);Ze=(0,be.vB)(ct)}else Ze=(0,be.vB)(Be.instances);var St={instances:Ze,containers:Be.containers?(0,be.S4)(Be.containers):null};return Y.resolve(St)}(0,G.fA)(this.proxy?.plugin)&&(fe=this.dataViewSerializer.deserializeVisualObjectInstance(fe));var Rt=(0,be.vB)(fe);Y.resolve(Rt)}).catch(fe=>Y.reject(fe)),Y.promise})}enumerateObjectRepetitionAsync(){return this.asyncSerializer.enqueue(()=>(this.enumerateObjectRepetitionAsyncPromise=this.promiseFactory.defer(),this.proxy.postMessageAsync("enumerateObjectRepetition",[]).then(ie=>{if(!ie)return this.enumerateObjectRepetitionAsyncPromise.resolve(null);var fe=(0,ae.vB)(ie);this.enumerateObjectRepetitionAsyncPromise.resolve(fe)}).catch(ie=>this.enumerateObjectRepetitionAsyncPromise.reject(ie)),this.enumerateObjectRepetitionAsyncPromise.promise))}onSelect(ie){var Y;if((0,re.FE)(ie)){var fe=ie;Y={data:(0,g.UU)(fe.data),data2:(0,g.JF)(fe.data2),selectors:(0,g.UU)(fe.selectors)}}else{var{visualObjects:Be}=ie;Y={type:l.BD.DataPointSelection,visualObjects:(0,g.kg)(Be)}}this.visualHostServices.onSelect(Y)}subSelect(ie){if(this.formatMode&&ie){var Y,fe=d(this.dataViewSerializer,[ie]);if(fe&&fe[0]){var Be=this.fixCoordinates([fe[0].selectionOrigin.x,fe[0].selectionOrigin.y]);if(Y={...fe[0],type:l.BD.FormattingSubSelection,selectionOrigin:{x:Be[0],y:Be[1]}},this.visualHostServices.onSelect(Y),fe[0].showUI){var Ze=new MouseEvent("contextmenu",{bubbles:!0,cancelable:!0,button:2,clientX:Be[0],clientY:Be[1]});fe[0].visualObjects[0].objectName!==t.nE.VisualArea&&(0,Je.n)(Ze),this.element.get(0).dispatchEvent(Ze)}}}}updateRegionOutlines(ie){if(this.formatMode&&ie){var fe=function(et,mt){for(var ie=[],Y=Math.min(et.length,mt.loopLimit),fe=0;fe<Y;fe++)P(et[fe].outline,mt)&&ie.push(et[fe]);return ie}(ie,{fixCoordinates:Ze=>this.fixCoordinates(Ze),loopLimit:1e5,scale:this.viewPortScale}),Be=this.visualHostServices.getSubSelectionService();Be?.updateRegionOutlines(fe)}}convertToCustomVisualSubSelections(ie){if(ie){var Y=this.proxy?.plugin?.apiVersion;return ie.map(fe=>{var Be=fe.visualObjects.map(Ze=>{var ct=Ze.selectorsByColumn&&this.dataViewSerializer.restoreIdentitiesIndexesFromSelectionId(Ze.selectorsByColumn,(0,ot.ge)(Y,"5.8.0"));return{objectName:Ze.objectName,selectionId:ct&&new k.r(ct.serializedDataMap,ct.measures)}});return{...fe,visualObjects:[],customVisualObjects:Be}})}}transformCvSelectionIdsAndSelect(ie){var Y;if(this.visualSelections=[],ie.selectionIds)for(var fe of(Y={type:l.BD.DataPointSelection,visualObjects:[]},ie.selectionIds)){fe=new k.r(fe.dataMap,fe.measures);var Ze=this.dataViewSerializer.convertCVSelectionIdToPowerbiSelctionId(fe).getSelectorsByColumn();Y.visualObjects.push({objectName:"dataPoint",selectorsByColumn:Ze}),this.visualSelections.push(Ze)}else Y={type:l.BD.DataPointSelection,visualObjects:[]};Y.selectionMode=ie.multiSelect?he.i.Difference:he.i.Single,this.visualHostServices.onSelect(Y)}onRestoreCvSelectionIds(ie){if(ie.selection){var Y=this.RestoreCvSelectionIds(ie.selection);return this.proxy.postMessage("onRestoreCvSelectionIds",[Y]),!0}}RestoreCvSelectionIds(ie){this.visualSelections=ie;var Y=[];for(var fe of ie)if(fe){var Be=this.dataViewSerializer.restoreIdentitiesIndexesFromSelectionId(fe);Be&&Y.push(Be)}return Y}onUpdateResult(ie){this.element.children("iframe.visual-sandbox").toggleClass("empty-sandbox-visual",!ie)}onRelayUIEvent(ie){var Y=this.element.offset();if(null!=Y){var fe;switch(ie.type){case"click":case"mouseup":case"MSPointerUp":case"pointerup":case"dblclick":fe=new MouseEvent(ie.type,{screenX:ie.screenX,screenY:ie.screenY,clientX:ie.clientX?ie.clientX+Y.left:Y.left,clientY:ie.clientY?ie.clientY+Y.top:Y.top,ctrlKey:ie.ctrlKey,shiftKey:ie.shiftKey,altKey:ie.altKey,metaKey:ie.metaKey,buttons:ie.buttons,relatedTarget:ie.relatedTarget,bubbles:ie.bubbles});break;case"tap":case"touchend":case"touchcancel":var St=ie,Rt=this.createTouchList(St.touches,Y),kt=this.createTouchList(St.changedTouches,Y),Gt=this.createTouchList(St.targetTouches,Y);fe=new TouchEvent(St.type,{touches:Rt,targetTouches:Gt,changedTouches:kt,view:window,ctrlKey:St.ctrlKey,shiftKey:St.shiftKey,altKey:St.altKey,metaKey:St.metaKey});break;case"keydown":fe=new KeyboardEvent(ie.type,{altKey:ie.altKey,bubbles:ie.bubbles,cancelable:ie.cancelable,code:ie.code,composed:ie.composed,ctrlKey:ie.ctrlKey,key:ie.key,keyCode:ie.keyCode,metaKey:ie.metaKey,shiftKey:ie.shiftKey});break;default:return}this.element.get(0).dispatchEvent(fe)}}createTouchList(ie,Y){var fe=[];if(null==ie)return fe;for(var Be=0;Be<ie.length;Be++){var Ze=ie.item(Be),ct=new Touch({identifier:Ze.identifier,target:Ze.target,clientX:Ze.clientX?Ze.clientX+Y.left:Y.left,clientY:Ze.clientY?Ze.clientY+Y.top:Y.top,screenX:Ze.screenX,screenY:Ze.screenY,pageX:Ze.pageX?Ze.pageX+Y.left:Y.left,pageY:Ze.pageY?Ze.pageY+Y.top:Y.top,radiusX:Ze.radiusX,radiusY:Ze.radiusY,rotationAngle:Ze.rotationAngle,force:Ze.force});fe.push(ct)}return fe}persistProperties(ie){var fe,Y=ie;Y.merge||Y.remove||Y.replace?(this.deserilizePersistedSelectors(Y),fe={merge:Y.merge?(0,be.vB)(Y.merge):null,remove:Y.remove?(0,be.vB)(Y.remove):null,replace:Y.replace?(0,be.vB)(Y.replace):null}):fe=(0,be.vB)(ie),this.visualHostServices.persistProperties(fe)}deserilizePersistedSelectors(ie){var Y=fe=>{fe?.map(Be=>(this.dataViewSerializer.deserializeOpaqueIdentity(Be.selector),Be))};Y(ie.merge),Y(ie.remove),Y(ie.replace)}applyJsonFilter(ie,Y,fe,Be){switch(ie&&ie.length>0&&ie[0].filterType){case Ct.FilterType.Identity:return this.applyIdentityFilter(ie,Y,fe,Be);case Ct.FilterType.HierarchyIdentity:return this.applyHierarchyIdentityFilter(ie,Y,fe,Be);default:return this.visualHostServices.applyJsonFilter(ie,Y,fe,Be)}}applyHierarchyIdentityFilter(ie,Y,fe,Be,Ze){var ct=this.proxy.plugin.apiVersion;if(ct&&!(0,ot.lt)(ct,"5.9.0")){try{ie[0]=x(ie[0],this.dataViewSerializer)}catch{return void Ze({telemetryServiceArgs:{aborted:!0}})}this.visualHostServices.applyJsonFilter(ie,Y,fe,Be)}else Ze({telemetryServiceArgs:{aborted:!0,invalidApiVersion:!0}})}refreshHostData(){this.visualHostServices.refreshHostData()}setCanDrill(ie,Y){this.featureSwitchService.featureSwitches.drillStateToggleable&&(Y({telemetryServiceArgs:{drillAllowed:ie}}),this.visualHostServices.setCanDrill(ie))}drill(ie){!ie?.roleName||!ie?.drillType||this.visualHostServices.drill(ie)}onCustomVisualContextMenu(ie,Y){if(ie&&ie.data&&ie.position&&ie.data[0]){var ct,fe=ie.data[0],Be=new k.r(fe.dataMap,fe.measures,fe.nodeIsCollapsed,fe.nodeIndexes),Ze=this.proxy&&this.proxy.plugin&&this.proxy.plugin.capabilities&&this.proxy.plugin.capabilities;if(Ze&&Ze.expandCollapse){var Rt=this.getRowsRoles(Ze);Rt&&_.isEqual(Rt,ie.dataRoles)&&(this.dataViewSerializer.sortSelectionIdAccordingToRows(Be)?(ct=this.dataViewSerializer.getNodeIndexOfSelectionId(Be),_.isEmpty(ct)&&(Y({telemetryServiceArgs:{expandCollapseAborted:!0}}),ct=void 0,ie.dataRoles=void 0)):(Y({telemetryServiceArgs:{expandCollapseAborted:!0}}),ie.dataRoles=void 0))}var Gt=this.dataViewSerializer.convertCVSelectionIdToPowerbiSelctionId(Be),Ht=this.fixCoordinates([ie.position.x,ie.position.y]),tr=Gt.getSelectorsByColumn();this.visualHostServices.onContextMenu({data:tr?[tr]:void 0,nodeIndex:ct,position:{x:Ht[0],y:Ht[1]},copyArgs:ie.copyArgs,dataRoles:ie.dataRoles})}}onCustomVisualExpandCollapse(ie,Y){var fe=ie&&ie.data,Be=this.proxy&&this.proxy.plugin&&this.proxy.plugin.capabilities&&this.proxy.plugin.capabilities,Ze=this.getRowsRoles(Be);if(fe&&null!=fe.nodeIsCollapsed&&Be&&Be.expandCollapse&&Ze)if(this.dataViewSerializer.sortSelectionIdAccordingToRows(fe)){var Rt=this.dataViewSerializer.getNodeIndexOfSelectionId(fe);if(_.isEmpty(Rt))Y({telemetryServiceArgs:{aborted:!0}});else{var kt=this.dataViewSerializer.convertCVSelectionIdToPowerbiSelctionId(fe).getSelectorsByColumn();ie.entireLevel?this.visualHostServices.setLevelExpansionState({data:kt,dataRoles:Ze,isCollapse:!fe.nodeIsCollapsed,nodeIndex:Rt}):this.visualHostServices.setNodeExpansionState({data:kt,dataRoles:Ze,isCollapse:!fe.nodeIsCollapsed,nodeIndex:Rt})}}else Y({telemetryServiceArgs:{aborted:!0}});else Y({telemetryServiceArgs:{aborted:!0}})}exportVisualsContentStatusInternal(){var ie=this.privilegeService.getExportContentStatus(this.proxy.plugin);return ie===l.Un.Allowed&&!this.isExportVisualsContentSupported&&(ie=l.Un.NotSupported),ie}exportVisualsContentStatus(ie){var Y=this.exportVisualsContentStatusInternal();this.proxy.postMessage("handleExportVisualsContentStatus",[{status:Y,promiseId:ie}])}exportVisualsContent(ie,Y,fe,Be,Ze,ct){var St=this.exportVisualsContentStatusInternal();St===l.Un.Allowed||St===l.Un.DisabledByAdmin?new dt(this.visualDownloadService,this.telemetryService,this.proxy.plugin,this.instanceId).exportVisualsContent(ie,this.proxy.plugin.name+"_"+Y,fe,Be,Ze).then(ar=>{this.proxy.postMessage("handleExportVisualsContent",[ar])}):(ct({telemetryServiceArgs:{cvHostEnvironment:this.visualSandboxOptions?.hostEnv?Pe[this.visualSandboxOptions.hostEnv]:"Undefined"}}),this.logPrivilegesViolation("ExportContent",St),this.proxy.postMessage("handleExportVisualsContent",[{data:{downloadCompleted:!1},promiseId:Ze}]))}onSwitchFocusModeState(ie){this.visualHostServices.onSwitchFocusModeState(ie)}onDisplayWarningIcon(ie,Y,fe){var ct=de.Jh,St=new z.V(de.j,ie.substr(0,de.IQ),Y.substr(0,ct));this.visualHostServices.setWarnings([St]),fe({telemetryServiceArgs:{isCustom:this.proxy.plugin.custom}})}getRowsRoles(ie){var Y=ie&&ie.dataViewMappings&&ie.dataViewMappings[0]&&ie.dataViewMappings[0].matrix&&ie.dataViewMappings[0].matrix.rows;return Y?Ce.nG.fromMatrixRows(Y):void 0}fixCoordinates(ie){if(/Edge\/\d./i.test(navigator.userAgent)&&$("body.fullScreen").length>0)return ie;var Y=this.element.offset();return ie[0]=ie[0]*this.viewPortScale+Y.left,ie[1]=ie[1]*this.viewPortScale+Y.top,ie}deserializeIdentities(ie){if(ie&&(0,G.fA)(this.proxy?.plugin)){var Y=[];for(var fe of ie)Y.push(this.dataViewSerializer.convertCVSelectionIdToPowerbiSelctionId(fe));return Y&&_(Y).map(ct=>ct.getSelectorsByColumn()).compact().value()}return ie&&_(ie).map(ct=>(0,g.JF)(ct)).compact().value()}showTooltip(ie){if(this.tooltipService&&this.tooltipService.enabled()){var Y=_.cloneDeep(ie);Y.coordinates=this.fixCoordinates(Y.coordinates),Y.identities=this.deserializeIdentities(ie.identities),this.tooltipService.show(Y)}}moveTooltip(ie){if(this.tooltipService&&this.tooltipService.enabled()){var Y=_.cloneDeep(ie);Y.coordinates=this.fixCoordinates(Y.coordinates),Y.identities=this.deserializeIdentities(ie.identities),this.tooltipService.move(Y)}}hideTooltip(ie){this.tooltipService&&this.tooltipService.enabled()&&this.tooltipService.hide(ie)}getAvailableServicePlans(ie){if(this.telemetryService.logEvent(je.$7,{visualType:this.proxy.plugin.name}),this.logLicensingStandardizedFeatureEvent(je.th),this.licenseService){var Y=(0,G.aM)(this.proxy.plugin.name,this.proxy.isDebug);this.licenseService.getServicePlans(Y).then(Be=>{if(!Be)throw Error("servicePlansResponse is undefined");var{servicePlans:Ze,isLicenseInfoAvailable:ct,isLicenseUnsupported:St}=Be;this.proxy.postMessage("handleLicenseResult",[{promiseId:ie,licenseInfoResult:{plans:Ze,isLicenseUnsupportedEnv:St,isLicenseInfoAvailable:ct}}])}).catch(()=>{this.telemetryService.logEvent(je.L1,{visualType:this.proxy.plugin.name}),this.proxy.postMessage("handleLicenseResult",[{promiseId:ie,licenseInfoResult:void 0}])})}else this.telemetryService.logEvent(je.IC,{visualType:this.proxy.plugin.name}),this.proxy.postMessage("handleLicenseResult",[{promiseId:ie,licenseInfoResult:void 0}])}acquireAADToken(ie){var Y=this;return(0,r.Z)(function*(){var fe=yield Y.customVisualsTokenManagerService.acquireTokenForCustomVisual(Y.proxy.plugin,Y.proxy.isDebug),Be=Y.getAcquireAADTokenResult(fe);Y.proxy.postMessage("handleAcquireAADTokenResult",[{promiseId:ie,data:Be}])})()}getAcquireAADTokenResult(ie){if(ie){var{accessToken:Y,cloudName:fe,expiresOn:Be,userId:Ze,tenantId:ct}=ie;return{accessToken:Y,expiresOn:Be,userInfo:{userId:Ze,tenantId:ct},fabricInfo:{cloudName:fe}}}return{accessToken:null}}getAcquireAADTokenStatus(ie,Y){var fe=this;return(0,r.Z)(function*(){var Be=yield fe.getAcquireAADTokenPrivilegeStatus(),Ze=We[Be];Y({activityAttributesArgs:{status:Ze},telemetryServiceArgs:{status:Ze}}),fe.proxy.postMessage("handleGetAcquireAADTokenStatus",[{promiseId:ie,status:Be}])})()}getAcquireAADTokenPrivilegeStatus(){var ie=this;return(0,r.Z)(function*(){var Y=ie.privilegeService.getAcquireAADTokenStatus(ie.proxy.plugin);return Y!==l.Un.Allowed||(yield ie.isAcquireAADTokenSupported())?Y:l.Un.NotSupported})()}isAcquireAADTokenSupported(){var ie=this;return(0,r.Z)(function*(){return ie.isDebugOrApprovedResource()&&!!(yield ie.privilegeService.getAcquireAADTokenAudience(ie.proxy.plugin,ie.proxy.isDebug))})()}isDebugOrApprovedResource(){return this.proxy.isDebug||this.approvedResourcesService.isApprovedResource(this.proxy.plugin.name)}notifyLicenseRequired(ie,Y){var fe=this;return(0,r.Z)(function*(){var Be={promiseId:Y,licenseNotificationResult:void 0},Ze=yield fe.licenseService.isLicenseUnsupportedEnv();null==ie||Ze!==(ie===ft.X6.UnsupportedEnv)||ie===ft.X6.General&&fe.visualHostServices.getViewMode()!==ft.wO.Edit?Be.licenseNotificationResult=!1:(fe.visualHostServices.onNotifyLicense(ie),Be.licenseNotificationResult=!0),fe.proxy.postMessage("handleLicenseNotificationResult",[Be]);var ct=null==ie?"null":ee[ie];fe.telemetryService.logEvent(je.Fh,{visualType:fe.proxy.plugin.name,notificationType:ct,responseValue:Be.licenseNotificationResult}),fe.logLicensingStandardizedFeatureEvent(je.Yv,{notificationType:ct,responseValue:Be.licenseNotificationResult})})()}notifyFeatureBlocked(ie,Y){var fe=this;return(0,r.Z)(function*(){var Be={promiseId:Y,licenseNotificationResult:void 0};(yield fe.licenseService.isLicenseUnsupportedEnv())?Be.licenseNotificationResult=!1:(fe.visualHostServices.onNotifyFeatureBlocked(ie),Be.licenseNotificationResult=!0),fe.proxy.postMessage("handleLicenseNotificationResult",[Be]),fe.telemetryService.logEvent(je.Px,{visualType:fe.proxy.plugin.name,responseValue:Be.licenseNotificationResult}),fe.logLicensingStandardizedFeatureEvent(je.QC,{responseValue:Be.licenseNotificationResult})})()}clearLicenseNotification(ie){var Y={promiseId:ie,licenseNotificationResult:!0};this.visualHostServices.onClearLicenseNotification(),this.proxy.postMessage("handleLicenseNotificationResult",[Y]),this.telemetryService.logEvent(je.VN,{visualType:this.proxy.plugin.name,responseValue:Y.licenseNotificationResult}),this.logLicensingStandardizedFeatureEvent(je.rY,{responseValue:Y.licenseNotificationResult})}logLicensingStandardizedFeatureEvent(ie,Y){this.certifiedEventsService.logStandardizedFeatureEvent({activityAttributes:Y,activityName:ie,correlationId:this.telemetryService.root?.id,visualId:this.proxy.plugin.name})}loadMoreData(ie){this.canHandleLoadMoreData&&(void 0===ie&&(ie=!0),this.visualAdapterHostServices&&(this.canHandleLoadMoreData=!1,this.visualAdapterHostServices.startProgressBar(),this.visualAdapterHostServices.getNextDataSegment().then(Y=>{if(this.proxy&&this.proxy.plugin&&(0,G.fA)(this.proxy.plugin)&&Y&&Y.result&&Y.result.dataReaderResult&&Y.result.dataReaderResult.dataView){X.f.assert(()=>!!this.dataViewSerializer.identitiesArray,"identitiesArray should be defined because update was called");var fe=this.proxy.plugin,Be=Y.result.dataReaderResult.dataView;Be=(0,Q.nn)({prototype:Be,objectDescriptors:fe.capabilities?fe.capabilities.objects:null,dataViewMappings:fe.capabilities?fe.capabilities.dataViewMappings:null,transforms:this.dataTransforms,colorAllocatorFactory:(0,L.V)(),dataRoles:fe.capabilities?fe.capabilities.dataRoles:null,drillCapabilities:fe.capabilities&&fe.capabilities.drilldown,expandCollapseCapabilties:fe.capabilities&&fe.capabilities.expandCollapse,visualStyle:this.visualStyle,keepAllMetadataColumnsCapability:!!fe.capabilities&&fe.capabilities.keepAllMetadataColumns,featureSwitches:this.featureSwitches}).dataViews[0];var Ze=this.dataViewSerializer.serializeDataViewForCv(Be,fe.capabilities,!0,(0,ot.gt)(fe.apiVersion,"3.5.9"),Y.secondToLastNodesIndex,(0,ot.ge)(fe.apiVersion,"5.3.0"),(0,ot.ge)(fe.apiVersion,"5.9.0"));fe.capabilities&&fe.capabilities.expandCollapse&&this.visualAdapterHostServices.mergeNewSegmentDataView(Y),this.proxy.postMessageAsync("handleLoadMoreDataResult",[Ze,ie,Y.secondToLastNodesIndex]).then(()=>{Y.performanceActivity&&Y.performanceActivity.resolve()})}else this.proxy.postMessageAsync("handleLoadMoreDataResult",[Y&&Y.result,ie,void 0]).then(()=>{Y.performanceActivity&&Y.performanceActivity.resolve()});this.canHandleLoadMoreData=!0}).catch(Y=>{this.visualAdapterHostServices.stopProgressBar(),this.canHandleLoadMoreData=!0})))}getResourceUrl(ie,Y){this.visualHostServices.authenticationService&&this.visualHostServices.authenticationService().getResourceUrl(ie).then(fe=>{this.proxy.postMessage("handleGetResourceUrlResult",[{payload:fe,isError:!1,promiseId:Y}])}).catch(fe=>{this.proxy.postMessage("handleGetResourceUrlResult",[{payload:fe,isError:!0,promiseId:Y}])})}getAADAuthenticationToken(ie,Y){this.visualHostServices.authenticationService&&this.visualHostServices.authenticationService().getAADAuthenticationToken(ie).then(fe=>{this.proxy.postMessage("handleGetAADAuthenticationTokenResult",[{payload:fe.payload,isError:!1,promiseId:Y,resourceUrl:fe.resourceUrl}])}).catch(fe=>{this.proxy.postMessage("handleGetAADAuthenticationTokenResult",[{payload:fe,isError:!0,promiseId:Y}])})}getAADToken(ie,Y){this.visualHostServices.authenticationService&&this.visualHostServices.authenticationService().getAADToken(ie).then(fe=>{this.proxy.postMessage("handleGetAADTokenResult",[{payload:fe,isError:!1,promiseId:Y}])}).catch(fe=>{this.proxy.postMessage("handleGetAADTokenResult",[{payload:fe,isError:!0,promiseId:Y}])})}getWACToken(ie,Y,fe,Be){this.visualHostServices.authenticationService&&this.visualHostServices.authenticationService().getWACToken(ie,Y,fe).then(Ze=>{this.proxy.postMessage("handleGetWACTokenResult",[{payload:Ze.accessToken,wacToken:Ze,isError:!1,promiseId:Be}])}).catch(Ze=>{this.proxy.postMessage("handleGetWACTokenResult",[{payload:Ze,isError:!0,promiseId:Be}])})}launchUrl(ie){this.visualSandboxOptions&&_.isFunction(this.visualSandboxOptions.urlLauncher)&&this.visualSandboxOptions.urlLauncher(ie,this.proxy.plugin.name)}openModalDialog(ie,Y,fe,Be){if(!_.isFunction(this.visualSandboxOptions.openIFrameDialog)||!this.initOptions?.interactivity?.allowModalDialog||ie.length>80||/[^0-9a-zA-Z_ \.]/.test(ie))this.proxy.postMessage("handleModalDialogResult",[{promiseId:Be,isError:!0,data:{error:ce.NotAllowed}}]);else if(et.dialogBlockedVisuals[this.proxy.plugin.name])this.proxy.postMessage("handleModalDialogResult",[{promiseId:Be,isError:!0,data:{error:ce.BlockedByUser}}]);else{Y.position&&Y.position.type===l.jt.RelativeToVisual&&([Y.position.left,Y.position.top]=this.fixCoordinates([Y.position.left,_.clamp(Y.position.top,0,Y.position.top)]));var St=new Dt((0,K.zC)(this.promiseFactory),this.telemetryService,this.proxy.plugin,this.instanceId),Rt=this.proxy.plugin.displayName,kt=this.visualSandboxOptions.dialogSandboxUri,Gt=this.visualSandboxOptions.sandboxPropertiesString,Ht=JSON.stringify(fe),tr=this.generateDialogScript(ie,Ht),ar=this.proxy.plugin.content.css,ze=this.visualSandboxOptions.openIFrameDialog({title:Rt,subTitle:Y.title,iconUrl:this.proxy.plugin.iconUrl,size:Y.size,position:Y.position,actionButtons:Y.actionButtons,sandboxProperties:Gt,iframeSrc:kt,onIframeLoad:Lt=>{Lt.contentWindow&&(St.iframe=Lt,Lt.contentWindow.postMessage({messageType:"DialogContent",style:ar,scriptContent:tr},"*"))},onBlockRequest:Lt=>{et.dialogBlockedVisuals[this.proxy.plugin.name]=Lt},onClose:Lt=>{St.dialog=null,this.proxy.postMessage("handleModalDialogResult",[{promiseId:Be,data:{actionId:Lt,resultState:St.modalDialogState}}]),St.destroy()}});ze?St.dialog=ze:this.proxy.postMessage("handleModalDialogResult",[{promiseId:Be,isError:!0,data:{error:ce.AlreadyOpen}}])}}getLocalStorageStatusInternal(){var ie=this.privilegeService.getLocalStorageStatus(this.proxy.plugin);return ie===l.Un.Allowed&&(ie=this.proxy.isDebug||this.proxy.plugin.developerModeVisual||this.approvedResourcesService.canUseLocalStorage(this.proxy.plugin.name)?l.Un.Allowed:l.Un.DisabledByAdmin),ie}isLocalStoragePermitted(){var ie=this.getLocalStorageStatusInternal(),Y=ie===l.Un.Allowed;return Y||this.logPrivilegesViolation("LocalStorage",ie),Y}getStorageStatus(ie,Y){var Be={promiseId:ie,status:this.getLocalStorageStatusInternal()};Y({telemetryServiceArgs:{isStatusCall:!0},activityAttributesArgs:{isStatusCall:!0}}),this.proxy.postMessage("handleGetStorageStatus",[Be])}getStorageData(ie,Y){if(this.isLocalStoragePermitted()){var fe=ye.getData((0,Ke.bG)()?.puid,this.proxy.plugin.name,ie);this.proxy.postMessage("handleGetStorageData",[{promiseId:Y,data:fe}])}else this.proxy.postMessage("handleGetStorageData",[{promiseId:Y,data:null}])}setStorageData(ie,Y,fe){if(this.isLocalStoragePermitted()){var Be=ye.setData((0,Ke.bG)()?.puid,this.proxy.plugin.name,ie,Y);this.proxy.postMessage("handleSetStorageData",[{promiseId:fe,freeSpace:Be,isError:Be<=0}])}else this.proxy.postMessage("handleSetStorageData",[{promiseId:fe,freeSpace:0,isError:!0}])}removeStorageData(ie){this.isLocalStoragePermitted()&&ye.remove((0,Ke.bG)()?.puid,this.proxy.plugin.name,ie)}getStorageV2Status(ie,Y){var fe=this;return(0,r.Z)(function*(){var Ze={status:yield fe.visualLocalStorageV2ProxyService.getStorageV2Status(fe.proxy.plugin),promiseId:ie};Y({telemetryServiceArgs:{isStatusCall:!0},activityAttributesArgs:{isStatusCall:!0}}),fe.proxy.postMessage("handleGetStorageStatus",[Ze])})()}getStorageV2Data(ie,Y){var fe=this;return(0,r.Z)(function*(){var Be=yield fe.visualLocalStorageV2ProxyService.getStorageV2Data(ie,fe.proxy.plugin),Ze={promiseId:Y,...Be};fe.proxy.postMessage("handleGetStorageV2Data",[Ze])})()}setStorageV2Data(ie,Y,fe){var Be=this;return(0,r.Z)(function*(){var Ze=yield Be.visualLocalStorageV2ProxyService.setStorageV2Data(ie,Y,Be.proxy.plugin),ct={promiseId:fe,...Ze};Be.proxy.postMessage("handleSetStorageV2Data",[ct])})()}removeStorageV2Data(ie){var Y=this;return(0,r.Z)(function*(){Y.visualLocalStorageV2ProxyService.removeStorageV2Data(ie,Y.proxy.plugin)})()}onSecurityPolicyViolation(ie,Y,fe){this.logPrivilegesViolation("WebAccess",this.privilegeService.getWebAccessStatus(this.proxy.plugin,ie),`{"violatedDirective": "${Y}", "blockedURI": "${ie}"}`)}onGlobalUndefinedGet(ie){if(ie.length>256||/[^0-9a-zA-Z_\.]/.test(ie))X.f.assert(()=>!1,"invalid property provided");else if(!ie.startsWith(`powerbi.visuals.plugins.${this.proxy.plugin.name}`)){var fe=`${this.proxy.plugin.name}:${ie}`;et.globalUndefinedGets.has(fe)||(et.globalUndefinedGets.add(fe),this.logUndefinedGet(ie))}}stopProgressBar(){this.visualAdapterHostServices&&this.visualAdapterHostServices.stopProgressBar()}onRestoreSelection(ie){return this.proxy.postMessage("onRestoreSelection",[ie]),!0}onClearSelection(){this.visualSelections=[],this.proxy.postMessage("onRestoreSelection",[])}destroy(){this.dataViewSerializer&&this.dataViewSerializer.flushIdentitiesArray(),this.enumerateObjectRepetitionAsyncPromise&&this.enumerateObjectRepetitionAsyncPromise.resolve(null),this.isDestroyed=!0,this.proxy.postMessage("destroy",[]),this.proxy.destroy()}logPrivilegesViolation(ie,Y,fe){this.telemetryService.logEvent(je.rZ,{visualType:this.proxy.plugin.name,environment:this.visualSandboxOptions?.hostEnv?Pe[this.visualSandboxOptions.hostEnv]:"Undefined",privilege:ie,status:We[Y],parameters:fe})}logUndefinedGet(ie){this.telemetryService.logEvent(je.Pp,{visualType:this.proxy.plugin.name,property:ie,emCVDisableGlobals:!!this.featureSwitchService.featureSwitches.emCVDisableGlobals})}resize(ie){this.viewPortScale=ie.scale,this.element&&!this.isDestroyed&&this.element.children().css({width:ie.width,height:ie.height})}shouldUpdateWithCachedData(ie){return(!ie.visualDefinitionData||!ie.visualDefinitionData.dataViewSource||!this.lastDataViewSource)&&this.dataViewSerializer.flushIdentitiesArray(),ie.visualDefinitionData&&ie.visualDefinitionData.dataViewSource&&ie.visualDefinitionData.dataViewSource===this.lastDataViewSource}generateDialogScript(ie,Y){return this.proxy.plugin.content.js+`\nconst host = {\n                setResult: (result) => {\n                    const msg = JSON.stringify({ eventName: "onDialogSetState", arguments: [result] });\n                    parent.postMessage(msg, "*");\n                },\n                close: (actionId, result) => {\n                    const msg = JSON.stringify({ eventName: "onDialogClose", arguments: [actionId, result] });\n                    parent.postMessage(msg, "*");\n                }\n            };\n\n            const element = document.body;\n            const dialogConstructionOptions = { host: host, element: element };\n            ${this.proxy.plugin.name}.default.createModalDialog('${ie}', dialogConstructionOptions, ${Y});\n\n            const msg = JSON.stringify( {eventName: "onDialogResize", arguments: [document.body.scrollWidth, document.body.scrollHeight] });\n            parent.postMessage(msg, "*");`}applyIdentityFilter(ie,Y,fe,Be){var Ze=ie[0].target;if(!(0,ot.lt)(this.proxy&&this.proxy.plugin&&this.proxy.plugin.apiVersion,"3.9.0")){Be=Ze&&Ze.length>0?ft.Gz.merge:ft.Gz.remove;var St=this.dataViewSerializer.convertOpaqueIdentitiesToScopeIds(Ze);this.visualHostServices.applyIdentityFilter(St,Y,fe,Be)}}applyCustomSort(ie,Y){ie&&ie.sortDescriptors&&this.proxy?.plugin?.capabilities?.sorting?.custom?this.visualHostServices.onCustomSort({sortDescriptors:ie.sortDescriptors,suppressAnnouncements:!0}):Y({telemetryServiceArgs:{aborted:!0}})}}return et.dialogBlockedVisuals={},et.globalUndefinedGets=new Set,(0,i.__decorate)([(0,N.td)(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[Object]),(0,i.__metadata)("design:returntype",void 0)],et.prototype,"onSelect",null),(0,i.__decorate)([(0,N.td)(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[Object]),(0,i.__metadata)("design:returntype",void 0)],et.prototype,"subSelect",null),(0,i.__decorate)([(0,N.td)(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[Array]),(0,i.__metadata)("design:returntype",void 0)],et.prototype,"updateRegionOutlines",null),(0,i.__decorate)([(0,N.td)(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[Object]),(0,i.__metadata)("design:returntype",void 0)],et.prototype,"transformCvSelectionIdsAndSelect",null),(0,i.__decorate)([(0,N.td)(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[Number]),(0,i.__metadata)("design:returntype",void 0)],et.prototype,"onUpdateResult",null),(0,i.__decorate)([(0,N.td)(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[UIEvent]),(0,i.__metadata)("design:returntype",void 0)],et.prototype,"onRelayUIEvent",null),(0,i.__decorate)([(0,N.td)(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[Object]),(0,i.__metadata)("design:returntype",void 0)],et.prototype,"persistProperties",null),(0,i.__decorate)([(0,N.td)(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[Array,String,String,Number]),(0,i.__metadata)("design:returntype",void 0)],et.prototype,"applyJsonFilter",null),(0,i.__decorate)([(0,q.VR)(a.O.HierarchyIdentityFilter,!0),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[Array,String,String,Number,Function]),(0,i.__metadata)("design:returntype",void 0)],et.prototype,"applyHierarchyIdentityFilter",null),(0,i.__decorate)([(0,N.td)(),(0,q.VR)(a.O.DynamicDrillControl,!0),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[Boolean,Function]),(0,i.__metadata)("design:returntype",void 0)],et.prototype,"setCanDrill",null),(0,i.__decorate)([(0,N.td)(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[Object]),(0,i.__metadata)("design:returntype",void 0)],et.prototype,"drill",null),(0,i.__decorate)([(0,N.td)(),(0,q.VR)(a.O.ContextMenu,!0),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[Object,Function]),(0,i.__metadata)("design:returntype",void 0)],et.prototype,"onCustomVisualContextMenu",null),(0,i.__decorate)([(0,N.td)(),(0,q.VR)(a.O.ExpandCollapse,!0),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[Object,Function]),(0,i.__metadata)("design:returntype",void 0)],et.prototype,"onCustomVisualExpandCollapse",null),(0,i.__decorate)([(0,N.td)(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[Number]),(0,i.__metadata)("design:returntype",void 0)],et.prototype,"exportVisualsContentStatus",null),(0,i.__decorate)([(0,N.td)(),(0,q.VR)(a.O.DownloadAFileFromCV,!0),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[String,String,String,String,Number,Function]),(0,i.__metadata)("design:returntype",void 0)],et.prototype,"exportVisualsContent",null),(0,i.__decorate)([(0,N.td)(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[Boolean]),(0,i.__metadata)("design:returntype",void 0)],et.prototype,"onSwitchFocusModeState",null),(0,i.__decorate)([(0,N.td)(),(0,q.VR)(a.O.InformativeIcon,!0),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[String,String,Function]),(0,i.__metadata)("design:returntype",void 0)],et.prototype,"onDisplayWarningIcon",null),(0,i.__decorate)([(0,N.td)(),(0,q.VR)(a.O.ReportTooltips),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[Object]),(0,i.__metadata)("design:returntype",void 0)],et.prototype,"showTooltip",null),(0,i.__decorate)([(0,N.td)(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[Object]),(0,i.__metadata)("design:returntype",void 0)],et.prototype,"moveTooltip",null),(0,i.__decorate)([(0,N.td)(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[Object]),(0,i.__metadata)("design:returntype",void 0)],et.prototype,"hideTooltip",null),(0,i.__decorate)([(0,N.td)(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[Number]),(0,i.__metadata)("design:returntype",void 0)],et.prototype,"getAvailableServicePlans",null),(0,i.__decorate)([(0,N.td)(),(0,q.VR)(a.O.AcquireAADToken),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[Number]),(0,i.__metadata)("design:returntype",Promise)],et.prototype,"acquireAADToken",null),(0,i.__decorate)([(0,N.td)(),(0,q.VR)(a.O.AcquireAADTokenStatus,!0),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[Number,Function]),(0,i.__metadata)("design:returntype",Promise)],et.prototype,"getAcquireAADTokenStatus",null),(0,i.__decorate)([(0,N.td)(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[Number,Number]),(0,i.__metadata)("design:returntype",Promise)],et.prototype,"notifyLicenseRequired",null),(0,i.__decorate)([(0,N.td)(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[String,Number]),(0,i.__metadata)("design:returntype",Promise)],et.prototype,"notifyFeatureBlocked",null),(0,i.__decorate)([(0,N.td)(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[Number]),(0,i.__metadata)("design:returntype",void 0)],et.prototype,"clearLicenseNotification",null),(0,i.__decorate)([(0,N.td)(),(0,q.VR)(a.O.FetchMoreData),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[Boolean]),(0,i.__metadata)("design:returntype",void 0)],et.prototype,"loadMoreData",null),(0,i.__decorate)([(0,N.td)(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[String]),(0,i.__metadata)("design:returntype",void 0)],et.prototype,"launchUrl",null),(0,i.__decorate)([(0,N.td)(),(0,q.VR)(a.O.ModalDialog),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[String,Object,Object,Number]),(0,i.__metadata)("design:returntype",void 0)],et.prototype,"openModalDialog",null),(0,i.__decorate)([(0,N.td)(),(0,q.VR)(a.O.LocalStorage,!0),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[Number,Function]),(0,i.__metadata)("design:returntype",void 0)],et.prototype,"getStorageStatus",null),(0,i.__decorate)([(0,N.td)(),(0,q.VR)(a.O.LocalStorage),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[String,Number]),(0,i.__metadata)("design:returntype",void 0)],et.prototype,"getStorageData",null),(0,i.__decorate)([(0,N.td)(),(0,q.VR)(a.O.LocalStorage),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[String,String,Number]),(0,i.__metadata)("design:returntype",void 0)],et.prototype,"setStorageData",null),(0,i.__decorate)([(0,N.td)(),(0,q.VR)(a.O.LocalStorage),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[String]),(0,i.__metadata)("design:returntype",void 0)],et.prototype,"removeStorageData",null),(0,i.__decorate)([(0,N.td)(),(0,q.VR)(a.O.LocalStorageV2,!0),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[Number,Function]),(0,i.__metadata)("design:returntype",Promise)],et.prototype,"getStorageV2Status",null),(0,i.__decorate)([(0,N.td)(),(0,q.VR)(a.O.LocalStorageV2),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[String,Number]),(0,i.__metadata)("design:returntype",Promise)],et.prototype,"getStorageV2Data",null),(0,i.__decorate)([(0,N.td)(),(0,q.VR)(a.O.LocalStorageV2),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[String,String,Number]),(0,i.__metadata)("design:returntype",Promise)],et.prototype,"setStorageV2Data",null),(0,i.__decorate)([(0,N.td)(),(0,q.VR)(a.O.LocalStorageV2),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[String]),(0,i.__metadata)("design:returntype",Promise)],et.prototype,"removeStorageV2Data",null),(0,i.__decorate)([(0,N.td)(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[String,String,String]),(0,i.__metadata)("design:returntype",void 0)],et.prototype,"onSecurityPolicyViolation",null),(0,i.__decorate)([(0,N.td)(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[String]),(0,i.__metadata)("design:returntype",void 0)],et.prototype,"onGlobalUndefinedGet",null),(0,i.__decorate)([(0,N.td)(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[]),(0,i.__metadata)("design:returntype",void 0)],et.prototype,"stopProgressBar",null),(0,i.__decorate)([(0,N.td)(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[Array,String,String,Number]),(0,i.__metadata)("design:returntype",void 0)],et.prototype,"applyIdentityFilter",null),(0,i.__decorate)([(0,N.td)(),(0,q.VR)(a.O.CustomSorting,!0),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[Object,Function]),(0,i.__metadata)("design:returntype",void 0)],et.prototype,"applyCustomSort",null),et})()},746692:function(ve,j,e){e.d(j,{n:function(){return p}});var r=e(650543),i=e(402623),a=e(257226),t=e(967445),l=e(952363),n="children";class p{constructor(){this.serializeDataViewFromScrathTimes=0,this.matrixIdentityToValueMapper=new Map,this.initializeFields()}serializeDataViewForCv(d,o,v,m,c,C=!1,y=!1){if(v||(this.initializeFields(),this.serializeDataViewFromScrathTimes=(this.serializeDataViewFromScrathTimes+1)%11617),d){d=this.filterDataViewsType(d,o),this.isExpandCollapseSupported=!!d.matrix&&!!o.expandCollapse,this.isExpandCollapseSupported&&(v&&(r.f.assert(()=>!_.isEmpty(c),"lastNodeIndex should be defined and not empty when we load more data"),this.lastNodeIndex=c),d.matrix.rows.levels.forEach((u,f)=>{u.sources&&u.sources[0]&&u.sources[0].queryName&&(this.rowsLevel.length>f?this.rowsLevel[f]=u.sources[0].queryName:this.rowsLevel.push(u.sources[0].queryName))}));var S=this.getValueSource(d),h=this.getValueGroups(d);this.shouldShareIdentityIndexStrategy=C&&!!d.matrix,y&&(y=!!d.matrix&&(0,l.wn)(o));var E=JSON.stringify(d,(u,f)=>this.replacer(u,f,m,y));return r.f.assert(()=>_.isEmpty(this.stackNodeIndex),"stackNodeIndex should be empty"),{valueSource:S,valueGroups:h,stringifiedDataView:E}}}serializeDataViewMetadata(d){return d.metadata?JSON.stringify(d.metadata,(o,v)=>this.replacer(o,v)):null}deserializeDataView(d,o,v=!1,m=[],c=!1){var C;return this.isExpandCollapseSupported=v,this.lastNodeIndex=m,C=o||this.isExpandCollapseSupported&&c?JSON.parse(d.stringifiedDataView,(y,S)=>this.deserializeDataViewHelper(y,S,c)):JSON.parse(d.stringifiedDataView),this.reconstructValuesGroups(C,d),this.reconstructValuesSource(C,d),C}convertOpaqueIdentitiesToScopeIds(d){var o=[];if(d&&d.length>0)for(var v of d){var m=this.replaceOpaqueIndexWithScopeIds(v);m&&(m.opaqueIdentity={identityIndex:v},o.push(m))}return o}getDataViewScopeIdentityByCustomVisualOpaqueIdentity(d){return this.replaceOpaqueIndexWithScopeIds(d.identityIndex)}convertCVSelectionIdToPowerbiSelctionId(d){var o=JSON.parse(JSON.stringify(d),(v,m)=>this.replaceOpaqueIdentitiesWithDataViewScopeIdentities(v,m));return a.l0.createWithSelectorForColumnAndMeasures(o.dataMap,o.measures)}restoreIdentitiesIndexesFromSelectionId(d,o){var v={serializedDataMap:{},measures:d.metadata};return _.map(d.dataMap,(c,C)=>{r.f.assert(()=>c.length<=1,"dataMap can only have one selector per column"),v.serializedDataMap[C]=[{identityIndex:this.ensureIdentityIsMapped(c[0])}]}),v.serializedDataMap=o&&!d.dataMap?null:v.serializedDataMap,v}getNodeIndexOfSelectionId(d){var o=[];if(d&&d.dataMap){if(d.nodeIndexes?.length)return d.nodeIndexes;for(var v in d.dataMap){var m=_.first(d.dataMap[v]).identityIndex;null!=this.identityNodeIndexArray[m]&&o.push(this.identityNodeIndexArray[m])}}return o}sortSelectionIdAccordingToRows(d){if(!d||!d.dataMap)return!1;var o=Object.keys(d.dataMap),v=Object.keys(d.dataMap).sort((C,y)=>this.rowsLevel.indexOf(C)-this.rowsLevel.indexOf(y)),m=!_.isEmpty(v)&&!_.isEmpty(this.rowsLevel)&&v.length<=this.rowsLevel.length&&v.every((C,y)=>C===this.rowsLevel[y]);if(m){var c=d.nodeIndexes;c?.length&&c.length===o.length&&(d.nodeIndexes=Object.entries(c).sort(([C],[y])=>this.rowsLevel.indexOf(o[Number(C)])-this.rowsLevel.indexOf(o[Number(y)])).map(([,C])=>C)),d.dataMap=v.reduce((C,y)=>(C[y]=d.dataMap[y],C),{})}return m}deserializeVisualObjectInstance(d){return JSON.parse(JSON.stringify(d,(o,v)=>this.replaceOpaqueIdentities(v)))}deserializeOpaqueIdentity(d){d?.data&&(d.data=d.data.map(o=>this.replaceOpaqueIdentities(o)))}flushIdentitiesArray(){!this.identitiesArray||0===this.identitiesArray.length||this.identitiesArray.forEach(d=>{d.opaqueIdentity=void 0,d.serializeDataViewFromScrathTimes=void 0})}getCustomVisualOpaqueIdentityByDataViewScopeIdentity(d){return{identityIndex:this.ensureIdentityIsMapped(d)}}getDataViewValueByCustomVisualOpaqueIdentity(d){var{identityIndex:o}=d;if(o>=0)return this.matrixIdentityToValueMapper.get(o)}getValueGroups(d){if(d&&d.categorical&&d.categorical.values&&d.categorical.values.grouped){var o=d.categorical.values.grouped();return JSON.stringify(o,(v,m)=>this.replacer(v,m))}return null}getValueSource(d){return d&&d.categorical&&d.categorical.values&&d.categorical.values.source?d.categorical.values.source:null}deserializeDataViewHelper(d,o,v){if(o&&(v&&this.isExpandCollapseSupported&&!isNaN(parseInt(d,10))&&null!=o.identity?.identityIndex&&(o.nodeIndex=o.nodeIndex??parseInt(d,10)),d===n&&o instanceof Array)){if(v&&this.isExpandCollapseSupported&&!_.isEmpty(o)&&_.first(o).isMerge&&!_.isEmpty(this.lastNodeIndex))for(var m in o){var c=o[m];c.identity&&(c.nodeIndex=c.nodeIndex??Number(m),c.nodeIndex+=this.lastNodeIndex[c.level])}for(var C=0;C<o.length;C++)if(o[C]&&(o[C].isDate&&(o[C].value=new Date(o[C].value)),o[C].values))for(var y in o[C].values)o[C].values[y].isDate&&(o[C].values[y].value=new Date(o[C].values[y].value))}return o}replacer(d,o,v,m=!1){if(o){if(m&&o.levelValues&&this.isDataViewScopeIdentity(o.identity)&&this.valuesStack.push(o.levelValues?.[0]?.value),!this.shouldShareIdentityIndexStrategy&&this.isExpandCollapseSupported&&!isNaN(parseInt(d,10))&&o.identity&&this.isDataViewScopeIdentity(o.identity)&&(this.stackNodeIndex.push(parseInt(d,10)+this.getNodeIndexOffset(o)),o.needOffset&&delete o.needOffset),this.isDataViewScopeIdentity(o)){if(o.serializeDataViewFromScrathTimes===this.serializeDataViewFromScrathTimes&&o.opaqueIdentity&&null!=o.opaqueIdentity.identityIndex){if(this.stackNodeIndex.length){var c=this.stackNodeIndex.pop();null==this.identityNodeIndexArray[o.opaqueIdentity.identityIndex]&&(this.identityNodeIndexArray[o.opaqueIdentity.identityIndex]=c)}return{identityIndex:o.opaqueIdentity.identityIndex}}r.f.assert(()=>_.isEmpty(this.lastNodeIndex)||!_.isEmpty(this.lastNodeIndex)&&null==o.opaqueIdentity,"The new segment's values should not have opaqueIdentity"),o.serializeDataViewFromScrathTimes=this.serializeDataViewFromScrathTimes;var C=-1;return this.shouldShareIdentityIndexStrategy&&(C=this.getIndexOfIdentity(o))>-1?(o.opaqueIdentity={identityIndex:C},this.valuesStack.pop()):(o.opaqueIdentity={identityIndex:this.identitiesArray.length},this.shouldShareIdentityIndexStrategy&&(this.identitiesIndexesMapper[o.key]=this.identitiesArray.length),this.valuesStack.length&&this.matrixIdentityToValueMapper.set(this.identitiesArray.length,this.valuesStack.pop()),this.identitiesArray.push(o)),this.stackNodeIndex.length&&(this.identityNodeIndexArray[o.opaqueIdentity.identityIndex]=this.stackNodeIndex.pop()),o.opaqueIdentity}if(o instanceof Array){var y=[];if(!this.shouldShareIdentityIndexStrategy&&this.isExpandCollapseSupported&&d===n&&o.length&&o[0].isMerge)for(var S of o)S.identity&&(S.needOffset=!0);if(v&&d===n)for(var h=0;h<o.length;h++)if(o[h]&&(o[h].value&&o[h].value instanceof Date&&(o[h].isDate=!0),o[h].values))for(var E in o[h].values)o[h].values[E].value&&o[h].values[E].value instanceof Date&&(o[h].values[E].isDate=!0);return y.push(...o||[]),y}if("object"==typeof o&&!this.dontNeedToClone(o)){var u={};for(var f in o)u[f]=o[f];return u}}return o}replaceOpaqueIdentities(d){if(d){var o=d.identityIndex;if(void 0!==o&&o>=0&&o<this.identitiesArray.length)return(0,t.m)(this.identitiesArray[d.identityIndex])}return d}getNodeIndexOffset(d){return this.isExpandCollapseSupported&&!_.isEmpty(this.lastNodeIndex)&&d.needOffset?(r.f.assert(()=>d.level<this.lastNodeIndex.length,"node's level is too high"),this.lastNodeIndex[d.level]):0}getIndexOfIdentity(d){return this.shouldShareIdentityIndexStrategy?this.identitiesIndexesMapper[d.key]??-1:_.findIndex(this.identitiesArray,v=>(0,i.fS)(v,d))}ensureIdentityIsMapped(d){var o=this.getIndexOfIdentity(d);return-1===o&&(o=this.identitiesArray.length,this.shouldShareIdentityIndexStrategy&&(this.identitiesIndexesMapper[d.key]=o),this.identitiesArray.push(d)),o}replaceOpaqueIdentitiesWithDataViewScopeIdentities(d,o){return o&&void 0!==o.identityIndex?this.identitiesArray[o.identityIndex]:o}filterDataViewsType(d,o){return o.dataViewMappings&&(o.dataViewMappings[0].categorical||(d.categorical=null),o.dataViewMappings[0].matrix||(d.matrix=null),o.dataViewMappings[0].table||(d.table=null),o.dataViewMappings[0].tree||(d.tree=null),o.dataViewMappings[0].single||(d.single=null)),d}dontNeedToClone(d){return d._proto_===Object.prototype||d instanceof Date}isDataViewScopeIdentity(d){return!!(d&&d.expr&&d.key&&d.kind)}reconstructValuesSource(d,o){o&&o.valueSource&&(d.categorical.values.source=o.valueSource)}reconstructValuesGroups(d,o){d&&d.categorical&&d.categorical.values&&d.categorical.values[0]&&(d.categorical.values.grouped=function(){return JSON.parse(o.valueGroups)})}replaceOpaqueIndexWithScopeIds(d){return d>=0&&d<this.identitiesArray.length?this.identitiesArray[d]:null}initializeFields(){this.identitiesArray=[],this.identityNodeIndexArray={},this.stackNodeIndex=[],this.rowsLevel=[],this.lastNodeIndex=[],this.identitiesIndexesMapper={},this.shouldShareIdentityIndexStrategy=!1,this.matrixIdentityToValueMapper.clear(),this.valuesStack=[]}}},971053:function(ve,j,e){e.d(j,{Ml:function(){return o},XS:function(){return d},jz:function(){return v}});var r=e(914156),i=e(121574),a=e(880077),t=["popperViewRef"],l=["*","*"];function g(y,S){if(1&y&&(r.\u0275\u0275elementStart(0,"div",5),r.\u0275\u0275projection(1),r.\u0275\u0275elementEnd()),2&y){var h=r.\u0275\u0275nextContext();r.\u0275\u0275property("innerHTML",h.text,r.\u0275\u0275sanitizeHtml)}}function n(y,S){1&y&&(r.\u0275\u0275elementStart(0,"div",6),r.\u0275\u0275projection(1,1),r.\u0275\u0275elementEnd())}class p{}vr(p,"CLICK","click"),vr(p,"HOVER","hover"),vr(p,"MOUSEDOWN","mousedown"),vr(p,"NONE","none");class s{}vr(s,"Top","top"),vr(s,"Bottom","bottom"),vr(s,"Left","left"),vr(s,"Right","right"),vr(s,"TopStart","top-start"),vr(s,"BottomStart","bottom-start"),vr(s,"LeftStart","left-start"),vr(s,"RightStart","right-start"),vr(s,"TopEnd","top-end"),vr(s,"BottomEnd","bottom-end"),vr(s,"LeftEnd","left-end"),vr(s,"RightEnd","right-end"),vr(s,"Auto","auto"),vr(s,"AutoStart","auto-start"),vr(s,"AutoEnd","auto-end");const m=class{constructor(S,h,E,u){vr(this,"elemRef"),vr(this,"renderer"),vr(this,"viewRef"),vr(this,"CDR"),vr(this,"popperOptions",{disableAnimation:!1,disableDefaultStyling:!1,placement:s.Auto,boundariesElement:"",trigger:p.HOVER,positionFixed:!1,appendToBody:!1,popperModifiers:{}}),vr(this,"referenceObject"),vr(this,"isMouseOver",!1),vr(this,"onHidden",new r.EventEmitter),vr(this,"text"),vr(this,"popperInstance"),vr(this,"displayType","none"),vr(this,"opacity",0),vr(this,"ariaHidden","true"),vr(this,"arrowColor",null),vr(this,"onUpdate"),vr(this,"state",!0),vr(this,"globalResize"),vr(this,"popperViewRef"),this.elemRef=S,this.renderer=h,this.viewRef=E,this.CDR=u}onMouseOver(){this.isMouseOver=!0}showOnLeave(){this.isMouseOver=!1,(this.popperOptions.trigger===p.HOVER||this.popperOptions.hideOnMouseLeave)&&this.hide()}onDocumentResize(){this.update()}ngOnDestroy(){this.clean(),this.popperOptions.appendTo&&this.elemRef&&this.elemRef.nativeElement&&this.elemRef.nativeElement.parentNode&&(this.viewRef.detach(),this.elemRef.nativeElement.parentNode.removeChild(this.elemRef.nativeElement))}clean(){this.toggleVisibility(!1),this.popperInstance&&(this.popperInstance.disableEventListeners(),this.popperInstance.destroy())}show(){if(this.referenceObject){var S=this.popperOptions.appendTo&&document.querySelector(this.popperOptions.appendTo);S&&this.elemRef.nativeElement.parentNode!==S&&(this.elemRef.nativeElement.parentNode&&this.elemRef.nativeElement.parentNode.removeChild(this.elemRef.nativeElement),S.appendChild(this.elemRef.nativeElement));var h={placement:this.popperOptions.placement,positionFixed:this.popperOptions.positionFixed,modifiers:{arrow:{element:this.popperViewRef.nativeElement.querySelector(".ngxp__arrow")}}};this.onUpdate&&(h.onUpdate=this.onUpdate);var E=this.popperOptions.boundariesElement&&document.querySelector(this.popperOptions.boundariesElement);h.modifiers&&E&&(h.modifiers.preventOverflow={boundariesElement:E}),h.modifiers&&void 0!==this.popperOptions.preventOverflow&&(h.modifiers.preventOverflow=h.modifiers.preventOverflow||{},h.modifiers.preventOverflow.enabled=this.popperOptions.preventOverflow,h.modifiers.preventOverflow.enabled||(h.modifiers.hide={enabled:!1})),this.determineArrowColor(),h.modifiers=Object.assign(h.modifiers,this.popperOptions.popperModifiers),this.popperInstance=new i.Z(this.referenceObject,this.popperViewRef.nativeElement,h),this.popperInstance.enableEventListeners(),this.scheduleUpdate(),this.toggleVisibility(!0),this.globalResize=this.renderer.listen("document","resize",this.onDocumentResize.bind(this))}}determineArrowColor(){["background-color","backgroundColor"].some(S=>!(!this.popperOptions.styles||!this.popperOptions.styles.hasOwnProperty(S)||(this.arrowColor=this.popperOptions.styles[S],0)))}update(){this.popperInstance&&this.popperInstance.update()}scheduleUpdate(){this.popperInstance&&this.popperInstance.scheduleUpdate()}hide(){this.popperInstance&&this.popperInstance.destroy(),this.toggleVisibility(!1),this.onHidden.emit()}toggleVisibility(S){S?(this.opacity=1,this.displayType="block",this.ariaHidden="false"):(this.opacity=0,this.displayType="none",this.ariaHidden="true"),this.CDR.destroyed||this.CDR.detectChanges()}extractAppliedClassListExpr(S){if(!S||"string"!=typeof S)return null;try{return S.replace(/ /,"").split(",").reduce((h,E)=>(h[E]=!0,h),{})}catch{return null}}clearGlobalResize(){this.globalResize&&"function"==typeof this.globalResize&&this.globalResize()}};vr(m,"\u0275fac",function(h){return new(h||m)(r.\u0275\u0275directiveInject(r.ElementRef),r.\u0275\u0275directiveInject(r.Renderer2),r.\u0275\u0275directiveInject(r.ViewContainerRef),r.\u0275\u0275directiveInject(r.ChangeDetectorRef))}),vr(m,"\u0275cmp",r.\u0275\u0275defineComponent({type:m,selectors:[["popper-content"]],viewQuery:function(h,E){var u;1&h&&r.\u0275\u0275viewQuery(t,5),2&h&&r.\u0275\u0275queryRefresh(u=r.\u0275\u0275loadQuery())&&(E.popperViewRef=u.first)},hostBindings:function(h,E){1&h&&r.\u0275\u0275listener("mouseover",function(){return E.onMouseOver()})("mouseleave",function(){return E.showOnLeave()})},ngContentSelectors:l,decls:5,vars:20,consts:[["popperViewRef",""],[3,"ngStyle","ngClass"],["class","ngxp__inner",3,"innerHTML",4,"ngIf"],["class","ngxp__inner",4,"ngIf"],[1,"ngxp__arrow",3,"ngClass"],[1,"ngxp__inner",3,"innerHTML"],[1,"ngxp__inner"]],template:function(h,E){1&h&&(r.\u0275\u0275projectionDef(l),r.\u0275\u0275elementStart(0,"div",1,0),r.\u0275\u0275template(2,g,2,1,"div",2)(3,n,2,0,"div",3),r.\u0275\u0275element(4,"div",4),r.\u0275\u0275elementEnd()),2&h&&(r.\u0275\u0275styleProp("display",E.displayType)("opacity",E.opacity),r.\u0275\u0275classProp("ngxp__container",!E.popperOptions.disableDefaultStyling)("ngxp__animation",!E.popperOptions.disableAnimation),r.\u0275\u0275property("ngStyle",E.popperOptions.styles)("ngClass",E.extractAppliedClassListExpr(E.popperOptions.applyClass)),r.\u0275\u0275attribute("aria-hidden",E.ariaHidden)("aria-describedby",E.popperOptions.ariaDescribe||null)("role",E.popperOptions.ariaRole),r.\u0275\u0275advance(2),r.\u0275\u0275property("ngIf",E.text),r.\u0275\u0275advance(),r.\u0275\u0275property("ngIf",!E.text),r.\u0275\u0275advance(),r.\u0275\u0275styleProp("border-color",E.arrowColor),r.\u0275\u0275classProp("__force-arrow",E.arrowColor),r.\u0275\u0275property("ngClass",E.extractAppliedClassListExpr(E.popperOptions.applyArrowClass)))},dependencies:[a.NgClass,a.NgIf,a.NgStyle],styles:[".ngxp__container{display:none;position:absolute;border-radius:3px;border:1px solid grey;box-shadow:0 0 2px #00000080;padding:10px}.ngxp__container.ngxp__animation{-webkit-animation:ngxp-fadeIn .15s ease-out;-moz-animation:ngxp-fadeIn .15s ease-out;-o-animation:ngxp-fadeIn .15s ease-out;animation:ngxp-fadeIn .15s ease-out}.ngxp__container>.ngxp__arrow{border-color:gray;width:0;height:0;border-style:solid;position:absolute;margin:5px}.ngxp__container[x-placement^=top],.ngxp__container[x-placement^=bottom],.ngxp__container[x-placement^=right],.ngxp__container[x-placement^=left]{display:block}.ngxp__container[x-placement^=top]{margin-bottom:5px}.ngxp__container[x-placement^=top]>.ngxp__arrow{border-width:5px 5px 0 5px;border-right-color:transparent;border-bottom-color:transparent;border-left-color:transparent;bottom:-5px;left:calc(50% - 5px);margin-top:0;margin-bottom:0}.ngxp__container[x-placement^=top]>.ngxp__arrow.__force-arrow{border-right-color:transparent!important;border-bottom-color:transparent!important;border-left-color:transparent!important}.ngxp__container[x-placement^=bottom]{margin-top:5px}.ngxp__container[x-placement^=bottom]>.ngxp__arrow{border-width:0 5px 5px 5px;border-top-color:transparent;border-right-color:transparent;border-left-color:transparent;top:-5px;left:calc(50% - 5px);margin-top:0;margin-bottom:0}.ngxp__container[x-placement^=bottom]>.ngxp__arrow.__force-arrow{border-top-color:transparent!important;border-right-color:transparent!important;border-left-color:transparent!important}.ngxp__container[x-placement^=right]{margin-left:5px}.ngxp__container[x-placement^=right]>.ngxp__arrow{border-width:5px 5px 5px 0;border-top-color:transparent;border-bottom-color:transparent;border-left-color:transparent;left:-5px;top:calc(50% - 5px);margin-left:0;margin-right:0}.ngxp__container[x-placement^=right]>.ngxp__arrow.__force-arrow{border-top-color:transparent!important;border-bottom-color:transparent!important;border-left-color:transparent!important}.ngxp__container[x-placement^=left]{margin-right:5px}.ngxp__container[x-placement^=left]>.ngxp__arrow{border-width:5px 0 5px 5px;border-top-color:transparent;border-bottom-color:transparent;border-right-color:transparent;right:-5px;top:calc(50% - 5px);margin-left:0;margin-right:0}.ngxp__container[x-placement^=left]>.ngxp__arrow.__force-arrow{border-top-color:transparent!important;border-bottom-color:transparent!important;border-right-color:transparent!important}@-webkit-keyframes ngxp-fadeIn{0%{display:none;opacity:0}1%{display:block;opacity:0}to{display:block;opacity:1}}@keyframes ngxp-fadeIn{0%{display:none;opacity:0}1%{display:block;opacity:0}to{display:block;opacity:1}}\n"],encapsulation:2,changeDetection:0}));let d=m;const c=class c{constructor(S,h,E,u,f,b={}){vr(this,"viewContainerRef"),vr(this,"changeDetectorRef"),vr(this,"resolver"),vr(this,"elementRef"),vr(this,"renderer"),vr(this,"popperDefaults"),vr(this,"popperContentClass",d),vr(this,"popperContentRef"),vr(this,"shown",!1),vr(this,"scheduledShowTimeout"),vr(this,"scheduledHideTimeout"),vr(this,"subscriptions",[]),vr(this,"eventListeners",[]),vr(this,"globalEventListeners",[]),vr(this,"popperContent"),vr(this,"content"),vr(this,"disabled"),vr(this,"placement"),vr(this,"showTrigger"),vr(this,"targetElement"),vr(this,"showDelay"),vr(this,"hideTimeout",0),vr(this,"timeoutAfterShow",0),vr(this,"boundariesElement"),vr(this,"showOnStart"),vr(this,"closeOnClickOutside"),vr(this,"hideOnClickOutside"),vr(this,"hideOnScroll"),vr(this,"hideOnMouseLeave"),vr(this,"positionFixed"),vr(this,"popperModifiers"),vr(this,"disableStyle"),vr(this,"disableAnimation"),vr(this,"applyClass"),vr(this,"applyArrowClass"),vr(this,"ariaDescribe"),vr(this,"ariaRole"),vr(this,"styles"),vr(this,"appendTo"),vr(this,"preventOverflow"),vr(this,"popperOnShown",new r.EventEmitter),vr(this,"popperOnHidden",new r.EventEmitter),vr(this,"popperOnUpdate",new r.EventEmitter),this.viewContainerRef=S,this.changeDetectorRef=h,this.resolver=E,this.elementRef=u,this.renderer=f,this.popperDefaults=b,c.baseOptions={...c.baseOptions,...this.popperDefaults}}hideOnClickOutsideHandler(S){this.disabled||!this.hideOnClickOutside||S.srcElement&&S.srcElement===this.popperContent.elemRef.nativeElement||this.popperContent.elemRef.nativeElement.contains(S.srcElement)||this.scheduledHide(S,this.hideTimeout)}hideOnScrollHandler(S){this.disabled||!this.hideOnScroll||this.scheduledHide(S,this.hideTimeout)}applyTriggerListeners(){switch(this.showTrigger){case p.CLICK:this.eventListeners.push(this.renderer.listen(this.elementRef.nativeElement,"click",this.toggle.bind(this)));break;case p.MOUSEDOWN:this.eventListeners.push(this.renderer.listen(this.elementRef.nativeElement,"mousedown",this.toggle.bind(this)));break;case p.HOVER:this.eventListeners.push(this.renderer.listen(this.elementRef.nativeElement,"mouseenter",this.scheduledShow.bind(this,this.showDelay))),this.eventListeners.push(this.renderer.listen(this.elementRef.nativeElement,"touchend",this.scheduledHide.bind(this,null,this.hideTimeout))),this.eventListeners.push(this.renderer.listen(this.elementRef.nativeElement,"touchcancel",this.scheduledHide.bind(this,null,this.hideTimeout))),this.eventListeners.push(this.renderer.listen(this.elementRef.nativeElement,"mouseleave",this.scheduledHide.bind(this,null,this.hideTimeout)))}this.showTrigger!==p.HOVER&&this.hideOnMouseLeave&&(this.eventListeners.push(this.renderer.listen(this.elementRef.nativeElement,"touchend",this.scheduledHide.bind(this,null,this.hideTimeout))),this.eventListeners.push(this.renderer.listen(this.elementRef.nativeElement,"touchcancel",this.scheduledHide.bind(this,null,this.hideTimeout))),this.eventListeners.push(this.renderer.listen(this.elementRef.nativeElement,"mouseleave",this.scheduledHide.bind(this,null,this.hideTimeout))))}static assignDefined(S,...h){for(var E of h)for(var u of Object.keys(E)){var f=E[u];void 0!==f&&(S[u]=f)}return S}ngOnInit(){if(this.hideOnClickOutside=typeof this.hideOnClickOutside>"u"?this.closeOnClickOutside:this.hideOnClickOutside,"string"==typeof this.content){var S=this.content;this.popperContent=this.constructContent(),this.popperContent.text=S}else this.popperContent=this.content;var h=this.popperContent;h.referenceObject=this.getRefElement(),this.setContentProperties(h),this.setDefaults(),this.applyTriggerListeners(),this.showOnStart&&this.scheduledShow()}ngOnChanges(S){S.popperDisabled&&S.popperDisabled.currentValue&&this.hide(),S.content&&!S.content.firstChange&&"string"==typeof S.content.currentValue&&(this.popperContent.text=S.content.currentValue),S.applyClass&&!S.applyClass.firstChange&&"string"==typeof S.applyClass.currentValue&&(this.popperContent.popperOptions.applyClass=S.applyClass.currentValue),S.applyArrowClass&&!S.applyArrowClass.firstChange&&"string"==typeof S.applyArrowClass.currentValue&&(this.popperContent.popperOptions.applyArrowClass=S.applyArrowClass.currentValue)}ngOnDestroy(){this.subscriptions.forEach(S=>S.unsubscribe&&S.unsubscribe()),this.subscriptions.length=0,this.clearEventListeners(),this.clearGlobalEventListeners(),clearTimeout(this.scheduledShowTimeout),clearTimeout(this.scheduledHideTimeout),this.popperContent&&this.popperContent.clean()}toggle(){this.disabled||(this.shown?this.scheduledHide(null,this.hideTimeout):this.scheduledShow())}show(){if(this.shown)this.overrideHideTimeout();else{this.shown=!0;var S=this.popperContent,h=this.getRefElement();S.referenceObject!==h&&(S.referenceObject=h),this.setContentProperties(S),S.show(),this.popperOnShown.emit(this),this.timeoutAfterShow>0&&this.scheduledHide(null,this.timeoutAfterShow),this.globalEventListeners.push(this.renderer.listen("document","touchend",this.hideOnClickOutsideHandler.bind(this))),this.globalEventListeners.push(this.renderer.listen("document","click",this.hideOnClickOutsideHandler.bind(this))),this.globalEventListeners.push(this.renderer.listen(this.getScrollParent(this.getRefElement()),"scroll",this.hideOnScrollHandler.bind(this)))}}hide(){if(!this.disabled){if(!this.shown)return void this.overrideShowTimeout();this.shown=!1,this.popperContentRef?this.popperContentRef.instance.hide():this.popperContent.hide(),this.popperOnHidden.emit(this),this.clearGlobalEventListeners()}}scheduledShow(S=this.showDelay){this.disabled||(this.overrideHideTimeout(),this.scheduledShowTimeout=setTimeout(()=>{this.show(),this.applyChanges()},S))}scheduledHide(S=null,h=this.hideTimeout){this.disabled||(this.overrideShowTimeout(),this.scheduledHideTimeout=setTimeout(()=>{var E=S?S.toElement:null,u=!!this.popperContent.popperViewRef&&this.popperContent.popperViewRef.nativeElement;!u||u===E||u.contains(E)||this.content.isMouseOver||(this.hide(),this.applyChanges())},h))}getRefElement(){return this.targetElement||this.viewContainerRef.element.nativeElement}applyChanges(){this.changeDetectorRef.markForCheck(),this.changeDetectorRef.detectChanges()}setDefaults(){this.showDelay=typeof this.showDelay>"u"?c.baseOptions.showDelay:this.showDelay,this.showTrigger=typeof this.showTrigger>"u"?c.baseOptions.trigger:this.showTrigger,this.hideOnClickOutside=typeof this.hideOnClickOutside>"u"?c.baseOptions.hideOnClickOutside:this.hideOnClickOutside,this.hideOnScroll=typeof this.hideOnScroll>"u"?c.baseOptions.hideOnScroll:this.hideOnScroll,this.hideOnMouseLeave=typeof this.hideOnMouseLeave>"u"?c.baseOptions.hideOnMouseLeave:this.hideOnMouseLeave,this.ariaRole=typeof this.ariaRole>"u"?c.baseOptions.ariaRole:this.ariaRole,this.ariaDescribe=typeof this.ariaDescribe>"u"?c.baseOptions.ariaDescribe:this.ariaDescribe,this.styles=typeof this.styles>"u"?Object.assign({},c.baseOptions.styles):this.styles}clearEventListeners(){this.eventListeners.forEach(S=>{S&&"function"==typeof S&&S()}),this.eventListeners.length=0}clearGlobalEventListeners(){this.globalEventListeners.forEach(S=>{S&&"function"==typeof S&&S()}),this.globalEventListeners.length=0}overrideShowTimeout(){this.scheduledShowTimeout&&(clearTimeout(this.scheduledShowTimeout),this.scheduledHideTimeout=0)}overrideHideTimeout(){this.scheduledHideTimeout&&(clearTimeout(this.scheduledHideTimeout),this.scheduledHideTimeout=0)}constructContent(){var S=this.resolver.resolveComponentFactory(this.popperContentClass);return this.popperContentRef=this.viewContainerRef.createComponent(S),this.popperContentRef.instance}setContentProperties(S){S.popperOptions=c.assignDefined(S.popperOptions,c.baseOptions,{showDelay:this.showDelay,disableAnimation:this.disableAnimation,disableDefaultStyling:this.disableStyle,placement:this.placement,boundariesElement:this.boundariesElement,trigger:this.showTrigger,positionFixed:this.positionFixed,popperModifiers:this.popperModifiers,ariaDescribe:this.ariaDescribe,ariaRole:this.ariaRole,applyClass:this.applyClass,applyArrowClass:this.applyArrowClass,hideOnMouseLeave:this.hideOnMouseLeave,styles:this.styles,appendTo:this.appendTo,preventOverflow:this.preventOverflow}),S.onUpdate=this.onPopperUpdate.bind(this),this.subscriptions.push(S.onHidden.subscribe(this.hide.bind(this)))}getScrollParent(S){var E=S instanceof HTMLElement&&window.getComputedStyle(S).overflowY;return S?"visible"!==E&&"hidden"!==E&&S.scrollHeight>=S.clientHeight?S:this.getScrollParent(S.parentNode)||document:null}onPopperUpdate(S){this.popperOnUpdate.emit(S)}};vr(c,"baseOptions",{showDelay:0,placement:s.Auto,hideOnClickOutside:!0,hideOnMouseLeave:!1,hideOnScroll:!1,showTrigger:p.HOVER,appendTo:void 0,ariaRole:"popper",ariaDescribe:"",styles:{}}),vr(c,"\u0275fac",function(h){return new(h||c)(r.\u0275\u0275directiveInject(r.ViewContainerRef),r.\u0275\u0275directiveInject(r.ChangeDetectorRef),r.\u0275\u0275directiveInject(r.ComponentFactoryResolver),r.\u0275\u0275directiveInject(r.ElementRef),r.\u0275\u0275directiveInject(r.Renderer2),r.\u0275\u0275directiveInject("popperDefaults"))}),vr(c,"\u0275dir",r.\u0275\u0275defineDirective({type:c,selectors:[["","popper",""]],inputs:{content:[r.\u0275\u0275InputFlags.None,"popper","content"],disabled:[r.\u0275\u0275InputFlags.None,"popperDisabled","disabled"],placement:[r.\u0275\u0275InputFlags.None,"popperPlacement","placement"],showTrigger:[r.\u0275\u0275InputFlags.None,"popperTrigger","showTrigger"],targetElement:[r.\u0275\u0275InputFlags.None,"popperTarget","targetElement"],showDelay:[r.\u0275\u0275InputFlags.None,"popperDelay","showDelay"],hideTimeout:[r.\u0275\u0275InputFlags.None,"popperTimeout","hideTimeout"],timeoutAfterShow:[r.\u0275\u0275InputFlags.None,"popperTimeoutAfterShow","timeoutAfterShow"],boundariesElement:[r.\u0275\u0275InputFlags.None,"popperBoundaries","boundariesElement"],showOnStart:[r.\u0275\u0275InputFlags.None,"popperShowOnStart","showOnStart"],closeOnClickOutside:[r.\u0275\u0275InputFlags.None,"popperCloseOnClickOutside","closeOnClickOutside"],hideOnClickOutside:[r.\u0275\u0275InputFlags.None,"popperHideOnClickOutside","hideOnClickOutside"],hideOnScroll:[r.\u0275\u0275InputFlags.None,"popperHideOnScroll","hideOnScroll"],hideOnMouseLeave:[r.\u0275\u0275InputFlags.None,"popperHideOnMouseLeave","hideOnMouseLeave"],positionFixed:[r.\u0275\u0275InputFlags.None,"popperPositionFixed","positionFixed"],popperModifiers:"popperModifiers",disableStyle:[r.\u0275\u0275InputFlags.None,"popperDisableStyle","disableStyle"],disableAnimation:[r.\u0275\u0275InputFlags.None,"popperDisableAnimation","disableAnimation"],applyClass:[r.\u0275\u0275InputFlags.None,"popperApplyClass","applyClass"],applyArrowClass:[r.\u0275\u0275InputFlags.None,"popperApplyArrowClass","applyArrowClass"],ariaDescribe:[r.\u0275\u0275InputFlags.None,"popperAriaDescribeBy","ariaDescribe"],ariaRole:[r.\u0275\u0275InputFlags.None,"popperAriaRole","ariaRole"],styles:[r.\u0275\u0275InputFlags.None,"popperStyles","styles"],appendTo:[r.\u0275\u0275InputFlags.None,"popperAppendTo","appendTo"],preventOverflow:[r.\u0275\u0275InputFlags.None,"popperPreventOverflow","preventOverflow"]},outputs:{popperOnShown:"popperOnShown",popperOnHidden:"popperOnHidden",popperOnUpdate:"popperOnUpdate"},exportAs:["popper"],features:[r.\u0275\u0275NgOnChangesFeature]}));let o=c;const C=class C{ngDoBootstrap(){}static forRoot(S={}){return{ngModule:C,providers:[{provide:"popperDefaults",useValue:S}]}}};vr(C,"\u0275fac",function(h){return new(h||C)}),vr(C,"\u0275mod",r.\u0275\u0275defineNgModule({type:C})),vr(C,"\u0275inj",r.\u0275\u0275defineInjector({providers:[{provide:"popperDefaults",useValue:{}}],imports:[a.CommonModule]}));let v=C},334467:function(ve){ve.exports={w:"1.39"}},691519:function(ve){ve.exports={L:"5.63"}}}]),this.parseTimeMarkers=this.parseTimeMarkers||{},(marker=this.parseTimeMarkers["web.clients.js"]||{}).endEval=window.jsCommon&&window.jsCommon.performance&&window.jsCommon.performance.now?window.jsCommon.performance.now():Date.now(),marker.isExternal=!0;